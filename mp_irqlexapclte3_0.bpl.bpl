var {:scalar} alloc: int;

var {:scalar} sdv_irql_previous_5: int;

var {:scalar} sdv_irql_previous_2: int;

var {:scalar} sdv_irql_current: int;

var {:scalar} sdv_irql_previous: int;

var {:scalar} sdv_irql_previous_4: int;

var {:scalar} sdv_irql_previous_3: int;

var {:scalar} yogi_error: int;

var {:scalar} Mem_T.INT4: [int]int;

procedure corral_nondet() returns ({:scalar} x: int);



procedure boogie_si_record_li2bpl_int(x: int);



const alloc_init: int;

procedure {:allocator} __HAVOC_malloc(size: int) returns (ret: int);
  free requires size >= 0;
  modifies alloc;
  free ensures ret == old(alloc);
  free ensures alloc >= old(alloc) + size;



procedure {:allocator "full"} __HAVOC_malloc_or_null(size: int) returns (ret: int);
  free requires size >= 0;
  modifies alloc;
  free ensures ret == old(alloc) || ret == 0;
  free ensures alloc >= old(alloc) + size;



const {:allocated} NULL: int;

axiom NULL == 0;

function BAND(a: int, b: int) : int;

function BOR(a: int, b: int) : int;

function BNOT(a: int) : int;

function INTDIV(a: int, b: int) : int;

function INTMOD(a: int, b: int) : int;

const WHEA_ERROR_PACKET_SECTION_GUID: int;

const FatNonPagedFcbLookasideList: int;

const FatJanOne1980: int;

const NlsMbOemCodePageTag: int;

const FatIrpContextLookasideList: int;

const FsRtlLegalAnsiCharacterArray: int;

const FatMaxLarge: int;

const FatEResourceLookasideList: int;

const FatData: int;

const FatCloseContextSList: int;

const FatLargeZero: int;

const FatReserveMdl: int;

const FatSecurityPrivilege: int;

const FatTimeJanOne1980: int;

const FatOneDay: int;

const FatDecThirtyOne1979: int;

const sdv_IoBuildSynchronousFsdRequest_irp: int;

const sdv_harnessStackLocation_next: int;

const sdv_other_irp: int;

const sdv_IoBuildDeviceIoControlRequest_irp: int;

const sdv_harnessDeviceExtension_two: int;

const sdv_pv1: int;

const sdv_IoReadPartitionTableEx_DRIVE_LAYOUT_INFORMATION_EX: int;

const sdv_IoBuildAsynchronousFsdRequest_harnessIrp: int;

const sdv_kdpc3: int;

const sdv_p_devobj_pdo: int;

const sdv_kinterrupt: int;

const sdv_start_irp_already_issued: int;

const sdv_kdpc: int;

const sdv_IoGetDeviceToVerify_DEVICE_OBJECT: int;

const sdv_p_devobj_child_pdo: int;

const sdv_IoBuildDeviceIoControlRequest_harnessStackLocation_next: int;

const sdv_IoBuildAsynchronousFsdRequest_irp: int;

const sdv_dpc_ke_registered: int;

const sdv_harness_IoBuildSynchronousFsdRequest_IoStatusBlock: int;

const sdv_ControllerIrp: int;

const sdv_devobj_pdo: int;

const sdv_Io_Removelock_release_wait_returned: int;

const sdv_IoGetDmaAdapter_DMA_ADAPTER: int;

const sdv_IoInitializeIrp_harnessIrp: int;

const sdv_ke_dpc: int;

const sdv_isr_routine: int;

const sdv_IoGetRelatedDeviceObject_DEVICE_OBJECT: int;

const sdv_irp: int;

const sdv_IoBuildSynchronousFsdRequest_harnessStackLocation_next: int;

const sdv_IoCreateSynchronizationEvent_KEVENT: int;

const sdv_ControllerPirp: int;

const sdv_other_harnessStackLocation_next: int;

const sdv_harnessStackLocation: int;

const sdv_IoCreateController_CONTROLLER_OBJECT: int;

const sdv_devobj_top: int;

const sdv_pv2: int;

const sdv_kdpc_val3: int;

const sdv_IoBuildSynchronousFsdRequest_harnessIrp: int;

const sdv_IoGetDeviceObjectPointer_DEVICE_OBJECT: int;

const sdv_MapRegisterBase_val: int;

const sdv_IoGetFileObjectGenericMapping_GENERIC_MAPPING: int;

const sdv_IoMakeAssociatedIrp_harnessIrp: int;

const sdv_power_irp: int;

const sdv_devobj_child_pdo: int;

const sdv_harnessIrp: int;

const sdv_pIoDpcContext: int;

const sdv_IoBuildAsynchronousFsdRequest_harnessStackLocation_next: int;

const sdv_harness_IoBuildDeviceIoControlRequest_IoStatusBlock: int;

const sdv_io_dpc: int;

const sdv_kinterrupt_val: int;

const sdv_StartIopirp: int;

const sdv_devobj_fdo: int;

const sdv_pDpcContext: int;

const sdv_harnessDeviceExtension: int;

const sdv_StartIoIrp: int;

const igdoe: int;

const sdv_p_devobj_fdo: int;

const sdv_MapRegisterBase: int;

const sdv_apc_disabled: int;

const sdv_harness_IoBuildAsynchronousFsdRequest_IoStatusBlock: int;

const sdv_p_devobj_top: int;

const sicrni: int;

const sdv_PowerIrp: int;

const sdv_IoBuildDeviceIoControlRequest_harnessIrp: int;

const sdv_IoMakeAssociatedIrp_irp: int;

const sdv_other_harnessIrp: int;

const sdv_IoInitializeIrp_irp: int;

const sdv_inside_init_entrypoint: int;

const sdv_IoCreateNotificationEvent_KEVENT: int;

const sdv_other_harnessStackLocation: int;

const sdv_maskedEflags: int;

const sdv_MmMapIoSpace_int: int;

const FatFastIoDispatch: int;

const FatDiskFileSystemDeviceObject: int;

const FatCdromFileSystemDeviceObject: int;

const FatReserveEvent: int;

const FatCloseQueueMutex: int;

const Fat30Milliseconds: int;

const IoFileObjectType: int;

const FatNoAsync: int;

const NlsOemLeadByteInfo: int;

const FatMagic86400000: int;

const Fat100Milliseconds: int;

const FatMagic10000: int;

const sdv_cancelFptr: int;

const SeExports: int;

procedure {:origName "FatDeleteVcb"} FatDeleteVcb(actual_IrpContext: int, actual_Vcb: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteVcb"} FatDeleteVcb(actual_IrpContext: int, actual_Vcb: int)
{
  var {:pointer} Fcb: int;
  var {:pointer} Tmp_14: int;
  var {:pointer} IrpContext: int;
  var {:pointer} Vcb: int;
  var vslice_dummy_var_0: int;
  var vslice_dummy_var_1: int;
  var vslice_dummy_var_2: int;
  var vslice_dummy_var_3: int;
  var vslice_dummy_var_4: int;
  var vslice_dummy_var_5: int;
  var vslice_dummy_var_6: int;
  var vslice_dummy_var_7: int;
  var vslice_dummy_var_8: int;
  var vslice_dummy_var_9: int;

  anon0:
    call {:si_unique_call 0} vslice_dummy_var_0 := __HAVOC_malloc(4);
    IrpContext := actual_IrpContext;
    Vcb := actual_Vcb;
    assume {:nonnull} IrpContext != 0;
    assume IrpContext > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:nonnull} IrpContext != 0;
    assume IrpContext > 0;
    goto L5;

  L5:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    call {:si_unique_call 1} sdv_ExFreePool(0);
    goto L7;

  L7:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    call {:si_unique_call 2} sdv_ExFreePool(0);
    goto L11;

  L11:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    call {:si_unique_call 3} sdv_ExFreePool(0);
    goto L15;

  L15:
    call {:si_unique_call 4} vslice_dummy_var_1 := sdv_RemoveEntryList(0);
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    goto L23;

  L23:
    call {:si_unique_call 5} KeBugCheckEx(35, 1835757, 0, 0, 0);
    goto L26;

  L26:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    havoc Tmp_14;
    assume {:nonnull} Tmp_14 != 0;
    assume Tmp_14 > 0;
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    havoc vslice_dummy_var_7;
    call {:si_unique_call 6} FatDeleteFcb_Real(IrpContext, vslice_dummy_var_7);
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto L27;

  L27:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    goto L36;

  L36:
    call {:si_unique_call 7} Fcb := FatDeleteVcb_loop_L36(Fcb, IrpContext, Vcb);
    goto L36_last;

  L36_last:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    havoc vslice_dummy_var_9;
    call {:si_unique_call 19} Fcb := FatGetNextFcbBottomUp(IrpContext, 0, vslice_dummy_var_9);
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    call {:si_unique_call 8} FatDeleteFcb_Real(IrpContext, Fcb);
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} yogi_error != 1;
    goto anon45_Else_dummy;

  anon45_Else_dummy:
    assume false;
    return;

  anon45_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon41_Then:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    havoc vslice_dummy_var_8;
    call {:si_unique_call 9} FatDeleteFcb_Real(IrpContext, vslice_dummy_var_8);
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto L33;

  L33:
    call {:si_unique_call 10} vslice_dummy_var_2 := ExDeleteResourceLite(0);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 11} vslice_dummy_var_3 := ExDeleteResourceLite(0);
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    call {:si_unique_call 12} FatTearDownAllocationSupport(IrpContext, Vcb);
    goto L55;

  L55:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    call {:si_unique_call 13} sdv_ExFreePool(0);
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto L62;

  L62:
    call {:si_unique_call 14} vslice_dummy_var_4 := KeCancelTimer(0);
    call {:si_unique_call 15} vslice_dummy_var_5 := KeRemoveQueueDpc(0);
    call {:si_unique_call 16} sdv_ExFreePool(0);
    call {:si_unique_call 17} vslice_dummy_var_6 := sdv_ObDereferenceObject(0);
    call {:si_unique_call 18} sdv_RtlZeroMemory(0, 688);
    goto LM2;

  anon43_Then:
    goto L62;

  anon42_Then:
    goto L55;

  anon48_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon47_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon46_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon40_Then:
    goto L33;

  anon44_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon39_Then:
    goto L27;

  anon37_Then:
    assume {:nonnull} Vcb != 0;
    assume Vcb > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    goto L26;

  anon38_Then:
    goto L23;

  anon36_Then:
    goto L15;

  anon35_Then:
    goto L11;

  anon34_Then:
    goto L7;

  anon33_Then:
    goto L5;
}



procedure {:origName "FatAllocateCcb"} FatAllocateCcb() returns (Tmp_16: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAllocateCcb"} FatAllocateCcb() returns (Tmp_16: int)
{
  var {:pointer} sdv_8: int;

  anon0:
    call {:si_unique_call 20} sdv_8 := ExAllocatePoolWithTag(17, 44, -1015783098);
    Tmp_16 := sdv_8;
    return;
}



procedure {:origName "FatFreeResource"} FatFreeResource(actual_Resource: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFreeResource"} FatFreeResource(actual_Resource: int)
{
  var {:pointer} Resource: int;
  var vslice_dummy_var_7: int;
  var vslice_dummy_var_8: int;

  anon0:
    call {:si_unique_call 21} vslice_dummy_var_7 := __HAVOC_malloc(4);
    Resource := actual_Resource;
    call {:si_unique_call 22} vslice_dummy_var_8 := ExDeleteResourceLite(0);
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 23} ExFreeToNPagedLookasideList(FatEResourceLookasideList, Resource);
    goto LM2;

  LM2:
    return;

  anon3_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatDeleteIrpContext_Real"} FatDeleteIrpContext_Real(actual_IrpContext_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteIrpContext_Real"} FatDeleteIrpContext_Real(actual_IrpContext_1: int)
{
  var {:pointer} Tmp_22: int;
  var {:pointer} IrpContext_1: int;
  var vslice_dummy_var_9: int;

  anon0:
    call {:si_unique_call 24} vslice_dummy_var_9 := __HAVOC_malloc(4);
    IrpContext_1 := actual_IrpContext_1;
    assume {:nonnull} IrpContext_1 != 0;
    assume IrpContext_1 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:nonnull} IrpContext_1 != 0;
    assume IrpContext_1 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:nonnull} IrpContext_1 != 0;
    assume IrpContext_1 > 0;
    havoc Tmp_22;
    assume {:nonnull} Tmp_22 != 0;
    assume Tmp_22 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} IrpContext_1 != 0;
    assume IrpContext_1 > 0;
    call {:si_unique_call 25} IoFreeMdl(0);
    goto L9;

  L9:
    call {:si_unique_call 26} sdv_ExFreePool(0);
    goto L4;

  L4:
    call {:si_unique_call 27} FatFreeIrpContext(IrpContext_1);
    return;

  anon9_Then:
    goto L9;

  anon8_Then:
    goto L4;

  anon7_Then:
    goto L4;
}



procedure {:origName "FatPreallocateCloseContext"} FatPreallocateCloseContext(actual_Vcb_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPreallocateCloseContext"} FatPreallocateCloseContext(actual_Vcb_1: int)
{
  var {:pointer} sdv_10: int;
  var vslice_dummy_var_10: int;
  var vslice_dummy_var_11: int;

  anon0:
    call {:si_unique_call 28} vslice_dummy_var_10 := __HAVOC_malloc(4);
    call {:si_unique_call 29} sdv_10 := ExAllocatePoolWithTag(17, 32, -126590650);
    call {:si_unique_call 30} vslice_dummy_var_11 := sdv_ExInterlockedPushEntrySList(0, 0, 0);
    return;
}



procedure {:origName "FatConstructNamesInFcb"} FatConstructNamesInFcb(actual_IrpContext_2: int, actual_Fcb_1: int, actual_Dirent: int, actual_Lfn: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatConstructNamesInFcb"} FatConstructNamesInFcb(actual_IrpContext_2: int, actual_Fcb_1: int, actual_Dirent: int, actual_Lfn: int)
{
  var {:scalar} i: int;
  var {:pointer} LongOemName: int;
  var {:scalar} OemA: int;
  var {:scalar} Tmp_26: int;
  var {:scalar} Tmp_27: int;
  var {:pointer} Tmp_28: int;
  var {:pointer} Tmp_29: int;
  var {:scalar} Unicode: int;
  var {:pointer} sdv_12: int;
  var {:scalar} Tmp_30: int;
  var {:scalar} Tmp_31: int;
  var {:scalar} sdv_13: int;
  var {:pointer} Tmp_32: int;
  var {:scalar} Tmp_33: int;
  var {:scalar} OemB: int;
  var {:pointer} Tmp_34: int;
  var {:pointer} ShortName: int;
  var {:scalar} c: int;
  var {:pointer} sdv_15: int;
  var {:pointer} Tmp_36: int;
  var {:scalar} Tmp_37: int;
  var {:pointer} sdv_18: int;
  var {:pointer} sdv_19: int;
  var {:pointer} sdv_20: int;
  var {:pointer} Tmp_38: int;
  var {:scalar} Tmp_40: int;
  var {:scalar} Tmp_41: int;
  var {:scalar} sdv_21: int;
  var {:pointer} LongUniName: int;
  var {:scalar} Tmp_42: int;
  var {:pointer} Tmp_44: int;
  var {:scalar} Tmp_45: int;
  var {:scalar} Tmp_46: int;
  var {:pointer} IrpContext_2: int;
  var {:pointer} Fcb_1: int;
  var {:pointer} Dirent: int;
  var {:pointer} Lfn: int;
  var vslice_dummy_var_12: int;
  var vslice_dummy_var_13: int;
  var vslice_dummy_var_14: int;

  anon0:
    call {:si_unique_call 31} OemA := __HAVOC_malloc(12);
    call {:si_unique_call 32} Unicode := __HAVOC_malloc(12);
    call {:si_unique_call 33} OemB := __HAVOC_malloc(12);
    call {:si_unique_call 34} vslice_dummy_var_12 := __HAVOC_malloc(4);
    IrpContext_2 := actual_IrpContext_2;
    Fcb_1 := actual_Fcb_1;
    Dirent := actual_Dirent;
    Lfn := actual_Lfn;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    ShortName := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(Fcb_1)));
    assume {:nonnull} Dirent != 0;
    assume Dirent > 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L15;

  L15:
    assume {:nonnull} Dirent != 0;
    assume Dirent > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L18;

  L18:
    assume {:nonnull} ShortName != 0;
    assume ShortName > 0;
    call {:si_unique_call 35} sdv_12 := ExAllocatePoolWithTag(17, 16, -294362810);
    assume {:nonnull} ShortName != 0;
    assume ShortName > 0;
    call {:si_unique_call 36} Fat8dot3ToString(IrpContext_2, Dirent, 0, ShortName);
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} Lfn != 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    havoc Tmp_45;
    call {:si_unique_call 37} sdv_18 := ExAllocatePoolWithTag(17, Tmp_45, -294362810);
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    havoc Tmp_26;
    call {:si_unique_call 38} sdv_RtlCopyMemory(0, 0, Tmp_26);
    i := 0;
    goto L66;

  L66:
    call {:si_unique_call 39} i, Tmp_31, Tmp_38 := FatConstructNamesInFcb_loop_L66(i, Tmp_31, Tmp_38, Lfn);
    goto L66_last;

  L66_last:
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    Tmp_31 := i;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    havoc Tmp_38;
    assume {:nonnull} Tmp_38 != 0;
    assume Tmp_38 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} Mem_T.INT4[Tmp_38 + Tmp_31 * 4] < 128;
    i := i + 1;
    goto anon51_Else_dummy;

  anon51_Else_dummy:
    assume false;
    return;

  anon51_Then:
    assume {:partition} 128 <= Mem_T.INT4[Tmp_38 + Tmp_31 * 4];
    goto L67;

  L67:
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    LongOemName := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Oem_unnamed_tag_71(LongName__FCB(Fcb_1))));
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    havoc Tmp_30;
    call {:si_unique_call 40} sdv_20 := ExAllocatePoolWithTag(17, Tmp_30, -294362810);
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    i := 0;
    goto L81;

  L81:
    call {:si_unique_call 41} i, Tmp_27, Tmp_32, Tmp_33, c, Tmp_41, Tmp_42, Tmp_44 := FatConstructNamesInFcb_loop_L81(i, LongOemName, Tmp_27, Tmp_32, Tmp_33, c, Tmp_41, Tmp_42, Tmp_44, Lfn);
    goto L81_last;

  L81_last:
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    Tmp_33 := i;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    havoc Tmp_32;
    assume {:nonnull} Tmp_32 != 0;
    assume Tmp_32 > 0;
    c := Mem_T.INT4[Tmp_32 + Tmp_33 * 4];
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} 97 > c;
    Tmp_41 := c;
    goto L88;

  L88:
    Tmp_42 := i;
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    havoc Tmp_44;
    assume {:nonnull} Tmp_44 != 0;
    assume Tmp_44 > 0;
    Mem_T.INT4[Tmp_44 + Tmp_42 * 4] := Tmp_41;
    i := i + 1;
    goto L88_dummy;

  L88_dummy:
    assume false;
    return;

  anon52_Then:
    assume {:partition} c >= 97;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} 122 >= c;
    Tmp_27 := c - 32;
    goto L92;

  L92:
    Tmp_41 := Tmp_27;
    goto L88;

  anon45_Then:
    assume {:partition} c > 122;
    Tmp_27 := c;
    goto L92;

  anon43_Then:
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    assume {:nonnull} ShortName != 0;
    assume ShortName > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    assume {:nonnull} ShortName != 0;
    assume ShortName > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} sdv_13 == 0;
    goto L103;

  L103:
    call {:si_unique_call 42} sdv_ExFreePool(0);
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    assume {:nonnull} LongOemName != 0;
    assume LongOemName > 0;
    goto L110;

  L110:
    call {:si_unique_call 43} sdv_21 := sdv_AbnormalTermination();
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} sdv_21 != 0;
    assume {:nonnull} ShortName != 0;
    assume ShortName > 0;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    call {:si_unique_call 44} sdv_ExFreePool(0);
    assume {:nonnull} ShortName != 0;
    assume ShortName > 0;
    goto L1;

  L1:
    return;

  anon47_Then:
    goto L1;

  anon46_Then:
    assume {:partition} sdv_21 == 0;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    havoc Tmp_36;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Tmp_36 != 0;
    assume Tmp_36 > 0;
    call {:si_unique_call 45} FatInsertName(IrpContext_2, RootOemNode_unnamed_tag_68(Dcb_unnamed_tag_67(Specific__FCB(Tmp_36))), ShortName__FCB(Fcb_1));
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    havoc Tmp_28;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Tmp_28 != 0;
    assume Tmp_28 > 0;
    call {:si_unique_call 46} FatInsertName(IrpContext_2, RootOemNode_unnamed_tag_68(Dcb_unnamed_tag_67(Specific__FCB(Tmp_28))), Oem_unnamed_tag_71(LongName__FCB(Fcb_1)));
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L125;

  L125:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    havoc Tmp_29;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Tmp_29 != 0;
    assume Tmp_29 > 0;
    call {:si_unique_call 47} FatInsertName(IrpContext_2, RootUnicodeNode_unnamed_tag_68(Dcb_unnamed_tag_67(Specific__FCB(Tmp_29))), Unicode_unnamed_tag_71(LongName__FCB(Fcb_1)));
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L130;

  L130:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L1;

  anon48_Then:
    goto L130;

  anon54_Then:
    goto L125;

  anon53_Then:
    assume {:partition} sdv_13 != 0;
    goto L93;

  L93:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    havoc Tmp_34;
    assume {:nonnull} Tmp_34 != 0;
    assume Tmp_34 > 0;
    call {:si_unique_call 48} sdv_19 := FatFindFcb(IrpContext_2, RootOemNode_unnamed_tag_68(Dcb_unnamed_tag_67(Specific__FCB(Tmp_34))), LongOemName, 0);
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} sdv_19 == 0;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L110;

  anon49_Then:
    assume {:partition} sdv_19 != 0;
    goto L103;

  anon44_Then:
    goto L93;

  anon42_Then:
    assume {:nonnull} OemA != 0;
    assume OemA > 0;
    assume {:nonnull} OemB != 0;
    assume OemB > 0;
    assume {:nonnull} Unicode != 0;
    assume Unicode > 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    assume {:nonnull} Unicode != 0;
    assume Unicode > 0;
    assume {:nonnull} Unicode != 0;
    assume Unicode > 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    havoc Tmp_37;
    call {:si_unique_call 49} sdv_15 := ExAllocatePoolWithTag(17, Tmp_37, -294362810);
    assume {:nonnull} Unicode != 0;
    assume Unicode > 0;
    assume {:nonnull} Lfn != 0;
    assume Lfn > 0;
    havoc Tmp_46;
    call {:si_unique_call 50} sdv_RtlCopyMemory(0, 0, Tmp_46);
    call {:si_unique_call 51} vslice_dummy_var_14 := RtlDowncaseUnicodeString(0, 0, 0);
    call {:si_unique_call 52} vslice_dummy_var_13 := RtlUpcaseUnicodeString(0, 0, 0);
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    LongUniName := Unicode_unnamed_tag_70(Name__FILE_NAME_NODE(Unicode_unnamed_tag_71(LongName__FCB(Fcb_1))));
    assume {:nonnull} LongUniName != 0;
    assume LongUniName > 0;
    assume {:nonnull} Unicode != 0;
    assume Unicode > 0;
    assume {:nonnull} LongUniName != 0;
    assume LongUniName > 0;
    assume {:nonnull} LongUniName != 0;
    assume LongUniName > 0;
    assume {:nonnull} Unicode != 0;
    assume Unicode > 0;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L110;

  anon41_Then:
    goto L67;

  anon40_Then:
    goto L51;

  L51:
    assume {:nonnull} NlsMbOemCodePageTag != 0;
    assume NlsMbOemCodePageTag > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] != 0;
    call {:si_unique_call 53} Tmp_40 := corral_nondet();
    goto L167;

  L167:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L110;

  anon39_Then:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] == 0;
    assume {:nonnull} ShortName != 0;
    assume ShortName > 0;
    havoc Tmp_40;
    goto L167;

  anon38_Then:
    assume {:partition} Lfn == 0;
    goto L51;

  anon37_Then:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L18;

  anon50_Then:
    assume {:nonnull} Fcb_1 != 0;
    assume Fcb_1 > 0;
    goto L15;
}



procedure {:origName "FatSwapVpb"} FatSwapVpb(actual_IrpContext_3: int, actual_Vcb_2: int) returns (Tmp_48: int);
  free ensures {:va_keep} Tmp_48 == 0 || Tmp_48 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSwapVpb"} FatSwapVpb(actual_IrpContext_3: int, actual_Vcb_2: int) returns (Tmp_48: int)
{
  var {:pointer} Tmp_49: int;
  var {:pointer} Tmp_50: int;
  var {:pointer} Tmp_51: int;
  var {:pointer} Tmp_52: int;
  var {:pointer} IrpSp: int;
  var {:pointer} Tmp_53: int;
  var {:pointer} Tmp_55: int;
  var {:pointer} OldVpb: int;
  var {:scalar} Result: int;
  var {:pointer} Tmp_56: int;
  var {:pointer} IrpContext_3: int;
  var {:pointer} Vcb_2: int;
  var vslice_dummy_var_10: int;

  anon0:
    IrpContext_3 := actual_IrpContext_3;
    Vcb_2 := actual_Vcb_2;
    Result := 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    havoc OldVpb;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    goto L10;

  L10:
    Tmp_48 := Result;
    return;

  anon13_Then:
    assume {:nonnull} OldVpb != 0;
    assume OldVpb > 0;
    havoc Tmp_50;
    assume {:nonnull} Tmp_50 != 0;
    assume Tmp_50 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    havoc Tmp_56;
    assume {:nonnull} Tmp_56 != 0;
    assume Tmp_56 > 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    havoc Tmp_49;
    assume {:nonnull} Tmp_49 != 0;
    assume Tmp_49 > 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    havoc Tmp_51;
    assume {:nonnull} OldVpb != 0;
    assume OldVpb > 0;
    assume {:nonnull} Tmp_51 != 0;
    assume Tmp_51 > 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    havoc Tmp_52;
    assume {:nonnull} Tmp_52 != 0;
    assume Tmp_52 > 0;
    havoc Tmp_55;
    assume {:nonnull} Tmp_55 != 0;
    assume Tmp_55 > 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    havoc Tmp_53;
    assume {:nonnull} OldVpb != 0;
    assume OldVpb > 0;
    assume {:nonnull} Tmp_53 != 0;
    assume Tmp_53 > 0;
    assume {:nonnull} IrpContext_3 != 0;
    assume IrpContext_3 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} IrpContext_3 != 0;
    assume IrpContext_3 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} IrpContext_3 != 0;
    assume IrpContext_3 > 0;
    havoc vslice_dummy_var_10;
    call {:si_unique_call 54} IrpSp := sdv_IoGetCurrentIrpStackLocation(vslice_dummy_var_10);
    assume {:nonnull} IrpSp != 0;
    assume IrpSp > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:nonnull} IrpSp != 0;
    assume IrpSp > 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    goto L17;

  L17:
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    assume {:nonnull} Vcb_2 != 0;
    assume Vcb_2 > 0;
    Result := 1;
    goto L10;

  anon12_Then:
    goto L17;

  anon11_Then:
    goto L17;

  anon15_Then:
    goto L17;

  anon14_Then:
    goto L10;
}



procedure {:origName "FatDeleteCcb_Real"} FatDeleteCcb_Real(actual_IrpContext_4: int, actual_Ccb: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteCcb_Real"} FatDeleteCcb_Real(actual_IrpContext_4: int, actual_Ccb: int)
{
  var {:pointer} Ccb: int;
  var vslice_dummy_var_15: int;

  anon0:
    call {:si_unique_call 55} vslice_dummy_var_15 := __HAVOC_malloc(4);
    Ccb := actual_Ccb;
    call {:si_unique_call 56} FatDeallocateCcbStrings(Ccb);
    call {:si_unique_call 57} FatFreeCcb(Ccb);
    return;
}



procedure {:origName "FatDeleteFcb_Real"} FatDeleteFcb_Real(actual_IrpContext_5: int, actual_Fcb_2: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteFcb_Real"} FatDeleteFcb_Real(actual_IrpContext_5: int, actual_Fcb_2: int)
{
  var {:pointer} Tmp_64: int;
  var {:pointer} Tmp_66: int;
  var {:pointer} IrpContext_5: int;
  var {:pointer} Fcb_2: int;
  var vslice_dummy_var_16: int;
  var vslice_dummy_var_17: int;
  var vslice_dummy_var_11: int;
  var vslice_dummy_var_12: int;
  var vslice_dummy_var_13: int;

  anon0:
    call {:si_unique_call 58} vslice_dummy_var_16 := __HAVOC_malloc(4);
    IrpContext_5 := actual_IrpContext_5;
    Fcb_2 := actual_Fcb_2;
    call {:si_unique_call 59} Tmp_66 := __HAVOC_malloc(4);
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    call {:si_unique_call 60} KeBugCheckEx(35, 1836844, 0, 0, 0);
    goto L4;

  L4:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    goto L9;

  L9:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    havoc Tmp_66;
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    call {:si_unique_call 61} sdv_ExFreePool(0);
    goto L10;

  L10:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    call {:si_unique_call 62} vslice_dummy_var_17 := sdv_RemoveEntryList(0);
    goto L21;

  L21:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    call {:si_unique_call 63} FatRemoveNames(IrpContext_5, Fcb_2);
    goto L25;

  L25:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    call {:si_unique_call 64} sdv_ExFreePool(0);
    goto L31;

  L31:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    call {:si_unique_call 65} sdv_ExFreePool(0);
    goto L29;

  L29:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    call {:si_unique_call 66} sdv_ExFreePool(0);
    goto L38;

  L38:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    havoc vslice_dummy_var_11;
    call {:si_unique_call 67} FatFreeResource(vslice_dummy_var_11);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    havoc vslice_dummy_var_12;
    call {:si_unique_call 68} FatFreeResource(vslice_dummy_var_12);
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} yogi_error != 1;
    goto L45;

  L45:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    havoc Tmp_64;
    assume {:nonnull} Tmp_64 != 0;
    assume Tmp_64 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    call {:si_unique_call 69} sdv_ExFreePool(0);
    goto L49;

  L49:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    havoc vslice_dummy_var_13;
    call {:si_unique_call 70} FatFreeNonPagedFcb(vslice_dummy_var_13);
    call {:si_unique_call 71} FatFreeFcb(Fcb_2);
    goto LM2;

  LM2:
    return;

  anon45_Then:
    goto L49;

  anon44_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon41_Then:
    goto L45;

  anon43_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon38_Then:
    goto L38;

  anon40_Then:
    goto L29;

  anon39_Then:
    goto L31;

  anon37_Then:
    goto L29;

  anon36_Then:
    goto L25;

  anon35_Then:
    goto L21;

  anon42_Then:
    goto L10;

  anon34_Then:
    goto L10;

  anon32_Then:
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    call {:si_unique_call 72} FsRtlUninitializeFileLock(0);
    assume {:nonnull} Fcb_2 != 0;
    assume Fcb_2 > 0;
    goto L10;

  anon33_Then:
    goto L9;

  anon31_Then:
    goto L4;
}



procedure {:origName "FatGetNextFcbBottomUp"} FatGetNextFcbBottomUp(actual_IrpContext_6: int, actual_Fcb_3: int, actual_TerminationFcb: int) returns (Tmp_69: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetNextFcbBottomUp"} FatGetNextFcbBottomUp(actual_IrpContext_6: int, actual_Fcb_3: int, actual_TerminationFcb: int) returns (Tmp_69: int)
{
  var {:pointer} Tmp_70: int;
  var {:pointer} NextFcb: int;
  var {:pointer} Tmp_71: int;
  var {:pointer} sdv_25: int;
  var {:pointer} Tmp_72: int;
  var {:scalar} sdv_26: int;
  var {:pointer} Tmp_74: int;
  var {:pointer} sdv_27: int;
  var {:scalar} sdv_28: int;
  var {:pointer} sdv_29: int;
  var {:pointer} Fcb_3: int;
  var {:pointer} TerminationFcb: int;
  var vslice_dummy_var_14: int;
  var vslice_dummy_var_15: int;
  var vslice_dummy_var_16: int;

  anon0:
    Fcb_3 := actual_Fcb_3;
    TerminationFcb := actual_TerminationFcb;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} Fcb_3 != 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} Fcb_3 == TerminationFcb;
    Tmp_69 := 0;
    goto L1;

  L1:
    return;

  anon18_Then:
    assume {:partition} Fcb_3 != TerminationFcb;
    assume {:nonnull} Fcb_3 != 0;
    assume Fcb_3 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    Tmp_71 := 0;
    goto L13;

  L13:
    NextFcb := Tmp_71;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} NextFcb != 0;
    goto L16;

  L16:
    call {:si_unique_call 73} Tmp_70, NextFcb, Tmp_72, sdv_26, Tmp_74, sdv_27, sdv_28, sdv_29 := FatGetNextFcbBottomUp_loop_L16(Tmp_70, NextFcb, Tmp_72, sdv_26, Tmp_74, sdv_27, sdv_28, sdv_29);
    goto L16_last;

  L16_last:
    Tmp_70 := NextFcb;
    assume {:nonnull} Tmp_70 != 0;
    assume Tmp_70 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} Mem_T.INT4[Tmp_70] != 1282;
    call {:si_unique_call 74} sdv_26 := sdv_IsListEmpty(0);
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} sdv_26 != 0;
    Tmp_74 := 0;
    goto L26;

  L26:
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Tmp_74 != 0;
    call {:si_unique_call 75} sdv_28 := sdv_IsListEmpty(0);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} sdv_28 != 0;
    Tmp_72 := 0;
    goto L35;

  L35:
    NextFcb := Tmp_72;
    goto L35_dummy;

  L35_dummy:
    assume false;
    return;

  anon21_Then:
    assume {:partition} sdv_28 == 0;
    assume {:nonnull} NextFcb != 0;
    assume NextFcb > 0;
    havoc vslice_dummy_var_14;
    call {:si_unique_call 76} sdv_29 := sdv_containing_record(vslice_dummy_var_14, 72);
    Tmp_72 := sdv_29;
    goto L35;

  anon20_Then:
    assume {:partition} Tmp_74 == 0;
    goto L17;

  L17:
    Tmp_69 := NextFcb;
    goto L1;

  anon19_Then:
    assume {:partition} sdv_26 == 0;
    assume {:nonnull} NextFcb != 0;
    assume NextFcb > 0;
    havoc vslice_dummy_var_15;
    call {:si_unique_call 77} sdv_27 := sdv_containing_record(vslice_dummy_var_15, 72);
    Tmp_74 := sdv_27;
    goto L26;

  anon24_Then:
    assume {:partition} Mem_T.INT4[Tmp_70] == 1282;
    goto L17;

  anon23_Then:
    assume {:partition} NextFcb == 0;
    assume {:nonnull} Fcb_3 != 0;
    assume Fcb_3 > 0;
    havoc Tmp_69;
    goto L1;

  anon22_Then:
    assume {:nonnull} Fcb_3 != 0;
    assume Fcb_3 > 0;
    havoc vslice_dummy_var_16;
    call {:si_unique_call 78} sdv_25 := sdv_containing_record(vslice_dummy_var_16, 72);
    Tmp_71 := sdv_25;
    goto L13;

  anon17_Then:
    assume {:partition} Fcb_3 == 0;
    NextFcb := TerminationFcb;
    goto L16;
}



procedure {:origName "FatAllocateNonPagedFcb"} FatAllocateNonPagedFcb() returns (Tmp_76: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAllocateNonPagedFcb"} FatAllocateNonPagedFcb() returns (Tmp_76: int)
{
  var {:pointer} sdv_30: int;

  anon0:
    call {:si_unique_call 79} sdv_30 := sdv_ExAllocateFromNPagedLookasideList(0);
    Tmp_76 := sdv_30;
    return;
}



procedure {:origName "FatFreeIrpContext"} FatFreeIrpContext(actual_IrpContext_7: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFreeIrpContext"} FatFreeIrpContext(actual_IrpContext_7: int)
{
  var {:pointer} IrpContext_7: int;
  var vslice_dummy_var_18: int;

  anon0:
    call {:si_unique_call 80} vslice_dummy_var_18 := __HAVOC_malloc(4);
    IrpContext_7 := actual_IrpContext_7;
    call {:si_unique_call 81} ExFreeToNPagedLookasideList(FatIrpContextLookasideList, IrpContext_7);
    return;
}



procedure {:origName "FatAllocateFcb"} FatAllocateFcb() returns (Tmp_80: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAllocateFcb"} FatAllocateFcb() returns (Tmp_80: int)
{
  var {:pointer} sdv_31: int;

  anon0:
    call {:si_unique_call 82} sdv_31 := ExAllocatePoolWithTag(17, 352, -965451450);
    Tmp_80 := sdv_31;
    return;
}



procedure {:origName "FatGetNextFcbTopDown"} FatGetNextFcbTopDown(actual_IrpContext_8: int, actual_Fcb_4: int, actual_TerminationFcb_1: int) returns (Tmp_82: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetNextFcbTopDown"} FatGetNextFcbTopDown(actual_IrpContext_8: int, actual_Fcb_4: int, actual_TerminationFcb_1: int) returns (Tmp_82: int)
{
  var {:pointer} Tmp_83: int;
  var {:pointer} Tmp_84: int;
  var {:scalar} sdv_32: int;
  var {:scalar} sdv_33: int;
  var {:pointer} sdv_34: int;
  var {:pointer} sdv_35: int;
  var {:pointer} sdv_36: int;
  var {:pointer} Tmp_86: int;
  var {:pointer} Tmp_89: int;
  var {:pointer} Sibling: int;
  var {:pointer} Tmp_90: int;
  var {:pointer} Tmp_91: int;
  var {:pointer} Fcb_4: int;
  var {:pointer} TerminationFcb_1: int;
  var vslice_dummy_var_17: int;
  var vslice_dummy_var_18: int;
  var vslice_dummy_var_19: int;

  anon0:
    Fcb_4 := actual_Fcb_4;
    TerminationFcb_1 := actual_TerminationFcb_1;
    Tmp_91 := Fcb_4;
    assume {:nonnull} Tmp_91 != 0;
    assume Tmp_91 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Mem_T.INT4[Tmp_91] == 1283;
    goto L6;

  L6:
    call {:si_unique_call 83} sdv_32 := sdv_IsListEmpty(0);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} sdv_32 != 0;
    goto L13;

  L13:
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} Fcb_4 == TerminationFcb_1;
    Tmp_82 := 0;
    goto L1;

  L1:
    return;

  anon22_Then:
    assume {:partition} Fcb_4 != TerminationFcb_1;
    assume {:nonnull} Fcb_4 != 0;
    assume Fcb_4 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    Tmp_86 := 0;
    goto L20;

  L20:
    Sibling := Tmp_86;
    goto L22;

  L22:
    call {:si_unique_call 84} Tmp_84, sdv_35, Sibling, Fcb_4 := FatGetNextFcbTopDown_loop_L22(Tmp_84, sdv_35, Sibling, Fcb_4, TerminationFcb_1);
    goto L22_last;

  L22_last:
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Sibling != 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Sibling != TerminationFcb_1;
    Tmp_89 := Sibling;
    goto L27;

  L27:
    Tmp_82 := Tmp_89;
    goto L1;

  anon25_Then:
    assume {:partition} Sibling == TerminationFcb_1;
    Tmp_89 := 0;
    goto L27;

  anon23_Then:
    assume {:partition} Sibling == 0;
    assume {:nonnull} Fcb_4 != 0;
    assume Fcb_4 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    Tmp_82 := 0;
    goto L1;

  anon24_Then:
    assume {:nonnull} Fcb_4 != 0;
    assume Fcb_4 > 0;
    havoc Fcb_4;
    assume {:nonnull} Fcb_4 != 0;
    assume Fcb_4 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    Tmp_84 := 0;
    goto L35;

  L35:
    Sibling := Tmp_84;
    goto L35_dummy;

  L35_dummy:
    assume false;
    return;

  anon29_Then:
    assume {:nonnull} Fcb_4 != 0;
    assume Fcb_4 > 0;
    havoc vslice_dummy_var_17;
    call {:si_unique_call 85} sdv_35 := sdv_containing_record(vslice_dummy_var_17, 72);
    Tmp_84 := sdv_35;
    goto L35;

  anon28_Then:
    assume {:nonnull} Fcb_4 != 0;
    assume Fcb_4 > 0;
    havoc vslice_dummy_var_18;
    call {:si_unique_call 86} sdv_34 := sdv_containing_record(vslice_dummy_var_18, 72);
    Tmp_86 := sdv_34;
    goto L20;

  anon21_Then:
    assume {:partition} sdv_32 == 0;
    call {:si_unique_call 87} sdv_33 := sdv_IsListEmpty(0);
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} sdv_33 != 0;
    Tmp_90 := 0;
    goto L43;

  L43:
    Tmp_82 := Tmp_90;
    goto L1;

  anon26_Then:
    assume {:partition} sdv_33 == 0;
    assume {:nonnull} Fcb_4 != 0;
    assume Fcb_4 > 0;
    havoc vslice_dummy_var_19;
    call {:si_unique_call 88} sdv_36 := sdv_containing_record(vslice_dummy_var_19, 72);
    Tmp_90 := sdv_36;
    goto L43;

  anon27_Then:
    assume {:partition} Mem_T.INT4[Tmp_91] != 1283;
    Tmp_83 := Fcb_4;
    assume {:nonnull} Tmp_83 != 0;
    assume Tmp_83 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Mem_T.INT4[Tmp_83] != 1284;
    goto L13;

  anon30_Then:
    assume {:partition} Mem_T.INT4[Tmp_83] == 1284;
    goto L6;
}



procedure {:origName "FatScanForDataTrack"} FatScanForDataTrack(actual_IrpContext_9: int, actual_TargetDeviceObject: int) returns (Tmp_92: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_92 == 0 || Tmp_92 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatScanForDataTrack"} FatScanForDataTrack(actual_IrpContext_9: int, actual_TargetDeviceObject: int) returns (Tmp_92: int)
{
  var {:pointer} CdromToc: int;
  var {:scalar} Tmp_93: int;
  var {:scalar} LocalTrackCount: int;
  var {:pointer} sdv_37: int;
  var {:scalar} Status_1: int;
  var {:scalar} Iosb_3: int;
  var {:scalar} Tmp_94: int;
  var {:pointer} Tmp_96: int;
  var {:scalar} LocalTocLength: int;
  var {:pointer} Tmp_97: int;
  var {:scalar} Result_1: int;
  var {:pointer} IrpContext_9: int;
  var {:pointer} TargetDeviceObject: int;

  anon0:
    call {:si_unique_call 89} Iosb_3 := __HAVOC_malloc(12);
    IrpContext_9 := actual_IrpContext_9;
    TargetDeviceObject := actual_TargetDeviceObject;
    call {:si_unique_call 90} Tmp_96 := __HAVOC_malloc(3600);
    call {:si_unique_call 91} Tmp_97 := __HAVOC_malloc(3600);
    Result_1 := 0;
    call {:si_unique_call 92} sdv_do_paged_code_check();
    call {:si_unique_call 93} sdv_37 := ExAllocatePoolWithTag(17, 804, -814456506);
    CdromToc := sdv_37;
    call {:si_unique_call 94} sdv_RtlZeroMemory(0, 804);
    call {:si_unique_call 95} Status_1 := FatPerformDevIoCtrl(IrpContext_9, 147456, TargetDeviceObject, CdromToc, 804, 0, 1, Iosb_3);
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Status_1 != 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} Status_1 == -1073741435;
    goto L31;

  L31:
    Result_1 := 1;
    goto L33;

  L33:
    call {:si_unique_call 96} sdv_ExFreePool(0);
    Tmp_92 := Result_1;
    return;

  anon16_Then:
    assume {:partition} Status_1 != -1073741435;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} Status_1 != -1073741808;
    goto L33;

  anon17_Then:
    assume {:partition} Status_1 == -1073741808;
    goto L31;

  anon15_Then:
    assume {:partition} Status_1 == 0;
    assume {:nonnull} CdromToc != 0;
    assume CdromToc > 0;
    havoc LocalTrackCount;
    Tmp_93 := LocalTrackCount + 1;
    assume {:nonnull} CdromToc != 0;
    assume CdromToc > 0;
    havoc Tmp_97;
    LocalTocLength := Tmp_97 + Tmp_93 * 36 - CdromToc;
    assume {:nonnull} Iosb_3 != 0;
    assume Iosb_3 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:nonnull} CdromToc != 0;
    assume CdromToc > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} LocalTrackCount == 1;
    assume {:nonnull} CdromToc != 0;
    assume CdromToc > 0;
    havoc Tmp_96;
    assume {:nonnull} Tmp_96 != 0;
    assume Tmp_96 > 0;
    havoc Tmp_94;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Tmp_94 == 0;
    Result_1 := 0;
    goto L63;

  L63:
    goto L33;

  anon21_Then:
    assume {:partition} Tmp_94 != 0;
    Result_1 := 1;
    goto L63;

  anon19_Then:
    assume {:partition} LocalTrackCount != 1;
    goto L33;

  anon18_Then:
    goto L33;

  anon20_Then:
    goto L33;
}



procedure {:origName "FatFreeFcb"} FatFreeFcb(actual_Fcb_5: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFreeFcb"} FatFreeFcb(actual_Fcb_5: int)
{
  var vslice_dummy_var_19: int;

  anon0:
    call {:si_unique_call 97} vslice_dummy_var_19 := __HAVOC_malloc(4);
    call {:si_unique_call 98} sdv_ExFreePool(0);
    return;
}



procedure {:origName "FatInitializeVcb"} FatInitializeVcb(actual_IrpContext_10: int, actual_Vcb_3: int, actual_TargetDeviceObject_1: int, actual_Vpb: int, actual_FsDeviceObject: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatInitializeVcb"} FatInitializeVcb(actual_IrpContext_10: int, actual_Vcb_3: int, actual_TargetDeviceObject_1: int, actual_Vpb: int, actual_FsDeviceObject: int)
{
  var {:scalar} i_1: int;
  var {:pointer} UnwindStatistics: int;
  var {:scalar} Tmp_100: int;
  var {:scalar} UnwindWeAllocatedMcb: int;
  var {:scalar} Tmp_101: int;
  var {:pointer} UnwindCacheMap: int;
  var {:pointer} Tmp_102: int;
  var {:scalar} Tmp_103: int;
  var {:scalar} Status_2: int;
  var {:pointer} UnwindResource: int;
  var {:pointer} sdv_46: int;
  var {:scalar} FileSizes: int;
  var {:scalar} sdv_48: int;
  var {:pointer} Tmp_104: int;
  var {:pointer} Tmp_105: int;
  var {:scalar} Tmp_106: int;
  var {:pointer} sdv_53: int;
  var {:pointer} Tmp_108: int;
  var {:pointer} Tmp_109: int;
  var {:pointer} Tmp_110: int;
  var {:pointer} Tmp_111: int;
  var {:scalar} Tmp_112: int;
  var {:scalar} Tmp_113: int;
  var {:pointer} Tmp_114: int;
  var {:pointer} sdv_58: int;
  var {:pointer} Tmp_115: int;
  var {:scalar} Tmp_116: int;
  var {:pointer} UnwindFileObject: int;
  var {:pointer} UnwindResource2: int;
  var {:scalar} HotplugInfo: int;
  var {:pointer} Tmp_117: int;
  var {:scalar} Tmp_118: int;
  var {:scalar} Tmp_119: int;
  var {:pointer} IrpContext_10: int;
  var {:pointer} Vcb_3: int;
  var {:pointer} TargetDeviceObject_1: int;
  var {:pointer} Vpb: int;
  var vslice_dummy_var_20: int;
  var vslice_dummy_var_21: int;
  var vslice_dummy_var_22: int;
  var vslice_dummy_var_23: int;
  var vslice_dummy_var_24: int;
  var vslice_dummy_var_25: int;
  var vslice_dummy_var_26: int;
  var vslice_dummy_var_27: int;
  var vslice_dummy_var_28: int;
  var vslice_dummy_var_29: int;
  var vslice_dummy_var_30: int;
  var vslice_dummy_var_31: int;
  var vslice_dummy_var_32: int;
  var vslice_dummy_var_33: int;
  var vslice_dummy_var_34: int;
  var vslice_dummy_var_35: int;

  anon0:
    call {:si_unique_call 99} FileSizes := __HAVOC_malloc(60);
    call {:si_unique_call 100} vslice_dummy_var_20 := __HAVOC_malloc(4);
    call {:si_unique_call 101} HotplugInfo := __HAVOC_malloc(20);
    IrpContext_10 := actual_IrpContext_10;
    Vcb_3 := actual_Vcb_3;
    TargetDeviceObject_1 := actual_TargetDeviceObject_1;
    Vpb := actual_Vpb;
    UnwindResource := 0;
    UnwindResource2 := 0;
    UnwindFileObject := 0;
    UnwindCacheMap := 0;
    UnwindWeAllocatedMcb := 0;
    UnwindStatistics := 0;
    call {:si_unique_call 102} sdv_RtlZeroMemory(0, 688);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} IrpContext_10 != 0;
    assume IrpContext_10 > 0;
    havoc Tmp_112;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} Tmp_112 == 0;
    Tmp_116 := 0;
    goto L300;

  L300:
    call {:si_unique_call 103} vslice_dummy_var_26 := ExAcquireResourceExclusiveLite(0, Tmp_116);
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 104} vslice_dummy_var_21 := sdv_InsertTailList(VcbQueue__FAT_DATA(FatData), VcbLinks__VCB(Vcb_3));
    call {:si_unique_call 105} ExReleaseResourceLite(0);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 106} vslice_dummy_var_27 := sdv_ObReferenceObject(0);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} Vpb != 0;
    assume Vpb > 0;
    call {:si_unique_call 107} Status_2 := FatPerformDevIoCtrl(IrpContext_10, 2952212, TargetDeviceObject_1, HotplugInfo, 8, 0, 1, 0);
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} Status_2 >= 0;
    assume {:nonnull} HotplugInfo != 0;
    assume HotplugInfo > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    goto L100;

  L100:
    assume {:nonnull} HotplugInfo != 0;
    assume HotplugInfo > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:nonnull} HotplugInfo != 0;
    assume HotplugInfo > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L104;

  L104:
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    goto L98;

  L98:
    assume {:nonnull} Vpb != 0;
    assume Vpb > 0;
    havoc Tmp_111;
    assume {:nonnull} Tmp_111 != 0;
    assume Tmp_111 > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    goto L117;

  L117:
    assume {:nonnull} Vpb != 0;
    assume Vpb > 0;
    havoc Tmp_102;
    assume {:nonnull} Tmp_102 != 0;
    assume Tmp_102 > 0;
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    goto L119;

  L119:
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 108} vslice_dummy_var_28 := ExInitializeResourceLite(0);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    UnwindResource := Resource__VCB(Vcb_3);
    call {:si_unique_call 109} vslice_dummy_var_29 := ExInitializeResourceLite(0);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    UnwindResource2 := ChangeBitMapResource__VCB(Vcb_3);
    call {:si_unique_call 110} sdv_ExInitializeFastMutex(0);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    UnwindFileObject := 0;
    goto L137;

  L137:
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 111} sdv_58 := ExAllocatePoolWithTag(17, 32, -126590650);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc vslice_dummy_var_33;
    call {:si_unique_call 112} FatSetFileObject(vslice_dummy_var_33, 5, Vcb_3, 0);
    call {:si_unique_call 113} Tmp_105 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_105 != 0;
    assume Tmp_105 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc vslice_dummy_var_34;
    Mem_T.INT4[Tmp_105] := vslice_dummy_var_34;
    call {:si_unique_call 114} vslice_dummy_var_30 := sdv_InterlockedIncrement(Tmp_105);
    assume {:nonnull} Tmp_105 != 0;
    assume Tmp_105 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 115} Tmp_105 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_105 != 0;
    assume Tmp_105 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc vslice_dummy_var_35;
    Mem_T.INT4[Tmp_105] := vslice_dummy_var_35;
    call {:si_unique_call 116} vslice_dummy_var_31 := sdv_InterlockedIncrement(Tmp_105);
    assume {:nonnull} Tmp_105 != 0;
    assume Tmp_105 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc Tmp_114;
    assume {:nonnull} Tmp_114 != 0;
    assume Tmp_114 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc Tmp_117;
    assume {:nonnull} Tmp_117 != 0;
    assume Tmp_117 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc Tmp_110;
    assume {:nonnull} Tmp_110 != 0;
    assume Tmp_110 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc Tmp_104;
    assume {:nonnull} Tmp_104 != 0;
    assume Tmp_104 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 117} InitializeListHead(DirNotifyList__VCB(Vcb_3));
    assume {:nonnull} FileSizes != 0;
    assume FileSizes > 0;
    assume {:nonnull} FileSizes != 0;
    assume FileSizes > 0;
    assume {:nonnull} FileSizes != 0;
    assume FileSizes > 0;
    assume {:nonnull} FileSizes != 0;
    assume FileSizes > 0;
    assume {:nonnull} FileSizes != 0;
    assume FileSizes > 0;
    assume {:nonnull} FileSizes != 0;
    assume FileSizes > 0;
    assume {:nonnull} FileSizes != 0;
    assume FileSizes > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc UnwindCacheMap;
    UnwindWeAllocatedMcb := 1;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 118} sdv_ExInitializeFastMutex(0);
    call {:si_unique_call 119} KeInitializeTimer(0);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 120} KeInitializeDpc(CleanVolumeDpc__VCB(Vcb_3), li2bplFunctionConstant532, 0);
    havoc Tmp_106;
    call {:si_unique_call 121} sdv_46 := ExAllocatePoolWithTag(16, Tmp_106, -697015994);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc UnwindStatistics;
    havoc Tmp_103;
    call {:si_unique_call 122} sdv_RtlZeroMemory(0, Tmp_103);
    i_1 := 0;
    goto L193;

  L193:
    call {:si_unique_call 123} i_1, Tmp_101, Tmp_108, Tmp_109, Tmp_113, Tmp_115, Tmp_119 := FatInitializeVcb_loop_L193(i_1, Tmp_101, Tmp_108, Tmp_109, Tmp_113, Tmp_115, Tmp_119, Vcb_3);
    goto L193_last;

  L193_last:
    goto anon63_Then, anon63_Else;

  anon63_Else:
    Tmp_119 := i_1;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc Tmp_108;
    assume {:nonnull} Tmp_108 != 0;
    assume Tmp_108 > 0;
    Tmp_113 := i_1;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc Tmp_115;
    assume {:nonnull} Tmp_115 != 0;
    assume Tmp_115 > 0;
    Tmp_101 := i_1;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    havoc Tmp_109;
    assume {:nonnull} Tmp_109 != 0;
    assume Tmp_109 > 0;
    i_1 := i_1 + 1;
    goto anon63_Else_dummy;

  anon63_Else_dummy:
    assume false;
    return;

  anon63_Then:
    call {:si_unique_call 124} sdv_53 := ExAllocatePoolWithTag(16, 88, -160145082);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 125} sdv_RtlZeroMemory(0, 88);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 126} InitializeListHead(AsyncCloseList__VCB(Vcb_3));
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 127} InitializeListHead(DelayedCloseList__VCB(Vcb_3));
    call {:si_unique_call 128} sdv_ExInitializeFastMutex(0);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    call {:si_unique_call 129} FsRtlSetupAdvancedHeader(VolumeFileHeader__VCB(Vcb_3), AdvancedFcbHeaderMutex__VCB(Vcb_3));
    assume {:nonnull} IrpContext_10 != 0;
    assume IrpContext_10 > 0;
    call {:si_unique_call 130} sdv_48 := sdv_AbnormalTermination();
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} sdv_48 != 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} UnwindCacheMap != 0;
    call {:si_unique_call 131} FatSyncUninitializeCacheMap(IrpContext_10, UnwindCacheMap);
    goto L224;

  L224:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} UnwindFileObject != 0;
    call {:si_unique_call 132} vslice_dummy_var_22 := sdv_ObDereferenceObject(0);
    goto L228;

  L228:
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} UnwindResource != 0;
    call {:si_unique_call 133} vslice_dummy_var_23 := ExDeleteResourceLite(0);
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} yogi_error != 1;
    goto L232;

  L232:
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} UnwindResource2 != 0;
    call {:si_unique_call 134} vslice_dummy_var_24 := ExDeleteResourceLite(0);
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} yogi_error != 1;
    goto L236;

  L236:
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} UnwindWeAllocatedMcb != 0;
    goto L240;

  L240:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:nonnull} IrpContext_10 != 0;
    assume IrpContext_10 > 0;
    havoc Tmp_118;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} Tmp_118 == 0;
    Tmp_100 := 0;
    goto L359;

  L359:
    call {:si_unique_call 135} vslice_dummy_var_32 := ExAcquireResourceExclusiveLite(0, Tmp_100);
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 136} vslice_dummy_var_25 := sdv_RemoveEntryList(0);
    call {:si_unique_call 137} ExReleaseResourceLite(0);
    goto L244;

  L244:
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} UnwindStatistics != 0;
    call {:si_unique_call 138} sdv_ExFreePool(0);
    goto L256;

  L256:
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    call {:si_unique_call 139} sdv_ExFreePool(0);
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon72_Then:
    goto L1;

  anon71_Then:
    assume {:partition} UnwindStatistics == 0;
    goto L256;

  anon81_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon80_Then:
    assume {:partition} Tmp_118 != 0;
    Tmp_100 := 1;
    goto L359;

  anon70_Then:
    goto L244;

  anon69_Then:
    assume {:partition} UnwindWeAllocatedMcb == 0;
    goto L240;

  anon79_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon68_Then:
    assume {:partition} UnwindResource2 == 0;
    goto L236;

  anon78_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon67_Then:
    assume {:partition} UnwindResource == 0;
    goto L232;

  anon66_Then:
    assume {:partition} UnwindFileObject == 0;
    goto L228;

  anon65_Then:
    assume {:partition} UnwindCacheMap == 0;
    goto L224;

  anon64_Then:
    assume {:partition} sdv_48 == 0;
    goto L1;

  anon77_Then:
    call {:si_unique_call 140} UnwindFileObject := __HAVOC_malloc(1);
    goto L137;

  anon76_Then:
    goto L119;

  anon75_Then:
    goto L117;

  anon58_Then:
    assume {:nonnull} HotplugInfo != 0;
    assume HotplugInfo > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:nonnull} HotplugInfo != 0;
    assume HotplugInfo > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:nonnull} HotplugInfo != 0;
    assume HotplugInfo > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    call {:si_unique_call 141} Status_2 := FatToggleMediaEjectDisable(IrpContext_10, Vcb_3, 1);
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} Status_2 >= 0;
    goto L113;

  L113:
    call {:si_unique_call 142} Status_2 := FatToggleMediaEjectDisable(IrpContext_10, Vcb_3, 0);
    goto L98;

  anon62_Then:
    assume {:partition} 0 > Status_2;
    assume {:nonnull} Vcb_3 != 0;
    assume Vcb_3 > 0;
    goto L113;

  anon61_Then:
    goto L98;

  anon60_Then:
    goto L98;

  anon59_Then:
    goto L104;

  anon57_Then:
    goto L98;

  anon56_Then:
    goto L100;

  anon55_Then:
    assume {:partition} 0 > Status_2;
    goto L98;

  anon74_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon73_Then:
    assume {:partition} Tmp_112 != 0;
    Tmp_116 := 1;
    goto L300;
}



procedure {:origName "FatCreateCcb"} FatCreateCcb(actual_IrpContext_11: int) returns (Tmp_120: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateCcb"} FatCreateCcb(actual_IrpContext_11: int) returns (Tmp_120: int)
{
  var {:pointer} Ccb_1: int;

  anon0:
    call {:si_unique_call 143} Ccb_1 := FatAllocateCcb();
    call {:si_unique_call 144} sdv_RtlZeroMemory(0, 44);
    assume {:nonnull} Ccb_1 != 0;
    assume Ccb_1 > 0;
    assume {:nonnull} Ccb_1 != 0;
    assume Ccb_1 > 0;
    Tmp_120 := Ccb_1;
    return;
}



procedure {:origName "FatFreeCcb"} FatFreeCcb(actual_Ccb_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFreeCcb"} FatFreeCcb(actual_Ccb_2: int)
{
  var vslice_dummy_var_33: int;

  anon0:
    call {:si_unique_call 145} vslice_dummy_var_33 := __HAVOC_malloc(4);
    call {:si_unique_call 146} sdv_ExFreePool(0);
    return;
}



procedure {:origName "FatCheckFreeDirentBitmap"} FatCheckFreeDirentBitmap(actual_IrpContext_12: int, actual_Dcb: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCheckFreeDirentBitmap"} FatCheckFreeDirentBitmap(actual_IrpContext_12: int, actual_Dcb: int)
{
  var {:scalar} BytesInOldBitmapBuffer: int;
  var {:scalar} NewNumberOfDirents: int;
  var {:pointer} sdv_65: int;
  var {:scalar} OldNumberOfDirents: int;
  var {:scalar} BytesInBitmapBuffer: int;
  var {:pointer} OldBitmapBuffer: int;
  var {:pointer} Tmp_127: int;
  var {:pointer} Tmp_128: int;
  var {:pointer} Tmp_130: int;
  var {:pointer} BitmapBuffer: int;
  var {:scalar} Tmp_132: int;
  var {:pointer} Dcb: int;
  var vslice_dummy_var_34: int;

  anon0:
    call {:si_unique_call 147} vslice_dummy_var_34 := __HAVOC_malloc(4);
    Dcb := actual_Dcb;
    call {:si_unique_call 148} Tmp_127 := __HAVOC_malloc(4);
    call {:si_unique_call 149} Tmp_128 := __HAVOC_malloc(4);
    call {:si_unique_call 150} Tmp_130 := __HAVOC_malloc(4);
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    havoc OldNumberOfDirents;
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    havoc NewNumberOfDirents;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} NewNumberOfDirents > OldNumberOfDirents;
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    call {:si_unique_call 151} ExAcquireFastMutexUnsafe(0);
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    havoc OldNumberOfDirents;
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    havoc NewNumberOfDirents;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} NewNumberOfDirents > OldNumberOfDirents;
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    havoc OldBitmapBuffer;
    BytesInBitmapBuffer := INTDIV(NewNumberOfDirents, 8);
    BytesInOldBitmapBuffer := INTDIV(OldNumberOfDirents, 8);
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} 32 >= BytesInBitmapBuffer;
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    havoc Tmp_128;
    BitmapBuffer := Tmp_128;
    goto L29;

  L29:
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} OldNumberOfDirents != 0;
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    havoc Tmp_127;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} BitmapBuffer != Tmp_127;
    call {:si_unique_call 152} sdv_RtlCopyMemory(0, 0, BytesInOldBitmapBuffer);
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    havoc Tmp_130;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} OldBitmapBuffer != Tmp_130;
    call {:si_unique_call 153} sdv_ExFreePool(0);
    goto L30;

  L30:
    Tmp_132 := BytesInBitmapBuffer - BytesInOldBitmapBuffer;
    call {:si_unique_call 154} sdv_RtlZeroMemory(0, Tmp_132);
    goto L18;

  L18:
    assume {:nonnull} Dcb != 0;
    assume Dcb > 0;
    call {:si_unique_call 155} ExReleaseFastMutexUnsafe(0);
    goto L1;

  L1:
    return;

  anon18_Then:
    assume {:partition} OldBitmapBuffer == Tmp_130;
    goto L30;

  anon17_Then:
    assume {:partition} BitmapBuffer == Tmp_127;
    goto L30;

  anon13_Then:
    assume {:partition} OldNumberOfDirents == 0;
    goto L30;

  anon16_Then:
    assume {:partition} BytesInBitmapBuffer > 32;
    call {:si_unique_call 156} sdv_65 := ExAllocatePoolWithTag(17, BytesInBitmapBuffer, -730570426);
    BitmapBuffer := sdv_65;
    goto L29;

  anon15_Then:
    assume {:partition} OldNumberOfDirents >= NewNumberOfDirents;
    goto L18;

  anon14_Then:
    assume {:partition} OldNumberOfDirents >= NewNumberOfDirents;
    goto L1;
}



procedure {:origName "FatDeallocateCcbStrings"} FatDeallocateCcbStrings(actual_Ccb_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeallocateCcbStrings"} FatDeallocateCcbStrings(actual_Ccb_3: int)
{
  var {:pointer} Ccb_3: int;
  var vslice_dummy_var_35: int;

  anon0:
    call {:si_unique_call 157} vslice_dummy_var_35 := __HAVOC_malloc(4);
    Ccb_3 := actual_Ccb_3;
    assume {:nonnull} Ccb_3 != 0;
    assume Ccb_3 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    call {:si_unique_call 158} RtlFreeUnicodeString(0);
    goto L4;

  L4:
    assume {:nonnull} Ccb_3 != 0;
    assume Ccb_3 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    goto L8;

  L8:
    assume {:nonnull} Ccb_3 != 0;
    assume Ccb_3 > 0;
    return;

  anon6_Then:
    goto L8;

  anon5_Then:
    goto L4;
}



procedure {:origName "FatEnsureStringBufferEnough"} FatEnsureStringBufferEnough(actual_String: int, actual_DesiredBufferSize: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatEnsureStringBufferEnough"} FatEnsureStringBufferEnough(actual_String: int, actual_DesiredBufferSize: int)
{
  var {:pointer} sdv_66: int;
  var {:pointer} LocalString: int;
  var {:scalar} Tmp_137: int;
  var {:pointer} String: int;
  var {:scalar} DesiredBufferSize: int;
  var vslice_dummy_var_36: int;

  anon0:
    call {:si_unique_call 159} vslice_dummy_var_36 := __HAVOC_malloc(4);
    String := actual_String;
    DesiredBufferSize := actual_DesiredBufferSize;
    LocalString := String;
    assume {:nonnull} LocalString != 0;
    assume LocalString > 0;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    call {:si_unique_call 160} FatFreeStringBuffer(LocalString);
    Tmp_137 := DesiredBufferSize;
    call {:si_unique_call 161} sdv_66 := ExAllocatePoolWithTag(17, Tmp_137, -478912186);
    assume {:nonnull} LocalString != 0;
    assume LocalString > 0;
    assume {:nonnull} LocalString != 0;
    assume LocalString > 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    goto L1;
}



procedure {:origName "FatCreateDcb"} FatCreateDcb(actual_IrpContext_13: int, actual_Vcb_4: int, actual_ParentDcb: int, actual_LfnOffsetWithinDirectory: int, actual_DirentOffsetWithinDirectory: int, actual_Dirent_1: int, actual_Lfn_1: int) returns (Tmp_138: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateDcb"} FatCreateDcb(actual_IrpContext_13: int, actual_Vcb_4: int, actual_ParentDcb: int, actual_LfnOffsetWithinDirectory: int, actual_DirentOffsetWithinDirectory: int, actual_Dirent_1: int, actual_Lfn_1: int) returns (Tmp_138: int)
{
  var {:scalar} i_2: int;
  var {:pointer} Tmp_139: int;
  var {:pointer} UnwindStorage: int;
  var {:pointer} Tmp_140: int;
  var {:pointer} UnwindResource_1: int;
  var {:scalar} FatSystemJanOne1980: int;
  var {:pointer} Tmp_141: int;
  var {:pointer} Tmp_143: int;
  var {:pointer} Dcb_1: int;
  var {:pointer} Tmp_145: int;
  var {:scalar} Tmp_146: int;
  var {:pointer} UnwindResource2_1: int;
  var {:scalar} Tmp_147: int;
  var {:pointer} Tmp_148: int;
  var {:scalar} sdv_77: int;
  var {:pointer} UnwindMcb: int;
  var {:pointer} IrpContext_13: int;
  var {:pointer} Vcb_4: int;
  var {:pointer} ParentDcb: int;
  var {:scalar} LfnOffsetWithinDirectory: int;
  var {:scalar} DirentOffsetWithinDirectory: int;
  var {:pointer} Dirent_1: int;
  var {:pointer} Lfn_1: int;
  var boogieTmp: int;
  var vslice_dummy_var_37: int;
  var vslice_dummy_var_38: int;
  var vslice_dummy_var_39: int;
  var vslice_dummy_var_40: int;
  var vslice_dummy_var_36: int;
  var vslice_dummy_var_41: int;
  var vslice_dummy_var_42: int;

  anon0:
    call {:si_unique_call 162} FatSystemJanOne1980 := __HAVOC_malloc(20);
    call {:si_unique_call 163} vslice_dummy_var_37 := __HAVOC_malloc(20);
    call {:si_unique_call 164} vslice_dummy_var_38 := __HAVOC_malloc(20);
    call {:si_unique_call 165} vslice_dummy_var_39 := __HAVOC_malloc(20);
    IrpContext_13 := actual_IrpContext_13;
    Vcb_4 := actual_Vcb_4;
    ParentDcb := actual_ParentDcb;
    LfnOffsetWithinDirectory := actual_LfnOffsetWithinDirectory;
    DirentOffsetWithinDirectory := actual_DirentOffsetWithinDirectory;
    Dirent_1 := actual_Dirent_1;
    Lfn_1 := actual_Lfn_1;
    call {:si_unique_call 166} UnwindStorage := __HAVOC_malloc(8);
    assume {:nonnull} UnwindStorage != 0;
    assume UnwindStorage > 0;
    UnwindResource_1 := 0;
    UnwindResource2_1 := 0;
    UnwindMcb := 0;
    call {:si_unique_call 167} Dcb_1 := FatAllocateFcb();
    assume {:nonnull} UnwindStorage != 0;
    assume UnwindStorage > 0;
    call {:si_unique_call 168} sdv_RtlZeroMemory(0, 352);
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    call {:si_unique_call 169} boogieTmp := FatAllocateNonPagedFcb();
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} UnwindStorage != 0;
    assume UnwindStorage > 0;
    call {:si_unique_call 170} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    call {:si_unique_call 171} boogieTmp := FatAllocateResource();
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    havoc UnwindResource_1;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    call {:si_unique_call 172} boogieTmp := FatAllocateResource();
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    havoc UnwindResource2_1;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} ParentDcb != 0;
    assume ParentDcb > 0;
    call {:si_unique_call 173} InsertHeadList(ParentDcbQueue_unnamed_tag_68(Dcb_unnamed_tag_67(Specific__FCB(ParentDcb))), ParentDcbLinks__FCB(Dcb_1));
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dirent_1 != 0;
    assume Dirent_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dirent_1 != 0;
    assume Dirent_1 > 0;
    havoc vslice_dummy_var_36;
    call {:si_unique_call 174} boogieTmp := FatFatTimeToNtTime(IrpContext_13, vslice_dummy_var_36, 0);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    Tmp_139 := Dirent_1;
    Tmp_140 := Dirent_1;
    assume {:nonnull} Tmp_139 != 0;
    assume Tmp_139 > 0;
    assume {:nonnull} Tmp_140 != 0;
    assume Tmp_140 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} BAND(Mem_T.INT4[Tmp_139 + 9 * 4], Mem_T.INT4[Tmp_140 + 8 * 4]) != 0;
    goto L94;

  L94:
    Tmp_141 := Dirent_1;
    assume {:nonnull} Tmp_141 != 0;
    assume Tmp_141 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} Mem_T.INT4[Tmp_141 + 9 * 4] != 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dirent_1 != 0;
    assume Dirent_1 > 0;
    havoc vslice_dummy_var_41;
    call {:si_unique_call 175} boogieTmp := FatFatDateToNtTime(IrpContext_13, vslice_dummy_var_41);
    goto L100;

  L100:
    Tmp_143 := Dirent_1;
    assume {:nonnull} Tmp_143 != 0;
    assume Tmp_143 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} Mem_T.INT4[Tmp_143 + 8 * 4] != 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dirent_1 != 0;
    assume Dirent_1 > 0;
    havoc vslice_dummy_var_42;
    call {:si_unique_call 176} boogieTmp := FatFatTimeToNtTime(IrpContext_13, vslice_dummy_var_42, Mem_T.INT4[CreationMSec__PACKED_DIRENT(Dirent_1)]);
    goto L86;

  L86:
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    call {:si_unique_call 177} sdv_ExInitializeFastMutex(0);
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    havoc Tmp_148;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Tmp_148 != 0;
    assume Tmp_148 > 0;
    call {:si_unique_call 178} FsRtlSetupAdvancedHeader(Header__FCB(Dcb_1), AdvancedFcbHeaderMutex__NON_PAGED_FCB(Tmp_148));
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    UnwindMcb := Mcb__FCB(Dcb_1);
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dirent_1 != 0;
    assume Dirent_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    havoc Tmp_145;
    assume {:nonnull} Tmp_145 != 0;
    assume Tmp_145 > 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    call {:si_unique_call 179} boogieTmp := corral_nondet();
    goto L115;

  L115:
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    goto L119;

  L119:
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    call {:si_unique_call 180} InitializeListHead(ParentDcbQueue_unnamed_tag_68(Dcb_unnamed_tag_67(Specific__FCB(Dcb_1))));
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    call {:si_unique_call 181} FatConstructNamesInFcb(IrpContext_13, Dcb_1, Dirent_1, Lfn_1);
    call {:si_unique_call 182} sdv_77 := sdv_AbnormalTermination();
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} sdv_77 != 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} UnwindMcb != 0;
    goto L137;

  L137:
    goto anon39_Then, anon39_Else;

  anon39_Else:
    call {:si_unique_call 183} vslice_dummy_var_40 := sdv_RemoveEntryList(0);
    goto L141;

  L141:
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} UnwindResource_1 != 0;
    call {:si_unique_call 184} FatFreeResource(UnwindResource_1);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto L145;

  L145:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} UnwindResource2_1 != 0;
    call {:si_unique_call 185} FatFreeResource(UnwindResource2_1);
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} yogi_error != 1;
    goto L149;

  L149:
    i_2 := 0;
    goto L153;

  L153:
    call {:si_unique_call 186} i_2, Tmp_146, Tmp_147 := FatCreateDcb_loop_L153(i_2, UnwindStorage, Tmp_146, Tmp_147);
    goto L153_last;

  L153_last:
    assume {:CounterLoop 2} {:Counter "i_2"} true;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} 2 > i_2;
    Tmp_147 := i_2;
    assume {:nonnull} UnwindStorage != 0;
    assume UnwindStorage > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    Tmp_146 := i_2;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume Tmp_146 != 1;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume Tmp_146 != 0;
    goto L171;

  L171:
    call {:si_unique_call 187} sdv_ExFreePool(0);
    goto L155;

  L155:
    i_2 := i_2 + 1;
    goto L155_dummy;

  L155_dummy:
    assume false;
    return;

  anon51_Then:
    assume Tmp_146 == 0;
    Tmp_146 := 0;
    assume {:nonnull} UnwindStorage != 0;
    assume UnwindStorage > 0;
    goto L171;

  anon50_Then:
    assume Tmp_146 == 1;
    Tmp_146 := 1;
    assume {:nonnull} UnwindStorage != 0;
    assume UnwindStorage > 0;
    goto L171;

  anon49_Then:
    goto L155;

  anon42_Then:
    assume {:partition} i_2 >= 2;
    goto L134;

  L134:
    Tmp_138 := Dcb_1;
    goto LM2;

  LM2:
    return;

  anon48_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon41_Then:
    assume {:partition} UnwindResource2_1 == 0;
    goto L149;

  anon47_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon40_Then:
    assume {:partition} UnwindResource_1 == 0;
    goto L145;

  anon39_Then:
    goto L141;

  anon38_Then:
    assume {:partition} UnwindMcb == 0;
    goto L137;

  anon37_Then:
    assume {:partition} sdv_77 == 0;
    goto L134;

  anon36_Then:
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    goto L119;

  anon46_Then:
    goto L115;

  anon45_Then:
    assume {:partition} Mem_T.INT4[Tmp_143 + 8 * 4] == 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    goto L86;

  anon44_Then:
    assume {:partition} Mem_T.INT4[Tmp_141 + 9 * 4] == 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    assume {:nonnull} Dcb_1 != 0;
    assume Dcb_1 > 0;
    assume {:nonnull} FatSystemJanOne1980 != 0;
    assume FatSystemJanOne1980 > 0;
    goto L100;

  anon43_Then:
    assume {:partition} BAND(Mem_T.INT4[Tmp_139 + 9 * 4], Mem_T.INT4[Tmp_140 + 8 * 4]) == 0;
    goto L94;

  anon35_Then:
    goto L86;
}



procedure {:origName "FatFreeStringBuffer"} FatFreeStringBuffer(actual_String_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFreeStringBuffer"} FatFreeStringBuffer(actual_String_1: int)
{
  var {:pointer} LocalString_1: int;
  var {:scalar} Low: int;
  var {:scalar} High: int;
  var {:pointer} String_1: int;
  var vslice_dummy_var_41: int;

  anon0:
    call {:si_unique_call 188} vslice_dummy_var_41 := __HAVOC_malloc(4);
    String_1 := actual_String_1;
    LocalString_1 := String_1;
    assume {:nonnull} LocalString_1 != 0;
    assume LocalString_1 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    call {:si_unique_call 189} IoGetStackLimits(0, 0);
    assume {:nonnull} LocalString_1 != 0;
    assume LocalString_1 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    goto L14;

  L14:
    call {:si_unique_call 190} sdv_ExFreePool(0);
    goto L17;

  L17:
    assume {:nonnull} LocalString_1 != 0;
    assume LocalString_1 > 0;
    goto L8;

  L8:
    assume {:nonnull} LocalString_1 != 0;
    assume LocalString_1 > 0;
    assume {:nonnull} LocalString_1 != 0;
    assume LocalString_1 > 0;
    return;

  anon7_Then:
    assume {:nonnull} LocalString_1 != 0;
    assume LocalString_1 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    goto L17;

  anon8_Then:
    goto L14;

  anon9_Then:
    goto L8;
}



procedure {:origName "FatCreateFcb"} FatCreateFcb(actual_IrpContext_14: int, actual_Vcb_5: int, actual_ParentDcb_1: int, actual_LfnOffsetWithinDirectory_1: int, actual_DirentOffsetWithinDirectory_1: int, actual_Dirent_2: int, actual_Lfn_2: int, actual_IsPagingFile: int, actual_SingleResource: int) returns (Tmp_152: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateFcb"} FatCreateFcb(actual_IrpContext_14: int, actual_Vcb_5: int, actual_ParentDcb_1: int, actual_LfnOffsetWithinDirectory_1: int, actual_DirentOffsetWithinDirectory_1: int, actual_Dirent_2: int, actual_Lfn_2: int, actual_IsPagingFile: int, actual_SingleResource: int) returns (Tmp_152: int)
{
  var {:scalar} i_3: int;
  var {:pointer} sdv_78: int;
  var {:pointer} Tmp_154: int;
  var {:pointer} Fcb_6: int;
  var {:pointer} UnwindStorage_1: int;
  var {:scalar} Tmp_155: int;
  var {:pointer} sdv_79: int;
  var {:pointer} UnwindResource_2: int;
  var {:scalar} FatSystemJanOne1980_1: int;
  var {:pointer} Tmp_157: int;
  var {:pointer} UnwindFileLock: int;
  var {:pointer} Tmp_158: int;
  var {:pointer} Tmp_160: int;
  var {:pointer} UnwindResource2_2: int;
  var {:pointer} Tmp_161: int;
  var {:scalar} sdv_89: int;
  var {:pointer} UnwindOplock: int;
  var {:pointer} UnwindMcb_1: int;
  var {:scalar} Tmp_163: int;
  var {:pointer} IrpContext_14: int;
  var {:pointer} Vcb_5: int;
  var {:pointer} ParentDcb_1: int;
  var {:scalar} LfnOffsetWithinDirectory_1: int;
  var {:scalar} DirentOffsetWithinDirectory_1: int;
  var {:pointer} Dirent_2: int;
  var {:pointer} Lfn_2: int;
  var {:scalar} IsPagingFile: int;
  var {:scalar} SingleResource: int;
  var boogieTmp: int;
  var vslice_dummy_var_42: int;
  var vslice_dummy_var_43: int;
  var vslice_dummy_var_44: int;
  var vslice_dummy_var_45: int;
  var vslice_dummy_var_46: int;
  var vslice_dummy_var_47: int;
  var vslice_dummy_var_48: int;
  var vslice_dummy_var_49: int;

  anon0:
    call {:si_unique_call 191} FatSystemJanOne1980_1 := __HAVOC_malloc(20);
    call {:si_unique_call 192} vslice_dummy_var_42 := __HAVOC_malloc(20);
    call {:si_unique_call 193} vslice_dummy_var_43 := __HAVOC_malloc(20);
    call {:si_unique_call 194} vslice_dummy_var_44 := __HAVOC_malloc(20);
    IrpContext_14 := actual_IrpContext_14;
    Vcb_5 := actual_Vcb_5;
    ParentDcb_1 := actual_ParentDcb_1;
    LfnOffsetWithinDirectory_1 := actual_LfnOffsetWithinDirectory_1;
    DirentOffsetWithinDirectory_1 := actual_DirentOffsetWithinDirectory_1;
    Dirent_2 := actual_Dirent_2;
    Lfn_2 := actual_Lfn_2;
    IsPagingFile := actual_IsPagingFile;
    SingleResource := actual_SingleResource;
    call {:si_unique_call 195} UnwindStorage_1 := __HAVOC_malloc(8);
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    UnwindResource_2 := 0;
    UnwindResource2_2 := 0;
    UnwindMcb_1 := 0;
    UnwindFileLock := 0;
    UnwindOplock := 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} IsPagingFile != 0;
    call {:si_unique_call 196} sdv_79 := ExAllocatePoolWithTag(16, 352, -965451450);
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    havoc Fcb_6;
    goto L63;

  L63:
    call {:si_unique_call 197} sdv_RtlZeroMemory(0, 352);
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    call {:si_unique_call 198} boogieTmp := FatAllocateNonPagedFcb();
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    call {:si_unique_call 199} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} IsPagingFile != 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto L78;

  L78:
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    call {:si_unique_call 200} boogieTmp := FatAllocateResource();
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    havoc UnwindResource_2;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} SingleResource != 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto L89;

  L89:
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} ParentDcb_1 != 0;
    assume ParentDcb_1 > 0;
    call {:si_unique_call 201} vslice_dummy_var_45 := sdv_InsertTailList(ParentDcbQueue_unnamed_tag_68(Dcb_unnamed_tag_67(Specific__FCB(ParentDcb_1))), ParentDcbLinks__FCB(Fcb_6));
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Dirent_2 != 0;
    assume Dirent_2 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Dirent_2 != 0;
    assume Dirent_2 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    havoc vslice_dummy_var_47;
    call {:si_unique_call 202} boogieTmp := FatFatTimeToNtTime(IrpContext_14, vslice_dummy_var_47, 0);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    Tmp_157 := Dirent_2;
    Tmp_154 := Dirent_2;
    assume {:nonnull} Tmp_154 != 0;
    assume Tmp_154 > 0;
    assume {:nonnull} Tmp_157 != 0;
    assume Tmp_157 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} BAND(Mem_T.INT4[Tmp_157 + 9 * 4], Mem_T.INT4[Tmp_154 + 8 * 4]) != 0;
    goto L111;

  L111:
    Tmp_158 := Dirent_2;
    assume {:nonnull} Tmp_158 != 0;
    assume Tmp_158 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} Mem_T.INT4[Tmp_158 + 9 * 4] != 0;
    assume {:nonnull} Dirent_2 != 0;
    assume Dirent_2 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    havoc vslice_dummy_var_48;
    call {:si_unique_call 203} boogieTmp := FatFatDateToNtTime(IrpContext_14, vslice_dummy_var_48);
    goto L117;

  L117:
    Tmp_160 := Dirent_2;
    assume {:nonnull} Tmp_160 != 0;
    assume Tmp_160 > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} Mem_T.INT4[Tmp_160 + 8 * 4] != 0;
    assume {:nonnull} Dirent_2 != 0;
    assume Dirent_2 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    havoc vslice_dummy_var_49;
    call {:si_unique_call 204} boogieTmp := FatFatTimeToNtTime(IrpContext_14, vslice_dummy_var_49, Mem_T.INT4[CreationMSec__PACKED_DIRENT(Dirent_2)]);
    goto L103;

  L103:
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    call {:si_unique_call 205} sdv_ExInitializeFastMutex(0);
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    havoc Tmp_161;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Tmp_161 != 0;
    assume Tmp_161 > 0;
    call {:si_unique_call 206} FsRtlSetupAdvancedHeader(Header__FCB(Fcb_6), AdvancedFcbHeaderMutex__NON_PAGED_FCB(Tmp_161));
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} IsPagingFile != 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto L127;

  L127:
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    UnwindMcb_1 := Mcb__FCB(Fcb_6);
    assume {:nonnull} Dirent_2 != 0;
    assume Dirent_2 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Dirent_2 != 0;
    assume Dirent_2 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Dirent_2 != 0;
    assume Dirent_2 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Dirent_2 != 0;
    assume Dirent_2 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Vcb_5 != 0;
    assume Vcb_5 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    call {:si_unique_call 207} boogieTmp := corral_nondet();
    goto L137;

  L137:
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto L141;

  L141:
    call {:si_unique_call 208} FsRtlInitializeFileLock(0, 0, 0);
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    UnwindFileLock := FileLock_unnamed_tag_69(Fcb_unnamed_tag_67(Specific__FCB(Fcb_6)));
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    UnwindOplock := Oplock_unnamed_tag_69(Fcb_unnamed_tag_67(Specific__FCB(Fcb_6)));
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    call {:si_unique_call 209} FatConstructNamesInFcb(IrpContext_14, Fcb_6, Dirent_2, Lfn_2);
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    call {:si_unique_call 210} sdv_89 := sdv_AbnormalTermination();
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} sdv_89 != 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} UnwindOplock != 0;
    goto L161;

  L161:
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} UnwindFileLock != 0;
    call {:si_unique_call 211} FsRtlUninitializeFileLock(0);
    goto L165;

  L165:
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} UnwindMcb_1 != 0;
    goto L169;

  L169:
    goto anon54_Then, anon54_Else;

  anon54_Else:
    call {:si_unique_call 212} vslice_dummy_var_46 := sdv_RemoveEntryList(0);
    goto L173;

  L173:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} UnwindResource_2 != 0;
    call {:si_unique_call 213} FatFreeResource(UnwindResource_2);
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} yogi_error != 1;
    goto L177;

  L177:
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} UnwindResource2_2 != 0;
    call {:si_unique_call 214} FatFreeResource(UnwindResource2_2);
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} yogi_error != 1;
    goto L181;

  L181:
    i_3 := 0;
    goto L185;

  L185:
    call {:si_unique_call 215} i_3, Tmp_155, Tmp_163 := FatCreateFcb_loop_L185(i_3, UnwindStorage_1, Tmp_155, Tmp_163);
    goto L185_last;

  L185_last:
    assume {:CounterLoop 2} {:Counter "i_3"} true;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} 2 > i_3;
    Tmp_155 := i_3;
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    Tmp_163 := i_3;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume Tmp_163 != 1;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume Tmp_163 != 0;
    goto L213;

  L213:
    call {:si_unique_call 216} sdv_ExFreePool(0);
    goto L187;

  L187:
    i_3 := i_3 + 1;
    goto L187_dummy;

  L187_dummy:
    assume false;
    return;

  anon69_Then:
    assume Tmp_163 == 0;
    Tmp_163 := 0;
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    goto L213;

  anon68_Then:
    assume Tmp_163 == 1;
    Tmp_163 := 1;
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    goto L213;

  anon67_Then:
    goto L187;

  anon57_Then:
    assume {:partition} i_3 >= 2;
    goto L158;

  L158:
    Tmp_152 := Fcb_6;
    goto LM2;

  LM2:
    return;

  anon66_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon56_Then:
    assume {:partition} UnwindResource2_2 == 0;
    goto L181;

  anon65_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon55_Then:
    assume {:partition} UnwindResource_2 == 0;
    goto L177;

  anon54_Then:
    goto L173;

  anon53_Then:
    assume {:partition} UnwindMcb_1 == 0;
    goto L169;

  anon52_Then:
    assume {:partition} UnwindFileLock == 0;
    goto L165;

  anon51_Then:
    assume {:partition} UnwindOplock == 0;
    goto L161;

  anon50_Then:
    assume {:partition} sdv_89 == 0;
    goto L158;

  anon49_Then:
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto L141;

  anon64_Then:
    goto L137;

  anon48_Then:
    assume {:partition} IsPagingFile == 0;
    goto L127;

  anon63_Then:
    assume {:partition} Mem_T.INT4[Tmp_160 + 8 * 4] == 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto L103;

  anon62_Then:
    assume {:partition} Mem_T.INT4[Tmp_158 + 9 * 4] == 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    assume {:nonnull} FatSystemJanOne1980_1 != 0;
    assume FatSystemJanOne1980_1 > 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    goto L117;

  anon61_Then:
    assume {:partition} BAND(Mem_T.INT4[Tmp_157 + 9 * 4], Mem_T.INT4[Tmp_154 + 8 * 4]) == 0;
    goto L111;

  anon47_Then:
    goto L103;

  anon60_Then:
    assume {:partition} SingleResource == 0;
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    call {:si_unique_call 217} boogieTmp := FatAllocateResource();
    assume {:nonnull} Fcb_6 != 0;
    assume Fcb_6 > 0;
    havoc UnwindResource2_2;
    goto L89;

  anon59_Then:
    assume {:partition} IsPagingFile == 0;
    goto L78;

  anon58_Then:
    assume {:partition} IsPagingFile == 0;
    call {:si_unique_call 218} sdv_78 := FatAllocateFcb();
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    assume {:nonnull} UnwindStorage_1 != 0;
    assume UnwindStorage_1 > 0;
    havoc Fcb_6;
    goto L63;
}



procedure {:origName "FatAllocateResource"} FatAllocateResource() returns (Tmp_164: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAllocateResource"} FatAllocateResource() returns (Tmp_164: int)
{
  var {:pointer} sdv_90: int;
  var {:pointer} Resource_1: int;
  var vslice_dummy_var_47: int;

  anon0:
    call {:si_unique_call 219} sdv_90 := sdv_ExAllocateFromNPagedLookasideList(0);
    Resource_1 := sdv_90;
    call {:si_unique_call 220} vslice_dummy_var_47 := ExInitializeResourceLite(0);
    Tmp_164 := Resource_1;
    return;
}



procedure {:origName "FatAllocateIrpContext"} FatAllocateIrpContext() returns (Tmp_166: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAllocateIrpContext"} FatAllocateIrpContext() returns (Tmp_166: int)
{
  var {:pointer} sdv_92: int;

  anon0:
    call {:si_unique_call 221} sdv_92 := sdv_ExAllocateFromNPagedLookasideList(0);
    Tmp_166 := sdv_92;
    return;
}



procedure {:origName "FatAllocateCloseContext"} FatAllocateCloseContext(actual_Vcb_6: int) returns (Tmp_168: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAllocateCloseContext"} FatAllocateCloseContext(actual_Vcb_6: int) returns (Tmp_168: int)
{
  var {:pointer} sdv_93: int;

  anon0:
    call {:si_unique_call 222} sdv_93 := sdv_ExInterlockedPopEntrySList(0, 0);
    Tmp_168 := sdv_93;
    return;
}



procedure {:origName "FatCreateIrpContext"} FatCreateIrpContext(actual_Irp: int, actual_Wait: int) returns (Tmp_175: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateIrpContext"} FatCreateIrpContext(actual_Irp: int, actual_Wait: int) returns (Tmp_175: int)
{
  var {:pointer} Tmp_177: int;
  var {:pointer} FileObject: int;
  var {:scalar} Tmp_178: int;
  var {:pointer} IrpSp_1: int;
  var {:pointer} sdv_99: int;
  var {:pointer} IrpContext_16: int;
  var {:pointer} Tmp_179: int;
  var {:pointer} Irp: int;
  var {:scalar} Wait: int;

  anon0:
    Irp := actual_Irp;
    Wait := actual_Wait;
    call {:si_unique_call 223} IrpSp_1 := sdv_IoGetCurrentIrpStackLocation(Irp);
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    goto L11;

  L11:
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    call {:si_unique_call 224} ExRaiseStatus(-1073741808);
    goto L12;

  L12:
    call {:si_unique_call 225} IrpContext_16 := FatAllocateIrpContext();
    call {:si_unique_call 226} sdv_RtlZeroMemory(0, 68);
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    havoc FileObject;
    assume {:nonnull} FileObject != 0;
    assume FileObject > 0;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    havoc Tmp_179;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} Tmp_179 != 0;
    assume Tmp_179 > 0;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} FileObject != 0;
    assume FileObject > 0;
    havoc Tmp_178;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} Tmp_178 != 0;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    goto L40;

  L40:
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} Wait != 0;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    goto L42;

  L42:
    goto anon33_Then, anon33_Else;

  anon33_Else:
    sdv_99 := 0;
    goto L46;

  L46:
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} sdv_99 != Irp;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    goto L47;

  L47:
    Tmp_175 := IrpContext_16;
    return;

  anon34_Then:
    assume {:partition} sdv_99 == Irp;
    goto L47;

  anon33_Then:
    call {:si_unique_call 227} sdv_99 := __HAVOC_malloc(1);
    goto L46;

  anon32_Then:
    assume {:partition} Wait == 0;
    goto L42;

  anon36_Then:
    assume {:partition} Tmp_178 == 0;
    goto L40;

  anon35_Then:
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    havoc Tmp_177;
    assume {:nonnull} IrpContext_16 != 0;
    assume IrpContext_16 > 0;
    assume {:nonnull} Tmp_177 != 0;
    assume Tmp_177 > 0;
    goto L40;

  anon31_Then:
    goto L40;

  anon30_Then:
    goto L12;

  anon29_Then:
    goto L12;

  anon28_Then:
    goto L12;

  anon27_Then:
    goto L12;

  anon25_Then:
    assume {:nonnull} IrpSp_1 != 0;
    assume IrpSp_1 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    goto L12;

  anon26_Then:
    goto L11;
}



procedure {:origName "FatCreateRootDcb"} FatCreateRootDcb(actual_IrpContext_17: int, actual_Vcb_9: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateRootDcb"} FatCreateRootDcb(actual_IrpContext_17: int, actual_Vcb_9: int)
{
  var {:scalar} i_4: int;
  var {:pointer} UnwindStorage_2: int;
  var {:pointer} Tmp_180: int;
  var {:pointer} sdv_100: int;
  var {:pointer} UnwindResource_3: int;
  var {:pointer} Tmp_182: int;
  var {:scalar} Tmp_183: int;
  var {:pointer} Tmp_184: int;
  var {:scalar} Tmp_185: int;
  var {:pointer} Dcb_2: int;
  var {:pointer} Tmp_186: int;
  var {:pointer} Tmp_187: int;
  var {:pointer} Tmp_188: int;
  var {:pointer} Tmp_189: int;
  var {:pointer} Tmp_190: int;
  var {:pointer} Tmp_191: int;
  var {:pointer} Tmp_192: int;
  var {:pointer} UnwindFileObject_1: int;
  var {:pointer} UnwindResource2_3: int;
  var {:scalar} sdv_108: int;
  var {:scalar} Tmp_195: int;
  var {:pointer} Tmp_196: int;
  var {:scalar} Tmp_197: int;
  var {:scalar} Tmp_199: int;
  var {:pointer} UnwindMcb_2: int;
  var {:pointer} IrpContext_17: int;
  var {:pointer} Vcb_9: int;
  var boogieTmp: int;
  var vslice_dummy_var_48: int;
  var vslice_dummy_var_49: int;
  var vslice_dummy_var_50: int;

  anon0:
    call {:si_unique_call 228} vslice_dummy_var_48 := __HAVOC_malloc(4);
    IrpContext_17 := actual_IrpContext_17;
    Vcb_9 := actual_Vcb_9;
    call {:si_unique_call 229} UnwindStorage_2 := __HAVOC_malloc(8);
    assume {:nonnull} UnwindStorage_2 != 0;
    assume UnwindStorage_2 > 0;
    UnwindResource_3 := 0;
    UnwindResource2_3 := 0;
    UnwindMcb_2 := 0;
    UnwindFileObject_1 := 0;
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    call {:si_unique_call 230} KeBugCheckEx(35, 1835935, 0, 0, 0);
    goto L15;

  L15:
    call {:si_unique_call 231} sdv_100 := ExAllocatePoolWithTag(16, 352, -965451450);
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    havoc Dcb_2;
    assume {:nonnull} UnwindStorage_2 != 0;
    assume UnwindStorage_2 > 0;
    call {:si_unique_call 232} sdv_RtlZeroMemory(0, 352);
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 233} boogieTmp := FatAllocateNonPagedFcb();
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} UnwindStorage_2 != 0;
    assume UnwindStorage_2 > 0;
    call {:si_unique_call 234} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 235} boogieTmp := FatAllocateResource();
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    havoc UnwindResource_3;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 236} boogieTmp := FatAllocateResource();
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    havoc UnwindResource2_3;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 237} InitializeListHead(ParentDcbLinks__FCB(Dcb_2));
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 238} InitializeListHead(ParentDcbQueue_unnamed_tag_68(Dcb_unnamed_tag_67(Specific__FCB(Dcb_2))));
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 239} sdv_ExInitializeFastMutex(0);
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    havoc Tmp_180;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Tmp_180 != 0;
    assume Tmp_180 > 0;
    call {:si_unique_call 240} FsRtlSetupAdvancedHeader(Header__FCB(Dcb_2), AdvancedFcbHeaderMutex__NON_PAGED_FCB(Tmp_180));
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    UnwindMcb_2 := Mcb__FCB(Dcb_2);
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    goto L105;

  L105:
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 241} FatLookupFileAllocationSize#1(IrpContext_17, Dcb_2);
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    goto L112;

  L112:
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 242} FatCheckFreeDirentBitmap(IrpContext_17, Dcb_2);
    call {:si_unique_call 243} sdv_108 := sdv_AbnormalTermination();
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} sdv_108 != 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} UnwindFileObject_1 != 0;
    call {:si_unique_call 244} vslice_dummy_var_49 := sdv_ObDereferenceObject(0);
    goto L127;

  L127:
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} UnwindMcb_2 != 0;
    goto L131;

  L131:
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} UnwindResource_3 != 0;
    call {:si_unique_call 245} FatFreeResource(UnwindResource_3);
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} yogi_error != 1;
    goto L135;

  L135:
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} UnwindResource2_3 != 0;
    call {:si_unique_call 246} FatFreeResource(UnwindResource2_3);
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} yogi_error != 1;
    goto L139;

  L139:
    i_4 := 0;
    goto L143;

  L143:
    call {:si_unique_call 247} i_4, Tmp_185, Tmp_195 := FatCreateRootDcb_loop_L143(i_4, UnwindStorage_2, Tmp_185, Tmp_195);
    goto L143_last;

  L143_last:
    assume {:CounterLoop 2} {:Counter "i_4"} true;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} 2 > i_4;
    Tmp_195 := i_4;
    assume {:nonnull} UnwindStorage_2 != 0;
    assume UnwindStorage_2 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    Tmp_185 := i_4;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume Tmp_185 != 1;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume Tmp_185 != 0;
    goto L167;

  L167:
    call {:si_unique_call 248} sdv_ExFreePool(0);
    goto L146;

  L146:
    i_4 := i_4 + 1;
    goto L146_dummy;

  L146_dummy:
    assume false;
    return;

  anon44_Then:
    assume Tmp_185 == 0;
    Tmp_185 := 0;
    assume {:nonnull} UnwindStorage_2 != 0;
    assume UnwindStorage_2 > 0;
    goto L167;

  anon43_Then:
    assume Tmp_185 == 1;
    Tmp_185 := 1;
    assume {:nonnull} UnwindStorage_2 != 0;
    assume UnwindStorage_2 > 0;
    goto L167;

  anon42_Then:
    goto L146;

  anon37_Then:
    assume {:partition} i_4 >= 2;
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon41_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon36_Then:
    assume {:partition} UnwindResource2_3 == 0;
    goto L139;

  anon40_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon35_Then:
    assume {:partition} UnwindResource_3 == 0;
    goto L135;

  anon34_Then:
    assume {:partition} UnwindMcb_2 == 0;
    goto L131;

  anon33_Then:
    assume {:partition} UnwindFileObject_1 == 0;
    goto L127;

  anon32_Then:
    assume {:partition} sdv_108 == 0;
    goto L1;

  anon31_Then:
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_186 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    assume {:nonnull} Tmp_186 != 0;
    assume Tmp_186 > 0;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    goto L112;

  anon39_Then:
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_196 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Tmp_196 != 0;
    assume Tmp_196 > 0;
    havoc Tmp_199;
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_192 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Tmp_192 != 0;
    assume Tmp_192 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_184 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_187 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Tmp_184 != 0;
    assume Tmp_184 > 0;
    assume {:nonnull} Tmp_187 != 0;
    assume Tmp_187 > 0;
    havoc Tmp_183;
    goto L155;

  L155:
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_190 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_191 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_188 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Tmp_188 != 0;
    assume Tmp_188 > 0;
    assume {:nonnull} Tmp_190 != 0;
    assume Tmp_190 > 0;
    assume {:nonnull} Tmp_191 != 0;
    assume Tmp_191 > 0;
    havoc Tmp_197;
    assume {:nonnull} Dcb_2 != 0;
    assume Dcb_2 > 0;
    call {:si_unique_call 249} vslice_dummy_var_50 := FatAddMcbEntry(Vcb_9, Mcb__FCB(Dcb_2), 0, Tmp_197, Tmp_199);
    goto L105;

  anon45_Then:
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_189 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Vcb_9 != 0;
    assume Vcb_9 > 0;
    Tmp_182 := Bpb__VCB(Vcb_9);
    assume {:nonnull} Tmp_182 != 0;
    assume Tmp_182 > 0;
    assume {:nonnull} Tmp_189 != 0;
    assume Tmp_189 > 0;
    havoc Tmp_183;
    goto L155;

  anon38_Then:
    goto L15;
}



procedure {:origName "FatTearDownVcb"} FatTearDownVcb(actual_IrpContext_18: int, actual_Vcb_10: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatTearDownVcb"} FatTearDownVcb(actual_IrpContext_18: int, actual_Vcb_10: int)
{
  var {:pointer} DirectoryFileObject: int;
  var {:pointer} Tmp_200: int;
  var {:pointer} Tmp_201: int;
  var {:pointer} IrpContext_18: int;
  var {:pointer} Vcb_10: int;
  var vslice_dummy_var_51: int;
  var vslice_dummy_var_52: int;
  var vslice_dummy_var_53: int;
  var vslice_dummy_var_50: int;

  anon0:
    call {:si_unique_call 250} vslice_dummy_var_51 := __HAVOC_malloc(4);
    IrpContext_18 := actual_IrpContext_18;
    Vcb_10 := actual_Vcb_10;
    call {:si_unique_call 251} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_10 != 0;
    assume Vcb_10 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:nonnull} Vcb_10 != 0;
    assume Vcb_10 > 0;
    havoc vslice_dummy_var_50;
    call {:si_unique_call 252} FatSyncUninitializeCacheMap(IrpContext_18, vslice_dummy_var_50);
    call {:si_unique_call 253} vslice_dummy_var_52 := sdv_ObDereferenceObject(0);
    assume {:nonnull} Vcb_10 != 0;
    assume Vcb_10 > 0;
    goto L8;

  L8:
    call {:si_unique_call 254} FatCloseEaFile(IrpContext_18, Vcb_10, 0);
    assume {:nonnull} Vcb_10 != 0;
    assume Vcb_10 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:nonnull} Vcb_10 != 0;
    assume Vcb_10 > 0;
    havoc Tmp_200;
    assume {:nonnull} Tmp_200 != 0;
    assume Tmp_200 > 0;
    havoc DirectoryFileObject;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} DirectoryFileObject != 0;
    call {:si_unique_call 255} FatSyncUninitializeCacheMap(IrpContext_18, DirectoryFileObject);
    assume {:nonnull} Vcb_10 != 0;
    assume Vcb_10 > 0;
    havoc Tmp_201;
    assume {:nonnull} Tmp_201 != 0;
    assume Tmp_201 > 0;
    call {:si_unique_call 256} vslice_dummy_var_53 := sdv_ObDereferenceObject(0);
    goto L22;

  L22:
    assume {:nonnull} Vcb_10 != 0;
    assume Vcb_10 > 0;
    return;

  anon9_Then:
    assume {:partition} DirectoryFileObject == 0;
    goto L22;

  anon8_Then:
    goto L22;

  anon7_Then:
    goto L8;
}



procedure {:origName "_sdv_init20"} _sdv_init20();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init20"} _sdv_init20()
{
  var vslice_dummy_var_54: int;

  anon0:
    call {:si_unique_call 257} vslice_dummy_var_54 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatIsHandleCountZero"} FatIsHandleCountZero(actual_IrpContext_19: int, actual_Vcb_11: int) returns (Tmp_206: int);
  free ensures {:va_keep} Tmp_206 == 0 || Tmp_206 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsHandleCountZero"} FatIsHandleCountZero(actual_IrpContext_19: int, actual_Vcb_11: int) returns (Tmp_206: int)
{
  var {:pointer} Fcb_7: int;
  var {:pointer} IrpContext_19: int;
  var {:pointer} Vcb_11: int;
  var vslice_dummy_var_51: int;

  anon0:
    IrpContext_19 := actual_IrpContext_19;
    Vcb_11 := actual_Vcb_11;
    assume {:nonnull} Vcb_11 != 0;
    assume Vcb_11 > 0;
    havoc Fcb_7;
    goto L5;

  L5:
    call {:si_unique_call 258} Fcb_7 := FatIsHandleCountZero_loop_L5(Fcb_7, IrpContext_19, Vcb_11);
    goto L5_last;

  L5_last:
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} Fcb_7 != 0;
    assume {:nonnull} Fcb_7 != 0;
    assume Fcb_7 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    Tmp_206 := 0;
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:nonnull} Vcb_11 != 0;
    assume Vcb_11 > 0;
    havoc vslice_dummy_var_51;
    call {:si_unique_call 259} Fcb_7 := FatGetNextFcbTopDown(IrpContext_19, Fcb_7, vslice_dummy_var_51);
    goto anon6_Then_dummy;

  anon6_Then_dummy:
    assume false;
    return;

  anon5_Then:
    assume {:partition} Fcb_7 == 0;
    Tmp_206 := 1;
    goto L1;
}



procedure {:origName "FatFreeNonPagedFcb"} FatFreeNonPagedFcb(actual_NonPagedFcb: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFreeNonPagedFcb"} FatFreeNonPagedFcb(actual_NonPagedFcb: int)
{
  var {:pointer} NonPagedFcb: int;
  var vslice_dummy_var_55: int;

  anon0:
    call {:si_unique_call 260} vslice_dummy_var_55 := __HAVOC_malloc(4);
    NonPagedFcb := actual_NonPagedFcb;
    call {:si_unique_call 261} ExFreeToNPagedLookasideList(FatNonPagedFcbLookasideList, NonPagedFcb);
    return;
}



procedure {:origName "_sdv_init2"} _sdv_init2();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init2"} _sdv_init2()
{
  var vslice_dummy_var_56: int;

  anon0:
    call {:si_unique_call 262} vslice_dummy_var_56 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatSplitAllocation"} FatSplitAllocation(actual_IrpContext_20: int, actual_Vcb_12: int, actual_Mcb: int, actual_SplitAtVbo: int, actual_RemainingMcb: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSplitAllocation"} FatSplitAllocation(actual_IrpContext_20: int, actual_Vcb_12: int, actual_Mcb: int, actual_SplitAtVbo: int, actual_RemainingMcb: int)
{
  var {:dopa} {:scalar} Lbo: int;
  var {:scalar} Tmp_213: int;
  var {:scalar} sdv_112: int;
  var {:scalar} SourceVbo: int;
  var {:scalar} sdv_113: int;
  var {:scalar} sdv_115: int;
  var {:dopa} {:scalar} DontCare: int;
  var {:scalar} TargetVbo: int;
  var {:dopa} {:scalar} ByteCount: int;
  var {:pointer} IrpContext_20: int;
  var {:pointer} Vcb_12: int;
  var {:pointer} Mcb: int;
  var {:scalar} SplitAtVbo: int;
  var {:pointer} RemainingMcb: int;
  var vslice_dummy_var_57: int;
  var vslice_dummy_var_58: int;
  var vslice_dummy_var_59: int;
  var vslice_dummy_var_60: int;
  var vslice_dummy_var_61: int;

  anon0:
    call {:si_unique_call 263} Lbo := __HAVOC_malloc(4);
    call {:si_unique_call 264} vslice_dummy_var_57 := __HAVOC_malloc(4);
    call {:si_unique_call 265} DontCare := __HAVOC_malloc(4);
    call {:si_unique_call 266} ByteCount := __HAVOC_malloc(4);
    IrpContext_20 := actual_IrpContext_20;
    Vcb_12 := actual_Vcb_12;
    Mcb := actual_Mcb;
    SplitAtVbo := actual_SplitAtVbo;
    RemainingMcb := actual_RemainingMcb;
    call {:si_unique_call 267} sdv_do_paged_code_check();
    call {:si_unique_call 268} vslice_dummy_var_58 := corral_nondet();
    SourceVbo := SplitAtVbo;
    TargetVbo := 0;
    goto L15;

  L15:
    call {:si_unique_call 269} sdv_112, SourceVbo, TargetVbo, vslice_dummy_var_59 := FatSplitAllocation_loop_L15(Lbo, sdv_112, SourceVbo, TargetVbo, ByteCount, Vcb_12, Mcb, RemainingMcb, vslice_dummy_var_59);
    goto L15_last;

  L15_last:
    call {:si_unique_call 280} sdv_112 := FatLookupMcbEntry(Vcb_12, Mcb, SourceVbo, Lbo, ByteCount, 0);
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} sdv_112 != 0;
    assume {:nonnull} ByteCount != 0;
    assume ByteCount > 0;
    assume {:nonnull} Lbo != 0;
    assume Lbo > 0;
    call {:si_unique_call 270} vslice_dummy_var_59 := FatAddMcbEntry(Vcb_12, RemainingMcb, TargetVbo, Mem_T.INT4[Lbo], Mem_T.INT4[ByteCount]);
    assume {:nonnull} ByteCount != 0;
    assume ByteCount > 0;
    call {:si_unique_call 271} FatRemoveMcbEntry(Vcb_12, Mcb, SourceVbo, Mem_T.INT4[ByteCount]);
    assume {:nonnull} ByteCount != 0;
    assume ByteCount > 0;
    TargetVbo := TargetVbo + Mem_T.INT4[ByteCount];
    assume {:nonnull} ByteCount != 0;
    assume ByteCount > 0;
    SourceVbo := SourceVbo + Mem_T.INT4[ByteCount];
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} SourceVbo == 0;
    goto L37;

  L37:
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} SplitAtVbo != 0;
    call {:si_unique_call 272} vslice_dummy_var_60 := FatLookupLastMcbEntry(Vcb_12, Mcb, DontCare, Lbo, 0);
    call {:si_unique_call 273} Tmp_213 := corral_nondet();
    call {:si_unique_call 274} FatSetFatEntry#1(IrpContext_20, Vcb_12, Tmp_213, 268435455);
    goto L48;

  L48:
    call {:si_unique_call 275} sdv_113 := sdv_AbnormalTermination();
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} sdv_113 != 0;
    TargetVbo := SplitAtVbo;
    SourceVbo := 0;
    goto L62;

  L62:
    call {:si_unique_call 276} SourceVbo, sdv_115, TargetVbo, vslice_dummy_var_61 := FatSplitAllocation_loop_L62(Lbo, SourceVbo, sdv_115, TargetVbo, ByteCount, Vcb_12, Mcb, RemainingMcb, vslice_dummy_var_61);
    goto L62_last;

  L62_last:
    call {:si_unique_call 279} sdv_115 := FatLookupMcbEntry(Vcb_12, RemainingMcb, SourceVbo, Lbo, ByteCount, 0);
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} sdv_115 != 0;
    assume {:nonnull} ByteCount != 0;
    assume ByteCount > 0;
    assume {:nonnull} Lbo != 0;
    assume Lbo > 0;
    call {:si_unique_call 277} vslice_dummy_var_61 := FatAddMcbEntry(Vcb_12, Mcb, TargetVbo, Mem_T.INT4[Lbo], Mem_T.INT4[ByteCount]);
    assume {:nonnull} ByteCount != 0;
    assume ByteCount > 0;
    call {:si_unique_call 278} FatRemoveMcbEntry(Vcb_12, RemainingMcb, SourceVbo, Mem_T.INT4[ByteCount]);
    assume {:nonnull} ByteCount != 0;
    assume ByteCount > 0;
    TargetVbo := TargetVbo + Mem_T.INT4[ByteCount];
    assume {:nonnull} ByteCount != 0;
    assume ByteCount > 0;
    SourceVbo := SourceVbo + Mem_T.INT4[ByteCount];
    goto anon14_Else_dummy;

  anon14_Else_dummy:
    assume false;
    return;

  anon14_Then:
    assume {:partition} sdv_115 == 0;
    goto L1;

  L1:
    return;

  anon13_Then:
    assume {:partition} sdv_113 == 0;
    goto L1;

  anon12_Then:
    assume {:partition} SplitAtVbo == 0;
    goto L48;

  anon15_Then:
    assume {:partition} SourceVbo != 0;
    goto anon15_Then_dummy;

  anon15_Then_dummy:
    assume false;
    return;

  anon11_Then:
    assume {:partition} sdv_112 == 0;
    goto L37;
}



procedure {:origName "FatLogOf"} FatLogOf(actual_Value: int) returns (Tmp_215: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLogOf"} FatLogOf(actual_Value: int) returns (Tmp_215: int)
{
  var {:scalar} Tmp_216: int;
  var {:scalar} Log: int;
  var {:scalar} Value: int;

  anon0:
    Value := actual_Value;
    Log := 0;
    call {:si_unique_call 281} sdv_do_paged_code_check();
    goto L8;

  L8:
    call {:si_unique_call 282} Log, Value := FatLogOf_loop_L8(Log, Value);
    goto L8_last;

  L8_last:
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} BAND(Value, -2) != 0;
    Log := Log + 1;
    call {:si_unique_call 283} Value := corral_nondet();
    goto anon5_Else_dummy;

  anon5_Else_dummy:
    assume false;
    return;

  anon5_Then:
    assume {:partition} BAND(Value, -2) == 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} Value != 1;
    Tmp_216 := Log;
    call {:si_unique_call 284} KeBugCheckEx(35, 135588, Value, Tmp_216, 0);
    goto L12;

  L12:
    Tmp_215 := Log;
    return;

  anon6_Then:
    assume {:partition} Value == 1;
    goto L12;
}



procedure {:origName "FatExamineFatEntries"} FatExamineFatEntries(actual_IrpContext_21: int, actual_Vcb_13: int, actual_StartIndex: int, actual_EndIndex: int, actual_SetupWindows: int, actual_SwitchToWindow: int, actual_BitMapBuffer: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatExamineFatEntries"} FatExamineFatEntries(actual_IrpContext_21: int, actual_Vcb_13: int, actual_StartIndex: int, actual_EndIndex: int, actual_SetupWindows: int, actual_SwitchToWindow: int, actual_BitMapBuffer: int)
{
  var {:pointer} FatBuffer: int;
  var {:scalar} Offset: int;
  var {:scalar} Tmp_219: int;
  var {:scalar} PrivateBitMap: int;
  var {:scalar} Tmp_222: int;
  var {:pointer} NewBitMapBuffer: int;
  var {:scalar} StartIndexOfThisRun: int;
  var {:pointer} CurrentWindow: int;
  var {:pointer} Tmp_224: int;
  var {:pointer} Tmp_225: int;
  var {:scalar} EntriesPerWindow: int;
  var {:pointer} Tmp_226: int;
  var {:pointer} Tmp_228: int;
  var {:pointer} Tmp_229: int;
  var {:pointer} Tmp_230: int;
  var {:scalar} FatIndexBitSize: int;
  var {:pointer} Bcb: int;
  var {:pointer} Tmp_233: int;
  var {:scalar} FatIndex: int;
  var {:scalar} BytesPerEntry: int;
  var {:pointer} Tmp_234: int;
  var {:scalar} Tmp_235: int;
  var {:pointer} Tmp_236: int;
  var {:scalar} Tmp_237: int;
  var {:pointer} FreeClusterCount: int;
  var {:scalar} CurrentRun: int;
  var {:scalar} Page: int;
  var {:pointer} pv: int;
  var {:scalar} Tmp_240: int;
  var {:pointer} Tmp_242: int;
  var {:scalar} FirstFatEntry: int;
  var {:scalar} Tmp_243: int;
  var {:scalar} Tmp_245: int;
  var {:scalar} FatEntry: int;
  var {:pointer} Tmp_246: int;
  var {:pointer} BitMap: int;
  var {:pointer} Tmp_248: int;
  var {:scalar} ClustersThisRun: int;
  var {:pointer} Tmp_250: int;
  var {:pointer} Tmp_251: int;
  var {:pointer} Tmp_252: int;
  var {:pointer} IrpContext_21: int;
  var {:pointer} Vcb_13: int;
  var {:scalar} StartIndex: int;
  var {:scalar} EndIndex: int;
  var {:scalar} SetupWindows: int;
  var {:pointer} SwitchToWindow: int;
  var {:pointer} BitMapBuffer: int;
  var vslice_dummy_var_62: int;

  anon0:
    call {:si_unique_call 285} FatBuffer := __HAVOC_malloc(4);
    call {:si_unique_call 286} PrivateBitMap := __HAVOC_malloc(8);
    call {:si_unique_call 287} Bcb := __HAVOC_malloc(4);
    call {:si_unique_call 288} pv := __HAVOC_malloc(4);
    call {:si_unique_call 289} vslice_dummy_var_62 := __HAVOC_malloc(4);
    IrpContext_21 := actual_IrpContext_21;
    Vcb_13 := actual_Vcb_13;
    StartIndex := actual_StartIndex;
    EndIndex := actual_EndIndex;
    SetupWindows := actual_SetupWindows;
    SwitchToWindow := actual_SwitchToWindow;
    BitMapBuffer := actual_BitMapBuffer;
    FatEntry := 0;
    FirstFatEntry := 0;
    FreeClusterCount := 0;
    CurrentWindow := 0;
    NewBitMapBuffer := 0;
    BitMap := 0;
    call {:si_unique_call 290} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    havoc FatIndexBitSize;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    EntriesPerWindow := 65536;
    goto L35;

  L35:
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    FreeClusterCount := NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_13));
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} SetupWindows != 0;
    BitMap := 0;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    havoc Tmp_252;
    CurrentWindow := Tmp_252;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    goto L42;

  L42:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} FatIndexBitSize != 12;
    call {:si_unique_call 291} BytesPerEntry := corral_nondet();
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_226 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_225 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Tmp_225 != 0;
    assume Tmp_225 > 0;
    assume {:nonnull} Tmp_226 != 0;
    assume Tmp_226 > 0;
    havoc Page;
    Offset := Page * 4096;
    call {:si_unique_call 292} FatReadVolumeFile(IrpContext_21, Vcb_13, Offset, 4096, Bcb, pv);
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} FatIndexBitSize == 32;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    assume {:nonnull} pv != 0;
    assume pv > 0;
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    havoc Tmp_234;
    assume {:nonnull} Tmp_234 != 0;
    assume Tmp_234 > 0;
    FirstFatEntry := Mem_T.INT4[Tmp_234];
    FirstFatEntry := BAND(FirstFatEntry, BNOT(BOR(BOR(BOR(268435456, 536870912), 1073741824), -2147483648)));
    goto L56;

  L56:
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} FirstFatEntry != 0;
    Tmp_240 := 1;
    goto L59;

  L59:
    CurrentRun := Tmp_240;
    StartIndexOfThisRun := StartIndex;
    FatIndex := StartIndex;
    goto L62;

  L62:
    call {:si_unique_call 293} Offset, Tmp_219, StartIndexOfThisRun, Tmp_233, FatIndex, Tmp_237, CurrentRun, Page, FatEntry, ClustersThisRun, Tmp_251 := FatExamineFatEntries_loop_L62(FatBuffer, Offset, Tmp_219, StartIndexOfThisRun, CurrentWindow, EntriesPerWindow, FatIndexBitSize, Bcb, Tmp_233, FatIndex, Tmp_237, FreeClusterCount, CurrentRun, Page, pv, FatEntry, BitMap, ClustersThisRun, Tmp_251, IrpContext_21, Vcb_13, StartIndex, EndIndex, SetupWindows);
    goto L62_last;

  L62_last:
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} EndIndex >= FatIndex;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:partition} FatIndexBitSize == 12;
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    havoc Tmp_251;
    assume {:nonnull} Tmp_251 != 0;
    assume Tmp_251 > 0;
    havoc FatEntry;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} BAND(FatIndex, 1) != 0;
    call {:si_unique_call 294} Tmp_219 := corral_nondet();
    goto L70;

  L70:
    FatEntry := BAND(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048), Tmp_219);
    goto L71;

  L71:
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} CurrentRun == 2;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} FatEntry != 0;
    Tmp_237 := 1;
    goto L76;

  L76:
    CurrentRun := Tmp_237;
    goto L72;

  L72:
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} CurrentRun != 0;
    goto L78;

  L78:
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} CurrentRun == 1;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} FatEntry == 0;
    ClustersThisRun := FatIndex - StartIndexOfThisRun;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:partition} BitMap != 0;
    goto L83;

  L83:
    CurrentRun := 0;
    StartIndexOfThisRun := FatIndex;
    goto L79;

  L79:
    FatIndex := FatIndex + 1;
    goto L79_dummy;

  L79_dummy:
    assume false;
    return;

  anon109_Then:
    assume {:partition} BitMap == 0;
    goto L83;

  anon88_Then:
    assume {:partition} FatEntry != 0;
    goto L79;

  anon87_Then:
    assume {:partition} CurrentRun != 1;
    goto L79;

  anon84_Then:
    assume {:partition} CurrentRun == 0;
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:partition} FatEntry != 0;
    ClustersThisRun := FatIndex - StartIndexOfThisRun;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:partition} FreeClusterCount != 0;
    assume {:nonnull} FreeClusterCount != 0;
    assume FreeClusterCount > 0;
    Mem_T.INT4[FreeClusterCount] := Mem_T.INT4[FreeClusterCount] + ClustersThisRun;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    goto L100;

  L100:
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} BitMap != 0;
    goto L103;

  L103:
    CurrentRun := 1;
    StartIndexOfThisRun := FatIndex;
    goto L78;

  anon89_Then:
    assume {:partition} BitMap == 0;
    goto L103;

  anon110_Then:
    assume {:partition} FreeClusterCount == 0;
    goto L100;

  anon86_Then:
    assume {:partition} FatEntry == 0;
    goto L78;

  anon85_Then:
    assume {:partition} FatEntry == 0;
    Tmp_237 := 0;
    goto L76;

  anon83_Then:
    assume {:partition} CurrentRun != 2;
    goto L72;

  anon108_Then:
    assume {:partition} BAND(FatIndex, 1) == 0;
    Tmp_219 := FatEntry;
    goto L70;

  anon81_Then:
    assume {:partition} FatIndexBitSize != 12;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} SetupWindows != 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:partition} FatIndex > StartIndex;
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} INTMOD(FatIndex - 2, EntriesPerWindow) == 0;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} CurrentRun != 0;
    ClustersThisRun := FatIndex - StartIndexOfThisRun;
    goto L116;

  L116:
    StartIndexOfThisRun := FatIndex;
    CurrentRun := 2;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    goto L109;

  L109:
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    goto L125;

  L125:
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} FatIndexBitSize == 32;
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    havoc Tmp_233;
    assume {:nonnull} Tmp_233 != 0;
    assume Tmp_233 > 0;
    FatEntry := Mem_T.INT4[Tmp_233];
    FatEntry := BAND(FatEntry, BNOT(BOR(BOR(BOR(268435456, 536870912), 1073741824), -2147483648)));
    goto L71;

  anon94_Then:
    assume {:partition} FatIndexBitSize != 32;
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    havoc FatEntry;
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    goto L71;

  anon90_Then:
    assume {:nonnull} Bcb != 0;
    assume Bcb > 0;
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:nonnull} Bcb != 0;
    assume Bcb > 0;
    goto L130;

  L130:
    Page := Page + 1;
    Offset := Offset + 4096;
    call {:si_unique_call 295} FatReadVolumeFile(IrpContext_21, Vcb_13, Offset, 4096, Bcb, pv);
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    assume {:nonnull} pv != 0;
    assume pv > 0;
    goto L125;

  anon93_Then:
    goto L130;

  anon111_Then:
    assume {:partition} CurrentRun == 0;
    ClustersThisRun := FatIndex - StartIndexOfThisRun;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} FreeClusterCount != 0;
    assume {:nonnull} FreeClusterCount != 0;
    assume FreeClusterCount > 0;
    Mem_T.INT4[FreeClusterCount] := Mem_T.INT4[FreeClusterCount] + ClustersThisRun;
    goto L116;

  anon112_Then:
    assume {:partition} FreeClusterCount == 0;
    goto L116;

  anon92_Then:
    assume {:partition} INTMOD(FatIndex - 2, EntriesPerWindow) != 0;
    goto L109;

  anon91_Then:
    assume {:partition} StartIndex >= FatIndex;
    goto L109;

  anon82_Then:
    assume {:partition} SetupWindows == 0;
    goto L109;

  anon80_Then:
    assume {:partition} FatIndex > EndIndex;
    ClustersThisRun := FatIndex - StartIndexOfThisRun;
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} CurrentRun != 0;
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:partition} BitMap != 0;
    goto L143;

  L143:
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} SetupWindows != 0;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    goto L148;

  L148:
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:partition} SwitchToWindow != 0;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    call {:si_unique_call 296} sdv_ExFreePool(0);
    goto L152;

  L152:
    NewBitMapBuffer := 0;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:partition} FreeClusterCount != 0;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    havoc Tmp_236;
    assume {:nonnull} FreeClusterCount != 0;
    assume FreeClusterCount > 0;
    assume {:nonnull} Tmp_236 != 0;
    assume Tmp_236 > 0;
    goto L150;

  L150:
    assume {:nonnull} Bcb != 0;
    assume Bcb > 0;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:nonnull} Bcb != 0;
    assume Bcb > 0;
    goto L166;

  L166:
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} NewBitMapBuffer != 0;
    call {:si_unique_call 297} sdv_ExFreePool(0);
    goto L1;

  L1:
    return;

  anon101_Then:
    assume {:partition} NewBitMapBuffer == 0;
    goto L1;

  anon100_Then:
    goto L166;

  anon114_Then:
    assume {:partition} FreeClusterCount == 0;
    goto L150;

  anon99_Then:
    goto L152;

  anon98_Then:
    assume {:partition} SwitchToWindow == 0;
    goto L150;

  anon97_Then:
    assume {:partition} SetupWindows == 0;
    goto L148;

  anon96_Then:
    assume {:partition} BitMap == 0;
    goto L143;

  anon113_Then:
    assume {:partition} CurrentRun == 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:partition} FreeClusterCount != 0;
    assume {:nonnull} FreeClusterCount != 0;
    assume FreeClusterCount > 0;
    Mem_T.INT4[FreeClusterCount] := Mem_T.INT4[FreeClusterCount] + ClustersThisRun;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    goto L174;

  L174:
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} BitMap != 0;
    goto L143;

  anon102_Then:
    assume {:partition} BitMap == 0;
    goto L143;

  anon95_Then:
    assume {:partition} FreeClusterCount == 0;
    goto L174;

  anon79_Then:
    assume {:partition} FirstFatEntry == 0;
    Tmp_240 := 0;
    goto L59;

  anon103_Then:
    assume {:partition} FatIndexBitSize != 32;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    assume {:nonnull} pv != 0;
    assume pv > 0;
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    havoc FirstFatEntry;
    goto L56;

  anon78_Then:
    assume {:partition} FatIndexBitSize == 12;
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_250 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Tmp_250 != 0;
    assume Tmp_250 > 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_246 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_248 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Tmp_246 != 0;
    assume Tmp_246 > 0;
    assume {:nonnull} Tmp_248 != 0;
    assume Tmp_248 > 0;
    havoc Tmp_235;
    goto L47;

  L47:
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_229 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_224 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Tmp_224 != 0;
    assume Tmp_224 > 0;
    assume {:nonnull} Tmp_229 != 0;
    assume Tmp_229 > 0;
    havoc Tmp_243;
    call {:si_unique_call 298} FatReadVolumeFile(IrpContext_21, Vcb_13, Tmp_243, Tmp_235, Bcb, FatBuffer);
    assume {:nonnull} FatBuffer != 0;
    assume FatBuffer > 0;
    havoc Tmp_242;
    assume {:nonnull} Tmp_242 != 0;
    assume Tmp_242 > 0;
    havoc FirstFatEntry;
    Tmp_222 := FirstFatEntry;
    FirstFatEntry := BAND(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048), Tmp_222);
    goto L56;

  anon107_Then:
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_228 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    Tmp_230 := Bpb__VCB(Vcb_13);
    assume {:nonnull} Tmp_228 != 0;
    assume Tmp_228 > 0;
    assume {:nonnull} Tmp_230 != 0;
    assume Tmp_230 > 0;
    havoc Tmp_235;
    goto L47;

  anon106_Then:
    assume {:partition} SetupWindows == 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} BitMapBuffer != 0;
    BitMap := PrivateBitMap;
    FreeClusterCount := 0;
    goto L42;

  anon77_Then:
    assume {:partition} BitMapBuffer == 0;
    CurrentWindow := SwitchToWindow;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    havoc StartIndex;
    assume {:nonnull} CurrentWindow != 0;
    assume CurrentWindow > 0;
    havoc EndIndex;
    BitMap := PrivateBitMap;
    Tmp_245 := INTDIV(EntriesPerWindow + 7, 8);
    call {:si_unique_call 299} NewBitMapBuffer := ExAllocatePoolWithTag(17, Tmp_245, -1032560314);
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} FatIndexBitSize == 32;
    FreeClusterCount := 0;
    goto L42;

  anon104_Then:
    assume {:partition} FatIndexBitSize != 32;
    goto L42;

  anon105_Then:
    assume {:nonnull} Vcb_13 != 0;
    assume Vcb_13 > 0;
    havoc EntriesPerWindow;
    goto L35;
}



procedure {:origName "FatInterpretClusterType"} FatInterpretClusterType(actual_Vcb_14: int, actual_Entry: int) returns (Tmp_254: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_254 == 4 || Tmp_254 == 1 || Tmp_254 == 2 || Tmp_254 == 3 || Tmp_254 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatInterpretClusterType"} FatInterpretClusterType(actual_Vcb_14: int, actual_Entry: int) returns (Tmp_254: int)
{
  var {:pointer} Vcb_14: int;
  var {:scalar} Entry: int;

  anon0:
    Vcb_14 := actual_Vcb_14;
    Entry := actual_Entry;
    call {:si_unique_call 300} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_14 != 0;
    assume Vcb_14 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} Vcb_14 != 0;
    assume Vcb_14 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} Vcb_14 != 0;
    assume Vcb_14 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    Entry := BAND(Entry, BNOT(BOR(BOR(BOR(268435456, 536870912), 1073741824), -2147483648)));
    goto L11;

  L11:
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} Entry != 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} 268435440 > Entry;
    Tmp_254 := 4;
    goto L1;

  L1:
    return;

  anon23_Then:
    assume {:partition} Entry >= 268435440;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} 268435447 > Entry;
    Tmp_254 := 1;
    goto L1;

  anon24_Then:
    assume {:partition} Entry >= 268435447;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Entry == 268435447;
    Tmp_254 := 2;
    goto L1;

  anon25_Then:
    assume {:partition} Entry != 268435447;
    Tmp_254 := 3;
    goto L1;

  anon22_Then:
    assume {:partition} Entry == 0;
    Tmp_254 := 0;
    goto L1;

  anon26_Then:
    goto L7;

  L7:
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Entry >= 65520;
    Entry := BOR(Entry, BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(65536, 131072), 262144), 524288), 1048576), 2097152), 4194304), 8388608), 16777216), 33554432), 67108864), 134217728));
    goto L11;

  anon20_Then:
    assume {:partition} 65520 > Entry;
    goto L11;

  anon27_Then:
    goto L7;

  anon19_Then:
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Entry >= 4080;
    Entry := BOR(Entry, BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(4096, 8192), 16384), 32768), 65536), 131072), 262144), 524288), 1048576), 2097152), 4194304), 8388608), 16777216), 33554432), 67108864), 134217728));
    goto L11;

  anon21_Then:
    assume {:partition} 4080 > Entry;
    goto L11;
}



procedure {:origName "FatSelectBestWindow"} FatSelectBestWindow(actual_Vcb_16: int) returns (Tmp_260: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSelectBestWindow"} FatSelectBestWindow(actual_Vcb_16: int) returns (Tmp_260: int)
{
  var {:scalar} MaxFree: int;
  var {:scalar} i_5: int;
  var {:pointer} Tmp_261: int;
  var {:scalar} Tmp_263: int;
  var {:scalar} FirstEmpty: int;
  var {:pointer} Tmp_264: int;
  var {:scalar} Fave: int;
  var {:pointer} Tmp_265: int;
  var {:scalar} ClustersPerWindow: int;
  var {:scalar} Tmp_266: int;
  var {:scalar} Tmp_267: int;
  var {:pointer} Vcb_16: int;

  anon0:
    Vcb_16 := actual_Vcb_16;
    Fave := 0;
    MaxFree := 0;
    FirstEmpty := -1;
    ClustersPerWindow := 65536;
    i_5 := 0;
    goto L13;

  L13:
    call {:si_unique_call 301} MaxFree, i_5, Tmp_261, Tmp_263, FirstEmpty, Tmp_264, Fave, Tmp_265, Tmp_266, Tmp_267 := FatSelectBestWindow_loop_L13(MaxFree, i_5, Tmp_261, Tmp_263, FirstEmpty, Tmp_264, Fave, Tmp_265, ClustersPerWindow, Tmp_266, Tmp_267, Vcb_16);
    goto L13_last;

  L13_last:
    assume {:nonnull} Vcb_16 != 0;
    assume Vcb_16 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    Tmp_267 := i_5;
    assume {:nonnull} Vcb_16 != 0;
    assume Vcb_16 > 0;
    havoc Tmp_264;
    assume {:nonnull} Tmp_264 != 0;
    assume Tmp_264 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} -1 == FirstEmpty;
    FirstEmpty := i_5;
    goto L18;

  L18:
    i_5 := i_5 + 1;
    goto L18_dummy;

  L18_dummy:
    assume false;
    return;

  anon17_Then:
    assume {:partition} -1 != FirstEmpty;
    goto L18;

  anon19_Then:
    Tmp_266 := i_5;
    assume {:nonnull} Vcb_16 != 0;
    assume Vcb_16 > 0;
    havoc Tmp_261;
    assume {:nonnull} Tmp_261 != 0;
    assume Tmp_261 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    Tmp_263 := i_5;
    assume {:nonnull} Vcb_16 != 0;
    assume Vcb_16 > 0;
    havoc Tmp_265;
    assume {:nonnull} Tmp_265 != 0;
    assume Tmp_265 > 0;
    havoc MaxFree;
    Fave := i_5;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    goto L18;

  anon21_Then:
    goto L14;

  L14:
    goto anon16_Then, anon16_Else;

  anon16_Else:
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} -1 != FirstEmpty;
    Fave := FirstEmpty;
    goto L24;

  L24:
    Tmp_260 := Fave;
    return;

  anon18_Then:
    assume {:partition} -1 == FirstEmpty;
    goto L24;

  anon16_Then:
    goto L24;

  anon20_Then:
    goto L18;

  anon15_Then:
    goto L14;
}



procedure {:origName "FatAddFileAllocation"} FatAddFileAllocation(actual_IrpContext_25: int, actual_FcbOrDcb_2: int, actual_FileObject_1: int, actual_DesiredAllocationSize: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAddFileAllocation"} FatAddFileAllocation(actual_IrpContext_25: int, actual_FcbOrDcb_2: int, actual_FileObject_1: int, actual_DesiredAllocationSize: int)
{
  var {:scalar} UnwindWeAllocatedDiskSpace: int;
  var {:scalar} Tmp_299: int;
  var {:dopa} {:scalar} FirstLboOfFile: int;
  var {:pointer} Dirent_3: int;
  var {:pointer} Bcb_2: int;
  var {:dopa} {:scalar} NewAllocation: int;
  var {:pointer} McbToCleanup: int;
  var {:dopa} {:scalar} DontCare_2: int;
  var {:scalar} UnwindAllocationSizeSet: int;
  var {:scalar} sdv_133: int;
  var {:pointer} Vcb_18: int;
  var {:scalar} UnwindWeInitializedMcb: int;
  var {:pointer} Tmp_302: int;
  var {:dopa} {:scalar} LastAllocatedLbo: int;
  var {:scalar} UnwindCacheManagerInformed: int;
  var {:scalar} NewMcb: int;
  var {:pointer} IrpContext_25: int;
  var {:pointer} FcbOrDcb_2: int;
  var {:pointer} FileObject_1: int;
  var {:scalar} DesiredAllocationSize: int;
  var boogieTmp: int;
  var vslice_dummy_var_63: int;
  var vslice_dummy_var_64: int;
  var vslice_dummy_var_65: int;
  var vslice_dummy_var_52: int;
  var vslice_dummy_var_53: int;
  var vslice_dummy_var_54: int;
  var vslice_dummy_var_55: int;

  anon0:
    call {:si_unique_call 302} FirstLboOfFile := __HAVOC_malloc(4);
    call {:si_unique_call 303} Dirent_3 := __HAVOC_malloc(4);
    call {:si_unique_call 304} Bcb_2 := __HAVOC_malloc(4);
    call {:si_unique_call 305} NewAllocation := __HAVOC_malloc(4);
    call {:si_unique_call 306} vslice_dummy_var_63 := __HAVOC_malloc(4);
    call {:si_unique_call 307} DontCare_2 := __HAVOC_malloc(4);
    call {:si_unique_call 308} LastAllocatedLbo := __HAVOC_malloc(4);
    call {:si_unique_call 309} NewMcb := __HAVOC_malloc(24);
    IrpContext_25 := actual_IrpContext_25;
    FcbOrDcb_2 := actual_FcbOrDcb_2;
    FileObject_1 := actual_FileObject_1;
    call {:si_unique_call 310} DesiredAllocationSize := __HAVOC_malloc(4);
    Mem_T.INT4[DesiredAllocationSize] := actual_DesiredAllocationSize;
    McbToCleanup := 0;
    assume {:nonnull} Dirent_3 != 0;
    assume Dirent_3 > 0;
    assume {:nonnull} Bcb_2 != 0;
    assume Bcb_2 > 0;
    UnwindWeAllocatedDiskSpace := 0;
    UnwindAllocationSizeSet := 0;
    UnwindCacheManagerInformed := 0;
    UnwindWeInitializedMcb := 0;
    call {:si_unique_call 311} sdv_do_paged_code_check();
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    call {:si_unique_call 312} FatLookupFileAllocationSize#1(IrpContext_25, FcbOrDcb_2);
    goto L24;

  L24:
    assume {:nonnull} DesiredAllocationSize != 0;
    assume DesiredAllocationSize > 0;
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    havoc Vcb_18;
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    call {:si_unique_call 313} FatGetDirentFromFcbOrDcb(IrpContext_25, FcbOrDcb_2, Dirent_3, Bcb_2);
    assume {:nonnull} Bcb_2 != 0;
    assume Bcb_2 > 0;
    havoc vslice_dummy_var_52;
    call {:si_unique_call 314} FatSetDirtyBcb#1(IrpContext_25, vslice_dummy_var_52, Vcb_18, 1);
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    call {:si_unique_call 315} FatAllocateDiskSpace(IrpContext_25, Vcb_18, 0, DesiredAllocationSize, 0, Mcb__FCB(FcbOrDcb_2));
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} yogi_error != 1;
    UnwindWeAllocatedDiskSpace := 1;
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    McbToCleanup := Mcb__FCB(FcbOrDcb_2);
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    havoc vslice_dummy_var_53;
    call {:si_unique_call 316} vslice_dummy_var_65 := FatLookupMcbEntry(vslice_dummy_var_53, Mcb__FCB(FcbOrDcb_2), 0, FirstLboOfFile, 0, 0);
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    call {:si_unique_call 317} boogieTmp := corral_nondet();
    assume {:nonnull} Dirent_3 != 0;
    assume Dirent_3 > 0;
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    assume {:nonnull} Vcb_18 != 0;
    assume Vcb_18 > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:nonnull} Dirent_3 != 0;
    assume Dirent_3 > 0;
    call {:si_unique_call 318} boogieTmp := corral_nondet();
    goto L176;

  L176:
    assume {:nonnull} DesiredAllocationSize != 0;
    assume DesiredAllocationSize > 0;
    assume {:nonnull} NewAllocation != 0;
    assume NewAllocation > 0;
    Mem_T.INT4[NewAllocation] := Mem_T.INT4[DesiredAllocationSize];
    goto L92;

  L92:
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    assume {:nonnull} NewAllocation != 0;
    assume NewAllocation > 0;
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    goto L95;

  L95:
    UnwindAllocationSizeSet := 1;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} FileObject_1 != 0;
    assume {:nonnull} FileObject_1 != 0;
    assume FileObject_1 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:nonnull} FileObject_1 != 0;
    assume FileObject_1 > 0;
    havoc Tmp_302;
    assume {:nonnull} Tmp_302 != 0;
    assume Tmp_302 > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    UnwindCacheManagerInformed := 1;
    goto L97;

  L97:
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    assume {:nonnull} NewAllocation != 0;
    assume NewAllocation > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    call {:si_unique_call 319} FatMergeAllocation(IrpContext_25, Vcb_18, Mcb__FCB(FcbOrDcb_2), NewMcb);
    goto L104;

  L104:
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    call {:si_unique_call 320} sdv_133 := sdv_AbnormalTermination();
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} sdv_133 != 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} UnwindAllocationSizeSet != 0;
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    assume {:nonnull} NewAllocation != 0;
    assume NewAllocation > 0;
    goto L114;

  L114:
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} UnwindCacheManagerInformed != 0;
    goto L116;

  L116:
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    goto L121;

  L121:
    assume {:nonnull} Bcb_2 != 0;
    assume Bcb_2 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:nonnull} Bcb_2 != 0;
    assume Bcb_2 > 0;
    goto L122;

  L122:
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} UnwindWeAllocatedDiskSpace != 0;
    call {:si_unique_call 321} FatDeallocateDiskSpace(IrpContext_25, Vcb_18, McbToCleanup);
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} yogi_error != 1;
    goto L127;

  L127:
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} UnwindWeInitializedMcb == 1;
    goto L112;

  L112:
    assume {:nonnull} Bcb_2 != 0;
    assume Bcb_2 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} Bcb_2 != 0;
    assume Bcb_2 > 0;
    goto L150;

  L150:
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} UnwindWeInitializedMcb == 1;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon65_Then:
    assume {:partition} UnwindWeInitializedMcb != 1;
    goto L1;

  anon56_Then:
    goto L150;

  anon63_Then:
    assume {:partition} UnwindWeInitializedMcb != 1;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} McbToCleanup != 0;
    goto L112;

  anon64_Then:
    assume {:partition} McbToCleanup == 0;
    goto L112;

  anon72_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon62_Then:
    assume {:partition} UnwindWeAllocatedDiskSpace == 0;
    goto L127;

  anon61_Then:
    goto L122;

  anon59_Then:
    assume {:nonnull} Dirent_3 != 0;
    assume Dirent_3 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    assume {:nonnull} Dirent_3 != 0;
    assume Dirent_3 > 0;
    assume {:nonnull} Vcb_18 != 0;
    assume Vcb_18 > 0;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:nonnull} Dirent_3 != 0;
    assume Dirent_3 > 0;
    goto L121;

  anon73_Then:
    goto L121;

  anon60_Then:
    goto L121;

  anon58_Then:
    assume {:partition} UnwindCacheManagerInformed == 0;
    goto L116;

  anon57_Then:
    assume {:partition} UnwindAllocationSizeSet == 0;
    goto L114;

  anon55_Then:
    assume {:partition} sdv_133 == 0;
    goto L112;

  anon53_Then:
    goto L104;

  anon71_Then:
    goto L97;

  anon54_Then:
    goto L97;

  anon70_Then:
    assume {:partition} FileObject_1 == 0;
    goto L97;

  anon69_Then:
    assume {:nonnull} NewAllocation != 0;
    assume NewAllocation > 0;
    Mem_T.INT4[NewAllocation] := Mem_T.INT4[NewAllocation] - 1;
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    goto L95;

  anon75_Then:
    goto L176;

  anon74_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon66_Then:
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    havoc vslice_dummy_var_54;
    call {:si_unique_call 322} vslice_dummy_var_64 := FatLookupLastMcbEntry(vslice_dummy_var_54, Mcb__FCB(FcbOrDcb_2), DontCare_2, LastAllocatedLbo, 0);
    assume {:nonnull} DesiredAllocationSize != 0;
    assume DesiredAllocationSize > 0;
    assume {:nonnull} FcbOrDcb_2 != 0;
    assume FcbOrDcb_2 > 0;
    assume {:nonnull} NewAllocation != 0;
    assume NewAllocation > 0;
    havoc vslice_dummy_var_55;
    Mem_T.INT4[NewAllocation] := vslice_dummy_var_55;
    UnwindWeInitializedMcb := 1;
    McbToCleanup := NewMcb;
    assume {:nonnull} LastAllocatedLbo != 0;
    assume LastAllocatedLbo > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} Mem_T.INT4[LastAllocatedLbo] != -1;
    call {:si_unique_call 323} Tmp_299 := corral_nondet();
    goto L88;

  L88:
    call {:si_unique_call 324} FatAllocateDiskSpace(IrpContext_25, Vcb_18, Tmp_299, NewAllocation, 0, NewMcb);
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} yogi_error != 1;
    UnwindWeAllocatedDiskSpace := 1;
    goto L92;

  anon68_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon67_Then:
    assume {:partition} Mem_T.INT4[LastAllocatedLbo] == -1;
    Tmp_299 := 0;
    goto L88;

  anon52_Then:
    goto L1;

  anon51_Then:
    goto L24;
}



procedure {:origName "FatTearDownAllocationSupport"} FatTearDownAllocationSupport(actual_IrpContext_26: int, actual_Vcb_19: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatTearDownAllocationSupport"} FatTearDownAllocationSupport(actual_IrpContext_26: int, actual_Vcb_19: int)
{
  var {:pointer} Vcb_19: int;
  var vslice_dummy_var_66: int;

  anon0:
    call {:si_unique_call 325} vslice_dummy_var_66 := __HAVOC_malloc(4);
    Vcb_19 := actual_Vcb_19;
    call {:si_unique_call 326} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_19 != 0;
    assume Vcb_19 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    call {:si_unique_call 327} sdv_ExFreePool(0);
    assume {:nonnull} Vcb_19 != 0;
    assume Vcb_19 > 0;
    goto L7;

  L7:
    assume {:nonnull} Vcb_19 != 0;
    assume Vcb_19 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:nonnull} Vcb_19 != 0;
    assume Vcb_19 > 0;
    call {:si_unique_call 328} sdv_ExFreePool(0);
    assume {:nonnull} Vcb_19 != 0;
    assume Vcb_19 > 0;
    goto L12;

  L12:
    assume {:nonnull} Vcb_19 != 0;
    assume Vcb_19 > 0;
    call {:si_unique_call 329} FatRemoveMcbEntry(Vcb_19, DirtyFatMcb__VCB(Vcb_19), 0, -1);
    return;

  anon6_Then:
    goto L12;

  anon5_Then:
    goto L7;
}



procedure {:origName "FatTruncateFileAllocation"} FatTruncateFileAllocation(actual_IrpContext_27: int, actual_FcbOrDcb_3: int, actual_DesiredAllocationSize_1: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatTruncateFileAllocation"} FatTruncateFileAllocation(actual_IrpContext_27: int, actual_FcbOrDcb_3: int, actual_DesiredAllocationSize_1: int)
{
  var {:scalar} UnwindWeAllocatedMcb_1: int;
  var {:scalar} UnwindInitialAllocationSize: int;
  var {:pointer} Dirent_4: int;
  var {:pointer} Bcb_3: int;
  var {:scalar} sdv_136: int;
  var {:scalar} UpdatedDirent: int;
  var {:pointer} Vcb_20: int;
  var {:scalar} RemainingMcb_1: int;
  var {:scalar} BytesPerCluster_2: int;
  var {:scalar} UnwindInitialFirstClusterOfFile: int;
  var {:pointer} IrpContext_27: int;
  var {:pointer} FcbOrDcb_3: int;
  var {:scalar} DesiredAllocationSize_1: int;
  var boogieTmp: int;
  var vslice_dummy_var_67: int;
  var vslice_dummy_var_56: int;
  var vslice_dummy_var_57: int;

  anon0:
    call {:si_unique_call 330} Dirent_4 := __HAVOC_malloc(4);
    call {:si_unique_call 331} Bcb_3 := __HAVOC_malloc(4);
    call {:si_unique_call 332} RemainingMcb_1 := __HAVOC_malloc(24);
    call {:si_unique_call 333} vslice_dummy_var_67 := __HAVOC_malloc(4);
    IrpContext_27 := actual_IrpContext_27;
    FcbOrDcb_3 := actual_FcbOrDcb_3;
    DesiredAllocationSize_1 := actual_DesiredAllocationSize_1;
    assume {:nonnull} Bcb_3 != 0;
    assume Bcb_3 > 0;
    assume {:nonnull} Dirent_4 != 0;
    assume Dirent_4 > 0;
    UpdatedDirent := 0;
    UnwindWeAllocatedMcb_1 := 0;
    call {:si_unique_call 334} sdv_do_paged_code_check();
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    call {:si_unique_call 335} FatLookupFileAllocationSize#1(IrpContext_27, FcbOrDcb_3);
    goto L20;

  L20:
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    havoc Vcb_20;
    call {:si_unique_call 336} BytesPerCluster_2 := corral_nondet();
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} DesiredAllocationSize_1 != 0;
    DesiredAllocationSize_1 := BAND(DesiredAllocationSize_1 + BytesPerCluster_2 - 1, BNOT(BytesPerCluster_2 - 1));
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} DesiredAllocationSize_1 != 0;
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    goto L26;

  L26:
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    havoc UnwindInitialAllocationSize;
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    havoc UnwindInitialFirstClusterOfFile;
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} DesiredAllocationSize_1 != 0;
    UnwindWeAllocatedMcb_1 := 1;
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    call {:si_unique_call 337} FatSplitAllocation(IrpContext_27, Vcb_20, Mcb__FCB(FcbOrDcb_3), DesiredAllocationSize_1, RemainingMcb_1);
    call {:si_unique_call 338} FatDeallocateDiskSpace(IrpContext_27, Vcb_20, RemainingMcb_1);
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} yogi_error != 1;
    goto L76;

  L76:
    call {:si_unique_call 339} sdv_136 := sdv_AbnormalTermination();
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} sdv_136 != 0;
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} DesiredAllocationSize_1 != 0;
    goto L84;

  L84:
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} UnwindWeAllocatedMcb_1 != 0;
    goto L80;

  L80:
    assume {:nonnull} Bcb_3 != 0;
    assume Bcb_3 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:nonnull} Bcb_3 != 0;
    assume Bcb_3 > 0;
    goto L97;

  L97:
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon34_Then:
    goto L97;

  anon36_Then:
    assume {:partition} UnwindWeAllocatedMcb_1 == 0;
    goto L80;

  anon42_Then:
    assume {:partition} DesiredAllocationSize_1 == 0;
    assume {:nonnull} Dirent_4 != 0;
    assume Dirent_4 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} UpdatedDirent != 0;
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    call {:si_unique_call 340} FatRemoveMcbEntry(Vcb_20, Mcb__FCB(FcbOrDcb_3), 0, -1);
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    goto L84;

  anon37_Then:
    assume {:partition} UpdatedDirent == 0;
    assume {:nonnull} Dirent_4 != 0;
    assume Dirent_4 > 0;
    assume {:nonnull} Vcb_20 != 0;
    assume Vcb_20 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:nonnull} Dirent_4 != 0;
    assume Dirent_4 > 0;
    call {:si_unique_call 341} boogieTmp := corral_nondet();
    goto L95;

  L95:
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    goto L84;

  anon43_Then:
    goto L95;

  anon35_Then:
    goto L84;

  anon33_Then:
    assume {:partition} sdv_136 == 0;
    goto L80;

  anon41_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon40_Then:
    assume {:partition} DesiredAllocationSize_1 == 0;
    call {:si_unique_call 342} FatGetDirentFromFcbOrDcb(IrpContext_27, FcbOrDcb_3, Dirent_4, Bcb_3);
    assume {:nonnull} Dirent_4 != 0;
    assume Dirent_4 > 0;
    assume {:nonnull} Vcb_20 != 0;
    assume Vcb_20 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:nonnull} Dirent_4 != 0;
    assume Dirent_4 > 0;
    goto L104;

  L104:
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    assume {:nonnull} Bcb_3 != 0;
    assume Bcb_3 > 0;
    havoc vslice_dummy_var_56;
    call {:si_unique_call 343} FatSetDirtyBcb#1(IrpContext_27, vslice_dummy_var_56, Vcb_20, 1);
    UpdatedDirent := 1;
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    call {:si_unique_call 344} FatDeallocateDiskSpace(IrpContext_27, Vcb_20, Mcb__FCB(FcbOrDcb_3));
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} FcbOrDcb_3 != 0;
    assume FcbOrDcb_3 > 0;
    havoc vslice_dummy_var_57;
    call {:si_unique_call 345} FatRemoveMcbEntry(vslice_dummy_var_57, Mcb__FCB(FcbOrDcb_3), 0, -1);
    goto L76;

  anon45_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon44_Then:
    goto L104;

  anon32_Then:
    goto L1;

  anon39_Then:
    assume {:partition} DesiredAllocationSize_1 == 0;
    goto L1;

  anon38_Then:
    assume {:partition} DesiredAllocationSize_1 == 0;
    goto L26;

  anon31_Then:
    goto L20;
}



procedure {:origName "FatMergeAllocation"} FatMergeAllocation(actual_IrpContext_28: int, actual_Vcb_21: int, actual_Mcb_1: int, actual_SecondMcb: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMergeAllocation"} FatMergeAllocation(actual_IrpContext_28: int, actual_Vcb_21: int, actual_Mcb_1: int, actual_SecondMcb: int)
{
  var {:scalar} Tmp_308: int;
  var {:dopa} {:scalar} SpliceVbo: int;
  var {:dopa} {:scalar} Lbo_4: int;
  var {:scalar} CutLength: int;
  var {:scalar} SourceVbo_1: int;
  var {:scalar} sdv_138: int;
  var {:dopa} {:scalar} SpliceLbo: int;
  var {:scalar} sdv_140: int;
  var {:scalar} Tmp_311: int;
  var {:scalar} Tmp_312: int;
  var {:scalar} TargetVbo_1: int;
  var {:dopa} {:scalar} ByteCount_3: int;
  var {:pointer} IrpContext_28: int;
  var {:pointer} Vcb_21: int;
  var {:pointer} Mcb_1: int;
  var {:pointer} SecondMcb: int;
  var vslice_dummy_var_68: int;
  var vslice_dummy_var_69: int;
  var vslice_dummy_var_70: int;
  var vslice_dummy_var_71: int;

  anon0:
    call {:si_unique_call 346} SpliceVbo := __HAVOC_malloc(4);
    call {:si_unique_call 347} Lbo_4 := __HAVOC_malloc(4);
    call {:si_unique_call 348} SpliceLbo := __HAVOC_malloc(4);
    call {:si_unique_call 349} vslice_dummy_var_68 := __HAVOC_malloc(4);
    call {:si_unique_call 350} ByteCount_3 := __HAVOC_malloc(4);
    IrpContext_28 := actual_IrpContext_28;
    Vcb_21 := actual_Vcb_21;
    Mcb_1 := actual_Mcb_1;
    SecondMcb := actual_SecondMcb;
    call {:si_unique_call 351} sdv_do_paged_code_check();
    call {:si_unique_call 352} vslice_dummy_var_69 := FatLookupLastMcbEntry(Vcb_21, Mcb_1, SpliceVbo, SpliceLbo, 0);
    SourceVbo_1 := 0;
    assume {:nonnull} SpliceVbo != 0;
    assume SpliceVbo > 0;
    TargetVbo_1 := Mem_T.INT4[SpliceVbo] + 1;
    goto L28;

  L28:
    call {:si_unique_call 353} SourceVbo_1, sdv_140, TargetVbo_1, vslice_dummy_var_71 := FatMergeAllocation_loop_L28(Lbo_4, SourceVbo_1, sdv_140, TargetVbo_1, ByteCount_3, Vcb_21, Mcb_1, SecondMcb, vslice_dummy_var_71);
    goto L28_last;

  L28_last:
    call {:si_unique_call 361} sdv_140 := FatLookupMcbEntry(Vcb_21, SecondMcb, SourceVbo_1, Lbo_4, ByteCount_3, 0);
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} sdv_140 != 0;
    assume {:nonnull} ByteCount_3 != 0;
    assume ByteCount_3 > 0;
    assume {:nonnull} Lbo_4 != 0;
    assume Lbo_4 > 0;
    call {:si_unique_call 354} vslice_dummy_var_71 := FatAddMcbEntry(Vcb_21, Mcb_1, TargetVbo_1, Mem_T.INT4[Lbo_4], Mem_T.INT4[ByteCount_3]);
    assume {:nonnull} ByteCount_3 != 0;
    assume ByteCount_3 > 0;
    SourceVbo_1 := SourceVbo_1 + Mem_T.INT4[ByteCount_3];
    assume {:nonnull} ByteCount_3 != 0;
    assume ByteCount_3 > 0;
    TargetVbo_1 := TargetVbo_1 + Mem_T.INT4[ByteCount_3];
    goto anon7_Else_dummy;

  anon7_Else_dummy:
    assume false;
    return;

  anon7_Then:
    assume {:partition} sdv_140 == 0;
    call {:si_unique_call 355} vslice_dummy_var_70 := FatLookupMcbEntry(Vcb_21, SecondMcb, 0, Lbo_4, 0, 0);
    call {:si_unique_call 356} Tmp_308 := corral_nondet();
    call {:si_unique_call 357} Tmp_311 := corral_nondet();
    call {:si_unique_call 358} FatSetFatEntry#1(IrpContext_28, Vcb_21, Tmp_311, Tmp_308);
    call {:si_unique_call 359} sdv_138 := sdv_AbnormalTermination();
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} sdv_138 != 0;
    assume {:nonnull} SpliceVbo != 0;
    assume SpliceVbo > 0;
    CutLength := TargetVbo_1 - (Mem_T.INT4[SpliceVbo] + 1);
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} CutLength != 0;
    assume {:nonnull} SpliceVbo != 0;
    assume SpliceVbo > 0;
    Tmp_312 := Mem_T.INT4[SpliceVbo] + 1;
    call {:si_unique_call 360} FatRemoveMcbEntry(Vcb_21, Mcb_1, Tmp_312, CutLength);
    goto L1;

  L1:
    return;

  anon9_Then:
    assume {:partition} CutLength == 0;
    goto L1;

  anon8_Then:
    assume {:partition} sdv_138 == 0;
    goto L1;
}



procedure {:origName "FatSetupAllocationSupport"} FatSetupAllocationSupport(actual_IrpContext_29: int, actual_Vcb_22: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetupAllocationSupport"} FatSetupAllocationSupport(actual_IrpContext_29: int, actual_Vcb_22: int)
{
  var {:scalar} Tmp_313: int;
  var {:scalar} Tmp_314: int;
  var {:pointer} Tmp_315: int;
  var {:pointer} Tmp_316: int;
  var {:pointer} Tmp_317: int;
  var {:pointer} Tmp_318: int;
  var {:pointer} Tmp_319: int;
  var {:pointer} Tmp_320: int;
  var {:scalar} Tmp_321: int;
  var {:scalar} ClustersDescribableByFat: int;
  var {:pointer} Tmp_322: int;
  var {:pointer} Tmp_323: int;
  var {:pointer} Tmp_324: int;
  var {:scalar} Tmp_325: int;
  var {:pointer} Tmp_326: int;
  var {:pointer} Tmp_327: int;
  var {:pointer} Tmp_328: int;
  var {:pointer} Tmp_329: int;
  var {:pointer} Tmp_330: int;
  var {:pointer} Tmp_332: int;
  var {:scalar} Tmp_333: int;
  var {:pointer} Tmp_334: int;
  var {:pointer} Tmp_335: int;
  var {:scalar} Tmp_336: int;
  var {:scalar} Tmp_337: int;
  var {:scalar} Tmp_338: int;
  var {:scalar} Tmp_339: int;
  var {:scalar} Tmp_340: int;
  var {:pointer} Tmp_341: int;
  var {:pointer} Tmp_342: int;
  var {:pointer} Tmp_343: int;
  var {:pointer} Tmp_344: int;
  var {:pointer} Tmp_345: int;
  var {:pointer} Tmp_346: int;
  var {:pointer} Tmp_347: int;
  var {:pointer} Tmp_348: int;
  var {:scalar} Tmp_349: int;
  var {:pointer} Tmp_350: int;
  var {:pointer} Tmp_351: int;
  var {:pointer} Tmp_352: int;
  var {:pointer} Tmp_353: int;
  var {:pointer} Tmp_354: int;
  var {:pointer} Tmp_355: int;
  var {:pointer} Tmp_356: int;
  var {:pointer} Tmp_357: int;
  var {:pointer} Tmp_358: int;
  var {:pointer} Tmp_359: int;
  var {:pointer} Tmp_360: int;
  var {:pointer} Tmp_361: int;
  var {:pointer} Tmp_362: int;
  var {:pointer} Tmp_363: int;
  var {:scalar} Tmp_364: int;
  var {:pointer} Tmp_365: int;
  var {:pointer} Tmp_366: int;
  var {:scalar} FileSizes_1: int;
  var {:scalar} Tmp_367: int;
  var {:pointer} Tmp_368: int;
  var {:pointer} Tmp_369: int;
  var {:pointer} Tmp_370: int;
  var {:pointer} Tmp_371: int;
  var {:pointer} Tmp_372: int;
  var {:pointer} Tmp_373: int;
  var {:pointer} Tmp_374: int;
  var {:scalar} Tmp_375: int;
  var {:pointer} sdv_146: int;
  var {:pointer} Tmp_376: int;
  var {:pointer} Tmp_377: int;
  var {:pointer} Tmp_379: int;
  var {:pointer} Tmp_380: int;
  var {:scalar} sdv_147: int;
  var {:pointer} Tmp_381: int;
  var {:scalar} Tmp_382: int;
  var {:pointer} Tmp_383: int;
  var {:pointer} Tmp_384: int;
  var {:scalar} BitIndex: int;
  var {:pointer} Tmp_385: int;
  var {:pointer} Tmp_386: int;
  var {:pointer} Tmp_387: int;
  var {:pointer} Tmp_388: int;
  var {:pointer} Tmp_389: int;
  var {:pointer} Tmp_390: int;
  var {:pointer} Tmp_391: int;
  var {:pointer} Tmp_392: int;
  var {:pointer} Tmp_393: int;
  var {:pointer} Tmp_394: int;
  var {:scalar} Tmp_395: int;
  var {:pointer} Tmp_396: int;
  var {:pointer} Tmp_397: int;
  var {:pointer} Tmp_398: int;
  var {:pointer} Tmp_399: int;
  var {:pointer} Tmp_400: int;
  var {:scalar} Tmp_401: int;
  var {:scalar} sdv_149: int;
  var {:pointer} Tmp_402: int;
  var {:scalar} Tmp_403: int;
  var {:pointer} Tmp_404: int;
  var {:scalar} Tmp_405: int;
  var {:pointer} Tmp_406: int;
  var {:pointer} Tmp_407: int;
  var {:scalar} Tmp_408: int;
  var {:pointer} Tmp_409: int;
  var {:pointer} Tmp_410: int;
  var {:pointer} Tmp_411: int;
  var {:scalar} Tmp_412: int;
  var {:scalar} Tmp_413: int;
  var {:pointer} Tmp_414: int;
  var {:pointer} Tmp_415: int;
  var {:pointer} Tmp_416: int;
  var {:pointer} Tmp_417: int;
  var {:pointer} Tmp_418: int;
  var {:pointer} Tmp_419: int;
  var {:pointer} Tmp_420: int;
  var {:scalar} Tmp_421: int;
  var {:pointer} Tmp_422: int;
  var {:pointer} IrpContext_29: int;
  var {:pointer} Vcb_22: int;
  var boogieTmp: int;
  var vslice_dummy_var_72: int;
  var vslice_dummy_var_58: int;

  anon0:
    call {:si_unique_call 362} vslice_dummy_var_72 := __HAVOC_malloc(4);
    call {:si_unique_call 363} FileSizes_1 := __HAVOC_malloc(60);
    IrpContext_29 := actual_IrpContext_29;
    Vcb_22 := actual_Vcb_22;
    call {:si_unique_call 364} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_330 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_330 != 0;
    assume Tmp_330 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_380 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_323 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_323 != 0;
    assume Tmp_323 > 0;
    assume {:nonnull} Tmp_380 != 0;
    assume Tmp_380 > 0;
    havoc Tmp_349;
    goto L17;

  L17:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_316 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_404 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_389 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_316 != 0;
    assume Tmp_316 > 0;
    assume {:nonnull} Tmp_389 != 0;
    assume Tmp_389 > 0;
    assume {:nonnull} Tmp_404 != 0;
    assume Tmp_404 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_356 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_356 != 0;
    assume Tmp_356 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_352 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_352 != 0;
    assume Tmp_352 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_372 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_358 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_358 != 0;
    assume Tmp_358 > 0;
    assume {:nonnull} Tmp_372 != 0;
    assume Tmp_372 > 0;
    havoc Tmp_421;
    goto L22;

  L22:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_393 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_360 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_320 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_361 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_320 != 0;
    assume Tmp_320 > 0;
    assume {:nonnull} Tmp_360 != 0;
    assume Tmp_360 > 0;
    assume {:nonnull} Tmp_361 != 0;
    assume Tmp_361 > 0;
    assume {:nonnull} Tmp_393 != 0;
    assume Tmp_393 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_388 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_388 != 0;
    assume Tmp_388 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_327 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_327 != 0;
    assume Tmp_327 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_369 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_369 != 0;
    assume Tmp_369 > 0;
    havoc Tmp_337;
    goto L28;

  L28:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_359 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_366 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_345 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_342 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_347 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_420 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_342 != 0;
    assume Tmp_342 > 0;
    assume {:nonnull} Tmp_345 != 0;
    assume Tmp_345 > 0;
    assume {:nonnull} Tmp_347 != 0;
    assume Tmp_347 > 0;
    assume {:nonnull} Tmp_359 != 0;
    assume Tmp_359 > 0;
    assume {:nonnull} Tmp_366 != 0;
    assume Tmp_366 > 0;
    assume {:nonnull} Tmp_420 != 0;
    assume Tmp_420 > 0;
    havoc Tmp_412;
    goto L29;

  L29:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_374 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_374 != 0;
    assume Tmp_374 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_341 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_341 != 0;
    assume Tmp_341 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_353 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_353 != 0;
    assume Tmp_353 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_399 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_399 != 0;
    assume Tmp_399 > 0;
    havoc Tmp_340;
    goto L37;

  L37:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_351 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_355 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_317 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_322 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_396 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_406 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_317 != 0;
    assume Tmp_317 > 0;
    assume {:nonnull} Tmp_322 != 0;
    assume Tmp_322 > 0;
    assume {:nonnull} Tmp_351 != 0;
    assume Tmp_351 > 0;
    assume {:nonnull} Tmp_355 != 0;
    assume Tmp_355 > 0;
    assume {:nonnull} Tmp_396 != 0;
    assume Tmp_396 > 0;
    assume {:nonnull} Tmp_406 != 0;
    assume Tmp_406 > 0;
    havoc Tmp_403;
    goto L38;

  L38:
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} 4087 > Tmp_403;
    Tmp_382 := 12;
    goto L41;

  L41:
    Tmp_336 := Tmp_382;
    goto L42;

  L42:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_401;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    call {:si_unique_call 365} boogieTmp := FatLogOf(Tmp_401);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_326 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_400 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_326 != 0;
    assume Tmp_326 > 0;
    assume {:nonnull} Tmp_400 != 0;
    assume Tmp_400 > 0;
    havoc Tmp_314;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    call {:si_unique_call 366} boogieTmp := FatLogOf(Tmp_314);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_22))] := 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_325;
    goto L57;

  L57:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_418 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_418 != 0;
    assume Tmp_418 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_335 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_335 != 0;
    assume Tmp_335 > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_387 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_387 != 0;
    assume Tmp_387 > 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_362 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_362 != 0;
    assume Tmp_362 > 0;
    havoc Tmp_367;
    goto L64;

  L64:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_379 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_346 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_334 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_350 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_416 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_407 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_334 != 0;
    assume Tmp_334 > 0;
    assume {:nonnull} Tmp_346 != 0;
    assume Tmp_346 > 0;
    assume {:nonnull} Tmp_350 != 0;
    assume Tmp_350 > 0;
    assume {:nonnull} Tmp_379 != 0;
    assume Tmp_379 > 0;
    assume {:nonnull} Tmp_407 != 0;
    assume Tmp_407 > 0;
    assume {:nonnull} Tmp_416 != 0;
    assume Tmp_416 > 0;
    havoc Tmp_375;
    goto L65;

  L65:
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} 4087 > Tmp_375;
    Tmp_408 := 12;
    goto L68;

  L68:
    Tmp_413 := Tmp_408;
    goto L69;

  L69:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc ClustersDescribableByFat;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    goto L73;

  L73:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_391 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_391 != 0;
    assume Tmp_391 > 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_324 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_377 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_324 != 0;
    assume Tmp_324 > 0;
    assume {:nonnull} Tmp_377 != 0;
    assume Tmp_377 > 0;
    havoc Tmp_338;
    goto L76;

  L76:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_398 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_318 := Bpb__VCB(Vcb_22);
    assume {:nonnull} FileSizes_1 != 0;
    assume FileSizes_1 > 0;
    assume {:nonnull} Tmp_318 != 0;
    assume Tmp_318 > 0;
    assume {:nonnull} Tmp_398 != 0;
    assume Tmp_398 > 0;
    assume {:nonnull} FileSizes_1 != 0;
    assume FileSizes_1 > 0;
    assume {:nonnull} FileSizes_1 != 0;
    assume FileSizes_1 > 0;
    assume {:nonnull} FileSizes_1 != 0;
    assume FileSizes_1 > 0;
    assume {:nonnull} FileSizes_1 != 0;
    assume FileSizes_1 > 0;
    assume {:nonnull} FileSizes_1 != 0;
    assume FileSizes_1 > 0;
    assume {:nonnull} FileSizes_1 != 0;
    assume FileSizes_1 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_409;
    assume {:nonnull} Tmp_409 != 0;
    assume Tmp_409 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    goto L86;

  L86:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto L91;

  L91:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_364;
    call {:si_unique_call 367} sdv_146 := ExAllocatePoolWithTag(17, Tmp_364, -680238778);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_333;
    call {:si_unique_call 368} FatExamineFatEntries(IrpContext_29, Vcb_22, 2, Tmp_333, 1, 0, 0);
    call {:si_unique_call 369} sdv_147 := FatSelectBestWindow(Vcb_22);
    Tmp_313 := sdv_147;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_371;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto L116;

  L116:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc vslice_dummy_var_58;
    call {:si_unique_call 370} FatExamineFatEntries(IrpContext_29, Vcb_22, 0, 0, 0, vslice_dummy_var_58, 0);
    call {:si_unique_call 371} BitIndex := corral_nondet();
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} BitIndex != -1;
    Tmp_405 := BitIndex + 2;
    goto L126;

  L126:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    call {:si_unique_call 372} sdv_149 := sdv_AbnormalTermination();
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} sdv_149 != 0;
    call {:si_unique_call 373} FatTearDownAllocationSupport(IrpContext_29, Vcb_22);
    goto L1;

  L1:
    return;

  anon55_Then:
    assume {:partition} sdv_149 == 0;
    goto L1;

  anon54_Then:
    assume {:partition} BitIndex == -1;
    Tmp_405 := 2;
    goto L126;

  anon53_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_363;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_319;
    assume {:nonnull} Tmp_319 != 0;
    assume Tmp_319 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_354;
    assume {:nonnull} Tmp_354 != 0;
    assume Tmp_354 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto L116;

  anon52_Then:
    goto L87;

  L87:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto L91;

  anon51_Then:
    goto L87;

  anon69_Then:
    goto L86;

  anon68_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_417 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_315 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_315 != 0;
    assume Tmp_315 > 0;
    assume {:nonnull} Tmp_417 != 0;
    assume Tmp_417 > 0;
    havoc Tmp_338;
    goto L76;

  anon67_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    goto L73;

  anon50_Then:
    assume {:partition} Tmp_375 >= 4087;
    Tmp_408 := 16;
    goto L68;

  anon66_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_402 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_402 != 0;
    assume Tmp_402 > 0;
    havoc Tmp_367;
    goto L64;

  anon65_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_411 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_411 != 0;
    assume Tmp_411 > 0;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_422 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_422 != 0;
    assume Tmp_422 > 0;
    havoc Tmp_395;
    goto L140;

  L140:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_384 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_343 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_383 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_376 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_343 != 0;
    assume Tmp_343 > 0;
    assume {:nonnull} Tmp_376 != 0;
    assume Tmp_376 > 0;
    assume {:nonnull} Tmp_383 != 0;
    assume Tmp_383 > 0;
    assume {:nonnull} Tmp_384 != 0;
    assume Tmp_384 > 0;
    havoc Tmp_375;
    goto L65;

  anon70_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_373 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_373 != 0;
    assume Tmp_373 > 0;
    havoc Tmp_395;
    goto L140;

  anon64_Then:
    Tmp_413 := 32;
    goto L69;

  anon63_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    havoc Tmp_325;
    goto L57;

  anon49_Then:
    assume {:partition} Tmp_403 >= 4087;
    Tmp_382 := 16;
    goto L41;

  anon62_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_344 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_344 != 0;
    assume Tmp_344 > 0;
    havoc Tmp_340;
    goto L37;

  anon61_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_365 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_365 != 0;
    assume Tmp_365 > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_381 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_381 != 0;
    assume Tmp_381 > 0;
    havoc Tmp_339;
    goto L143;

  L143:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_392 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_419 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_414 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_390 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_390 != 0;
    assume Tmp_390 > 0;
    assume {:nonnull} Tmp_392 != 0;
    assume Tmp_392 > 0;
    assume {:nonnull} Tmp_414 != 0;
    assume Tmp_414 > 0;
    assume {:nonnull} Tmp_419 != 0;
    assume Tmp_419 > 0;
    havoc Tmp_403;
    goto L38;

  anon71_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_329 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_329 != 0;
    assume Tmp_329 > 0;
    havoc Tmp_339;
    goto L143;

  anon60_Then:
    Tmp_336 := 32;
    goto L42;

  anon59_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_415 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_415 != 0;
    assume Tmp_415 > 0;
    havoc Tmp_337;
    goto L28;

  anon58_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_397 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_397 != 0;
    assume Tmp_397 > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_410 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_410 != 0;
    assume Tmp_410 > 0;
    havoc Tmp_321;
    goto L146;

  L146:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_386 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_385 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_357 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_368 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_357 != 0;
    assume Tmp_357 > 0;
    assume {:nonnull} Tmp_368 != 0;
    assume Tmp_368 > 0;
    assume {:nonnull} Tmp_385 != 0;
    assume Tmp_385 > 0;
    assume {:nonnull} Tmp_386 != 0;
    assume Tmp_386 > 0;
    havoc Tmp_412;
    goto L29;

  anon72_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_332 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_332 != 0;
    assume Tmp_332 > 0;
    havoc Tmp_321;
    goto L146;

  anon57_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_328 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_370 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_328 != 0;
    assume Tmp_328 > 0;
    assume {:nonnull} Tmp_370 != 0;
    assume Tmp_370 > 0;
    havoc Tmp_421;
    goto L22;

  anon56_Then:
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_394 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Vcb_22 != 0;
    assume Vcb_22 > 0;
    Tmp_348 := Bpb__VCB(Vcb_22);
    assume {:nonnull} Tmp_348 != 0;
    assume Tmp_348 > 0;
    assume {:nonnull} Tmp_394 != 0;
    assume Tmp_394 > 0;
    havoc Tmp_349;
    goto L17;
}



procedure {:origName "FatSetFatRun"} FatSetFatRun(actual_IrpContext_30: int, actual_Vcb_23: int, actual_StartingFatIndex: int, actual_ClusterCount: int, actual_ChainTogether: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetFatRun"} FatSetFatRun(actual_IrpContext_30: int, actual_Vcb_23: int, actual_StartingFatIndex: int, actual_ClusterCount: int, actual_ChainTogether: int)
{
  var {:scalar} NumberOfPages: int;
  var {:pointer} Tmp_424: int;
  var {:scalar} Tmp_425: int;
  var {:dopa} {:scalar} TmpFatEntry_1: int;
  var {:scalar} Tmp_426: int;
  var {:scalar} Lbo_5: int;
  var {:scalar} FinalCluster: int;
  var {:pointer} Tmp_427: int;
  var {:scalar} Tmp_428: int;
  var {:scalar} StartSectorLbo: int;
  var {:pointer} Tmp_429: int;
  var {:scalar} Tmp_430: int;
  var {:scalar} Tmp_431: int;
  var {:scalar} Tmp_432: int;
  var {:pointer} Tmp_433: int;
  var {:pointer} Tmp_434: int;
  var {:scalar} Tmp_435: int;
  var {:pointer} Tmp_436: int;
  var {:pointer} Tmp_437: int;
  var {:scalar} Tmp_439: int;
  var {:pointer} Tmp_440: int;
  var {:scalar} Cluster: int;
  var {:pointer} Tmp_442: int;
  var {:scalar} FinalOffsetInVolume: int;
  var {:pointer} Tmp_443: int;
  var {:scalar} Tmp_444: int;
  var {:pointer} Tmp_445: int;
  var {:scalar} Tmp_446: int;
  var {:pointer} Tmp_447: int;
  var {:pointer} Tmp_448: int;
  var {:scalar} sdv_150: int;
  var {:pointer} Tmp_449: int;
  var {:pointer} Tmp_450: int;
  var {:pointer} FatEntry_3: int;
  var {:pointer} Tmp_453: int;
  var {:scalar} Tmp_454: int;
  var {:pointer} Tmp_455: int;
  var {:pointer} Tmp_456: int;
  var {:pointer} Tmp_457: int;
  var {:pointer} FatEntry_4: int;
  var {:scalar} Tmp_458: int;
  var {:scalar} Tmp_459: int;
  var {:scalar} Tmp_461: int;
  var {:scalar} FinalSectorLbo: int;
  var {:scalar} Tmp_463: int;
  var {:pointer} Tmp_464: int;
  var {:pointer} Tmp_465: int;
  var {:pointer} Tmp_466: int;
  var {:scalar} i_6: int;
  var {:scalar} Tmp_467: int;
  var {:scalar} StartOffsetInVolume: int;
  var {:pointer} Tmp_469: int;
  var {:scalar} Tmp_470: int;
  var {:scalar} i_7: int;
  var {:scalar} Offset_1: int;
  var {:pointer} Tmp_471: int;
  var {:pointer} Tmp_472: int;
  var {:pointer} Tmp_473: int;
  var {:scalar} Tmp_474: int;
  var {:pointer} Tmp_475: int;
  var {:scalar} Offset_2: int;
  var {:pointer} Tmp_476: int;
  var {:scalar} Tmp_477: int;
  var {:scalar} Tmp_478: int;
  var {:scalar} Tmp_479: int;
  var {:pointer} Tmp_480: int;
  var {:pointer} Tmp_481: int;
  var {:scalar} Tmp_482: int;
  var {:scalar} StartOffsetInVolume_1: int;
  var {:pointer} Tmp_483: int;
  var {:pointer} PinnedFat_1: int;
  var {:scalar} Tmp_484: int;
  var {:pointer} Tmp_485: int;
  var {:pointer} Tmp_486: int;
  var {:scalar} Tmp_487: int;
  var {:scalar} Tmp_488: int;
  var {:pointer} Tmp_489: int;
  var {:scalar} Page_1: int;
  var {:pointer} SavedBcbs: int;
  var {:pointer} Tmp_490: int;
  var {:pointer} Tmp_491: int;
  var {:scalar} Page_2: int;
  var {:scalar} Tmp_492: int;
  var {:pointer} Tmp_493: int;
  var {:pointer} Tmp_494: int;
  var {:scalar} Tmp_495: int;
  var {:pointer} Tmp_497: int;
  var {:pointer} Tmp_498: int;
  var {:pointer} Tmp_499: int;
  var {:scalar} Tmp_500: int;
  var {:scalar} SectorSize_1: int;
  var {:pointer} Tmp_503: int;
  var {:pointer} Tmp_504: int;
  var {:dopa} {:scalar} TmpFatEntry_2: int;
  var {:scalar} SavedStartingFatIndex: int;
  var {:scalar} Tmp_505: int;
  var {:scalar} NumberOfPages_1: int;
  var {:pointer} Tmp_506: int;
  var {:scalar} Tmp_507: int;
  var {:scalar} ClusterCountThisRun: int;
  var {:scalar} FinalOffsetInVolume_1: int;
  var {:scalar} Tmp_508: int;
  var {:pointer} Tmp_509: int;
  var {:pointer} Tmp_510: int;
  var {:scalar} FinalCluster_1: int;
  var {:pointer} Tmp_511: int;
  var {:scalar} ReleaseMutex_1: int;
  var {:pointer} IrpContext_30: int;
  var {:pointer} Vcb_23: int;
  var {:scalar} StartingFatIndex: int;
  var {:scalar} ClusterCount: int;
  var {:scalar} ChainTogether: int;
  var vslice_dummy_var_73: int;
  var vslice_dummy_var_74: int;
  var vslice_dummy_var_75: int;
  var vslice_dummy_var_76: int;
  var vslice_dummy_var_59: int;
  var vslice_dummy_var_60: int;

  anon0:
    call {:si_unique_call 374} TmpFatEntry_1 := __HAVOC_malloc(4);
    call {:si_unique_call 375} PinnedFat_1 := __HAVOC_malloc(4);
    call {:si_unique_call 376} vslice_dummy_var_73 := __HAVOC_malloc(4);
    call {:si_unique_call 377} TmpFatEntry_2 := __HAVOC_malloc(4);
    IrpContext_30 := actual_IrpContext_30;
    Vcb_23 := actual_Vcb_23;
    StartingFatIndex := actual_StartingFatIndex;
    ClusterCount := actual_ClusterCount;
    ChainTogether := actual_ChainTogether;
    call {:si_unique_call 378} Tmp_424 := __HAVOC_malloc(8);
    call {:si_unique_call 379} Tmp_429 := __HAVOC_malloc(8);
    call {:si_unique_call 380} Tmp_434 := __HAVOC_malloc(8);
    call {:si_unique_call 381} Tmp_437 := __HAVOC_malloc(8);
    call {:si_unique_call 382} Tmp_442 := __HAVOC_malloc(8);
    call {:si_unique_call 383} Tmp_450 := __HAVOC_malloc(8);
    call {:si_unique_call 384} Tmp_455 := __HAVOC_malloc(8);
    call {:si_unique_call 385} Tmp_456 := __HAVOC_malloc(8);
    call {:si_unique_call 386} Tmp_457 := __HAVOC_malloc(8);
    call {:si_unique_call 387} Tmp_464 := __HAVOC_malloc(8);
    call {:si_unique_call 388} Tmp_469 := __HAVOC_malloc(8);
    call {:si_unique_call 389} Tmp_471 := __HAVOC_malloc(8);
    call {:si_unique_call 390} Tmp_472 := __HAVOC_malloc(8);
    call {:si_unique_call 391} Tmp_475 := __HAVOC_malloc(8);
    call {:si_unique_call 392} Tmp_476 := __HAVOC_malloc(8);
    call {:si_unique_call 393} Tmp_485 := __HAVOC_malloc(8);
    call {:si_unique_call 394} Tmp_486 := __HAVOC_malloc(8);
    call {:si_unique_call 395} Tmp_489 := __HAVOC_malloc(8);
    call {:si_unique_call 396} SavedBcbs := __HAVOC_malloc(528);
    call {:si_unique_call 397} Tmp_493 := __HAVOC_malloc(8);
    call {:si_unique_call 398} Tmp_497 := __HAVOC_malloc(8);
    call {:si_unique_call 399} Tmp_503 := __HAVOC_malloc(8);
    ReleaseMutex_1 := 0;
    SavedStartingFatIndex := StartingFatIndex;
    call {:si_unique_call 400} sdv_do_paged_code_check();
    goto anon209_Then, anon209_Else;

  anon209_Else:
    assume {:partition} 2 > StartingFatIndex;
    goto L20;

  L20:
    assume {:nonnull} IrpContext_30 != 0;
    assume IrpContext_30 > 0;
    call {:si_unique_call 401} ExRaiseStatus(-1073741566);
    goto L24;

  L24:
    goto anon211_Then, anon211_Else;

  anon211_Else:
    assume {:partition} 2 > StartingFatIndex + ClusterCount - 1;
    goto L26;

  L26:
    assume {:nonnull} IrpContext_30 != 0;
    assume IrpContext_30 > 0;
    call {:si_unique_call 402} ExRaiseStatus(-1073741566);
    goto L30;

  L30:
    goto anon213_Then, anon213_Else;

  anon213_Else:
    assume {:partition} ClusterCount != 0;
    call {:si_unique_call 403} SectorSize_1 := corral_nondet();
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    goto anon246_Then, anon246_Else;

  anon246_Else:
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_455;
    call {:si_unique_call 404} sdv_RtlZeroMemory(0, 16);
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_493;
    Tmp_499 := Tmp_493;
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_491 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Tmp_491 != 0;
    assume Tmp_491 > 0;
    goto anon247_Then, anon247_Else;

  anon247_Else:
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_433 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_506 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Tmp_433 != 0;
    assume Tmp_433 > 0;
    assume {:nonnull} Tmp_506 != 0;
    assume Tmp_506 > 0;
    havoc Tmp_435;
    goto L71;

  L71:
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_427 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_453 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Tmp_427 != 0;
    assume Tmp_427 > 0;
    assume {:nonnull} Tmp_453 != 0;
    assume Tmp_453 > 0;
    havoc Tmp_425;
    call {:si_unique_call 405} FatPrepareWriteVolumeFile#1(IrpContext_30, Vcb_23, Tmp_425, Tmp_435, Tmp_499, PinnedFat_1, 1, 0);
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_511 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_483 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Tmp_483 != 0;
    assume Tmp_483 > 0;
    assume {:nonnull} Tmp_511 != 0;
    assume Tmp_511 > 0;
    havoc StartSectorLbo;
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_436 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_498 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Tmp_436 != 0;
    assume Tmp_436 > 0;
    assume {:nonnull} Tmp_498 != 0;
    assume Tmp_498 > 0;
    havoc FinalSectorLbo;
    Lbo_5 := StartSectorLbo;
    goto L78;

  L78:
    call {:si_unique_call 406} Lbo_5, Tmp_463, vslice_dummy_var_74 := FatSetFatRun_loop_L78(Lbo_5, FinalSectorLbo, Tmp_463, SectorSize_1, Vcb_23, vslice_dummy_var_74);
    goto L78_last;

  L78_last:
    goto anon215_Then, anon215_Else;

  anon215_Else:
    assume {:partition} FinalSectorLbo >= Lbo_5;
    Tmp_463 := Lbo_5;
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    call {:si_unique_call 407} vslice_dummy_var_74 := FatAddMcbEntry(Vcb_23, DirtyFatMcb__VCB(Vcb_23), Tmp_463, Lbo_5, SectorSize_1);
    Lbo_5 := Lbo_5 + SectorSize_1;
    goto anon215_Else_dummy;

  anon215_Else_dummy:
    assume false;
    return;

  anon215_Then:
    assume {:partition} Lbo_5 > FinalSectorLbo;
    call {:si_unique_call 408} ExAcquireFastMutexUnsafe(0);
    ReleaseMutex_1 := 1;
    Cluster := StartingFatIndex;
    goto L89;

  L89:
    call {:si_unique_call 409} Tmp_426, Cluster, Tmp_466, Tmp_479, Tmp_481, Tmp_492, Tmp_494 := FatSetFatRun_loop_L89(Tmp_426, Cluster, Tmp_466, Tmp_479, Tmp_481, PinnedFat_1, Tmp_492, Tmp_494, TmpFatEntry_2, StartingFatIndex, ClusterCount, ChainTogether);
    goto L89_last;

  L89_last:
    goto anon216_Then, anon216_Else;

  anon216_Else:
    assume {:partition} StartingFatIndex + ClusterCount - 1 <= Cluster;
    assume {:nonnull} PinnedFat_1 != 0;
    assume PinnedFat_1 > 0;
    havoc Tmp_443;
    assume {:nonnull} TmpFatEntry_1 != 0;
    assume TmpFatEntry_1 > 0;
    assume {:nonnull} Tmp_443 != 0;
    assume Tmp_443 > 0;
    havoc vslice_dummy_var_59;
    Mem_T.INT4[TmpFatEntry_1] := vslice_dummy_var_59;
    goto anon249_Then, anon249_Else;

  anon249_Else:
    assume {:partition} BAND(Cluster, 1) != 0;
    goto anon220_Then, anon220_Else;

  anon220_Else:
    assume {:partition} ChainTogether != 0;
    goto L113;

  L113:
    assume {:nonnull} TmpFatEntry_1 != 0;
    assume TmpFatEntry_1 > 0;
    call {:si_unique_call 410} Tmp_461 := corral_nondet();
    goto L115;

  L115:
    assume {:nonnull} TmpFatEntry_1 != 0;
    assume TmpFatEntry_1 > 0;
    Mem_T.INT4[TmpFatEntry_1] := Tmp_461;
    assume {:nonnull} PinnedFat_1 != 0;
    assume PinnedFat_1 > 0;
    havoc Tmp_490;
    Tmp_440 := TmpFatEntry_1;
    assume {:nonnull} Tmp_440 != 0;
    assume Tmp_440 > 0;
    assume {:nonnull} Tmp_490 != 0;
    assume Tmp_490 > 0;
    assume {:nonnull} Tmp_440 != 0;
    assume Tmp_440 > 0;
    assume {:nonnull} Tmp_490 != 0;
    assume Tmp_490 > 0;
    call {:si_unique_call 411} ExReleaseFastMutexUnsafe(0);
    ReleaseMutex_1 := 0;
    goto L122;

  L122:
    i_6 := 0;
    goto anon250_Then, anon250_Else;

  anon250_Else:
    assume {:partition} ReleaseMutex_1 != 0;
    call {:si_unique_call 412} ExReleaseFastMutexUnsafe(0);
    goto L124;

  L124:
    call {:si_unique_call 413} Tmp_424, Tmp_429, Tmp_431, Tmp_432, Tmp_439, i_6, Tmp_469, Tmp_470, Tmp_486 := FatSetFatRun_loop_L124(Tmp_424, Tmp_429, Tmp_431, Tmp_432, Tmp_439, i_6, Tmp_469, Tmp_470, Tmp_486, SavedBcbs);
    goto L124_last;

  L124_last:
    Tmp_470 := i_6;
    goto anon251_Then, anon251_Else;

  anon251_Else:
    assume Tmp_470 <= 2;
    goto anon265_Then, anon265_Else;

  anon265_Else:
    assume Tmp_470 != 2;
    goto anon266_Then, anon266_Else;

  anon266_Else:
    assume Tmp_470 != 1;
    goto anon267_Then, anon267_Else;

  anon267_Else:
    assume Tmp_470 != 0;
    goto L308;

  L308:
    assume {:nonnull} Tmp_424 != 0;
    assume Tmp_424 > 0;
    goto anon242_Then, anon242_Else;

  anon242_Else:
    Tmp_431 := i_6;
    goto anon252_Then, anon252_Else;

  anon252_Else:
    assume Tmp_431 <= 2;
    goto anon261_Then, anon261_Else;

  anon261_Else:
    assume Tmp_431 != 2;
    goto anon262_Then, anon262_Else;

  anon262_Else:
    assume Tmp_431 != 1;
    goto anon263_Then, anon263_Else;

  anon263_Else:
    assume Tmp_431 != 0;
    goto L318;

  L318:
    assume {:nonnull} Tmp_429 != 0;
    assume Tmp_429 > 0;
    goto anon243_Then, anon243_Else;

  anon243_Else:
    Tmp_439 := i_6;
    goto anon253_Then, anon253_Else;

  anon253_Else:
    assume Tmp_439 <= 2;
    goto anon258_Then, anon258_Else;

  anon258_Else:
    assume Tmp_439 != 2;
    goto anon259_Then, anon259_Else;

  anon259_Else:
    assume Tmp_439 != 1;
    goto anon260_Then, anon260_Else;

  anon260_Else:
    assume Tmp_439 != 0;
    goto L328;

  L328:
    assume {:nonnull} Tmp_469 != 0;
    assume Tmp_469 > 0;
    Tmp_432 := i_6;
    goto anon254_Then, anon254_Else;

  anon254_Else:
    assume Tmp_432 <= 2;
    goto anon255_Then, anon255_Else;

  anon255_Else:
    assume Tmp_432 != 2;
    goto anon256_Then, anon256_Else;

  anon256_Else:
    assume Tmp_432 != 1;
    goto anon257_Then, anon257_Else;

  anon257_Else:
    assume Tmp_432 != 0;
    goto L338;

  L338:
    assume {:nonnull} Tmp_486 != 0;
    assume Tmp_486 > 0;
    goto L132;

  L132:
    i_6 := i_6 + 1;
    goto L132_dummy;

  L132_dummy:
    assume false;
    return;

  anon257_Then:
    assume Tmp_432 == 0;
    Tmp_432 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_486;
    goto L338;

  anon256_Then:
    assume Tmp_432 == 1;
    Tmp_432 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_486;
    goto L338;

  anon255_Then:
    assume Tmp_432 == 2;
    Tmp_432 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_486;
    goto L338;

  anon254_Then:
    assume Tmp_432 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_486;
    goto L338;

  anon260_Then:
    assume Tmp_439 == 0;
    Tmp_439 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_469;
    goto L328;

  anon259_Then:
    assume Tmp_439 == 1;
    Tmp_439 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_469;
    goto L328;

  anon258_Then:
    assume Tmp_439 == 2;
    Tmp_439 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_469;
    goto L328;

  anon253_Then:
    assume Tmp_439 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_469;
    goto L328;

  anon243_Then:
    goto L132;

  anon263_Then:
    assume Tmp_431 == 0;
    Tmp_431 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_429;
    goto L318;

  anon262_Then:
    assume Tmp_431 == 1;
    Tmp_431 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_429;
    goto L318;

  anon261_Then:
    assume Tmp_431 == 2;
    Tmp_431 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_429;
    goto L318;

  anon252_Then:
    assume Tmp_431 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_429;
    goto L318;

  anon242_Then:
    call {:si_unique_call 414} sdv_150 := sdv_AbnormalTermination();
    goto anon221_Then, anon221_Else;

  anon221_Else:
    assume {:partition} sdv_150 != 0;
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    goto anon222_Then, anon222_Else;

  anon222_Else:
    goto L141;

  L141:
    call {:si_unique_call 415} Tmp_507, StartingFatIndex := FatSetFatRun_loop_L141(SavedStartingFatIndex, Tmp_507, IrpContext_30, Vcb_23, StartingFatIndex, ChainTogether);
    goto L141_last;

  L141_last:
    goto anon223_Then, anon223_Else;

  anon223_Else:
    assume {:partition} StartingFatIndex > SavedStartingFatIndex;
    StartingFatIndex := StartingFatIndex - 1;
    goto anon264_Then, anon264_Else;

  anon264_Else:
    assume {:partition} ChainTogether != 0;
    Tmp_507 := StartingFatIndex + 1;
    goto L146;

  L146:
    call {:si_unique_call 416} FatSetFatEntry#1(IrpContext_30, Vcb_23, StartingFatIndex, Tmp_507);
    goto L146_dummy;

  L146_dummy:
    assume false;
    return;

  anon264_Then:
    assume {:partition} ChainTogether == 0;
    Tmp_507 := 0;
    goto L146;

  anon223_Then:
    assume {:partition} SavedStartingFatIndex >= StartingFatIndex;
    goto L1;

  L1:
    return;

  anon222_Then:
    goto L1;

  anon221_Then:
    assume {:partition} sdv_150 == 0;
    goto L1;

  anon267_Then:
    assume Tmp_470 == 0;
    Tmp_470 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_424;
    goto L308;

  anon266_Then:
    assume Tmp_470 == 1;
    Tmp_470 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_424;
    goto L308;

  anon265_Then:
    assume Tmp_470 == 2;
    Tmp_470 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_424;
    goto L308;

  anon251_Then:
    assume Tmp_470 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_424;
    goto L308;

  anon250_Then:
    assume {:partition} ReleaseMutex_1 == 0;
    goto L124;

  anon220_Then:
    assume {:partition} ChainTogether == 0;
    goto L113;

  anon249_Then:
    assume {:partition} BAND(Cluster, 1) == 0;
    goto anon219_Then, anon219_Else;

  anon219_Else:
    assume {:partition} ChainTogether != 0;
    Tmp_505 := 4095;
    goto L151;

  L151:
    assume {:nonnull} TmpFatEntry_1 != 0;
    assume TmpFatEntry_1 > 0;
    Tmp_458 := BAND(Mem_T.INT4[TmpFatEntry_1], BOR(BOR(BOR(4096, 8192), 16384), 32768));
    Tmp_461 := BOR(Tmp_505, Tmp_458);
    goto L115;

  anon219_Then:
    assume {:partition} ChainTogether == 0;
    Tmp_505 := 0;
    goto L151;

  anon216_Then:
    assume {:partition} Cluster < StartingFatIndex + ClusterCount - 1;
    assume {:nonnull} PinnedFat_1 != 0;
    assume PinnedFat_1 > 0;
    havoc Tmp_466;
    assume {:nonnull} TmpFatEntry_2 != 0;
    assume TmpFatEntry_2 > 0;
    assume {:nonnull} Tmp_466 != 0;
    assume Tmp_466 > 0;
    havoc vslice_dummy_var_60;
    Mem_T.INT4[TmpFatEntry_2] := vslice_dummy_var_60;
    goto anon248_Then, anon248_Else;

  anon248_Else:
    assume {:partition} BAND(Cluster, 1) != 0;
    goto anon218_Then, anon218_Else;

  anon218_Else:
    assume {:partition} ChainTogether != 0;
    goto L98;

  L98:
    assume {:nonnull} TmpFatEntry_2 != 0;
    assume TmpFatEntry_2 > 0;
    call {:si_unique_call 417} Tmp_479 := corral_nondet();
    goto L100;

  L100:
    assume {:nonnull} TmpFatEntry_2 != 0;
    assume TmpFatEntry_2 > 0;
    Mem_T.INT4[TmpFatEntry_2] := Tmp_479;
    assume {:nonnull} PinnedFat_1 != 0;
    assume PinnedFat_1 > 0;
    havoc Tmp_494;
    Tmp_481 := TmpFatEntry_2;
    assume {:nonnull} Tmp_481 != 0;
    assume Tmp_481 > 0;
    assume {:nonnull} Tmp_494 != 0;
    assume Tmp_494 > 0;
    assume {:nonnull} Tmp_481 != 0;
    assume Tmp_481 > 0;
    assume {:nonnull} Tmp_494 != 0;
    assume Tmp_494 > 0;
    Cluster := Cluster + 1;
    goto L100_dummy;

  L100_dummy:
    assume false;
    return;

  anon218_Then:
    assume {:partition} ChainTogether == 0;
    goto L98;

  anon248_Then:
    assume {:partition} BAND(Cluster, 1) == 0;
    goto anon217_Then, anon217_Else;

  anon217_Else:
    assume {:partition} ChainTogether != 0;
    Tmp_426 := Cluster + 1;
    goto L105;

  L105:
    assume {:nonnull} TmpFatEntry_2 != 0;
    assume TmpFatEntry_2 > 0;
    Tmp_492 := BAND(Mem_T.INT4[TmpFatEntry_2], BOR(BOR(BOR(4096, 8192), 16384), 32768));
    Tmp_479 := BOR(Tmp_426, Tmp_492);
    goto L100;

  anon217_Then:
    assume {:partition} ChainTogether == 0;
    Tmp_426 := 0;
    goto L105;

  anon247_Then:
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_448 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_447 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Tmp_447 != 0;
    assume Tmp_447 > 0;
    assume {:nonnull} Tmp_448 != 0;
    assume Tmp_448 > 0;
    havoc Tmp_435;
    goto L71;

  anon246_Then:
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    goto anon214_Then, anon214_Else;

  anon214_Else:
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_449 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_473 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Tmp_449 != 0;
    assume Tmp_449 > 0;
    assume {:nonnull} Tmp_473 != 0;
    assume Tmp_473 > 0;
    havoc StartOffsetInVolume;
    FinalOffsetInVolume_1 := StartOffsetInVolume + (ClusterCount - 1) * 2;
    NumberOfPages := INTDIV(FinalOffsetInVolume_1, 4096) - INTDIV(StartOffsetInVolume, 4096) + 1;
    Tmp_488 := (NumberOfPages + 1) * 4 * 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_485;
    call {:si_unique_call 418} sdv_RtlZeroMemory(0, Tmp_488);
    Page_1 := 0;
    Offset_2 := BAND(StartOffsetInVolume, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    goto L246;

  L246:
    call {:si_unique_call 419} Tmp_445, Tmp_450, FatEntry_3, Tmp_459, Tmp_464, Offset_2, Tmp_480, Tmp_482, Tmp_489, Page_1 := FatSetFatRun_loop_L246(NumberOfPages, Tmp_445, Tmp_450, FatEntry_3, Tmp_459, Tmp_464, Offset_2, Tmp_480, Tmp_482, Tmp_489, Page_1, SavedBcbs, IrpContext_30, Vcb_23);
    goto L246_last;

  L246_last:
    goto anon234_Then, anon234_Else;

  anon234_Else:
    assume {:partition} NumberOfPages > Page_1;
    Tmp_459 := Page_1;
    goto anon301_Then, anon301_Else;

  anon301_Else:
    assume Tmp_459 <= 2;
    goto anon306_Then, anon306_Else;

  anon306_Else:
    assume Tmp_459 != 2;
    goto anon307_Then, anon307_Else;

  anon307_Else:
    assume Tmp_459 != 1;
    goto anon308_Then, anon308_Else;

  anon308_Else:
    assume Tmp_459 != 0;
    goto L428;

  L428:
    Tmp_445 := Tmp_464 + 1 * 4;
    Tmp_482 := Page_1;
    goto anon302_Then, anon302_Else;

  anon302_Else:
    assume Tmp_482 <= 2;
    goto anon303_Then, anon303_Else;

  anon303_Else:
    assume Tmp_482 != 2;
    goto anon304_Then, anon304_Else;

  anon304_Else:
    assume Tmp_482 != 1;
    goto anon305_Then, anon305_Else;

  anon305_Else:
    assume Tmp_482 != 0;
    goto L438;

  L438:
    Tmp_480 := Tmp_450;
    call {:si_unique_call 420} FatPrepareWriteVolumeFile#1(IrpContext_30, Vcb_23, Offset_2, 4096, Tmp_480, Tmp_445, 1, 0);
    goto anon235_Then, anon235_Else;

  anon235_Else:
    assume {:partition} Page_1 == 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_489;
    assume {:nonnull} Tmp_489 != 0;
    assume Tmp_489 > 0;
    havoc FatEntry_3;
    goto L255;

  L255:
    Page_1 := Page_1 + 1;
    Offset_2 := Offset_2 + 4096;
    goto L255_dummy;

  L255_dummy:
    assume false;
    return;

  anon235_Then:
    assume {:partition} Page_1 != 0;
    goto L255;

  anon305_Then:
    assume Tmp_482 == 0;
    Tmp_482 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_450;
    goto L438;

  anon304_Then:
    assume Tmp_482 == 1;
    Tmp_482 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_450;
    goto L438;

  anon303_Then:
    assume Tmp_482 == 2;
    Tmp_482 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_450;
    goto L438;

  anon302_Then:
    assume Tmp_482 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_450;
    goto L438;

  anon308_Then:
    assume Tmp_459 == 0;
    Tmp_459 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_464;
    goto L428;

  anon307_Then:
    assume Tmp_459 == 1;
    Tmp_459 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_464;
    goto L428;

  anon306_Then:
    assume Tmp_459 == 2;
    Tmp_459 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_464;
    goto L428;

  anon301_Then:
    assume Tmp_459 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_464;
    goto L428;

  anon234_Then:
    assume {:partition} Page_1 >= NumberOfPages;
    StartSectorLbo := BAND(StartOffsetInVolume, BNOT(SectorSize_1 - 1));
    FinalSectorLbo := BAND(FinalOffsetInVolume_1, BNOT(SectorSize_1 - 1));
    Lbo_5 := StartSectorLbo;
    goto L260;

  L260:
    call {:si_unique_call 421} Lbo_5, Tmp_487, vslice_dummy_var_76 := FatSetFatRun_loop_L260(Lbo_5, FinalSectorLbo, Tmp_487, SectorSize_1, Vcb_23, vslice_dummy_var_76);
    goto L260_last;

  L260_last:
    goto anon236_Then, anon236_Else;

  anon236_Else:
    assume {:partition} FinalSectorLbo >= Lbo_5;
    Tmp_487 := Lbo_5;
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    call {:si_unique_call 422} vslice_dummy_var_76 := FatAddMcbEntry(Vcb_23, DirtyFatMcb__VCB(Vcb_23), Tmp_487, Lbo_5, SectorSize_1);
    Lbo_5 := Lbo_5 + SectorSize_1;
    goto anon236_Else_dummy;

  anon236_Else_dummy:
    assume false;
    return;

  anon236_Then:
    assume {:partition} Lbo_5 > FinalSectorLbo;
    FinalCluster_1 := StartingFatIndex + ClusterCount - 1;
    Page_1 := 0;
    Cluster := StartingFatIndex;
    goto L269;

  L269:
    call {:si_unique_call 423} Cluster, FatEntry_3, Tmp_457, Tmp_467, Page_1, Tmp_508 := FatSetFatRun_loop_L269(Cluster, FatEntry_3, Tmp_457, Tmp_467, Page_1, SavedBcbs, Tmp_508, FinalCluster_1, StartingFatIndex, ChainTogether);
    goto L269_last;

  L269_last:
    goto anon237_Then, anon237_Else;

  anon237_Else:
    assume {:partition} FinalCluster_1 >= Cluster;
    goto anon239_Then, anon239_Else;

  anon239_Else:
    assume {:partition} BAND(FatEntry_3, 4095) != 0;
    goto L273;

  L273:
    goto anon241_Then, anon241_Else;

  anon241_Else:
    assume {:partition} ChainTogether != 0;
    Tmp_467 := Cluster + 1;
    goto L276;

  L276:
    assume {:nonnull} FatEntry_3 != 0;
    assume FatEntry_3 > 0;
    Mem_T.INT4[FatEntry_3] := Tmp_467;
    Cluster := Cluster + 1;
    goto L276_dummy;

  L276_dummy:
    assume false;
    return;

  anon241_Then:
    assume {:partition} ChainTogether == 0;
    Tmp_467 := 0;
    goto L276;

  anon239_Then:
    assume {:partition} BAND(FatEntry_3, 4095) == 0;
    goto anon240_Then, anon240_Else;

  anon240_Else:
    assume {:partition} Cluster != StartingFatIndex;
    Page_1 := Page_1 + 1;
    Tmp_508 := Page_1;
    goto anon309_Then, anon309_Else;

  anon309_Else:
    assume Tmp_508 <= 2;
    goto anon310_Then, anon310_Else;

  anon310_Else:
    assume Tmp_508 != 2;
    goto anon311_Then, anon311_Else;

  anon311_Else:
    assume Tmp_508 != 1;
    goto anon312_Then, anon312_Else;

  anon312_Else:
    assume Tmp_508 != 0;
    goto L448;

  L448:
    assume {:nonnull} Tmp_457 != 0;
    assume Tmp_457 > 0;
    havoc FatEntry_3;
    goto L273;

  anon312_Then:
    assume Tmp_508 == 0;
    Tmp_508 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_457;
    goto L448;

  anon311_Then:
    assume Tmp_508 == 1;
    Tmp_508 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_457;
    goto L448;

  anon310_Then:
    assume Tmp_508 == 2;
    Tmp_508 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_457;
    goto L448;

  anon309_Then:
    assume Tmp_508 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_457;
    goto L448;

  anon240_Then:
    assume {:partition} Cluster == StartingFatIndex;
    goto L273;

  anon237_Then:
    assume {:partition} Cluster > FinalCluster_1;
    goto anon238_Then, anon238_Else;

  anon238_Else:
    assume {:partition} ChainTogether != 0;
    assume {:nonnull} FatEntry_3 != 0;
    assume FatEntry_3 > 0;
    Mem_T.INT4[FatEntry_3] := 65535;
    goto L122;

  anon238_Then:
    assume {:partition} ChainTogether == 0;
    goto L122;

  anon214_Then:
    goto L161;

  L161:
    call {:si_unique_call 424} Lbo_5, FinalCluster, Tmp_428, StartSectorLbo, Tmp_430, Tmp_434, Tmp_437, Cluster, Tmp_442, FinalOffsetInVolume, Tmp_444, Tmp_446, Tmp_454, Tmp_456, FatEntry_4, FinalSectorLbo, Tmp_465, i_7, Offset_1, Tmp_471, Tmp_472, Tmp_474, Tmp_475, Tmp_476, Tmp_477, Tmp_478, StartOffsetInVolume_1, Tmp_484, Page_2, Tmp_495, Tmp_497, Tmp_500, Tmp_503, Tmp_504, NumberOfPages_1, ClusterCountThisRun, Tmp_509, Tmp_510, StartingFatIndex, ClusterCount, vslice_dummy_var_75 := FatSetFatRun_loop_L161(Lbo_5, FinalCluster, Tmp_428, StartSectorLbo, Tmp_430, Tmp_434, Tmp_437, Cluster, Tmp_442, FinalOffsetInVolume, Tmp_444, Tmp_446, Tmp_454, Tmp_456, FatEntry_4, FinalSectorLbo, Tmp_465, i_7, Offset_1, Tmp_471, Tmp_472, Tmp_474, Tmp_475, Tmp_476, Tmp_477, Tmp_478, StartOffsetInVolume_1, Tmp_484, SavedBcbs, Page_2, Tmp_495, Tmp_497, Tmp_500, SectorSize_1, Tmp_503, Tmp_504, NumberOfPages_1, ClusterCountThisRun, Tmp_509, Tmp_510, IrpContext_30, Vcb_23, StartingFatIndex, ClusterCount, ChainTogether, vslice_dummy_var_75);
    goto L161_last;

  L161_last:
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_509 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    Tmp_510 := Bpb__VCB(Vcb_23);
    assume {:nonnull} Tmp_509 != 0;
    assume Tmp_509 > 0;
    assume {:nonnull} Tmp_510 != 0;
    assume Tmp_510 > 0;
    havoc StartOffsetInVolume_1;
    goto anon268_Then, anon268_Else;

  anon268_Else:
    assume {:partition} ClusterCount > 65536;
    ClusterCountThisRun := 65536;
    goto L165;

  L165:
    FinalOffsetInVolume := StartOffsetInVolume_1 + (ClusterCountThisRun - 1) * 4;
    NumberOfPages_1 := INTDIV(FinalOffsetInVolume, 4096) - INTDIV(StartOffsetInVolume_1, 4096) + 1;
    Tmp_500 := (NumberOfPages_1 + 1) * 4 * 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_475;
    call {:si_unique_call 425} sdv_RtlZeroMemory(0, Tmp_500);
    Page_2 := 0;
    Offset_1 := BAND(StartOffsetInVolume_1, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    goto L177;

  L177:
    call {:si_unique_call 426} Tmp_430, Tmp_434, FatEntry_4, Tmp_465, Offset_1, Tmp_472, Page_2, Tmp_495, Tmp_497, Tmp_504 := FatSetFatRun_loop_L177(Tmp_430, Tmp_434, FatEntry_4, Tmp_465, Offset_1, Tmp_472, SavedBcbs, Page_2, Tmp_495, Tmp_497, Tmp_504, NumberOfPages_1, IrpContext_30, Vcb_23);
    goto L177_last;

  L177_last:
    goto anon224_Then, anon224_Else;

  anon224_Else:
    assume {:partition} NumberOfPages_1 > Page_2;
    Tmp_430 := Page_2;
    goto anon269_Then, anon269_Else;

  anon269_Else:
    assume Tmp_430 <= 2;
    goto anon274_Then, anon274_Else;

  anon274_Else:
    assume Tmp_430 != 2;
    goto anon275_Then, anon275_Else;

  anon275_Else:
    assume Tmp_430 != 1;
    goto anon276_Then, anon276_Else;

  anon276_Else:
    assume Tmp_430 != 0;
    goto L348;

  L348:
    Tmp_465 := Tmp_434 + 1 * 4;
    Tmp_495 := Page_2;
    goto anon270_Then, anon270_Else;

  anon270_Else:
    assume Tmp_495 <= 2;
    goto anon271_Then, anon271_Else;

  anon271_Else:
    assume Tmp_495 != 2;
    goto anon272_Then, anon272_Else;

  anon272_Else:
    assume Tmp_495 != 1;
    goto anon273_Then, anon273_Else;

  anon273_Else:
    assume Tmp_495 != 0;
    goto L358;

  L358:
    Tmp_504 := Tmp_472;
    call {:si_unique_call 427} FatPrepareWriteVolumeFile#1(IrpContext_30, Vcb_23, Offset_1, 4096, Tmp_504, Tmp_465, 1, 0);
    goto anon225_Then, anon225_Else;

  anon225_Else:
    assume {:partition} Page_2 == 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_497;
    assume {:nonnull} Tmp_497 != 0;
    assume Tmp_497 > 0;
    havoc FatEntry_4;
    goto L186;

  L186:
    Page_2 := Page_2 + 1;
    Offset_1 := Offset_1 + 4096;
    goto L186_dummy;

  L186_dummy:
    assume false;
    return;

  anon225_Then:
    assume {:partition} Page_2 != 0;
    goto L186;

  anon273_Then:
    assume Tmp_495 == 0;
    Tmp_495 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_472;
    goto L358;

  anon272_Then:
    assume Tmp_495 == 1;
    Tmp_495 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_472;
    goto L358;

  anon271_Then:
    assume Tmp_495 == 2;
    Tmp_495 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_472;
    goto L358;

  anon270_Then:
    assume Tmp_495 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_472;
    goto L358;

  anon276_Then:
    assume Tmp_430 == 0;
    Tmp_430 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_434;
    goto L348;

  anon275_Then:
    assume Tmp_430 == 1;
    Tmp_430 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_434;
    goto L348;

  anon274_Then:
    assume Tmp_430 == 2;
    Tmp_430 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_434;
    goto L348;

  anon269_Then:
    assume Tmp_430 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_434;
    goto L348;

  anon224_Then:
    assume {:partition} Page_2 >= NumberOfPages_1;
    StartSectorLbo := BAND(StartOffsetInVolume_1, BNOT(SectorSize_1 - 1));
    FinalSectorLbo := BAND(FinalOffsetInVolume, BNOT(SectorSize_1 - 1));
    Lbo_5 := StartSectorLbo;
    goto L191;

  L191:
    call {:si_unique_call 428} Lbo_5, Tmp_446, vslice_dummy_var_75 := FatSetFatRun_loop_L191(Lbo_5, Tmp_446, FinalSectorLbo, SectorSize_1, Vcb_23, vslice_dummy_var_75);
    goto L191_last;

  L191_last:
    goto anon226_Then, anon226_Else;

  anon226_Else:
    assume {:partition} FinalSectorLbo >= Lbo_5;
    Tmp_446 := Lbo_5;
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    call {:si_unique_call 429} vslice_dummy_var_75 := FatAddMcbEntry(Vcb_23, DirtyFatMcb__VCB(Vcb_23), Tmp_446, Lbo_5, SectorSize_1);
    Lbo_5 := Lbo_5 + SectorSize_1;
    goto anon226_Else_dummy;

  anon226_Else_dummy:
    assume false;
    return;

  anon226_Then:
    assume {:partition} Lbo_5 > FinalSectorLbo;
    FinalCluster := StartingFatIndex + ClusterCountThisRun - 1;
    Page_2 := 0;
    Cluster := StartingFatIndex;
    goto L200;

  L200:
    call {:si_unique_call 430} Tmp_428, Cluster, FatEntry_4, Tmp_471, Tmp_474, Page_2 := FatSetFatRun_loop_L200(FinalCluster, Tmp_428, Cluster, FatEntry_4, Tmp_471, Tmp_474, SavedBcbs, Page_2, StartingFatIndex, ChainTogether);
    goto L200_last;

  L200_last:
    goto anon227_Then, anon227_Else;

  anon227_Else:
    assume {:partition} FinalCluster >= Cluster;
    goto anon229_Then, anon229_Else;

  anon229_Else:
    assume {:partition} BAND(FatEntry_4, 4095) != 0;
    goto L204;

  L204:
    goto anon231_Then, anon231_Else;

  anon231_Else:
    assume {:partition} ChainTogether != 0;
    Tmp_428 := Cluster + 1;
    goto L207;

  L207:
    assume {:nonnull} FatEntry_4 != 0;
    assume FatEntry_4 > 0;
    Mem_T.INT4[FatEntry_4] := Tmp_428;
    Cluster := Cluster + 1;
    goto L207_dummy;

  L207_dummy:
    assume false;
    return;

  anon231_Then:
    assume {:partition} ChainTogether == 0;
    Tmp_428 := 0;
    goto L207;

  anon229_Then:
    assume {:partition} BAND(FatEntry_4, 4095) == 0;
    goto anon230_Then, anon230_Else;

  anon230_Else:
    assume {:partition} Cluster != StartingFatIndex;
    Page_2 := Page_2 + 1;
    Tmp_474 := Page_2;
    goto anon277_Then, anon277_Else;

  anon277_Else:
    assume Tmp_474 <= 2;
    goto anon278_Then, anon278_Else;

  anon278_Else:
    assume Tmp_474 != 2;
    goto anon279_Then, anon279_Else;

  anon279_Else:
    assume Tmp_474 != 1;
    goto anon280_Then, anon280_Else;

  anon280_Else:
    assume Tmp_474 != 0;
    goto L368;

  L368:
    assume {:nonnull} Tmp_471 != 0;
    assume Tmp_471 > 0;
    havoc FatEntry_4;
    goto L204;

  anon280_Then:
    assume Tmp_474 == 0;
    Tmp_474 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_471;
    goto L368;

  anon279_Then:
    assume Tmp_474 == 1;
    Tmp_474 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_471;
    goto L368;

  anon278_Then:
    assume Tmp_474 == 2;
    Tmp_474 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_471;
    goto L368;

  anon277_Then:
    assume Tmp_474 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_471;
    goto L368;

  anon230_Then:
    assume {:partition} Cluster == StartingFatIndex;
    goto L204;

  anon227_Then:
    assume {:partition} Cluster > FinalCluster;
    goto anon228_Then, anon228_Else;

  anon228_Else:
    assume {:partition} 65536 < ClusterCount;
    goto L215;

  L215:
    i_7 := 0;
    goto L216;

  L216:
    call {:si_unique_call 431} Tmp_437, Tmp_442, Tmp_444, Tmp_454, Tmp_456, i_7, Tmp_476, Tmp_477, Tmp_478, Tmp_484, Tmp_503 := FatSetFatRun_loop_L216(Tmp_437, Tmp_442, Tmp_444, Tmp_454, Tmp_456, i_7, Tmp_476, Tmp_477, Tmp_478, Tmp_484, SavedBcbs, Tmp_503);
    goto L216_last;

  L216_last:
    Tmp_484 := i_7;
    goto anon281_Then, anon281_Else;

  anon281_Else:
    assume Tmp_484 <= 2;
    goto anon298_Then, anon298_Else;

  anon298_Else:
    assume Tmp_484 != 2;
    goto anon299_Then, anon299_Else;

  anon299_Else:
    assume Tmp_484 != 1;
    goto anon300_Then, anon300_Else;

  anon300_Else:
    assume Tmp_484 != 0;
    goto L378;

  L378:
    assume {:nonnull} Tmp_442 != 0;
    assume Tmp_442 > 0;
    goto anon244_Then, anon244_Else;

  anon244_Else:
    Tmp_444 := i_7;
    goto anon282_Then, anon282_Else;

  anon282_Else:
    assume Tmp_444 <= 2;
    goto anon295_Then, anon295_Else;

  anon295_Else:
    assume Tmp_444 != 2;
    goto anon296_Then, anon296_Else;

  anon296_Else:
    assume Tmp_444 != 1;
    goto anon297_Then, anon297_Else;

  anon297_Else:
    assume Tmp_444 != 0;
    goto L388;

  L388:
    assume {:nonnull} Tmp_437 != 0;
    assume Tmp_437 > 0;
    goto anon245_Then, anon245_Else;

  anon245_Else:
    Tmp_477 := i_7;
    goto anon283_Then, anon283_Else;

  anon283_Else:
    assume Tmp_477 <= 2;
    goto anon292_Then, anon292_Else;

  anon292_Else:
    assume Tmp_477 != 2;
    goto anon293_Then, anon293_Else;

  anon293_Else:
    assume Tmp_477 != 1;
    goto anon294_Then, anon294_Else;

  anon294_Else:
    assume Tmp_477 != 0;
    goto L398;

  L398:
    assume {:nonnull} Tmp_503 != 0;
    assume Tmp_503 > 0;
    Tmp_478 := i_7;
    goto anon284_Then, anon284_Else;

  anon284_Else:
    assume Tmp_478 <= 2;
    goto anon289_Then, anon289_Else;

  anon289_Else:
    assume Tmp_478 != 2;
    goto anon290_Then, anon290_Else;

  anon290_Else:
    assume Tmp_478 != 1;
    goto anon291_Then, anon291_Else;

  anon291_Else:
    assume Tmp_478 != 0;
    goto L408;

  L408:
    assume {:nonnull} Tmp_476 != 0;
    assume Tmp_476 > 0;
    goto L219;

  L219:
    Tmp_454 := i_7;
    goto anon285_Then, anon285_Else;

  anon285_Else:
    assume Tmp_454 <= 2;
    goto anon286_Then, anon286_Else;

  anon286_Else:
    assume Tmp_454 != 2;
    goto anon287_Then, anon287_Else;

  anon287_Else:
    assume Tmp_454 != 1;
    goto anon288_Then, anon288_Else;

  anon288_Else:
    assume Tmp_454 != 0;
    goto L418;

  L418:
    assume {:nonnull} Tmp_456 != 0;
    assume Tmp_456 > 0;
    i_7 := i_7 + 1;
    goto L418_dummy;

  L418_dummy:
    assume false;
    return;

  anon288_Then:
    assume Tmp_454 == 0;
    Tmp_454 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_456;
    goto L418;

  anon287_Then:
    assume Tmp_454 == 1;
    Tmp_454 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_456;
    goto L418;

  anon286_Then:
    assume Tmp_454 == 2;
    Tmp_454 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_456;
    goto L418;

  anon285_Then:
    assume Tmp_454 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_456;
    goto L418;

  anon291_Then:
    assume Tmp_478 == 0;
    Tmp_478 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_476;
    goto L408;

  anon290_Then:
    assume Tmp_478 == 1;
    Tmp_478 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_476;
    goto L408;

  anon289_Then:
    assume Tmp_478 == 2;
    Tmp_478 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_476;
    goto L408;

  anon284_Then:
    assume Tmp_478 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_476;
    goto L408;

  anon294_Then:
    assume Tmp_477 == 0;
    Tmp_477 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_503;
    goto L398;

  anon293_Then:
    assume Tmp_477 == 1;
    Tmp_477 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_503;
    goto L398;

  anon292_Then:
    assume Tmp_477 == 2;
    Tmp_477 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_503;
    goto L398;

  anon283_Then:
    assume Tmp_477 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_503;
    goto L398;

  anon245_Then:
    goto L219;

  anon297_Then:
    assume Tmp_444 == 0;
    Tmp_444 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_437;
    goto L388;

  anon296_Then:
    assume Tmp_444 == 1;
    Tmp_444 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_437;
    goto L388;

  anon295_Then:
    assume Tmp_444 == 2;
    Tmp_444 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_437;
    goto L388;

  anon282_Then:
    assume Tmp_444 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_437;
    goto L388;

  anon244_Then:
    goto anon233_Then, anon233_Else;

  anon233_Else:
    assume {:partition} 65536 < ClusterCount;
    StartingFatIndex := StartingFatIndex + 65536;
    ClusterCount := ClusterCount - 65536;
    goto anon233_Else_dummy;

  anon233_Else_dummy:
    assume false;
    return;

  anon233_Then:
    assume {:partition} ClusterCount <= 65536;
    goto L122;

  anon300_Then:
    assume Tmp_484 == 0;
    Tmp_484 := 0;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_442;
    goto L378;

  anon299_Then:
    assume Tmp_484 == 1;
    Tmp_484 := 1;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_442;
    goto L378;

  anon298_Then:
    assume Tmp_484 == 2;
    Tmp_484 := 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_442;
    goto L378;

  anon281_Then:
    assume Tmp_484 > 2;
    assume {:nonnull} SavedBcbs != 0;
    assume SavedBcbs > 0;
    havoc Tmp_442;
    goto L378;

  anon228_Then:
    assume {:partition} ClusterCount <= 65536;
    goto anon232_Then, anon232_Else;

  anon232_Else:
    assume {:partition} ChainTogether == 0;
    goto L215;

  anon232_Then:
    assume {:partition} ChainTogether != 0;
    assume {:nonnull} FatEntry_4 != 0;
    assume FatEntry_4 > 0;
    Mem_T.INT4[FatEntry_4] := 268435455;
    goto L215;

  anon268_Then:
    assume {:partition} 65536 >= ClusterCount;
    ClusterCountThisRun := ClusterCount;
    goto L165;

  anon213_Then:
    assume {:partition} ClusterCount == 0;
    goto L1;

  anon211_Then:
    assume {:partition} StartingFatIndex + ClusterCount - 1 >= 2;
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    goto anon212_Then, anon212_Else;

  anon212_Else:
    goto L30;

  anon212_Then:
    goto L26;

  anon209_Then:
    assume {:partition} StartingFatIndex >= 2;
    assume {:nonnull} Vcb_23 != 0;
    assume Vcb_23 > 0;
    goto anon210_Then, anon210_Else;

  anon210_Else:
    goto L24;

  anon210_Then:
    goto L20;
}



procedure {:origName "FatLookupFatEntry"} FatLookupFatEntry(actual_IrpContext_31: int, actual_Vcb_24: int, actual_FatIndex_2: int, actual_FatEntry_5: int, actual_Context_1: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLookupFatEntry"} FatLookupFatEntry(actual_IrpContext_31: int, actual_Vcb_24: int, actual_FatIndex_2: int, actual_FatEntry_5: int, actual_Context_1: int)
{
  var {:pointer} Tmp_512: int;
  var {:scalar} Tmp_513: int;
  var {:scalar} Tmp_514: int;
  var {:scalar} OffsetIntoVolumeFile_1: int;
  var {:pointer} Tmp_515: int;
  var {:scalar} PageEntryOffset: int;
  var {:pointer} Tmp_516: int;
  var {:scalar} Tmp_517: int;
  var {:pointer} Tmp_519: int;
  var {:pointer} Tmp_520: int;
  var {:scalar} OffsetIntoVolumeFile_2: int;
  var {:pointer} Tmp_521: int;
  var {:pointer} Tmp_522: int;
  var {:scalar} PageEntryOffset_1: int;
  var {:scalar} Tmp_523: int;
  var {:scalar} Tmp_524: int;
  var {:pointer} Tmp_525: int;
  var {:pointer} Tmp_526: int;
  var {:pointer} Tmp_527: int;
  var {:pointer} Tmp_528: int;
  var {:scalar} Tmp_529: int;
  var {:scalar} Tmp_530: int;
  var {:scalar} Tmp_531: int;
  var {:pointer} Tmp_532: int;
  var {:pointer} Tmp_533: int;
  var {:pointer} Tmp_534: int;
  var {:scalar} Tmp_535: int;
  var {:pointer} Tmp_536: int;
  var {:pointer} IrpContext_31: int;
  var {:pointer} Vcb_24: int;
  var {:scalar} FatIndex_2: int;
  var {:pointer} FatEntry_5: int;
  var {:pointer} Context_1: int;
  var vslice_dummy_var_77: int;

  anon0:
    call {:si_unique_call 432} vslice_dummy_var_77 := __HAVOC_malloc(4);
    IrpContext_31 := actual_IrpContext_31;
    Vcb_24 := actual_Vcb_24;
    FatIndex_2 := actual_FatIndex_2;
    FatEntry_5 := actual_FatEntry_5;
    Context_1 := actual_Context_1;
    call {:si_unique_call 433} sdv_do_paged_code_check();
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} 2 > FatIndex_2;
    goto L8;

  L8:
    assume {:nonnull} IrpContext_31 != 0;
    assume IrpContext_31 > 0;
    call {:si_unique_call 434} ExRaiseStatus(-1073741566);
    goto L12;

  L12:
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    goto L16;

  L16:
    Tmp_521 := FatEntry_5;
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    havoc Tmp_532;
    assume {:nonnull} Tmp_521 != 0;
    assume Tmp_521 > 0;
    assume {:nonnull} Tmp_532 != 0;
    assume Tmp_532 > 0;
    assume {:nonnull} Tmp_521 != 0;
    assume Tmp_521 > 0;
    assume {:nonnull} Tmp_532 != 0;
    assume Tmp_532 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} BAND(FatIndex_2, 1) != 0;
    call {:si_unique_call 435} Tmp_514 := corral_nondet();
    goto L20;

  L20:
    assume {:nonnull} FatEntry_5 != 0;
    assume FatEntry_5 > 0;
    Mem_T.INT4[FatEntry_5] := BAND(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048), Tmp_514);
    goto L1;

  L1:
    return;

  anon36_Then:
    assume {:partition} BAND(FatIndex_2, 1) == 0;
    assume {:nonnull} FatEntry_5 != 0;
    assume FatEntry_5 > 0;
    Tmp_514 := Mem_T.INT4[FatEntry_5];
    goto L20;

  anon31_Then:
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_528 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Tmp_528 != 0;
    assume Tmp_528 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_519 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_525 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Tmp_519 != 0;
    assume Tmp_519 > 0;
    assume {:nonnull} Tmp_525 != 0;
    assume Tmp_525 > 0;
    havoc Tmp_530;
    goto L24;

  L24:
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_536 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_515 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Tmp_515 != 0;
    assume Tmp_515 > 0;
    assume {:nonnull} Tmp_536 != 0;
    assume Tmp_536 > 0;
    havoc Tmp_524;
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    call {:si_unique_call 436} FatReadVolumeFile(IrpContext_31, Vcb_24, Tmp_524, Tmp_530, Bcb__FAT_ENUMERATION_CONTEXT(Context_1), PinnedPage__FAT_ENUMERATION_CONTEXT(Context_1));
    goto L16;

  anon37_Then:
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_533 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_512 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Tmp_512 != 0;
    assume Tmp_512 > 0;
    assume {:nonnull} Tmp_533 != 0;
    assume Tmp_533 > 0;
    havoc Tmp_530;
    goto L24;

  anon29_Then:
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_520 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_527 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Tmp_520 != 0;
    assume Tmp_520 > 0;
    assume {:nonnull} Tmp_527 != 0;
    assume Tmp_527 > 0;
    havoc OffsetIntoVolumeFile_2;
    Tmp_513 := INTMOD(OffsetIntoVolumeFile_2, 4096);
    PageEntryOffset_1 := INTDIV(Tmp_513, 2);
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    goto L54;

  L54:
    Tmp_517 := PageEntryOffset_1;
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    havoc Tmp_526;
    assume {:nonnull} FatEntry_5 != 0;
    assume FatEntry_5 > 0;
    assume {:nonnull} Tmp_526 != 0;
    assume Tmp_526 > 0;
    Mem_T.INT4[FatEntry_5] := Mem_T.INT4[Tmp_526 + Tmp_517 * 4];
    goto L1;

  anon35_Then:
    goto L52;

  L52:
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto L55;

  L55:
    Tmp_523 := BAND(OffsetIntoVolumeFile_2, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    call {:si_unique_call 437} FatReadVolumeFile(IrpContext_31, Vcb_24, Tmp_523, 4096, Bcb__FAT_ENUMERATION_CONTEXT(Context_1), PinnedPage__FAT_ENUMERATION_CONTEXT(Context_1));
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto L54;

  anon34_Then:
    goto L55;

  anon39_Then:
    goto L52;

  anon30_Then:
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_522 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    Tmp_534 := Bpb__VCB(Vcb_24);
    assume {:nonnull} Tmp_522 != 0;
    assume Tmp_522 > 0;
    assume {:nonnull} Tmp_534 != 0;
    assume Tmp_534 > 0;
    havoc OffsetIntoVolumeFile_1;
    Tmp_535 := INTMOD(OffsetIntoVolumeFile_1, 4096);
    PageEntryOffset := INTDIV(Tmp_535, 4);
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    goto L37;

  L37:
    Tmp_529 := PageEntryOffset;
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    havoc Tmp_516;
    assume {:nonnull} FatEntry_5 != 0;
    assume FatEntry_5 > 0;
    assume {:nonnull} Tmp_516 != 0;
    assume Tmp_516 > 0;
    Mem_T.INT4[FatEntry_5] := BAND(Mem_T.INT4[Tmp_516 + Tmp_529 * 4], BNOT(BOR(BOR(BOR(268435456, 536870912), 1073741824), -2147483648)));
    goto L1;

  anon33_Then:
    goto L35;

  L35:
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto L38;

  L38:
    Tmp_531 := BAND(OffsetIntoVolumeFile_1, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    call {:si_unique_call 438} FatReadVolumeFile(IrpContext_31, Vcb_24, Tmp_531, 4096, Bcb__FAT_ENUMERATION_CONTEXT(Context_1), PinnedPage__FAT_ENUMERATION_CONTEXT(Context_1));
    assume {:nonnull} Context_1 != 0;
    assume Context_1 > 0;
    goto L37;

  anon32_Then:
    goto L38;

  anon38_Then:
    goto L35;

  anon27_Then:
    assume {:partition} FatIndex_2 >= 2;
    assume {:nonnull} Vcb_24 != 0;
    assume Vcb_24 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    goto L12;

  anon28_Then:
    goto L8;
}



procedure {:origName "FatAllocateDiskSpace"} FatAllocateDiskSpace(actual_IrpContext_32: int, actual_Vcb_25: int, actual_AbsoluteClusterHint: int, actual_ByteCount_4: int, actual_ExactMatchRequired: int, actual_Mcb_2: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAllocateDiskSpace"} FatAllocateDiskSpace(actual_IrpContext_32: int, actual_Vcb_25: int, actual_AbsoluteClusterHint: int, actual_ByteCount_4: int, actual_ExactMatchRequired: int, actual_Mcb_2: int)
{
  var {:scalar} s_p_e_c_i_a_l_1: int;
  var {:scalar} SelectNextContigWindow: int;
  var {:scalar} sdv_156: int;
  var {:pointer} Window: int;
  var {:scalar} Tmp_544: int;
  var {:scalar} Tmp_545: int;
  var {:scalar} Tmp_546: int;
  var {:scalar} Desired: int;
  var {:pointer} Tmp_548: int;
  var {:pointer} Tmp_549: int;
  var {:scalar} ClustersRemaining: int;
  var {:scalar} NextWindow: int;
  var {:scalar} LockedBitMap: int;
  var {:scalar} s_p_e_c_i_a_l_2: int;
  var {:scalar} sdv_159: int;
  var {:pointer} Tmp_552: int;
  var {:scalar} Tmp_553: int;
  var {:pointer} Tmp_554: int;
  var {:scalar} Cluster_1: int;
  var {:scalar} Tmp_555: int;
  var {:pointer} Tmp_556: int;
  var {:scalar} Wait_1: int;
  var {:scalar} FaveWindow: int;
  var {:pointer} Tmp_557: int;
  var {:pointer} Tmp_559: int;
  var {:scalar} ClustersFound: int;
  var {:scalar} sdv_162: int;
  var {:scalar} Tmp_560: int;
  var {:scalar} StartingCluster: int;
  var {:scalar} BytesFound: int;
  var {:pointer} Tmp_562: int;
  var {:scalar} Tmp_563: int;
  var {:pointer} Tmp_564: int;
  var {:scalar} sdv_166: int;
  var {:scalar} sdv_167: int;
  var {:scalar} BucketNum: int;
  var {:scalar} SelectedWindow: int;
  var {:scalar} sdv_169: int;
  var {:scalar} WindowRelativeHint: int;
  var {:pointer} Tmp_569: int;
  var {:pointer} Tmp_571: int;
  var {:scalar} Tmp_573: int;
  var {:scalar} Tmp_576: int;
  var {:scalar} PriorLastCluster: int;
  var {:scalar} CurrentVbo_1: int;
  var {:pointer} Tmp_577: int;
  var {:scalar} Index_1: int;
  var {:scalar} BytesPerCluster_3: int;
  var {:scalar} Result_2: int;
  var {:scalar} sdv_172: int;
  var {:scalar} ClusterCount_1: int;
  var {:pointer} IrpContext_32: int;
  var {:pointer} Vcb_25: int;
  var {:scalar} AbsoluteClusterHint: int;
  var {:pointer} ByteCount_4: int;
  var {:scalar} ExactMatchRequired: int;
  var {:pointer} Mcb_2: int;
  var vslice_dummy_var_78: int;
  var vslice_dummy_var_79: int;
  var vslice_dummy_var_80: int;
  var vslice_dummy_var_81: int;
  var vslice_dummy_var_82: int;
  var vslice_dummy_var_83: int;

  anon0:
    call {:si_unique_call 439} vslice_dummy_var_78 := __HAVOC_malloc(4);
    IrpContext_32 := actual_IrpContext_32;
    Vcb_25 := actual_Vcb_25;
    AbsoluteClusterHint := actual_AbsoluteClusterHint;
    ByteCount_4 := actual_ByteCount_4;
    ExactMatchRequired := actual_ExactMatchRequired;
    Mcb_2 := actual_Mcb_2;
    Result_2 := 1;
    call {:si_unique_call 440} sdv_do_paged_code_check();
    assume {:nonnull} ByteCount_4 != 0;
    assume ByteCount_4 > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:partition} Mem_T.INT4[ByteCount_4] != 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    call {:si_unique_call 441} BytesPerCluster_3 := corral_nondet();
    assume {:nonnull} ByteCount_4 != 0;
    assume ByteCount_4 > 0;
    Mem_T.INT4[ByteCount_4] := BAND(Mem_T.INT4[ByteCount_4] + BytesPerCluster_3 - 1, BNOT(BytesPerCluster_3 - 1));
    assume {:nonnull} ByteCount_4 != 0;
    assume ByteCount_4 > 0;
    goto anon173_Then, anon173_Else;

  anon173_Else:
    assume {:partition} Mem_T.INT4[ByteCount_4] != 0;
    call {:si_unique_call 442} ClusterCount_1 := corral_nondet();
    goto L23;

  L23:
    call {:si_unique_call 443} vslice_dummy_var_79 := ExAcquireResourceSharedLite(0, 1);
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 444} ExAcquireFastMutexUnsafe(0);
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:partition} Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] >= ClusterCount_1;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] := Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] - ClusterCount_1;
    goto L34;

  L34:
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:partition} AbsoluteClusterHint != 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Tmp_554;
    assume {:nonnull} Tmp_554 != 0;
    assume Tmp_554 > 0;
    goto anon175_Then, anon175_Else;

  anon175_Else:
    goto L42;

  L42:
    BucketNum := INTDIV(AbsoluteClusterHint - 2, 65536);
    call {:si_unique_call 445} ExReleaseFastMutexUnsafe(0);
    call {:si_unique_call 446} ExReleaseResourceLite(0);
    call {:si_unique_call 447} vslice_dummy_var_80 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon176_Then, anon176_Else;

  anon176_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 448} ExAcquireFastMutexUnsafe(0);
    Tmp_576 := BucketNum;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Tmp_548;
    Window := Tmp_548 + Tmp_576 * 12;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon177_Then, anon177_Else;

  anon177_Else:
    assume {:nonnull} IrpContext_32 != 0;
    assume IrpContext_32 > 0;
    havoc Tmp_546;
    goto anon178_Then, anon178_Else;

  anon178_Else:
    assume {:partition} Tmp_546 == 0;
    Wait_1 := 0;
    goto L511;

  L511:
    assume {:nonnull} IrpContext_32 != 0;
    assume IrpContext_32 > 0;
    call {:si_unique_call 449} FatExamineFatEntries(IrpContext_32, Vcb_25, 0, 0, 0, Window, 0);
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume {:partition} Wait_1 != 0;
    goto L79;

  L79:
    call {:si_unique_call 450} sdv_167 := sdv_AbnormalTermination();
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:partition} sdv_167 != 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] := Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] + ClusterCount_1;
    call {:si_unique_call 451} ExReleaseFastMutexUnsafe(0);
    call {:si_unique_call 452} ExReleaseResourceLite(0);
    goto L57;

  L57:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Tmp_577;
    assume {:nonnull} Tmp_577 != 0;
    assume Tmp_577 > 0;
    havoc WindowRelativeHint;
    goto L90;

  L90:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Window;
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:partition} ClusterCount_1 == 1;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    Tmp_557 := FreeClusterBitMap__VCB(Vcb_25);
    assume {:nonnull} Tmp_557 != 0;
    assume Tmp_557 > 0;
    goto anon180_Then, anon180_Else;

  anon180_Else:
    Tmp_560 := WindowRelativeHint;
    goto L96;

  L96:
    StartingCluster := Tmp_560;
    goto anon181_Then, anon181_Else;

  anon181_Else:
    assume {:partition} StartingCluster == 1;
    goto L192;

  L192:
    ClustersFound := 0;
    LockedBitMap := 0;
    SelectNextContigWindow := 0;
    call {:si_unique_call 453} ExReleaseFastMutexUnsafe(0);
    call {:si_unique_call 454} ExReleaseResourceLite(0);
    call {:si_unique_call 455} vslice_dummy_var_81 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon184_Then, anon184_Else;

  anon184_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 456} ExAcquireFastMutexUnsafe(0);
    LockedBitMap := 1;
    goto anon185_Then, anon185_Else;

  anon185_Else:
    assume {:partition} ExactMatchRequired != 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    Result_2 := 0;
    goto L216;

  L216:
    call {:si_unique_call 457} ExReleaseResourceLite(0);
    call {:si_unique_call 458} sdv_172 := sdv_AbnormalTermination();
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} sdv_172 != 0;
    goto L224;

  L224:
    assume {:nonnull} ByteCount_4 != 0;
    assume ByteCount_4 > 0;
    Mem_T.INT4[ByteCount_4] := 0;
    goto anon186_Then, anon186_Else;

  anon186_Else:
    assume {:partition} LockedBitMap != 0;
    call {:si_unique_call 459} ExReleaseFastMutexUnsafe(0);
    goto L232;

  L232:
    call {:si_unique_call 460} FatDeallocateDiskSpace(IrpContext_32, Vcb_25, Mcb_2);
    goto anon187_Then, anon187_Else;

  anon187_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 461} FatRemoveMcbEntry(Vcb_25, Mcb_2, 0, -1);
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon187_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon186_Then:
    assume {:partition} LockedBitMap == 0;
    call {:si_unique_call 462} ExAcquireFastMutexUnsafe(0);
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon152_Then, anon152_Else;

  anon152_Else:
    assume {:nonnull} Window != 0;
    assume Window > 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    assume {:nonnull} Window != 0;
    assume Window > 0;
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    assume {:nonnull} Window != 0;
    assume Window > 0;
    goto L242;

  L242:
    assume {:nonnull} Window != 0;
    assume Window > 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] := Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] + ClustersFound;
    call {:si_unique_call 463} ExReleaseFastMutexUnsafe(0);
    call {:si_unique_call 464} FatRemoveMcbEntry(Vcb_25, Mcb_2, CurrentVbo_1, BytesFound);
    goto L232;

  anon153_Then:
    goto L242;

  anon152_Then:
    goto L242;

  anon150_Then:
    assume {:partition} sdv_172 == 0;
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:partition} Result_2 == 0;
    goto L224;

  anon151_Then:
    assume {:partition} Result_2 != 0;
    goto L1;

  anon149_Then:
    goto L212;

  L212:
    ClustersRemaining := ClusterCount_1;
    CurrentVbo_1 := 0;
    PriorLastCluster := 0;
    goto L258;

  L258:
    call {:si_unique_call 465} SelectNextContigWindow, sdv_156, Window, Tmp_544, Tmp_545, Desired, ClustersRemaining, NextWindow, LockedBitMap, s_p_e_c_i_a_l_2, Tmp_553, Cluster_1, Tmp_555, Tmp_556, Wait_1, FaveWindow, Tmp_559, ClustersFound, BytesFound, Tmp_562, Tmp_564, SelectedWindow, sdv_169, WindowRelativeHint, Tmp_569, Tmp_571, Tmp_573, PriorLastCluster, CurrentVbo_1, Index_1, vslice_dummy_var_83 := FatAllocateDiskSpace_loop_L258(SelectNextContigWindow, sdv_156, Window, Tmp_544, Tmp_545, Desired, ClustersRemaining, NextWindow, LockedBitMap, s_p_e_c_i_a_l_2, Tmp_553, Cluster_1, Tmp_555, Tmp_556, Wait_1, FaveWindow, Tmp_559, ClustersFound, BytesFound, Tmp_562, Tmp_564, SelectedWindow, sdv_169, WindowRelativeHint, Tmp_569, Tmp_571, Tmp_573, PriorLastCluster, CurrentVbo_1, Index_1, IrpContext_32, Vcb_25, ExactMatchRequired, Mcb_2, vslice_dummy_var_83);
    goto L258_last;

  L258_last:
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} ClustersRemaining != 0;
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} LockedBitMap != 0;
    goto L263;

  L263:
    ClustersFound := 0;
    goto anon188_Then, anon188_Else;

  anon188_Else:
    assume {:partition} SelectNextContigWindow != 0;
    goto L266;

  L266:
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:partition} ClustersFound == 0;
    FaveWindow := 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon191_Then, anon191_Else;

  anon191_Else:
    call {:si_unique_call 466} KeBugCheckEx(35, 133472, 0, 5, 0);
    goto L355;

  L355:
    SelectedWindow := 0;
    goto anon192_Then, anon192_Else;

  anon192_Else:
    assume {:partition} SelectNextContigWindow != 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc NextWindow;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon193_Then, anon193_Else;

  anon193_Else:
    Tmp_555 := NextWindow;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Tmp_569;
    assume {:nonnull} Tmp_569 != 0;
    assume Tmp_569 > 0;
    goto anon194_Then, anon194_Else;

  anon194_Else:
    FaveWindow := NextWindow;
    SelectedWindow := 1;
    goto L368;

  L368:
    SelectNextContigWindow := 0;
    goto L360;

  L360:
    goto anon161_Then, anon161_Else;

  anon161_Else:
    assume {:partition} SelectedWindow != 0;
    goto L375;

  L375:
    Tmp_544 := FaveWindow;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Tmp_571;
    assume {:nonnull} Tmp_571 != 0;
    assume Tmp_571 > 0;
    goto anon195_Then, anon195_Else;

  anon195_Else:
    goto L379;

  L379:
    assume {:nonnull} IrpContext_32 != 0;
    assume IrpContext_32 > 0;
    havoc Tmp_545;
    goto anon196_Then, anon196_Else;

  anon196_Else:
    assume {:partition} Tmp_545 == 0;
    Wait_1 := 0;
    goto L592;

  L592:
    assume {:nonnull} IrpContext_32 != 0;
    assume IrpContext_32 > 0;
    Tmp_573 := FaveWindow;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Tmp_562;
    Tmp_556 := Tmp_562 + Tmp_573 * 12;
    call {:si_unique_call 467} FatExamineFatEntries(IrpContext_32, Vcb_25, 0, 0, 0, Tmp_556, 0);
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:partition} Wait_1 == 0;
    assume {:nonnull} IrpContext_32 != 0;
    assume IrpContext_32 > 0;
    goto anon163_Else_dummy;

  anon163_Else_dummy:
    assume false;
    return;

  anon163_Then:
    assume {:partition} Wait_1 != 0;
    goto anon163_Then_dummy;

  anon163_Then_dummy:
    assume false;
    return;

  anon196_Then:
    assume {:partition} Tmp_545 != 0;
    Wait_1 := 1;
    goto L592;

  anon195_Then:
    call {:si_unique_call 468} KeBugCheckEx(35, 133531, 0, 5, 1);
    goto L379;

  anon161_Then:
    assume {:partition} SelectedWindow == 0;
    call {:si_unique_call 469} FaveWindow := FatSelectBestWindow(Vcb_25);
    goto L375;

  anon194_Then:
    goto L364;

  L364:
    goto anon162_Then, anon162_Else;

  anon162_Else:
    assume {:partition} ExactMatchRequired != 0;
    Result_2 := 0;
    goto L216;

  anon162_Then:
    assume {:partition} ExactMatchRequired == 0;
    WindowRelativeHint := 0;
    goto L368;

  anon193_Then:
    goto L364;

  anon192_Then:
    assume {:partition} SelectNextContigWindow == 0;
    goto L360;

  anon191_Then:
    goto L355;

  anon157_Then:
    assume {:partition} ClustersFound != 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Window;
    s_p_e_c_i_a_l_2 := Index_1 + 2 + ClustersFound;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    s_p_e_c_i_a_l_2 := 2;
    goto L316;

  L316:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    Tmp_559 := FreeClusterBitMap__VCB(Vcb_25);
    assume {:nonnull} Tmp_559 != 0;
    assume Tmp_559 > 0;
    goto anon189_Then, anon189_Else;

  anon189_Else:
    call {:si_unique_call 470} sdv_156 := corral_nondet();
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon190_Then, anon190_Else;

  anon190_Else:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto L326;

  L326:
    assume {:nonnull} Window != 0;
    assume Window > 0;
    havoc Cluster_1;
    assume {:nonnull} Window != 0;
    assume Window > 0;
    call {:si_unique_call 471} ExReleaseFastMutexUnsafe(0);
    LockedBitMap := 0;
    call {:si_unique_call 472} BytesFound := corral_nondet();
    call {:si_unique_call 473} Tmp_553 := corral_nondet();
    call {:si_unique_call 474} vslice_dummy_var_83 := FatAddMcbEntry(Vcb_25, Mcb_2, CurrentVbo_1, Tmp_553, BytesFound);
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} PriorLastCluster != 0;
    call {:si_unique_call 475} FatSetFatEntry#1(IrpContext_32, Vcb_25, PriorLastCluster, Cluster_1);
    goto L339;

  L339:
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} ClustersFound == 1;
    call {:si_unique_call 476} FatSetFatEntry#1(IrpContext_32, Vcb_25, Cluster_1, 268435455);
    goto L349;

  L349:
    CurrentVbo_1 := CurrentVbo_1 + BytesFound;
    ClustersRemaining := ClustersRemaining - ClustersFound;
    PriorLastCluster := Cluster_1 + ClustersFound - 1;
    goto L349_dummy;

  L349_dummy:
    assume false;
    return;

  anon160_Then:
    assume {:partition} ClustersFound != 1;
    call {:si_unique_call 477} FatSetFatRun(IrpContext_32, Vcb_25, Cluster_1, ClustersFound, 1);
    goto L349;

  anon159_Then:
    assume {:partition} PriorLastCluster == 0;
    goto L339;

  anon190_Then:
    goto L326;

  anon189_Then:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto L326;

  anon158_Then:
    goto L316;

  anon188_Then:
    assume {:partition} SelectNextContigWindow == 0;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:partition} WindowRelativeHint != 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Desired;
    goto anon197_Then, anon197_Else;

  anon197_Else:
    assume {:partition} Desired > ClustersRemaining;
    Desired := ClustersRemaining;
    goto L393;

  L393:
    call {:si_unique_call 478} sdv_169 := corral_nondet();
    goto anon165_Then, anon165_Else;

  anon165_Else:
    assume {:partition} sdv_169 != 0;
    Index_1 := WindowRelativeHint - 2;
    ClustersFound := Desired;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon198_Then, anon198_Else;

  anon198_Else:
    SelectNextContigWindow := 1;
    WindowRelativeHint := 2;
    goto L389;

  L389:
    goto anon164_Then, anon164_Else;

  anon164_Else:
    assume {:partition} WindowRelativeHint == 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:partition} ClustersFound == 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Tmp_564;
    assume {:nonnull} Tmp_564 != 0;
    assume Tmp_564 > 0;
    goto anon199_Then, anon199_Else;

  anon199_Else:
    call {:si_unique_call 479} Index_1 := corral_nondet();
    goto anon169_Then, anon169_Else;

  anon169_Else:
    assume {:partition} -1 != Index_1;
    ClustersFound := ClustersRemaining;
    goto L411;

  L411:
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:partition} ClustersFound != 0;
    goto L421;

  L421:
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:partition} ClustersFound >= ClustersRemaining;
    ClustersFound := ClustersRemaining;
    goto L266;

  anon170_Then:
    assume {:partition} ClustersRemaining > ClustersFound;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon171_Then, anon171_Else;

  anon171_Else:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon172_Then, anon172_Else;

  anon172_Else:
    SelectNextContigWindow := 1;
    WindowRelativeHint := 2;
    goto L266;

  anon172_Then:
    goto L266;

  anon171_Then:
    goto L266;

  anon168_Then:
    assume {:partition} ClustersFound == 0;
    call {:si_unique_call 480} ClustersFound := corral_nondet();
    goto L421;

  anon169_Then:
    assume {:partition} -1 == Index_1;
    goto L411;

  anon199_Then:
    goto L411;

  anon167_Then:
    assume {:partition} ClustersFound != 0;
    goto L266;

  anon164_Then:
    assume {:partition} WindowRelativeHint != 0;
    goto L266;

  anon198_Then:
    WindowRelativeHint := 0;
    goto L389;

  anon165_Then:
    assume {:partition} sdv_169 == 0;
    goto anon166_Then, anon166_Else;

  anon166_Else:
    assume {:partition} ExactMatchRequired != 0;
    Result_2 := 0;
    goto L216;

  anon166_Then:
    assume {:partition} ExactMatchRequired == 0;
    WindowRelativeHint := 0;
    goto L389;

  anon197_Then:
    assume {:partition} ClustersRemaining >= Desired;
    goto L393;

  anon156_Then:
    assume {:partition} WindowRelativeHint == 0;
    goto L389;

  anon155_Then:
    assume {:partition} LockedBitMap == 0;
    call {:si_unique_call 481} ExAcquireFastMutexUnsafe(0);
    LockedBitMap := 1;
    goto L263;

  anon154_Then:
    assume {:partition} ClustersRemaining == 0;
    goto L216;

  anon185_Then:
    assume {:partition} ExactMatchRequired == 0;
    goto L212;

  anon184_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon181_Then:
    assume {:partition} StartingCluster != 1;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:partition} AbsoluteClusterHint == 0;
    goto L102;

  L102:
    s_p_e_c_i_a_l_1 := StartingCluster + ClusterCount_1;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    s_p_e_c_i_a_l_1 := 2;
    goto L108;

  L108:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    Tmp_552 := FreeClusterBitMap__VCB(Vcb_25);
    assume {:nonnull} Tmp_552 != 0;
    assume Tmp_552 > 0;
    goto anon182_Then, anon182_Else;

  anon182_Else:
    call {:si_unique_call 482} sdv_166 := corral_nondet();
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon183_Then, anon183_Else;

  anon183_Else:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto L118;

  L118:
    assume {:nonnull} Window != 0;
    assume Window > 0;
    assume {:nonnull} Window != 0;
    assume Window > 0;
    havoc StartingCluster;
    StartingCluster := StartingCluster - 2;
    call {:si_unique_call 483} ExReleaseFastMutexUnsafe(0);
    call {:si_unique_call 484} Tmp_563 := corral_nondet();
    assume {:nonnull} ByteCount_4 != 0;
    assume ByteCount_4 > 0;
    call {:si_unique_call 485} vslice_dummy_var_82 := FatAddMcbEntry(Vcb_25, Mcb_2, 0, Tmp_563, Mem_T.INT4[ByteCount_4]);
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:partition} ClusterCount_1 == 1;
    call {:si_unique_call 486} FatSetFatEntry#1(IrpContext_32, Vcb_25, StartingCluster, 268435455);
    goto L161;

  L161:
    call {:si_unique_call 487} sdv_162 := sdv_AbnormalTermination();
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume {:partition} sdv_162 != 0;
    assume {:nonnull} ByteCount_4 != 0;
    assume ByteCount_4 > 0;
    call {:si_unique_call 488} FatRemoveMcbEntry(Vcb_25, Mcb_2, 0, Mem_T.INT4[ByteCount_4]);
    call {:si_unique_call 489} ExAcquireFastMutexUnsafe(0);
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:nonnull} Window != 0;
    assume Window > 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    assume {:nonnull} Window != 0;
    assume Window > 0;
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    assume {:nonnull} Window != 0;
    assume Window > 0;
    goto L175;

  L175:
    assume {:nonnull} Window != 0;
    assume Window > 0;
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] := Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))] + ClusterCount_1;
    call {:si_unique_call 490} ExReleaseFastMutexUnsafe(0);
    goto L165;

  L165:
    call {:si_unique_call 491} ExReleaseResourceLite(0);
    goto L1;

  anon148_Then:
    goto L175;

  anon147_Then:
    goto L175;

  anon146_Then:
    assume {:partition} sdv_162 == 0;
    goto L165;

  anon145_Then:
    assume {:partition} ClusterCount_1 != 1;
    call {:si_unique_call 492} FatSetFatRun(IrpContext_32, Vcb_25, StartingCluster, ClusterCount_1, 1);
    goto L161;

  anon183_Then:
    goto L118;

  anon182_Then:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    goto L118;

  anon144_Then:
    goto L108;

  anon142_Then:
    assume {:partition} AbsoluteClusterHint != 0;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:partition} StartingCluster != WindowRelativeHint;
    goto L192;

  anon143_Then:
    assume {:partition} StartingCluster == WindowRelativeHint;
    goto L102;

  anon180_Then:
    goto L92;

  L92:
    call {:si_unique_call 493} sdv_159 := corral_nondet();
    Tmp_560 := sdv_159 + 2;
    goto L96;

  anon179_Then:
    assume {:partition} ClusterCount_1 != 1;
    goto L92;

  anon141_Then:
    assume {:partition} sdv_167 == 0;
    goto L57;

  anon140_Then:
    assume {:partition} Wait_1 == 0;
    assume {:nonnull} IrpContext_32 != 0;
    assume IrpContext_32 > 0;
    goto L79;

  anon178_Then:
    assume {:partition} Tmp_546 != 0;
    Wait_1 := 1;
    goto L511;

  anon177_Then:
    goto L57;

  anon176_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon175_Then:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc Tmp_549;
    assume {:nonnull} Tmp_549 != 0;
    assume Tmp_549 > 0;
    goto anon200_Then, anon200_Else;

  anon200_Else:
    goto L57;

  anon200_Then:
    goto L42;

  anon139_Then:
    WindowRelativeHint := AbsoluteClusterHint;
    goto L90;

  anon138_Then:
    goto L35;

  L35:
    assume {:nonnull} Vcb_25 != 0;
    assume Vcb_25 > 0;
    havoc WindowRelativeHint;
    AbsoluteClusterHint := 0;
    goto anon201_Then, anon201_Else;

  anon201_Else:
    assume {:partition} -1 == WindowRelativeHint;
    WindowRelativeHint := 2;
    goto L90;

  anon201_Then:
    assume {:partition} -1 != WindowRelativeHint;
    goto L90;

  anon137_Then:
    assume {:partition} AbsoluteClusterHint == 0;
    goto L35;

  anon136_Then:
    assume {:partition} ClusterCount_1 > Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_25))];
    call {:si_unique_call 494} ExReleaseFastMutexUnsafe(0);
    call {:si_unique_call 495} ExReleaseResourceLite(0);
    assume {:nonnull} IrpContext_32 != 0;
    assume IrpContext_32 > 0;
    call {:si_unique_call 496} ExRaiseStatus(-1073741697);
    goto L34;

  anon174_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon173_Then:
    assume {:partition} Mem_T.INT4[ByteCount_4] == 0;
    assume {:nonnull} ByteCount_4 != 0;
    assume ByteCount_4 > 0;
    Mem_T.INT4[ByteCount_4] := -1;
    call {:si_unique_call 497} ClusterCount_1 := corral_nondet();
    goto L23;

  anon135_Then:
    assume {:partition} Mem_T.INT4[ByteCount_4] == 0;
    goto L1;
}



procedure {:origName "FatDeallocateDiskSpace"} FatDeallocateDiskSpace(actual_IrpContext_33: int, actual_Vcb_26: int, actual_Mcb_3: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeallocateDiskSpace"} FatDeallocateDiskSpace(actual_IrpContext_33: int, actual_Vcb_26: int, actual_Mcb_3: int)
{
  var {:scalar} count: int;
  var {:scalar} McbIndex: int;
  var {:dopa} {:scalar} Lbo_6: int;
  var {:dopa} {:scalar} Vbo_1: int;
  var {:pointer} Tmp_579: int;
  var {:pointer} Window_1: int;
  var {:scalar} RunsInMcb: int;
  var {:dopa} {:scalar} LocalLbo: int;
  var {:scalar} Clusters: int;
  var {:scalar} ClusterEnd: int;
  var {:scalar} FatIndex_3: int;
  var {:scalar} Tmp_580: int;
  var {:scalar} sdv_176: int;
  var {:scalar} Tmp_582: int;
  var {:pointer} Tmp_583: int;
  var {:scalar} MyLength: int;
  var {:scalar} MyStart: int;
  var {:scalar} PriorLastIndex: int;
  var {:scalar} ClusterIndex: int;
  var {:scalar} Index_2: int;
  var {:dopa} {:scalar} LocalVbo: int;
  var {:scalar} ClusterCount_2: int;
  var {:dopa} {:scalar} ByteCount_5: int;
  var {:pointer} IrpContext_33: int;
  var {:pointer} Vcb_26: int;
  var {:pointer} Mcb_3: int;
  var vslice_dummy_var_84: int;
  var vslice_dummy_var_85: int;
  var vslice_dummy_var_86: int;
  var vslice_dummy_var_87: int;
  var vslice_dummy_var_88: int;

  anon0:
    call {:si_unique_call 498} vslice_dummy_var_84 := __HAVOC_malloc(4);
    call {:si_unique_call 499} Lbo_6 := __HAVOC_malloc(4);
    call {:si_unique_call 500} Vbo_1 := __HAVOC_malloc(4);
    call {:si_unique_call 501} LocalLbo := __HAVOC_malloc(4);
    call {:si_unique_call 502} LocalVbo := __HAVOC_malloc(4);
    call {:si_unique_call 503} ByteCount_5 := __HAVOC_malloc(4);
    IrpContext_33 := actual_IrpContext_33;
    Vcb_26 := actual_Vcb_26;
    Mcb_3 := actual_Mcb_3;
    ClusterCount_2 := 0;
    ClusterIndex := 0;
    call {:si_unique_call 504} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_26 != 0;
    assume Vcb_26 > 0;
    call {:si_unique_call 505} RunsInMcb := corral_nondet();
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} RunsInMcb != 0;
    call {:si_unique_call 506} vslice_dummy_var_85 := ExAcquireResourceSharedLite(0, 1);
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 507} RunsInMcb := corral_nondet();
    McbIndex := 0;
    goto L67;

  L67:
    call {:si_unique_call 508} McbIndex, ClusterIndex, ClusterCount_2, vslice_dummy_var_86 := FatDeallocateDiskSpace_loop_L67(McbIndex, Lbo_6, Vbo_1, RunsInMcb, ClusterIndex, ClusterCount_2, ByteCount_5, IrpContext_33, Vcb_26, Mcb_3, vslice_dummy_var_86);
    goto L67_last;

  L67_last:
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} RunsInMcb > McbIndex;
    call {:si_unique_call 509} vslice_dummy_var_86 := FatGetNextMcbEntry(Vcb_26, Mcb_3, McbIndex, Vbo_1, Lbo_6, ByteCount_5);
    call {:si_unique_call 510} ClusterCount_2 := corral_nondet();
    call {:si_unique_call 511} ClusterIndex := corral_nondet();
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} ClusterCount_2 == 1;
    call {:si_unique_call 512} FatSetFatEntry#1(IrpContext_33, Vcb_26, ClusterIndex, 0);
    goto L83;

  L83:
    McbIndex := McbIndex + 1;
    goto L83_dummy;

  L83_dummy:
    assume false;
    return;

  anon62_Then:
    assume {:partition} ClusterCount_2 != 1;
    call {:si_unique_call 513} FatSetFatRun(IrpContext_33, Vcb_26, ClusterIndex, ClusterCount_2, 0);
    goto L83;

  anon46_Then:
    assume {:partition} McbIndex >= RunsInMcb;
    call {:si_unique_call 514} ExAcquireFastMutexUnsafe(0);
    McbIndex := 0;
    goto L85;

  L85:
    call {:si_unique_call 515} count, McbIndex, Tmp_579, Window_1, ClusterEnd, Tmp_580, Tmp_582, Tmp_583, MyLength, MyStart, ClusterIndex, ClusterCount_2, vslice_dummy_var_87 := FatDeallocateDiskSpace_loop_L85(count, McbIndex, Lbo_6, Vbo_1, Tmp_579, Window_1, RunsInMcb, ClusterEnd, Tmp_580, Tmp_582, Tmp_583, MyLength, MyStart, ClusterIndex, ClusterCount_2, ByteCount_5, Vcb_26, Mcb_3, vslice_dummy_var_87);
    goto L85_last;

  L85_last:
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} RunsInMcb > McbIndex;
    call {:si_unique_call 516} vslice_dummy_var_87 := FatGetNextMcbEntry(Vcb_26, Mcb_3, McbIndex, Vbo_1, Lbo_6, ByteCount_5);
    call {:si_unique_call 517} ClusterCount_2 := corral_nondet();
    call {:si_unique_call 518} ClusterIndex := corral_nondet();
    assume {:nonnull} Vcb_26 != 0;
    assume Vcb_26 > 0;
    havoc Window_1;
    ClusterEnd := ClusterIndex + ClusterCount_2 - 1;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    goto L102;

  L102:
    assume {:nonnull} Vcb_26 != 0;
    assume Vcb_26 > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    Tmp_580 := INTDIV(ClusterIndex - 2, 65536);
    assume {:nonnull} Vcb_26 != 0;
    assume Vcb_26 > 0;
    havoc Tmp_583;
    Window_1 := Tmp_583 + Tmp_580 * 12;
    goto L105;

  L105:
    MyStart := ClusterIndex;
    MyLength := ClusterCount_2;
    goto L107;

  L107:
    call {:si_unique_call 519} count, Tmp_582, MyLength, MyStart := FatDeallocateDiskSpace_loop_L107(count, Window_1, Tmp_582, MyLength, MyStart);
    goto L107_last;

  L107_last:
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} MyLength > 0;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    havoc Tmp_582;
    goto L112;

  L112:
    count := Tmp_582;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} MyLength != count;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    havoc MyStart;
    goto L115;

  L115:
    MyLength := MyLength - count;
    goto L115_dummy;

  L115_dummy:
    assume false;
    return;

  anon64_Then:
    assume {:partition} MyLength == count;
    goto L115;

  anon51_Then:
    Tmp_582 := MyLength;
    goto L112;

  anon50_Then:
    assume {:partition} 0 >= MyLength;
    assume {:nonnull} Vcb_26 != 0;
    assume Vcb_26 > 0;
    Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_26))] := Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(Vcb_26))] + ClusterCount_2;
    goto L118;

  L118:
    McbIndex := McbIndex + 1;
    goto L118_dummy;

  L118_dummy:
    assume false;
    return;

  anon49_Then:
    assume {:nonnull} Vcb_26 != 0;
    assume Vcb_26 > 0;
    havoc Tmp_579;
    Window_1 := Tmp_579;
    goto L105;

  anon63_Then:
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    havoc MyStart;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    havoc MyLength;
    goto L124;

  L124:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} MyLength != 0;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    assume {:nonnull} Vcb_26 != 0;
    assume Vcb_26 > 0;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} Vcb_26 != 0;
    assume Vcb_26 > 0;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto L102;

  anon56_Then:
    goto L102;

  anon55_Then:
    assume {:partition} MyLength == 0;
    goto L118;

  anon54_Then:
    goto L120;

  L120:
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    havoc MyStart;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    havoc MyLength;
    goto L124;

  anon53_Then:
    MyStart := ClusterIndex;
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    MyLength := ClusterCount_2;
    goto L124;

  anon65_Then:
    assume {:nonnull} Window_1 != 0;
    assume Window_1 > 0;
    havoc MyLength;
    goto L124;

  anon52_Then:
    goto L120;

  anon48_Then:
    goto L102;

  anon47_Then:
    assume {:partition} McbIndex >= RunsInMcb;
    call {:si_unique_call 520} ExReleaseFastMutexUnsafe(0);
    call {:si_unique_call 521} ExReleaseResourceLite(0);
    call {:si_unique_call 522} sdv_176 := sdv_AbnormalTermination();
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} sdv_176 != 0;
    PriorLastIndex := 0;
    Index_2 := 0;
    goto L154;

  L154:
    call {:si_unique_call 523} Clusters, FatIndex_3, PriorLastIndex, Index_2, vslice_dummy_var_88 := FatDeallocateDiskSpace_loop_L154(McbIndex, LocalLbo, Clusters, FatIndex_3, PriorLastIndex, Index_2, LocalVbo, ByteCount_5, IrpContext_33, Vcb_26, Mcb_3, vslice_dummy_var_88);
    goto L154_last;

  L154_last:
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} McbIndex >= Index_2;
    call {:si_unique_call 524} vslice_dummy_var_88 := FatGetNextMcbEntry(Vcb_26, Mcb_3, Index_2, LocalVbo, LocalLbo, ByteCount_5);
    call {:si_unique_call 525} FatIndex_3 := corral_nondet();
    call {:si_unique_call 526} Clusters := corral_nondet();
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} PriorLastIndex != 0;
    call {:si_unique_call 527} FatSetFatEntry#1(IrpContext_33, Vcb_26, PriorLastIndex, FatIndex_3);
    goto L161;

  L161:
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} McbIndex > Index_2;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} Clusters == 1;
    call {:si_unique_call 528} FatSetFatEntry#1(IrpContext_33, Vcb_26, FatIndex_3, 268435455);
    goto L173;

  L173:
    PriorLastIndex := FatIndex_3 + Clusters - 1;
    goto L165;

  L165:
    Index_2 := Index_2 + 1;
    goto L165_dummy;

  L165_dummy:
    assume false;
    return;

  anon60_Then:
    assume {:partition} Clusters != 1;
    call {:si_unique_call 529} FatSetFatRun(IrpContext_33, Vcb_26, FatIndex_3, Clusters, 1);
    goto L173;

  anon59_Then:
    assume {:partition} Index_2 >= McbIndex;
    goto L165;

  anon66_Then:
    assume {:partition} PriorLastIndex == 0;
    goto L161;

  anon58_Then:
    assume {:partition} Index_2 > McbIndex;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon57_Then:
    assume {:partition} sdv_176 == 0;
    goto L1;

  anon61_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon45_Then:
    assume {:partition} RunsInMcb == 0;
    goto L1;
}



procedure {:origName "FatSetFullNameInFcb"} FatSetFullNameInFcb(actual_IrpContext_34: int, actual_Fcb_8: int, actual_FinalName: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetFullNameInFcb"} FatSetFullNameInFcb(actual_IrpContext_34: int, actual_Fcb_8: int, actual_FinalName: int)
{
  var {:scalar} Tmp_585: int;
  var {:pointer} Prefix: int;
  var {:pointer} Tmp_587: int;
  var {:pointer} Tmp_588: int;
  var {:pointer} Tmp_590: int;
  var {:pointer} sdv_182: int;
  var {:pointer} Tmp_592: int;
  var {:scalar} Tmp_593: int;
  var {:scalar} Tmp_595: int;
  var {:pointer} Tmp_597: int;
  var {:pointer} sdv_183: int;
  var {:pointer} Tmp_598: int;
  var {:scalar} Tmp_599: int;
  var {:scalar} Tmp_600: int;
  var {:pointer} Tmp_603: int;
  var {:pointer} Tmp_604: int;
  var {:pointer} Tmp_606: int;
  var {:pointer} Tmp_607: int;
  var {:scalar} Tmp_608: int;
  var {:scalar} Tmp_609: int;
  var {:pointer} Fcb_8: int;
  var {:pointer} FinalName: int;
  var vslice_dummy_var_89: int;

  anon0:
    call {:si_unique_call 530} vslice_dummy_var_89 := __HAVOC_malloc(4);
    Fcb_8 := actual_Fcb_8;
    FinalName := actual_FinalName;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    FinalName := ExactCaseLongName__FCB(Fcb_8);
    goto L4;

  L4:
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_607;
    assume {:nonnull} Tmp_607 != 0;
    assume Tmp_607 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} Mem_T.INT4[Tmp_607] != 1284;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_588;
    assume {:nonnull} Tmp_588 != 0;
    assume Tmp_588 > 0;
    Prefix := FullFileName__FCB(Tmp_588);
    assume {:nonnull} Prefix != 0;
    assume Prefix > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    assume {:nonnull} FinalName != 0;
    assume FinalName > 0;
    assume {:nonnull} Prefix != 0;
    assume Prefix > 0;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_599;
    call {:si_unique_call 531} sdv_183 := ExAllocatePoolWithTag(17, Tmp_599, -294362810);
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    assume {:nonnull} Prefix != 0;
    assume Prefix > 0;
    havoc Tmp_585;
    assume {:nonnull} Prefix != 0;
    assume Prefix > 0;
    havoc Tmp_603;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_590;
    call {:si_unique_call 532} sdv_RtlCopyMemory(0, 0, Tmp_585);
    assume {:nonnull} Prefix != 0;
    assume Prefix > 0;
    havoc Tmp_609;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_598;
    assume {:nonnull} Tmp_598 != 0;
    assume Tmp_598 > 0;
    Mem_T.INT4[Tmp_598 + Tmp_609 * 4] := 92;
    assume {:nonnull} FinalName != 0;
    assume FinalName > 0;
    havoc Tmp_593;
    assume {:nonnull} FinalName != 0;
    assume FinalName > 0;
    havoc Tmp_597;
    assume {:nonnull} Prefix != 0;
    assume Prefix > 0;
    havoc Tmp_600;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_604;
    call {:si_unique_call 533} sdv_RtlCopyMemory(0, 0, Tmp_593);
    goto L1;

  L1:
    return;

  anon9_Then:
    goto L1;

  anon8_Then:
    assume {:partition} Mem_T.INT4[Tmp_607] == 1284;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    assume {:nonnull} FinalName != 0;
    assume FinalName > 0;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_608;
    call {:si_unique_call 534} sdv_182 := ExAllocatePoolWithTag(17, Tmp_608, -294362810);
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_592;
    assume {:nonnull} Tmp_592 != 0;
    assume Tmp_592 > 0;
    Mem_T.INT4[Tmp_592] := 92;
    assume {:nonnull} FinalName != 0;
    assume FinalName > 0;
    havoc Tmp_595;
    assume {:nonnull} FinalName != 0;
    assume FinalName > 0;
    havoc Tmp_587;
    assume {:nonnull} Fcb_8 != 0;
    assume Fcb_8 > 0;
    havoc Tmp_606;
    call {:si_unique_call 535} sdv_RtlCopyMemory(0, 0, Tmp_595);
    goto L1;

  anon7_Then:
    goto L4;
}



procedure {:origName "FatOpenExistingFile"} FatOpenExistingFile(actual_IrpContext_35: int, actual_FileObject_2: int, actual_Vcb_27: int, actual_ParentDcb_2: int, actual_Dirent_5: int, actual_LfnByteOffset: int, actual_DirentByteOffset: int, actual_Lfn_3: int, actual_DesiredAccess: int, actual_ShareAccess: int, actual_AllocationSize: int, actual_EaBuffer: int, actual_EaLength: int, actual_FileAttributes: int, actual_CreateDisposition: int, actual_IsPagingFile_1: int, actual_NoEaKnowledge: int, actual_DeleteOnClose: int, actual_FileNameOpenedDos: int) returns (SD12: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenExistingFile"} FatOpenExistingFile(actual_IrpContext_35: int, actual_FileObject_2: int, actual_Vcb_27: int, actual_ParentDcb_2: int, actual_Dirent_5: int, actual_LfnByteOffset: int, actual_DirentByteOffset: int, actual_Lfn_3: int, actual_DesiredAccess: int, actual_ShareAccess: int, actual_AllocationSize: int, actual_EaBuffer: int, actual_EaLength: int, actual_FileAttributes: int, actual_CreateDisposition: int, actual_IsPagingFile_1: int, actual_NoEaKnowledge: int, actual_DeleteOnClose: int, actual_FileNameOpenedDos: int) returns (SD12: int)
{
  var {:pointer} SD2: int;
  var {:pointer} Tmp_610: int;
  var {:scalar} Tmp_611: int;
  var {:scalar} AddedAccess: int;
  var {:scalar} Tmp_612: int;
  var {:pointer} UnwindFcb: int;
  var {:dopa} {:scalar} NeedEaCount: int;
  var {:pointer} Ccb_4: int;
  var {:scalar} Tmp_12: int;
  var {:pointer} Fcb_9: int;
  var {:pointer} Tmp_614: int;
  var {:pointer} Tmp_615: int;
  var {:scalar} Iosb_2: int;
  var {:pointer} UnwindCcb: int;
  var {:scalar} sdv_186: int;
  var {:scalar} System: int;
  var {:scalar} sdv_187: int;
  var {:scalar} Tmp_617: int;
  var {:scalar} Hidden: int;
  var {:pointer} Tmp_618: int;
  var {:pointer} Tmp_619: int;
  var {:pointer} IrpContext_35: int;
  var {:pointer} FileObject_2: int;
  var {:pointer} Vcb_27: int;
  var {:pointer} ParentDcb_2: int;
  var {:pointer} Dirent_5: int;
  var {:scalar} LfnByteOffset: int;
  var {:scalar} DirentByteOffset: int;
  var {:pointer} Lfn_3: int;
  var {:pointer} DesiredAccess: int;
  var {:scalar} ShareAccess: int;
  var {:scalar} AllocationSize: int;
  var {:pointer} EaBuffer: int;
  var {:scalar} EaLength: int;
  var {:scalar} FileAttributes: int;
  var {:scalar} CreateDisposition: int;
  var {:scalar} IsPagingFile_1: int;
  var {:scalar} NoEaKnowledge: int;
  var {:scalar} DeleteOnClose: int;
  var {:scalar} FileNameOpenedDos: int;
  var boogieTmp: int;
  var vslice_dummy_var_90: int;
  var vslice_dummy_var_61: int;

  anon0:
    call {:si_unique_call 536} NeedEaCount := __HAVOC_malloc(4);
    call {:si_unique_call 537} Tmp_12 := __HAVOC_malloc(12);
    call {:si_unique_call 538} Iosb_2 := __HAVOC_malloc(12);
    call {:si_unique_call 539} vslice_dummy_var_90 := __HAVOC_malloc(12);
    IrpContext_35 := actual_IrpContext_35;
    FileObject_2 := actual_FileObject_2;
    Vcb_27 := actual_Vcb_27;
    ParentDcb_2 := actual_ParentDcb_2;
    Dirent_5 := actual_Dirent_5;
    LfnByteOffset := actual_LfnByteOffset;
    DirentByteOffset := actual_DirentByteOffset;
    Lfn_3 := actual_Lfn_3;
    DesiredAccess := actual_DesiredAccess;
    ShareAccess := actual_ShareAccess;
    AllocationSize := actual_AllocationSize;
    EaBuffer := actual_EaBuffer;
    EaLength := actual_EaLength;
    FileAttributes := actual_FileAttributes;
    CreateDisposition := actual_CreateDisposition;
    IsPagingFile_1 := actual_IsPagingFile_1;
    NoEaKnowledge := actual_NoEaKnowledge;
    DeleteOnClose := actual_DeleteOnClose;
    FileNameOpenedDos := actual_FileNameOpenedDos;
    Fcb_9 := 0;
    AddedAccess := 0;
    UnwindFcb := 0;
    UnwindCcb := 0;
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} CreateDisposition == 2;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] := -1073741771;
    goto L16;

  L16:
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] == 259;
    goto L43;

  L43:
    assume {:nonnull} FileObject_2 != 0;
    assume FileObject_2 > 0;
    havoc Ccb_4;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] >= 0;
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} DeleteOnClose != 0;
    assume {:nonnull} Ccb_4 != 0;
    assume Ccb_4 > 0;
    goto L49;

  L49:
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} FileNameOpenedDos != 0;
    assume {:nonnull} Ccb_4 != 0;
    assume Ccb_4 > 0;
    goto L45;

  L45:
    call {:si_unique_call 540} sdv_186 := sdv_AbnormalTermination();
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} sdv_186 != 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:partition} UnwindFcb != 0;
    call {:si_unique_call 541} FatDeleteFcb_Real(IrpContext_35, UnwindFcb);
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume {:partition} yogi_error == 1;
    goto L251;

  L251:
    SD12 := Tmp_12;
    return;

  anon125_Then:
    assume {:partition} yogi_error != 1;
    goto L55;

  L55:
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:partition} UnwindCcb != 0;
    call {:si_unique_call 542} FatDeleteCcb_Real(IrpContext_35, UnwindCcb);
    goto L53;

  L53:
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    assume {:nonnull} Tmp_12 != 0;
    assume Tmp_12 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_12)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)];
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    assume {:nonnull} Tmp_12 != 0;
    assume Tmp_12 > 0;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    assume {:nonnull} Tmp_12 != 0;
    assume Tmp_12 > 0;
    goto L251;

  anon96_Then:
    assume {:partition} UnwindCcb == 0;
    goto L53;

  anon95_Then:
    assume {:partition} UnwindFcb == 0;
    goto L55;

  anon94_Then:
    assume {:partition} sdv_186 == 0;
    goto L53;

  anon93_Then:
    assume {:partition} FileNameOpenedDos == 0;
    goto L45;

  anon92_Then:
    assume {:partition} DeleteOnClose == 0;
    goto L49;

  anon124_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)];
    goto L45;

  anon90_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] != 259;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] < 0;
    goto L43;

  anon91_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)];
    assume {:nonnull} DesiredAccess != 0;
    assume DesiredAccess > 0;
    Mem_T.INT4[DesiredAccess] := BAND(Mem_T.INT4[DesiredAccess], BNOT(AddedAccess));
    Tmp_617 := ShareAccess;
    assume {:nonnull} DesiredAccess != 0;
    assume DesiredAccess > 0;
    call {:si_unique_call 543} IoSetShareAccess(Mem_T.INT4[DesiredAccess], Tmp_617, 0, 0);
    assume {:nonnull} Fcb_9 != 0;
    assume Fcb_9 > 0;
    assume {:nonnull} Fcb_9 != 0;
    assume Fcb_9 > 0;
    assume {:nonnull} FileObject_2 != 0;
    assume FileObject_2 > 0;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:nonnull} Fcb_9 != 0;
    assume Fcb_9 > 0;
    goto L39;

  L39:
    assume {:nonnull} Vcb_27 != 0;
    assume Vcb_27 > 0;
    assume {:nonnull} FileObject_2 != 0;
    assume FileObject_2 > 0;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    goto L43;

  anon123_Then:
    assume {:nonnull} Vcb_27 != 0;
    assume Vcb_27 > 0;
    goto L43;

  anon122_Then:
    goto L39;

  anon121_Then:
    assume {:partition} CreateDisposition != 2;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} CreateDisposition != 0;
    goto L63;

  L63:
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:partition} CreateDisposition == 4;
    goto L65;

  L65:
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} IsPagingFile_1 != 0;
    goto L67;

  L67:
    assume {:nonnull} Dirent_5 != 0;
    assume Dirent_5 > 0;
    havoc vslice_dummy_var_61;
    call {:si_unique_call 544} sdv_187 := FatCheckFileAccess(IrpContext_35, vslice_dummy_var_61, DesiredAccess);
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} sdv_187 != 0;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} DeleteOnClose != 0;
    assume {:nonnull} Dirent_5 != 0;
    assume Dirent_5 > 0;
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] := -1073741535;
    goto L16;

  anon104_Then:
    goto L73;

  L73:
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} CreateDisposition == 0;
    goto L128;

  L128:
    assume {:nonnull} Dirent_5 != 0;
    assume Dirent_5 > 0;
    havoc Tmp_612;
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume {:partition} Tmp_612 == 0;
    Hidden := 0;
    goto L219;

  L219:
    assume {:nonnull} Dirent_5 != 0;
    assume Dirent_5 > 0;
    havoc Tmp_611;
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:partition} Tmp_611 == 0;
    System := 0;
    goto L223;

  L223:
    goto anon128_Then, anon128_Else;

  anon128_Else:
    assume {:partition} Hidden != 0;
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} BAND(FileAttributes, 2) == 0;
    goto L135;

  L135:
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:partition} IsPagingFile_1 != 0;
    goto L137;

  L137:
    assume {:nonnull} Vcb_27 != 0;
    assume Vcb_27 > 0;
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:nonnull} Vcb_27 != 0;
    assume Vcb_27 > 0;
    call {:si_unique_call 545} IoSetHardErrorOrVerifyDevice(0, 0);
    assume {:nonnull} Vcb_27 != 0;
    assume Vcb_27 > 0;
    havoc Tmp_619;
    assume {:nonnull} Tmp_619 != 0;
    assume Tmp_619 > 0;
    havoc Tmp_615;
    assume {:nonnull} Vcb_27 != 0;
    assume Vcb_27 > 0;
    havoc Tmp_618;
    assume {:nonnull} Tmp_618 != 0;
    assume Tmp_618 > 0;
    havoc Tmp_614;
    assume {:nonnull} Tmp_614 != 0;
    assume Tmp_614 > 0;
    assume {:nonnull} Tmp_615 != 0;
    assume Tmp_615 > 0;
    assume {:nonnull} IrpContext_35 != 0;
    assume IrpContext_35 > 0;
    call {:si_unique_call 546} ExRaiseStatus(-1073741662);
    goto L80;

  L80:
    call {:si_unique_call 547} UnwindFcb := FatCreateFcb(IrpContext_35, Vcb_27, ParentDcb_2, LfnByteOffset, DirentByteOffset, Dirent_5, Lfn_3, IsPagingFile_1, 0);
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} yogi_error == 1;
    goto L251;

  anon129_Then:
    assume {:partition} yogi_error != 1;
    Fcb_9 := UnwindFcb;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} IsPagingFile_1 != 0;
    call {:si_unique_call 548} FatLookupFileAllocationSize#1(IrpContext_35, Fcb_9);
    goto L86;

  L86:
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:partition} CreateDisposition != 0;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    assume {:partition} CreateDisposition != 1;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    assume {:partition} CreateDisposition != 3;
    goto anon118_Then, anon118_Else;

  anon118_Else:
    assume {:partition} CreateDisposition != 4;
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:partition} CreateDisposition == 5;
    goto L93;

  L93:
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    call {:si_unique_call 549} boogieTmp := FatCheckSystemSecurityAccess(IrpContext_35);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] := boogieTmp;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] >= 0;
    call {:si_unique_call 550} SD2 := FatSupersedeOrOverwriteFile(IrpContext_35, FileObject_2, Fcb_9, AllocationSize, EaBuffer, EaLength, FileAttributes, CreateDisposition, NoEaKnowledge);
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    assume {:nonnull} SD2 != 0;
    assume SD2 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD2)];
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    assume {:nonnull} SD2 != 0;
    assume SD2 > 0;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    assume {:nonnull} SD2 != 0;
    assume SD2 > 0;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:partition} yogi_error == 1;
    goto L251;

  anon131_Then:
    assume {:partition} yogi_error != 1;
    goto L16;

  anon111_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)];
    goto L16;

  anon117_Then:
    assume {:partition} CreateDisposition != 5;
    call {:si_unique_call 551} KeBugCheckEx(35, 397111, CreateDisposition, 0, 0);
    goto L16;

  anon118_Then:
    assume {:partition} CreateDisposition == 4;
    goto L93;

  anon119_Then:
    assume {:partition} CreateDisposition == 3;
    goto L96;

  L96:
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} NoEaKnowledge != 0;
    assume {:nonnull} Vcb_27 != 0;
    assume Vcb_27 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    call {:si_unique_call 552} FatGetNeedEaCount(IrpContext_35, Vcb_27, Dirent_5, NeedEaCount);
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:partition} yogi_error == 1;
    goto L251;

  anon132_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} NeedEaCount != 0;
    assume NeedEaCount > 0;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:partition} Mem_T.INT4[NeedEaCount] != 0;
    assume {:nonnull} IrpContext_35 != 0;
    assume IrpContext_35 > 0;
    call {:si_unique_call 553} ExRaiseStatus(-1073741790);
    goto L97;

  L97:
    call {:si_unique_call 554} UnwindCcb := FatCreateCcb(IrpContext_35);
    call {:si_unique_call 555} FatSetFileObject(FileObject_2, 2, Fcb_9, UnwindCcb);
    assume {:nonnull} Fcb_9 != 0;
    assume Fcb_9 > 0;
    havoc Tmp_610;
    assume {:nonnull} FileObject_2 != 0;
    assume FileObject_2 > 0;
    assume {:nonnull} Tmp_610 != 0;
    assume Tmp_610 > 0;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] := 0;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    goto L16;

  anon110_Then:
    assume {:partition} Mem_T.INT4[NeedEaCount] == 0;
    goto L97;

  anon109_Then:
    goto L97;

  anon108_Then:
    assume {:partition} NoEaKnowledge == 0;
    goto L97;

  anon120_Then:
    assume {:partition} CreateDisposition == 1;
    goto L96;

  anon107_Then:
    assume {:partition} CreateDisposition == 0;
    goto L93;

  anon130_Then:
    assume {:partition} IsPagingFile_1 == 0;
    goto L86;

  anon115_Then:
    goto L80;

  anon114_Then:
    assume {:partition} IsPagingFile_1 == 0;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] := -1073741790;
    goto L16;

  anon113_Then:
    assume {:partition} BAND(FileAttributes, 2) != 0;
    goto L133;

  L133:
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} System != 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    assume {:partition} BAND(FileAttributes, 4) != 0;
    goto L137;

  anon116_Then:
    assume {:partition} BAND(FileAttributes, 4) == 0;
    goto L135;

  anon112_Then:
    assume {:partition} System == 0;
    goto L137;

  anon128_Then:
    assume {:partition} Hidden == 0;
    goto L133;

  anon127_Then:
    assume {:partition} Tmp_611 != 0;
    System := 1;
    goto L223;

  anon126_Then:
    assume {:partition} Tmp_612 != 0;
    Hidden := 1;
    goto L219;

  anon103_Then:
    assume {:partition} CreateDisposition != 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} CreateDisposition == 4;
    goto L128;

  anon105_Then:
    assume {:partition} CreateDisposition != 4;
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} CreateDisposition == 5;
    goto L128;

  anon106_Then:
    assume {:partition} CreateDisposition != 5;
    goto L80;

  anon102_Then:
    assume {:partition} DeleteOnClose == 0;
    goto L73;

  anon101_Then:
    assume {:partition} sdv_187 == 0;
    assume {:nonnull} Iosb_2 != 0;
    assume Iosb_2 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_2)] := -1073741790;
    goto L16;

  anon100_Then:
    assume {:partition} IsPagingFile_1 == 0;
    assume {:nonnull} DesiredAccess != 0;
    assume DesiredAccess > 0;
    AddedAccess := BOR(AddedAccess, BAND(BOR(BOR(2, 16), 256), BNOT(Mem_T.INT4[DesiredAccess])));
    assume {:nonnull} DesiredAccess != 0;
    assume DesiredAccess > 0;
    Mem_T.INT4[DesiredAccess] := BOR(Mem_T.INT4[DesiredAccess], BOR(BOR(2, 16), 256));
    goto L67;

  anon98_Then:
    assume {:partition} CreateDisposition != 4;
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} CreateDisposition != 5;
    goto L67;

  anon99_Then:
    assume {:partition} CreateDisposition == 5;
    goto L65;

  anon89_Then:
    assume {:partition} CreateDisposition == 0;
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} IsPagingFile_1 == 0;
    assume {:nonnull} DesiredAccess != 0;
    assume DesiredAccess > 0;
    AddedAccess := BOR(AddedAccess, BAND(65536, BNOT(Mem_T.INT4[DesiredAccess])));
    assume {:nonnull} DesiredAccess != 0;
    assume DesiredAccess > 0;
    Mem_T.INT4[DesiredAccess] := BOR(Mem_T.INT4[DesiredAccess], 65536);
    goto L67;

  anon97_Then:
    assume {:partition} IsPagingFile_1 != 0;
    goto L63;
}



procedure {:origName "FatFsdCreate"} FatFsdCreate(actual_VolumeDeviceObject: int, actual_Irp_1: int) returns (Tmp_620: int);
  modifies Mem_T.INT4, alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdCreate"} FatFsdCreate(actual_VolumeDeviceObject: int, actual_Irp_1: int) returns (Tmp_620: int)
{
  var {:scalar} TopLevel: int;
  var {:scalar} Status_3: int;
  var {:pointer} IrpContext_36: int;
  var {:pointer} VolumeDeviceObject_1: int;
  var {:pointer} VolumeDeviceObject: int;
  var {:pointer} Irp_1: int;

  anon0:
    VolumeDeviceObject := actual_VolumeDeviceObject;
    Irp_1 := actual_Irp_1;
    IrpContext_36 := 0;
    VolumeDeviceObject_1 := VolumeDeviceObject;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    goto L11;

  L11:
    assume {:nonnull} Irp_1 != 0;
    assume Irp_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_1))] := 0;
    assume {:nonnull} Irp_1 != 0;
    assume Irp_1 > 0;
    call {:si_unique_call 556} sdv_IoCompleteRequest(0, 1);
    Tmp_620 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon11_Then:
    goto anon9_Then, anon9_Else;

  anon9_Else:
    call {:si_unique_call 557} KeEnterCriticalRegion();
    call {:si_unique_call 558} TopLevel := FatIsIrpTopLevel(Irp_1);
    call {:si_unique_call 559} IrpContext_36 := FatCreateIrpContext(Irp_1, 1);
    call {:si_unique_call 560} Status_3 := FatCommonCreate(IrpContext_36, Irp_1);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} yogi_error != 1;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} TopLevel != 0;
    goto L42;

  L42:
    call {:si_unique_call 561} KeLeaveCriticalRegion();
    Tmp_620 := Status_3;
    goto L1;

  anon10_Then:
    assume {:partition} TopLevel == 0;
    goto L42;

  anon12_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon9_Then:
    goto L11;
}



procedure {:origName "FatSupersedeOrOverwriteFile"} FatSupersedeOrOverwriteFile(actual_IrpContext_37: int, actual_FileObject_3: int, actual_Fcb_10: int, actual_AllocationSize_1: int, actual_EaBuffer_1: int, actual_EaLength_1: int, actual_FileAttributes_1: int, actual_CreateDisposition_1: int, actual_NoEaKnowledge_1: int) returns (SD11: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSupersedeOrOverwriteFile"} FatSupersedeOrOverwriteFile(actual_IrpContext_37: int, actual_FileObject_3: int, actual_Fcb_10: int, actual_AllocationSize_1: int, actual_EaBuffer_1: int, actual_EaLength_1: int, actual_FileAttributes_1: int, actual_CreateDisposition_1: int, actual_NoEaKnowledge_1: int) returns (SD11: int)
{
  var {:scalar} UnwindEa: int;
  var {:pointer} Tmp_622: int;
  var {:pointer} Ccb_5: int;
  var {:scalar} sdv_198: int;
  var {:pointer} Tmp_623: int;
  var {:pointer} Dirent_6: int;
  var {:scalar} Iosb_4: int;
  var {:pointer} DirentBcb: int;
  var {:pointer} UnwindCcb_1: int;
  var {:pointer} Tmp_625: int;
  var {:pointer} Tmp_626: int;
  var {:pointer} Tmp_627: int;
  var {:scalar} Tmp_628: int;
  var {:dopa} {:scalar} EaHandle: int;
  var {:scalar} NotifyFilter: int;
  var {:scalar} sdv_204: int;
  var {:scalar} ReleasePaging: int;
  var {:scalar} EaChange: int;
  var {:pointer} Tmp_632: int;
  var {:scalar} Tmp_11: int;
  var {:pointer} IrpContext_37: int;
  var {:pointer} FileObject_3: int;
  var {:pointer} Fcb_10: int;
  var {:scalar} AllocationSize_1: int;
  var {:pointer} EaBuffer_1: int;
  var {:scalar} EaLength_1: int;
  var {:scalar} FileAttributes_1: int;
  var {:scalar} CreateDisposition_1: int;
  var {:scalar} NoEaKnowledge_1: int;
  var vslice_dummy_var_91: int;
  var vslice_dummy_var_92: int;
  var vslice_dummy_var_93: int;
  var vslice_dummy_var_62: int;
  var vslice_dummy_var_63: int;
  var vslice_dummy_var_64: int;
  var vslice_dummy_var_65: int;
  var vslice_dummy_var_66: int;
  var vslice_dummy_var_67: int;
  var vslice_dummy_var_68: int;

  anon0:
    call {:si_unique_call 562} Dirent_6 := __HAVOC_malloc(4);
    call {:si_unique_call 563} Iosb_4 := __HAVOC_malloc(12);
    call {:si_unique_call 564} DirentBcb := __HAVOC_malloc(4);
    call {:si_unique_call 565} EaHandle := __HAVOC_malloc(4);
    call {:si_unique_call 566} Tmp_11 := __HAVOC_malloc(12);
    IrpContext_37 := actual_IrpContext_37;
    FileObject_3 := actual_FileObject_3;
    Fcb_10 := actual_Fcb_10;
    AllocationSize_1 := actual_AllocationSize_1;
    EaBuffer_1 := actual_EaBuffer_1;
    EaLength_1 := actual_EaLength_1;
    FileAttributes_1 := actual_FileAttributes_1;
    CreateDisposition_1 := actual_CreateDisposition_1;
    NoEaKnowledge_1 := actual_NoEaKnowledge_1;
    assume {:nonnull} EaHandle != 0;
    assume EaHandle > 0;
    Mem_T.INT4[EaHandle] := 0;
    EaChange := 0;
    ReleasePaging := 0;
    UnwindCcb_1 := 0;
    UnwindEa := 0;
    assume {:nonnull} DirentBcb != 0;
    assume DirentBcb > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} NoEaKnowledge_1 != 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} EaLength_1 > 0;
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_4)] := -1073741790;
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    assume {:nonnull} Tmp_11 != 0;
    assume Tmp_11 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_11)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_4)];
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    assume {:nonnull} Tmp_11 != 0;
    assume Tmp_11 > 0;
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    assume {:nonnull} Tmp_11 != 0;
    assume Tmp_11 > 0;
    goto L1;

  L1:
    goto L233;

  L233:
    SD11 := Tmp_11;
    return;

  anon45_Then:
    assume {:partition} 0 >= EaLength_1;
    goto L20;

  L20:
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    call {:si_unique_call 567} sdv_198 := corral_nondet();
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} sdv_198 != 0;
    call {:si_unique_call 568} UnwindCcb_1 := FatCreateCcb(IrpContext_37);
    Ccb_5 := UnwindCcb_1;
    call {:si_unique_call 569} FatSetFileObject(FileObject_3, 2, Fcb_10, Ccb_5);
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc Tmp_622;
    assume {:nonnull} FileObject_3 != 0;
    assume FileObject_3 > 0;
    assume {:nonnull} Tmp_622 != 0;
    assume Tmp_622 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc Tmp_625;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc Tmp_626;
    assume {:nonnull} Tmp_625 != 0;
    assume Tmp_625 > 0;
    assume {:nonnull} Tmp_626 != 0;
    assume Tmp_626 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    call {:si_unique_call 570} vslice_dummy_var_93 := corral_nondet();
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} EaLength_1 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc vslice_dummy_var_62;
    call {:si_unique_call 571} FatCreateEa(IrpContext_37, vslice_dummy_var_62, EaBuffer_1, EaLength_1, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(Fcb_10))), EaHandle);
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} yogi_error == 1;
    goto L233;

  anon57_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} EaHandle != 0;
    assume EaHandle > 0;
    UnwindEa := Mem_T.INT4[EaHandle];
    EaChange := 1;
    goto L64;

  L64:
    call {:si_unique_call 572} vslice_dummy_var_91 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} yogi_error == 1;
    goto L233;

  anon58_Then:
    assume {:partition} yogi_error != 1;
    ReleasePaging := 1;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    call {:si_unique_call 573} FatTruncateFileAllocation(IrpContext_37, Fcb_10, AllocationSize_1);
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} yogi_error == 1;
    goto L233;

  anon59_Then:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 574} ExReleaseResourceLite(0);
    ReleasePaging := 0;
    call {:si_unique_call 575} FatAddFileAllocation(IrpContext_37, Fcb_10, FileObject_3, AllocationSize_1);
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} yogi_error == 1;
    goto L233;

  anon60_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    call {:si_unique_call 576} FatGetDirentFromFcbOrDcb(IrpContext_37, Fcb_10, Dirent_6, DirentBcb);
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    FileAttributes_1 := BOR(FileAttributes_1, 32);
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} CreateDisposition_1 != 0;
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    goto L98;

  L98:
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc vslice_dummy_var_63;
    call {:si_unique_call 577} vslice_dummy_var_92 := FatNtTimeToFatTime(IrpContext_37, LastWriteTime__FCB(Fcb_10), 1, vslice_dummy_var_63, 0);
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    goto L106;

  L106:
    NotifyFilter := 28;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc Tmp_623;
    assume {:nonnull} Tmp_623 != 0;
    assume Tmp_623 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    goto L110;

  L110:
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} EaChange != 0;
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    assume {:nonnull} EaHandle != 0;
    assume EaHandle > 0;
    NotifyFilter := BOR(NotifyFilter, 128);
    goto L111;

  L111:
    assume {:nonnull} DirentBcb != 0;
    assume DirentBcb > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc vslice_dummy_var_64;
    havoc vslice_dummy_var_65;
    call {:si_unique_call 578} FatSetDirtyBcb#1(IrpContext_37, vslice_dummy_var_64, vslice_dummy_var_65, 1);
    UnwindEa := 0;
    assume {:nonnull} Ccb_5 != 0;
    assume Ccb_5 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    goto L122;

  L122:
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc Tmp_628;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    call {:si_unique_call 579} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_628, 0, 0, NotifyFilter, 3, 0);
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_4)] := 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} CreateDisposition_1 != 0;
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    goto L130;

  L130:
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} ReleasePaging != 0;
    call {:si_unique_call 580} ExReleaseResourceLite(0);
    goto L131;

  L131:
    call {:si_unique_call 581} sdv_204 := sdv_AbnormalTermination();
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} sdv_204 != 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} UnwindEa != 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc vslice_dummy_var_66;
    call {:si_unique_call 582} FatDeleteEa#1(IrpContext_37, vslice_dummy_var_66, UnwindEa, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(Fcb_10))));
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} yogi_error == 1;
    goto L233;

  anon65_Then:
    assume {:partition} yogi_error != 1;
    goto L140;

  L140:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} UnwindCcb_1 != 0;
    call {:si_unique_call 583} FatDeleteCcb_Real(IrpContext_37, UnwindCcb_1);
    goto L138;

  L138:
    assume {:nonnull} DirentBcb != 0;
    assume DirentBcb > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:nonnull} DirentBcb != 0;
    assume DirentBcb > 0;
    goto L147;

  L147:
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc Tmp_632;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc Tmp_627;
    assume {:nonnull} Tmp_627 != 0;
    assume Tmp_627 > 0;
    assume {:nonnull} Tmp_632 != 0;
    assume Tmp_632 > 0;
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    assume {:nonnull} Tmp_11 != 0;
    assume Tmp_11 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_11)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_4)];
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    assume {:nonnull} Tmp_11 != 0;
    assume Tmp_11 > 0;
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    assume {:nonnull} Tmp_11 != 0;
    assume Tmp_11 > 0;
    goto L1;

  anon53_Then:
    goto L147;

  anon55_Then:
    assume {:partition} UnwindCcb_1 == 0;
    goto L138;

  anon54_Then:
    assume {:partition} UnwindEa == 0;
    goto L140;

  anon52_Then:
    assume {:partition} sdv_204 == 0;
    goto L138;

  anon51_Then:
    assume {:partition} ReleasePaging == 0;
    goto L131;

  anon64_Then:
    assume {:partition} CreateDisposition_1 == 0;
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    goto L130;

  anon63_Then:
    call {:si_unique_call 584} FatSetFullFileNameInFcb#1(IrpContext_37, Fcb_10);
    goto L122;

  anon50_Then:
    assume {:partition} EaChange == 0;
    goto L111;

  anon62_Then:
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    EaChange := 1;
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    assume {:nonnull} Fcb_10 != 0;
    assume Fcb_10 > 0;
    havoc vslice_dummy_var_67;
    havoc vslice_dummy_var_68;
    call {:si_unique_call 585} FatDeleteEa#1(IrpContext_37, vslice_dummy_var_67, vslice_dummy_var_68, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(Fcb_10))));
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} yogi_error == 1;
    goto L233;

  anon66_Then:
    assume {:partition} yogi_error != 1;
    goto L110;

  anon49_Then:
    goto L110;

  anon48_Then:
    goto L106;

  anon61_Then:
    assume {:partition} CreateDisposition_1 == 0;
    assume {:nonnull} Dirent_6 != 0;
    assume Dirent_6 > 0;
    goto L98;

  anon47_Then:
    assume {:partition} 0 >= EaLength_1;
    goto L64;

  anon46_Then:
    assume {:partition} sdv_198 == 0;
    assume {:nonnull} Iosb_4 != 0;
    assume Iosb_4 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_4)] := -1073741245;
    goto L130;

  anon56_Then:
    assume {:partition} NoEaKnowledge_1 == 0;
    goto L20;
}



procedure {:origName "FatCheckSystemSecurityAccess"} FatCheckSystemSecurityAccess(actual_IrpContext_38: int) returns (Tmp_634: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_634 == -1073741790 || Tmp_634 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCheckSystemSecurityAccess"} FatCheckSystemSecurityAccess(actual_IrpContext_38: int) returns (Tmp_634: int)
{
  var {:pointer} IrpSp_2: int;
  var {:scalar} sdv_206: int;
  var {:pointer} AccessState: int;
  var {:pointer} Tmp_636: int;
  var {:pointer} IrpContext_38: int;
  var vslice_dummy_var_69: int;

  anon0:
    IrpContext_38 := actual_IrpContext_38;
    assume {:nonnull} IrpContext_38 != 0;
    assume IrpContext_38 > 0;
    havoc vslice_dummy_var_69;
    call {:si_unique_call 586} IrpSp_2 := sdv_IoGetCurrentIrpStackLocation(vslice_dummy_var_69);
    assume {:nonnull} IrpSp_2 != 0;
    assume IrpSp_2 > 0;
    havoc Tmp_636;
    assume {:nonnull} Tmp_636 != 0;
    assume Tmp_636 > 0;
    havoc AccessState;
    assume {:nonnull} AccessState != 0;
    assume AccessState > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    call {:si_unique_call 587} sdv_206 := SeSinglePrivilegeCheck(FatSecurityPrivilege, 1);
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} sdv_206 != 0;
    assume {:nonnull} AccessState != 0;
    assume AccessState > 0;
    assume {:nonnull} AccessState != 0;
    assume AccessState > 0;
    goto L11;

  L11:
    Tmp_634 := 0;
    goto L1;

  L1:
    return;

  anon5_Then:
    assume {:partition} sdv_206 == 0;
    Tmp_634 := -1073741790;
    goto L1;

  anon6_Then:
    goto L11;
}



procedure {:origName "FatCommonCreate"} FatCommonCreate(actual_IrpContext_39: int, actual_Irp_2: int) returns (Tmp_637: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonCreate"} FatCommonCreate(actual_IrpContext_39: int, actual_Irp_2: int) returns (Tmp_637: int)
{
  var {:pointer} SD1: int;
  var {:scalar} sdv_209: int;
  var {:scalar} Tmp_638: int;
  var {:scalar} FirstLoop: int;
  var {:scalar} LfnByteOffset_1: int;
  var {:scalar} Options: int;
  var {:scalar} Tmp_640: int;
  var {:pointer} Tmp_641: int;
  var {:scalar} sdv_213: int;
  var {:pointer} Ccb_6: int;
  var {:scalar} Tmp_642: int;
  var {:scalar} sdv_214: int;
  var {:pointer} Tmp_643: int;
  var {:pointer} RelatedVcb: int;
  var {:scalar} Tmp_644: int;
  var {:scalar} OemFinalName: int;
  var {:pointer} Tmp_645: int;
  var {:pointer} Tmp_646: int;
  var {:scalar} sdv_219: int;
  var {:scalar} Lfn_4: int;
  var {:pointer} Stats: int;
  var {:pointer} Stats_1: int;
  var {:pointer} Tmp_647: int;
  var {:pointer} Dirent_7: int;
  var {:scalar} Status_4: int;
  var {:scalar} Tmp_648: int;
  var {:pointer} Tmp_649: int;
  var {:scalar} Iosb_1: int;
  var {:scalar} DirectoryFile: int;
  var {:pointer} Tmp_650: int;
  var {:scalar} sdv_220: int;
  var {:pointer} Stats_2: int;
  var {:scalar} TypeOfOpen: int;
  var {:scalar} Tmp_651: int;
  var {:pointer} Tmp_652: int;
  var {:pointer} Tmp_653: int;
  var {:pointer} Tmp_654: int;
  var {:pointer} IrpSp_3: int;
  var {:scalar} IsPagingFile_2: int;
  var {:scalar} sdv_222: int;
  var {:scalar} FileAttributes_2: int;
  var {:pointer} EaBuffer_2: int;
  var {:scalar} Tmp_655: int;
  var {:pointer} Tmp_656: int;
  var {:pointer} Tmp_657: int;
  var {:pointer} Tmp_658: int;
  var {:scalar} Tmp_659: int;
  var {:pointer} Tmp_660: int;
  var {:scalar} Tmp_661: int;
  var {:pointer} Tmp_662: int;
  var {:pointer} Tmp_664: int;
  var {:pointer} Tmp_665: int;
  var {:pointer} Vcb_28: int;
  var {:pointer} Stats_3: int;
  var {:scalar} RemainingPart: int;
  var {:pointer} Tmp_666: int;
  var {:pointer} Tmp_667: int;
  var {:scalar} sdv_230: int;
  var {:scalar} Tmp_668: int;
  var {:pointer} Tmp_669: int;
  var {:scalar} TrailingBackslash: int;
  var {:scalar} Tmp_670: int;
  var {:dopa} {:scalar} DirentByteOffset_1: int;
  var {:scalar} sdv_233: int;
  var {:scalar} SavedFlags: int;
  var {:scalar} ShareAccess_1: int;
  var {:scalar} Tmp_671: int;
  var {:scalar} AllocationSize_2: int;
  var {:pointer} Tmp_672: int;
  var {:pointer} Tmp_673: int;
  var {:pointer} DesiredAccess_1: int;
  var {:scalar} Tmp_674: int;
  var {:scalar} Tmp_675: int;
  var {:scalar} DeleteOnClose_1: int;
  var {:scalar} CreateDisposition_2: int;
  var {:pointer} LfnBuffer: int;
  var {:scalar} OpenDirectory: int;
  var {:pointer} Tmp_676: int;
  var {:pointer} Tmp_677: int;
  var {:pointer} ParentDcb_3: int;
  var {:pointer} UpcasedBuffer: int;
  var {:scalar} UpcasedFinalName: int;
  var {:scalar} Tmp_678: int;
  var {:pointer} Tmp_679: int;
  var {:pointer} LocalFcb: int;
  var {:scalar} sdv_239: int;
  var {:pointer} Tmp_680: int;
  var {:pointer} NextFcb_1: int;
  var {:pointer} Tmp_681: int;
  var {:pointer} Tmp_682: int;
  var {:scalar} Tmp_683: int;
  var {:pointer} Tmp_684: int;
  var {:pointer} Stats_4: int;
  var {:dopa} {:scalar} FileNameOpenedDos_1: int;
  var {:scalar} Tmp_685: int;
  var {:pointer} Tmp_686: int;
  var {:pointer} LocalFcb_1: int;
  var {:pointer} Fcb_11: int;
  var {:scalar} Tmp_687: int;
  var {:pointer} Tmp_688: int;
  var {:scalar} Tmp_689: int;
  var {:pointer} Tmp_690: int;
  var {:pointer} FinalDcb: int;
  var {:pointer} Tmp_691: int;
  var {:scalar} NonDirectoryFile: int;
  var {:scalar} sdv_244: int;
  var {:pointer} Tmp_692: int;
  var {:pointer} Tmp_693: int;
  var {:scalar} FileName: int;
  var {:scalar} CreateDirectory: int;
  var {:scalar} Tmp_694: int;
  var {:scalar} OpenTargetDirectory: int;
  var {:pointer} RelatedFileObject: int;
  var {:pointer} FileObject_4: int;
  var {:pointer} Tmp_696: int;
  var {:scalar} NextRemainingPart: int;
  var {:pointer} Tmp_697: int;
  var {:pointer} Tmp_698: int;
  var {:scalar} TemporaryFile: int;
  var {:pointer} RelatedDcb: int;
  var {:scalar} Tmp_699: int;
  var {:pointer} DirentBcb_1: int;
  var {:pointer} Tmp_700: int;
  var {:pointer} LocalVcb: int;
  var {:pointer} ReserveMdl: int;
  var {:pointer} LocalCcb2: int;
  var {:pointer} Tmp_701: int;
  var {:pointer} DecodeVcb: int;
  var {:scalar} sdv_250: int;
  var {:scalar} Tmp_702: int;
  var {:scalar} NoEaKnowledge_2: int;
  var {:scalar} sdv_253: int;
  var {:scalar} PostIrp: int;
  var {:pointer} Tmp_703: int;
  var {:scalar} sdv_255: int;
  var {:pointer} Tmp_704: int;
  var {:scalar} NoIntermediateBuffering: int;
  var {:pointer} OemBuffer: int;
  var {:scalar} sdv_258: int;
  var {:scalar} sdv_259: int;
  var {:pointer} Tmp_707: int;
  var {:scalar} Tmp_708: int;
  var {:scalar} LocalCcb: int;
  var {:pointer} Tmp_709: int;
  var {:dopa} {:scalar} OplockPostIrp: int;
  var {:pointer} RelatedCcb: int;
  var {:pointer} Tmp_710: int;
  var {:pointer} Tmp_711: int;
  var {:pointer} Stats_5: int;
  var {:scalar} sdv_261: int;
  var {:scalar} FinalName_1: int;
  var {:pointer} Tmp_712: int;
  var {:pointer} Tmp_714: int;
  var {:scalar} Tmp_715: int;
  var {:scalar} EaLength_2: int;
  var {:scalar} Tmp_716: int;
  var {:pointer} Tmp_717: int;
  var {:scalar} sdv_266: int;
  var {:pointer} Tmp_718: int;
  var {:pointer} Tmp_719: int;
  var {:pointer} IrpContext_39: int;
  var {:pointer} Irp_2: int;
  var boogieTmp: int;
  var vslice_dummy_var_94: int;
  var vslice_dummy_var_95: int;
  var vslice_dummy_var_96: int;
  var vslice_dummy_var_97: int;
  var vslice_dummy_var_98: int;
  var vslice_dummy_var_99: int;
  var vslice_dummy_var_100: int;
  var vslice_dummy_var_101: int;
  var vslice_dummy_var_102: int;
  var vslice_dummy_var_103: int;
  var vslice_dummy_var_104: int;
  var vslice_dummy_var_105: int;
  var vslice_dummy_var_106: int;
  var vslice_dummy_var_107: int;
  var vslice_dummy_var_108: int;
  var vslice_dummy_var_70: int;
  var vslice_dummy_var_71: int;
  var vslice_dummy_var_72: int;
  var vslice_dummy_var_73: int;
  var vslice_dummy_var_74: int;
  var vslice_dummy_var_75: int;
  var vslice_dummy_var_76: int;
  var vslice_dummy_var_77: int;
  var vslice_dummy_var_78: int;
  var vslice_dummy_var_79: int;
  var vslice_dummy_var_80: int;
  var vslice_dummy_var_81: int;
  var vslice_dummy_var_82: int;
  var vslice_dummy_var_83: int;
  var vslice_dummy_var_84: int;
  var vslice_dummy_var_85: int;
  var vslice_dummy_var_86: int;
  var vslice_dummy_var_87: int;
  var vslice_dummy_var_88: int;

  anon0:
    call {:si_unique_call 588} vslice_dummy_var_94 := __HAVOC_malloc(12);
    call {:si_unique_call 589} Ccb_6 := __HAVOC_malloc(4);
    call {:si_unique_call 590} RelatedVcb := __HAVOC_malloc(4);
    call {:si_unique_call 591} vslice_dummy_var_95 := __HAVOC_malloc(12);
    call {:si_unique_call 592} OemFinalName := __HAVOC_malloc(12);
    call {:si_unique_call 593} Lfn_4 := __HAVOC_malloc(12);
    call {:si_unique_call 594} Dirent_7 := __HAVOC_malloc(4);
    call {:si_unique_call 595} Iosb_1 := __HAVOC_malloc(12);
    call {:si_unique_call 596} Tmp_655 := __HAVOC_malloc(12);
    call {:si_unique_call 597} RemainingPart := __HAVOC_malloc(12);
    call {:si_unique_call 598} vslice_dummy_var_96 := __HAVOC_malloc(12);
    call {:si_unique_call 599} vslice_dummy_var_97 := __HAVOC_malloc(12);
    call {:si_unique_call 600} DirentByteOffset_1 := __HAVOC_malloc(4);
    call {:si_unique_call 601} vslice_dummy_var_98 := __HAVOC_malloc(12);
    call {:si_unique_call 602} UpcasedFinalName := __HAVOC_malloc(12);
    call {:si_unique_call 603} FileNameOpenedDos_1 := __HAVOC_malloc(4);
    call {:si_unique_call 604} LocalFcb_1 := __HAVOC_malloc(4);
    call {:si_unique_call 605} Fcb_11 := __HAVOC_malloc(4);
    call {:si_unique_call 606} FileName := __HAVOC_malloc(12);
    call {:si_unique_call 607} NextRemainingPart := __HAVOC_malloc(12);
    call {:si_unique_call 608} RelatedDcb := __HAVOC_malloc(4);
    call {:si_unique_call 609} DirentBcb_1 := __HAVOC_malloc(4);
    call {:si_unique_call 610} LocalVcb := __HAVOC_malloc(4);
    call {:si_unique_call 611} LocalCcb2 := __HAVOC_malloc(4);
    call {:si_unique_call 612} vslice_dummy_var_99 := __HAVOC_malloc(12);
    call {:si_unique_call 613} DecodeVcb := __HAVOC_malloc(4);
    call {:si_unique_call 614} vslice_dummy_var_100 := __HAVOC_malloc(12);
    call {:si_unique_call 615} vslice_dummy_var_101 := __HAVOC_malloc(12);
    call {:si_unique_call 616} LocalCcb := __HAVOC_malloc(88);
    call {:si_unique_call 617} OplockPostIrp := __HAVOC_malloc(4);
    call {:si_unique_call 618} RelatedCcb := __HAVOC_malloc(4);
    call {:si_unique_call 619} vslice_dummy_var_102 := __HAVOC_malloc(12);
    call {:si_unique_call 620} FinalName_1 := __HAVOC_malloc(12);
    call {:si_unique_call 621} vslice_dummy_var_103 := __HAVOC_malloc(12);
    IrpContext_39 := actual_IrpContext_39;
    Irp_2 := actual_Irp_2;
    call {:si_unique_call 622} LfnBuffer := __HAVOC_malloc(128);
    call {:si_unique_call 623} UpcasedBuffer := __HAVOC_malloc(128);
    call {:si_unique_call 624} OemBuffer := __HAVOC_malloc(256);
    assume {:nonnull} FileNameOpenedDos_1 != 0;
    assume FileNameOpenedDos_1 > 0;
    Mem_T.INT4[FileNameOpenedDos_1] := 0;
    FinalDcb := 0;
    assume {:nonnull} DirentBcb_1 != 0;
    assume DirentBcb_1 > 0;
    PostIrp := 0;
    assume {:nonnull} OplockPostIrp != 0;
    assume OplockPostIrp > 0;
    Mem_T.INT4[OplockPostIrp] := 0;
    FirstLoop := 1;
    call {:si_unique_call 625} IrpSp_3 := sdv_IoGetCurrentIrpStackLocation(Irp_2);
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_688;
    assume {:nonnull} Tmp_688 != 0;
    assume Tmp_688 > 0;
    goto anon456_Then, anon456_Else;

  anon456_Else:
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_660;
    assume {:nonnull} Tmp_660 != 0;
    assume Tmp_660 > 0;
    havoc Tmp_703;
    assume {:nonnull} Tmp_703 != 0;
    assume Tmp_703 > 0;
    goto anon457_Then, anon457_Else;

  anon457_Else:
    assume {:partition} Mem_T.INT4[Tmp_703 + 1 * 4] == 92;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_714;
    assume {:nonnull} Tmp_714 != 0;
    assume Tmp_714 > 0;
    havoc Tmp_701;
    assume {:nonnull} Tmp_701 != 0;
    assume Tmp_701 > 0;
    goto anon458_Then, anon458_Else;

  anon458_Else:
    assume {:partition} Mem_T.INT4[Tmp_701] == 92;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_698;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_696;
    assume {:nonnull} Tmp_696 != 0;
    assume Tmp_696 > 0;
    assume {:nonnull} Tmp_698 != 0;
    assume Tmp_698 > 0;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_700;
    assume {:nonnull} Tmp_700 != 0;
    assume Tmp_700 > 0;
    havoc Tmp_661;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_657;
    assume {:nonnull} Tmp_657 != 0;
    assume Tmp_657 > 0;
    havoc Tmp_719;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_718;
    assume {:nonnull} Tmp_718 != 0;
    assume Tmp_718 > 0;
    havoc Tmp_693;
    call {:si_unique_call 626} sdv_RtlMoveMemory(0, 0, Tmp_661);
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_711;
    assume {:nonnull} Tmp_711 != 0;
    assume Tmp_711 > 0;
    goto anon459_Then, anon459_Else;

  anon459_Else:
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_712;
    assume {:nonnull} Tmp_712 != 0;
    assume Tmp_712 > 0;
    havoc Tmp_690;
    assume {:nonnull} Tmp_690 != 0;
    assume Tmp_690 > 0;
    goto anon460_Then, anon460_Else;

  anon460_Else:
    assume {:partition} Mem_T.INT4[Tmp_690 + 1 * 4] == 92;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_662;
    assume {:nonnull} Tmp_662 != 0;
    assume Tmp_662 > 0;
    havoc Tmp_656;
    assume {:nonnull} Tmp_656 != 0;
    assume Tmp_656 > 0;
    goto anon461_Then, anon461_Else;

  anon461_Else:
    assume {:partition} Mem_T.INT4[Tmp_656] == 92;
    call {:si_unique_call 627} FatCompleteRequest_Real(IrpContext_39, Irp_2, -1073741773);
    Tmp_637 := -1073741773;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon461_Then:
    assume {:partition} Mem_T.INT4[Tmp_656] != 92;
    goto L65;

  L65:
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc FileObject_4;
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    havoc RelatedFileObject;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    havoc AllocationSize_2;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    havoc EaBuffer_2;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_679;
    assume {:nonnull} Tmp_679 != 0;
    assume Tmp_679 > 0;
    DesiredAccess_1 := DesiredAccess__IO_SECURITY_CONTEXT(Tmp_679);
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Options;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc FileAttributes_2;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc ShareAccess_1;
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc EaLength_2;
    goto anon462_Then, anon462_Else;

  anon462_Else:
    assume {:partition} RelatedFileObject != 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    assume {:nonnull} RelatedFileObject != 0;
    assume RelatedFileObject > 0;
    goto L92;

  L92:
    FileAttributes_2 := BAND(FileAttributes_2, BOR(BOR(BOR(1, 2), 4), 32));
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_680;
    assume {:nonnull} Tmp_680 != 0;
    assume Tmp_680 > 0;
    Vcb_28 := Vcb__VOLUME_DEVICE_OBJECT(Tmp_680);
    Tmp_648 := BAND(Options, 8192);
    goto anon463_Then, anon463_Else;

  anon463_Else:
    assume {:partition} Tmp_648 != 0;
    call {:si_unique_call 628} FatCompleteRequest_Real(IrpContext_39, Irp_2, -1073741822);
    Tmp_637 := -1073741822;
    goto L1;

  anon463_Then:
    assume {:partition} Tmp_648 == 0;
    Tmp_678 := BAND(Options, 1);
    goto anon464_Then, anon464_Else;

  anon464_Else:
    assume {:partition} Tmp_678 == 0;
    DirectoryFile := 0;
    goto L1050;

  L1050:
    Tmp_638 := BAND(Options, 64);
    goto anon465_Then, anon465_Else;

  anon465_Else:
    assume {:partition} Tmp_638 == 0;
    NonDirectoryFile := 0;
    goto L1054;

  L1054:
    Tmp_716 := BAND(Options, 4);
    goto anon466_Then, anon466_Else;

  anon466_Else:
    assume {:partition} Tmp_716 == 0;
    goto L1058;

  L1058:
    Tmp_674 := BAND(Options, 8);
    goto anon467_Then, anon467_Else;

  anon467_Else:
    assume {:partition} Tmp_674 == 0;
    NoIntermediateBuffering := 0;
    goto L1062;

  L1062:
    Tmp_683 := BAND(Options, 512);
    goto anon468_Then, anon468_Else;

  anon468_Else:
    assume {:partition} Tmp_683 == 0;
    NoEaKnowledge_2 := 0;
    goto L1066;

  L1066:
    Tmp_671 := BAND(Options, 4096);
    goto anon469_Then, anon469_Else;

  anon469_Else:
    assume {:partition} Tmp_671 == 0;
    DeleteOnClose_1 := 0;
    goto L1070;

  L1070:
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_715;
    goto anon470_Then, anon470_Else;

  anon470_Else:
    assume {:partition} Tmp_715 == 0;
    TemporaryFile := 0;
    goto L1074;

  L1074:
    call {:si_unique_call 629} CreateDisposition_2 := corral_nondet();
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_651;
    goto anon471_Then, anon471_Else;

  anon471_Else:
    assume {:partition} Tmp_651 == 0;
    IsPagingFile_2 := 0;
    goto L1079;

  L1079:
    assume {:nonnull} IrpSp_3 != 0;
    assume IrpSp_3 > 0;
    havoc Tmp_670;
    goto anon472_Then, anon472_Else;

  anon472_Else:
    assume {:partition} Tmp_670 == 0;
    OpenTargetDirectory := 0;
    goto L1083;

  L1083:
    goto anon473_Then, anon473_Else;

  anon473_Else:
    assume {:partition} DirectoryFile != 0;
    goto anon343_Then, anon343_Else;

  anon343_Else:
    assume {:partition} CreateDisposition_2 == 2;
    goto L124;

  L124:
    Tmp_689 := 1;
    goto L125;

  L125:
    CreateDirectory := Tmp_689;
    goto anon474_Then, anon474_Else;

  anon474_Else:
    assume {:partition} DirectoryFile != 0;
    goto anon345_Then, anon345_Else;

  anon345_Else:
    assume {:partition} CreateDisposition_2 == 1;
    goto L130;

  L130:
    Tmp_685 := 1;
    goto L131;

  L131:
    OpenDirectory := Tmp_685;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto anon475_Then, anon475_Else;

  anon475_Else:
    goto L134;

  L134:
    call {:si_unique_call 630} FatCompleteRequest_Real(IrpContext_39, Irp_2, -1073741811);
    Tmp_637 := -1073741811;
    goto L1;

  anon475_Then:
    goto anon347_Then, anon347_Else;

  anon347_Else:
    assume {:partition} DirectoryFile != 0;
    goto anon348_Then, anon348_Else;

  anon348_Else:
    assume {:partition} NonDirectoryFile == 0;
    goto L138;

  L138:
    call {:si_unique_call 631} sdv_253 := FatAcquireExclusiveVcb(IrpContext_39, Vcb_28);
    goto anon476_Then, anon476_Else;

  anon476_Else:
    assume {:partition} yogi_error != 1;
    goto anon349_Then, anon349_Else;

  anon349_Else:
    assume {:partition} sdv_253 != 0;
    assume {:nonnull} DirentBcb_1 != 0;
    assume DirentBcb_1 > 0;
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    assume {:nonnull} UpcasedFinalName != 0;
    assume UpcasedFinalName > 0;
    assume {:nonnull} UpcasedFinalName != 0;
    assume UpcasedFinalName > 0;
    assume {:nonnull} UpcasedFinalName != 0;
    assume UpcasedFinalName > 0;
    assume {:nonnull} Lfn_4 != 0;
    assume Lfn_4 > 0;
    assume {:nonnull} Lfn_4 != 0;
    assume Lfn_4 > 0;
    assume {:nonnull} Lfn_4 != 0;
    assume Lfn_4 > 0;
    call {:si_unique_call 632} FatVerifyVcb(IrpContext_39, Vcb_28);
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    goto anon350_Then, anon350_Else;

  anon350_Else:
    Status_4 := -1073741790;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    goto anon477_Then, anon477_Else;

  anon477_Else:
    Status_4 := -1073741202;
    goto L213;

  L213:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Status_4;
    goto L216;

  L216:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon352_Then, anon352_Else;

  anon352_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] >= 0;
    goto anon354_Then, anon354_Else;

  anon354_Else:
    assume {:partition} OpenTargetDirectory == 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    havoc LocalFcb;
    goto anon485_Then, anon485_Else;

  anon485_Else:
    assume {:partition} LocalFcb != 0;
    Tmp_650 := LocalFcb;
    assume {:nonnull} Tmp_650 != 0;
    assume Tmp_650 > 0;
    goto anon486_Then, anon486_Else;

  anon486_Else:
    assume {:partition} Mem_T.INT4[Tmp_650] == 1282;
    goto L224;

  L224:
    assume {:nonnull} LocalFcb != 0;
    assume LocalFcb > 0;
    goto anon355_Then, anon355_Else;

  anon355_Else:
    call {:si_unique_call 633} FatSetFullNameInFcb(IrpContext_39, LocalFcb, FinalName_1);
    goto L217;

  L217:
    assume {:nonnull} DirentBcb_1 != 0;
    assume DirentBcb_1 > 0;
    goto anon353_Then, anon353_Else;

  anon353_Else:
    assume {:nonnull} DirentBcb_1 != 0;
    assume DirentBcb_1 > 0;
    goto L228;

  L228:
    call {:si_unique_call 634} sdv_222 := sdv_AbnormalTermination();
    goto anon356_Then, anon356_Else;

  anon356_Else:
    assume {:partition} sdv_222 != 0;
    goto L237;

  L237:
    goto anon358_Then, anon358_Else;

  anon358_Else:
    assume {:partition} FinalDcb != 0;
    Tmp_667 := FinalDcb;
    assume {:nonnull} Tmp_667 != 0;
    assume Tmp_667 > 0;
    goto anon478_Then, anon478_Else;

  anon478_Else:
    assume {:partition} Mem_T.INT4[Tmp_667] == 1283;
    call {:si_unique_call 635} sdv_255 := sdv_IsListEmpty(0);
    goto anon359_Then, anon359_Else;

  anon359_Else:
    assume {:partition} sdv_255 != 0;
    assume {:nonnull} FinalDcb != 0;
    assume FinalDcb > 0;
    goto anon360_Then, anon360_Else;

  anon360_Else:
    assume {:nonnull} FinalDcb != 0;
    assume FinalDcb > 0;
    goto anon361_Then, anon361_Else;

  anon361_Else:
    assume {:nonnull} IrpContext_39 != 0;
    assume IrpContext_39 > 0;
    havoc SavedFlags;
    assume {:nonnull} IrpContext_39 != 0;
    assume IrpContext_39 > 0;
    call {:si_unique_call 636} FatUnpinRepinnedBcbs(IrpContext_39);
    assume {:nonnull} FinalDcb != 0;
    assume FinalDcb > 0;
    assume {:nonnull} FinalDcb != 0;
    assume FinalDcb > 0;
    call {:si_unique_call 637} vslice_dummy_var_108 := corral_nondet();
    call {:si_unique_call 638} vslice_dummy_var_104 := sdv_ObDereferenceObject(0);
    assume {:nonnull} IrpContext_39 != 0;
    assume IrpContext_39 > 0;
    goto L238;

  L238:
    call {:si_unique_call 639} sdv_266 := sdv_AbnormalTermination();
    goto anon362_Then, anon362_Else;

  anon362_Else:
    assume {:partition} sdv_266 != 0;
    call {:si_unique_call 640} ExReleaseResourceLite(0);
    goto L265;

  L265:
    call {:si_unique_call 641} FatFreeStringBuffer(OemFinalName);
    call {:si_unique_call 642} FatFreeStringBuffer(UpcasedFinalName);
    call {:si_unique_call 643} FatFreeStringBuffer(Lfn_4);
    goto anon363_Then, anon363_Else;

  anon363_Else:
    assume {:partition} PostIrp != 0;
    assume {:nonnull} OplockPostIrp != 0;
    assume OplockPostIrp > 0;
    goto anon364_Then, anon364_Else;

  anon364_Else:
    assume {:partition} Mem_T.INT4[OplockPostIrp] != 0;
    goto L285;

  L285:
    call {:si_unique_call 644} sdv_230 := sdv_AbnormalTermination();
    goto anon365_Then, anon365_Else;

  anon365_Else:
    assume {:partition} sdv_230 != 0;
    call {:si_unique_call 645} vslice_dummy_var_105 := FatDecodeFileObject(FileObject_4, LocalVcb, LocalFcb_1, LocalCcb2);
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    assume {:nonnull} LocalVcb != 0;
    assume LocalVcb > 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    goto anon479_Then, anon479_Else;

  anon479_Else:
    goto L304;

  L304:
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    goto anon366_Then, anon366_Else;

  anon366_Else:
    goto L306;

  L306:
    assume {:nonnull} LocalCcb2 != 0;
    assume LocalCcb2 > 0;
    havoc vslice_dummy_var_70;
    call {:si_unique_call 646} FatDeleteCcb_Real(IrpContext_39, vslice_dummy_var_70);
    call {:si_unique_call 647} ExReleaseResourceLite(0);
    goto L313;

  L313:
    call {:si_unique_call 648} sdv_213 := KeGetCurrentProcessorNumber();
    Tmp_699 := sdv_213;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_691;
    Stats_5 := Tmp_691 + Tmp_699 * 240;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon480_Then, anon480_Else;

  anon480_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] != 0;
    assume {:nonnull} Stats_5 != 0;
    assume Stats_5 > 0;
    goto L320;

  L320:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Tmp_637 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L1;

  anon480_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] == 0;
    assume {:nonnull} Stats_5 != 0;
    assume Stats_5 > 0;
    goto L320;

  anon366_Then:
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    havoc Tmp_647;
    assume {:nonnull} Tmp_647 != 0;
    assume Tmp_647 > 0;
    goto anon481_Then, anon481_Else;

  anon481_Else:
    assume {:partition} Mem_T.INT4[Tmp_647] == 1282;
    goto L324;

  L324:
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    havoc Tmp_682;
    assume {:nonnull} Tmp_682 != 0;
    assume Tmp_682 > 0;
    goto anon482_Then, anon482_Else;

  anon482_Else:
    assume {:partition} Mem_T.INT4[Tmp_682] == 1283;
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    goto anon367_Then, anon367_Else;

  anon367_Else:
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    havoc vslice_dummy_var_71;
    call {:si_unique_call 649} FatSyncUninitializeCacheMap(IrpContext_39, vslice_dummy_var_71);
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    call {:si_unique_call 650} vslice_dummy_var_107 := sdv_ObDereferenceObject(0);
    goto L306;

  anon367_Then:
    goto L325;

  L325:
    assume {:nonnull} LocalFcb_1 != 0;
    assume LocalFcb_1 > 0;
    havoc vslice_dummy_var_72;
    call {:si_unique_call 651} FatDeleteFcb_Real(IrpContext_39, vslice_dummy_var_72);
    goto anon483_Then, anon483_Else;

  anon483_Else:
    assume {:partition} yogi_error != 1;
    goto L306;

  anon483_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon482_Then:
    assume {:partition} Mem_T.INT4[Tmp_682] != 1283;
    goto L325;

  anon481_Then:
    assume {:partition} Mem_T.INT4[Tmp_647] != 1282;
    call {:si_unique_call 652} sdv_220 := sdv_IsListEmpty(0);
    goto anon368_Then, anon368_Else;

  anon368_Else:
    assume {:partition} sdv_220 != 0;
    goto L324;

  anon368_Then:
    assume {:partition} sdv_220 == 0;
    goto L306;

  anon479_Then:
    assume {:nonnull} LocalVcb != 0;
    assume LocalVcb > 0;
    goto L304;

  anon365_Then:
    assume {:partition} sdv_230 == 0;
    call {:si_unique_call 653} ExReleaseResourceLite(0);
    goto anon369_Then, anon369_Else;

  anon369_Else:
    assume {:partition} PostIrp == 0;
    assume {:nonnull} DesiredAccess_1 != 0;
    assume DesiredAccess_1 > 0;
    goto anon370_Then, anon370_Else;

  anon370_Else:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_1], 32) != 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    goto L340;

  L340:
    goto anon371_Then, anon371_Else;

  anon371_Else:
    assume {:partition} IsPagingFile_2 != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon372_Then, anon372_Else;

  anon372_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] >= 0;
    goto anon373_Then, anon373_Else;

  anon373_Else:
    assume {:partition} FatReserveMdl == 0;
    call {:si_unique_call 654} ReserveMdl := IoAllocateMdl(0, 65536, 1, 0, 0);
    goto anon374_Then, anon374_Else;

  anon374_Else:
    assume {:partition} FatReserveMdl != ReserveMdl;
    call {:si_unique_call 655} IoFreeMdl(0);
    goto L348;

  L348:
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    goto anon484_Then, anon484_Else;

  anon484_Else:
    call {:si_unique_call 656} vslice_dummy_var_106 := FatToggleMediaEjectDisable(IrpContext_39, Vcb_28, 1);
    goto L342;

  L342:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    call {:si_unique_call 657} FatCompleteRequest_Real(IrpContext_39, Irp_2, Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)]);
    goto L313;

  anon484_Then:
    goto L342;

  anon374_Then:
    assume {:partition} FatReserveMdl == ReserveMdl;
    goto L348;

  anon373_Then:
    assume {:partition} FatReserveMdl != 0;
    goto L348;

  anon372_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L342;

  anon371_Then:
    assume {:partition} IsPagingFile_2 == 0;
    goto L342;

  anon370_Then:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_1], 32) == 0;
    goto L340;

  anon369_Then:
    assume {:partition} PostIrp != 0;
    goto L313;

  anon364_Then:
    assume {:partition} Mem_T.INT4[OplockPostIrp] == 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    call {:si_unique_call 658} boogieTmp := FatFsdPostRequest(IrpContext_39, Irp_2);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := boogieTmp;
    goto L285;

  anon363_Then:
    assume {:partition} PostIrp == 0;
    call {:si_unique_call 659} FatUnpinRepinnedBcbs(IrpContext_39);
    goto L285;

  anon362_Then:
    assume {:partition} sdv_266 == 0;
    goto L265;

  anon361_Then:
    goto L238;

  anon360_Then:
    goto L238;

  anon359_Then:
    assume {:partition} sdv_255 == 0;
    goto L238;

  anon478_Then:
    assume {:partition} Mem_T.INT4[Tmp_667] != 1283;
    goto L238;

  anon358_Then:
    assume {:partition} FinalDcb == 0;
    goto L238;

  anon356_Then:
    assume {:partition} sdv_222 == 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon357_Then, anon357_Else;

  anon357_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] >= 0;
    goto L238;

  anon357_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L237;

  anon353_Then:
    goto L228;

  anon355_Then:
    goto L217;

  anon486_Then:
    assume {:partition} Mem_T.INT4[Tmp_650] != 1282;
    Tmp_717 := LocalFcb;
    assume {:nonnull} Tmp_717 != 0;
    assume Tmp_717 > 0;
    goto anon487_Then, anon487_Else;

  anon487_Else:
    assume {:partition} Mem_T.INT4[Tmp_717] == 1283;
    goto L224;

  anon487_Then:
    assume {:partition} Mem_T.INT4[Tmp_717] != 1283;
    goto L217;

  anon485_Then:
    assume {:partition} LocalFcb == 0;
    goto L217;

  anon354_Then:
    assume {:partition} OpenTargetDirectory != 0;
    goto L217;

  anon352_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L217;

  anon477_Then:
    goto L213;

  anon350_Then:
    goto anon351_Then, anon351_Else;

  anon351_Else:
    assume {:partition} DeleteOnClose_1 != 0;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    goto anon376_Then, anon376_Else;

  anon376_Else:
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    call {:si_unique_call 660} IoSetHardErrorOrVerifyDevice(0, 0);
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_654;
    assume {:nonnull} Tmp_654 != 0;
    assume Tmp_654 > 0;
    havoc Tmp_709;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_677;
    assume {:nonnull} Tmp_677 != 0;
    assume Tmp_677 > 0;
    havoc Tmp_643;
    assume {:nonnull} Tmp_643 != 0;
    assume Tmp_643 > 0;
    assume {:nonnull} Tmp_709 != 0;
    assume Tmp_709 > 0;
    assume {:nonnull} IrpContext_39 != 0;
    assume IrpContext_39 > 0;
    call {:si_unique_call 661} ExRaiseStatus(-1073741662);
    goto L437;

  L437:
    goto anon375_Then, anon375_Else;

  anon375_Else:
    assume {:partition} EaBuffer_2 != 0;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    goto anon378_Then, anon378_Else;

  anon378_Else:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741745;
    goto L216;

  anon378_Then:
    goto L447;

  L447:
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    goto anon377_Then, anon377_Else;

  anon377_Else:
    goto anon452_Then, anon452_Else;

  anon452_Else:
    assume {:partition} RelatedFileObject != 0;
    call {:si_unique_call 662} sdv_261 := FatDecodeFileObject(RelatedFileObject, DecodeVcb, Fcb_11, Ccb_6);
    goto anon454_Then, anon454_Else;

  anon454_Else:
    assume {:partition} sdv_261 == 4;
    goto L858;

  L858:
    goto anon453_Then, anon453_Else;

  anon453_Else:
    assume {:partition} DirectoryFile != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741565;
    goto L216;

  anon453_Then:
    assume {:partition} DirectoryFile == 0;
    goto anon455_Then, anon455_Else;

  anon455_Else:
    assume {:partition} OpenTargetDirectory == 0;
    call {:si_unique_call 663} sdv_250 := KeGetCurrentProcessorNumber();
    Tmp_642 := sdv_250;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_645;
    Stats_1 := Tmp_645 + Tmp_642 * 240;
    assume {:nonnull} Stats_1 != 0;
    assume Stats_1 > 0;
    call {:si_unique_call 664} SD1 := FatOpenVolume(IrpContext_39, FileObject_4, Vcb_28, DesiredAccess_1, ShareAccess_1, CreateDisposition_2);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon513_Then, anon513_Else;

  anon513_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon513_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon455_Then:
    assume {:partition} OpenTargetDirectory != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741811;
    goto L216;

  anon454_Then:
    assume {:partition} sdv_261 != 4;
    goto L452;

  L452:
    goto anon379_Then, anon379_Else;

  anon379_Else:
    assume {:partition} RelatedFileObject != 0;
    call {:si_unique_call 665} TypeOfOpen := FatDecodeFileObject(RelatedFileObject, RelatedVcb, RelatedDcb, RelatedCcb);
    goto anon381_Then, anon381_Else;

  anon381_Else:
    assume {:partition} TypeOfOpen != 2;
    goto anon383_Then, anon383_Else;

  anon383_Else:
    assume {:partition} TypeOfOpen != 3;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741766;
    goto L216;

  anon383_Then:
    assume {:partition} TypeOfOpen == 3;
    goto L463;

  L463:
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    goto anon382_Then, anon382_Else;

  anon382_Else:
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    goto anon384_Then, anon384_Else;

  anon384_Else:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon384_Then:
    goto L467;

  L467:
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    assume {:nonnull} RelatedFileObject != 0;
    assume RelatedFileObject > 0;
    assume {:nonnull} RelatedDcb != 0;
    assume RelatedDcb > 0;
    havoc vslice_dummy_var_73;
    call {:si_unique_call 666} FatVerifyFcb(IrpContext_39, vslice_dummy_var_73);
    assume {:nonnull} RelatedDcb != 0;
    assume RelatedDcb > 0;
    havoc ParentDcb_3;
    goto L475;

  L475:
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    goto anon385_Then, anon385_Else;

  anon385_Else:
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    havoc Tmp_687;
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    goto anon488_Then, anon488_Else;

  anon488_Else:
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    TrailingBackslash := 1;
    goto L480;

  L480:
    assume {:nonnull} ParentDcb_3 != 0;
    assume ParentDcb_3 > 0;
    goto anon386_Then, anon386_Else;

  anon386_Else:
    goto L484;

  L484:
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    assume {:nonnull} ParentDcb_3 != 0;
    assume ParentDcb_3 > 0;
    goto anon387_Then, anon387_Else;

  anon387_Else:
    goto L489;

  L489:
    call {:si_unique_call 667} FirstLoop, sdv_214, Status_4, Tmp_658, NextFcb_1, sdv_244, Tmp_710 := FatCommonCreate_loop_L489(FirstLoop, sdv_214, OemFinalName, Status_4, IsPagingFile_2, Tmp_658, Vcb_28, RemainingPart, ParentDcb_3, UpcasedFinalName, NextFcb_1, FileNameOpenedDos_1, Fcb_11, sdv_244, FileName, NextRemainingPart, Tmp_710, FinalName_1, IrpContext_39);
    goto L489_last;

  L489_last:
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto L491;

  L491:
    call {:si_unique_call 668} Status_4, Tmp_658, NextFcb_1 := FatCommonCreate_loop_L491(OemFinalName, Status_4, Tmp_658, RemainingPart, UpcasedFinalName, NextFcb_1, FileNameOpenedDos_1, Fcb_11, NextRemainingPart, FinalName_1, IrpContext_39);
    goto L491_last;

  L491_last:
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto anon389_Then, anon389_Else;

  anon389_Else:
    call {:si_unique_call 669} FsRtlDissectName(RemainingPart, 0, 0);
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    goto anon391_Then, anon391_Else;

  anon391_Else:
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    goto anon393_Then, anon393_Else;

  anon393_Else:
    goto L500;

  L500:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon393_Then:
    goto L498;

  L498:
    assume {:nonnull} FinalName_1 != 0;
    assume FinalName_1 > 0;
    goto anon392_Then, anon392_Else;

  anon392_Else:
    assume {:nonnull} FinalName_1 != 0;
    assume FinalName_1 > 0;
    havoc vslice_dummy_var_74;
    call {:si_unique_call 670} FatEnsureStringBufferEnough(OemFinalName, vslice_dummy_var_74);
    call {:si_unique_call 671} Status_4 := RtlUpcaseUnicodeStringToCountedOemString(0, 0, 0);
    goto anon394_Then, anon394_Else;

  anon394_Else:
    assume {:partition} Status_4 >= 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc vslice_dummy_var_75;
    call {:si_unique_call 672} NextFcb_1 := FatFindFcb(IrpContext_39, vslice_dummy_var_75, OemFinalName, FileNameOpenedDos_1);
    goto L515;

  L515:
    goto anon395_Then, anon395_Else;

  anon395_Else:
    assume {:partition} NextFcb_1 != 0;
    goto L517;

  L517:
    goto anon397_Then, anon397_Else;

  anon397_Else:
    assume {:partition} NextFcb_1 != 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto L518;

  L518:
    goto anon398_Then, anon398_Else;

  anon398_Else:
    assume {:partition} NextFcb_1 != 0;
    Tmp_658 := NextFcb_1;
    assume {:nonnull} Tmp_658 != 0;
    assume Tmp_658 > 0;
    goto anon489_Then, anon489_Else;

  anon489_Else:
    assume {:partition} Mem_T.INT4[Tmp_658] != 1282;
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    goto anon399_Then, anon399_Else;

  anon399_Else:
    goto L492;

  L492:
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto anon390_Then, anon390_Else;

  anon390_Else:
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto anon400_Then, anon400_Else;

  anon400_Else:
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto L543;

  L543:
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc vslice_dummy_var_76;
    call {:si_unique_call 673} FatVerifyFcb(IrpContext_39, vslice_dummy_var_76);
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    goto anon401_Then, anon401_Else;

  anon401_Else:
    goto anon402_Then, anon402_Else;

  anon402_Else:
    assume {:partition} IsPagingFile_2 != 0;
    goto anon403_Then, anon403_Else;

  anon403_Else:
    assume {:partition} FirstLoop != 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc Tmp_710;
    assume {:nonnull} Tmp_710 != 0;
    assume Tmp_710 > 0;
    goto anon490_Then, anon490_Else;

  anon490_Else:
    assume {:partition} Mem_T.INT4[Tmp_710] == 1282;
    call {:si_unique_call 674} sdv_244 := sdv_IsListEmpty(0);
    goto anon404_Then, anon404_Else;

  anon404_Else:
    assume {:partition} sdv_244 != 0;
    call {:si_unique_call 675} sdv_214 := sdv_IsListEmpty(0);
    goto anon405_Then, anon405_Else;

  anon405_Else:
    assume {:partition} sdv_214 == 0;
    goto L569;

  L569:
    call {:si_unique_call 676} FatFspClose#1(Vcb_28);
    goto anon510_Then, anon510_Else;

  anon510_Else:
    assume {:partition} yogi_error != 1;
    FirstLoop := 0;
    goto anon510_Else_dummy;

  anon510_Else_dummy:
    assume false;
    return;

  anon510_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon405_Then:
    assume {:partition} sdv_214 != 0;
    goto L488;

  L488:
    goto anon388_Then, anon388_Else;

  anon388_Else:
    assume {:partition} IsPagingFile_2 != 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc Tmp_673;
    assume {:nonnull} Tmp_673 != 0;
    assume Tmp_673 > 0;
    goto anon491_Then, anon491_Else;

  anon491_Else:
    assume {:partition} Mem_T.INT4[Tmp_673] == 1282;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    goto anon408_Then, anon408_Else;

  anon408_Else:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741757;
    goto L216;

  anon408_Then:
    goto L580;

  L580:
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    goto anon407_Then, anon407_Else;

  anon407_Else:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741738;
    goto L216;

  anon407_Then:
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto anon409_Then, anon409_Else;

  anon409_Else:
    goto L588;

  L588:
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc Tmp_669;
    assume {:nonnull} Tmp_669 != 0;
    assume Tmp_669 > 0;
    goto anon492_Then, anon492_Else;

  anon492_Else:
    assume {:partition} Mem_T.INT4[Tmp_669] != 1283;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc Tmp_704;
    assume {:nonnull} Tmp_704 != 0;
    assume Tmp_704 > 0;
    goto anon493_Then, anon493_Else;

  anon493_Else:
    assume {:partition} Mem_T.INT4[Tmp_704] != 1284;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741766;
    goto L216;

  anon493_Then:
    assume {:partition} Mem_T.INT4[Tmp_704] == 1284;
    goto L589;

  L589:
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc ParentDcb_3;
    FirstLoop := 1;
    goto L596;

  L596:
    call {:si_unique_call 677} sdv_209, FirstLoop, LfnByteOffset_1, Tmp_640, Status_4, ParentDcb_3, FinalDcb, sdv_258 := FatCommonCreate_loop_L596(sdv_209, FirstLoop, LfnByteOffset_1, Tmp_640, OemFinalName, Lfn_4, Dirent_7, Status_4, Tmp_655, Vcb_28, RemainingPart, DirentByteOffset_1, ParentDcb_3, UpcasedFinalName, FileNameOpenedDos_1, FinalDcb, NextRemainingPart, DirentBcb_1, sdv_258, LocalCcb, FinalName_1, IrpContext_39);
    goto L596_last;

  L596_last:
    goto anon412_Then, anon412_Else;

  anon412_Else:
    assume {:partition} FirstLoop != 0;
    FirstLoop := 0;
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    assume {:nonnull} NextRemainingPart != 0;
    assume NextRemainingPart > 0;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    goto anon494_Then, anon494_Else;

  anon494_Else:
    Tmp_640 := 0;
    goto L605;

  L605:
    Status_4 := Tmp_640;
    goto L606;

  L606:
    goto anon413_Then, anon413_Else;

  anon413_Else:
    assume {:partition} Status_4 >= 0;
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    assume {:nonnull} Tmp_655 != 0;
    assume Tmp_655 > 0;
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    assume {:nonnull} Tmp_655 != 0;
    assume Tmp_655 > 0;
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    assume {:nonnull} Tmp_655 != 0;
    assume Tmp_655 > 0;
    call {:si_unique_call 678} sdv_258 := corral_nondet();
    goto anon414_Then, anon414_Else;

  anon414_Else:
    assume {:partition} sdv_258 != 0;
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    call {:si_unique_call 679} FatStringTo8dot3(IrpContext_39, OemFinalName, Constant_unnamed_tag_72(OemQueryTemplate__CCB(LocalCcb)));
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    goto L618;

  L618:
    goto anon415_Then, anon415_Else;

  anon415_Else:
    call {:si_unique_call 680} sdv_209 := FatIsNameLongUnicodeValid(IrpContext_39, FinalName_1, 0, 0, 0);
    goto anon417_Then, anon417_Else;

  anon417_Else:
    assume {:partition} sdv_209 != 0;
    goto L625;

  L625:
    assume {:nonnull} FinalName_1 != 0;
    assume FinalName_1 > 0;
    havoc vslice_dummy_var_77;
    call {:si_unique_call 681} FatEnsureStringBufferEnough(UpcasedFinalName, vslice_dummy_var_77);
    call {:si_unique_call 682} Status_4 := RtlUpcaseUnicodeString(0, 0, 0);
    goto anon418_Then, anon418_Else;

  anon418_Else:
    assume {:partition} Status_4 >= 0;
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    assume {:nonnull} UpcasedFinalName != 0;
    assume UpcasedFinalName > 0;
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    assume {:nonnull} UpcasedFinalName != 0;
    assume UpcasedFinalName > 0;
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    assume {:nonnull} UpcasedFinalName != 0;
    assume UpcasedFinalName > 0;
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    assume {:nonnull} Lfn_4 != 0;
    assume Lfn_4 > 0;
    call {:si_unique_call 683} FatLocateDirent#1(IrpContext_39, ParentDcb_3, LocalCcb, 0, Dirent_7, DirentBcb_1, DirentByteOffset_1, FileNameOpenedDos_1, Lfn_4);
    FinalDcb := ParentDcb_3;
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto anon495_Then, anon495_Else;

  anon495_Else:
    assume {:nonnull} Dirent_7 != 0;
    assume Dirent_7 > 0;
    goto anon419_Then, anon419_Else;

  anon419_Else:
    assume {:nonnull} Dirent_7 != 0;
    assume Dirent_7 > 0;
    goto anon420_Then, anon420_Else;

  anon420_Else:
    assume {:nonnull} DirentByteOffset_1 != 0;
    assume DirentByteOffset_1 > 0;
    assume {:nonnull} Lfn_4 != 0;
    assume Lfn_4 > 0;
    havoc LfnByteOffset_1;
    assume {:nonnull} DirentByteOffset_1 != 0;
    assume DirentByteOffset_1 > 0;
    assume {:nonnull} Dirent_7 != 0;
    assume Dirent_7 > 0;
    havoc vslice_dummy_var_78;
    call {:si_unique_call 684} ParentDcb_3 := FatCreateDcb(IrpContext_39, Vcb_28, ParentDcb_3, LfnByteOffset_1, Mem_T.INT4[DirentByteOffset_1], vslice_dummy_var_78, Lfn_4);
    goto anon496_Then, anon496_Else;

  anon496_Else:
    assume {:partition} yogi_error != 1;
    FinalDcb := ParentDcb_3;
    call {:si_unique_call 685} FatSetFullNameInFcb(IrpContext_39, ParentDcb_3, FinalName_1);
    goto anon496_Else_dummy;

  anon496_Else_dummy:
    assume false;
    return;

  anon496_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon420_Then:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741766;
    goto L216;

  anon419_Then:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741766;
    goto L216;

  anon495_Then:
    goto anon411_Then, anon411_Else;

  anon411_Else:
    assume {:partition} OpenTargetDirectory != 0;
    assume {:nonnull} Dirent_7 != 0;
    assume Dirent_7 > 0;
    goto anon425_Then, anon425_Else;

  anon425_Else:
    Tmp_694 := 1;
    goto L683;

  L683:
    Tmp_702 := Tmp_694;
    call {:si_unique_call 686} SD1 := FatOpenTargetDirectory(IrpContext_39, FileObject_4, ParentDcb_3, DesiredAccess_1, ShareAccess_1, Tmp_702);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon497_Then, anon497_Else;

  anon497_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon497_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon425_Then:
    Tmp_694 := 0;
    goto L683;

  anon411_Then:
    assume {:partition} OpenTargetDirectory == 0;
    assume {:nonnull} Dirent_7 != 0;
    assume Dirent_7 > 0;
    goto anon424_Then, anon424_Else;

  anon424_Else:
    assume {:nonnull} DirentByteOffset_1 != 0;
    assume DirentByteOffset_1 > 0;
    assume {:nonnull} Lfn_4 != 0;
    assume Lfn_4 > 0;
    havoc LfnByteOffset_1;
    assume {:nonnull} Dirent_7 != 0;
    assume Dirent_7 > 0;
    goto anon498_Then, anon498_Else;

  anon498_Else:
    goto anon428_Then, anon428_Else;

  anon428_Else:
    assume {:partition} NonDirectoryFile != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741638;
    goto L216;

  anon428_Then:
    assume {:partition} NonDirectoryFile == 0;
    assume {:nonnull} DirentByteOffset_1 != 0;
    assume DirentByteOffset_1 > 0;
    assume {:nonnull} Dirent_7 != 0;
    assume Dirent_7 > 0;
    havoc vslice_dummy_var_79;
    call {:si_unique_call 687} SD1 := FatOpenExistingDirectory(IrpContext_39, FileObject_4, Vcb_28, ParentDcb_3, vslice_dummy_var_79, LfnByteOffset_1, Mem_T.INT4[DirentByteOffset_1], Lfn_4, DesiredAccess_1, ShareAccess_1, CreateDisposition_2, NoEaKnowledge_2, DeleteOnClose_1);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon499_Then, anon499_Else;

  anon499_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon499_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon498_Then:
    goto anon427_Then, anon427_Else;

  anon427_Else:
    assume {:partition} OpenDirectory != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741565;
    goto L216;

  anon427_Then:
    assume {:partition} OpenDirectory == 0;
    goto anon429_Then, anon429_Else;

  anon429_Else:
    assume {:partition} TrailingBackslash != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon429_Then:
    assume {:partition} TrailingBackslash == 0;
    assume {:nonnull} DirentByteOffset_1 != 0;
    assume DirentByteOffset_1 > 0;
    assume {:nonnull} Dirent_7 != 0;
    assume Dirent_7 > 0;
    assume {:nonnull} FileNameOpenedDos_1 != 0;
    assume FileNameOpenedDos_1 > 0;
    havoc vslice_dummy_var_80;
    call {:si_unique_call 688} SD1 := FatOpenExistingFile(IrpContext_39, FileObject_4, Vcb_28, ParentDcb_3, vslice_dummy_var_80, LfnByteOffset_1, Mem_T.INT4[DirentByteOffset_1], Lfn_4, DesiredAccess_1, ShareAccess_1, AllocationSize_2, EaBuffer_2, EaLength_2, FileAttributes_2, CreateDisposition_2, IsPagingFile_2, NoEaKnowledge_2, DeleteOnClose_1, Mem_T.INT4[FileNameOpenedDos_1]);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon500_Then, anon500_Else;

  anon500_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon430_Then, anon430_Else;

  anon430_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] >= 0;
    goto anon431_Then, anon431_Else;

  anon431_Else:
    assume {:partition} NoIntermediateBuffering == 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    goto L715;

  L715:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon431_Then:
    assume {:partition} NoIntermediateBuffering != 0;
    goto L715;

  anon430_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L715;

  anon500_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon424_Then:
    goto anon426_Then, anon426_Else;

  anon426_Else:
    assume {:partition} CreateDisposition_2 == 1;
    goto L721;

  L721:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741772;
    goto L216;

  anon426_Then:
    assume {:partition} CreateDisposition_2 != 1;
    goto anon432_Then, anon432_Else;

  anon432_Else:
    assume {:partition} CreateDisposition_2 != 4;
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    goto anon433_Then, anon433_Else;

  anon433_Else:
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    goto L724;

  L724:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    call {:si_unique_call 689} boogieTmp := FatCheckSystemSecurityAccess(IrpContext_39);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := boogieTmp;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon434_Then, anon434_Else;

  anon434_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] >= 0;
    goto anon435_Then, anon435_Else;

  anon435_Else:
    assume {:partition} CreateDirectory != 0;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    goto anon437_Then, anon437_Else;

  anon437_Else:
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    call {:si_unique_call 690} IoSetHardErrorOrVerifyDevice(0, 0);
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_672;
    assume {:nonnull} Tmp_672 != 0;
    assume Tmp_672 > 0;
    havoc Tmp_649;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_646;
    assume {:nonnull} Tmp_646 != 0;
    assume Tmp_646 > 0;
    havoc Tmp_697;
    assume {:nonnull} Tmp_649 != 0;
    assume Tmp_649 > 0;
    assume {:nonnull} Tmp_697 != 0;
    assume Tmp_697 > 0;
    assume {:nonnull} IrpContext_39 != 0;
    assume IrpContext_39 > 0;
    call {:si_unique_call 691} ExRaiseStatus(-1073741662);
    goto L734;

  L734:
    goto anon438_Then, anon438_Else;

  anon438_Else:
    assume {:partition} TemporaryFile != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741811;
    goto L216;

  anon438_Then:
    assume {:partition} TemporaryFile == 0;
    call {:si_unique_call 692} SD1 := FatCreateNewDirectory(IrpContext_39, FileObject_4, Vcb_28, ParentDcb_3, OemFinalName, FinalName_1, DesiredAccess_1, ShareAccess_1, EaBuffer_2, EaLength_2, FileAttributes_2, NoEaKnowledge_2, DeleteOnClose_1);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon501_Then, anon501_Else;

  anon501_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon501_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon437_Then:
    goto L734;

  anon435_Then:
    assume {:partition} CreateDirectory == 0;
    goto anon436_Then, anon436_Else;

  anon436_Else:
    assume {:partition} TrailingBackslash != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon436_Then:
    assume {:partition} TrailingBackslash == 0;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    goto anon439_Then, anon439_Else;

  anon439_Else:
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    call {:si_unique_call 693} IoSetHardErrorOrVerifyDevice(0, 0);
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_666;
    assume {:nonnull} Tmp_666 != 0;
    assume Tmp_666 > 0;
    havoc Tmp_681;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_653;
    assume {:nonnull} Tmp_653 != 0;
    assume Tmp_653 > 0;
    havoc Tmp_641;
    assume {:nonnull} Tmp_641 != 0;
    assume Tmp_641 > 0;
    assume {:nonnull} Tmp_681 != 0;
    assume Tmp_681 > 0;
    assume {:nonnull} IrpContext_39 != 0;
    assume IrpContext_39 > 0;
    call {:si_unique_call 694} ExRaiseStatus(-1073741662);
    goto L755;

  L755:
    call {:si_unique_call 695} SD1 := FatCreateNewFile(IrpContext_39, FileObject_4, Vcb_28, ParentDcb_3, OemFinalName, FinalName_1, DesiredAccess_1, ShareAccess_1, AllocationSize_2, EaBuffer_2, EaLength_2, FileAttributes_2, Lfn_4, IsPagingFile_2, NoEaKnowledge_2, DeleteOnClose_1, TemporaryFile);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon502_Then, anon502_Else;

  anon502_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon440_Then, anon440_Else;

  anon440_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] >= 0;
    goto anon441_Then, anon441_Else;

  anon441_Else:
    assume {:partition} NoIntermediateBuffering == 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    goto L768;

  L768:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon441_Then:
    assume {:partition} NoIntermediateBuffering != 0;
    goto L768;

  anon440_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L768;

  anon502_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon439_Then:
    goto L755;

  anon434_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L216;

  anon433_Then:
    goto L724;

  anon432_Then:
    assume {:partition} CreateDisposition_2 == 4;
    goto L721;

  anon418_Then:
    assume {:partition} 0 > Status_4;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Status_4;
    goto L216;

  anon417_Then:
    assume {:partition} sdv_209 == 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon415_Then:
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    goto anon416_Then, anon416_Else;

  anon416_Else:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon416_Then:
    goto L625;

  anon414_Then:
    assume {:partition} sdv_258 == 0;
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    goto L618;

  anon413_Then:
    assume {:partition} 0 > Status_4;
    assume {:nonnull} LocalCcb != 0;
    assume LocalCcb > 0;
    goto anon503_Then, anon503_Else;

  anon503_Else:
    assume {:partition} Status_4 != -1073741470;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Status_4;
    goto L216;

  anon503_Then:
    assume {:partition} Status_4 == -1073741470;
    goto L618;

  anon494_Then:
    Tmp_640 := -1073741470;
    goto L605;

  anon412_Then:
    assume {:partition} FirstLoop == 0;
    call {:si_unique_call 696} FsRtlDissectName(RemainingPart, 0, 0);
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto anon421_Then, anon421_Else;

  anon421_Else:
    assume {:nonnull} RemainingPart != 0;
    assume RemainingPart > 0;
    goto anon423_Then, anon423_Else;

  anon423_Else:
    goto L670;

  L670:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon423_Then:
    goto L668;

  L668:
    assume {:nonnull} FinalName_1 != 0;
    assume FinalName_1 > 0;
    goto anon422_Then, anon422_Else;

  anon422_Else:
    assume {:nonnull} FinalName_1 != 0;
    assume FinalName_1 > 0;
    havoc vslice_dummy_var_81;
    call {:si_unique_call 697} FatEnsureStringBufferEnough(OemFinalName, vslice_dummy_var_81);
    call {:si_unique_call 698} Status_4 := RtlUpcaseUnicodeStringToCountedOemString(0, 0, 0);
    goto L606;

  anon422_Then:
    goto L670;

  anon421_Then:
    goto L668;

  anon492_Then:
    assume {:partition} Mem_T.INT4[Tmp_669] == 1283;
    goto L589;

  anon409_Then:
    goto anon410_Then, anon410_Else;

  anon410_Else:
    assume {:partition} OpenTargetDirectory != 0;
    call {:si_unique_call 699} sdv_239 := KeGetCurrentProcessorNumber();
    Tmp_668 := sdv_239;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_692;
    Stats_3 := Tmp_692 + Tmp_668 * 240;
    assume {:nonnull} Stats_3 != 0;
    assume Stats_3 > 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc vslice_dummy_var_82;
    call {:si_unique_call 700} SD1 := FatOpenTargetDirectory(IrpContext_39, FileObject_4, vslice_dummy_var_82, DesiredAccess_1, ShareAccess_1, 1);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon504_Then, anon504_Else;

  anon504_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon504_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon410_Then:
    assume {:partition} OpenTargetDirectory == 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc Tmp_652;
    assume {:nonnull} Tmp_652 != 0;
    assume Tmp_652 > 0;
    goto anon505_Then, anon505_Else;

  anon505_Else:
    assume {:partition} Mem_T.INT4[Tmp_652] == 1283;
    goto L786;

  L786:
    goto anon442_Then, anon442_Else;

  anon442_Else:
    assume {:partition} NonDirectoryFile == 0;
    call {:si_unique_call 701} sdv_219 := KeGetCurrentProcessorNumber();
    Tmp_659 := sdv_219;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_707;
    Stats := Tmp_707 + Tmp_659 * 240;
    assume {:nonnull} Stats != 0;
    assume Stats > 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc vslice_dummy_var_83;
    call {:si_unique_call 702} SD1 := FatOpenExistingDcb(IrpContext_39, FileObject_4, Vcb_28, vslice_dummy_var_83, DesiredAccess_1, ShareAccess_1, CreateDisposition_2, NoEaKnowledge_2, DeleteOnClose_1);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon506_Then, anon506_Else;

  anon506_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon506_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon442_Then:
    assume {:partition} NonDirectoryFile != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741638;
    goto L216;

  anon505_Then:
    assume {:partition} Mem_T.INT4[Tmp_652] != 1283;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc Tmp_676;
    assume {:nonnull} Tmp_676 != 0;
    assume Tmp_676 > 0;
    goto anon507_Then, anon507_Else;

  anon507_Else:
    assume {:partition} Mem_T.INT4[Tmp_676] != 1284;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc Tmp_664;
    assume {:nonnull} Tmp_664 != 0;
    assume Tmp_664 > 0;
    goto anon508_Then, anon508_Else;

  anon508_Else:
    assume {:partition} Mem_T.INT4[Tmp_664] == 1282;
    goto anon443_Then, anon443_Else;

  anon443_Else:
    assume {:partition} OpenDirectory != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741565;
    goto L216;

  anon443_Then:
    assume {:partition} OpenDirectory == 0;
    goto anon444_Then, anon444_Else;

  anon444_Else:
    assume {:partition} TrailingBackslash == 0;
    call {:si_unique_call 703} sdv_259 := KeGetCurrentProcessorNumber();
    Tmp_675 := sdv_259;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_684;
    Stats_2 := Tmp_684 + Tmp_675 * 240;
    assume {:nonnull} Stats_2 != 0;
    assume Stats_2 > 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    assume {:nonnull} FileNameOpenedDos_1 != 0;
    assume FileNameOpenedDos_1 > 0;
    havoc vslice_dummy_var_84;
    call {:si_unique_call 704} SD1 := FatOpenExistingFcb(IrpContext_39, FileObject_4, Vcb_28, vslice_dummy_var_84, DesiredAccess_1, ShareAccess_1, AllocationSize_2, EaBuffer_2, EaLength_2, FileAttributes_2, CreateDisposition_2, NoEaKnowledge_2, DeleteOnClose_1, Mem_T.INT4[FileNameOpenedDos_1], OplockPostIrp);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon509_Then, anon509_Else;

  anon509_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon445_Then, anon445_Else;

  anon445_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] != 259;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    goto anon446_Then, anon446_Else;

  anon446_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] >= 0;
    goto anon447_Then, anon447_Else;

  anon447_Else:
    assume {:partition} NoIntermediateBuffering == 0;
    assume {:nonnull} FileObject_4 != 0;
    assume FileObject_4 > 0;
    goto L823;

  L823:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon447_Then:
    assume {:partition} NoIntermediateBuffering != 0;
    goto L823;

  anon446_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L823;

  anon445_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] == 259;
    PostIrp := 1;
    goto L216;

  anon509_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon444_Then:
    assume {:partition} TrailingBackslash != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon508_Then:
    assume {:partition} Mem_T.INT4[Tmp_664] != 1282;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc Tmp_686;
    assume {:nonnull} Tmp_686 != 0;
    assume Tmp_686 > 0;
    Tmp_644 := Mem_T.INT4[Tmp_686];
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc vslice_dummy_var_85;
    call {:si_unique_call 705} KeBugCheckEx(35, 394438, Tmp_644, vslice_dummy_var_85, 0);
    goto L588;

  anon507_Then:
    assume {:partition} Mem_T.INT4[Tmp_676] == 1284;
    goto L786;

  anon491_Then:
    assume {:partition} Mem_T.INT4[Tmp_673] != 1282;
    goto L580;

  anon388_Then:
    assume {:partition} IsPagingFile_2 == 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    goto anon406_Then, anon406_Else;

  anon406_Else:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741790;
    goto L216;

  anon406_Then:
    goto L580;

  anon404_Then:
    assume {:partition} sdv_244 == 0;
    goto L569;

  anon490_Then:
    assume {:partition} Mem_T.INT4[Tmp_710] != 1282;
    goto L488;

  anon403_Then:
    assume {:partition} FirstLoop == 0;
    goto L488;

  anon402_Then:
    assume {:partition} IsPagingFile_2 == 0;
    goto L488;

  anon401_Then:
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc vslice_dummy_var_86;
    call {:si_unique_call 706} FatRemoveNames(IrpContext_39, vslice_dummy_var_86);
    goto anon401_Then_dummy;

  anon401_Then_dummy:
    assume false;
    return;

  anon400_Then:
    goto L543;

  anon390_Then:
    goto L543;

  anon399_Then:
    goto anon399_Then_dummy;

  anon399_Then_dummy:
    assume false;
    return;

  anon489_Then:
    assume {:partition} Mem_T.INT4[Tmp_658] == 1282;
    goto L492;

  anon398_Then:
    assume {:partition} NextFcb_1 == 0;
    goto L492;

  anon397_Then:
    assume {:partition} NextFcb_1 == 0;
    goto L518;

  anon395_Then:
    assume {:partition} NextFcb_1 == 0;
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    goto anon396_Then, anon396_Else;

  anon396_Else:
    assume {:nonnull} FinalName_1 != 0;
    assume FinalName_1 > 0;
    havoc vslice_dummy_var_87;
    call {:si_unique_call 707} FatEnsureStringBufferEnough(UpcasedFinalName, vslice_dummy_var_87);
    call {:si_unique_call 708} Status_4 := RtlDowncaseUnicodeString(0, 0, 0);
    call {:si_unique_call 709} Status_4 := RtlUpcaseUnicodeString(0, 0, 0);
    assume {:nonnull} Fcb_11 != 0;
    assume Fcb_11 > 0;
    havoc vslice_dummy_var_88;
    call {:si_unique_call 710} NextFcb_1 := FatFindFcb(IrpContext_39, vslice_dummy_var_88, UpcasedFinalName, FileNameOpenedDos_1);
    goto L517;

  anon396_Then:
    goto L517;

  anon394_Then:
    assume {:partition} 0 > Status_4;
    NextFcb_1 := 0;
    assume {:nonnull} OemFinalName != 0;
    assume OemFinalName > 0;
    goto anon511_Then, anon511_Else;

  anon511_Else:
    assume {:partition} Status_4 != -1073741470;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Status_4;
    goto L216;

  anon511_Then:
    assume {:partition} Status_4 == -1073741470;
    goto L515;

  anon392_Then:
    goto L500;

  anon391_Then:
    goto L498;

  anon389_Then:
    goto L492;

  anon387_Then:
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741773;
    goto L216;

  anon386_Then:
    call {:si_unique_call 711} FatSetFullFileNameInFcb#1(IrpContext_39, ParentDcb_3);
    goto L484;

  anon488_Then:
    goto L476;

  L476:
    TrailingBackslash := 0;
    goto L480;

  anon385_Then:
    goto L476;

  anon382_Then:
    goto L467;

  anon381_Then:
    assume {:partition} TypeOfOpen == 2;
    goto L463;

  anon379_Then:
    assume {:partition} RelatedFileObject == 0;
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    goto anon380_Then, anon380_Else;

  anon380_Else:
    assume {:nonnull} FileName != 0;
    assume FileName > 0;
    goto anon448_Then, anon448_Else;

  anon448_Else:
    goto anon449_Then, anon449_Else;

  anon449_Else:
    assume {:partition} NonDirectoryFile != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741638;
    goto L216;

  anon449_Then:
    assume {:partition} NonDirectoryFile == 0;
    goto anon450_Then, anon450_Else;

  anon450_Else:
    assume {:partition} OpenTargetDirectory != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741811;
    goto L216;

  anon450_Then:
    assume {:partition} OpenTargetDirectory == 0;
    goto anon451_Then, anon451_Else;

  anon451_Else:
    assume {:partition} DeleteOnClose_1 == 0;
    call {:si_unique_call 712} sdv_233 := KeGetCurrentProcessorNumber();
    Tmp_708 := sdv_233;
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc Tmp_665;
    Stats_4 := Tmp_665 + Tmp_708 * 240;
    assume {:nonnull} Stats_4 != 0;
    assume Stats_4 > 0;
    call {:si_unique_call 713} SD1 := FatOpenRootDcb(IrpContext_39, FileObject_4, Vcb_28, DesiredAccess_1, ShareAccess_1, CreateDisposition_2);
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(SD1)];
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} SD1 != 0;
    assume SD1 > 0;
    goto anon512_Then, anon512_Else;

  anon512_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    assume {:nonnull} Irp_2 != 0;
    assume Irp_2 > 0;
    goto L216;

  anon512_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon451_Then:
    assume {:partition} DeleteOnClose_1 != 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := -1073741535;
    goto L216;

  anon448_Then:
    goto L833;

  L833:
    assume {:nonnull} Vcb_28 != 0;
    assume Vcb_28 > 0;
    havoc ParentDcb_3;
    goto L475;

  anon380_Then:
    goto L833;

  anon452_Then:
    assume {:partition} RelatedFileObject == 0;
    goto L858;

  anon377_Then:
    goto L452;

  anon375_Then:
    assume {:partition} EaBuffer_2 == 0;
    goto L447;

  anon376_Then:
    goto L437;

  anon351_Then:
    assume {:partition} DeleteOnClose_1 == 0;
    goto L437;

  anon349_Then:
    assume {:partition} sdv_253 == 0;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    call {:si_unique_call 714} boogieTmp := FatFsdPostRequest(IrpContext_39, Irp_2);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)] := boogieTmp;
    assume {:nonnull} Iosb_1 != 0;
    assume Iosb_1 > 0;
    Tmp_637 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_1)];
    goto L1;

  anon476_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon348_Then:
    assume {:partition} NonDirectoryFile != 0;
    goto L134;

  anon347_Then:
    assume {:partition} DirectoryFile == 0;
    goto L138;

  anon345_Then:
    assume {:partition} CreateDisposition_2 != 1;
    goto anon346_Then, anon346_Else;

  anon346_Else:
    assume {:partition} CreateDisposition_2 == 3;
    goto L130;

  anon346_Then:
    assume {:partition} CreateDisposition_2 != 3;
    goto L127;

  L127:
    Tmp_685 := 0;
    goto L131;

  anon474_Then:
    assume {:partition} DirectoryFile == 0;
    goto L127;

  anon343_Then:
    assume {:partition} CreateDisposition_2 != 2;
    goto anon344_Then, anon344_Else;

  anon344_Else:
    assume {:partition} CreateDisposition_2 == 3;
    goto L124;

  anon344_Then:
    assume {:partition} CreateDisposition_2 != 3;
    goto L121;

  L121:
    Tmp_689 := 0;
    goto L125;

  anon473_Then:
    assume {:partition} DirectoryFile == 0;
    goto L121;

  anon472_Then:
    assume {:partition} Tmp_670 != 0;
    OpenTargetDirectory := 1;
    goto L1083;

  anon471_Then:
    assume {:partition} Tmp_651 != 0;
    IsPagingFile_2 := 1;
    goto L1079;

  anon470_Then:
    assume {:partition} Tmp_715 != 0;
    TemporaryFile := 1;
    goto L1074;

  anon469_Then:
    assume {:partition} Tmp_671 != 0;
    DeleteOnClose_1 := 1;
    goto L1070;

  anon468_Then:
    assume {:partition} Tmp_683 != 0;
    NoEaKnowledge_2 := 1;
    goto L1066;

  anon467_Then:
    assume {:partition} Tmp_674 != 0;
    NoIntermediateBuffering := 1;
    goto L1062;

  anon466_Then:
    assume {:partition} Tmp_716 != 0;
    goto L1058;

  anon465_Then:
    assume {:partition} Tmp_638 != 0;
    NonDirectoryFile := 1;
    goto L1054;

  anon464_Then:
    assume {:partition} Tmp_678 != 0;
    DirectoryFile := 1;
    goto L1050;

  anon462_Then:
    assume {:partition} RelatedFileObject == 0;
    goto L92;

  anon460_Then:
    assume {:partition} Mem_T.INT4[Tmp_690 + 1 * 4] != 92;
    goto L65;

  anon459_Then:
    goto L65;

  anon458_Then:
    assume {:partition} Mem_T.INT4[Tmp_701] != 92;
    goto L65;

  anon457_Then:
    assume {:partition} Mem_T.INT4[Tmp_703 + 1 * 4] != 92;
    goto L65;

  anon456_Then:
    goto L65;
}



procedure {:origName "FatOpenTargetDirectory"} FatOpenTargetDirectory(actual_IrpContext_40: int, actual_FileObject_5: int, actual_Dcb_3: int, actual_DesiredAccess_2: int, actual_ShareAccess_2: int, actual_DoesNameExist: int) returns (SD10: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenTargetDirectory"} FatOpenTargetDirectory(actual_IrpContext_40: int, actual_FileObject_5: int, actual_Dcb_3: int, actual_DesiredAccess_2: int, actual_ShareAccess_2: int, actual_DoesNameExist: int) returns (SD10: int)
{
  var {:scalar} i_8: int;
  var {:scalar} Tmp_720: int;
  var {:scalar} Tmp_721: int;
  var {:scalar} Tmp_722: int;
  var {:scalar} DcbAcquired: int;
  var {:pointer} Tmp_723: int;
  var {:scalar} Tmp_724: int;
  var {:scalar} Tmp_725: int;
  var {:pointer} Tmp_726: int;
  var {:scalar} Iosb_5: int;
  var {:scalar} Tmp_727: int;
  var {:pointer} Tmp_728: int;
  var {:pointer} Tmp_729: int;
  var {:pointer} UnwindCcb_2: int;
  var {:pointer} Tmp_732: int;
  var {:scalar} sdv_271: int;
  var {:pointer} Tmp_733: int;
  var {:pointer} Tmp_734: int;
  var {:scalar} UnwindShareAccess: int;
  var {:pointer} Tmp_735: int;
  var {:scalar} Tmp_10: int;
  var {:scalar} Tmp_736: int;
  var {:pointer} IrpContext_40: int;
  var {:pointer} FileObject_5: int;
  var {:pointer} Dcb_3: int;
  var {:pointer} DesiredAccess_2: int;
  var {:scalar} ShareAccess_2: int;
  var {:scalar} DoesNameExist: int;
  var boogieTmp: int;
  var vslice_dummy_var_109: int;

  anon0:
    call {:si_unique_call 715} Iosb_5 := __HAVOC_malloc(12);
    call {:si_unique_call 716} Tmp_10 := __HAVOC_malloc(12);
    IrpContext_40 := actual_IrpContext_40;
    FileObject_5 := actual_FileObject_5;
    Dcb_3 := actual_Dcb_3;
    DesiredAccess_2 := actual_DesiredAccess_2;
    ShareAccess_2 := actual_ShareAccess_2;
    DoesNameExist := actual_DoesNameExist;
    UnwindShareAccess := 0;
    UnwindCcb_2 := 0;
    DcbAcquired := 0;
    call {:si_unique_call 717} vslice_dummy_var_109 := FatAcquireExclusiveFcb(IrpContext_40, Dcb_3);
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} yogi_error == 1;
    goto L149;

  L149:
    SD10 := Tmp_10;
    return;

  anon34_Then:
    assume {:partition} yogi_error != 1;
    DcbAcquired := 1;
    assume {:nonnull} Dcb_3 != 0;
    assume Dcb_3 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    Tmp_727 := ShareAccess_2;
    assume {:nonnull} DesiredAccess_2 != 0;
    assume DesiredAccess_2 > 0;
    assume {:nonnull} Iosb_5 != 0;
    assume Iosb_5 > 0;
    call {:si_unique_call 718} boogieTmp := IoCheckShareAccess(Mem_T.INT4[DesiredAccess_2], Tmp_727, 0, 0, 1);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_5)] := boogieTmp;
    assume {:nonnull} Iosb_5 != 0;
    assume Iosb_5 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_5)] < 0;
    goto L77;

  L77:
    call {:si_unique_call 719} sdv_271 := sdv_AbnormalTermination();
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} sdv_271 != 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} UnwindCcb_2 != 0;
    call {:si_unique_call 720} FatDeleteCcb_Real(IrpContext_40, UnwindCcb_2);
    goto L83;

  L83:
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} UnwindShareAccess != 0;
    call {:si_unique_call 721} IoRemoveShareAccess(0, 0);
    goto L81;

  L81:
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} DcbAcquired != 0;
    call {:si_unique_call 722} ExReleaseResourceLite(0);
    goto L90;

  L90:
    assume {:nonnull} Iosb_5 != 0;
    assume Iosb_5 > 0;
    assume {:nonnull} Tmp_10 != 0;
    assume Tmp_10 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_10)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_5)];
    assume {:nonnull} Iosb_5 != 0;
    assume Iosb_5 > 0;
    assume {:nonnull} Tmp_10 != 0;
    assume Tmp_10 > 0;
    assume {:nonnull} Iosb_5 != 0;
    assume Iosb_5 > 0;
    assume {:nonnull} Tmp_10 != 0;
    assume Tmp_10 > 0;
    goto L149;

  anon31_Then:
    assume {:partition} DcbAcquired == 0;
    goto L90;

  anon33_Then:
    assume {:partition} UnwindShareAccess == 0;
    goto L81;

  anon32_Then:
    assume {:partition} UnwindCcb_2 == 0;
    goto L83;

  anon30_Then:
    assume {:partition} sdv_271 == 0;
    goto L81;

  anon27_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_5)];
    goto L40;

  L40:
    UnwindShareAccess := 1;
    call {:si_unique_call 723} UnwindCcb_2 := FatCreateCcb(IrpContext_40);
    call {:si_unique_call 724} FatSetFileObject(FileObject_5, 3, Dcb_3, UnwindCcb_2);
    assume {:nonnull} Dcb_3 != 0;
    assume Dcb_3 > 0;
    assume {:nonnull} Dcb_3 != 0;
    assume Dcb_3 > 0;
    assume {:nonnull} Dcb_3 != 0;
    assume Dcb_3 > 0;
    havoc Tmp_723;
    assume {:nonnull} Dcb_3 != 0;
    assume Dcb_3 > 0;
    havoc Tmp_735;
    assume {:nonnull} Tmp_723 != 0;
    assume Tmp_723 > 0;
    assume {:nonnull} Tmp_735 != 0;
    assume Tmp_735 > 0;
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    goto L53;

  L53:
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    havoc i_8;
    Tmp_724 := i_8;
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    havoc Tmp_728;
    assume {:nonnull} Tmp_728 != 0;
    assume Tmp_728 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} Mem_T.INT4[Tmp_728 + Tmp_724 * 4] != 92;
    goto L59;

  L59:
    call {:si_unique_call 725} i_8, Tmp_720, Tmp_733 := FatOpenTargetDirectory_loop_L59(i_8, Tmp_720, Tmp_733, FileObject_5);
    goto L59_last;

  L59_last:
    Tmp_720 := i_8;
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    havoc Tmp_733;
    assume {:nonnull} Tmp_733 != 0;
    assume Tmp_733 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} Mem_T.INT4[Tmp_733 + Tmp_720 * 4] == 92;
    i_8 := i_8 + 1;
    goto L58;

  L58:
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} i_8 != 0;
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    havoc Tmp_721;
    Tmp_725 := i_8;
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    havoc Tmp_729;
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    havoc Tmp_732;
    call {:si_unique_call 726} sdv_RtlCopyMemory(0, 0, Tmp_721);
    goto L65;

  L65:
    assume {:nonnull} Iosb_5 != 0;
    assume Iosb_5 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_5)] := 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} DoesNameExist != 0;
    Tmp_722 := 4;
    goto L76;

  L76:
    assume {:nonnull} Iosb_5 != 0;
    assume Iosb_5 > 0;
    goto L77;

  anon39_Then:
    assume {:partition} DoesNameExist == 0;
    Tmp_722 := 5;
    goto L76;

  anon28_Then:
    assume {:partition} i_8 == 0;
    goto L65;

  anon38_Then:
    assume {:partition} Mem_T.INT4[Tmp_733 + Tmp_720 * 4] != 92;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} i_8 != 0;
    i_8 := i_8 - 1;
    goto anon29_Else_dummy;

  anon29_Else_dummy:
    assume false;
    return;

  anon29_Then:
    assume {:partition} i_8 == 0;
    goto L58;

  anon37_Then:
    assume {:partition} Mem_T.INT4[Tmp_728 + Tmp_724 * 4] == 92;
    assume {:nonnull} FileObject_5 != 0;
    assume FileObject_5 > 0;
    i_8 := i_8 - 1;
    goto L59;

  anon36_Then:
    assume {:nonnull} Dcb_3 != 0;
    assume Dcb_3 > 0;
    havoc Tmp_734;
    assume {:nonnull} Dcb_3 != 0;
    assume Dcb_3 > 0;
    havoc Tmp_726;
    assume {:nonnull} Tmp_726 != 0;
    assume Tmp_726 > 0;
    assume {:nonnull} Tmp_734 != 0;
    assume Tmp_734 > 0;
    goto L53;

  anon35_Then:
    Tmp_736 := ShareAccess_2;
    assume {:nonnull} DesiredAccess_2 != 0;
    assume DesiredAccess_2 > 0;
    call {:si_unique_call 727} IoSetShareAccess(Mem_T.INT4[DesiredAccess_2], Tmp_736, 0, 0);
    goto L40;
}



procedure {:origName "_sdv_init29"} _sdv_init29();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init29"} _sdv_init29()
{
  var vslice_dummy_var_110: int;

  anon0:
    call {:si_unique_call 728} vslice_dummy_var_110 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatCreateNewFile"} FatCreateNewFile(actual_IrpContext_41: int, actual_FileObject_6: int, actual_Vcb_29: int, actual_ParentDcb_4: int, actual_OemName: int, actual_UnicodeName: int, actual_DesiredAccess_3: int, actual_ShareAccess_3: int, actual_AllocationSize_3: int, actual_EaBuffer_3: int, actual_EaLength_3: int, actual_FileAttributes_3: int, actual_LfnBuffer_1: int, actual_IsPagingFile_3: int, actual_NoEaKnowledge_3: int, actual_DeleteOnClose_2: int, actual_TemporaryFile_1: int) returns (SD9: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateNewFile"} FatCreateNewFile(actual_IrpContext_41: int, actual_FileObject_6: int, actual_Vcb_29: int, actual_ParentDcb_4: int, actual_OemName: int, actual_UnicodeName: int, actual_DesiredAccess_3: int, actual_ShareAccess_3: int, actual_AllocationSize_3: int, actual_EaBuffer_3: int, actual_EaLength_3: int, actual_FileAttributes_3: int, actual_LfnBuffer_1: int, actual_IsPagingFile_3: int, actual_NoEaKnowledge_3: int, actual_DeleteOnClose_2: int, actual_TemporaryFile_1: int) returns (SD9: int)
{
  var {:scalar} i_9: int;
  var {:scalar} Tmp_740: int;
  var {:pointer} ShortDirent: int;
  var {:scalar} Tmp_741: int;
  var {:pointer} UnwindFcb_1: int;
  var {:scalar} Tmp_742: int;
  var {:scalar} Tmp_744: int;
  var {:scalar} Tmp_745: int;
  var {:scalar} HaveTunneledInformation: int;
  var {:pointer} Tmp_747: int;
  var {:pointer} Tmp_748: int;
  var {:scalar} UnwindAllocation: int;
  var {:scalar} Tmp_749: int;
  var {:pointer} Fcb_12: int;
  var {:pointer} Tmp_750: int;
  var {:scalar} Tmp_751: int;
  var {:pointer} UniTunneledShortNameBuffer: int;
  var {:pointer} UniTunneledLongNameBuffer: int;
  var {:scalar} DirentsInFirstPage: int;
  var {:pointer} Tmp_754: int;
  var {:scalar} UsingTunneledLfn: int;
  var {:pointer} Dirent_8: int;
  var {:scalar} Iosb_6: int;
  var {:pointer} SecondPageDirent: int;
  var {:scalar} Tmp_755: int;
  var {:dopa} {:scalar} AllLowerComponent: int;
  var {:scalar} BytesInFirstPage: int;
  var {:pointer} DirentBcb_2: int;
  var {:pointer} Tmp_756: int;
  var {:scalar} ShortName_1: int;
  var {:scalar} Tmp_757: int;
  var {:scalar} LocalAbnormalTermination: int;
  var {:scalar} ShortDirentByteOffset: int;
  var {:scalar} sdv_274: int;
  var {:pointer} UnwindCcb_3: int;
  var {:scalar} Tmp_758: int;
  var {:pointer} Tmp_759: int;
  var {:scalar} DirentsNeeded: int;
  var {:scalar} Tmp_9: int;
  var {:scalar} DirentFromPool: int;
  var {:pointer} UnwindDirent: int;
  var {:pointer} SecondPageBcb: int;
  var {:pointer} sdv_277: int;
  var {:pointer} Tmp_760: int;
  var {:dopa} {:scalar} EaHandle_1: int;
  var {:dopa} {:scalar} AllLowerExtension: int;
  var {:pointer} RealUnicodeName: int;
  var {:pointer} ShortNameBuffer: int;
  var {:pointer} Tmp_761: int;
  var {:scalar} SecondPageOffset: int;
  var {:pointer} FirstPageDirent: int;
  var {:pointer} Tmp_762: int;
  var {:scalar} DirentByteOffset_2: int;
  var {:scalar} sdv_279: int;
  var {:scalar} UniTunneledShortName: int;
  var {:scalar} TunneledCreationTime: int;
  var {:dopa} {:scalar} CreateLfn: int;
  var {:scalar} UniTunneledLongName: int;
  var {:pointer} IrpContext_41: int;
  var {:pointer} FileObject_6: int;
  var {:pointer} Vcb_29: int;
  var {:pointer} ParentDcb_4: int;
  var {:pointer} OemName: int;
  var {:pointer} UnicodeName: int;
  var {:pointer} DesiredAccess_3: int;
  var {:scalar} ShareAccess_3: int;
  var {:scalar} AllocationSize_3: int;
  var {:pointer} EaBuffer_3: int;
  var {:scalar} EaLength_3: int;
  var {:scalar} FileAttributes_3: int;
  var {:pointer} LfnBuffer_1: int;
  var {:scalar} IsPagingFile_3: int;
  var {:scalar} NoEaKnowledge_3: int;
  var {:scalar} DeleteOnClose_2: int;
  var {:scalar} TemporaryFile_1: int;
  var vslice_dummy_var_111: int;
  var vslice_dummy_var_89: int;

  anon0:
    call {:si_unique_call 729} Dirent_8 := __HAVOC_malloc(4);
    call {:si_unique_call 730} Iosb_6 := __HAVOC_malloc(12);
    call {:si_unique_call 731} SecondPageDirent := __HAVOC_malloc(4);
    call {:si_unique_call 732} AllLowerComponent := __HAVOC_malloc(4);
    call {:si_unique_call 733} DirentBcb_2 := __HAVOC_malloc(4);
    call {:si_unique_call 734} ShortName_1 := __HAVOC_malloc(12);
    call {:si_unique_call 735} Tmp_9 := __HAVOC_malloc(12);
    call {:si_unique_call 736} SecondPageBcb := __HAVOC_malloc(4);
    call {:si_unique_call 737} EaHandle_1 := __HAVOC_malloc(4);
    call {:si_unique_call 738} AllLowerExtension := __HAVOC_malloc(4);
    call {:si_unique_call 739} UniTunneledShortName := __HAVOC_malloc(12);
    call {:si_unique_call 740} TunneledCreationTime := __HAVOC_malloc(20);
    call {:si_unique_call 741} CreateLfn := __HAVOC_malloc(4);
    call {:si_unique_call 742} UniTunneledLongName := __HAVOC_malloc(12);
    IrpContext_41 := actual_IrpContext_41;
    FileObject_6 := actual_FileObject_6;
    Vcb_29 := actual_Vcb_29;
    ParentDcb_4 := actual_ParentDcb_4;
    OemName := actual_OemName;
    UnicodeName := actual_UnicodeName;
    DesiredAccess_3 := actual_DesiredAccess_3;
    ShareAccess_3 := actual_ShareAccess_3;
    AllocationSize_3 := actual_AllocationSize_3;
    EaBuffer_3 := actual_EaBuffer_3;
    EaLength_3 := actual_EaLength_3;
    FileAttributes_3 := actual_FileAttributes_3;
    LfnBuffer_1 := actual_LfnBuffer_1;
    IsPagingFile_3 := actual_IsPagingFile_3;
    NoEaKnowledge_3 := actual_NoEaKnowledge_3;
    DeleteOnClose_2 := actual_DeleteOnClose_2;
    TemporaryFile_1 := actual_TemporaryFile_1;
    call {:si_unique_call 743} Tmp_747 := __HAVOC_malloc(44);
    call {:si_unique_call 744} Tmp_750 := __HAVOC_malloc(44);
    call {:si_unique_call 745} UniTunneledShortNameBuffer := __HAVOC_malloc(48);
    call {:si_unique_call 746} UniTunneledLongNameBuffer := __HAVOC_malloc(104);
    call {:si_unique_call 747} Tmp_756 := __HAVOC_malloc(44);
    call {:si_unique_call 748} ShortNameBuffer := __HAVOC_malloc(48);
    assume {:nonnull} Dirent_8 != 0;
    assume Dirent_8 > 0;
    assume {:nonnull} DirentBcb_2 != 0;
    assume DirentBcb_2 > 0;
    assume {:nonnull} SecondPageBcb != 0;
    assume SecondPageBcb > 0;
    DirentFromPool := 0;
    UsingTunneledLfn := 0;
    UnwindDirent := 0;
    UnwindFcb_1 := 0;
    UnwindAllocation := 0;
    UnwindCcb_3 := 0;
    LocalAbnormalTermination := 0;
    assume {:nonnull} ShortName_1 != 0;
    assume ShortName_1 > 0;
    assume {:nonnull} ShortName_1 != 0;
    assume ShortName_1 > 0;
    assume {:nonnull} ShortName_1 != 0;
    assume ShortName_1 > 0;
    assume {:nonnull} UniTunneledShortName != 0;
    assume UniTunneledShortName > 0;
    assume {:nonnull} UniTunneledShortName != 0;
    assume UniTunneledShortName > 0;
    assume {:nonnull} UniTunneledShortName != 0;
    assume UniTunneledShortName > 0;
    assume {:nonnull} UniTunneledLongName != 0;
    assume UniTunneledLongName > 0;
    assume {:nonnull} UniTunneledLongName != 0;
    assume UniTunneledLongName > 0;
    assume {:nonnull} UniTunneledLongName != 0;
    assume UniTunneledLongName > 0;
    assume {:nonnull} EaHandle_1 != 0;
    assume EaHandle_1 > 0;
    Mem_T.INT4[EaHandle_1] := 0;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} NoEaKnowledge_3 != 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} EaLength_3 > 0;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_6)] := -1073741790;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_9)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_6)];
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    goto L1;

  L1:
    goto L620;

  L620:
    SD9 := Tmp_9;
    return;

  anon108_Then:
    assume {:partition} 0 >= EaLength_3;
    goto L59;

  L59:
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:partition} DeleteOnClose_2 != 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:partition} BAND(FileAttributes_3, 1) != 0;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_6)] := -1073741535;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_9)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_6)];
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    goto L1;

  anon109_Then:
    assume {:partition} BAND(FileAttributes_3, 1) == 0;
    goto L63;

  L63:
    call {:si_unique_call 749} vslice_dummy_var_111 := corral_nondet();
    call {:si_unique_call 750} HaveTunneledInformation := corral_nondet();
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:partition} HaveTunneledInformation != 0;
    Tmp_761 := UniTunneledShortName;
    goto L75;

  L75:
    call {:si_unique_call 751} FatSelectNames(IrpContext_41, ParentDcb_4, OemName, UnicodeName, ShortName_1, Tmp_761, AllLowerComponent, AllLowerExtension, CreateLfn);
    RealUnicodeName := UnicodeName;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:nonnull} CreateLfn != 0;
    assume CreateLfn > 0;
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} Mem_T.INT4[CreateLfn] != 0;
    goto L83;

  L83:
    assume {:nonnull} CreateLfn != 0;
    assume CreateLfn > 0;
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} Mem_T.INT4[CreateLfn] != 0;
    assume {:nonnull} RealUnicodeName != 0;
    assume RealUnicodeName > 0;
    havoc Tmp_740;
    goto L86;

  L86:
    DirentsNeeded := Tmp_740;
    call {:si_unique_call 752} DirentByteOffset_2 := FatCreateNewDirent(IrpContext_41, ParentDcb_4, DirentsNeeded);
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon140_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    call {:si_unique_call 753} FatPrepareWriteDirectoryFile(IrpContext_41, ParentDcb_4, DirentByteOffset_2, 32, DirentBcb_2, Dirent_8, 0, 1, Status__IO_STATUS_BLOCK(Iosb_6));
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon141_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Dirent_8 != 0;
    assume Dirent_8 > 0;
    havoc UnwindDirent;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:partition} INTDIV(DirentByteOffset_2, 4096) != INTDIV(DirentByteOffset_2 + (DirentsNeeded - 1) * 32, 4096);
    Tmp_755 := BAND(DirentByteOffset_2, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    SecondPageOffset := Tmp_755 + 4096;
    BytesInFirstPage := SecondPageOffset - DirentByteOffset_2;
    DirentsInFirstPage := INTDIV(BytesInFirstPage, 32);
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    call {:si_unique_call 754} FatPrepareWriteDirectoryFile(IrpContext_41, ParentDcb_4, SecondPageOffset, 32, SecondPageBcb, SecondPageDirent, 0, 1, Status__IO_STATUS_BLOCK(Iosb_6));
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon143_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Dirent_8 != 0;
    assume Dirent_8 > 0;
    havoc FirstPageDirent;
    Tmp_749 := DirentsNeeded * 32;
    call {:si_unique_call 755} sdv_277 := ExAllocatePoolWithTag(17, Tmp_749, -999005882);
    assume {:nonnull} Dirent_8 != 0;
    assume Dirent_8 > 0;
    DirentFromPool := 1;
    goto L230;

  L230:
    assume {:nonnull} Dirent_8 != 0;
    assume Dirent_8 > 0;
    havoc ShortDirent;
    ShortDirentByteOffset := DirentByteOffset_2 + (DirentsNeeded - 1) * 32;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume {:partition} HaveTunneledInformation != 0;
    Tmp_759 := TunneledCreationTime;
    goto L249;

  L249:
    Tmp_758 := BOR(FileAttributes_3, 32);
    assume {:nonnull} CreateLfn != 0;
    assume CreateLfn > 0;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:partition} Mem_T.INT4[CreateLfn] != 0;
    Tmp_760 := RealUnicodeName;
    goto L253;

  L253:
    assume {:nonnull} AllLowerComponent != 0;
    assume AllLowerComponent > 0;
    assume {:nonnull} AllLowerExtension != 0;
    assume AllLowerExtension > 0;
    call {:si_unique_call 756} FatConstructDirent(IrpContext_41, ShortDirent, ShortName_1, Mem_T.INT4[AllLowerComponent], Mem_T.INT4[AllLowerExtension], Tmp_760, Tmp_758, 1, Tmp_759);
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:partition} DirentFromPool != 0;
    call {:si_unique_call 757} sdv_RtlCopyMemory(0, 0, BytesInFirstPage);
    Tmp_751 := DirentsNeeded * 32 - BytesInFirstPage;
    assume {:nonnull} Dirent_8 != 0;
    assume Dirent_8 > 0;
    call {:si_unique_call 758} sdv_RtlCopyMemory(0, 0, Tmp_751);
    assume {:nonnull} SecondPageDirent != 0;
    assume SecondPageDirent > 0;
    havoc ShortDirent;
    goto L257;

  L257:
    assume {:nonnull} CreateLfn != 0;
    assume CreateLfn > 0;
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:partition} Mem_T.INT4[CreateLfn] != 0;
    Tmp_762 := RealUnicodeName;
    goto L269;

  L269:
    call {:si_unique_call 759} UnwindFcb_1 := FatCreateFcb(IrpContext_41, Vcb_29, ParentDcb_4, DirentByteOffset_2, ShortDirentByteOffset, ShortDirent, Tmp_762, IsPagingFile_3, 0);
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon146_Then:
    assume {:partition} yogi_error != 1;
    Fcb_12 := UnwindFcb_1;
    UnwindDirent := 0;
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} TemporaryFile_1 != 0;
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    goto L276;

  L276:
    call {:si_unique_call 760} FatAddFileAllocation(IrpContext_41, Fcb_12, FileObject_6, AllocationSize_3);
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon148_Then:
    assume {:partition} yogi_error != 1;
    UnwindAllocation := 1;
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} EaLength_3 > 0;
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    havoc vslice_dummy_var_89;
    call {:si_unique_call 761} FatCreateEa(IrpContext_41, vslice_dummy_var_89, EaBuffer_3, EaLength_3, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(Fcb_12))), EaHandle_1);
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon150_Then:
    assume {:partition} yogi_error != 1;
    goto L283;

  L283:
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    havoc Tmp_754;
    assume {:nonnull} Tmp_754 != 0;
    assume Tmp_754 > 0;
    goto anon151_Then, anon151_Else;

  anon151_Else:
    goto L288;

  L288:
    call {:si_unique_call 762} FatSetFullNameInFcb(IrpContext_41, Fcb_12, RealUnicodeName);
    call {:si_unique_call 763} UnwindCcb_3 := FatCreateCcb(IrpContext_41);
    call {:si_unique_call 764} FatSetFileObject(FileObject_6, 2, Fcb_12, UnwindCcb_3);
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    havoc Tmp_748;
    assume {:nonnull} FileObject_6 != 0;
    assume FileObject_6 > 0;
    assume {:nonnull} Tmp_748 != 0;
    assume Tmp_748 > 0;
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    goto anon152_Then, anon152_Else;

  anon152_Else:
    goto L303;

  L303:
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    havoc Tmp_742;
    call {:si_unique_call 765} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_742, 0, 0, 1, 1, 0);
    Tmp_757 := ShareAccess_3;
    assume {:nonnull} DesiredAccess_3 != 0;
    assume DesiredAccess_3 > 0;
    call {:si_unique_call 766} IoSetShareAccess(Mem_T.INT4[DesiredAccess_3], Tmp_757, 0, 0);
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    assume {:nonnull} FileObject_6 != 0;
    assume FileObject_6 > 0;
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:nonnull} Fcb_12 != 0;
    assume Fcb_12 > 0;
    goto L314;

  L314:
    assume {:nonnull} Vcb_29 != 0;
    assume Vcb_29 > 0;
    assume {:nonnull} FileObject_6 != 0;
    assume FileObject_6 > 0;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    goto L318;

  L318:
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_6)] := 0;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_6)] >= 0;
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:partition} DeleteOnClose_2 != 0;
    assume {:nonnull} UnwindCcb_3 != 0;
    assume UnwindCcb_3 > 0;
    goto L323;

  L323:
    assume {:nonnull} CreateLfn != 0;
    assume CreateLfn > 0;
    goto anon118_Then, anon118_Else;

  anon118_Else:
    assume {:partition} Mem_T.INT4[CreateLfn] == 0;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    assume {:partition} UsingTunneledLfn == 0;
    assume {:nonnull} UnwindCcb_3 != 0;
    assume UnwindCcb_3 > 0;
    goto L321;

  L321:
    assume {:nonnull} UniTunneledLongName != 0;
    assume UniTunneledLongName > 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    call {:si_unique_call 767} sdv_ExFreePool(0);
    goto L327;

  L327:
    call {:si_unique_call 768} sdv_279 := sdv_AbnormalTermination();
    LocalAbnormalTermination := sdv_279;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:partition} LocalAbnormalTermination != 0;
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} UnwindFcb_1 != 0;
    goto L338;

  L338:
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:partition} UnwindDirent != 0;
    i_9 := 0;
    goto L341;

  L341:
    call {:si_unique_call 769} i_9, Tmp_741, Tmp_744, Tmp_745, Tmp_747, Tmp_750, Tmp_756 := FatCreateNewFile_loop_L341(i_9, Tmp_741, Tmp_744, Tmp_745, Tmp_747, Tmp_750, DirentsInFirstPage, Dirent_8, SecondPageDirent, Tmp_756, DirentsNeeded, DirentFromPool, SecondPageBcb, FirstPageDirent);
    goto L341_last;

  L341_last:
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:partition} DirentsNeeded > i_9;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume {:partition} DirentFromPool != 0;
    assume {:nonnull} SecondPageBcb != 0;
    assume SecondPageBcb > 0;
    goto anon125_Then, anon125_Else;

  anon125_Else:
    goto L346;

  L346:
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:partition} DirentsInFirstPage > i_9;
    Tmp_744 := i_9;
    assume {:nonnull} FirstPageDirent != 0;
    assume FirstPageDirent > 0;
    havoc Tmp_750;
    assume {:nonnull} Tmp_750 != 0;
    assume Tmp_750 > 0;
    Mem_T.INT4[Tmp_750] := 229;
    goto L349;

  L349:
    i_9 := i_9 + 1;
    goto L349_dummy;

  L349_dummy:
    assume false;
    return;

  anon127_Then:
    assume {:partition} i_9 >= DirentsInFirstPage;
    Tmp_745 := i_9 - DirentsInFirstPage;
    assume {:nonnull} SecondPageDirent != 0;
    assume SecondPageDirent > 0;
    havoc Tmp_756;
    assume {:nonnull} Tmp_756 != 0;
    assume Tmp_756 > 0;
    Mem_T.INT4[Tmp_756] := 229;
    goto L349;

  anon125_Then:
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume {:partition} i_9 != DirentsInFirstPage;
    goto L346;

  anon126_Then:
    assume {:partition} i_9 == DirentsInFirstPage;
    goto L335;

  L335:
    goto anon120_Then, anon120_Else;

  anon120_Else:
    assume {:partition} LocalAbnormalTermination != 0;
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} UnwindAllocation != 0;
    call {:si_unique_call 770} FatTruncateFileAllocation(IrpContext_41, Fcb_12, 0);
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon157_Then:
    assume {:partition} yogi_error != 1;
    goto L354;

  L354:
    goto anon128_Then, anon128_Else;

  anon128_Else:
    assume {:partition} LocalAbnormalTermination != 0;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:partition} UnwindFcb_1 != 0;
    call {:si_unique_call 771} FatDeleteDirent#1(IrpContext_41, UnwindFcb_1, 0, 1);
    goto anon158_Then, anon158_Else;

  anon158_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon158_Then:
    assume {:partition} yogi_error != 1;
    goto L410;

  L410:
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} LocalAbnormalTermination != 0;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:partition} UnwindFcb_1 != 0;
    call {:si_unique_call 772} FatDeleteFcb_Real(IrpContext_41, UnwindFcb_1);
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} yogi_error == 1;
    goto L620;

  anon159_Then:
    assume {:partition} yogi_error != 1;
    goto L440;

  L440:
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} UnwindCcb_3 != 0;
    call {:si_unique_call 773} FatDeleteCcb_Real(IrpContext_41, UnwindCcb_3);
    goto L438;

  L438:
    assume {:nonnull} DirentBcb_2 != 0;
    assume DirentBcb_2 > 0;
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:nonnull} DirentBcb_2 != 0;
    assume DirentBcb_2 > 0;
    goto L447;

  L447:
    assume {:nonnull} SecondPageBcb != 0;
    assume SecondPageBcb > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:nonnull} SecondPageBcb != 0;
    assume SecondPageBcb > 0;
    goto L452;

  L452:
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:partition} DirentFromPool != 0;
    call {:si_unique_call 774} sdv_ExFreePool(0);
    goto L457;

  L457:
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_9)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_6)];
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    assume {:nonnull} Iosb_6 != 0;
    assume Iosb_6 > 0;
    assume {:nonnull} Tmp_9 != 0;
    assume Tmp_9 > 0;
    goto L1;

  anon136_Then:
    assume {:partition} DirentFromPool == 0;
    goto L457;

  anon135_Then:
    goto L452;

  anon132_Then:
    goto L447;

  anon134_Then:
    assume {:partition} UnwindCcb_3 == 0;
    goto L438;

  anon133_Then:
    assume {:partition} UnwindFcb_1 == 0;
    goto L440;

  anon130_Then:
    assume {:partition} LocalAbnormalTermination == 0;
    goto L438;

  anon131_Then:
    assume {:partition} UnwindFcb_1 == 0;
    goto L410;

  anon128_Then:
    assume {:partition} LocalAbnormalTermination == 0;
    goto L410;

  anon129_Then:
    assume {:partition} UnwindAllocation == 0;
    goto L354;

  anon120_Then:
    assume {:partition} LocalAbnormalTermination == 0;
    goto L354;

  anon124_Then:
    assume {:partition} DirentFromPool == 0;
    Tmp_741 := i_9;
    assume {:nonnull} Dirent_8 != 0;
    assume Dirent_8 > 0;
    havoc Tmp_747;
    assume {:nonnull} Tmp_747 != 0;
    assume Tmp_747 > 0;
    Mem_T.INT4[Tmp_747] := 229;
    goto L349;

  anon123_Then:
    assume {:partition} i_9 >= DirentsNeeded;
    goto L335;

  anon122_Then:
    assume {:partition} UnwindDirent == 0;
    goto L335;

  anon121_Then:
    assume {:partition} UnwindFcb_1 == 0;
    goto L338;

  anon156_Then:
    assume {:partition} LocalAbnormalTermination == 0;
    goto L335;

  anon116_Then:
    goto L327;

  anon119_Then:
    assume {:partition} UsingTunneledLfn != 0;
    goto L321;

  anon118_Then:
    assume {:partition} Mem_T.INT4[CreateLfn] != 0;
    goto L321;

  anon117_Then:
    assume {:partition} DeleteOnClose_2 == 0;
    goto L323;

  anon155_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_6)];
    goto L321;

  anon154_Then:
    assume {:nonnull} Vcb_29 != 0;
    assume Vcb_29 > 0;
    goto L318;

  anon153_Then:
    goto L314;

  anon152_Then:
    call {:si_unique_call 775} FatSetFullFileNameInFcb#1(IrpContext_41, Fcb_12);
    goto L303;

  anon151_Then:
    assume {:nonnull} EaHandle_1 != 0;
    assume EaHandle_1 > 0;
    assume {:nonnull} ShortDirent != 0;
    assume ShortDirent > 0;
    goto L288;

  anon149_Then:
    assume {:partition} 0 >= EaLength_3;
    goto L283;

  anon147_Then:
    assume {:partition} TemporaryFile_1 == 0;
    goto L276;

  anon115_Then:
    assume {:partition} Mem_T.INT4[CreateLfn] == 0;
    Tmp_762 := 0;
    goto L269;

  anon114_Then:
    assume {:partition} DirentFromPool == 0;
    goto L257;

  anon145_Then:
    assume {:partition} Mem_T.INT4[CreateLfn] == 0;
    Tmp_760 := 0;
    goto L253;

  anon144_Then:
    assume {:partition} HaveTunneledInformation == 0;
    Tmp_759 := 0;
    goto L249;

  anon142_Then:
    assume {:partition} INTDIV(DirentByteOffset_2, 4096) == INTDIV(DirentByteOffset_2 + (DirentsNeeded - 1) * 32, 4096);
    goto L230;

  anon113_Then:
    assume {:partition} Mem_T.INT4[CreateLfn] == 0;
    Tmp_740 := 1;
    goto L86;

  anon111_Then:
    assume {:partition} Mem_T.INT4[CreateLfn] == 0;
    assume {:nonnull} UniTunneledLongName != 0;
    assume UniTunneledLongName > 0;
    goto anon112_Then, anon112_Else;

  anon112_Else:
    call {:si_unique_call 776} sdv_274 := FatLfnDirentExists(IrpContext_41, ParentDcb_4, UniTunneledLongName, LfnBuffer_1);
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:partition} sdv_274 == 0;
    UsingTunneledLfn := 1;
    assume {:nonnull} CreateLfn != 0;
    assume CreateLfn > 0;
    Mem_T.INT4[CreateLfn] := 1;
    RealUnicodeName := UniTunneledLongName;
    assume {:nonnull} AllLowerComponent != 0;
    assume AllLowerComponent > 0;
    Mem_T.INT4[AllLowerComponent] := 0;
    assume {:nonnull} AllLowerExtension != 0;
    assume AllLowerExtension > 0;
    Mem_T.INT4[AllLowerExtension] := 0;
    goto L83;

  anon137_Then:
    assume {:partition} sdv_274 != 0;
    goto L83;

  anon112_Then:
    goto L83;

  anon139_Then:
    assume {:nonnull} AllLowerComponent != 0;
    assume AllLowerComponent > 0;
    Mem_T.INT4[AllLowerComponent] := 0;
    assume {:nonnull} AllLowerExtension != 0;
    assume AllLowerExtension > 0;
    Mem_T.INT4[AllLowerExtension] := 0;
    assume {:nonnull} CreateLfn != 0;
    assume CreateLfn > 0;
    Mem_T.INT4[CreateLfn] := 0;
    goto L83;

  anon110_Then:
    assume {:partition} HaveTunneledInformation == 0;
    Tmp_761 := 0;
    goto L75;

  anon107_Then:
    assume {:partition} DeleteOnClose_2 == 0;
    goto L63;

  anon138_Then:
    assume {:partition} NoEaKnowledge_3 == 0;
    goto L59;
}



procedure {:origName "FatOpenExistingFcb"} FatOpenExistingFcb(actual_IrpContext_42: int, actual_FileObject_7: int, actual_Vcb_30: int, actual_Fcb_13: int, actual_DesiredAccess_4: int, actual_ShareAccess_4: int, actual_AllocationSize_4: int, actual_EaBuffer_4: int, actual_EaLength_4: int, actual_FileAttributes_4: int, actual_CreateDisposition_3: int, actual_NoEaKnowledge_4: int, actual_DeleteOnClose_3: int, actual_FileNameOpenedDos_2: int, actual_OplockPostIrp_1: int) returns (SD8: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenExistingFcb"} FatOpenExistingFcb(actual_IrpContext_42: int, actual_FileObject_7: int, actual_Vcb_30: int, actual_Fcb_13: int, actual_DesiredAccess_4: int, actual_ShareAccess_4: int, actual_AllocationSize_4: int, actual_EaBuffer_4: int, actual_EaLength_4: int, actual_FileAttributes_4: int, actual_CreateDisposition_3: int, actual_NoEaKnowledge_4: int, actual_DeleteOnClose_3: int, actual_FileNameOpenedDos_2: int, actual_OplockPostIrp_1: int) returns (SD8: int)
{
  var {:pointer} structPtr888Iosb: int;
  var {:scalar} Tmp_763: int;
  var {:scalar} AddedAccess_1: int;
  var {:dopa} {:scalar} NeedEaCount_1: int;
  var {:scalar} DecrementFcbOpenCount: int;
  var {:pointer} Ccb_7: int;
  var {:pointer} Tmp_764: int;
  var {:scalar} Tmp_765: int;
  var {:scalar} Tmp_768: int;
  var {:pointer} Dirent_9: int;
  var {:scalar} Iosb: int;
  var {:pointer} Tmp_769: int;
  var {:pointer} Tmp_770: int;
  var {:scalar} sdv_283: int;
  var {:pointer} DirentBcb_3: int;
  var {:scalar} FcbAcquired: int;
  var {:scalar} Tmp_772: int;
  var {:pointer} UnwindCcb_4: int;
  var {:pointer} Tmp_774: int;
  var {:scalar} sdv_286: int;
  var {:pointer} Tmp_777: int;
  var {:pointer} Tmp_778: int;
  var {:scalar} System_1: int;
  var {:scalar} sdv_287: int;
  var {:scalar} Tmp_779: int;
  var {:scalar} Tmp_781: int;
  var {:pointer} Tmp_782: int;
  var {:pointer} Tmp_783: int;
  var {:pointer} Tmp_784: int;
  var {:pointer} Tmp_786: int;
  var {:scalar} UnwindShareAccess_1: int;
  var {:scalar} Tmp_787: int;
  var {:pointer} Tmp_788: int;
  var {:scalar} sdv_293: int;
  var {:scalar} Tmp_8: int;
  var {:pointer} Tmp_789: int;
  var {:scalar} OldStatus: int;
  var {:scalar} Hidden_1: int;
  var {:scalar} sdv_295: int;
  var {:pointer} Tmp_790: int;
  var {:pointer} IrpContext_42: int;
  var {:pointer} FileObject_7: int;
  var {:pointer} Vcb_30: int;
  var {:pointer} Fcb_13: int;
  var {:pointer} DesiredAccess_4: int;
  var {:scalar} ShareAccess_4: int;
  var {:scalar} AllocationSize_4: int;
  var {:pointer} EaBuffer_4: int;
  var {:scalar} EaLength_4: int;
  var {:scalar} FileAttributes_4: int;
  var {:scalar} CreateDisposition_3: int;
  var {:scalar} NoEaKnowledge_4: int;
  var {:scalar} DeleteOnClose_3: int;
  var {:scalar} FileNameOpenedDos_2: int;
  var {:pointer} OplockPostIrp_1: int;
  var boogieTmp: int;
  var vslice_dummy_var_112: int;
  var vslice_dummy_var_113: int;
  var vslice_dummy_var_114: int;
  var vslice_dummy_var_115: int;
  var vslice_dummy_var_116: int;
  var vslice_dummy_var_90: int;
  var vslice_dummy_var_91: int;

  anon0:
    call {:si_unique_call 777} NeedEaCount_1 := __HAVOC_malloc(4);
    call {:si_unique_call 778} Dirent_9 := __HAVOC_malloc(4);
    call {:si_unique_call 779} Iosb := __HAVOC_malloc(12);
    call {:si_unique_call 780} DirentBcb_3 := __HAVOC_malloc(4);
    call {:si_unique_call 781} vslice_dummy_var_112 := __HAVOC_malloc(12);
    call {:si_unique_call 782} Tmp_8 := __HAVOC_malloc(12);
    IrpContext_42 := actual_IrpContext_42;
    FileObject_7 := actual_FileObject_7;
    Vcb_30 := actual_Vcb_30;
    Fcb_13 := actual_Fcb_13;
    DesiredAccess_4 := actual_DesiredAccess_4;
    ShareAccess_4 := actual_ShareAccess_4;
    AllocationSize_4 := actual_AllocationSize_4;
    EaBuffer_4 := actual_EaBuffer_4;
    EaLength_4 := actual_EaLength_4;
    FileAttributes_4 := actual_FileAttributes_4;
    CreateDisposition_3 := actual_CreateDisposition_3;
    NoEaKnowledge_4 := actual_NoEaKnowledge_4;
    DeleteOnClose_3 := actual_DeleteOnClose_3;
    FileNameOpenedDos_2 := actual_FileNameOpenedDos_2;
    OplockPostIrp_1 := actual_OplockPostIrp_1;
    assume {:nonnull} DirentBcb_3 != 0;
    assume DirentBcb_3 > 0;
    AddedAccess_1 := 0;
    UnwindShareAccess_1 := 0;
    UnwindCcb_4 := 0;
    DecrementFcbOpenCount := 0;
    FcbAcquired := 0;
    call {:si_unique_call 783} vslice_dummy_var_114 := FatAcquireExclusiveFcb(IrpContext_42, Fcb_13);
    goto anon182_Then, anon182_Else;

  anon182_Else:
    assume {:partition} yogi_error == 1;
    goto L425;

  L425:
    SD8 := Tmp_8;
    return;

  anon182_Then:
    assume {:partition} yogi_error != 1;
    FcbAcquired := 1;
    assume {:nonnull} OplockPostIrp_1 != 0;
    assume OplockPostIrp_1 > 0;
    Mem_T.INT4[OplockPostIrp_1] := 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    call {:si_unique_call 784} sdv_286 := corral_nondet();
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:partition} sdv_286 != 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    call {:si_unique_call 785} boogieTmp := corral_nondet();
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := boogieTmp;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] != 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] != 264;
    assume {:nonnull} OplockPostIrp_1 != 0;
    assume OplockPostIrp_1 > 0;
    Mem_T.INT4[OplockPostIrp_1] := 1;
    goto L63;

  L63:
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] != 259;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] >= 0;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume {:partition} AddedAccess_1 != 0;
    assume {:nonnull} DesiredAccess_4 != 0;
    assume DesiredAccess_4 > 0;
    Mem_T.INT4[DesiredAccess_4] := BAND(Mem_T.INT4[DesiredAccess_4], BNOT(AddedAccess_1));
    Tmp_779 := ShareAccess_4;
    assume {:nonnull} DesiredAccess_4 != 0;
    assume DesiredAccess_4 > 0;
    call {:si_unique_call 786} vslice_dummy_var_115 := IoCheckShareAccess(Mem_T.INT4[DesiredAccess_4], Tmp_779, 0, 0, 1);
    goto L77;

  L77:
    UnwindShareAccess_1 := 1;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    assume {:nonnull} FileObject_7 != 0;
    assume FileObject_7 > 0;
    goto anon183_Then, anon183_Else;

  anon183_Else:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    goto L82;

  L82:
    assume {:nonnull} Vcb_30 != 0;
    assume Vcb_30 > 0;
    assume {:nonnull} FileObject_7 != 0;
    assume FileObject_7 > 0;
    goto anon184_Then, anon184_Else;

  anon184_Else:
    goto L87;

  L87:
    assume {:nonnull} FileObject_7 != 0;
    assume FileObject_7 > 0;
    havoc Ccb_7;
    goto anon185_Then, anon185_Else;

  anon185_Else:
    assume {:partition} DeleteOnClose_3 != 0;
    assume {:nonnull} Ccb_7 != 0;
    assume Ccb_7 > 0;
    goto L89;

  L89:
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:partition} FileNameOpenedDos_2 != 0;
    assume {:nonnull} Ccb_7 != 0;
    assume Ccb_7 > 0;
    goto L64;

  L64:
    assume {:nonnull} DirentBcb_3 != 0;
    assume DirentBcb_3 > 0;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:nonnull} DirentBcb_3 != 0;
    assume DirentBcb_3 > 0;
    goto L92;

  L92:
    call {:si_unique_call 787} sdv_283 := sdv_AbnormalTermination();
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:partition} sdv_283 != 0;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume {:partition} UnwindCcb_4 != 0;
    call {:si_unique_call 788} FatDeleteCcb_Real(IrpContext_42, UnwindCcb_4);
    goto L102;

  L102:
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:partition} UnwindShareAccess_1 != 0;
    call {:si_unique_call 789} IoRemoveShareAccess(0, 0);
    goto L100;

  L100:
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:partition} DecrementFcbOpenCount != 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    goto anon186_Then, anon186_Else;

  anon186_Else:
    call {:si_unique_call 790} FatDeleteFcb_Real(IrpContext_42, Fcb_13);
    goto anon187_Then, anon187_Else;

  anon187_Else:
    assume {:partition} yogi_error == 1;
    goto L425;

  anon187_Then:
    assume {:partition} yogi_error != 1;
    goto L109;

  L109:
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume {:partition} FcbAcquired != 0;
    call {:si_unique_call 791} ExReleaseResourceLite(0);
    goto L115;

  L115:
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    assume {:nonnull} Tmp_8 != 0;
    assume Tmp_8 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_8)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)];
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    assume {:nonnull} Tmp_8 != 0;
    assume Tmp_8 > 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    assume {:nonnull} Tmp_8 != 0;
    assume Tmp_8 > 0;
    goto L425;

  anon146_Then:
    assume {:partition} FcbAcquired == 0;
    goto L115;

  anon186_Then:
    goto L109;

  anon143_Then:
    assume {:partition} DecrementFcbOpenCount == 0;
    goto L109;

  anon145_Then:
    assume {:partition} UnwindShareAccess_1 == 0;
    goto L100;

  anon144_Then:
    assume {:partition} UnwindCcb_4 == 0;
    goto L102;

  anon142_Then:
    assume {:partition} sdv_283 == 0;
    goto L100;

  anon138_Then:
    goto L92;

  anon141_Then:
    assume {:partition} FileNameOpenedDos_2 == 0;
    goto L64;

  anon185_Then:
    assume {:partition} DeleteOnClose_3 == 0;
    goto L89;

  anon184_Then:
    assume {:nonnull} Vcb_30 != 0;
    assume Vcb_30 > 0;
    goto L87;

  anon183_Then:
    goto L82;

  anon140_Then:
    assume {:partition} AddedAccess_1 == 0;
    call {:si_unique_call 792} IoUpdateShareAccess(0, 0);
    goto L77;

  anon139_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)];
    goto L64;

  anon137_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] == 259;
    goto L64;

  anon136_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] == 264;
    goto L53;

  L53:
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} CreateDisposition_3 == 2;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := -1073741771;
    goto L63;

  anon134_Then:
    assume {:partition} CreateDisposition_3 != 2;
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} CreateDisposition_3 != 0;
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:partition} CreateDisposition_3 == 4;
    goto L125;

  L125:
    assume {:nonnull} DesiredAccess_4 != 0;
    assume DesiredAccess_4 > 0;
    AddedAccess_1 := BOR(AddedAccess_1, BAND(BOR(BOR(2, 16), 256), BNOT(Mem_T.INT4[DesiredAccess_4])));
    assume {:nonnull} DesiredAccess_4 != 0;
    assume DesiredAccess_4 > 0;
    Mem_T.INT4[DesiredAccess_4] := BOR(Mem_T.INT4[DesiredAccess_4], BOR(BOR(2, 16), 256));
    goto L127;

  L127:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc vslice_dummy_var_90;
    call {:si_unique_call 793} sdv_293 := FatCheckFileAccess(IrpContext_42, vslice_dummy_var_90, DesiredAccess_4);
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} sdv_293 != 0;
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:partition} DeleteOnClose_3 != 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := -1073741535;
    goto L63;

  anon153_Then:
    goto L133;

  L133:
    goto anon152_Then, anon152_Else;

  anon152_Else:
    assume {:partition} CreateDisposition_3 == 0;
    goto L250;

  L250:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_787;
    goto anon188_Then, anon188_Else;

  anon188_Else:
    assume {:partition} Tmp_787 == 0;
    Hidden_1 := 0;
    goto L367;

  L367:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_781;
    goto anon189_Then, anon189_Else;

  anon189_Else:
    assume {:partition} Tmp_781 == 0;
    System_1 := 0;
    goto L371;

  L371:
    goto anon190_Then, anon190_Else;

  anon190_Else:
    assume {:partition} Hidden_1 != 0;
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:partition} BAND(FileAttributes_4, 2) == 0;
    goto L257;

  L257:
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := -1073741790;
    goto L63;

  anon179_Then:
    assume {:partition} BAND(FileAttributes_4, 2) != 0;
    goto L255;

  L255:
    goto anon178_Then, anon178_Else;

  anon178_Else:
    assume {:partition} System_1 != 0;
    goto anon181_Then, anon181_Else;

  anon181_Else:
    assume {:partition} BAND(FileAttributes_4, 4) != 0;
    goto L259;

  L259:
    assume {:nonnull} Vcb_30 != 0;
    assume Vcb_30 > 0;
    goto anon180_Then, anon180_Else;

  anon180_Else:
    assume {:nonnull} Vcb_30 != 0;
    assume Vcb_30 > 0;
    call {:si_unique_call 794} IoSetHardErrorOrVerifyDevice(0, 0);
    assume {:nonnull} Vcb_30 != 0;
    assume Vcb_30 > 0;
    havoc Tmp_769;
    assume {:nonnull} Tmp_769 != 0;
    assume Tmp_769 > 0;
    havoc Tmp_788;
    assume {:nonnull} Vcb_30 != 0;
    assume Vcb_30 > 0;
    havoc Tmp_784;
    assume {:nonnull} Tmp_784 != 0;
    assume Tmp_784 > 0;
    havoc Tmp_774;
    assume {:nonnull} Tmp_774 != 0;
    assume Tmp_774 > 0;
    assume {:nonnull} Tmp_788 != 0;
    assume Tmp_788 > 0;
    assume {:nonnull} IrpContext_42 != 0;
    assume IrpContext_42 > 0;
    call {:si_unique_call 795} ExRaiseStatus(-1073741662);
    goto L140;

  L140:
    Tmp_768 := ShareAccess_4;
    assume {:nonnull} DesiredAccess_4 != 0;
    assume DesiredAccess_4 > 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    call {:si_unique_call 796} boogieTmp := IoCheckShareAccess(Mem_T.INT4[DesiredAccess_4], Tmp_768, 0, 0, 0);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := boogieTmp;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] >= 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    call {:si_unique_call 797} boogieTmp := corral_nondet();
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := boogieTmp;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] != 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] != 264;
    assume {:nonnull} OplockPostIrp_1 != 0;
    assume OplockPostIrp_1 > 0;
    Mem_T.INT4[OplockPostIrp_1] := 1;
    goto L63;

  anon159_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] == 264;
    goto L152;

  L152:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    goto L159;

  L159:
    Tmp_772 := 0;
    goto L160;

  L160:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    assume {:nonnull} DesiredAccess_4 != 0;
    assume DesiredAccess_4 > 0;
    goto anon191_Then, anon191_Else;

  anon191_Else:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_4], 2) != 0;
    goto L163;

  L163:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    DecrementFcbOpenCount := 1;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    call {:si_unique_call 798} sdv_287 := corral_nondet();
    goto anon161_Then, anon161_Else;

  anon161_Else:
    assume {:partition} sdv_287 != 0;
    goto L170;

  L170:
    assume {:nonnull} FileObject_7 != 0;
    assume FileObject_7 > 0;
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    goto anon165_Then, anon165_Else;

  anon165_Else:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_777;
    assume {:nonnull} Tmp_777 != 0;
    assume Tmp_777 > 0;
    goto anon192_Then, anon192_Else;

  anon192_Else:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    goto anon166_Then, anon166_Else;

  anon166_Else:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_770;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_786;
    assume {:nonnull} Tmp_770 != 0;
    assume Tmp_770 > 0;
    assume {:nonnull} Tmp_786 != 0;
    assume Tmp_786 > 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    call {:si_unique_call 799} vslice_dummy_var_113 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon195_Then, anon195_Else;

  anon195_Else:
    assume {:partition} yogi_error == 1;
    goto L425;

  anon195_Then:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 800} ExReleaseResourceLite(0);
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    call {:si_unique_call 801} vslice_dummy_var_116 := corral_nondet();
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_782;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_764;
    assume {:nonnull} Tmp_764 != 0;
    assume Tmp_764 > 0;
    assume {:nonnull} Tmp_782 != 0;
    assume Tmp_782 > 0;
    goto L171;

  L171:
    goto anon164_Then, anon164_Else;

  anon164_Else:
    assume {:partition} CreateDisposition_3 == 1;
    goto L190;

  L190:
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:partition} NoEaKnowledge_4 != 0;
    assume {:nonnull} Vcb_30 != 0;
    assume Vcb_30 > 0;
    goto anon169_Then, anon169_Else;

  anon169_Else:
    call {:si_unique_call 802} FatGetDirentFromFcbOrDcb(IrpContext_42, Fcb_13, Dirent_9, DirentBcb_3);
    assume {:nonnull} Dirent_9 != 0;
    assume Dirent_9 > 0;
    havoc vslice_dummy_var_91;
    call {:si_unique_call 803} FatGetNeedEaCount(IrpContext_42, Vcb_30, vslice_dummy_var_91, NeedEaCount_1);
    goto anon193_Then, anon193_Else;

  anon193_Else:
    assume {:partition} yogi_error == 1;
    goto L425;

  anon193_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} DirentBcb_3 != 0;
    assume DirentBcb_3 > 0;
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:nonnull} DirentBcb_3 != 0;
    assume DirentBcb_3 > 0;
    goto L203;

  L203:
    assume {:nonnull} NeedEaCount_1 != 0;
    assume NeedEaCount_1 > 0;
    goto anon171_Then, anon171_Else;

  anon171_Else:
    assume {:partition} Mem_T.INT4[NeedEaCount_1] != 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := -1073741790;
    goto L63;

  anon171_Then:
    assume {:partition} Mem_T.INT4[NeedEaCount_1] == 0;
    goto L191;

  L191:
    call {:si_unique_call 804} UnwindCcb_4 := FatCreateCcb(IrpContext_42);
    call {:si_unique_call 805} FatSetFileObject(FileObject_7, 2, Fcb_13, UnwindCcb_4);
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_778;
    assume {:nonnull} FileObject_7 != 0;
    assume FileObject_7 > 0;
    assume {:nonnull} Tmp_778 != 0;
    assume Tmp_778 > 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto L63;

  anon170_Then:
    goto L203;

  anon169_Then:
    goto L191;

  anon168_Then:
    assume {:partition} NoEaKnowledge_4 == 0;
    goto L191;

  anon164_Then:
    assume {:partition} CreateDisposition_3 != 1;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:partition} CreateDisposition_3 != 3;
    goto anon172_Then, anon172_Else;

  anon172_Else:
    assume {:partition} CreateDisposition_3 == 0;
    goto L224;

  L224:
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    OldStatus := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)];
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    call {:si_unique_call 806} boogieTmp := FatCheckSystemSecurityAccess(IrpContext_42);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := boogieTmp;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon175_Then, anon175_Else;

  anon175_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] >= 0;
    call {:si_unique_call 807} structPtr888Iosb := FatSupersedeOrOverwriteFile(IrpContext_42, FileObject_7, Fcb_13, AllocationSize_4, EaBuffer_4, EaLength_4, FileAttributes_4, CreateDisposition_3, NoEaKnowledge_4);
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    assume {:nonnull} structPtr888Iosb != 0;
    assume structPtr888Iosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(structPtr888Iosb)];
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    assume {:nonnull} structPtr888Iosb != 0;
    assume structPtr888Iosb > 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    assume {:nonnull} structPtr888Iosb != 0;
    assume structPtr888Iosb > 0;
    goto anon194_Then, anon194_Else;

  anon194_Else:
    assume {:partition} yogi_error == 1;
    goto L425;

  anon194_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    goto anon176_Then, anon176_Else;

  anon176_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] == 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := OldStatus;
    goto L63;

  anon176_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] != 0;
    goto L63;

  anon175_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)];
    goto L63;

  anon172_Then:
    assume {:partition} CreateDisposition_3 != 0;
    goto anon173_Then, anon173_Else;

  anon173_Else:
    assume {:partition} CreateDisposition_3 == 4;
    goto L224;

  anon173_Then:
    assume {:partition} CreateDisposition_3 != 4;
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:partition} CreateDisposition_3 == 5;
    goto L224;

  anon174_Then:
    assume {:partition} CreateDisposition_3 != 5;
    call {:si_unique_call 808} KeBugCheckEx(35, 396318, CreateDisposition_3, 0, 0);
    goto L63;

  anon167_Then:
    assume {:partition} CreateDisposition_3 == 3;
    goto L190;

  anon166_Then:
    goto L171;

  anon192_Then:
    goto L171;

  anon165_Then:
    goto L171;

  anon163_Then:
    goto L171;

  anon161_Then:
    assume {:partition} sdv_287 == 0;
    goto anon162_Then, anon162_Else;

  anon162_Else:
    assume {:partition} DeleteOnClose_3 != 0;
    Tmp_765 := -1073741535;
    goto L240;

  L240:
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := Tmp_765;
    goto L63;

  anon162_Then:
    assume {:partition} DeleteOnClose_3 == 0;
    Tmp_765 := -1073741757;
    goto L240;

  anon191_Then:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_4], 2) == 0;
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} DeleteOnClose_3 == 0;
    goto L170;

  anon160_Then:
    assume {:partition} DeleteOnClose_3 != 0;
    goto L163;

  anon158_Then:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    call {:si_unique_call 809} sdv_295 := corral_nondet();
    goto anon177_Then, anon177_Else;

  anon177_Else:
    assume {:partition} sdv_295 != 0;
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    Tmp_783 := FileLock_unnamed_tag_69(Fcb_unnamed_tag_67(Specific__FCB(Fcb_13)));
    assume {:nonnull} Tmp_783 != 0;
    assume Tmp_783 > 0;
    goto anon196_Then, anon196_Else;

  anon196_Else:
    goto L245;

  L245:
    Tmp_763 := 2;
    goto L246;

  L246:
    Tmp_772 := Tmp_763;
    goto L160;

  anon196_Then:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_789;
    assume {:nonnull} Tmp_789 != 0;
    assume Tmp_789 > 0;
    goto anon197_Then, anon197_Else;

  anon197_Else:
    assume {:nonnull} Fcb_13 != 0;
    assume Fcb_13 > 0;
    havoc Tmp_790;
    assume {:nonnull} Tmp_790 != 0;
    assume Tmp_790 > 0;
    goto anon198_Then, anon198_Else;

  anon198_Else:
    Tmp_763 := 1;
    goto L246;

  anon198_Then:
    goto L245;

  anon197_Then:
    goto L245;

  anon177_Then:
    assume {:partition} sdv_295 == 0;
    goto L159;

  anon157_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] == 0;
    goto L152;

  anon156_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)];
    goto L63;

  anon180_Then:
    goto L140;

  anon181_Then:
    assume {:partition} BAND(FileAttributes_4, 4) == 0;
    goto L257;

  anon178_Then:
    assume {:partition} System_1 == 0;
    goto L259;

  anon190_Then:
    assume {:partition} Hidden_1 == 0;
    goto L255;

  anon189_Then:
    assume {:partition} Tmp_781 != 0;
    System_1 := 1;
    goto L371;

  anon188_Then:
    assume {:partition} Tmp_787 != 0;
    Hidden_1 := 1;
    goto L367;

  anon152_Then:
    assume {:partition} CreateDisposition_3 != 0;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} CreateDisposition_3 == 4;
    goto L250;

  anon154_Then:
    assume {:partition} CreateDisposition_3 != 4;
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} CreateDisposition_3 == 5;
    goto L250;

  anon155_Then:
    assume {:partition} CreateDisposition_3 != 5;
    goto L140;

  anon151_Then:
    assume {:partition} DeleteOnClose_3 == 0;
    goto L133;

  anon150_Then:
    assume {:partition} sdv_293 == 0;
    assume {:nonnull} Iosb != 0;
    assume Iosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] := -1073741790;
    goto L63;

  anon148_Then:
    assume {:partition} CreateDisposition_3 != 4;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} CreateDisposition_3 != 5;
    goto L127;

  anon149_Then:
    assume {:partition} CreateDisposition_3 == 5;
    goto L125;

  anon147_Then:
    assume {:partition} CreateDisposition_3 == 0;
    assume {:nonnull} DesiredAccess_4 != 0;
    assume DesiredAccess_4 > 0;
    AddedAccess_1 := BOR(AddedAccess_1, BAND(65536, BNOT(Mem_T.INT4[DesiredAccess_4])));
    assume {:nonnull} DesiredAccess_4 != 0;
    assume DesiredAccess_4 > 0;
    Mem_T.INT4[DesiredAccess_4] := BOR(Mem_T.INT4[DesiredAccess_4], 65536);
    goto L127;

  anon135_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb)] == 0;
    goto L53;

  anon133_Then:
    assume {:partition} sdv_286 == 0;
    goto L53;
}



procedure {:origName "FatCreateNewDirectory"} FatCreateNewDirectory(actual_IrpContext_43: int, actual_FileObject_8: int, actual_Vcb_31: int, actual_ParentDcb_5: int, actual_OemName_1: int, actual_UnicodeName_1: int, actual_DesiredAccess_5: int, actual_ShareAccess_5: int, actual_EaBuffer_5: int, actual_EaLength_5: int, actual_FileAttributes_5: int, actual_NoEaKnowledge_5: int, actual_DeleteOnClose_4: int) returns (SD7: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateNewDirectory"} FatCreateNewDirectory(actual_IrpContext_43: int, actual_FileObject_8: int, actual_Vcb_31: int, actual_ParentDcb_5: int, actual_OemName_1: int, actual_UnicodeName_1: int, actual_DesiredAccess_5: int, actual_ShareAccess_5: int, actual_EaBuffer_5: int, actual_EaLength_5: int, actual_FileAttributes_5: int, actual_NoEaKnowledge_5: int, actual_DeleteOnClose_4: int) returns (SD7: int)
{
  var {:scalar} i_10: int;
  var {:pointer} DirectoryFileObject_3: int;
  var {:pointer} ShortDirent_1: int;
  var {:scalar} Tmp_792: int;
  var {:pointer} Ccb_8: int;
  var {:scalar} Tmp_795: int;
  var {:pointer} Tmp_796: int;
  var {:scalar} Tmp_797: int;
  var {:scalar} Tmp_798: int;
  var {:scalar} DirentsInFirstPage_1: int;
  var {:scalar} Tmp_799: int;
  var {:pointer} Tmp_800: int;
  var {:pointer} Dirent_10: int;
  var {:scalar} Tmp_7: int;
  var {:scalar} Tmp_801: int;
  var {:pointer} SecondPageDirent_1: int;
  var {:scalar} Iosb_7: int;
  var {:dopa} {:scalar} AllLowerComponent_1: int;
  var {:scalar} Tmp_802: int;
  var {:scalar} BytesInFirstPage_1: int;
  var {:scalar} Tmp_803: int;
  var {:pointer} DirentBcb_4: int;
  var {:scalar} ShortName_2: int;
  var {:scalar} LocalAbnormalTermination_1: int;
  var {:scalar} ShortDirentByteOffset_1: int;
  var {:pointer} Dcb_4: int;
  var {:scalar} DirentsNeeded_1: int;
  var {:pointer} Tmp_804: int;
  var {:pointer} SecondPageBcb_1: int;
  var {:scalar} DirentFromPool_1: int;
  var {:dopa} {:scalar} EaHandle_2: int;
  var {:pointer} Tmp_805: int;
  var {:dopa} {:scalar} AllLowerExtension_1: int;
  var {:pointer} ShortNameBuffer_1: int;
  var {:pointer} FirstPageDirent_1: int;
  var {:scalar} SecondPageOffset_1: int;
  var {:scalar} Tmp_806: int;
  var {:pointer} sdv_308: int;
  var {:scalar} DirentByteOffset_3: int;
  var {:scalar} Tmp_807: int;
  var {:pointer} Tmp_808: int;
  var {:dopa} {:scalar} CreateLfn_1: int;
  var {:scalar} sdv_309: int;
  var {:pointer} Tmp_810: int;
  var {:pointer} IrpContext_43: int;
  var {:pointer} FileObject_8: int;
  var {:pointer} Vcb_31: int;
  var {:pointer} ParentDcb_5: int;
  var {:pointer} OemName_1: int;
  var {:pointer} UnicodeName_1: int;
  var {:pointer} DesiredAccess_5: int;
  var {:scalar} ShareAccess_5: int;
  var {:pointer} EaBuffer_5: int;
  var {:scalar} EaLength_5: int;
  var {:scalar} FileAttributes_5: int;
  var {:scalar} NoEaKnowledge_5: int;
  var {:scalar} DeleteOnClose_4: int;
  var vslice_dummy_var_117: int;
  var vslice_dummy_var_92: int;

  anon0:
    call {:si_unique_call 810} Dirent_10 := __HAVOC_malloc(4);
    call {:si_unique_call 811} Tmp_7 := __HAVOC_malloc(12);
    call {:si_unique_call 812} SecondPageDirent_1 := __HAVOC_malloc(4);
    call {:si_unique_call 813} Iosb_7 := __HAVOC_malloc(12);
    call {:si_unique_call 814} AllLowerComponent_1 := __HAVOC_malloc(4);
    call {:si_unique_call 815} DirentBcb_4 := __HAVOC_malloc(4);
    call {:si_unique_call 816} ShortName_2 := __HAVOC_malloc(12);
    call {:si_unique_call 817} SecondPageBcb_1 := __HAVOC_malloc(4);
    call {:si_unique_call 818} EaHandle_2 := __HAVOC_malloc(4);
    call {:si_unique_call 819} AllLowerExtension_1 := __HAVOC_malloc(4);
    call {:si_unique_call 820} CreateLfn_1 := __HAVOC_malloc(4);
    IrpContext_43 := actual_IrpContext_43;
    FileObject_8 := actual_FileObject_8;
    Vcb_31 := actual_Vcb_31;
    ParentDcb_5 := actual_ParentDcb_5;
    OemName_1 := actual_OemName_1;
    UnicodeName_1 := actual_UnicodeName_1;
    DesiredAccess_5 := actual_DesiredAccess_5;
    ShareAccess_5 := actual_ShareAccess_5;
    EaBuffer_5 := actual_EaBuffer_5;
    EaLength_5 := actual_EaLength_5;
    FileAttributes_5 := actual_FileAttributes_5;
    NoEaKnowledge_5 := actual_NoEaKnowledge_5;
    DeleteOnClose_4 := actual_DeleteOnClose_4;
    call {:si_unique_call 821} Tmp_805 := __HAVOC_malloc(44);
    call {:si_unique_call 822} ShortNameBuffer_1 := __HAVOC_malloc(48);
    call {:si_unique_call 823} Tmp_808 := __HAVOC_malloc(44);
    call {:si_unique_call 824} Tmp_810 := __HAVOC_malloc(44);
    Dcb_4 := 0;
    Ccb_8 := 0;
    assume {:nonnull} Dirent_10 != 0;
    assume Dirent_10 > 0;
    assume {:nonnull} DirentBcb_4 != 0;
    assume DirentBcb_4 > 0;
    assume {:nonnull} SecondPageBcb_1 != 0;
    assume SecondPageBcb_1 > 0;
    DirentFromPool_1 := 0;
    LocalAbnormalTermination_1 := 0;
    assume {:nonnull} ShortName_2 != 0;
    assume ShortName_2 > 0;
    assume {:nonnull} ShortName_2 != 0;
    assume ShortName_2 > 0;
    assume {:nonnull} ShortName_2 != 0;
    assume ShortName_2 > 0;
    assume {:nonnull} EaHandle_2 != 0;
    assume EaHandle_2 > 0;
    Mem_T.INT4[EaHandle_2] := 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:partition} NoEaKnowledge_5 != 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} EaLength_5 > 0;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_7)] := -1073741790;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_7)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_7)];
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    goto L1;

  L1:
    goto L447;

  L447:
    SD7 := Tmp_7;
    return;

  anon84_Then:
    assume {:partition} 0 >= EaLength_5;
    goto L38;

  L38:
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} DeleteOnClose_4 != 0;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} BAND(FileAttributes_5, 1) != 0;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_7)] := -1073741535;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_7)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_7)];
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    goto L1;

  anon85_Then:
    assume {:partition} BAND(FileAttributes_5, 1) == 0;
    goto L42;

  L42:
    call {:si_unique_call 825} FatSelectNames(IrpContext_43, ParentDcb_5, OemName_1, UnicodeName_1, ShortName_2, 0, AllLowerComponent_1, AllLowerExtension_1, CreateLfn_1);
    goto anon86_Then, anon86_Else;

  anon86_Else:
    goto L50;

  L50:
    assume {:nonnull} CreateLfn_1 != 0;
    assume CreateLfn_1 > 0;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_1] != 0;
    assume {:nonnull} UnicodeName_1 != 0;
    assume UnicodeName_1 > 0;
    havoc Tmp_803;
    goto L53;

  L53:
    DirentsNeeded_1 := Tmp_803;
    call {:si_unique_call 826} DirentByteOffset_3 := FatCreateNewDirent(IrpContext_43, ParentDcb_5, DirentsNeeded_1);
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon110_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    call {:si_unique_call 827} FatPrepareWriteDirectoryFile(IrpContext_43, ParentDcb_5, DirentByteOffset_3, 32, DirentBcb_4, Dirent_10, 0, 1, Status__IO_STATUS_BLOCK(Iosb_7));
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon111_Then:
    assume {:partition} yogi_error != 1;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} INTDIV(DirentByteOffset_3, 4096) != INTDIV(DirentByteOffset_3 + (DirentsNeeded_1 - 1) * 32, 4096);
    Tmp_807 := BAND(DirentByteOffset_3, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    SecondPageOffset_1 := Tmp_807 + 4096;
    BytesInFirstPage_1 := SecondPageOffset_1 - DirentByteOffset_3;
    DirentsInFirstPage_1 := INTDIV(BytesInFirstPage_1, 32);
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    call {:si_unique_call 828} FatPrepareWriteDirectoryFile(IrpContext_43, ParentDcb_5, SecondPageOffset_1, 32, SecondPageBcb_1, SecondPageDirent_1, 0, 1, Status__IO_STATUS_BLOCK(Iosb_7));
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon112_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Dirent_10 != 0;
    assume Dirent_10 > 0;
    havoc FirstPageDirent_1;
    Tmp_802 := DirentsNeeded_1 * 32;
    call {:si_unique_call 829} sdv_308 := ExAllocatePoolWithTag(17, Tmp_802, -999005882);
    assume {:nonnull} Dirent_10 != 0;
    assume Dirent_10 > 0;
    DirentFromPool_1 := 1;
    goto L157;

  L157:
    assume {:nonnull} Dirent_10 != 0;
    assume Dirent_10 > 0;
    havoc ShortDirent_1;
    ShortDirentByteOffset_1 := DirentByteOffset_3 + (DirentsNeeded_1 - 1) * 32;
    Tmp_797 := BOR(FileAttributes_5, 16);
    assume {:nonnull} CreateLfn_1 != 0;
    assume CreateLfn_1 > 0;
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_1] != 0;
    Tmp_804 := UnicodeName_1;
    goto L177;

  L177:
    assume {:nonnull} AllLowerComponent_1 != 0;
    assume AllLowerComponent_1 > 0;
    assume {:nonnull} AllLowerExtension_1 != 0;
    assume AllLowerExtension_1 > 0;
    call {:si_unique_call 830} FatConstructDirent(IrpContext_43, ShortDirent_1, ShortName_2, Mem_T.INT4[AllLowerComponent_1], Mem_T.INT4[AllLowerExtension_1], Tmp_804, Tmp_797, 1, 0);
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} DirentFromPool_1 != 0;
    call {:si_unique_call 831} sdv_RtlCopyMemory(0, 0, BytesInFirstPage_1);
    Tmp_795 := DirentsNeeded_1 * 32 - BytesInFirstPage_1;
    assume {:nonnull} Dirent_10 != 0;
    assume Dirent_10 > 0;
    call {:si_unique_call 832} sdv_RtlCopyMemory(0, 0, Tmp_795);
    assume {:nonnull} SecondPageDirent_1 != 0;
    assume SecondPageDirent_1 > 0;
    havoc ShortDirent_1;
    goto L181;

  L181:
    assume {:nonnull} CreateLfn_1 != 0;
    assume CreateLfn_1 > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_1] != 0;
    Tmp_800 := UnicodeName_1;
    goto L193;

  L193:
    call {:si_unique_call 833} Dcb_4 := FatCreateDcb(IrpContext_43, Vcb_31, ParentDcb_5, DirentByteOffset_3, ShortDirentByteOffset_1, ShortDirent_1, Tmp_800);
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon114_Then:
    assume {:partition} yogi_error != 1;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:partition} EaLength_5 > 0;
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    havoc vslice_dummy_var_92;
    call {:si_unique_call 834} FatCreateEa(IrpContext_43, vslice_dummy_var_92, EaBuffer_5, EaLength_5, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(Dcb_4))), EaHandle_2);
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon115_Then:
    assume {:partition} yogi_error != 1;
    goto L198;

  L198:
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    havoc Tmp_796;
    assume {:nonnull} Tmp_796 != 0;
    assume Tmp_796 > 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    goto L203;

  L203:
    call {:si_unique_call 835} FatInitializeDirectoryDirent(IrpContext_43, Dcb_4, ShortDirent_1);
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon117_Then:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 836} Ccb_8 := FatCreateCcb(IrpContext_43);
    call {:si_unique_call 837} FatSetFileObject(FileObject_8, 3, Dcb_4, Ccb_8);
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    goto anon92_Then, anon92_Else;

  anon92_Else:
    goto L217;

  L217:
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    goto anon93_Then, anon93_Else;

  anon93_Else:
    goto L221;

  L221:
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    havoc Tmp_806;
    call {:si_unique_call 838} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_806, 0, 0, 2, 1, 0);
    Tmp_792 := ShareAccess_5;
    assume {:nonnull} DesiredAccess_5 != 0;
    assume DesiredAccess_5 > 0;
    call {:si_unique_call 839} IoSetShareAccess(Mem_T.INT4[DesiredAccess_5], Tmp_792, 0, 0);
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    assume {:nonnull} Vcb_31 != 0;
    assume Vcb_31 > 0;
    assume {:nonnull} FileObject_8 != 0;
    assume FileObject_8 > 0;
    goto anon118_Then, anon118_Else;

  anon118_Else:
    goto L234;

  L234:
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} DeleteOnClose_4 != 0;
    assume {:nonnull} Ccb_8 != 0;
    assume Ccb_8 > 0;
    goto L235;

  L235:
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_7)] := 0;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    call {:si_unique_call 840} sdv_309 := sdv_AbnormalTermination();
    LocalAbnormalTermination_1 := sdv_309;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    assume {:partition} LocalAbnormalTermination_1 != 0;
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:partition} Ccb_8 != 0;
    call {:si_unique_call 841} FatDeleteCcb_Real(IrpContext_43, Ccb_8);
    goto L245;

  L245:
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} Dcb_4 == 0;
    assume {:nonnull} Dirent_10 != 0;
    assume Dirent_10 > 0;
    goto anon98_Then, anon98_Else;

  anon98_Else:
    i_10 := 0;
    goto L256;

  L256:
    call {:si_unique_call 842} i_10, Tmp_798, Tmp_799, Tmp_801, Tmp_805, Tmp_808, Tmp_810 := FatCreateNewDirectory_loop_L256(i_10, Tmp_798, DirentsInFirstPage_1, Tmp_799, Dirent_10, Tmp_801, SecondPageDirent_1, DirentsNeeded_1, SecondPageBcb_1, DirentFromPool_1, Tmp_805, FirstPageDirent_1, Tmp_808, Tmp_810);
    goto L256_last;

  L256_last:
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} DirentsNeeded_1 > i_10;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} DirentFromPool_1 != 0;
    assume {:nonnull} SecondPageBcb_1 != 0;
    assume SecondPageBcb_1 > 0;
    goto anon101_Then, anon101_Else;

  anon101_Else:
    goto L261;

  L261:
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} DirentsInFirstPage_1 > i_10;
    Tmp_798 := i_10;
    assume {:nonnull} FirstPageDirent_1 != 0;
    assume FirstPageDirent_1 > 0;
    havoc Tmp_808;
    assume {:nonnull} Tmp_808 != 0;
    assume Tmp_808 > 0;
    Mem_T.INT4[Tmp_808] := 229;
    goto L264;

  L264:
    i_10 := i_10 + 1;
    goto L264_dummy;

  L264_dummy:
    assume false;
    return;

  anon103_Then:
    assume {:partition} i_10 >= DirentsInFirstPage_1;
    Tmp_799 := i_10 - DirentsInFirstPage_1;
    assume {:nonnull} SecondPageDirent_1 != 0;
    assume SecondPageDirent_1 > 0;
    havoc Tmp_805;
    assume {:nonnull} Tmp_805 != 0;
    assume Tmp_805 > 0;
    Mem_T.INT4[Tmp_805] := 229;
    goto L264;

  anon101_Then:
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} i_10 != DirentsInFirstPage_1;
    goto L261;

  anon102_Then:
    assume {:partition} i_10 == DirentsInFirstPage_1;
    goto L243;

  L243:
    assume {:nonnull} DirentBcb_4 != 0;
    assume DirentBcb_4 > 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:nonnull} DirentBcb_4 != 0;
    assume DirentBcb_4 > 0;
    goto L266;

  L266:
    assume {:nonnull} SecondPageBcb_1 != 0;
    assume SecondPageBcb_1 > 0;
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:nonnull} SecondPageBcb_1 != 0;
    assume SecondPageBcb_1 > 0;
    goto L271;

  L271:
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} DirentFromPool_1 != 0;
    call {:si_unique_call 843} sdv_ExFreePool(0);
    goto L276;

  L276:
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} LocalAbnormalTermination_1 != 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:partition} Dcb_4 != 0;
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    havoc DirectoryFileObject_3;
    assume {:nonnull} IrpContext_43 != 0;
    assume IrpContext_43 > 0;
    call {:si_unique_call 844} FatUnpinRepinnedBcbs(IrpContext_43);
    assume {:nonnull} IrpContext_43 != 0;
    assume IrpContext_43 > 0;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    assume {:partition} DirectoryFileObject_3 != 0;
    call {:si_unique_call 845} FatSyncUninitializeCacheMap(IrpContext_43, DirectoryFileObject_3);
    goto L290;

  L290:
    call {:si_unique_call 846} FatTruncateFileAllocation(IrpContext_43, Dcb_4, 0);
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon121_Then:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 847} FatDeleteDirent#1(IrpContext_43, Dcb_4, 0, 1);
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon122_Then:
    assume {:partition} yogi_error != 1;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} DirectoryFileObject_3 != 0;
    assume {:nonnull} Dcb_4 != 0;
    assume Dcb_4 > 0;
    call {:si_unique_call 848} vslice_dummy_var_117 := sdv_ObDereferenceObject(0);
    goto L280;

  L280:
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_7)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_7)];
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    assume {:nonnull} Iosb_7 != 0;
    assume Iosb_7 > 0;
    assume {:nonnull} Tmp_7 != 0;
    assume Tmp_7 > 0;
    goto L1;

  anon108_Then:
    assume {:partition} DirectoryFileObject_3 == 0;
    call {:si_unique_call 849} FatDeleteFcb_Real(IrpContext_43, Dcb_4);
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:partition} yogi_error == 1;
    goto L447;

  anon123_Then:
    assume {:partition} yogi_error != 1;
    goto L280;

  anon120_Then:
    assume {:partition} DirectoryFileObject_3 == 0;
    goto L290;

  anon107_Then:
    assume {:partition} Dcb_4 == 0;
    goto L280;

  anon106_Then:
    assume {:partition} LocalAbnormalTermination_1 == 0;
    goto L280;

  anon105_Then:
    assume {:partition} DirentFromPool_1 == 0;
    goto L276;

  anon104_Then:
    goto L271;

  anon95_Then:
    goto L266;

  anon100_Then:
    assume {:partition} DirentFromPool_1 == 0;
    Tmp_801 := i_10;
    assume {:nonnull} Dirent_10 != 0;
    assume Dirent_10 > 0;
    havoc Tmp_810;
    assume {:nonnull} Tmp_810 != 0;
    assume Tmp_810 > 0;
    Mem_T.INT4[Tmp_810] := 229;
    goto L264;

  anon99_Then:
    assume {:partition} i_10 >= DirentsNeeded_1;
    goto L243;

  anon98_Then:
    goto L243;

  anon97_Then:
    assume {:partition} Dcb_4 != 0;
    goto L243;

  anon96_Then:
    assume {:partition} Ccb_8 == 0;
    goto L245;

  anon119_Then:
    assume {:partition} LocalAbnormalTermination_1 == 0;
    goto L243;

  anon94_Then:
    assume {:partition} DeleteOnClose_4 == 0;
    goto L235;

  anon118_Then:
    assume {:nonnull} Vcb_31 != 0;
    assume Vcb_31 > 0;
    goto L234;

  anon93_Then:
    call {:si_unique_call 850} FatSetFullFileNameInFcb#1(IrpContext_43, Dcb_4);
    goto L221;

  anon92_Then:
    call {:si_unique_call 851} FatSetFullNameInFcb(IrpContext_43, Dcb_4, UnicodeName_1);
    goto L217;

  anon116_Then:
    assume {:nonnull} EaHandle_2 != 0;
    assume EaHandle_2 > 0;
    assume {:nonnull} ShortDirent_1 != 0;
    assume ShortDirent_1 > 0;
    goto L203;

  anon91_Then:
    assume {:partition} 0 >= EaLength_5;
    goto L198;

  anon90_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_1] == 0;
    Tmp_800 := 0;
    goto L193;

  anon89_Then:
    assume {:partition} DirentFromPool_1 == 0;
    goto L181;

  anon113_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_1] == 0;
    Tmp_804 := 0;
    goto L177;

  anon88_Then:
    assume {:partition} INTDIV(DirentByteOffset_3, 4096) == INTDIV(DirentByteOffset_3 + (DirentsNeeded_1 - 1) * 32, 4096);
    goto L157;

  anon87_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_1] == 0;
    Tmp_803 := 1;
    goto L53;

  anon86_Then:
    assume {:nonnull} AllLowerComponent_1 != 0;
    assume AllLowerComponent_1 > 0;
    Mem_T.INT4[AllLowerComponent_1] := 0;
    assume {:nonnull} AllLowerExtension_1 != 0;
    assume AllLowerExtension_1 > 0;
    Mem_T.INT4[AllLowerExtension_1] := 0;
    assume {:nonnull} CreateLfn_1 != 0;
    assume CreateLfn_1 > 0;
    Mem_T.INT4[CreateLfn_1] := 0;
    goto L50;

  anon83_Then:
    assume {:partition} DeleteOnClose_4 == 0;
    goto L42;

  anon109_Then:
    assume {:partition} NoEaKnowledge_5 == 0;
    goto L38;
}



procedure {:origName "FatOpenVolume"} FatOpenVolume(actual_IrpContext_44: int, actual_FileObject_9: int, actual_Vcb_32: int, actual_DesiredAccess_6: int, actual_ShareAccess_6: int, actual_CreateDisposition_4: int) returns (SD6: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenVolume"} FatOpenVolume(actual_IrpContext_44: int, actual_FileObject_9: int, actual_Vcb_32: int, actual_DesiredAccess_6: int, actual_ShareAccess_6: int, actual_CreateDisposition_4: int) returns (SD6: int)
{
  var {:scalar} UnwindCounts: int;
  var {:scalar} Tmp_6: int;
  var {:scalar} Tmp_811: int;
  var {:scalar} sdv_310: int;
  var {:pointer} Tmp_812: int;
  var {:scalar} CleanedVolume: int;
  var {:scalar} sdv_312: int;
  var {:scalar} Status_6: int;
  var {:scalar} Iosb_8: int;
  var {:pointer} Tmp_814: int;
  var {:scalar} UnwindVolumeLock: int;
  var {:pointer} IrpSp_4: int;
  var {:scalar} Tmp_815: int;
  var {:pointer} UnwindCcb_5: int;
  var {:scalar} sdv_316: int;
  var {:scalar} Tmp_816: int;
  var {:scalar} sdv_320: int;
  var {:pointer} Tmp_817: int;
  var {:scalar} UnwindShareAccess_2: int;
  var {:pointer} Tmp_818: int;
  var {:scalar} Tmp_819: int;
  var {:pointer} IrpContext_44: int;
  var {:pointer} FileObject_9: int;
  var {:pointer} Vcb_32: int;
  var {:pointer} DesiredAccess_6: int;
  var {:scalar} ShareAccess_6: int;
  var {:scalar} CreateDisposition_4: int;
  var boogieTmp: int;
  var vslice_dummy_var_118: int;
  var vslice_dummy_var_119: int;
  var vslice_dummy_var_120: int;
  var vslice_dummy_var_121: int;
  var vslice_dummy_var_93: int;
  var vslice_dummy_var_94: int;
  var vslice_dummy_var_95: int;
  var vslice_dummy_var_96: int;

  anon0:
    call {:si_unique_call 852} Tmp_6 := __HAVOC_malloc(12);
    call {:si_unique_call 853} Iosb_8 := __HAVOC_malloc(12);
    IrpContext_44 := actual_IrpContext_44;
    FileObject_9 := actual_FileObject_9;
    Vcb_32 := actual_Vcb_32;
    DesiredAccess_6 := actual_DesiredAccess_6;
    ShareAccess_6 := actual_ShareAccess_6;
    CreateDisposition_4 := actual_CreateDisposition_4;
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    CleanedVolume := 0;
    UnwindShareAccess_2 := 0;
    UnwindCcb_5 := 0;
    UnwindCounts := 0;
    UnwindVolumeLock := 0;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} CreateDisposition_4 != 1;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} CreateDisposition_4 != 3;
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)] := -1073741790;
    goto L23;

  L23:
    call {:si_unique_call 854} sdv_312 := sdv_AbnormalTermination();
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} sdv_312 != 0;
    goto L28;

  L28:
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} UnwindCounts != 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    assume {:nonnull} FileObject_9 != 0;
    assume FileObject_9 > 0;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto L29;

  L29:
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} UnwindCcb_5 != 0;
    call {:si_unique_call 855} FatDeleteCcb_Real(IrpContext_44, UnwindCcb_5);
    goto L34;

  L34:
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} UnwindShareAccess_2 != 0;
    call {:si_unique_call 856} IoRemoveShareAccess(0, 0);
    goto L38;

  L38:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} UnwindVolumeLock != 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto L42;

  L42:
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    assume {:nonnull} Tmp_6 != 0;
    assume Tmp_6 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_6)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)];
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    assume {:nonnull} Tmp_6 != 0;
    assume Tmp_6 > 0;
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    assume {:nonnull} Tmp_6 != 0;
    assume Tmp_6 > 0;
    goto L236;

  L236:
    SD6 := Tmp_6;
    return;

  anon70_Then:
    assume {:partition} UnwindVolumeLock == 0;
    goto L42;

  anon69_Then:
    assume {:partition} UnwindShareAccess_2 == 0;
    goto L38;

  anon68_Then:
    assume {:partition} UnwindCcb_5 == 0;
    goto L34;

  anon89_Then:
    goto L29;

  anon67_Then:
    assume {:partition} UnwindCounts == 0;
    goto L29;

  anon65_Then:
    assume {:partition} sdv_312 == 0;
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)] >= 0;
    goto L42;

  anon66_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)];
    goto L28;

  anon64_Then:
    assume {:partition} CreateDisposition_4 == 3;
    goto L19;

  L19:
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} BAND(ShareAccess_6, 2) != 0;
    goto L45;

  L45:
    assume {:nonnull} DesiredAccess_6 != 0;
    assume DesiredAccess_6 > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_6], 7) != 0;
    call {:si_unique_call 857} sdv_316 := FatFlushVolume(IrpContext_44, Vcb_32, 1);
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} yogi_error == 1;
    goto L236;

  anon90_Then:
    assume {:partition} yogi_error != 1;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} sdv_316 >= 0;
    CleanedVolume := 1;
    goto L46;

  L46:
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} CleanedVolume != 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    call {:si_unique_call 858} sdv_320 := corral_nondet();
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} sdv_320 == 0;
    call {:si_unique_call 859} vslice_dummy_var_118 := KeCancelTimer(0);
    call {:si_unique_call 860} vslice_dummy_var_119 := KeRemoveQueueDpc(0);
    call {:si_unique_call 861} FatMarkVolume#1(IrpContext_44, Vcb_32, 0);
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    call {:si_unique_call 862} vslice_dummy_var_120 := FatToggleMediaEjectDisable(IrpContext_44, Vcb_32, 0);
    goto L72;

  L72:
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    Tmp_811 := ShareAccess_6;
    assume {:nonnull} DesiredAccess_6 != 0;
    assume DesiredAccess_6 > 0;
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    call {:si_unique_call 863} boogieTmp := IoCheckShareAccess(Mem_T.INT4[DesiredAccess_6], Tmp_811, 0, 0, 1);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)] := boogieTmp;
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)] >= 0;
    goto L102;

  L102:
    UnwindShareAccess_2 := 1;
    call {:si_unique_call 864} UnwindCcb_5 := FatCreateCcb(IrpContext_44);
    call {:si_unique_call 865} FatSetFileObject(FileObject_9, 4, Vcb_32, UnwindCcb_5);
    assume {:nonnull} FileObject_9 != 0;
    assume FileObject_9 > 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    assume {:nonnull} FileObject_9 != 0;
    assume FileObject_9 > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    goto L115;

  L115:
    UnwindCounts := 1;
    assume {:nonnull} FileObject_9 != 0;
    assume FileObject_9 > 0;
    assume {:nonnull} IrpContext_44 != 0;
    assume IrpContext_44 > 0;
    havoc vslice_dummy_var_93;
    call {:si_unique_call 866} IrpSp_4 := sdv_IoGetCurrentIrpStackLocation(vslice_dummy_var_93);
    assume {:nonnull} IrpSp_4 != 0;
    assume IrpSp_4 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    Tmp_819 := 1;
    goto L124;

  L124:
    Tmp_815 := Tmp_819;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    havoc Tmp_814;
    assume {:nonnull} IrpSp_4 != 0;
    assume IrpSp_4 > 0;
    Tmp_818 := Create_unnamed_tag_8(Parameters__IO_STACK_LOCATION(IrpSp_4));
    assume {:nonnull} Tmp_818 != 0;
    assume Tmp_818 > 0;
    havoc Tmp_812;
    assume {:nonnull} Tmp_812 != 0;
    assume Tmp_812 > 0;
    assume {:nonnull} Tmp_814 != 0;
    assume Tmp_814 > 0;
    havoc vslice_dummy_var_94;
    havoc vslice_dummy_var_95;
    call {:si_unique_call 867} Status_6 := FatExplicitDeviceAccessGranted(IrpContext_44, vslice_dummy_var_94, vslice_dummy_var_95, Tmp_815);
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} Status_6 >= 0;
    assume {:nonnull} UnwindCcb_5 != 0;
    assume UnwindCcb_5 > 0;
    goto L130;

  L130:
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)] := 0;
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    goto L23;

  anon82_Then:
    assume {:partition} 0 > Status_6;
    goto L130;

  anon81_Then:
    assume {:nonnull} IrpContext_44 != 0;
    assume IrpContext_44 > 0;
    havoc Tmp_817;
    assume {:nonnull} Tmp_817 != 0;
    assume Tmp_817 > 0;
    havoc Tmp_819;
    goto L124;

  anon91_Then:
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto L115;

  anon80_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)];
    goto L23;

  anon75_Then:
    Tmp_816 := ShareAccess_6;
    assume {:nonnull} DesiredAccess_6 != 0;
    assume DesiredAccess_6 > 0;
    call {:si_unique_call 868} IoSetShareAccess(Mem_T.INT4[DesiredAccess_6], Tmp_816, 0, 0);
    goto L102;

  anon79_Then:
    goto L72;

  anon92_Then:
    goto L72;

  anon78_Then:
    assume {:partition} sdv_320 != 0;
    goto L72;

  anon77_Then:
    goto L72;

  anon76_Then:
    goto L72;

  anon73_Then:
    assume {:partition} CleanedVolume == 0;
    goto L72;

  anon74_Then:
    assume {:partition} 0 > sdv_316;
    goto L46;

  anon72_Then:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_6], 7) == 0;
    goto L46;

  anon63_Then:
    assume {:partition} BAND(ShareAccess_6, 2) == 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} BAND(ShareAccess_6, 4) == 0;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} BAND(ShareAccess_6, 1) != 0;
    goto L141;

  L141:
    call {:si_unique_call 869} vslice_dummy_var_121 := FatFlushFat(IrpContext_44, Vcb_32);
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    havoc vslice_dummy_var_96;
    call {:si_unique_call 870} FatPurgeReferencedFileObjects(IrpContext_44, vslice_dummy_var_96, 1);
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} yogi_error == 1;
    goto L236;

  anon93_Then:
    assume {:partition} yogi_error != 1;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} BAND(ShareAccess_6, 1) != 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)] := -1073741757;
    goto L23;

  anon86_Then:
    goto L150;

  L150:
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    UnwindVolumeLock := 1;
    CleanedVolume := 1;
    goto L46;

  anon84_Then:
    assume {:partition} BAND(ShareAccess_6, 1) == 0;
    assume {:nonnull} Vcb_32 != 0;
    assume Vcb_32 > 0;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)] := -1073741757;
    goto L23;

  anon85_Then:
    goto L150;

  anon83_Then:
    assume {:partition} BAND(ShareAccess_6, 1) == 0;
    call {:si_unique_call 871} sdv_310 := FatIsHandleCountZero(IrpContext_44, Vcb_32);
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} sdv_310 == 0;
    assume {:nonnull} Iosb_8 != 0;
    assume Iosb_8 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_8)] := -1073741757;
    goto L23;

  anon87_Then:
    assume {:partition} sdv_310 != 0;
    goto L141;

  anon71_Then:
    assume {:partition} BAND(ShareAccess_6, 4) != 0;
    goto L45;

  anon88_Then:
    assume {:partition} CreateDisposition_4 == 1;
    goto L19;
}



procedure {:origName "FatOpenRootDcb"} FatOpenRootDcb(actual_IrpContext_45: int, actual_FileObject_10: int, actual_Vcb_33: int, actual_DesiredAccess_7: int, actual_ShareAccess_7: int, actual_CreateDisposition_5: int) returns (SD5: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenRootDcb"} FatOpenRootDcb(actual_IrpContext_45: int, actual_FileObject_10: int, actual_Vcb_33: int, actual_DesiredAccess_7: int, actual_ShareAccess_7: int, actual_CreateDisposition_5: int) returns (SD5: int)
{
  var {:scalar} UnwindCounts_1: int;
  var {:pointer} RootDcb: int;
  var {:scalar} RootDcbAcquired: int;
  var {:scalar} Iosb_9: int;
  var {:scalar} Tmp_820: int;
  var {:pointer} UnwindCcb_6: int;
  var {:scalar} sdv_325: int;
  var {:scalar} sdv_326: int;
  var {:scalar} Tmp_5: int;
  var {:scalar} UnwindShareAccess_3: int;
  var {:scalar} Tmp_821: int;
  var {:pointer} IrpContext_45: int;
  var {:pointer} FileObject_10: int;
  var {:pointer} Vcb_33: int;
  var {:pointer} DesiredAccess_7: int;
  var {:scalar} ShareAccess_7: int;
  var {:scalar} CreateDisposition_5: int;
  var boogieTmp: int;
  var vslice_dummy_var_122: int;
  var vslice_dummy_var_97: int;

  anon0:
    call {:si_unique_call 872} Iosb_9 := __HAVOC_malloc(12);
    call {:si_unique_call 873} Tmp_5 := __HAVOC_malloc(12);
    IrpContext_45 := actual_IrpContext_45;
    FileObject_10 := actual_FileObject_10;
    Vcb_33 := actual_Vcb_33;
    DesiredAccess_7 := actual_DesiredAccess_7;
    ShareAccess_7 := actual_ShareAccess_7;
    CreateDisposition_5 := actual_CreateDisposition_5;
    UnwindShareAccess_3 := 0;
    UnwindCcb_6 := 0;
    UnwindCounts_1 := 0;
    RootDcbAcquired := 0;
    assume {:nonnull} Vcb_33 != 0;
    assume Vcb_33 > 0;
    havoc RootDcb;
    call {:si_unique_call 874} vslice_dummy_var_122 := FatAcquireExclusiveFcb(IrpContext_45, RootDcb);
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} yogi_error == 1;
    goto L141;

  L141:
    SD5 := Tmp_5;
    return;

  anon36_Then:
    assume {:partition} yogi_error != 1;
    RootDcbAcquired := 1;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} CreateDisposition_5 != 1;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} CreateDisposition_5 != 3;
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_9)] := -1073741790;
    goto L25;

  L25:
    call {:si_unique_call 875} sdv_326 := sdv_AbnormalTermination();
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} sdv_326 != 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} UnwindCounts_1 != 0;
    assume {:nonnull} RootDcb != 0;
    assume RootDcb > 0;
    assume {:nonnull} RootDcb != 0;
    assume RootDcb > 0;
    assume {:nonnull} Vcb_33 != 0;
    assume Vcb_33 > 0;
    assume {:nonnull} FileObject_10 != 0;
    assume FileObject_10 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:nonnull} Vcb_33 != 0;
    assume Vcb_33 > 0;
    goto L31;

  L31:
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} UnwindCcb_6 != 0;
    call {:si_unique_call 876} FatDeleteCcb_Real(IrpContext_45, UnwindCcb_6);
    goto L37;

  L37:
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} UnwindShareAccess_3 != 0;
    call {:si_unique_call 877} IoRemoveShareAccess(0, 0);
    goto L29;

  L29:
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} RootDcbAcquired != 0;
    call {:si_unique_call 878} ExReleaseResourceLite(0);
    goto L44;

  L44:
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    assume {:nonnull} Tmp_5 != 0;
    assume Tmp_5 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_5)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_9)];
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    assume {:nonnull} Tmp_5 != 0;
    assume Tmp_5 > 0;
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    assume {:nonnull} Tmp_5 != 0;
    assume Tmp_5 > 0;
    goto L141;

  anon29_Then:
    assume {:partition} RootDcbAcquired == 0;
    goto L44;

  anon32_Then:
    assume {:partition} UnwindShareAccess_3 == 0;
    goto L29;

  anon31_Then:
    assume {:partition} UnwindCcb_6 == 0;
    goto L37;

  anon38_Then:
    goto L31;

  anon30_Then:
    assume {:partition} UnwindCounts_1 == 0;
    goto L31;

  anon28_Then:
    assume {:partition} sdv_326 == 0;
    goto L29;

  anon27_Then:
    assume {:partition} CreateDisposition_5 == 3;
    goto L19;

  L19:
    assume {:nonnull} RootDcb != 0;
    assume RootDcb > 0;
    havoc vslice_dummy_var_97;
    call {:si_unique_call 879} sdv_325 := FatCheckFileAccess(IrpContext_45, vslice_dummy_var_97, DesiredAccess_7);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} sdv_325 != 0;
    assume {:nonnull} RootDcb != 0;
    assume RootDcb > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    Tmp_821 := ShareAccess_7;
    assume {:nonnull} DesiredAccess_7 != 0;
    assume DesiredAccess_7 > 0;
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    call {:si_unique_call 880} boogieTmp := IoCheckShareAccess(Mem_T.INT4[DesiredAccess_7], Tmp_821, 0, 0, 1);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_9)] := boogieTmp;
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_9)] >= 0;
    goto L81;

  L81:
    UnwindShareAccess_3 := 1;
    call {:si_unique_call 881} UnwindCcb_6 := FatCreateCcb(IrpContext_45);
    call {:si_unique_call 882} FatSetFileObject(FileObject_10, 3, RootDcb, UnwindCcb_6);
    assume {:nonnull} RootDcb != 0;
    assume RootDcb > 0;
    assume {:nonnull} RootDcb != 0;
    assume RootDcb > 0;
    assume {:nonnull} Vcb_33 != 0;
    assume Vcb_33 > 0;
    assume {:nonnull} FileObject_10 != 0;
    assume FileObject_10 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    goto L94;

  L94:
    UnwindCounts_1 := 1;
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_9)] := 0;
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    goto L25;

  anon39_Then:
    assume {:nonnull} Vcb_33 != 0;
    assume Vcb_33 > 0;
    goto L94;

  anon35_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_9)];
    goto L25;

  anon34_Then:
    Tmp_820 := ShareAccess_7;
    assume {:nonnull} DesiredAccess_7 != 0;
    assume DesiredAccess_7 > 0;
    call {:si_unique_call 883} IoSetShareAccess(Mem_T.INT4[DesiredAccess_7], Tmp_820, 0, 0);
    goto L81;

  anon33_Then:
    assume {:partition} sdv_325 == 0;
    assume {:nonnull} Iosb_9 != 0;
    assume Iosb_9 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_9)] := -1073741790;
    goto L25;

  anon37_Then:
    assume {:partition} CreateDisposition_5 == 1;
    goto L19;
}



procedure {:origName "FatOpenExistingDirectory"} FatOpenExistingDirectory(actual_IrpContext_46: int, actual_FileObject_11: int, actual_Vcb_34: int, actual_ParentDcb_6: int, actual_Dirent_11: int, actual_LfnByteOffset_2: int, actual_DirentByteOffset_4: int, actual_Lfn_5: int, actual_DesiredAccess_8: int, actual_ShareAccess_8: int, actual_CreateDisposition_6: int, actual_NoEaKnowledge_6: int, actual_DeleteOnClose_5: int) returns (SD4: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenExistingDirectory"} FatOpenExistingDirectory(actual_IrpContext_46: int, actual_FileObject_11: int, actual_Vcb_34: int, actual_ParentDcb_6: int, actual_Dirent_11: int, actual_LfnByteOffset_2: int, actual_DirentByteOffset_4: int, actual_Lfn_5: int, actual_DesiredAccess_8: int, actual_ShareAccess_8: int, actual_CreateDisposition_6: int, actual_NoEaKnowledge_6: int, actual_DeleteOnClose_5: int) returns (SD4: int)
{
  var {:dopa} {:scalar} NeedEaCount_2: int;
  var {:scalar} Tmp_823: int;
  var {:pointer} UnwindDcb: int;
  var {:scalar} Iosb_10: int;
  var {:scalar} Tmp_4: int;
  var {:pointer} UnwindCcb_7: int;
  var {:scalar} sdv_330: int;
  var {:pointer} Dcb_5: int;
  var {:scalar} sdv_331: int;
  var {:pointer} IrpContext_46: int;
  var {:pointer} FileObject_11: int;
  var {:pointer} Vcb_34: int;
  var {:pointer} ParentDcb_6: int;
  var {:pointer} Dirent_11: int;
  var {:scalar} LfnByteOffset_2: int;
  var {:scalar} DirentByteOffset_4: int;
  var {:pointer} Lfn_5: int;
  var {:pointer} DesiredAccess_8: int;
  var {:scalar} ShareAccess_8: int;
  var {:scalar} CreateDisposition_6: int;
  var {:scalar} NoEaKnowledge_6: int;
  var vslice_dummy_var_98: int;

  anon0:
    call {:si_unique_call 884} NeedEaCount_2 := __HAVOC_malloc(4);
    call {:si_unique_call 885} Iosb_10 := __HAVOC_malloc(12);
    call {:si_unique_call 886} Tmp_4 := __HAVOC_malloc(12);
    IrpContext_46 := actual_IrpContext_46;
    FileObject_11 := actual_FileObject_11;
    Vcb_34 := actual_Vcb_34;
    ParentDcb_6 := actual_ParentDcb_6;
    Dirent_11 := actual_Dirent_11;
    LfnByteOffset_2 := actual_LfnByteOffset_2;
    DirentByteOffset_4 := actual_DirentByteOffset_4;
    Lfn_5 := actual_Lfn_5;
    DesiredAccess_8 := actual_DesiredAccess_8;
    ShareAccess_8 := actual_ShareAccess_8;
    CreateDisposition_6 := actual_CreateDisposition_6;
    NoEaKnowledge_6 := actual_NoEaKnowledge_6;
    UnwindDcb := 0;
    UnwindCcb_7 := 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} NoEaKnowledge_6 != 0;
    assume {:nonnull} Vcb_34 != 0;
    assume Vcb_34 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    call {:si_unique_call 887} FatGetNeedEaCount(IrpContext_46, Vcb_34, Dirent_11, NeedEaCount_2);
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} yogi_error == 1;
    goto L107;

  L107:
    SD4 := Tmp_4;
    return;

  anon39_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} NeedEaCount_2 != 0;
    assume NeedEaCount_2 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} Mem_T.INT4[NeedEaCount_2] != 0;
    assume {:nonnull} Iosb_10 != 0;
    assume Iosb_10 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_10)] := -1073741790;
    goto L31;

  L31:
    call {:si_unique_call 888} sdv_330 := sdv_AbnormalTermination();
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} sdv_330 != 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} UnwindDcb != 0;
    call {:si_unique_call 889} FatDeleteFcb_Real(IrpContext_46, UnwindDcb);
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} yogi_error == 1;
    goto L107;

  anon36_Then:
    assume {:partition} yogi_error != 1;
    goto L37;

  L37:
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} UnwindCcb_7 != 0;
    call {:si_unique_call 890} FatDeleteCcb_Real(IrpContext_46, UnwindCcb_7);
    goto L35;

  L35:
    assume {:nonnull} Iosb_10 != 0;
    assume Iosb_10 > 0;
    assume {:nonnull} Tmp_4 != 0;
    assume Tmp_4 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_4)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_10)];
    assume {:nonnull} Iosb_10 != 0;
    assume Iosb_10 > 0;
    assume {:nonnull} Tmp_4 != 0;
    assume Tmp_4 > 0;
    assume {:nonnull} Iosb_10 != 0;
    assume Iosb_10 > 0;
    assume {:nonnull} Tmp_4 != 0;
    assume Tmp_4 > 0;
    goto L107;

  anon32_Then:
    assume {:partition} UnwindCcb_7 == 0;
    goto L35;

  anon31_Then:
    assume {:partition} UnwindDcb == 0;
    goto L37;

  anon30_Then:
    assume {:partition} sdv_330 == 0;
    goto L35;

  anon29_Then:
    assume {:partition} Mem_T.INT4[NeedEaCount_2] == 0;
    goto L10;

  L10:
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} CreateDisposition_6 != 1;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} CreateDisposition_6 != 3;
    assume {:nonnull} Iosb_10 != 0;
    assume Iosb_10 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_10)] := -1073741771;
    goto L31;

  anon33_Then:
    assume {:partition} CreateDisposition_6 == 3;
    goto L44;

  L44:
    assume {:nonnull} Dirent_11 != 0;
    assume Dirent_11 > 0;
    havoc vslice_dummy_var_98;
    call {:si_unique_call 891} sdv_331 := FatCheckFileAccess(IrpContext_46, vslice_dummy_var_98, DesiredAccess_8);
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} sdv_331 != 0;
    call {:si_unique_call 892} UnwindDcb := FatCreateDcb(IrpContext_46, Vcb_34, ParentDcb_6, LfnByteOffset_2, DirentByteOffset_4, Dirent_11, Lfn_5);
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} yogi_error == 1;
    goto L107;

  anon37_Then:
    assume {:partition} yogi_error != 1;
    Dcb_5 := UnwindDcb;
    Tmp_823 := ShareAccess_8;
    assume {:nonnull} DesiredAccess_8 != 0;
    assume DesiredAccess_8 > 0;
    call {:si_unique_call 893} IoSetShareAccess(Mem_T.INT4[DesiredAccess_8], Tmp_823, 0, 0);
    call {:si_unique_call 894} UnwindCcb_7 := FatCreateCcb(IrpContext_46);
    call {:si_unique_call 895} FatSetFileObject(FileObject_11, 3, Dcb_5, UnwindCcb_7);
    assume {:nonnull} Dcb_5 != 0;
    assume Dcb_5 > 0;
    assume {:nonnull} Dcb_5 != 0;
    assume Dcb_5 > 0;
    assume {:nonnull} Vcb_34 != 0;
    assume Vcb_34 > 0;
    assume {:nonnull} FileObject_11 != 0;
    assume FileObject_11 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    goto L73;

  L73:
    assume {:nonnull} Iosb_10 != 0;
    assume Iosb_10 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_10)] := 0;
    assume {:nonnull} Iosb_10 != 0;
    assume Iosb_10 > 0;
    goto L31;

  anon38_Then:
    assume {:nonnull} Vcb_34 != 0;
    assume Vcb_34 > 0;
    goto L73;

  anon34_Then:
    assume {:partition} sdv_331 == 0;
    assume {:nonnull} Iosb_10 != 0;
    assume Iosb_10 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_10)] := -1073741790;
    goto L31;

  anon27_Then:
    assume {:partition} CreateDisposition_6 == 1;
    goto L44;

  anon28_Then:
    goto L10;

  anon35_Then:
    assume {:partition} NoEaKnowledge_6 == 0;
    goto L10;
}



procedure {:origName "FatOpenExistingDcb"} FatOpenExistingDcb(actual_IrpContext_47: int, actual_FileObject_12: int, actual_Vcb_35: int, actual_Dcb_6: int, actual_DesiredAccess_9: int, actual_ShareAccess_9: int, actual_CreateDisposition_7: int, actual_NoEaKnowledge_7: int, actual_DeleteOnClose_6: int) returns (SD3: int);
  modifies alloc, Mem_T.INT4, yogi_error, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenExistingDcb"} FatOpenExistingDcb(actual_IrpContext_47: int, actual_FileObject_12: int, actual_Vcb_35: int, actual_Dcb_6: int, actual_DesiredAccess_9: int, actual_ShareAccess_9: int, actual_CreateDisposition_7: int, actual_NoEaKnowledge_7: int, actual_DeleteOnClose_6: int) returns (SD3: int)
{
  var {:scalar} DcbAcquired_1: int;
  var {:dopa} {:scalar} NeedEaCount_3: int;
  var {:pointer} Ccb_9: int;
  var {:scalar} Tmp_825: int;
  var {:pointer} Dirent_12: int;
  var {:scalar} Iosb_11: int;
  var {:pointer} DirentBcb_5: int;
  var {:pointer} UnwindCcb_8: int;
  var {:scalar} sdv_336: int;
  var {:pointer} Tmp_826: int;
  var {:scalar} sdv_338: int;
  var {:scalar} UnwindShareAccess_4: int;
  var {:pointer} Tmp_827: int;
  var {:scalar} Tmp_3: int;
  var {:scalar} Tmp_829: int;
  var {:pointer} IrpContext_47: int;
  var {:pointer} FileObject_12: int;
  var {:pointer} Vcb_35: int;
  var {:pointer} Dcb_6: int;
  var {:pointer} DesiredAccess_9: int;
  var {:scalar} ShareAccess_9: int;
  var {:scalar} CreateDisposition_7: int;
  var {:scalar} NoEaKnowledge_7: int;
  var {:scalar} DeleteOnClose_6: int;
  var boogieTmp: int;
  var vslice_dummy_var_123: int;
  var vslice_dummy_var_99: int;
  var vslice_dummy_var_100: int;

  anon0:
    call {:si_unique_call 896} NeedEaCount_3 := __HAVOC_malloc(4);
    call {:si_unique_call 897} Dirent_12 := __HAVOC_malloc(4);
    call {:si_unique_call 898} Iosb_11 := __HAVOC_malloc(12);
    call {:si_unique_call 899} DirentBcb_5 := __HAVOC_malloc(4);
    call {:si_unique_call 900} Tmp_3 := __HAVOC_malloc(12);
    IrpContext_47 := actual_IrpContext_47;
    FileObject_12 := actual_FileObject_12;
    Vcb_35 := actual_Vcb_35;
    Dcb_6 := actual_Dcb_6;
    DesiredAccess_9 := actual_DesiredAccess_9;
    ShareAccess_9 := actual_ShareAccess_9;
    CreateDisposition_7 := actual_CreateDisposition_7;
    NoEaKnowledge_7 := actual_NoEaKnowledge_7;
    DeleteOnClose_6 := actual_DeleteOnClose_6;
    assume {:nonnull} DirentBcb_5 != 0;
    assume DirentBcb_5 > 0;
    UnwindShareAccess_4 := 0;
    UnwindCcb_8 := 0;
    DcbAcquired_1 := 0;
    call {:si_unique_call 901} vslice_dummy_var_123 := FatAcquireExclusiveFcb(IrpContext_47, Dcb_6);
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} yogi_error == 1;
    goto L175;

  L175:
    SD3 := Tmp_3;
    return;

  anon58_Then:
    assume {:partition} yogi_error != 1;
    DcbAcquired_1 := 1;
    Tmp_826 := Dcb_6;
    assume {:nonnull} Tmp_826 != 0;
    assume Tmp_826 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} Mem_T.INT4[Tmp_826] == 1284;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} DeleteOnClose_6 != 0;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)] := -1073741535;
    goto L22;

  L22:
    assume {:nonnull} DirentBcb_5 != 0;
    assume DirentBcb_5 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:nonnull} DirentBcb_5 != 0;
    assume DirentBcb_5 > 0;
    goto L23;

  L23:
    call {:si_unique_call 902} sdv_336 := sdv_AbnormalTermination();
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} sdv_336 != 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} UnwindCcb_8 != 0;
    call {:si_unique_call 903} FatDeleteCcb_Real(IrpContext_47, UnwindCcb_8);
    goto L33;

  L33:
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} UnwindShareAccess_4 != 0;
    call {:si_unique_call 904} IoRemoveShareAccess(0, 0);
    goto L31;

  L31:
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} DcbAcquired_1 != 0;
    call {:si_unique_call 905} ExReleaseResourceLite(0);
    goto L40;

  L40:
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    assume {:nonnull} Tmp_3 != 0;
    assume Tmp_3 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Tmp_3)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)];
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    assume {:nonnull} Tmp_3 != 0;
    assume Tmp_3 > 0;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    assume {:nonnull} Tmp_3 != 0;
    assume Tmp_3 > 0;
    goto L175;

  anon47_Then:
    assume {:partition} DcbAcquired_1 == 0;
    goto L40;

  anon49_Then:
    assume {:partition} UnwindShareAccess_4 == 0;
    goto L31;

  anon48_Then:
    assume {:partition} UnwindCcb_8 == 0;
    goto L33;

  anon46_Then:
    assume {:partition} sdv_336 == 0;
    goto L31;

  anon45_Then:
    goto L23;

  anon44_Then:
    assume {:partition} DeleteOnClose_6 == 0;
    goto L18;

  L18:
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} NoEaKnowledge_7 != 0;
    Tmp_827 := Dcb_6;
    assume {:nonnull} Tmp_827 != 0;
    assume Tmp_827 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} Mem_T.INT4[Tmp_827] != 1284;
    assume {:nonnull} Vcb_35 != 0;
    assume Vcb_35 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    call {:si_unique_call 906} FatGetDirentFromFcbOrDcb(IrpContext_47, Dcb_6, Dirent_12, DirentBcb_5);
    assume {:nonnull} Dirent_12 != 0;
    assume Dirent_12 > 0;
    havoc vslice_dummy_var_99;
    call {:si_unique_call 907} FatGetNeedEaCount(IrpContext_47, Vcb_35, vslice_dummy_var_99, NeedEaCount_3);
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} yogi_error == 1;
    goto L175;

  anon63_Then:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} DirentBcb_5 != 0;
    assume DirentBcb_5 > 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:nonnull} DirentBcb_5 != 0;
    assume DirentBcb_5 > 0;
    goto L76;

  L76:
    assume {:nonnull} NeedEaCount_3 != 0;
    assume NeedEaCount_3 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} Mem_T.INT4[NeedEaCount_3] != 0;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)] := -1073741790;
    goto L22;

  anon53_Then:
    assume {:partition} Mem_T.INT4[NeedEaCount_3] == 0;
    goto L44;

  L44:
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} CreateDisposition_7 != 1;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} CreateDisposition_7 != 3;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)] := -1073741771;
    goto L22;

  anon54_Then:
    assume {:partition} CreateDisposition_7 == 3;
    goto L83;

  L83:
    assume {:nonnull} Dcb_6 != 0;
    assume Dcb_6 > 0;
    havoc vslice_dummy_var_100;
    call {:si_unique_call 908} sdv_338 := FatCheckFileAccess(IrpContext_47, vslice_dummy_var_100, DesiredAccess_9);
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} sdv_338 != 0;
    assume {:nonnull} Dcb_6 != 0;
    assume Dcb_6 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    Tmp_825 := ShareAccess_9;
    assume {:nonnull} DesiredAccess_9 != 0;
    assume DesiredAccess_9 > 0;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    call {:si_unique_call 909} boogieTmp := IoCheckShareAccess(Mem_T.INT4[DesiredAccess_9], Tmp_825, 0, 0, 1);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)] := boogieTmp;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)] >= 0;
    goto L100;

  L100:
    UnwindShareAccess_4 := 1;
    call {:si_unique_call 910} UnwindCcb_8 := FatCreateCcb(IrpContext_47);
    call {:si_unique_call 911} FatSetFileObject(FileObject_12, 3, Dcb_6, UnwindCcb_8);
    assume {:nonnull} Dcb_6 != 0;
    assume Dcb_6 > 0;
    assume {:nonnull} Dcb_6 != 0;
    assume Dcb_6 > 0;
    assume {:nonnull} Vcb_35 != 0;
    assume Vcb_35 > 0;
    assume {:nonnull} FileObject_12 != 0;
    assume FileObject_12 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    goto L114;

  L114:
    assume {:nonnull} FileObject_12 != 0;
    assume FileObject_12 > 0;
    havoc Ccb_9;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} DeleteOnClose_6 != 0;
    assume {:nonnull} Ccb_9 != 0;
    assume Ccb_9 > 0;
    goto L116;

  L116:
    assume {:nonnull} Dcb_6 != 0;
    assume Dcb_6 > 0;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)] := 0;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    goto L22;

  anon62_Then:
    assume {:partition} DeleteOnClose_6 == 0;
    goto L116;

  anon61_Then:
    assume {:nonnull} Vcb_35 != 0;
    assume Vcb_35 > 0;
    goto L114;

  anon57_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)];
    goto L22;

  anon56_Then:
    Tmp_829 := ShareAccess_9;
    assume {:nonnull} DesiredAccess_9 != 0;
    assume DesiredAccess_9 > 0;
    call {:si_unique_call 912} IoSetShareAccess(Mem_T.INT4[DesiredAccess_9], Tmp_829, 0, 0);
    goto L100;

  anon55_Then:
    assume {:partition} sdv_338 == 0;
    assume {:nonnull} Iosb_11 != 0;
    assume Iosb_11 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_11)] := -1073741790;
    goto L22;

  anon50_Then:
    assume {:partition} CreateDisposition_7 == 1;
    goto L83;

  anon52_Then:
    goto L76;

  anon51_Then:
    goto L44;

  anon60_Then:
    assume {:partition} Mem_T.INT4[Tmp_827] == 1284;
    goto L44;

  anon43_Then:
    assume {:partition} NoEaKnowledge_7 == 0;
    goto L44;

  anon59_Then:
    assume {:partition} Mem_T.INT4[Tmp_826] != 1284;
    goto L18;
}



procedure {:origName "sdv_InsertTailList"} sdv_InsertTailList(actual_sdv_561: int, actual_sdv_562: int) returns (Tmp_956: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_InsertTailList"} sdv_InsertTailList(actual_sdv_561: int, actual_sdv_562: int) returns (Tmp_956: int)
{
  var {:scalar} sdv_563: int;

  anon0:
    call {:si_unique_call 913} sdv_563 := __HAVOC_malloc(4);
    call {:si_unique_call 914} Tmp_956 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_956 != 0;
    assume Tmp_956 > 0;
    assume {:nonnull} sdv_563 != 0;
    assume sdv_563 > 0;
    Mem_T.INT4[Tmp_956] := Mem_T.INT4[sdv_563];
    return;
}



procedure {:origName "FatSetBasicInfo"} FatSetBasicInfo(actual_IrpContext_48: int, actual_Irp_3: int, actual_Fcb_14: int, actual_Ccb_10: int) returns (Tmp_1008: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} Tmp_1008 == -1073741811 || Tmp_1008 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetBasicInfo"} FatSetBasicInfo(actual_IrpContext_48: int, actual_Irp_3: int, actual_Fcb_14: int, actual_Ccb_10: int) returns (Tmp_1008: int)
{
  var {:scalar} LargeCreationTime: int;
  var {:scalar} LastAccessTime: int;
  var {:pointer} Tmp_1009: int;
  var {:pointer} Tmp_1010: int;
  var {:pointer} Tmp_1011: int;
  var {:scalar} LastAccessDate: int;
  var {:scalar} CreationTime: int;
  var {:dopa} {:scalar} CreationMSec: int;
  var {:scalar} sdv_667: int;
  var {:scalar} ModifyCreation: int;
  var {:pointer} Dirent_13: int;
  var {:scalar} Status_7: int;
  var {:scalar} LastWriteTime: int;
  var {:scalar} FatLocalDecThirtyOne1979: int;
  var {:pointer} Buffer: int;
  var {:pointer} DirentBcb_6: int;
  var {:scalar} LargeLastAccessTime: int;
  var {:pointer} Tmp_1012: int;
  var {:scalar} ModifyLastWrite: int;
  var {:scalar} sdv_668: int;
  var {:scalar} LargeLastWriteTime: int;
  var {:scalar} ModifyLastAccess: int;
  var {:scalar} Attributes: int;
  var {:scalar} sdv_669: int;
  var {:pointer} sdv_670: int;
  var {:pointer} sdv_671: int;
  var {:pointer} Tmp_1014: int;
  var {:scalar} NotifyFilter_1: int;
  var {:pointer} Tmp_1017: int;
  var {:scalar} Tmp_1018: int;
  var {:scalar} FatLocalJanOne1980: int;
  var {:pointer} Tmp_1019: int;
  var {:pointer} Tmp_1020: int;
  var {:pointer} IrpContext_48: int;
  var {:pointer} Irp_3: int;
  var {:pointer} Fcb_14: int;
  var {:pointer} Ccb_10: int;
  var boogieTmp: int;
  var vslice_dummy_var_101: int;
  var vslice_dummy_var_102: int;

  anon0:
    call {:si_unique_call 915} LargeCreationTime := __HAVOC_malloc(20);
    call {:si_unique_call 916} LastAccessTime := __HAVOC_malloc(24);
    call {:si_unique_call 917} LastAccessDate := __HAVOC_malloc(12);
    call {:si_unique_call 918} CreationTime := __HAVOC_malloc(24);
    call {:si_unique_call 919} CreationMSec := __HAVOC_malloc(4);
    call {:si_unique_call 920} Dirent_13 := __HAVOC_malloc(4);
    call {:si_unique_call 921} LastWriteTime := __HAVOC_malloc(24);
    call {:si_unique_call 922} FatLocalDecThirtyOne1979 := __HAVOC_malloc(20);
    call {:si_unique_call 923} DirentBcb_6 := __HAVOC_malloc(4);
    call {:si_unique_call 924} LargeLastAccessTime := __HAVOC_malloc(20);
    call {:si_unique_call 925} LargeLastWriteTime := __HAVOC_malloc(20);
    call {:si_unique_call 926} FatLocalJanOne1980 := __HAVOC_malloc(20);
    IrpContext_48 := actual_IrpContext_48;
    Irp_3 := actual_Irp_3;
    Fcb_14 := actual_Fcb_14;
    Ccb_10 := actual_Ccb_10;
    ModifyCreation := 0;
    ModifyLastWrite := 0;
    ModifyLastAccess := 0;
    NotifyFilter_1 := 0;
    assume {:nonnull} Irp_3 != 0;
    assume Irp_3 > 0;
    havoc Buffer;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:nonnull} Ccb_10 != 0;
    assume Ccb_10 > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto L26;

  L26:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:nonnull} Ccb_10 != 0;
    assume Ccb_10 > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto L29;

  L29:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:nonnull} Ccb_10 != 0;
    assume Ccb_10 > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto L32;

  L32:
    assume {:nonnull} DirentBcb_6 != 0;
    assume DirentBcb_6 > 0;
    Status_7 := 0;
    call {:si_unique_call 927} FatGetDirentFromFcbOrDcb(IrpContext_48, Fcb_14, Dirent_13, DirentBcb_6);
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    call {:si_unique_call 928} sdv_667 := FatNtTimeToFatTime(IrpContext_48, LargeCreationTime, 0, CreationTime, CreationMSec);
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} sdv_667 != 0;
    goto L61;

  L61:
    ModifyCreation := 1;
    goto L53;

  L53:
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    call {:si_unique_call 929} sdv_668 := FatNtTimeToFatTime(IrpContext_48, LargeLastAccessTime, 1, LastAccessTime, 0);
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} sdv_668 != 0;
    goto L82;

  L82:
    assume {:nonnull} LastAccessDate != 0;
    assume LastAccessDate > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastAccessDate != 0;
    assume LastAccessDate > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastAccessDate != 0;
    assume LastAccessDate > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    ModifyLastAccess := 1;
    goto L74;

  L74:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} ModifyLastAccess != 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    ModifyLastWrite := 1;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    goto L89;

  L89:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    havoc Attributes;
    Tmp_1010 := Fcb_14;
    assume {:nonnull} Tmp_1010 != 0;
    assume Tmp_1010 > 0;
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} Mem_T.INT4[Tmp_1010] == 1282;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon86_Then, anon86_Else;

  anon86_Else:
    Status_7 := -1073741811;
    goto L68;

  L68:
    assume {:nonnull} DirentBcb_6 != 0;
    assume DirentBcb_6 > 0;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:nonnull} DirentBcb_6 != 0;
    assume DirentBcb_6 > 0;
    goto L69;

  L69:
    Tmp_1008 := Status_7;
    return;

  anon73_Then:
    goto L69;

  anon86_Then:
    goto L112;

  L112:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    Tmp_1019 := Fcb_14;
    assume {:nonnull} Tmp_1019 != 0;
    assume Tmp_1019 > 0;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} Mem_T.INT4[Tmp_1019] == 1283;
    Status_7 := -1073741811;
    goto L68;

  anon94_Then:
    assume {:partition} Mem_T.INT4[Tmp_1019] != 1283;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    call {:si_unique_call 930} sdv_671 := sdv_IoGetCurrentIrpStackLocation(Irp_3);
    assume {:nonnull} sdv_671 != 0;
    assume sdv_671 > 0;
    havoc Tmp_1020;
    assume {:nonnull} sdv_671 != 0;
    assume sdv_671 > 0;
    havoc Tmp_1012;
    assume {:nonnull} Tmp_1012 != 0;
    assume Tmp_1012 > 0;
    assume {:nonnull} Tmp_1020 != 0;
    assume Tmp_1020 > 0;
    goto L124;

  L124:
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    NotifyFilter_1 := BOR(NotifyFilter_1, 4);
    goto L107;

  L107:
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} ModifyCreation != 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} CreationMSec != 0;
    assume CreationMSec > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    havoc Mem_T.INT4;
    NotifyFilter_1 := BOR(NotifyFilter_1, 64);
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} Ccb_10 != 0;
    assume Ccb_10 > 0;
    goto L131;

  L131:
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} ModifyLastAccess != 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastAccessDate != 0;
    assume LastAccessDate > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastAccessDate != 0;
    assume LastAccessDate > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastAccessDate != 0;
    assume LastAccessDate > 0;
    NotifyFilter_1 := BOR(NotifyFilter_1, 32);
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} Ccb_10 != 0;
    assume Ccb_10 > 0;
    goto L138;

  L138:
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} ModifyLastWrite != 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    NotifyFilter_1 := BOR(NotifyFilter_1, 16);
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} Ccb_10 != 0;
    assume Ccb_10 > 0;
    goto L150;

  L150:
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} NotifyFilter_1 != 0;
    Tmp_1017 := Fcb_14;
    assume {:nonnull} Tmp_1017 != 0;
    assume Tmp_1017 > 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:partition} Mem_T.INT4[Tmp_1017] == 1282;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    havoc Tmp_1011;
    assume {:nonnull} Tmp_1011 != 0;
    assume Tmp_1011 > 0;
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:nonnull} Dirent_13 != 0;
    assume Dirent_13 > 0;
    call {:si_unique_call 931} boogieTmp := corral_nondet();
    goto L157;

  L157:
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    goto L165;

  L165:
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    havoc Tmp_1018;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    call {:si_unique_call 932} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_1018, 0, 0, NotifyFilter_1, 3, 0);
    assume {:nonnull} DirentBcb_6 != 0;
    assume DirentBcb_6 > 0;
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    havoc vslice_dummy_var_101;
    havoc vslice_dummy_var_102;
    call {:si_unique_call 933} FatSetDirtyBcb#1(IrpContext_48, vslice_dummy_var_101, vslice_dummy_var_102, 1);
    goto L68;

  anon91_Then:
    call {:si_unique_call 934} FatSetFullFileNameInFcb#1(IrpContext_48, Fcb_14);
    goto L165;

  anon96_Then:
    goto L157;

  anon95_Then:
    assume {:partition} Mem_T.INT4[Tmp_1017] != 1282;
    goto L157;

  anon90_Then:
    assume {:partition} NotifyFilter_1 == 0;
    goto L68;

  anon89_Then:
    assume {:partition} ModifyLastWrite == 0;
    goto L150;

  anon88_Then:
    assume {:partition} ModifyLastAccess == 0;
    goto L138;

  anon85_Then:
    assume {:partition} ModifyCreation == 0;
    goto L131;

  anon87_Then:
    assume {:nonnull} Fcb_14 != 0;
    assume Fcb_14 > 0;
    call {:si_unique_call 935} sdv_670 := sdv_IoGetCurrentIrpStackLocation(Irp_3);
    assume {:nonnull} sdv_670 != 0;
    assume sdv_670 > 0;
    havoc Tmp_1009;
    assume {:nonnull} sdv_670 != 0;
    assume sdv_670 > 0;
    havoc Tmp_1014;
    assume {:nonnull} Tmp_1009 != 0;
    assume Tmp_1009 > 0;
    assume {:nonnull} Tmp_1014 != 0;
    assume Tmp_1014 > 0;
    goto L124;

  anon93_Then:
    assume {:partition} Mem_T.INT4[Tmp_1010] != 1282;
    Attributes := BOR(Attributes, 16);
    goto L112;

  anon79_Then:
    goto L107;

  anon81_Then:
    goto L91;

  L91:
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} Buffer != 0;
    assume Buffer > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    call {:si_unique_call 936} sdv_669 := FatNtTimeToFatTime(IrpContext_48, LargeLastWriteTime, 1, LastWriteTime, 0);
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} sdv_669 != 0;
    goto L101;

  L101:
    ModifyLastWrite := 1;
    goto L89;

  anon82_Then:
    assume {:partition} sdv_669 == 0;
    assume {:nonnull} FatLocalDecThirtyOne1979 != 0;
    assume FatLocalDecThirtyOne1979 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} LastWriteTime != 0;
    assume LastWriteTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastWriteTime != 0;
    assume LargeLastWriteTime > 0;
    goto L101;

  anon84_Then:
    goto L102;

  L102:
    Status_7 := -1073741811;
    goto L68;

  anon83_Then:
    goto L102;

  anon80_Then:
    assume {:partition} ModifyLastAccess == 0;
    goto L91;

  anon74_Then:
    goto L89;

  anon76_Then:
    assume {:partition} sdv_668 == 0;
    assume {:nonnull} FatLocalDecThirtyOne1979 != 0;
    assume FatLocalDecThirtyOne1979 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} LastAccessTime != 0;
    assume LastAccessTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeLastAccessTime != 0;
    assume LargeLastAccessTime > 0;
    goto L82;

  anon78_Then:
    goto L84;

  L84:
    Status_7 := -1073741811;
    goto L68;

  anon77_Then:
    goto L84;

  anon75_Then:
    goto L74;

  anon68_Then:
    goto L74;

  anon70_Then:
    assume {:partition} sdv_667 == 0;
    assume {:nonnull} FatLocalDecThirtyOne1979 != 0;
    assume FatLocalDecThirtyOne1979 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} CreationTime != 0;
    assume CreationTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} FatLocalJanOne1980 != 0;
    assume FatLocalJanOne1980 > 0;
    assume {:nonnull} LargeCreationTime != 0;
    assume LargeCreationTime > 0;
    assume {:nonnull} CreationMSec != 0;
    assume CreationMSec > 0;
    Mem_T.INT4[CreationMSec] := 0;
    goto L61;

  anon72_Then:
    goto L62;

  L62:
    Status_7 := -1073741811;
    goto L68;

  anon71_Then:
    goto L62;

  anon69_Then:
    goto L53;

  anon67_Then:
    goto L53;

  anon66_Then:
    goto L32;

  anon65_Then:
    goto L29;

  anon92_Then:
    goto L26;
}



procedure {:origName "FatSetRenameInfo"} FatSetRenameInfo(actual_IrpContext_49: int, actual_Irp_4: int, actual_Vcb_36: int, actual_Fcb_15: int, actual_Ccb_11: int) returns (Tmp_1021: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetRenameInfo"} FatSetRenameInfo(actual_IrpContext_49: int, actual_Irp_4: int, actual_Vcb_36: int, actual_Fcb_15: int, actual_Ccb_11: int) returns (Tmp_1021: int)
{
  var {:scalar} NewOemName: int;
  var {:pointer} Links: int;
  var {:pointer} sdv_672: int;
  var {:scalar} DeleteTarget: int;
  var {:scalar} HaveTunneledInformation_1: int;
  var {:pointer} Tmp_1022: int;
  var {:scalar} DeleteSourceDirent: int;
  var {:scalar} ReplaceIfExists: int;
  var {:scalar} OldName: int;
  var {:pointer} UniTunneledLongNameBuffer_1: int;
  var {:pointer} UniTunneledShortNameBuffer_1: int;
  var {:pointer} BatchOplockFcb: int;
  var {:scalar} InvalidateFcbOnRaise: int;
  var {:scalar} Tmp_1027: int;
  var {:dopa} {:scalar} Status_8: int;
  var {:pointer} Tmp_1029: int;
  var {:pointer} SecondPageDirent_2: int;
  var {:scalar} TargetLfn: int;
  var {:dopa} {:scalar} AllLowerComponent_2: int;
  var {:pointer} Tmp_1030: int;
  var {:scalar} Tmp_1031: int;
  var {:pointer} Buffer_1: int;
  var {:scalar} BytesInFirstPage_2: int;
  var {:pointer} IrpSp_5: int;
  var {:scalar} Tmp_1035: int;
  var {:scalar} sdv_679: int;
  var {:scalar} Tmp_1036: int;
  var {:scalar} NewName: int;
  var {:scalar} Tmp_1037: int;
  var {:pointer} TargetDcb: int;
  var {:scalar} Tmp_1038: int;
  var {:scalar} Tmp_1039: int;
  var {:pointer} Tmp_1040: int;
  var {:scalar} Tmp_1041: int;
  var {:pointer} sdv_682: int;
  var {:dopa} {:scalar} TargetDirentOffset: int;
  var {:scalar} Tmp_1042: int;
  var {:scalar} sdv_684: int;
  var {:scalar} sdv_685: int;
  var {:scalar} Tmp_1043: int;
  var {:scalar} sdv_686: int;
  var {:pointer} TargetDirentBcb: int;
  var {:scalar} ContinueWithRename: int;
  var {:pointer} TempFcb: int;
  var {:scalar} OldOemName: int;
  var {:pointer} NewDirentBcb: int;
  var {:scalar} NewDirentFromPool: int;
  var {:pointer} Tmp_1044: int;
  var {:pointer} Tmp_1045: int;
  var {:pointer} Tmp_1046: int;
  var {:pointer} Tmp_1047: int;
  var {:scalar} sdv_688: int;
  var {:pointer} DotDotDirent: int;
  var {:pointer} Tmp_1048: int;
  var {:pointer} Tmp_1049: int;
  var {:pointer} ShortDirent_2: int;
  var {:pointer} OldDirent: int;
  var {:scalar} ShortDirentOffset: int;
  var {:scalar} sdv_689: int;
  var {:pointer} OldParentDcb: int;
  var {:pointer} Tmp_1051: int;
  var {:pointer} UnicodeBuffer: int;
  var {:pointer} TargetDirent: int;
  var {:scalar} RenamedAcrossDirectories: int;
  var {:scalar} Tmp_1052: int;
  var {:scalar} SourceDirent: int;
  var {:scalar} Tmp_1053: int;
  var {:scalar} sdv_691: int;
  var {:pointer} TargetCcb: int;
  var {:pointer} TargetVcb: int;
  var {:scalar} BatchOplockCount: int;
  var {:pointer} sdv_692: int;
  var {:pointer} OemNameBuffer: int;
  var {:scalar} Tmp_1054: int;
  var {:scalar} NewOffset: int;
  var {:scalar} UsingTunneledLfn_1: int;
  var {:pointer} FileObject_13: int;
  var {:pointer} OldDirentBcb: int;
  var {:scalar} TargetLfnOffset: int;
  var {:scalar} sdv_693: int;
  var {:scalar} NotifyAction: int;
  var {:pointer} Tmp_1055: int;
  var {:scalar} sdv_696: int;
  var {:scalar} CaseOnlyRename: int;
  var {:scalar} sdv_698: int;
  var {:pointer} NewDirent: int;
  var {:pointer} SecondPageBcb_2: int;
  var {:pointer} Tmp_1057: int;
  var {:pointer} Tmp_1058: int;
  var {:dopa} {:scalar} AllLowerExtension_2: int;
  var {:scalar} LocalCcb_1: int;
  var {:scalar} SecondPageOffset_2: int;
  var {:pointer} Tmp_1059: int;
  var {:scalar} DirentsRequired: int;
  var {:pointer} SourceCcb: int;
  var {:scalar} UniTunneledShortName_1: int;
  var {:scalar} OldUpcasedName: int;
  var {:scalar} sdv_702: int;
  var {:scalar} TunneledCreationTime_1: int;
  var {:scalar} Tmp_1061: int;
  var {:scalar} NewUpcasedName: int;
  var {:dopa} {:scalar} CreateLfn_2: int;
  var {:pointer} TargetFileObject: int;
  var {:scalar} UniTunneledLongName_1: int;
  var {:pointer} DotDotBcb: int;
  var {:pointer} IrpContext_49: int;
  var {:pointer} Irp_4: int;
  var {:pointer} Vcb_36: int;
  var {:pointer} Fcb_15: int;
  var {:pointer} Ccb_11: int;
  var boogieTmp: int;
  var vslice_dummy_var_124: int;
  var vslice_dummy_var_125: int;
  var vslice_dummy_var_126: int;
  var vslice_dummy_var_127: int;
  var vslice_dummy_var_128: int;
  var vslice_dummy_var_129: int;
  var vslice_dummy_var_130: int;
  var vslice_dummy_var_131: int;
  var vslice_dummy_var_103: int;
  var vslice_dummy_var_104: int;
  var vslice_dummy_var_105: int;
  var vslice_dummy_var_106: int;
  var vslice_dummy_var_107: int;
  var vslice_dummy_var_108: int;
  var vslice_dummy_var_109: int;
  var vslice_dummy_var_110: int;
  var vslice_dummy_var_111: int;
  var vslice_dummy_var_112: int;
  var vslice_dummy_var_113: int;
  var vslice_dummy_var_114: int;
  var vslice_dummy_var_115: int;
  var vslice_dummy_var_116: int;
  var vslice_dummy_var_117: int;
  var vslice_dummy_var_118: int;

  anon0:
    call {:si_unique_call 937} NewOemName := __HAVOC_malloc(12);
    call {:si_unique_call 938} OldName := __HAVOC_malloc(12);
    call {:si_unique_call 939} Status_8 := __HAVOC_malloc(4);
    call {:si_unique_call 940} SecondPageDirent_2 := __HAVOC_malloc(4);
    call {:si_unique_call 941} TargetLfn := __HAVOC_malloc(12);
    call {:si_unique_call 942} AllLowerComponent_2 := __HAVOC_malloc(4);
    call {:si_unique_call 943} vslice_dummy_var_124 := __HAVOC_malloc(20);
    call {:si_unique_call 944} NewName := __HAVOC_malloc(12);
    call {:si_unique_call 945} Tmp_1037 := __HAVOC_malloc(12);
    call {:si_unique_call 946} TargetDcb := __HAVOC_malloc(4);
    call {:si_unique_call 947} TargetDirentOffset := __HAVOC_malloc(4);
    call {:si_unique_call 948} TargetDirentBcb := __HAVOC_malloc(4);
    call {:si_unique_call 949} vslice_dummy_var_125 := __HAVOC_malloc(20);
    call {:si_unique_call 950} OldOemName := __HAVOC_malloc(12);
    call {:si_unique_call 951} NewDirentBcb := __HAVOC_malloc(4);
    call {:si_unique_call 952} DotDotDirent := __HAVOC_malloc(4);
    call {:si_unique_call 953} OldDirent := __HAVOC_malloc(4);
    call {:si_unique_call 954} TargetDirent := __HAVOC_malloc(4);
    call {:si_unique_call 955} SourceDirent := __HAVOC_malloc(92);
    call {:si_unique_call 956} TargetCcb := __HAVOC_malloc(4);
    call {:si_unique_call 957} TargetVcb := __HAVOC_malloc(4);
    call {:si_unique_call 958} OldDirentBcb := __HAVOC_malloc(4);
    call {:si_unique_call 959} NewDirent := __HAVOC_malloc(4);
    call {:si_unique_call 960} SecondPageBcb_2 := __HAVOC_malloc(4);
    call {:si_unique_call 961} vslice_dummy_var_126 := __HAVOC_malloc(20);
    call {:si_unique_call 962} AllLowerExtension_2 := __HAVOC_malloc(4);
    call {:si_unique_call 963} LocalCcb_1 := __HAVOC_malloc(88);
    call {:si_unique_call 964} UniTunneledShortName_1 := __HAVOC_malloc(12);
    call {:si_unique_call 965} OldUpcasedName := __HAVOC_malloc(12);
    call {:si_unique_call 966} TunneledCreationTime_1 := __HAVOC_malloc(20);
    call {:si_unique_call 967} NewUpcasedName := __HAVOC_malloc(12);
    call {:si_unique_call 968} CreateLfn_2 := __HAVOC_malloc(4);
    call {:si_unique_call 969} UniTunneledLongName_1 := __HAVOC_malloc(12);
    call {:si_unique_call 970} DotDotBcb := __HAVOC_malloc(4);
    IrpContext_49 := actual_IrpContext_49;
    Irp_4 := actual_Irp_4;
    Vcb_36 := actual_Vcb_36;
    Fcb_15 := actual_Fcb_15;
    Ccb_11 := actual_Ccb_11;
    call {:si_unique_call 971} UniTunneledLongNameBuffer_1 := __HAVOC_malloc(104);
    call {:si_unique_call 972} UniTunneledShortNameBuffer_1 := __HAVOC_malloc(48);
    call {:si_unique_call 973} OemNameBuffer := __HAVOC_malloc(192);
    UsingTunneledLfn_1 := 0;
    InvalidateFcbOnRaise := 0;
    CaseOnlyRename := 0;
    ContinueWithRename := 0;
    DeleteSourceDirent := 0;
    DeleteTarget := 0;
    NewDirentFromPool := 0;
    RenamedAcrossDirectories := 0;
    assume {:nonnull} DotDotBcb != 0;
    assume DotDotBcb > 0;
    assume {:nonnull} NewDirentBcb != 0;
    assume NewDirentBcb > 0;
    assume {:nonnull} OldDirentBcb != 0;
    assume OldDirentBcb > 0;
    assume {:nonnull} SecondPageBcb_2 != 0;
    assume SecondPageBcb_2 > 0;
    assume {:nonnull} TargetDirentBcb != 0;
    assume TargetDirentBcb > 0;
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    assume {:nonnull} OldOemName != 0;
    assume OldOemName > 0;
    assume {:nonnull} OldOemName != 0;
    assume OldOemName > 0;
    assume {:nonnull} OldOemName != 0;
    assume OldOemName > 0;
    call {:si_unique_call 974} sdv_692 := ExAllocatePoolWithTag(17, 2080, -294362810);
    UnicodeBuffer := sdv_692;
    assume {:nonnull} NewUpcasedName != 0;
    assume NewUpcasedName > 0;
    assume {:nonnull} NewUpcasedName != 0;
    assume NewUpcasedName > 0;
    assume {:nonnull} NewUpcasedName != 0;
    assume NewUpcasedName > 0;
    assume {:nonnull} OldName != 0;
    assume OldName > 0;
    assume {:nonnull} OldName != 0;
    assume OldName > 0;
    assume {:nonnull} OldName != 0;
    assume OldName > 0;
    assume {:nonnull} OldUpcasedName != 0;
    assume OldUpcasedName > 0;
    assume {:nonnull} OldUpcasedName != 0;
    assume OldUpcasedName > 0;
    assume {:nonnull} OldUpcasedName != 0;
    assume OldUpcasedName > 0;
    assume {:nonnull} TargetLfn != 0;
    assume TargetLfn > 0;
    assume {:nonnull} TargetLfn != 0;
    assume TargetLfn > 0;
    assume {:nonnull} TargetLfn != 0;
    assume TargetLfn > 0;
    assume {:nonnull} UniTunneledShortName_1 != 0;
    assume UniTunneledShortName_1 > 0;
    assume {:nonnull} UniTunneledShortName_1 != 0;
    assume UniTunneledShortName_1 > 0;
    assume {:nonnull} UniTunneledShortName_1 != 0;
    assume UniTunneledShortName_1 > 0;
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    assume {:nonnull} OldOemName != 0;
    assume OldOemName > 0;
    havoc Tmp_1027;
    call {:si_unique_call 975} sdv_RtlCopyMemory(0, 0, Tmp_1027);
    call {:si_unique_call 976} IrpSp_5 := sdv_IoGetCurrentIrpStackLocation(Irp_4);
    assume {:nonnull} IrpSp_5 != 0;
    assume IrpSp_5 > 0;
    havoc FileObject_13;
    assume {:nonnull} FileObject_13 != 0;
    assume FileObject_13 > 0;
    havoc SourceCcb;
    assume {:nonnull} IrpSp_5 != 0;
    assume IrpSp_5 > 0;
    havoc TargetFileObject;
    assume {:nonnull} IrpSp_5 != 0;
    assume IrpSp_5 > 0;
    havoc ReplaceIfExists;
    call {:si_unique_call 977} sdv_RtlZeroMemory(0, 44);
    Tmp_1058 := Fcb_15;
    assume {:nonnull} Tmp_1058 != 0;
    assume Tmp_1058 > 0;
    goto anon276_Then, anon276_Else;

  anon276_Else:
    assume {:partition} Mem_T.INT4[Tmp_1058] == 1284;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741811;
    goto L123;

  L123:
    goto anon203_Then, anon203_Else;

  anon203_Else:
    assume {:partition} ContinueWithRename != 0;
    goto L127;

  L127:
    goto anon204_Then, anon204_Else;

  anon204_Else:
    assume {:partition} ContinueWithRename != 0;
    goto anon205_Then, anon205_Else;

  anon205_Else:
    assume {:partition} RenamedAcrossDirectories != 0;
    goto L131;

  L131:
    NotifyAction := 2;
    goto L132;

  L132:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto anon207_Then, anon207_Else;

  anon207_Else:
    goto L136;

  L136:
    Tmp_1055 := Fcb_15;
    assume {:nonnull} Tmp_1055 != 0;
    assume Tmp_1055 > 0;
    goto anon277_Then, anon277_Else;

  anon277_Else:
    assume {:partition} Mem_T.INT4[Tmp_1055] == 1282;
    Tmp_1054 := 1;
    goto L139;

  L139:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    havoc Tmp_1039;
    call {:si_unique_call 978} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_1039, 0, 0, Tmp_1054, NotifyAction, 0);
    call {:si_unique_call 979} FatGetDirentFromFcbOrDcb(IrpContext_49, Fcb_15, OldDirent, OldDirentBcb);
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    havoc vslice_dummy_var_103;
    Mem_T.INT4[CreationMSec__PACKED_DIRENT(SourceDirent)] := vslice_dummy_var_103;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} OldDirent != 0;
    assume OldDirent > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    call {:si_unique_call 980} FatTunnelFcbOrDcb(Fcb_15, SourceCcb);
    InvalidateFcbOnRaise := 1;
    goto anon278_Then, anon278_Else;

  anon278_Else:
    assume {:partition} DeleteSourceDirent != 0;
    call {:si_unique_call 981} FatDeleteDirent#1(IrpContext_49, Fcb_15, 0, 0);
    goto anon279_Then, anon279_Else;

  anon279_Else:
    assume {:partition} yogi_error != 1;
    goto L203;

  L203:
    goto anon208_Then, anon208_Else;

  anon208_Else:
    assume {:partition} DeleteTarget != 0;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    assume {:nonnull} TargetDirent != 0;
    assume TargetDirent > 0;
    assume {:nonnull} TargetDirentOffset != 0;
    assume TargetDirentOffset > 0;
    havoc vslice_dummy_var_104;
    havoc vslice_dummy_var_105;
    call {:si_unique_call 982} FatDeleteFile(IrpContext_49, vslice_dummy_var_104, TargetLfnOffset, Mem_T.INT4[TargetDirentOffset], vslice_dummy_var_105, TargetLfn);
    goto anon280_Then, anon280_Else;

  anon280_Else:
    assume {:partition} yogi_error != 1;
    goto L207;

  L207:
    goto anon209_Then, anon209_Else;

  anon209_Else:
    assume {:partition} HaveTunneledInformation_1 != 0;
    Tmp_1030 := UniTunneledShortName_1;
    goto L213;

  L213:
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc vslice_dummy_var_106;
    call {:si_unique_call 983} FatSelectNames(IrpContext_49, vslice_dummy_var_106, NewOemName, NewName, NewOemName, Tmp_1030, AllLowerComponent_2, AllLowerExtension_2, CreateLfn_2);
    assume {:nonnull} CreateLfn_2 != 0;
    assume CreateLfn_2 > 0;
    goto anon210_Then, anon210_Else;

  anon210_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_2] != 0;
    goto L218;

  L218:
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc vslice_dummy_var_107;
    call {:si_unique_call 984} FatPrepareWriteDirectoryFile(IrpContext_49, vslice_dummy_var_107, NewOffset, 32, NewDirentBcb, NewDirent, 0, 1, Status_8);
    goto anon281_Then, anon281_Else;

  anon281_Else:
    assume {:partition} yogi_error != 1;
    goto anon212_Then, anon212_Else;

  anon212_Else:
    assume {:partition} INTDIV(NewOffset, 4096) != INTDIV(NewOffset + (DirentsRequired - 1) * 32, 4096);
    Tmp_1052 := BAND(NewOffset, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    SecondPageOffset_2 := Tmp_1052 + 4096;
    BytesInFirstPage_2 := SecondPageOffset_2 - NewOffset;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc vslice_dummy_var_108;
    call {:si_unique_call 985} FatPrepareWriteDirectoryFile(IrpContext_49, vslice_dummy_var_108, SecondPageOffset_2, 32, SecondPageBcb_2, SecondPageDirent_2, 0, 1, Status_8);
    goto anon282_Then, anon282_Else;

  anon282_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} NewDirent != 0;
    assume NewDirent > 0;
    Tmp_1035 := DirentsRequired * 32;
    call {:si_unique_call 986} sdv_682 := ExAllocatePoolWithTag(17, Tmp_1035, -999005882);
    assume {:nonnull} NewDirent != 0;
    assume NewDirent > 0;
    NewDirentFromPool := 1;
    goto L222;

  L222:
    assume {:nonnull} NewDirent != 0;
    assume NewDirent > 0;
    havoc ShortDirent_2;
    ShortDirentOffset := NewOffset + (DirentsRequired - 1) * 32;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    Mem_T.INT4[CreationMSec__PACKED_DIRENT(ShortDirent_2)] := Mem_T.INT4[CreationMSec__PACKED_DIRENT(SourceDirent)];
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    goto anon283_Then, anon283_Else;

  anon283_Else:
    assume {:partition} HaveTunneledInformation_1 != 0;
    Tmp_1059 := TunneledCreationTime_1;
    goto L242;

  L242:
    assume {:nonnull} CreateLfn_2 != 0;
    assume CreateLfn_2 > 0;
    goto anon213_Then, anon213_Else;

  anon213_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_2] != 0;
    Tmp_1049 := NewName;
    goto L245;

  L245:
    assume {:nonnull} AllLowerComponent_2 != 0;
    assume AllLowerComponent_2 > 0;
    assume {:nonnull} AllLowerExtension_2 != 0;
    assume AllLowerExtension_2 > 0;
    assume {:nonnull} SourceDirent != 0;
    assume SourceDirent > 0;
    havoc vslice_dummy_var_109;
    call {:si_unique_call 987} FatConstructDirent(IrpContext_49, ShortDirent_2, NewOemName, Mem_T.INT4[AllLowerComponent_2], Mem_T.INT4[AllLowerExtension_2], Tmp_1049, vslice_dummy_var_109, 0, Tmp_1059);
    goto anon214_Then, anon214_Else;

  anon214_Else:
    assume {:partition} HaveTunneledInformation_1 != 0;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    havoc vslice_dummy_var_110;
    call {:si_unique_call 988} boogieTmp := FatFatTimeToNtTime(IrpContext_49, vslice_dummy_var_110, Mem_T.INT4[CreationMSec__PACKED_DIRENT(ShortDirent_2)]);
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    havoc vslice_dummy_var_111;
    call {:si_unique_call 989} boogieTmp := FatFatTimeToNtTime(IrpContext_49, vslice_dummy_var_111, 0);
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    havoc vslice_dummy_var_112;
    call {:si_unique_call 990} boogieTmp := FatFatDateToNtTime(IrpContext_49, vslice_dummy_var_112);
    goto L249;

  L249:
    goto anon215_Then, anon215_Else;

  anon215_Else:
    assume {:partition} NewDirentFromPool != 0;
    call {:si_unique_call 991} sdv_RtlCopyMemory(0, 0, BytesInFirstPage_2);
    Tmp_1031 := DirentsRequired * 32 - BytesInFirstPage_2;
    assume {:nonnull} NewDirent != 0;
    assume NewDirent > 0;
    call {:si_unique_call 992} sdv_RtlCopyMemory(0, 0, Tmp_1031);
    assume {:nonnull} SecondPageDirent_2 != 0;
    assume SecondPageDirent_2 > 0;
    havoc ShortDirent_2;
    goto L262;

  L262:
    call {:si_unique_call 993} FatRemoveNames(IrpContext_49, Fcb_15);
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto anon216_Then, anon216_Else;

  anon216_Else:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    call {:si_unique_call 994} sdv_ExFreePool(0);
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto L275;

  L275:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto anon217_Then, anon217_Else;

  anon217_Else:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    call {:si_unique_call 995} sdv_ExFreePool(0);
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto L280;

  L280:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    call {:si_unique_call 996} vslice_dummy_var_128 := sdv_RemoveEntryList(0);
    Tmp_1047 := Fcb_15;
    assume {:nonnull} Tmp_1047 != 0;
    assume Tmp_1047 > 0;
    goto anon284_Then, anon284_Else;

  anon284_Else:
    assume {:partition} Mem_T.INT4[Tmp_1047] == 1282;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc vslice_dummy_var_113;
    call {:si_unique_call 997} vslice_dummy_var_127 := sdv_InsertTailList(vslice_dummy_var_113, ParentDcbLinks__FCB(Fcb_15));
    goto L296;

  L296:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    havoc OldParentDcb;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    goto anon285_Then, anon285_Else;

  anon285_Else:
    assume {:partition} RenamedAcrossDirectories != 0;
    call {:si_unique_call 998} sdv_679 := sdv_IsListEmpty(0);
    goto anon218_Then, anon218_Else;

  anon218_Else:
    assume {:partition} sdv_679 != 0;
    assume {:nonnull} OldParentDcb != 0;
    assume OldParentDcb > 0;
    goto anon219_Then, anon219_Else;

  anon219_Else:
    assume {:nonnull} OldParentDcb != 0;
    assume OldParentDcb > 0;
    goto anon220_Then, anon220_Else;

  anon220_Else:
    assume {:nonnull} OldParentDcb != 0;
    assume OldParentDcb > 0;
    call {:si_unique_call 999} vslice_dummy_var_129 := corral_nondet();
    assume {:nonnull} OldParentDcb != 0;
    assume OldParentDcb > 0;
    call {:si_unique_call 1000} vslice_dummy_var_130 := sdv_ObDereferenceObject(0);
    goto L306;

  L306:
    Tmp_1051 := Fcb_15;
    assume {:nonnull} Tmp_1051 != 0;
    assume Tmp_1051 > 0;
    goto anon286_Then, anon286_Else;

  anon286_Else:
    assume {:partition} Mem_T.INT4[Tmp_1051] == 1283;
    call {:si_unique_call 1001} FatPrepareWriteDirectoryFile(IrpContext_49, Fcb_15, 32, 32, DotDotBcb, DotDotDirent, 0, 1, Status_8);
    goto anon287_Then, anon287_Else;

  anon287_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc Tmp_1048;
    assume {:nonnull} Tmp_1048 != 0;
    assume Tmp_1048 > 0;
    goto anon288_Then, anon288_Else;

  anon288_Else:
    assume {:partition} Mem_T.INT4[Tmp_1048] == 1284;
    Tmp_1042 := 0;
    goto L324;

  L324:
    assume {:nonnull} DotDotDirent != 0;
    assume DotDotDirent > 0;
    assume {:nonnull} Vcb_36 != 0;
    assume Vcb_36 > 0;
    goto anon289_Then, anon289_Else;

  anon289_Else:
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc Tmp_1046;
    assume {:nonnull} Tmp_1046 != 0;
    assume Tmp_1046 > 0;
    goto anon290_Then, anon290_Else;

  anon290_Else:
    assume {:partition} Mem_T.INT4[Tmp_1046] == 1284;
    Tmp_1053 := 0;
    goto L329;

  L329:
    assume {:nonnull} DotDotDirent != 0;
    assume DotDotDirent > 0;
    goto L299;

  L299:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    call {:si_unique_call 1002} sdv_ExFreePool(0);
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} CreateLfn_2 != 0;
    assume CreateLfn_2 > 0;
    goto anon291_Then, anon291_Else;

  anon291_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_2] != 0;
    Tmp_1057 := NewName;
    goto L334;

  L334:
    call {:si_unique_call 1003} FatConstructNamesInFcb(IrpContext_49, Fcb_15, ShortDirent_2, Tmp_1057);
    call {:si_unique_call 1004} FatSetFullNameInFcb(IrpContext_49, Fcb_15, NewName);
    InvalidateFcbOnRaise := 0;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto anon292_Then, anon292_Else;

  anon292_Else:
    assume {:nonnull} FileObject_13 != 0;
    assume FileObject_13 > 0;
    assume {:nonnull} Ccb_11 != 0;
    assume Ccb_11 > 0;
    goto L342;

  L342:
    goto anon221_Then, anon221_Else;

  anon221_Else:
    assume {:partition} DeleteTarget != 0;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto anon223_Then, anon223_Else;

  anon223_Else:
    goto L350;

  L350:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    havoc Tmp_1038;
    call {:si_unique_call 1005} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_1038, 0, 0, 252, 3, 0);
    goto L354;

  L354:
    assume {:nonnull} Vcb_36 != 0;
    assume Vcb_36 > 0;
    goto anon224_Then, anon224_Else;

  anon224_Else:
    goto L356;

  L356:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := 0;
    call {:si_unique_call 1006} sdv_ExFreePool(0);
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    goto anon226_Then, anon226_Else;

  anon226_Else:
    call {:si_unique_call 1007} sdv_ExFreePool(0);
    goto L361;

  L361:
    assume {:nonnull} OldDirentBcb != 0;
    assume OldDirentBcb > 0;
    goto anon227_Then, anon227_Else;

  anon227_Else:
    assume {:nonnull} OldDirentBcb != 0;
    assume OldDirentBcb > 0;
    goto L365;

  L365:
    assume {:nonnull} TargetDirentBcb != 0;
    assume TargetDirentBcb > 0;
    goto anon228_Then, anon228_Else;

  anon228_Else:
    assume {:nonnull} TargetDirentBcb != 0;
    assume TargetDirentBcb > 0;
    goto L370;

  L370:
    assume {:nonnull} NewDirentBcb != 0;
    assume NewDirentBcb > 0;
    goto anon229_Then, anon229_Else;

  anon229_Else:
    assume {:nonnull} NewDirentBcb != 0;
    assume NewDirentBcb > 0;
    goto L375;

  L375:
    assume {:nonnull} SecondPageBcb_2 != 0;
    assume SecondPageBcb_2 > 0;
    goto anon230_Then, anon230_Else;

  anon230_Else:
    assume {:nonnull} SecondPageBcb_2 != 0;
    assume SecondPageBcb_2 > 0;
    goto L380;

  L380:
    assume {:nonnull} DotDotBcb != 0;
    assume DotDotBcb > 0;
    goto anon231_Then, anon231_Else;

  anon231_Else:
    assume {:nonnull} DotDotBcb != 0;
    assume DotDotBcb > 0;
    goto L385;

  L385:
    call {:si_unique_call 1008} sdv_689 := sdv_AbnormalTermination();
    goto anon232_Then, anon232_Else;

  anon232_Else:
    assume {:partition} sdv_689 != 0;
    goto anon233_Then, anon233_Else;

  anon233_Else:
    assume {:partition} InvalidateFcbOnRaise != 0;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto L393;

  L393:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Tmp_1021 := Mem_T.INT4[Status_8];
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon233_Then:
    assume {:partition} InvalidateFcbOnRaise == 0;
    goto L393;

  anon232_Then:
    assume {:partition} sdv_689 == 0;
    goto L393;

  anon231_Then:
    goto L385;

  anon230_Then:
    goto L380;

  anon229_Then:
    goto L375;

  anon228_Then:
    goto L370;

  anon227_Then:
    goto L365;

  anon226_Then:
    goto L361;

  anon224_Then:
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    goto anon225_Then, anon225_Else;

  anon225_Else:
    assume {:nonnull} ShortDirent_2 != 0;
    assume ShortDirent_2 > 0;
    havoc vslice_dummy_var_114;
    call {:si_unique_call 1009} FatRenameEAs(IrpContext_49, Fcb_15, vslice_dummy_var_114, OldOemName);
    goto anon293_Then, anon293_Else;

  anon293_Else:
    assume {:partition} yogi_error != 1;
    goto L356;

  anon293_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon225_Then:
    goto L356;

  anon223_Then:
    call {:si_unique_call 1010} FatSetFullFileNameInFcb#1(IrpContext_49, Fcb_15);
    goto L350;

  anon221_Then:
    assume {:partition} DeleteTarget == 0;
    goto anon222_Then, anon222_Else;

  anon222_Else:
    assume {:partition} RenamedAcrossDirectories != 0;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto anon235_Then, anon235_Else;

  anon235_Else:
    goto L404;

  L404:
    Tmp_1029 := Fcb_15;
    assume {:nonnull} Tmp_1029 != 0;
    assume Tmp_1029 > 0;
    goto anon294_Then, anon294_Else;

  anon294_Else:
    assume {:partition} Mem_T.INT4[Tmp_1029] == 1282;
    Tmp_1043 := 1;
    goto L407;

  L407:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    havoc Tmp_1036;
    call {:si_unique_call 1011} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_1036, 0, 0, Tmp_1043, 1, 0);
    goto L354;

  anon294_Then:
    assume {:partition} Mem_T.INT4[Tmp_1029] != 1282;
    Tmp_1043 := 2;
    goto L407;

  anon235_Then:
    call {:si_unique_call 1012} FatSetFullFileNameInFcb#1(IrpContext_49, Fcb_15);
    goto L404;

  anon222_Then:
    assume {:partition} RenamedAcrossDirectories == 0;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto anon234_Then, anon234_Else;

  anon234_Else:
    goto L414;

  L414:
    Tmp_1040 := Fcb_15;
    assume {:nonnull} Tmp_1040 != 0;
    assume Tmp_1040 > 0;
    goto anon295_Then, anon295_Else;

  anon295_Else:
    assume {:partition} Mem_T.INT4[Tmp_1040] == 1282;
    Tmp_1041 := 1;
    goto L417;

  L417:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    havoc Tmp_1061;
    call {:si_unique_call 1013} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_1061, 0, 0, Tmp_1041, 5, 0);
    goto L354;

  anon295_Then:
    assume {:partition} Mem_T.INT4[Tmp_1040] != 1282;
    Tmp_1041 := 2;
    goto L417;

  anon234_Then:
    call {:si_unique_call 1014} FatSetFullFileNameInFcb#1(IrpContext_49, Fcb_15);
    goto L414;

  anon292_Then:
    goto L342;

  anon291_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_2] == 0;
    Tmp_1057 := 0;
    goto L334;

  anon290_Then:
    assume {:partition} Mem_T.INT4[Tmp_1046] != 1284;
    call {:si_unique_call 1015} Tmp_1053 := corral_nondet();
    goto L329;

  anon289_Then:
    goto L299;

  anon288_Then:
    assume {:partition} Mem_T.INT4[Tmp_1048] != 1284;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc Tmp_1042;
    goto L324;

  anon287_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon286_Then:
    assume {:partition} Mem_T.INT4[Tmp_1051] != 1283;
    goto L299;

  anon220_Then:
    goto L306;

  anon219_Then:
    goto L306;

  anon218_Then:
    assume {:partition} sdv_679 == 0;
    goto L306;

  anon285_Then:
    assume {:partition} RenamedAcrossDirectories == 0;
    goto L299;

  anon284_Then:
    assume {:partition} Mem_T.INT4[Tmp_1047] != 1282;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc vslice_dummy_var_115;
    call {:si_unique_call 1016} InsertHeadList(vslice_dummy_var_115, ParentDcbLinks__FCB(Fcb_15));
    goto L296;

  anon217_Then:
    goto L280;

  anon216_Then:
    goto L275;

  anon215_Then:
    assume {:partition} NewDirentFromPool == 0;
    goto L262;

  anon214_Then:
    assume {:partition} HaveTunneledInformation_1 == 0;
    goto L249;

  anon213_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_2] == 0;
    Tmp_1049 := 0;
    goto L245;

  anon283_Then:
    assume {:partition} HaveTunneledInformation_1 == 0;
    Tmp_1059 := 0;
    goto L242;

  anon282_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon212_Then:
    assume {:partition} INTDIV(NewOffset, 4096) == INTDIV(NewOffset + (DirentsRequired - 1) * 32, 4096);
    goto L222;

  anon281_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon210_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_2] == 0;
    goto anon211_Then, anon211_Else;

  anon211_Else:
    assume {:partition} UsingTunneledLfn_1 != 0;
    assume {:nonnull} CreateLfn_2 != 0;
    assume CreateLfn_2 > 0;
    Mem_T.INT4[CreateLfn_2] := 1;
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    assume {:nonnull} AllLowerComponent_2 != 0;
    assume AllLowerComponent_2 > 0;
    Mem_T.INT4[AllLowerComponent_2] := 0;
    assume {:nonnull} AllLowerExtension_2 != 0;
    assume AllLowerExtension_2 > 0;
    Mem_T.INT4[AllLowerExtension_2] := 0;
    goto L218;

  anon211_Then:
    assume {:partition} UsingTunneledLfn_1 == 0;
    goto L218;

  anon209_Then:
    assume {:partition} HaveTunneledInformation_1 == 0;
    Tmp_1030 := 0;
    goto L213;

  anon280_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon208_Then:
    assume {:partition} DeleteTarget == 0;
    goto L207;

  anon279_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon278_Then:
    assume {:partition} DeleteSourceDirent == 0;
    goto L203;

  anon277_Then:
    assume {:partition} Mem_T.INT4[Tmp_1055] != 1282;
    Tmp_1054 := 2;
    goto L139;

  anon207_Then:
    call {:si_unique_call 1017} FatSetFullFileNameInFcb#1(IrpContext_49, Fcb_15);
    goto L136;

  anon205_Then:
    assume {:partition} RenamedAcrossDirectories == 0;
    goto anon206_Then, anon206_Else;

  anon206_Else:
    assume {:partition} DeleteTarget == 0;
    NotifyAction := 4;
    goto L132;

  anon206_Then:
    assume {:partition} DeleteTarget != 0;
    goto L131;

  anon204_Then:
    assume {:partition} ContinueWithRename == 0;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Tmp_1021 := Mem_T.INT4[Status_8];
    goto L1;

  anon203_Then:
    assume {:partition} ContinueWithRename == 0;
    call {:si_unique_call 1018} sdv_ExFreePool(0);
    assume {:nonnull} TargetDirentBcb != 0;
    assume TargetDirentBcb > 0;
    goto anon236_Then, anon236_Else;

  anon236_Else:
    assume {:nonnull} TargetDirentBcb != 0;
    assume TargetDirentBcb > 0;
    goto L127;

  anon236_Then:
    goto L127;

  anon276_Then:
    assume {:partition} Mem_T.INT4[Tmp_1058] != 1284;
    Tmp_1044 := Fcb_15;
    assume {:nonnull} Tmp_1044 != 0;
    assume Tmp_1044 > 0;
    goto anon296_Then, anon296_Else;

  anon296_Else:
    assume {:partition} Mem_T.INT4[Tmp_1044] == 1283;
    goto L438;

  L438:
    call {:si_unique_call 1019} BatchOplockFcb, sdv_685, TempFcb, Tmp_1045, BatchOplockCount, boogieTmp := FatSetRenameInfo_loop_L438(BatchOplockFcb, Status_8, sdv_685, TempFcb, Tmp_1045, BatchOplockCount, IrpContext_49, Irp_4, Fcb_15, boogieTmp);
    goto L438_last;

  L438_last:
    BatchOplockFcb := 0;
    BatchOplockCount := 0;
    call {:si_unique_call 1050} TempFcb := FatGetNextFcbBottomUp(IrpContext_49, 0, Fcb_15);
    goto L453;

  L453:
    call {:si_unique_call 1020} BatchOplockFcb, sdv_685, TempFcb, Tmp_1045, BatchOplockCount := FatSetRenameInfo_loop_L453(BatchOplockFcb, sdv_685, TempFcb, Tmp_1045, BatchOplockCount, IrpContext_49, Fcb_15);
    goto L453_last;

  L453_last:
    goto anon238_Then, anon238_Else;

  anon238_Else:
    assume {:partition} TempFcb != Fcb_15;
    assume {:nonnull} TempFcb != 0;
    assume TempFcb > 0;
    goto anon240_Then, anon240_Else;

  anon240_Else:
    Tmp_1045 := TempFcb;
    assume {:nonnull} Tmp_1045 != 0;
    assume Tmp_1045 > 0;
    goto anon297_Then, anon297_Else;

  anon297_Else:
    assume {:partition} Mem_T.INT4[Tmp_1045] == 1282;
    assume {:nonnull} TempFcb != 0;
    assume TempFcb > 0;
    call {:si_unique_call 1021} sdv_685 := corral_nondet();
    goto anon241_Then, anon241_Else;

  anon241_Else:
    assume {:partition} sdv_685 != 0;
    BatchOplockCount := BatchOplockCount + 1;
    goto anon298_Then, anon298_Else;

  anon298_Else:
    assume {:partition} BatchOplockFcb == 0;
    BatchOplockFcb := TempFcb;
    goto L456;

  L456:
    call {:si_unique_call 1022} TempFcb := FatGetNextFcbBottomUp(IrpContext_49, TempFcb, Fcb_15);
    goto L456_dummy;

  L456_dummy:
    assume false;
    return;

  anon298_Then:
    assume {:partition} BatchOplockFcb != 0;
    goto L456;

  anon241_Then:
    assume {:partition} sdv_685 == 0;
    goto L460;

  L460:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741790;
    goto L123;

  anon297_Then:
    assume {:partition} Mem_T.INT4[Tmp_1045] != 1282;
    goto L460;

  anon240_Then:
    goto L456;

  anon238_Then:
    assume {:partition} TempFcb == Fcb_15;
    goto anon239_Then, anon239_Else;

  anon239_Else:
    assume {:partition} BatchOplockFcb != 0;
    assume {:nonnull} Irp_4 != 0;
    assume Irp_4 > 0;
    goto anon242_Then, anon242_Else;

  anon242_Else:
    assume {:nonnull} Irp_4 != 0;
    assume Irp_4 > 0;
    goto anon243_Then, anon243_Else;

  anon243_Else:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741790;
    goto L123;

  anon243_Then:
    goto L472;

  L472:
    assume {:nonnull} Irp_4 != 0;
    assume Irp_4 > 0;
    assume {:nonnull} BatchOplockFcb != 0;
    assume BatchOplockFcb > 0;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    call {:si_unique_call 1023} boogieTmp := corral_nondet();
    Mem_T.INT4[Status_8] := boogieTmp;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    goto anon244_Then, anon244_Else;

  anon244_Else:
    assume {:partition} Mem_T.INT4[Status_8] != 0;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := 259;
    goto L123;

  anon244_Then:
    assume {:partition} Mem_T.INT4[Status_8] == 0;
    goto anon244_Then_dummy;

  anon244_Then_dummy:
    assume false;
    return;

  anon242_Then:
    goto L472;

  anon239_Then:
    assume {:partition} BatchOplockFcb == 0;
    call {:si_unique_call 1024} FatPurgeReferencedFileObjects(IrpContext_49, Fcb_15, 1);
    goto anon299_Then, anon299_Else;

  anon299_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 1025} TempFcb := FatGetNextFcbBottomUp(IrpContext_49, 0, Fcb_15);
    goto L488;

  L488:
    call {:si_unique_call 1026} TempFcb := FatSetRenameInfo_loop_L488(TempFcb, IrpContext_49, Fcb_15);
    goto L488_last;

  L488_last:
    goto anon245_Then, anon245_Else;

  anon245_Else:
    assume {:partition} TempFcb != Fcb_15;
    call {:si_unique_call 1027} FatRemoveNames(IrpContext_49, TempFcb);
    assume {:nonnull} TempFcb != 0;
    assume TempFcb > 0;
    call {:si_unique_call 1028} TempFcb := FatGetNextFcbBottomUp(IrpContext_49, TempFcb, Fcb_15);
    goto anon245_Else_dummy;

  anon245_Else_dummy:
    assume false;
    return;

  anon245_Then:
    assume {:partition} TempFcb == Fcb_15;
    goto L431;

  L431:
    goto anon237_Then, anon237_Else;

  anon237_Else:
    assume {:partition} TargetFileObject == 0;
    assume {:nonnull} Irp_4 != 0;
    assume Irp_4 > 0;
    havoc Buffer_1;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    assume {:nonnull} Buffer_1 != 0;
    assume Buffer_1 > 0;
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    assume {:nonnull} Buffer_1 != 0;
    assume Buffer_1 > 0;
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    goto anon303_Then, anon303_Else;

  anon303_Else:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741773;
    goto L123;

  anon303_Then:
    goto L508;

  L508:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    call {:si_unique_call 1029} boogieTmp := RtlUpcaseUnicodeString(0, 0, 0);
    Mem_T.INT4[Status_8] := boogieTmp;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    goto anon248_Then, anon248_Else;

  anon248_Else:
    assume {:partition} Mem_T.INT4[Status_8] >= 0;
    call {:si_unique_call 1030} FatGetUnicodeNameFromFcb#1(IrpContext_49, Fcb_15, OldName);
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    call {:si_unique_call 1031} boogieTmp := RtlUpcaseUnicodeString(0, 0, 0);
    Mem_T.INT4[Status_8] := boogieTmp;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    goto anon249_Then, anon249_Else;

  anon249_Else:
    assume {:partition} Mem_T.INT4[Status_8] >= 0;
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    goto anon250_Then, anon250_Else;

  anon250_Else:
    call {:si_unique_call 1032} sdv_702 := FsRtlAreNamesEqual(0, 0, 0, 0);
    goto anon251_Then, anon251_Else;

  anon251_Else:
    assume {:partition} sdv_702 != 0;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := 0;
    goto L123;

  anon251_Then:
    assume {:partition} sdv_702 == 0;
    call {:si_unique_call 1033} sdv_691 := FsRtlAreNamesEqual(0, 0, 0, 0);
    goto anon252_Then, anon252_Else;

  anon252_Else:
    assume {:partition} sdv_691 != 0;
    CaseOnlyRename := 1;
    goto L535;

  L535:
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    goto anon253_Then, anon253_Else;

  anon253_Else:
    call {:si_unique_call 1034} FatUnicodeToUpcaseOem(IrpContext_49, NewOemName, NewName);
    call {:si_unique_call 1035} sdv_688 := FatSpaceInName(IrpContext_49, NewName);
    goto anon254_Then, anon254_Else;

  anon254_Else:
    assume {:partition} sdv_688 != 0;
    goto L546;

  L546:
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    goto L547;

  L547:
    call {:si_unique_call 1036} vslice_dummy_var_131 := corral_nondet();
    call {:si_unique_call 1037} HaveTunneledInformation_1 := corral_nondet();
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    goto anon255_Then, anon255_Else;

  anon255_Else:
    call {:si_unique_call 1038} FatEvaluateNameCase(IrpContext_49, NewName, AllLowerComponent_2, AllLowerExtension_2, CreateLfn_2);
    assume {:nonnull} CreateLfn_2 != 0;
    assume CreateLfn_2 > 0;
    goto anon256_Then, anon256_Else;

  anon256_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_2] == 0;
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    goto anon257_Then, anon257_Else;

  anon257_Else:
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc vslice_dummy_var_116;
    call {:si_unique_call 1039} sdv_684 := FatLfnDirentExists(IrpContext_49, vslice_dummy_var_116, UniTunneledLongName_1, TargetLfn);
    goto anon258_Then, anon258_Else;

  anon258_Else:
    assume {:partition} sdv_684 == 0;
    assume {:nonnull} CreateLfn_2 != 0;
    assume CreateLfn_2 > 0;
    Mem_T.INT4[CreateLfn_2] := 1;
    assume {:nonnull} CreateLfn_2 != 0;
    assume CreateLfn_2 > 0;
    UsingTunneledLfn_1 := Mem_T.INT4[CreateLfn_2];
    assume {:nonnull} UniTunneledLongName_1 != 0;
    assume UniTunneledLongName_1 > 0;
    havoc DirentsRequired;
    goto L568;

  L568:
    goto anon259_Then, anon259_Else;

  anon259_Else:
    goto L570;

  L570:
    goto anon261_Then, anon261_Else;

  anon261_Else:
    assume {:partition} CaseOnlyRename != 0;
    goto L572;

  L572:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    goto anon263_Then, anon263_Else;

  anon263_Else:
    goto L574;

  L574:
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc vslice_dummy_var_117;
    call {:si_unique_call 1040} NewOffset := FatCreateNewDirent(IrpContext_49, vslice_dummy_var_117, DirentsRequired);
    goto anon300_Then, anon300_Else;

  anon300_Else:
    assume {:partition} yogi_error != 1;
    DeleteSourceDirent := 1;
    goto L579;

  L579:
    ContinueWithRename := 1;
    goto L123;

  anon300_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon263_Then:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    goto anon264_Then, anon264_Else;

  anon264_Else:
    assume {:nonnull} Fcb_15 != 0;
    assume Fcb_15 > 0;
    havoc NewOffset;
    goto L579;

  anon264_Then:
    goto L574;

  anon261_Then:
    assume {:partition} CaseOnlyRename == 0;
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    goto anon262_Then, anon262_Else;

  anon262_Else:
    assume {:nonnull} LocalCcb_1 != 0;
    assume LocalCcb_1 > 0;
    call {:si_unique_call 1041} FatStringTo8dot3(IrpContext_49, NewOemName, Constant_unnamed_tag_72(OemQueryTemplate__CCB(LocalCcb_1)));
    goto L585;

  L585:
    assume {:nonnull} LocalCcb_1 != 0;
    assume LocalCcb_1 > 0;
    assume {:nonnull} NewUpcasedName != 0;
    assume NewUpcasedName > 0;
    assume {:nonnull} LocalCcb_1 != 0;
    assume LocalCcb_1 > 0;
    assume {:nonnull} NewUpcasedName != 0;
    assume NewUpcasedName > 0;
    assume {:nonnull} LocalCcb_1 != 0;
    assume LocalCcb_1 > 0;
    assume {:nonnull} NewUpcasedName != 0;
    assume NewUpcasedName > 0;
    assume {:nonnull} LocalCcb_1 != 0;
    assume LocalCcb_1 > 0;
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc vslice_dummy_var_118;
    call {:si_unique_call 1042} FatLocateDirent#1(IrpContext_49, vslice_dummy_var_118, LocalCcb_1, 0, TargetDirent, TargetDirentBcb, TargetDirentOffset, 0, TargetLfn);
    assume {:nonnull} TargetDirent != 0;
    assume TargetDirent > 0;
    goto anon265_Then, anon265_Else;

  anon265_Else:
    goto anon266_Then, anon266_Else;

  anon266_Else:
    assume {:partition} ReplaceIfExists != 0;
    assume {:nonnull} TargetDirent != 0;
    assume TargetDirent > 0;
    goto anon267_Then, anon267_Else;

  anon267_Else:
    assume {:nonnull} TargetDirent != 0;
    assume TargetDirent > 0;
    goto anon268_Then, anon268_Else;

  anon268_Else:
    assume {:nonnull} TargetDcb != 0;
    assume TargetDcb > 0;
    havoc Links;
    goto L596;

  L596:
    call {:si_unique_call 1043} Links, sdv_672, TempFcb, sdv_693 := FatSetRenameInfo_loop_L596(Links, sdv_672, TargetDirentOffset, TempFcb, sdv_693);
    goto L596_last;

  L596_last:
    goto anon269_Then, anon269_Else;

  anon269_Else:
    call {:si_unique_call 1044} sdv_672 := sdv_containing_record(Links, 72);
    TempFcb := sdv_672;
    assume {:nonnull} Links != 0;
    assume Links > 0;
    havoc Links;
    assume {:nonnull} TargetDirentOffset != 0;
    assume TargetDirentOffset > 0;
    assume {:nonnull} TempFcb != 0;
    assume TempFcb > 0;
    goto anon301_Then, anon301_Else;

  anon301_Else:
    assume {:nonnull} TempFcb != 0;
    assume TempFcb > 0;
    goto anon270_Then, anon270_Else;

  anon270_Else:
    goto L608;

  L608:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741790;
    Tmp_1022 := TempFcb;
    assume {:nonnull} Tmp_1022 != 0;
    assume Tmp_1022 > 0;
    goto anon302_Then, anon302_Else;

  anon302_Else:
    assume {:partition} Mem_T.INT4[Tmp_1022] == 1282;
    assume {:nonnull} TempFcb != 0;
    assume TempFcb > 0;
    call {:si_unique_call 1045} sdv_686 := corral_nondet();
    goto anon271_Then, anon271_Else;

  anon271_Else:
    assume {:partition} sdv_686 != 0;
    assume {:nonnull} TargetDirentBcb != 0;
    assume TargetDirentBcb > 0;
    goto anon272_Then, anon272_Else;

  anon272_Else:
    assume {:nonnull} TargetDirentBcb != 0;
    assume TargetDirentBcb > 0;
    goto L616;

  L616:
    assume {:nonnull} TempFcb != 0;
    assume TempFcb > 0;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    call {:si_unique_call 1046} boogieTmp := corral_nondet();
    Mem_T.INT4[Status_8] := boogieTmp;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    goto anon273_Then, anon273_Else;

  anon273_Else:
    assume {:partition} Mem_T.INT4[Status_8] != 259;
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741790;
    goto L123;

  anon273_Then:
    assume {:partition} Mem_T.INT4[Status_8] == 259;
    goto L123;

  anon272_Then:
    goto L616;

  anon271_Then:
    assume {:partition} sdv_686 == 0;
    goto L123;

  anon302_Then:
    assume {:partition} Mem_T.INT4[Tmp_1022] != 1282;
    goto L123;

  anon270_Then:
    assume {:nonnull} TempFcb != 0;
    assume TempFcb > 0;
    call {:si_unique_call 1047} sdv_693 := corral_nondet();
    goto anon274_Then, anon274_Else;

  anon274_Else:
    assume {:partition} sdv_693 == 0;
    goto L608;

  anon274_Then:
    assume {:partition} sdv_693 != 0;
    goto anon274_Then_dummy;

  anon274_Then_dummy:
    assume false;
    return;

  anon301_Then:
    goto anon301_Then_dummy;

  anon301_Then_dummy:
    assume false;
    return;

  anon269_Then:
    assume {:nonnull} TargetDirentOffset != 0;
    assume TargetDirentOffset > 0;
    assume {:nonnull} TargetLfn != 0;
    assume TargetLfn > 0;
    havoc TargetLfnOffset;
    DeleteTarget := 1;
    goto L572;

  anon268_Then:
    goto L592;

  L592:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741771;
    goto L123;

  anon267_Then:
    goto L592;

  anon266_Then:
    assume {:partition} ReplaceIfExists == 0;
    goto L592;

  anon265_Then:
    goto L572;

  anon262_Then:
    assume {:nonnull} LocalCcb_1 != 0;
    assume LocalCcb_1 > 0;
    goto L585;

  anon259_Then:
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    goto anon260_Then, anon260_Else;

  anon260_Else:
    assume {:nonnull} AllLowerComponent_2 != 0;
    assume AllLowerComponent_2 > 0;
    Mem_T.INT4[AllLowerComponent_2] := 0;
    assume {:nonnull} AllLowerExtension_2 != 0;
    assume AllLowerExtension_2 > 0;
    Mem_T.INT4[AllLowerExtension_2] := 0;
    assume {:nonnull} CreateLfn_2 != 0;
    assume CreateLfn_2 > 0;
    Mem_T.INT4[CreateLfn_2] := 0;
    UsingTunneledLfn_1 := 0;
    goto L570;

  anon260_Then:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741773;
    goto L123;

  anon258_Then:
    assume {:partition} sdv_684 != 0;
    goto L560;

  L560:
    DirentsRequired := 1;
    goto L568;

  anon257_Then:
    goto L560;

  anon256_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_2] != 0;
    goto L554;

  L554:
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    havoc DirentsRequired;
    goto L568;

  anon255_Then:
    goto L554;

  anon254_Then:
    assume {:partition} sdv_688 == 0;
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    assume {:nonnull} Tmp_1037 != 0;
    assume Tmp_1037 > 0;
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    assume {:nonnull} Tmp_1037 != 0;
    assume Tmp_1037 > 0;
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    assume {:nonnull} Tmp_1037 != 0;
    assume Tmp_1037 > 0;
    call {:si_unique_call 1048} sdv_696 := corral_nondet();
    goto anon275_Then, anon275_Else;

  anon275_Else:
    assume {:partition} sdv_696 != 0;
    goto L547;

  anon275_Then:
    assume {:partition} sdv_696 == 0;
    goto L546;

  anon253_Then:
    assume {:nonnull} NewOemName != 0;
    assume NewOemName > 0;
    goto L547;

  anon252_Then:
    assume {:partition} sdv_691 == 0;
    goto L535;

  anon250_Then:
    RenamedAcrossDirectories := 1;
    goto L535;

  anon249_Then:
    assume {:partition} 0 > Mem_T.INT4[Status_8];
    goto L123;

  anon248_Then:
    assume {:partition} 0 > Mem_T.INT4[Status_8];
    goto L123;

  anon237_Then:
    assume {:partition} TargetFileObject != 0;
    call {:si_unique_call 1049} sdv_698 := FatDecodeFileObject(TargetFileObject, TargetVcb, TargetDcb, TargetCcb);
    goto anon246_Then, anon246_Else;

  anon246_Else:
    assume {:partition} sdv_698 != 3;
    goto L505;

  L505:
    assume {:nonnull} Status_8 != 0;
    assume Status_8 > 0;
    Mem_T.INT4[Status_8] := -1073741811;
    goto L123;

  anon246_Then:
    assume {:partition} sdv_698 == 3;
    assume {:nonnull} TargetVcb != 0;
    assume TargetVcb > 0;
    goto anon247_Then, anon247_Else;

  anon247_Else:
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    assume {:nonnull} TargetFileObject != 0;
    assume TargetFileObject > 0;
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    assume {:nonnull} TargetFileObject != 0;
    assume TargetFileObject > 0;
    assume {:nonnull} NewName != 0;
    assume NewName > 0;
    assume {:nonnull} TargetFileObject != 0;
    assume TargetFileObject > 0;
    goto L508;

  anon247_Then:
    goto L505;

  anon299_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon296_Then:
    assume {:partition} Mem_T.INT4[Tmp_1044] != 1283;
    goto L431;
}



procedure {:origName "FatCommonSetInformation"} FatCommonSetInformation(actual_IrpContext_50: int, actual_Irp_5: int) returns (Tmp_1062: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonSetInformation"} FatCommonSetInformation(actual_IrpContext_50: int, actual_Irp_5: int) returns (Tmp_1062: int)
{
  var {:pointer} Tmp_1063: int;
  var {:pointer} Ccb_12: int;
  var {:pointer} Fcb_16: int;
  var {:scalar} Status_9: int;
  var {:pointer} FileObject_14: int;
  var {:scalar} sdv_708: int;
  var {:scalar} FcbAcquired_1: int;
  var {:scalar} TypeOfOpen_1: int;
  var {:pointer} IrpSp_6: int;
  var {:pointer} Tmp_1064: int;
  var {:scalar} Tmp_1065: int;
  var {:scalar} sdv_714: int;
  var {:scalar} sdv_716: int;
  var {:scalar} FileInformationClass: int;
  var {:pointer} Vcb_37: int;
  var {:scalar} VcbAcquired: int;
  var {:pointer} Tmp_1066: int;
  var {:scalar} sdv_719: int;
  var {:scalar} Tmp_1069: int;
  var {:pointer} Tmp_1070: int;
  var {:pointer} IrpContext_50: int;
  var {:pointer} Irp_5: int;
  var vslice_dummy_var_119: int;
  var vslice_dummy_var_120: int;
  var vslice_dummy_var_121: int;
  var vslice_dummy_var_122: int;
  var vslice_dummy_var_123: int;
  var vslice_dummy_var_124: int;
  var vslice_dummy_var_125: int;
  var vslice_dummy_var_126: int;
  var vslice_dummy_var_127: int;
  var vslice_dummy_var_128: int;
  var vslice_dummy_var_129: int;
  var vslice_dummy_var_130: int;

  anon0:
    call {:si_unique_call 1051} Ccb_12 := __HAVOC_malloc(4);
    call {:si_unique_call 1052} Fcb_16 := __HAVOC_malloc(4);
    call {:si_unique_call 1053} Vcb_37 := __HAVOC_malloc(4);
    IrpContext_50 := actual_IrpContext_50;
    Irp_5 := actual_Irp_5;
    VcbAcquired := 0;
    FcbAcquired_1 := 0;
    call {:si_unique_call 1054} IrpSp_6 := sdv_IoGetCurrentIrpStackLocation(Irp_5);
    assume {:nonnull} IrpSp_6 != 0;
    assume IrpSp_6 > 0;
    havoc FileInformationClass;
    assume {:nonnull} IrpSp_6 != 0;
    assume IrpSp_6 > 0;
    havoc FileObject_14;
    call {:si_unique_call 1055} TypeOfOpen_1 := FatDecodeFileObject(FileObject_14, Vcb_37, Fcb_16, Ccb_12);
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} TypeOfOpen_1 != 2;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} TypeOfOpen_1 != 3;
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} TypeOfOpen_1 == 4;
    Status_9 := -1073741811;
    goto L31;

  L31:
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:partition} FcbAcquired_1 != 0;
    call {:si_unique_call 1056} ExReleaseResourceLite(0);
    goto L32;

  L32:
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} VcbAcquired != 0;
    call {:si_unique_call 1057} ExReleaseResourceLite(0);
    goto L36;

  L36:
    call {:si_unique_call 1058} sdv_714 := sdv_AbnormalTermination();
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} sdv_714 != 0;
    goto L46;

  L46:
    Tmp_1062 := Status_9;
    goto LM2;

  LM2:
    return;

  anon83_Then:
    assume {:partition} sdv_714 == 0;
    call {:si_unique_call 1059} FatCompleteRequest_Real(IrpContext_50, Irp_5, Status_9);
    goto L46;

  anon82_Then:
    assume {:partition} VcbAcquired == 0;
    goto L36;

  anon81_Then:
    assume {:partition} FcbAcquired_1 == 0;
    goto L32;

  anon101_Then:
    assume {:partition} TypeOfOpen_1 != 4;
    Status_9 := -1073741811;
    goto L31;

  anon102_Then:
    assume {:partition} TypeOfOpen_1 == 3;
    goto L47;

  L47:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc Tmp_1064;
    assume {:nonnull} Tmp_1064 != 0;
    assume Tmp_1064 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:partition} Mem_T.INT4[Tmp_1064] == 1284;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} FileInformationClass == 13;
    Status_9 := -1073741535;
    goto L31;

  anon85_Then:
    assume {:partition} FileInformationClass != 13;
    Status_9 := -1073741811;
    goto L31;

  anon109_Then:
    assume {:partition} Mem_T.INT4[Tmp_1064] != 1284;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} FileInformationClass == 13;
    goto L55;

  L55:
    assume {:nonnull} Vcb_37 != 0;
    assume Vcb_37 > 0;
    havoc vslice_dummy_var_119;
    call {:si_unique_call 1060} sdv_716 := FatAcquireExclusiveVcb(IrpContext_50, vslice_dummy_var_119);
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:partition} yogi_error != 1;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} sdv_716 != 0;
    VcbAcquired := 1;
    goto L78;

  L78:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    goto L82;

  L82:
    Status_9 := 0;
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc vslice_dummy_var_120;
    call {:si_unique_call 1061} FatVerifyFcb(IrpContext_50, vslice_dummy_var_120);
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} FileInformationClass != 4;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} FileInformationClass != 10;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:partition} FileInformationClass != 11;
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} FileInformationClass != 13;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} FileInformationClass != 14;
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} FileInformationClass != 19;
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} FileInformationClass == 20;
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    assume {:nonnull} Vcb_37 != 0;
    assume Vcb_37 > 0;
    havoc vslice_dummy_var_121;
    havoc vslice_dummy_var_122;
    call {:si_unique_call 1062} Status_9 := FatSetEndOfFileInfo(IrpContext_50, Irp_5, FileObject_14, vslice_dummy_var_121, vslice_dummy_var_122);
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} yogi_error != 1;
    goto L105;

  L105:
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} IrpContext_50 != 0;
    call {:si_unique_call 1063} FatUnpinRepinnedBcbs(IrpContext_50);
    goto L31;

  anon92_Then:
    assume {:partition} IrpContext_50 == 0;
    goto L31;

  anon113_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon103_Then:
    assume {:partition} FileInformationClass != 20;
    Status_9 := -1073741811;
    goto L105;

  anon104_Then:
    assume {:partition} FileInformationClass == 19;
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc vslice_dummy_var_123;
    call {:si_unique_call 1064} Status_9 := FatSetAllocationInfo(IrpContext_50, Irp_5, vslice_dummy_var_123, FileObject_14);
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} yogi_error != 1;
    goto L105;

  anon112_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon105_Then:
    assume {:partition} FileInformationClass == 14;
    call {:si_unique_call 1065} Status_9 := FatSetPositionInfo(IrpContext_50, Irp_5, FileObject_14);
    goto L105;

  anon106_Then:
    assume {:partition} FileInformationClass == 13;
    assume {:nonnull} Vcb_37 != 0;
    assume Vcb_37 > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:nonnull} IrpContext_50 != 0;
    assume IrpContext_50 > 0;
    goto anon93_Then, anon93_Else;

  anon93_Else:
    call {:si_unique_call 1066} Status_9 := FatFsdPostRequest(IrpContext_50, Irp_5);
    Irp_5 := 0;
    IrpContext_50 := 0;
    goto L105;

  anon93_Then:
    goto L113;

  L113:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc vslice_dummy_var_124;
    call {:si_unique_call 1067} Status_9 := FatSetDispositionInfo(IrpContext_50, Irp_5, FileObject_14, vslice_dummy_var_124);
    goto L105;

  anon91_Then:
    goto L113;

  anon107_Then:
    assume {:partition} FileInformationClass == 11;
    Status_9 := -1073741808;
    goto L105;

  anon108_Then:
    assume {:partition} FileInformationClass == 10;
    assume {:nonnull} IrpContext_50 != 0;
    assume IrpContext_50 > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:nonnull} Ccb_12 != 0;
    assume Ccb_12 > 0;
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    assume {:nonnull} Vcb_37 != 0;
    assume Vcb_37 > 0;
    havoc vslice_dummy_var_125;
    havoc vslice_dummy_var_126;
    havoc vslice_dummy_var_127;
    call {:si_unique_call 1068} Status_9 := FatSetRenameInfo(IrpContext_50, Irp_5, vslice_dummy_var_125, vslice_dummy_var_126, vslice_dummy_var_127);
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} yogi_error != 1;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} Status_9 == 259;
    Irp_5 := 0;
    IrpContext_50 := 0;
    goto L105;

  anon94_Then:
    assume {:partition} Status_9 != 259;
    goto L105;

  anon111_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon90_Then:
    call {:si_unique_call 1069} Status_9 := FatFsdPostRequest(IrpContext_50, Irp_5);
    Irp_5 := 0;
    IrpContext_50 := 0;
    goto L105;

  anon89_Then:
    assume {:partition} FileInformationClass == 4;
    assume {:nonnull} Ccb_12 != 0;
    assume Ccb_12 > 0;
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc vslice_dummy_var_128;
    havoc vslice_dummy_var_129;
    call {:si_unique_call 1070} Status_9 := FatSetBasicInfo(IrpContext_50, Irp_5, vslice_dummy_var_128, vslice_dummy_var_129);
    goto L105;

  anon88_Then:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc vslice_dummy_var_130;
    call {:si_unique_call 1071} sdv_719 := FatAcquireExclusiveFcb(IrpContext_50, vslice_dummy_var_130);
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:partition} yogi_error != 1;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:partition} sdv_719 != 0;
    FcbAcquired_1 := 1;
    goto L82;

  anon95_Then:
    assume {:partition} sdv_719 == 0;
    call {:si_unique_call 1072} Status_9 := FatFsdPostRequest(IrpContext_50, Irp_5);
    Irp_5 := 0;
    IrpContext_50 := 0;
    goto L31;

  anon114_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon87_Then:
    assume {:partition} sdv_716 == 0;
    call {:si_unique_call 1073} Status_9 := FatFsdPostRequest(IrpContext_50, Irp_5);
    Irp_5 := 0;
    IrpContext_50 := 0;
    goto L31;

  anon110_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon84_Then:
    assume {:partition} FileInformationClass != 13;
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:partition} FileInformationClass != 10;
    goto L78;

  anon86_Then:
    assume {:partition} FileInformationClass == 10;
    goto L55;

  anon79_Then:
    assume {:partition} TypeOfOpen_1 == 2;
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:partition} FileInformationClass == 20;
    goto L159;

  L159:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    call {:si_unique_call 1074} Status_9 := corral_nondet();
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:partition} Status_9 == 0;
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    goto anon99_Then, anon99_Else;

  anon99_Else:
    goto L169;

  L169:
    Tmp_1065 := 0;
    goto L170;

  L170:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    goto L47;

  anon99_Then:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    call {:si_unique_call 1075} sdv_708 := corral_nondet();
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} sdv_708 != 0;
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc Tmp_1063;
    assume {:nonnull} Tmp_1063 != 0;
    assume Tmp_1063 > 0;
    goto anon115_Then, anon115_Else;

  anon115_Else:
    goto L174;

  L174:
    Tmp_1069 := 2;
    goto L175;

  L175:
    Tmp_1065 := Tmp_1069;
    goto L170;

  anon115_Then:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc Tmp_1066;
    assume {:nonnull} Tmp_1066 != 0;
    assume Tmp_1066 > 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    assume {:nonnull} Fcb_16 != 0;
    assume Fcb_16 > 0;
    havoc Tmp_1070;
    assume {:nonnull} Tmp_1070 != 0;
    assume Tmp_1070 > 0;
    goto anon117_Then, anon117_Else;

  anon117_Else:
    Tmp_1069 := 1;
    goto L175;

  anon117_Then:
    goto L174;

  anon116_Then:
    goto L174;

  anon100_Then:
    assume {:partition} sdv_708 == 0;
    goto L169;

  anon98_Then:
    assume {:partition} Status_9 != 0;
    goto L31;

  anon96_Then:
    assume {:partition} FileInformationClass != 20;
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} FileInformationClass == 19;
    goto L159;

  anon97_Then:
    assume {:partition} FileInformationClass != 19;
    goto L47;

  anon80_Then:
    goto L47;
}



procedure {:origName "FatRenameEAs"} FatRenameEAs(actual_IrpContext_51: int, actual_Fcb_17: int, actual_ExtendedAttributes: int, actual_OldOemName_1: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatRenameEAs"} FatRenameEAs(actual_IrpContext_51: int, actual_Fcb_17: int, actual_ExtendedAttributes: int, actual_OldOemName_1: int)
{
  var {:scalar} Tmp_1072: int;
  var {:pointer} EaDirent: int;
  var {:scalar} LockedEaFcb: int;
  var {:pointer} EaBcb: int;
  var {:pointer} Vcb_38: int;
  var {:scalar} EaSetRange: int;
  var {:pointer} IrpContext_51: int;
  var {:pointer} Fcb_17: int;
  var {:scalar} ExtendedAttributes: int;
  var {:pointer} OldOemName_1: int;
  var vslice_dummy_var_132: int;
  var vslice_dummy_var_131: int;

  anon0:
    call {:si_unique_call 1076} EaDirent := __HAVOC_malloc(4);
    call {:si_unique_call 1077} EaBcb := __HAVOC_malloc(4);
    call {:si_unique_call 1078} vslice_dummy_var_132 := __HAVOC_malloc(4);
    call {:si_unique_call 1079} EaSetRange := __HAVOC_malloc(28);
    IrpContext_51 := actual_IrpContext_51;
    Fcb_17 := actual_Fcb_17;
    ExtendedAttributes := actual_ExtendedAttributes;
    OldOemName_1 := actual_OldOemName_1;
    LockedEaFcb := 0;
    assume {:nonnull} EaBcb != 0;
    assume EaBcb > 0;
    call {:si_unique_call 1080} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} Fcb_17 != 0;
    assume Fcb_17 > 0;
    havoc Vcb_38;
    call {:si_unique_call 1081} FatGetEaFile#1(IrpContext_51, Vcb_38, EaDirent, EaBcb, 0, 0);
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} yogi_error != 1;
    LockedEaFcb := 1;
    assume {:nonnull} Vcb_38 != 0;
    assume Vcb_38 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    call {:si_unique_call 1082} FatReadEaSet(IrpContext_51, Vcb_38, ExtendedAttributes, OldOemName_1, 0, EaSetRange);
    assume {:nonnull} EaSetRange != 0;
    assume EaSetRange > 0;
    call {:si_unique_call 1083} sdv_RtlZeroMemory(0, 14);
    assume {:nonnull} Fcb_17 != 0;
    assume Fcb_17 > 0;
    havoc Tmp_1072;
    call {:si_unique_call 1084} sdv_RtlCopyMemory(0, 0, Tmp_1072);
    assume {:nonnull} Vcb_38 != 0;
    assume Vcb_38 > 0;
    havoc vslice_dummy_var_131;
    call {:si_unique_call 1085} FatMarkEaRangeDirty(IrpContext_51, vslice_dummy_var_131, EaSetRange);
    call {:si_unique_call 1086} FatUnpinEaRange(IrpContext_51, EaSetRange);
    assume {:nonnull} Vcb_38 != 0;
    assume Vcb_38 > 0;
    goto L37;

  L37:
    assume {:nonnull} EaBcb != 0;
    assume EaBcb > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} EaBcb != 0;
    assume EaBcb > 0;
    goto L38;

  L38:
    call {:si_unique_call 1087} FatUnpinEaRange(IrpContext_51, EaSetRange);
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} LockedEaFcb != 0;
    assume {:nonnull} Vcb_38 != 0;
    assume Vcb_38 > 0;
    call {:si_unique_call 1088} ExReleaseResourceLite(0);
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon10_Then:
    assume {:partition} LockedEaFcb == 0;
    goto L1;

  anon9_Then:
    goto L38;

  anon12_Then:
    goto L37;

  anon11_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatSetDispositionInfo"} FatSetDispositionInfo(actual_IrpContext_52: int, actual_Irp_6: int, actual_FileObject_15: int, actual_Fcb_18: int) returns (Tmp_1077: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} Tmp_1077 == -1073741535 || Tmp_1077 == -1073741567 || Tmp_1077 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetDispositionInfo"} FatSetDispositionInfo(actual_IrpContext_52: int, actual_Irp_6: int, actual_FileObject_15: int, actual_Fcb_18: int) returns (Tmp_1077: int)
{
  var {:pointer} Tmp_1078: int;
  var {:pointer} Tmp_1079: int;
  var {:scalar} Tmp_1080: int;
  var {:scalar} TmpChar: int;
  var {:pointer} Tmp_1081: int;
  var {:scalar} BytesToMap: int;
  var {:pointer} Tmp_1083: int;
  var {:scalar} sdv_724: int;
  var {:pointer} Dirent_14: int;
  var {:scalar} Iosb_12: int;
  var {:pointer} LocalBuffer: int;
  var {:pointer} Tmp_1085: int;
  var {:pointer} Tmp_1086: int;
  var {:pointer} Tmp_1087: int;
  var {:pointer} Tmp_1088: int;
  var {:scalar} Tmp_1089: int;
  var {:pointer} Tmp_1090: int;
  var {:pointer} Buffer_2: int;
  var {:scalar} sdv_725: int;
  var {:pointer} Bcb_4: int;
  var {:scalar} sdv_726: int;
  var {:scalar} Tmp_1094: int;
  var {:scalar} sdv_727: int;
  var {:scalar} Tmp_1095: int;
  var {:pointer} Tmp_1096: int;
  var {:pointer} Vcb_39: int;
  var {:pointer} LocalBcb: int;
  var {:pointer} Tmp_1097: int;
  var {:pointer} Tmp_1098: int;
  var {:scalar} sdv_730: int;
  var {:pointer} Tmp_1099: int;
  var {:scalar} Tmp_1100: int;
  var {:pointer} Tmp_1101: int;
  var {:pointer} Tmp_1102: int;
  var {:pointer} Tmp_1103: int;
  var {:scalar} Tmp_1104: int;
  var {:pointer} Tmp_1105: int;
  var {:pointer} IrpContext_52: int;
  var {:pointer} Irp_6: int;
  var {:pointer} FileObject_15: int;
  var {:pointer} Fcb_18: int;
  var vslice_dummy_var_133: int;
  var vslice_dummy_var_132: int;
  var vslice_dummy_var_134: int;

  anon0:
    call {:si_unique_call 1089} Dirent_14 := __HAVOC_malloc(4);
    call {:si_unique_call 1090} Iosb_12 := __HAVOC_malloc(12);
    call {:si_unique_call 1091} LocalBuffer := __HAVOC_malloc(4);
    call {:si_unique_call 1092} Bcb_4 := __HAVOC_malloc(4);
    call {:si_unique_call 1093} LocalBcb := __HAVOC_malloc(4);
    IrpContext_52 := actual_IrpContext_52;
    Irp_6 := actual_Irp_6;
    FileObject_15 := actual_FileObject_15;
    Fcb_18 := actual_Fcb_18;
    assume {:nonnull} Irp_6 != 0;
    assume Irp_6 > 0;
    havoc Buffer_2;
    assume {:nonnull} Buffer_2 != 0;
    assume Buffer_2 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    Tmp_1077 := -1073741535;
    goto L1;

  L1:
    return;

  anon35_Then:
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    call {:si_unique_call 1094} sdv_724 := corral_nondet();
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} sdv_724 != 0;
    Tmp_1096 := Fcb_18;
    assume {:nonnull} Tmp_1096 != 0;
    assume Tmp_1096 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} Mem_T.INT4[Tmp_1096] == 1284;
    Tmp_1077 := -1073741535;
    goto L1;

  anon45_Then:
    assume {:partition} Mem_T.INT4[Tmp_1096] != 1284;
    Tmp_1079 := Fcb_18;
    assume {:nonnull} Tmp_1079 != 0;
    assume Tmp_1079 > 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} Mem_T.INT4[Tmp_1079] == 1283;
    call {:si_unique_call 1095} sdv_726 := FatIsDirectoryEmpty(IrpContext_52, Fcb_18);
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} sdv_726 == 0;
    Tmp_1077 := -1073741567;
    goto L1;

  anon37_Then:
    assume {:partition} sdv_726 != 0;
    goto L19;

  L19:
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    havoc Tmp_1097;
    assume {:nonnull} Tmp_1097 != 0;
    assume Tmp_1097 > 0;
    havoc Tmp_1090;
    assume {:nonnull} Tmp_1090 != 0;
    assume Tmp_1090 > 0;
    havoc Tmp_1087;
    assume {:nonnull} Tmp_1087 != 0;
    assume Tmp_1087 > 0;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:nonnull} LocalBcb != 0;
    assume LocalBcb > 0;
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    havoc Vcb_39;
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1088 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Tmp_1088 != 0;
    assume Tmp_1088 > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1099 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1103 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Tmp_1099 != 0;
    assume Tmp_1099 > 0;
    assume {:nonnull} Tmp_1103 != 0;
    assume Tmp_1103 > 0;
    havoc Tmp_1100;
    goto L41;

  L41:
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1083 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1081 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Tmp_1081 != 0;
    assume Tmp_1081 > 0;
    assume {:nonnull} Tmp_1083 != 0;
    assume Tmp_1083 > 0;
    havoc Tmp_1104;
    goto L42;

  L42:
    BytesToMap := Tmp_1104;
    call {:si_unique_call 1096} FatReadVolumeFile(IrpContext_52, Vcb_39, 0, BytesToMap, LocalBcb, LocalBuffer);
    assume {:nonnull} IrpContext_52 != 0;
    assume IrpContext_52 > 0;
    havoc Tmp_1095;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} Tmp_1095 == 0;
    goto L158;

  L158:
    call {:si_unique_call 1097} sdv_727 := corral_nondet();
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} sdv_727 != 0;
    goto L63;

  L63:
    assume {:nonnull} LocalBuffer != 0;
    assume LocalBuffer > 0;
    assume {:nonnull} LocalBuffer != 0;
    assume LocalBuffer > 0;
    havoc TmpChar;
    assume {:nonnull} LocalBuffer != 0;
    assume LocalBuffer > 0;
    havoc Mem_T.INT4;
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    havoc Tmp_1080;
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1086 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1078 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Tmp_1078 != 0;
    assume Tmp_1078 > 0;
    assume {:nonnull} Tmp_1086 != 0;
    assume Tmp_1086 > 0;
    havoc Tmp_1089;
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1101 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1105 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Tmp_1101 != 0;
    assume Tmp_1101 > 0;
    assume {:nonnull} Tmp_1105 != 0;
    assume Tmp_1105 > 0;
    havoc Tmp_1094;
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    call {:si_unique_call 1098} vslice_dummy_var_133 := FatAddMcbEntry(Vcb_39, DirtyFatMcb__VCB(Vcb_39), Tmp_1094, Tmp_1089, Tmp_1080);
    call {:si_unique_call 1099} sdv_725 := sdv_AbnormalTermination();
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} sdv_725 != 0;
    assume {:nonnull} LocalBcb != 0;
    assume LocalBcb > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:nonnull} LocalBcb != 0;
    assume LocalBcb > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} LocalBcb != 0;
    assume LocalBcb > 0;
    goto L76;

  L76:
    assume {:nonnull} Iosb_12 != 0;
    assume Iosb_12 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_12)] >= 0;
    goto L96;

  L96:
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    assume {:nonnull} FileObject_15 != 0;
    assume FileObject_15 > 0;
    Tmp_1085 := Fcb_18;
    assume {:nonnull} Tmp_1085 != 0;
    assume Tmp_1085 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} Mem_T.INT4[Tmp_1085] == 1283;
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    call {:si_unique_call 1100} FsRtlNotifyFullChangeDirectory(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
    goto L99;

  L99:
    Tmp_1077 := 0;
    goto L1;

  anon51_Then:
    assume {:partition} Mem_T.INT4[Tmp_1085] != 1283;
    goto L99;

  anon42_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_12)];
    assume {:nonnull} Iosb_12 != 0;
    assume Iosb_12 > 0;
    assume {:nonnull} IrpContext_52 != 0;
    assume IrpContext_52 > 0;
    call {:si_unique_call 1101} sdv_730 := corral_nondet();
    call {:si_unique_call 1102} ExRaiseStatus(sdv_730);
    goto L96;

  anon41_Then:
    goto L76;

  anon40_Then:
    goto L76;

  anon39_Then:
    assume {:partition} sdv_725 == 0;
    goto L76;

  anon38_Then:
    assume {:partition} sdv_727 == 0;
    assume {:nonnull} IrpContext_52 != 0;
    assume IrpContext_52 > 0;
    call {:si_unique_call 1103} ExRaiseStatus(-1073741608);
    goto L63;

  anon50_Then:
    assume {:partition} Tmp_1095 != 0;
    goto L158;

  anon49_Then:
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1102 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Vcb_39 != 0;
    assume Vcb_39 > 0;
    Tmp_1098 := Bpb__VCB(Vcb_39);
    assume {:nonnull} Tmp_1098 != 0;
    assume Tmp_1098 > 0;
    assume {:nonnull} Tmp_1102 != 0;
    assume Tmp_1102 > 0;
    havoc Tmp_1100;
    goto L41;

  anon48_Then:
    Tmp_1104 := 4096;
    goto L42;

  anon47_Then:
    call {:si_unique_call 1104} FatGetDirentFromFcbOrDcb(IrpContext_52, Fcb_18, Dirent_14, Bcb_4);
    assume {:nonnull} Bcb_4 != 0;
    assume Bcb_4 > 0;
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    havoc vslice_dummy_var_132;
    havoc vslice_dummy_var_134;
    call {:si_unique_call 1105} FatSetDirtyBcb#1(IrpContext_52, vslice_dummy_var_132, vslice_dummy_var_134, 1);
    assume {:nonnull} Bcb_4 != 0;
    assume Bcb_4 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:nonnull} Bcb_4 != 0;
    assume Bcb_4 > 0;
    goto L96;

  anon43_Then:
    goto L96;

  anon46_Then:
    assume {:partition} Mem_T.INT4[Tmp_1079] != 1283;
    goto L19;

  anon36_Then:
    assume {:partition} sdv_724 == 0;
    Tmp_1077 := -1073741535;
    goto L1;

  anon44_Then:
    assume {:nonnull} Fcb_18 != 0;
    assume Fcb_18 > 0;
    assume {:nonnull} FileObject_15 != 0;
    assume FileObject_15 > 0;
    goto L99;
}



procedure {:origName "FatQueryNameInfo"} FatQueryNameInfo(actual_IrpContext_53: int, actual_Fcb_19: int, actual_Ccb_13: int, actual_Buffer_3: int, actual_Length: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryNameInfo"} FatQueryNameInfo(actual_IrpContext_53: int, actual_Fcb_19: int, actual_Ccb_13: int, actual_Buffer_3: int, actual_Length: int)
{
  var {:pointer} Tmp_1106: int;
  var {:pointer} Tmp_1107: int;
  var {:scalar} ShortName_3: int;
  var {:scalar} Overflow: int;
  var {:scalar} BytesToCopy: int;
  var {:pointer} ShortNameBuffer_2: int;
  var {:scalar} TrimLength: int;
  var {:pointer} IrpContext_53: int;
  var {:pointer} Fcb_19: int;
  var {:pointer} Ccb_13: int;
  var {:pointer} Buffer_3: int;
  var {:pointer} Length: int;
  var vslice_dummy_var_134: int;
  var vslice_dummy_var_135: int;

  anon0:
    call {:si_unique_call 1106} ShortName_3 := __HAVOC_malloc(12);
    call {:si_unique_call 1107} vslice_dummy_var_134 := __HAVOC_malloc(4);
    IrpContext_53 := actual_IrpContext_53;
    Fcb_19 := actual_Fcb_19;
    Ccb_13 := actual_Ccb_13;
    Buffer_3 := actual_Buffer_3;
    Length := actual_Length;
    call {:si_unique_call 1108} Tmp_1106 := __HAVOC_malloc(4);
    call {:si_unique_call 1109} Tmp_1107 := __HAVOC_malloc(4);
    call {:si_unique_call 1110} ShortNameBuffer_2 := __HAVOC_malloc(48);
    Overflow := 0;
    assume {:nonnull} Length != 0;
    assume Length > 0;
    Mem_T.INT4[Length] := Mem_T.INT4[Length] - 4;
    assume {:nonnull} Fcb_19 != 0;
    assume Fcb_19 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    goto L12;

  L12:
    TrimLength := 0;
    assume {:nonnull} Fcb_19 != 0;
    assume Fcb_19 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Ccb_13 != 0;
    assume {:nonnull} Ccb_13 != 0;
    assume Ccb_13 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:nonnull} Fcb_19 != 0;
    assume Fcb_19 > 0;
    havoc TrimLength;
    goto L14;

  L14:
    assume {:nonnull} Fcb_19 != 0;
    assume Fcb_19 > 0;
    assume {:nonnull} Length != 0;
    assume Length > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} Length != 0;
    assume Length > 0;
    BytesToCopy := Mem_T.INT4[Length];
    Overflow := 1;
    goto L21;

  L21:
    assume {:nonnull} Buffer_3 != 0;
    assume Buffer_3 > 0;
    havoc Tmp_1107;
    call {:si_unique_call 1111} sdv_RtlCopyMemory(0, 0, BytesToCopy);
    assume {:nonnull} Buffer_3 != 0;
    assume Buffer_3 > 0;
    assume {:nonnull} Fcb_19 != 0;
    assume Fcb_19 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} TrimLength != 0;
    assume {:nonnull} ShortName_3 != 0;
    assume ShortName_3 > 0;
    assume {:nonnull} ShortName_3 != 0;
    assume ShortName_3 > 0;
    assume {:nonnull} ShortName_3 != 0;
    assume ShortName_3 > 0;
    call {:si_unique_call 1112} vslice_dummy_var_135 := RtlOemStringToCountedUnicodeString(0, 0, 0);
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Overflow != 0;
    goto L40;

  L40:
    assume {:nonnull} Buffer_3 != 0;
    assume Buffer_3 > 0;
    assume {:nonnull} ShortName_3 != 0;
    assume ShortName_3 > 0;
    goto L27;

  L27:
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} Overflow != 0;
    assume {:nonnull} Length != 0;
    assume Length > 0;
    Mem_T.INT4[Length] := -1;
    goto L1;

  L1:
    return;

  anon22_Then:
    assume {:partition} Overflow == 0;
    goto L1;

  anon23_Then:
    assume {:partition} Overflow == 0;
    assume {:nonnull} Length != 0;
    assume Length > 0;
    assume {:nonnull} ShortName_3 != 0;
    assume ShortName_3 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} Length != 0;
    assume Length > 0;
    BytesToCopy := Mem_T.INT4[Length];
    Overflow := 1;
    goto L44;

  L44:
    assume {:nonnull} Buffer_3 != 0;
    assume Buffer_3 > 0;
    havoc Tmp_1106;
    call {:si_unique_call 1113} sdv_RtlCopyMemory(0, 0, BytesToCopy);
    goto L40;

  anon24_Then:
    assume {:nonnull} ShortName_3 != 0;
    assume ShortName_3 > 0;
    havoc BytesToCopy;
    assume {:nonnull} Length != 0;
    assume Length > 0;
    Mem_T.INT4[Length] := Mem_T.INT4[Length] - BytesToCopy;
    goto L44;

  anon27_Then:
    assume {:partition} TrimLength == 0;
    goto L27;

  anon19_Then:
    assume {:nonnull} Fcb_19 != 0;
    assume Fcb_19 > 0;
    havoc BytesToCopy;
    assume {:nonnull} Length != 0;
    assume Length > 0;
    Mem_T.INT4[Length] := Mem_T.INT4[Length] - BytesToCopy;
    goto L21;

  anon21_Then:
    goto L14;

  anon20_Then:
    assume {:partition} Ccb_13 == 0;
    goto L14;

  anon26_Then:
    goto L14;

  anon25_Then:
    call {:si_unique_call 1114} FatSetFullFileNameInFcb#1(IrpContext_53, Fcb_19);
    goto L12;
}



procedure {:origName "FatSetEndOfFileInfo"} FatSetEndOfFileInfo(actual_IrpContext_54: int, actual_Irp_7: int, actual_FileObject_16: int, actual_Vcb_40: int, actual_Fcb_20: int) returns (Tmp_1112: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetEndOfFileInfo"} FatSetEndOfFileInfo(actual_IrpContext_54: int, actual_Irp_7: int, actual_FileObject_16: int, actual_Vcb_40: int, actual_Fcb_20: int) returns (Tmp_1112: int)
{
  var {:scalar} UnwindFileSizes: int;
  var {:scalar} CacheMapInitialized: int;
  var {:scalar} sdv_732: int;
  var {:scalar} NewFileSize: int;
  var {:scalar} Status_11: int;
  var {:scalar} ResourceAcquired: int;
  var {:pointer} Dirent_15: int;
  var {:pointer} sdv_733: int;
  var {:pointer} Buffer_4: int;
  var {:pointer} Tmp_1114: int;
  var {:pointer} DirentBcb_7: int;
  var {:pointer} Tmp_1115: int;
  var {:pointer} Tmp_1116: int;
  var {:scalar} sdv_738: int;
  var {:scalar} InitialValidDataToDisk: int;
  var {:scalar} Tmp_1117: int;
  var {:scalar} sdv_739: int;
  var {:pointer} Tmp_1118: int;
  var {:scalar} InitialValidDataLength: int;
  var {:scalar} Tmp_1119: int;
  var {:pointer} Tmp_1120: int;
  var {:scalar} InitialFileSize: int;
  var {:pointer} Tmp_1121: int;
  var {:pointer} IrpContext_54: int;
  var {:pointer} Irp_7: int;
  var {:pointer} FileObject_16: int;
  var {:pointer} Fcb_20: int;
  var vslice_dummy_var_136: int;
  var vslice_dummy_var_135: int;
  var vslice_dummy_var_137: int;
  var vslice_dummy_var_138: int;
  var vslice_dummy_var_139: int;

  anon0:
    call {:si_unique_call 1115} Dirent_15 := __HAVOC_malloc(4);
    call {:si_unique_call 1116} DirentBcb_7 := __HAVOC_malloc(4);
    IrpContext_54 := actual_IrpContext_54;
    Irp_7 := actual_Irp_7;
    FileObject_16 := actual_FileObject_16;
    Fcb_20 := actual_Fcb_20;
    CacheMapInitialized := 0;
    UnwindFileSizes := 0;
    ResourceAcquired := 0;
    assume {:nonnull} Irp_7 != 0;
    assume Irp_7 > 0;
    havoc Buffer_4;
    Tmp_1116 := Fcb_20;
    assume {:nonnull} Tmp_1116 != 0;
    assume Tmp_1116 > 0;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} Mem_T.INT4[Tmp_1116] != 1282;
    Status_11 := -1073741808;
    goto L22;

  L22:
    call {:si_unique_call 1117} FatUnpinRepinnedBcbs(IrpContext_54);
    call {:si_unique_call 1118} sdv_738 := sdv_AbnormalTermination();
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} sdv_738 != 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} UnwindFileSizes != 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} FileObject_16 != 0;
    assume FileObject_16 > 0;
    havoc Tmp_1115;
    assume {:nonnull} Tmp_1115 != 0;
    assume Tmp_1115 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:nonnull} FileObject_16 != 0;
    assume FileObject_16 > 0;
    havoc Tmp_1121;
    assume {:nonnull} Tmp_1121 != 0;
    assume Tmp_1121 > 0;
    havoc Tmp_1114;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} Tmp_1114 != 0;
    assume Tmp_1114 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} Tmp_1114 != 0;
    assume Tmp_1114 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} Tmp_1114 != 0;
    assume Tmp_1114 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} Tmp_1114 != 0;
    assume Tmp_1114 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} Tmp_1114 != 0;
    assume Tmp_1114 > 0;
    goto L47;

  L47:
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} CacheMapInitialized != 0;
    call {:si_unique_call 1119} vslice_dummy_var_136 := corral_nondet();
    goto L54;

  L54:
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} ResourceAcquired != 0;
    call {:si_unique_call 1120} ExReleaseResourceLite(0);
    goto L58;

  L58:
    Tmp_1112 := Status_11;
    goto LM2;

  LM2:
    return;

  anon62_Then:
    assume {:partition} ResourceAcquired == 0;
    goto L58;

  anon60_Then:
    assume {:partition} CacheMapInitialized == 0;
    goto L54;

  anon81_Then:
    goto L47;

  anon61_Then:
    assume {:partition} UnwindFileSizes == 0;
    goto L47;

  anon59_Then:
    assume {:partition} sdv_738 == 0;
    goto L47;

  anon80_Then:
    assume {:partition} Mem_T.INT4[Tmp_1116] == 1282;
    assume {:nonnull} Buffer_4 != 0;
    assume Buffer_4 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    havoc vslice_dummy_var_135;
    havoc vslice_dummy_var_137;
    call {:si_unique_call 1121} sdv_732 := FatIsIoRangeValid(vslice_dummy_var_135, vslice_dummy_var_137, 0);
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} sdv_732 != 0;
    assume {:nonnull} Buffer_4 != 0;
    assume Buffer_4 > 0;
    havoc NewFileSize;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    call {:si_unique_call 1122} FatLookupFileAllocationSize#1(IrpContext_54, Fcb_20);
    goto L66;

  L66:
    assume {:nonnull} FileObject_16 != 0;
    assume FileObject_16 > 0;
    havoc Tmp_1118;
    assume {:nonnull} Tmp_1118 != 0;
    assume Tmp_1118 > 0;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:nonnull} FileObject_16 != 0;
    assume FileObject_16 > 0;
    havoc Tmp_1120;
    assume {:nonnull} Tmp_1120 != 0;
    assume Tmp_1120 > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:nonnull} Irp_7 != 0;
    assume Irp_7 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:nonnull} FileObject_16 != 0;
    assume FileObject_16 > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:nonnull} IrpContext_54 != 0;
    assume IrpContext_54 > 0;
    call {:si_unique_call 1123} ExRaiseStatus(-1073741528);
    goto L76;

  L76:
    CacheMapInitialized := 1;
    goto L70;

  L70:
    call {:si_unique_call 1124} sdv_733 := sdv_IoGetCurrentIrpStackLocation(Irp_7);
    assume {:nonnull} sdv_733 != 0;
    assume sdv_733 > 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    goto L89;

  L89:
    Status_11 := 0;
    goto L22;

  anon70_Then:
    goto L87;

  L87:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    havoc NewFileSize;
    goto L94;

  L94:
    call {:si_unique_call 1125} FatGetDirentFromFcbOrDcb(IrpContext_54, Fcb_20, Dirent_15, DirentBcb_7);
    assume {:nonnull} Dirent_15 != 0;
    assume Dirent_15 > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:nonnull} Dirent_15 != 0;
    assume Dirent_15 > 0;
    assume {:nonnull} DirentBcb_7 != 0;
    assume DirentBcb_7 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    havoc vslice_dummy_var_138;
    havoc vslice_dummy_var_139;
    call {:si_unique_call 1126} FatSetDirtyBcb#1(IrpContext_54, vslice_dummy_var_138, vslice_dummy_var_139, 1);
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    goto L113;

  L113:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    havoc Tmp_1117;
    call {:si_unique_call 1127} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_1117, 0, 0, 8, 3, 0);
    goto L99;

  L99:
    assume {:nonnull} DirentBcb_7 != 0;
    assume DirentBcb_7 > 0;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:nonnull} DirentBcb_7 != 0;
    assume DirentBcb_7 > 0;
    goto L89;

  anon73_Then:
    goto L89;

  anon74_Then:
    call {:si_unique_call 1128} FatSetFullFileNameInFcb#1(IrpContext_54, Fcb_20);
    goto L113;

  anon72_Then:
    goto L99;

  anon71_Then:
    goto L94;

  anon69_Then:
    goto L89;

  anon68_Then:
    goto L87;

  anon66_Then:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    call {:si_unique_call 1129} FatAddFileAllocation(IrpContext_54, Fcb_20, FileObject_16, NewFileSize);
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} yogi_error != 1;
    goto L121;

  L121:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon76_Then, anon76_Else;

  anon76_Else:
    call {:si_unique_call 1130} sdv_739 := corral_nondet();
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} sdv_739 != 0;
    call {:si_unique_call 1131} ResourceAcquired := ExAcquireResourceExclusiveLite(0, 1);
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:partition} yogi_error != 1;
    goto L127;

  L127:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    havoc InitialFileSize;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    havoc InitialValidDataLength;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    havoc InitialValidDataToDisk;
    UnwindFileSizes := 1;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto L143;

  L143:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto L145;

  L145:
    call {:si_unique_call 1132} FatSetFileSizeInDirent(IrpContext_54, Fcb_20, 0);
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    goto L156;

  L156:
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    havoc Tmp_1119;
    call {:si_unique_call 1133} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_1119, 0, 0, 8, 3, 0);
    assume {:nonnull} Fcb_20 != 0;
    assume Fcb_20 > 0;
    goto L125;

  L125:
    assume {:nonnull} FileObject_16 != 0;
    assume FileObject_16 > 0;
    Status_11 := 0;
    goto L22;

  anon79_Then:
    call {:si_unique_call 1134} FatSetFullFileNameInFcb#1(IrpContext_54, Fcb_20);
    goto L156;

  anon78_Then:
    goto L145;

  anon87_Then:
    goto L143;

  anon86_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon77_Then:
    assume {:partition} sdv_739 == 0;
    Status_11 := -1073741245;
    goto L22;

  anon76_Then:
    goto L127;

  anon75_Then:
    goto L125;

  anon85_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon67_Then:
    goto L121;

  anon65_Then:
    goto L76;

  anon64_Then:
    goto L70;

  anon84_Then:
    goto L70;

  anon83_Then:
    goto L70;

  anon82_Then:
    goto L66;

  anon63_Then:
    assume {:partition} sdv_732 == 0;
    Status_11 := -1073741697;
    goto L22;
}



procedure {:origName "FatCommonQueryInformation"} FatCommonQueryInformation(actual_IrpContext_55: int, actual_Irp_8: int) returns (Tmp_1122: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonQueryInformation"} FatCommonQueryInformation(actual_IrpContext_55: int, actual_Irp_8: int) returns (Tmp_1122: int)
{
  var {:pointer} AllInfo: int;
  var {:pointer} Ccb_14: int;
  var {:pointer} Fcb_21: int;
  var {:scalar} Status_12: int;
  var {:pointer} FileObject_17: int;
  var {:pointer} Buffer_5: int;
  var {:scalar} FcbAcquired_2: int;
  var {:scalar} TypeOfOpen_2: int;
  var {:pointer} IrpSp_7: int;
  var {:scalar} sdv_744: int;
  var {:scalar} sdv_745: int;
  var {:scalar} FileInformationClass_1: int;
  var {:pointer} Vcb_41: int;
  var {:dopa} {:scalar} Length_1: int;
  var {:scalar} VcbAcquired_1: int;
  var {:scalar} sdv_747: int;
  var {:pointer} IrpContext_55: int;
  var {:pointer} Irp_8: int;
  var vslice_dummy_var_140: int;
  var vslice_dummy_var_141: int;
  var vslice_dummy_var_142: int;
  var vslice_dummy_var_143: int;
  var vslice_dummy_var_144: int;
  var vslice_dummy_var_145: int;
  var vslice_dummy_var_146: int;
  var vslice_dummy_var_147: int;
  var vslice_dummy_var_148: int;
  var vslice_dummy_var_149: int;
  var vslice_dummy_var_150: int;
  var vslice_dummy_var_151: int;
  var vslice_dummy_var_152: int;
  var vslice_dummy_var_153: int;
  var vslice_dummy_var_154: int;
  var vslice_dummy_var_155: int;
  var vslice_dummy_var_156: int;
  var vslice_dummy_var_157: int;

  anon0:
    call {:si_unique_call 1135} Ccb_14 := __HAVOC_malloc(4);
    call {:si_unique_call 1136} Fcb_21 := __HAVOC_malloc(4);
    call {:si_unique_call 1137} Vcb_41 := __HAVOC_malloc(4);
    call {:si_unique_call 1138} Length_1 := __HAVOC_malloc(4);
    IrpContext_55 := actual_IrpContext_55;
    Irp_8 := actual_Irp_8;
    FcbAcquired_2 := 0;
    VcbAcquired_1 := 0;
    call {:si_unique_call 1139} IrpSp_7 := sdv_IoGetCurrentIrpStackLocation(Irp_8);
    assume {:nonnull} IrpSp_7 != 0;
    assume IrpSp_7 > 0;
    havoc FileObject_17;
    assume {:nonnull} IrpSp_7 != 0;
    assume IrpSp_7 > 0;
    assume {:nonnull} Length_1 != 0;
    assume Length_1 > 0;
    havoc vslice_dummy_var_140;
    Mem_T.INT4[Length_1] := vslice_dummy_var_140;
    assume {:nonnull} IrpSp_7 != 0;
    assume IrpSp_7 > 0;
    havoc FileInformationClass_1;
    assume {:nonnull} Irp_8 != 0;
    assume Irp_8 > 0;
    havoc Buffer_5;
    call {:si_unique_call 1140} TypeOfOpen_2 := FatDecodeFileObject(FileObject_17, Vcb_41, Fcb_21, Ccb_14);
    Status_12 := 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} TypeOfOpen_2 != 2;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} TypeOfOpen_2 != 3;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} TypeOfOpen_2 != 4;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} TypeOfOpen_2 == 6;
    goto L33;

  L33:
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} FileInformationClass_1 == 9;
    goto L57;

  L57:
    assume {:nonnull} Vcb_41 != 0;
    assume Vcb_41 > 0;
    havoc vslice_dummy_var_141;
    call {:si_unique_call 1141} sdv_745 := FatAcquireExclusiveVcb(IrpContext_55, vslice_dummy_var_141);
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} yogi_error != 1;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} sdv_745 != 0;
    VcbAcquired_1 := 1;
    goto L80;

  L80:
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    goto L84;

  L84:
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_142;
    call {:si_unique_call 1142} FatVerifyFcb(IrpContext_55, vslice_dummy_var_142);
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} FileInformationClass_1 != 4;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} FileInformationClass_1 != 5;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} FileInformationClass_1 != 6;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} FileInformationClass_1 != 7;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} FileInformationClass_1 != 9;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} FileInformationClass_1 != 14;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} FileInformationClass_1 != 18;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} FileInformationClass_1 != 21;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} FileInformationClass_1 == 34;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_143;
    call {:si_unique_call 1143} FatQueryNetworkInfo(IrpContext_55, vslice_dummy_var_143, FileObject_17, Buffer_5, Length_1);
    goto L36;

  L36:
    assume {:nonnull} Length_1 != 0;
    assume Length_1 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} 0 > Mem_T.INT4[Length_1];
    Status_12 := 5;
    assume {:nonnull} Length_1 != 0;
    assume Length_1 > 0;
    Mem_T.INT4[Length_1] := 0;
    goto L37;

  L37:
    assume {:nonnull} IrpSp_7 != 0;
    assume IrpSp_7 > 0;
    assume {:nonnull} Irp_8 != 0;
    assume Irp_8 > 0;
    assume {:nonnull} Length_1 != 0;
    assume Length_1 > 0;
    goto L40;

  L40:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} FcbAcquired_2 != 0;
    call {:si_unique_call 1144} ExReleaseResourceLite(0);
    goto L41;

  L41:
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} VcbAcquired_1 != 0;
    call {:si_unique_call 1145} ExReleaseResourceLite(0);
    goto L45;

  L45:
    call {:si_unique_call 1146} sdv_744 := sdv_AbnormalTermination();
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} sdv_744 != 0;
    goto L55;

  L55:
    Tmp_1122 := Status_12;
    goto LM2;

  LM2:
    return;

  anon57_Then:
    assume {:partition} sdv_744 == 0;
    call {:si_unique_call 1147} FatCompleteRequest_Real(IrpContext_55, Irp_8, Status_12);
    goto L55;

  anon56_Then:
    assume {:partition} VcbAcquired_1 == 0;
    goto L45;

  anon55_Then:
    assume {:partition} FcbAcquired_2 == 0;
    goto L41;

  anon54_Then:
    assume {:partition} Mem_T.INT4[Length_1] >= 0;
    goto L37;

  anon66_Then:
    assume {:partition} FileInformationClass_1 != 34;
    Status_12 := -1073741811;
    goto L36;

  anon67_Then:
    assume {:partition} FileInformationClass_1 == 21;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_144;
    call {:si_unique_call 1148} FatQueryShortNameInfo(IrpContext_55, vslice_dummy_var_144, Buffer_5, Length_1);
    goto L36;

  anon68_Then:
    assume {:partition} FileInformationClass_1 == 18;
    AllInfo := Buffer_5;
    assume {:nonnull} Length_1 != 0;
    assume Length_1 > 0;
    Mem_T.INT4[Length_1] := Mem_T.INT4[Length_1] - 12;
    assume {:nonnull} AllInfo != 0;
    assume AllInfo > 0;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_145;
    call {:si_unique_call 1149} FatQueryBasicInfo(IrpContext_55, vslice_dummy_var_145, FileObject_17, BasicInformation__FILE_ALL_INFORMATION(AllInfo), Length_1);
    assume {:nonnull} AllInfo != 0;
    assume AllInfo > 0;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_146;
    call {:si_unique_call 1150} FatQueryStandardInfo(IrpContext_55, vslice_dummy_var_146, StandardInformation__FILE_ALL_INFORMATION(AllInfo), Length_1);
    assume {:nonnull} AllInfo != 0;
    assume AllInfo > 0;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_147;
    call {:si_unique_call 1151} FatQueryInternalInfo(IrpContext_55, vslice_dummy_var_147, InternalInformation__FILE_ALL_INFORMATION(AllInfo), Length_1);
    assume {:nonnull} AllInfo != 0;
    assume AllInfo > 0;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_148;
    call {:si_unique_call 1152} FatQueryEaInfo(IrpContext_55, vslice_dummy_var_148, EaInformation__FILE_ALL_INFORMATION(AllInfo), Length_1);
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} AllInfo != 0;
    assume AllInfo > 0;
    call {:si_unique_call 1153} FatQueryPositionInfo(IrpContext_55, FileObject_17, PositionInformation__FILE_ALL_INFORMATION(AllInfo), Length_1);
    assume {:nonnull} AllInfo != 0;
    assume AllInfo > 0;
    assume {:nonnull} Ccb_14 != 0;
    assume Ccb_14 > 0;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_149;
    havoc vslice_dummy_var_150;
    call {:si_unique_call 1154} FatQueryNameInfo(IrpContext_55, vslice_dummy_var_149, vslice_dummy_var_150, NameInformation__FILE_ALL_INFORMATION(AllInfo), Length_1);
    goto L36;

  anon77_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon69_Then:
    assume {:partition} FileInformationClass_1 == 14;
    call {:si_unique_call 1155} FatQueryPositionInfo(IrpContext_55, FileObject_17, Buffer_5, Length_1);
    goto L36;

  anon70_Then:
    assume {:partition} FileInformationClass_1 == 9;
    assume {:nonnull} Ccb_14 != 0;
    assume Ccb_14 > 0;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_151;
    havoc vslice_dummy_var_152;
    call {:si_unique_call 1156} FatQueryNameInfo(IrpContext_55, vslice_dummy_var_151, vslice_dummy_var_152, Buffer_5, Length_1);
    goto L36;

  anon71_Then:
    assume {:partition} FileInformationClass_1 == 7;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_153;
    call {:si_unique_call 1157} FatQueryEaInfo(IrpContext_55, vslice_dummy_var_153, Buffer_5, Length_1);
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} yogi_error != 1;
    goto L36;

  anon76_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon72_Then:
    assume {:partition} FileInformationClass_1 == 6;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_154;
    call {:si_unique_call 1158} FatQueryInternalInfo(IrpContext_55, vslice_dummy_var_154, Buffer_5, Length_1);
    goto L36;

  anon73_Then:
    assume {:partition} FileInformationClass_1 == 5;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_155;
    call {:si_unique_call 1159} FatQueryStandardInfo(IrpContext_55, vslice_dummy_var_155, Buffer_5, Length_1);
    goto L36;

  anon61_Then:
    assume {:partition} FileInformationClass_1 == 4;
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_156;
    call {:si_unique_call 1160} FatQueryBasicInfo(IrpContext_55, vslice_dummy_var_156, FileObject_17, Buffer_5, Length_1);
    goto L36;

  anon60_Then:
    assume {:nonnull} Fcb_21 != 0;
    assume Fcb_21 > 0;
    havoc vslice_dummy_var_157;
    call {:si_unique_call 1161} sdv_747 := FatAcquireSharedFcb(IrpContext_55, vslice_dummy_var_157);
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} yogi_error != 1;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} sdv_747 != 0;
    FcbAcquired_2 := 1;
    goto L84;

  anon62_Then:
    assume {:partition} sdv_747 == 0;
    call {:si_unique_call 1162} Status_12 := FatFsdPostRequest(IrpContext_55, Irp_8);
    IrpContext_55 := 0;
    Irp_8 := 0;
    goto L40;

  anon78_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon59_Then:
    assume {:partition} sdv_745 == 0;
    call {:si_unique_call 1163} Status_12 := FatFsdPostRequest(IrpContext_55, Irp_8);
    IrpContext_55 := 0;
    Irp_8 := 0;
    goto L40;

  anon75_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon53_Then:
    assume {:partition} FileInformationClass_1 != 9;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} FileInformationClass_1 != 18;
    goto L80;

  anon58_Then:
    assume {:partition} FileInformationClass_1 == 18;
    goto L57;

  anon63_Then:
    assume {:partition} TypeOfOpen_2 != 6;
    Status_12 := -1073741811;
    goto L36;

  anon64_Then:
    assume {:partition} TypeOfOpen_2 == 4;
    Status_12 := -1073741811;
    goto L36;

  anon65_Then:
    assume {:partition} TypeOfOpen_2 == 3;
    goto L33;

  anon74_Then:
    assume {:partition} TypeOfOpen_2 == 2;
    goto L33;
}



procedure {:origName "FatQueryNetworkInfo"} FatQueryNetworkInfo(actual_IrpContext_56: int, actual_Fcb_22: int, actual_FileObject_18: int, actual_Buffer_6: int, actual_Length_2: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryNetworkInfo"} FatQueryNetworkInfo(actual_IrpContext_56: int, actual_Fcb_22: int, actual_FileObject_18: int, actual_Buffer_6: int, actual_Length_2: int)
{
  var {:pointer} Tmp_1124: int;
  var {:pointer} IrpContext_56: int;
  var {:pointer} Fcb_22: int;
  var {:pointer} Buffer_6: int;
  var {:pointer} Length_2: int;
  var vslice_dummy_var_137: int;

  anon0:
    call {:si_unique_call 1164} vslice_dummy_var_137 := __HAVOC_malloc(4);
    IrpContext_56 := actual_IrpContext_56;
    Fcb_22 := actual_Fcb_22;
    Buffer_6 := actual_Buffer_6;
    Length_2 := actual_Length_2;
    call {:si_unique_call 1165} sdv_RtlZeroMemory(0, 56);
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    goto L13;

  L13:
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    goto L15;

  L15:
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    goto L18;

  L18:
    Tmp_1124 := Fcb_22;
    assume {:nonnull} Tmp_1124 != 0;
    assume Tmp_1124 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Mem_T.INT4[Tmp_1124] == 1282;
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    call {:si_unique_call 1166} FatLookupFileAllocationSize#1(IrpContext_56, Fcb_22);
    goto L21;

  L21:
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    goto L19;

  L19:
    assume {:nonnull} Length_2 != 0;
    assume Length_2 > 0;
    Mem_T.INT4[Length_2] := Mem_T.INT4[Length_2] - 56;
    return;

  anon13_Then:
    goto L21;

  anon15_Then:
    assume {:partition} Mem_T.INT4[Tmp_1124] != 1282;
    goto L19;

  anon12_Then:
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    goto L18;

  anon14_Then:
    goto L15;

  anon11_Then:
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    assume {:nonnull} Buffer_6 != 0;
    assume Buffer_6 > 0;
    assume {:nonnull} Fcb_22 != 0;
    assume Fcb_22 > 0;
    goto L13;
}



procedure {:origName "FatFsdQueryInformation"} FatFsdQueryInformation(actual_VolumeDeviceObject_2: int, actual_Irp_9: int) returns (Tmp_1127: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdQueryInformation"} FatFsdQueryInformation(actual_VolumeDeviceObject_2: int, actual_Irp_9: int) returns (Tmp_1127: int)
{
  var {:scalar} TopLevel_1: int;
  var {:scalar} Status_13: int;
  var {:scalar} sdv_751: int;
  var {:pointer} IrpContext_57: int;
  var {:pointer} VolumeDeviceObject_2: int;
  var {:pointer} Irp_9: int;

  anon0:
    VolumeDeviceObject_2 := actual_VolumeDeviceObject_2;
    Irp_9 := actual_Irp_9;
    IrpContext_57 := 0;
    call {:si_unique_call 1167} KeEnterCriticalRegion();
    call {:si_unique_call 1168} TopLevel_1 := FatIsIrpTopLevel(Irp_9);
    call {:si_unique_call 1169} sdv_751 := corral_nondet();
    call {:si_unique_call 1170} IrpContext_57 := FatCreateIrpContext(Irp_9, sdv_751);
    call {:si_unique_call 1171} Status_13 := FatCommonQueryInformation(IrpContext_57, Irp_9);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} TopLevel_1 != 0;
    goto L34;

  L34:
    call {:si_unique_call 1172} KeLeaveCriticalRegion();
    Tmp_1127 := Status_13;
    goto LM2;

  LM2:
    return;

  anon5_Then:
    assume {:partition} TopLevel_1 == 0;
    goto L34;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatSetAllocationInfo"} FatSetAllocationInfo(actual_IrpContext_58: int, actual_Irp_10: int, actual_Fcb_23: int, actual_FileObject_19: int) returns (Tmp_1129: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetAllocationInfo"} FatSetAllocationInfo(actual_IrpContext_58: int, actual_Irp_10: int, actual_Fcb_23: int, actual_FileObject_19: int) returns (Tmp_1129: int)
{
  var {:scalar} OriginalValidDataToDisk: int;
  var {:scalar} FileSizeTruncated: int;
  var {:scalar} CacheMapInitialized_1: int;
  var {:pointer} Tmp_1131: int;
  var {:scalar} sdv_756: int;
  var {:scalar} Status_14: int;
  var {:scalar} ResourceAcquired_1: int;
  var {:pointer} Tmp_1133: int;
  var {:scalar} sdv_757: int;
  var {:pointer} Buffer_7: int;
  var {:pointer} Tmp_1135: int;
  var {:scalar} OriginalValidDataLength: int;
  var {:scalar} OriginalFileSize: int;
  var {:pointer} Tmp_1136: int;
  var {:pointer} Tmp_1137: int;
  var {:scalar} sdv_760: int;
  var {:scalar} NewAllocationSize: int;
  var {:pointer} Tmp_1138: int;
  var {:scalar} Tmp_1139: int;
  var {:pointer} IrpContext_58: int;
  var {:pointer} Irp_10: int;
  var {:pointer} Fcb_23: int;
  var {:pointer} FileObject_19: int;
  var vslice_dummy_var_138: int;
  var vslice_dummy_var_139: int;
  var vslice_dummy_var_158: int;
  var vslice_dummy_var_159: int;

  anon0:
    IrpContext_58 := actual_IrpContext_58;
    Irp_10 := actual_Irp_10;
    Fcb_23 := actual_Fcb_23;
    FileObject_19 := actual_FileObject_19;
    Status_14 := 0;
    FileSizeTruncated := 0;
    CacheMapInitialized_1 := 0;
    ResourceAcquired_1 := 0;
    assume {:nonnull} Irp_10 != 0;
    assume Irp_10 > 0;
    havoc Buffer_7;
    assume {:nonnull} Buffer_7 != 0;
    assume Buffer_7 > 0;
    havoc NewAllocationSize;
    Tmp_1131 := Fcb_23;
    assume {:nonnull} Tmp_1131 != 0;
    assume Tmp_1131 > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} Mem_T.INT4[Tmp_1131] == 1283;
    Tmp_1129 := -1073741808;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon55_Then:
    assume {:partition} Mem_T.INT4[Tmp_1131] != 1283;
    assume {:nonnull} Buffer_7 != 0;
    assume Buffer_7 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    havoc vslice_dummy_var_158;
    havoc vslice_dummy_var_159;
    call {:si_unique_call 1173} sdv_756 := FatIsIoRangeValid(vslice_dummy_var_158, vslice_dummy_var_159, 0);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} sdv_756 != 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    call {:si_unique_call 1174} FatLookupFileAllocationSize#1(IrpContext_58, Fcb_23);
    goto L26;

  L26:
    assume {:nonnull} FileObject_19 != 0;
    assume FileObject_19 > 0;
    havoc Tmp_1135;
    assume {:nonnull} Tmp_1135 != 0;
    assume Tmp_1135 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} FileObject_19 != 0;
    assume FileObject_19 > 0;
    havoc Tmp_1133;
    assume {:nonnull} Tmp_1133 != 0;
    assume Tmp_1133 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:nonnull} Irp_10 != 0;
    assume Irp_10 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    CacheMapInitialized_1 := 1;
    goto L30;

  L30:
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} FileObject_19 != 0;
    assume FileObject_19 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    call {:si_unique_call 1175} FatAddFileAllocation(IrpContext_58, Fcb_23, FileObject_19, NewAllocationSize);
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} yogi_error != 1;
    goto L61;

  L61:
    call {:si_unique_call 1176} sdv_760 := sdv_AbnormalTermination();
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} sdv_760 != 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} FileSizeTruncated != 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} FileObject_19 != 0;
    assume FileObject_19 > 0;
    havoc Tmp_1138;
    assume {:nonnull} Tmp_1138 != 0;
    assume Tmp_1138 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:nonnull} FileObject_19 != 0;
    assume FileObject_19 > 0;
    havoc Tmp_1137;
    assume {:nonnull} Tmp_1137 != 0;
    assume Tmp_1137 > 0;
    havoc Tmp_1136;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Tmp_1136 != 0;
    assume Tmp_1136 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Tmp_1136 != 0;
    assume Tmp_1136 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Tmp_1136 != 0;
    assume Tmp_1136 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Tmp_1136 != 0;
    assume Tmp_1136 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Tmp_1136 != 0;
    assume Tmp_1136 > 0;
    goto L65;

  L65:
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} CacheMapInitialized_1 != 0;
    call {:si_unique_call 1177} vslice_dummy_var_138 := corral_nondet();
    goto L72;

  L72:
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} ResourceAcquired_1 != 0;
    call {:si_unique_call 1178} ExReleaseResourceLite(0);
    goto L76;

  L76:
    Tmp_1129 := Status_14;
    goto L1;

  anon50_Then:
    assume {:partition} ResourceAcquired_1 == 0;
    goto L76;

  anon48_Then:
    assume {:partition} CacheMapInitialized_1 == 0;
    goto L72;

  anon60_Then:
    goto L65;

  anon49_Then:
    assume {:partition} FileSizeTruncated == 0;
    goto L65;

  anon47_Then:
    assume {:partition} sdv_760 == 0;
    goto L65;

  anon59_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon58_Then:
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    call {:si_unique_call 1179} sdv_757 := corral_nondet();
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} sdv_757 != 0;
    FileSizeTruncated := 1;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    havoc OriginalFileSize;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    havoc OriginalValidDataLength;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    havoc OriginalValidDataToDisk;
    call {:si_unique_call 1180} vslice_dummy_var_139 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} yogi_error != 1;
    ResourceAcquired_1 := 1;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    goto L98;

  L98:
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    goto L80;

  L80:
    call {:si_unique_call 1181} FatTruncateFileAllocation(IrpContext_58, Fcb_23, NewAllocationSize);
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} yogi_error != 1;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} FileSizeTruncated != 0;
    FileSizeTruncated := 0;
    call {:si_unique_call 1182} FatSetFileSizeInDirent(IrpContext_58, Fcb_23, 0);
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    goto L114;

  L114:
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    havoc Tmp_1139;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    assume {:nonnull} Fcb_23 != 0;
    assume Fcb_23 > 0;
    call {:si_unique_call 1183} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_1139, 0, 0, 8, 3, 0);
    goto L61;

  anon54_Then:
    call {:si_unique_call 1184} FatSetFullFileNameInFcb#1(IrpContext_58, Fcb_23);
    goto L114;

  anon53_Then:
    assume {:partition} FileSizeTruncated == 0;
    goto L61;

  anon63_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon52_Then:
    goto L80;

  anon62_Then:
    goto L98;

  anon61_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon51_Then:
    assume {:partition} sdv_757 == 0;
    Status_14 := -1073741245;
    goto L61;

  anon46_Then:
    goto L80;

  anon45_Then:
    goto L30;

  anon57_Then:
    goto L30;

  anon56_Then:
    goto L30;

  anon44_Then:
    goto L26;

  anon43_Then:
    assume {:partition} sdv_756 == 0;
    Tmp_1129 := -1073741697;
    goto L1;
}



procedure {:origName "FatQueryShortNameInfo"} FatQueryShortNameInfo(actual_IrpContext_59: int, actual_Fcb_24: int, actual_Buffer_8: int, actual_Length_3: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryShortNameInfo"} FatQueryShortNameInfo(actual_IrpContext_59: int, actual_Fcb_24: int, actual_Buffer_8: int, actual_Length_3: int)
{
  var {:scalar} ShortName_4: int;
  var {:scalar} BytesToCopy_1: int;
  var {:pointer} ShortNameBuffer_3: int;
  var {:pointer} Tmp_1143: int;
  var {:pointer} Buffer_8: int;
  var {:pointer} Length_3: int;
  var vslice_dummy_var_140: int;
  var vslice_dummy_var_141: int;
  var vslice_dummy_var_160: int;

  anon0:
    call {:si_unique_call 1185} ShortName_4 := __HAVOC_malloc(12);
    call {:si_unique_call 1186} vslice_dummy_var_140 := __HAVOC_malloc(4);
    Buffer_8 := actual_Buffer_8;
    Length_3 := actual_Length_3;
    call {:si_unique_call 1187} ShortNameBuffer_3 := __HAVOC_malloc(48);
    call {:si_unique_call 1188} Tmp_1143 := __HAVOC_malloc(4);
    assume {:nonnull} ShortName_4 != 0;
    assume ShortName_4 > 0;
    assume {:nonnull} ShortName_4 != 0;
    assume ShortName_4 > 0;
    assume {:nonnull} ShortName_4 != 0;
    assume ShortName_4 > 0;
    assume {:nonnull} Length_3 != 0;
    assume Length_3 > 0;
    Mem_T.INT4[Length_3] := Mem_T.INT4[Length_3] - 4;
    call {:si_unique_call 1189} vslice_dummy_var_141 := RtlOemStringToCountedUnicodeString(0, 0, 0);
    assume {:nonnull} Length_3 != 0;
    assume Length_3 > 0;
    assume {:nonnull} ShortName_4 != 0;
    assume ShortName_4 > 0;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:nonnull} Length_3 != 0;
    assume Length_3 > 0;
    BytesToCopy_1 := Mem_T.INT4[Length_3];
    assume {:nonnull} Length_3 != 0;
    assume Length_3 > 0;
    Mem_T.INT4[Length_3] := -1;
    goto L19;

  L19:
    assume {:nonnull} ShortName_4 != 0;
    assume ShortName_4 > 0;
    assume {:nonnull} Buffer_8 != 0;
    assume Buffer_8 > 0;
    havoc Tmp_1143;
    call {:si_unique_call 1190} sdv_RtlCopyMemory(0, 0, BytesToCopy_1);
    assume {:nonnull} Buffer_8 != 0;
    assume Buffer_8 > 0;
    assume {:nonnull} ShortName_4 != 0;
    assume ShortName_4 > 0;
    return;

  anon3_Then:
    assume {:nonnull} ShortName_4 != 0;
    assume ShortName_4 > 0;
    havoc BytesToCopy_1;
    assume {:nonnull} Length_3 != 0;
    assume Length_3 > 0;
    assume {:nonnull} ShortName_4 != 0;
    assume ShortName_4 > 0;
    havoc vslice_dummy_var_160;
    Mem_T.INT4[Length_3] := vslice_dummy_var_160;
    goto L19;
}



procedure {:origName "FatQueryPositionInfo"} FatQueryPositionInfo(actual_IrpContext_60: int, actual_FileObject_20: int, actual_Buffer_9: int, actual_Length_4: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryPositionInfo"} FatQueryPositionInfo(actual_IrpContext_60: int, actual_FileObject_20: int, actual_Buffer_9: int, actual_Length_4: int)
{
  var {:pointer} FileObject_20: int;
  var {:pointer} Buffer_9: int;
  var {:pointer} Length_4: int;
  var vslice_dummy_var_142: int;

  anon0:
    call {:si_unique_call 1191} vslice_dummy_var_142 := __HAVOC_malloc(4);
    FileObject_20 := actual_FileObject_20;
    Buffer_9 := actual_Buffer_9;
    Length_4 := actual_Length_4;
    assume {:nonnull} Buffer_9 != 0;
    assume Buffer_9 > 0;
    assume {:nonnull} FileObject_20 != 0;
    assume FileObject_20 > 0;
    assume {:nonnull} Buffer_9 != 0;
    assume Buffer_9 > 0;
    assume {:nonnull} FileObject_20 != 0;
    assume FileObject_20 > 0;
    assume {:nonnull} Buffer_9 != 0;
    assume Buffer_9 > 0;
    assume {:nonnull} FileObject_20 != 0;
    assume FileObject_20 > 0;
    assume {:nonnull} Buffer_9 != 0;
    assume Buffer_9 > 0;
    assume {:nonnull} FileObject_20 != 0;
    assume FileObject_20 > 0;
    assume {:nonnull} Buffer_9 != 0;
    assume Buffer_9 > 0;
    assume {:nonnull} FileObject_20 != 0;
    assume FileObject_20 > 0;
    assume {:nonnull} Length_4 != 0;
    assume Length_4 > 0;
    Mem_T.INT4[Length_4] := Mem_T.INT4[Length_4] - 8;
    return;
}



procedure {:origName "FatDeleteFile"} FatDeleteFile(actual_IrpContext_61: int, actual_TargetDcb_1: int, actual_LfnOffset: int, actual_DirentOffset: int, actual_Dirent_16: int, actual_Lfn_6: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteFile"} FatDeleteFile(actual_IrpContext_61: int, actual_TargetDcb_1: int, actual_LfnOffset: int, actual_DirentOffset: int, actual_Dirent_16: int, actual_Lfn_6: int)
{
  var {:pointer} Links_1: int;
  var {:pointer} Fcb_25: int;
  var {:pointer} sdv_765: int;
  var {:pointer} IrpContext_61: int;
  var {:pointer} TargetDcb_1: int;
  var {:scalar} LfnOffset: int;
  var {:scalar} DirentOffset: int;
  var {:pointer} Dirent_16: int;
  var {:pointer} Lfn_6: int;
  var vslice_dummy_var_143: int;
  var vslice_dummy_var_144: int;
  var vslice_dummy_var_161: int;

  anon0:
    call {:si_unique_call 1192} vslice_dummy_var_143 := __HAVOC_malloc(4);
    IrpContext_61 := actual_IrpContext_61;
    TargetDcb_1 := actual_TargetDcb_1;
    LfnOffset := actual_LfnOffset;
    DirentOffset := actual_DirentOffset;
    Dirent_16 := actual_Dirent_16;
    Lfn_6 := actual_Lfn_6;
    assume {:nonnull} TargetDcb_1 != 0;
    assume TargetDcb_1 > 0;
    havoc Links_1;
    goto L6;

  L6:
    call {:si_unique_call 1193} Links_1, Fcb_25, sdv_765, vslice_dummy_var_144 := FatDeleteFile_loop_L6(Links_1, Fcb_25, sdv_765, IrpContext_61, DirentOffset, vslice_dummy_var_144);
    goto L6_last;

  L6_last:
    goto anon19_Then, anon19_Else;

  anon19_Else:
    call {:si_unique_call 1194} sdv_765 := sdv_containing_record(Links_1, 72);
    Fcb_25 := sdv_765;
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    call {:si_unique_call 1195} FatRemoveNames(IrpContext_61, Fcb_25);
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    call {:si_unique_call 1196} vslice_dummy_var_144 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    call {:si_unique_call 1197} ExReleaseResourceLite(0);
    goto L15;

  L15:
    assume {:nonnull} Links_1 != 0;
    assume Links_1 > 0;
    havoc Links_1;
    goto L15_dummy;

  L15_dummy:
    assume false;
    return;

  anon23_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon21_Then:
    call {:si_unique_call 1198} KeBugCheckEx(35, 1053056, 0, 0, 0);
    goto L15;

  anon20_Then:
    goto L15;

  anon22_Then:
    goto L15;

  anon19_Then:
    assume {:nonnull} TargetDcb_1 != 0;
    assume TargetDcb_1 > 0;
    havoc vslice_dummy_var_161;
    call {:si_unique_call 1199} Fcb_25 := FatCreateFcb(IrpContext_61, vslice_dummy_var_161, TargetDcb_1, LfnOffset, DirentOffset, Dirent_16, Lfn_6, 0, 0);
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_25 != 0;
    assume Fcb_25 > 0;
    call {:si_unique_call 1200} FatTruncateFileAllocation(IrpContext_61, Fcb_25, 0);
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 1201} FatDeleteDirent#1(IrpContext_61, Fcb_25, 0, 1);
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 1202} FatDeleteFcb_Real(IrpContext_61, Fcb_25);
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} yogi_error != 1;
    goto LM2;

  anon27_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon26_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon25_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon24_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatFsdSetInformation"} FatFsdSetInformation(actual_VolumeDeviceObject_4: int, actual_Irp_11: int) returns (Tmp_1149: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdSetInformation"} FatFsdSetInformation(actual_VolumeDeviceObject_4: int, actual_Irp_11: int) returns (Tmp_1149: int)
{
  var {:scalar} TopLevel_2: int;
  var {:scalar} Status_16: int;
  var {:scalar} sdv_770: int;
  var {:pointer} IrpContext_62: int;
  var {:pointer} VolumeDeviceObject_4: int;
  var {:pointer} Irp_11: int;

  anon0:
    VolumeDeviceObject_4 := actual_VolumeDeviceObject_4;
    Irp_11 := actual_Irp_11;
    IrpContext_62 := 0;
    call {:si_unique_call 1203} KeEnterCriticalRegion();
    call {:si_unique_call 1204} TopLevel_2 := FatIsIrpTopLevel(Irp_11);
    call {:si_unique_call 1205} sdv_770 := corral_nondet();
    call {:si_unique_call 1206} IrpContext_62 := FatCreateIrpContext(Irp_11, sdv_770);
    call {:si_unique_call 1207} Status_16 := FatCommonSetInformation(IrpContext_62, Irp_11);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} TopLevel_2 != 0;
    goto L34;

  L34:
    call {:si_unique_call 1208} KeLeaveCriticalRegion();
    Tmp_1149 := Status_16;
    goto LM2;

  LM2:
    return;

  anon5_Then:
    assume {:partition} TopLevel_2 == 0;
    goto L34;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatQueryStandardInfo"} FatQueryStandardInfo(actual_IrpContext_63: int, actual_Fcb_26: int, actual_Buffer_10: int, actual_Length_5: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryStandardInfo"} FatQueryStandardInfo(actual_IrpContext_63: int, actual_Fcb_26: int, actual_Buffer_10: int, actual_Length_5: int)
{
  var {:scalar} Tmp_1151: int;
  var {:pointer} Tmp_1153: int;
  var {:pointer} IrpContext_63: int;
  var {:pointer} Fcb_26: int;
  var {:pointer} Buffer_10: int;
  var {:pointer} Length_5: int;
  var vslice_dummy_var_145: int;

  anon0:
    call {:si_unique_call 1209} vslice_dummy_var_145 := __HAVOC_malloc(4);
    IrpContext_63 := actual_IrpContext_63;
    Fcb_26 := actual_Fcb_26;
    Buffer_10 := actual_Buffer_10;
    Length_5 := actual_Length_5;
    call {:si_unique_call 1210} sdv_RtlZeroMemory(0, 24);
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    havoc Tmp_1151;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} Tmp_1151 == 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    goto L26;

  L26:
    Tmp_1153 := Fcb_26;
    assume {:nonnull} Tmp_1153 != 0;
    assume Tmp_1153 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Mem_T.INT4[Tmp_1153] == 1282;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    call {:si_unique_call 1211} FatLookupFileAllocationSize#1(IrpContext_63, Fcb_26);
    goto L12;

  L12:
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    assume {:nonnull} Fcb_26 != 0;
    assume Fcb_26 > 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    goto L18;

  L18:
    assume {:nonnull} Length_5 != 0;
    assume Length_5 > 0;
    Mem_T.INT4[Length_5] := Mem_T.INT4[Length_5] - 24;
    return;

  anon7_Then:
    goto L12;

  anon9_Then:
    assume {:partition} Mem_T.INT4[Tmp_1153] != 1282;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    goto L18;

  anon8_Then:
    assume {:partition} Tmp_1151 != 0;
    assume {:nonnull} Buffer_10 != 0;
    assume Buffer_10 > 0;
    goto L26;
}



procedure {:origName "FatSetPositionInfo"} FatSetPositionInfo(actual_IrpContext_64: int, actual_Irp_12: int, actual_FileObject_21: int) returns (Tmp_1155: int);
  free ensures {:va_keep} Tmp_1155 == -1073741811 || Tmp_1155 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetPositionInfo"} FatSetPositionInfo(actual_IrpContext_64: int, actual_Irp_12: int, actual_FileObject_21: int) returns (Tmp_1155: int)
{
  var {:pointer} sdv_775: int;
  var {:pointer} Buffer_11: int;
  var {:pointer} DeviceObject: int;
  var {:pointer} Irp_12: int;
  var {:pointer} FileObject_21: int;

  anon0:
    Irp_12 := actual_Irp_12;
    FileObject_21 := actual_FileObject_21;
    assume {:nonnull} Irp_12 != 0;
    assume Irp_12 > 0;
    havoc Buffer_11;
    assume {:nonnull} FileObject_21 != 0;
    assume FileObject_21 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    call {:si_unique_call 1212} sdv_775 := sdv_IoGetCurrentIrpStackLocation(Irp_12);
    assume {:nonnull} sdv_775 != 0;
    assume sdv_775 > 0;
    havoc DeviceObject;
    assume {:nonnull} Buffer_11 != 0;
    assume Buffer_11 > 0;
    assume {:nonnull} DeviceObject != 0;
    assume DeviceObject > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    Tmp_1155 := -1073741811;
    goto L1;

  L1:
    return;

  anon6_Then:
    goto L6;

  L6:
    assume {:nonnull} Buffer_11 != 0;
    assume Buffer_11 > 0;
    assume {:nonnull} FileObject_21 != 0;
    assume FileObject_21 > 0;
    assume {:nonnull} Buffer_11 != 0;
    assume Buffer_11 > 0;
    assume {:nonnull} FileObject_21 != 0;
    assume FileObject_21 > 0;
    assume {:nonnull} Buffer_11 != 0;
    assume Buffer_11 > 0;
    assume {:nonnull} FileObject_21 != 0;
    assume FileObject_21 > 0;
    assume {:nonnull} Buffer_11 != 0;
    assume Buffer_11 > 0;
    assume {:nonnull} FileObject_21 != 0;
    assume FileObject_21 > 0;
    assume {:nonnull} Buffer_11 != 0;
    assume Buffer_11 > 0;
    assume {:nonnull} FileObject_21 != 0;
    assume FileObject_21 > 0;
    Tmp_1155 := 0;
    goto L1;

  anon5_Then:
    goto L6;
}



procedure {:origName "_sdv_init8"} _sdv_init8();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init8"} _sdv_init8()
{
  var vslice_dummy_var_146: int;

  anon0:
    call {:si_unique_call 1213} vslice_dummy_var_146 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatQueryEaInfo"} FatQueryEaInfo(actual_IrpContext_65: int, actual_Fcb_27: int, actual_Buffer_12: int, actual_Length_6: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryEaInfo"} FatQueryEaInfo(actual_IrpContext_65: int, actual_Fcb_27: int, actual_Buffer_12: int, actual_Length_6: int)
{
  var {:pointer} Tmp_1159: int;
  var {:pointer} Dirent_17: int;
  var {:pointer} Bcb_5: int;
  var {:pointer} Tmp_1162: int;
  var {:pointer} IrpContext_65: int;
  var {:pointer} Fcb_27: int;
  var {:pointer} Buffer_12: int;
  var {:pointer} Length_6: int;
  var vslice_dummy_var_147: int;
  var vslice_dummy_var_162: int;
  var vslice_dummy_var_163: int;

  anon0:
    call {:si_unique_call 1214} Dirent_17 := __HAVOC_malloc(4);
    call {:si_unique_call 1215} Bcb_5 := __HAVOC_malloc(4);
    call {:si_unique_call 1216} vslice_dummy_var_147 := __HAVOC_malloc(4);
    IrpContext_65 := actual_IrpContext_65;
    Fcb_27 := actual_Fcb_27;
    Buffer_12 := actual_Buffer_12;
    Length_6 := actual_Length_6;
    assume {:nonnull} Bcb_5 != 0;
    assume Bcb_5 > 0;
    call {:si_unique_call 1217} sdv_RtlZeroMemory(0, 4);
    Tmp_1162 := Fcb_27;
    assume {:nonnull} Tmp_1162 != 0;
    assume Tmp_1162 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Mem_T.INT4[Tmp_1162] != 1284;
    assume {:nonnull} Fcb_27 != 0;
    assume Fcb_27 > 0;
    havoc Tmp_1159;
    assume {:nonnull} Tmp_1159 != 0;
    assume Tmp_1159 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    call {:si_unique_call 1218} FatGetDirentFromFcbOrDcb(IrpContext_65, Fcb_27, Dirent_17, Bcb_5);
    assume {:nonnull} Dirent_17 != 0;
    assume Dirent_17 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} Buffer_12 != 0;
    assume Buffer_12 > 0;
    assume {:nonnull} Dirent_17 != 0;
    assume Dirent_17 > 0;
    assume {:nonnull} Fcb_27 != 0;
    assume Fcb_27 > 0;
    havoc vslice_dummy_var_162;
    havoc vslice_dummy_var_163;
    call {:si_unique_call 1219} FatGetEaLength(IrpContext_65, vslice_dummy_var_162, vslice_dummy_var_163, EaSize__FILE_EA_INFORMATION(Buffer_12));
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} yogi_error != 1;
    goto L14;

  L14:
    assume {:nonnull} Length_6 != 0;
    assume Length_6 > 0;
    Mem_T.INT4[Length_6] := Mem_T.INT4[Length_6] - 4;
    assume {:nonnull} Bcb_5 != 0;
    assume Bcb_5 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:nonnull} Bcb_5 != 0;
    assume Bcb_5 > 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon14_Then:
    goto L1;

  anon15_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon11_Then:
    goto L14;

  anon13_Then:
    goto L14;

  anon12_Then:
    assume {:partition} Mem_T.INT4[Tmp_1162] == 1284;
    goto L14;
}



procedure {:origName "FatQueryBasicInfo"} FatQueryBasicInfo(actual_IrpContext_66: int, actual_Fcb_28: int, actual_FileObject_22: int, actual_Buffer_13: int, actual_Length_7: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryBasicInfo"} FatQueryBasicInfo(actual_IrpContext_66: int, actual_Fcb_28: int, actual_FileObject_22: int, actual_Buffer_13: int, actual_Length_7: int)
{
  var {:pointer} Fcb_28: int;
  var {:pointer} Buffer_13: int;
  var {:pointer} Length_7: int;
  var vslice_dummy_var_148: int;

  anon0:
    call {:si_unique_call 1220} vslice_dummy_var_148 := __HAVOC_malloc(4);
    Fcb_28 := actual_Fcb_28;
    Buffer_13 := actual_Buffer_13;
    Length_7 := actual_Length_7;
    call {:si_unique_call 1221} sdv_RtlZeroMemory(0, 40);
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    goto L13;

  L13:
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    goto L15;

  L15:
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    goto L18;

  L18:
    assume {:nonnull} Length_7 != 0;
    assume Length_7 > 0;
    Mem_T.INT4[Length_7] := Mem_T.INT4[Length_7] - 40;
    return;

  anon8_Then:
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    goto L18;

  anon9_Then:
    goto L15;

  anon7_Then:
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    assume {:nonnull} Buffer_13 != 0;
    assume Buffer_13 > 0;
    assume {:nonnull} Fcb_28 != 0;
    assume Fcb_28 > 0;
    goto L13;
}



procedure {:origName "FatQueryInternalInfo"} FatQueryInternalInfo(actual_IrpContext_67: int, actual_Fcb_29: int, actual_Buffer_14: int, actual_Length_8: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryInternalInfo"} FatQueryInternalInfo(actual_IrpContext_67: int, actual_Fcb_29: int, actual_Buffer_14: int, actual_Length_8: int)
{
  var {:pointer} Tmp_1168: int;
  var {:pointer} Tmp_1170: int;
  var {:pointer} Tmp_1171: int;
  var {:pointer} Tmp_1172: int;
  var {:scalar} Tmp_1174: int;
  var {:scalar} Tmp_1175: int;
  var {:pointer} Tmp_1176: int;
  var {:pointer} Tmp_1177: int;
  var {:pointer} Tmp_1178: int;
  var {:pointer} Fcb_29: int;
  var {:pointer} Buffer_14: int;
  var {:pointer} Length_8: int;
  var vslice_dummy_var_149: int;

  anon0:
    call {:si_unique_call 1222} vslice_dummy_var_149 := __HAVOC_malloc(4);
    Fcb_29 := actual_Fcb_29;
    Buffer_14 := actual_Buffer_14;
    Length_8 := actual_Length_8;
    assume {:nonnull} Fcb_29 != 0;
    assume Fcb_29 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:nonnull} Fcb_29 != 0;
    assume Fcb_29 > 0;
    havoc Tmp_1178;
    assume {:nonnull} Tmp_1178 != 0;
    assume Tmp_1178 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} Mem_T.INT4[Tmp_1178] != 1284;
    goto L7;

  L7:
    assume {:nonnull} Fcb_29 != 0;
    assume Fcb_29 > 0;
    havoc Tmp_1168;
    assume {:nonnull} Tmp_1168 != 0;
    assume Tmp_1168 > 0;
    assume {:nonnull} Fcb_29 != 0;
    assume Fcb_29 > 0;
    assume {:nonnull} Fcb_29 != 0;
    assume Fcb_29 > 0;
    havoc Tmp_1171;
    assume {:nonnull} Tmp_1171 != 0;
    assume Tmp_1171 > 0;
    call {:si_unique_call 1223} Tmp_1174 := corral_nondet();
    goto L8;

  L8:
    assume {:nonnull} Fcb_29 != 0;
    assume Fcb_29 > 0;
    havoc Tmp_1175;
    goto L9;

  L9:
    assume {:nonnull} Buffer_14 != 0;
    assume Buffer_14 > 0;
    assume {:nonnull} Length_8 != 0;
    assume Length_8 > 0;
    Mem_T.INT4[Length_8] := Mem_T.INT4[Length_8] - 8;
    return;

  anon8_Then:
    assume {:partition} Mem_T.INT4[Tmp_1178] == 1284;
    assume {:nonnull} Fcb_29 != 0;
    assume Fcb_29 > 0;
    havoc Tmp_1172;
    assume {:nonnull} Tmp_1172 != 0;
    assume Tmp_1172 > 0;
    havoc Tmp_1177;
    assume {:nonnull} Tmp_1177 != 0;
    assume Tmp_1177 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} Fcb_29 != 0;
    assume Fcb_29 > 0;
    havoc Tmp_1170;
    assume {:nonnull} Tmp_1170 != 0;
    assume Tmp_1170 > 0;
    havoc Tmp_1176;
    assume {:nonnull} Tmp_1176 != 0;
    assume Tmp_1176 > 0;
    havoc Tmp_1174;
    goto L8;

  anon9_Then:
    goto L7;

  anon7_Then:
    Tmp_1175 := 0;
    goto L9;
}



procedure {:origName "sdv_ExInitializeFastMutex"} {:osmodel} sdv_ExInitializeFastMutex(actual_FastMutex: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_ExInitializeFastMutex"} {:osmodel} sdv_ExInitializeFastMutex(actual_FastMutex: int)
{
  var vslice_dummy_var_150: int;

  anon0:
    call {:si_unique_call 1224} vslice_dummy_var_150 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "KeBugCheckEx"} {:osmodel} KeBugCheckEx(actual_BugCheckCode: int, actual_BugCheckParameter1: int, actual_BugCheckParameter2: int, actual_BugCheckParameter3: int, actual_BugCheckParameter4: int);
  modifies alloc;
  free ensures {:va_keep} false;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeBugCheckEx"} {:osmodel} KeBugCheckEx(actual_BugCheckCode: int, actual_BugCheckParameter1: int, actual_BugCheckParameter2: int, actual_BugCheckParameter3: int, actual_BugCheckParameter4: int)
{
  var vslice_dummy_var_151: int;

  anon0:
    call {:si_unique_call 1225} vslice_dummy_var_151 := __HAVOC_malloc(4);
    call {:si_unique_call 1226} SdvExit#1();
    return;
}



procedure {:origName "ExReleaseResourceLite"} {:osmodel} ExReleaseResourceLite(actual_Resource_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExReleaseResourceLite"} {:osmodel} ExReleaseResourceLite(actual_Resource_3: int)
{
  var vslice_dummy_var_152: int;

  anon0:
    call {:si_unique_call 1227} vslice_dummy_var_152 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_IoCopyCurrentIrpStackLocationToNext"} {:osmodel} sdv_IoCopyCurrentIrpStackLocationToNext(actual_pirp: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoCopyCurrentIrpStackLocationToNext"} {:osmodel} sdv_IoCopyCurrentIrpStackLocationToNext(actual_pirp: int)
{
  var {:pointer} pirp: int;
  var vslice_dummy_var_153: int;

  anon0:
    call {:si_unique_call 1228} vslice_dummy_var_153 := __HAVOC_malloc(4);
    pirp := actual_pirp;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} pirp == sdv_harnessIrp;
    goto L4;

  L4:
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} pirp == sdv_other_harnessIrp;
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:partition} pirp != sdv_other_harnessIrp;
    goto L1;

  anon5_Then:
    assume {:partition} pirp != sdv_harnessIrp;
    goto L4;
}



procedure {:origName "sdv_containing_record"} {:osmodel} sdv_containing_record(actual_Address: int, actual_FieldOffset: int) returns (Tmp_1187: int);
  free ensures {:va_keep} Tmp_1187 == actual_Address;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_containing_record"} {:osmodel} sdv_containing_record(actual_Address: int, actual_FieldOffset: int) returns (Tmp_1187: int)
{
  var {:pointer} record: int;
  var {:pointer} Address: int;

  anon0:
    Address := actual_Address;
    record := Address;
    Tmp_1187 := record;
    return;
}



procedure {:origName "sdv_KeAcquireSpinLock"} {:osmodel} sdv_KeAcquireSpinLock(actual_SpinLock: int, actual_p: int);
  modifies alloc, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, Mem_T.INT4;
  free ensures {:va_keep} old(sdv_irql_current) <= 2 && old(sdv_irql_previous) <= 2 && old(sdv_irql_previous_2) <= 2 && old(sdv_irql_previous_3) <= 2 ==> sdv_irql_current <= 2 && sdv_irql_previous <= 2 && sdv_irql_previous_2 <= 2 && sdv_irql_previous_3 <= 2 && sdv_irql_current >= 0 && sdv_irql_previous >= 0 && sdv_irql_previous_2 >= 0 && sdv_irql_previous_3 >= 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_current == 2;
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_2);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_KeAcquireSpinLock"} {:osmodel} sdv_KeAcquireSpinLock(actual_SpinLock: int, actual_p: int)
{
  var {:pointer} p: int;
  var vslice_dummy_var_154: int;

  anon0:
    call {:si_unique_call 1229} vslice_dummy_var_154 := __HAVOC_malloc(4);
    p := actual_p;
    sdv_irql_previous_5 := sdv_irql_previous_4;
    sdv_irql_previous_4 := sdv_irql_previous_3;
    sdv_irql_previous_3 := sdv_irql_previous_2;
    sdv_irql_previous_2 := sdv_irql_previous;
    sdv_irql_previous := sdv_irql_current;
    sdv_irql_current := 2;
    assume {:nonnull} p != 0;
    assume p > 0;
    Mem_T.INT4[p] := sdv_irql_previous;
    return;
}



procedure {:origName "sdv_CheckDispatchRoutines"} {:osmodel} sdv_CheckDispatchRoutines() returns (Tmp_1191: int);
  free ensures {:va_keep} Tmp_1191 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckDispatchRoutines"} {:osmodel} sdv_CheckDispatchRoutines() returns (Tmp_1191: int)
{

  anon0:
    Tmp_1191 := 1;
    return;
}



procedure {:origName "sdv_stub_startio_end"} {:osmodel} sdv_stub_startio_end();
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_current == 0;
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_stub_startio_end"} {:osmodel} sdv_stub_startio_end()
{
  var vslice_dummy_var_155: int;

  anon0:
    call {:si_unique_call 1230} vslice_dummy_var_155 := __HAVOC_malloc(4);
    sdv_irql_current := 0;
    sdv_irql_previous := sdv_irql_previous_2;
    sdv_irql_previous_2 := sdv_irql_previous_3;
    sdv_irql_previous_3 := sdv_irql_previous_4;
    sdv_irql_previous_4 := sdv_irql_previous_5;
    return;
}



procedure {:origName "ExAcquireSharedStarveExclusive"} {:osmodel} ExAcquireSharedStarveExclusive(actual_Resource_4: int, actual_Wait_2: int) returns (Tmp_1195: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExAcquireSharedStarveExclusive"} {:osmodel} ExAcquireSharedStarveExclusive(actual_Resource_4: int, actual_Wait_2: int) returns (Tmp_1195: int)
{
  var {:scalar} Wait_2: int;

  anon0:
    Wait_2 := actual_Wait_2;
    call {:si_unique_call 1231} SLIC_ExAcquireSharedStarveExclusive_entry(strConst__li2bpl2);
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} yogi_error != 1;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Wait_2 == 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    Tmp_1195 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon8_Then:
    Tmp_1195 := 1;
    goto L1;

  anon7_Then:
    assume {:partition} Wait_2 != 0;
    Tmp_1195 := 1;
    goto L1;

  anon9_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "KeSetTimer"} {:osmodel} KeSetTimer(actual_Timer: int, actual_structPtr888DueTime: int, actual_Dpc: int) returns (Tmp_1197: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_1197 == 1 || Tmp_1197 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeSetTimer"} {:osmodel} KeSetTimer(actual_Timer: int, actual_structPtr888DueTime: int, actual_Dpc: int) returns (Tmp_1197: int)
{
  var {:scalar} DueTime: int;
  var {:pointer} structPtr888DueTime: int;

  anon0:
    call {:si_unique_call 1232} DueTime := __HAVOC_malloc(20);
    structPtr888DueTime := actual_structPtr888DueTime;
    assume {:nonnull} DueTime != 0;
    assume DueTime > 0;
    assume {:nonnull} structPtr888DueTime != 0;
    assume structPtr888DueTime > 0;
    assume {:nonnull} DueTime != 0;
    assume DueTime > 0;
    assume {:nonnull} structPtr888DueTime != 0;
    assume structPtr888DueTime > 0;
    assume {:nonnull} DueTime != 0;
    assume DueTime > 0;
    assume {:nonnull} structPtr888DueTime != 0;
    assume structPtr888DueTime > 0;
    assume {:nonnull} DueTime != 0;
    assume DueTime > 0;
    assume {:nonnull} structPtr888DueTime != 0;
    assume structPtr888DueTime > 0;
    assume {:nonnull} DueTime != 0;
    assume DueTime > 0;
    assume {:nonnull} structPtr888DueTime != 0;
    assume structPtr888DueTime > 0;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1197 := 1;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1197 := 0;
    goto L1;
}



procedure {:origName "IoRemoveShareAccess"} {:osmodel} IoRemoveShareAccess(actual_FileObject_23: int, actual_ShareAccess_10: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoRemoveShareAccess"} {:osmodel} IoRemoveShareAccess(actual_FileObject_23: int, actual_ShareAccess_10: int)
{
  var vslice_dummy_var_156: int;

  anon0:
    call {:si_unique_call 1233} vslice_dummy_var_156 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "_sdv_init34"} {:osmodel} _sdv_init34();
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5;
  free ensures {:va_keep} old(sdv_irql_current) <= 2 && old(sdv_irql_previous) <= 2 && old(sdv_irql_previous_2) <= 2 && old(sdv_irql_previous_3) <= 2 ==> sdv_irql_current <= 2 && sdv_irql_previous <= 2 && sdv_irql_previous_2 <= 2 && sdv_irql_previous_3 <= 2 && sdv_irql_current >= 0 && sdv_irql_previous >= 0 && sdv_irql_previous_2 >= 0 && sdv_irql_previous_3 >= 0;
  free ensures {:va_keep} sdv_irql_previous_5 == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == 0;
  free ensures {:va_keep} sdv_irql_current == 0;
  free ensures {:va_keep} sdv_irql_previous == 0;
  free ensures {:va_keep} sdv_irql_previous_4 == 0;
  free ensures {:va_keep} sdv_irql_previous_3 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init34"} {:osmodel} _sdv_init34()
{
  var vslice_dummy_var_157: int;

  anon0:
    call {:si_unique_call 1234} vslice_dummy_var_157 := __HAVOC_malloc(4);
    assume sdv_apc_disabled == 0;
    assume sdv_ControllerPirp == sdv_ControllerIrp;
    assume sdv_StartIopirp == sdv_StartIoIrp;
    assume sdv_power_irp == sdv_PowerIrp;
    assume sdv_irp == sdv_harnessIrp;
    assume sdv_other_irp == sdv_other_harnessIrp;
    assume sdv_IoMakeAssociatedIrp_irp == sdv_IoMakeAssociatedIrp_harnessIrp;
    assume sdv_IoBuildDeviceIoControlRequest_irp == sdv_IoBuildDeviceIoControlRequest_harnessIrp;
    assume sdv_IoBuildSynchronousFsdRequest_irp == sdv_IoBuildSynchronousFsdRequest_harnessIrp;
    assume sdv_IoBuildAsynchronousFsdRequest_irp == sdv_IoBuildAsynchronousFsdRequest_harnessIrp;
    assume sdv_IoInitializeIrp_irp == sdv_IoInitializeIrp_harnessIrp;
    sdv_irql_current := 0;
    sdv_irql_previous := 0;
    sdv_irql_previous_2 := 0;
    sdv_irql_previous_3 := 0;
    sdv_irql_previous_4 := 0;
    sdv_irql_previous_5 := 0;
    assume sdv_maskedEflags == 0;
    assume sdv_kdpc3 == sdv_kdpc_val3;
    assume sdv_p_devobj_fdo == sdv_devobj_fdo;
    assume sdv_inside_init_entrypoint == 0;
    assume sdv_p_devobj_pdo == sdv_devobj_pdo;
    assume sdv_p_devobj_child_pdo == sdv_devobj_child_pdo;
    assume sdv_kinterrupt == sdv_kinterrupt_val;
    assume sdv_MapRegisterBase == sdv_MapRegisterBase_val;
    assume sdv_start_irp_already_issued == 0;
    assume sdv_Io_Removelock_release_wait_returned == 0;
    assume sdv_isr_routine == li2bplFunctionConstant835;
    assume sdv_ke_dpc == li2bplFunctionConstant837;
    assume sdv_dpc_ke_registered == 0;
    assume sdv_io_dpc == li2bplFunctionConstant840;
    assume sdv_p_devobj_top == sdv_devobj_top;
    assume sdv_MmMapIoSpace_int == 0;
    return;
}



procedure {:origName "sdv_IoGetNextIrpStackLocation"} {:osmodel} sdv_IoGetNextIrpStackLocation(actual_pirp_1: int) returns (Tmp_1203: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoGetNextIrpStackLocation"} {:osmodel} sdv_IoGetNextIrpStackLocation(actual_pirp_1: int) returns (Tmp_1203: int)
{
  var {:pointer} pirp_1: int;

  anon0:
    pirp_1 := actual_pirp_1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} pirp_1 == sdv_harnessIrp;
    Tmp_1203 := sdv_harnessStackLocation_next;
    goto L1;

  L1:
    return;

  anon5_Then:
    assume {:partition} pirp_1 != sdv_harnessIrp;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} pirp_1 == sdv_other_harnessIrp;
    Tmp_1203 := sdv_other_harnessStackLocation_next;
    goto L1;

  anon6_Then:
    assume {:partition} pirp_1 != sdv_other_harnessIrp;
    Tmp_1203 := sdv_harnessStackLocation;
    goto L1;
}



procedure {:origName "sdv_ExInterlockedPopEntrySList"} {:osmodel} sdv_ExInterlockedPopEntrySList(actual_ListHead: int, actual_Lock: int) returns (Tmp_1205: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_ExInterlockedPopEntrySList"} {:osmodel} sdv_ExInterlockedPopEntrySList(actual_ListHead: int, actual_Lock: int) returns (Tmp_1205: int)
{
  var {:pointer} sdv_779: int;

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1205 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    call {:si_unique_call 1235} sdv_779 := __HAVOC_malloc(1);
    Tmp_1205 := sdv_779;
    goto L1;
}



procedure {:origName "KeLeaveCriticalRegion"} {:osmodel} KeLeaveCriticalRegion();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeLeaveCriticalRegion"} {:osmodel} KeLeaveCriticalRegion()
{
  var vslice_dummy_var_158: int;

  anon0:
    call {:si_unique_call 1236} vslice_dummy_var_158 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "CcWaitForCurrentLazyWriterActivity"} {:osmodel} CcWaitForCurrentLazyWriterActivity() returns (Tmp_1209: int);
  free ensures {:va_keep} Tmp_1209 == -1073741670 || Tmp_1209 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "CcWaitForCurrentLazyWriterActivity"} {:osmodel} CcWaitForCurrentLazyWriterActivity() returns (Tmp_1209: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1209 := -1073741670;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1209 := 0;
    goto L1;
}



procedure {:origName "SeSinglePrivilegeCheck"} {:osmodel} SeSinglePrivilegeCheck(actual_structPtr888PrivilegeValue: int, actual_PreviousMode: int) returns (Tmp_1211: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_1211 == 0 || Tmp_1211 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SeSinglePrivilegeCheck"} {:osmodel} SeSinglePrivilegeCheck(actual_structPtr888PrivilegeValue: int, actual_PreviousMode: int) returns (Tmp_1211: int)
{
  var {:scalar} PrivilegeValue: int;
  var {:pointer} structPtr888PrivilegeValue: int;

  anon0:
    call {:si_unique_call 1237} PrivilegeValue := __HAVOC_malloc(8);
    structPtr888PrivilegeValue := actual_structPtr888PrivilegeValue;
    assume {:nonnull} PrivilegeValue != 0;
    assume PrivilegeValue > 0;
    assume {:nonnull} structPtr888PrivilegeValue != 0;
    assume structPtr888PrivilegeValue > 0;
    assume {:nonnull} PrivilegeValue != 0;
    assume PrivilegeValue > 0;
    assume {:nonnull} structPtr888PrivilegeValue != 0;
    assume structPtr888PrivilegeValue > 0;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1211 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1211 := 1;
    goto L1;
}



procedure {:origName "KeInitializeDpc"} {:osmodel} KeInitializeDpc(actual_Dpc_1: int, actual_DeferredRoutine: int, actual_DeferredContext: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeInitializeDpc"} {:osmodel} KeInitializeDpc(actual_Dpc_1: int, actual_DeferredRoutine: int, actual_DeferredContext: int)
{
  var {:pointer} Dpc_1: int;
  var {:scalar} DeferredRoutine: int;
  var vslice_dummy_var_159: int;

  anon0:
    call {:si_unique_call 1238} vslice_dummy_var_159 := __HAVOC_malloc(4);
    Dpc_1 := actual_Dpc_1;
    DeferredRoutine := actual_DeferredRoutine;
    assume {:nonnull} Dpc_1 != 0;
    assume Dpc_1 > 0;
    return;
}



procedure {:origName "IoCreateDevice"} {:osmodel} IoCreateDevice(actual_DriverObject: int, actual_DeviceExtensionSize: int, actual_DeviceName: int, actual_DeviceType: int, actual_DeviceCharacteristics: int, actual_Exclusive: int, actual_DeviceObject_1: int) returns (Tmp_1215: int);
  free ensures {:va_keep} Tmp_1215 == -1073741824 || Tmp_1215 == -1073741771 || Tmp_1215 == -1073741670 || Tmp_1215 == -1073741823 || Tmp_1215 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoCreateDevice"} {:osmodel} IoCreateDevice(actual_DriverObject: int, actual_DeviceExtensionSize: int, actual_DeviceName: int, actual_DeviceType: int, actual_DeviceCharacteristics: int, actual_Exclusive: int, actual_DeviceObject_1: int) returns (Tmp_1215: int)
{
  var {:pointer} DeviceObject_1: int;

  anon0:
    DeviceObject_1 := actual_DeviceObject_1;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    goto anon14_Then, anon14_Else;

  anon14_Else:
    goto anon13_Then, anon13_Else;

  anon13_Else:
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:nonnull} DeviceObject_1 != 0;
    assume DeviceObject_1 > 0;
    Tmp_1215 := -1073741824;
    goto L1;

  L1:
    return;

  anon12_Then:
    assume {:nonnull} DeviceObject_1 != 0;
    assume DeviceObject_1 > 0;
    Tmp_1215 := -1073741771;
    goto L1;

  anon13_Then:
    assume {:nonnull} DeviceObject_1 != 0;
    assume DeviceObject_1 > 0;
    Tmp_1215 := -1073741670;
    goto L1;

  anon14_Then:
    assume {:nonnull} DeviceObject_1 != 0;
    assume DeviceObject_1 > 0;
    Tmp_1215 := -1073741823;
    goto L1;

  anon15_Then:
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} sdv_inside_init_entrypoint != 0;
    assume {:nonnull} sdv_p_devobj_fdo != 0;
    assume sdv_p_devobj_fdo > 0;
    assume {:nonnull} DeviceObject_1 != 0;
    assume DeviceObject_1 > 0;
    goto L21;

  L21:
    Tmp_1215 := 0;
    goto L1;

  anon11_Then:
    assume {:partition} sdv_inside_init_entrypoint == 0;
    assume {:nonnull} sdv_p_devobj_child_pdo != 0;
    assume sdv_p_devobj_child_pdo > 0;
    assume {:nonnull} DeviceObject_1 != 0;
    assume DeviceObject_1 > 0;
    goto L21;
}



procedure {:origName "IoQueueWorkItem"} {:osmodel} IoQueueWorkItem(actual_IoWorkItem: int, actual_WorkerRoutine: int, actual_QueueType: int, actual_Context_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoQueueWorkItem"} {:osmodel} IoQueueWorkItem(actual_IoWorkItem: int, actual_WorkerRoutine: int, actual_QueueType: int, actual_Context_2: int)
{
  var vslice_dummy_var_160: int;

  anon0:
    call {:si_unique_call 1239} vslice_dummy_var_160 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "RtlUnicodeStringToCountedOemString"} {:osmodel} RtlUnicodeStringToCountedOemString(actual_DestinationString: int, actual_SourceString: int, actual_AllocateDestinationString: int) returns (Tmp_1219: int);
  free ensures {:va_keep} Tmp_1219 == -1073741675 || Tmp_1219 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RtlUnicodeStringToCountedOemString"} {:osmodel} RtlUnicodeStringToCountedOemString(actual_DestinationString: int, actual_SourceString: int, actual_AllocateDestinationString: int) returns (Tmp_1219: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1219 := -1073741675;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1219 := 0;
    goto L1;
}



procedure {:origName "IoMakeAssociatedIrp"} {:osmodel} IoMakeAssociatedIrp(actual_pirp_2: int, actual_StackSize: int) returns (Tmp_1221: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoMakeAssociatedIrp"} {:osmodel} IoMakeAssociatedIrp(actual_pirp_2: int, actual_StackSize: int) returns (Tmp_1221: int)
{
  var {:pointer} Tmp_1223: int;
  var {:pointer} Tmp_1224: int;
  var {:pointer} pirp_2: int;

  anon0:
    pirp_2 := actual_pirp_2;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:nonnull} sdv_IoMakeAssociatedIrp_irp != 0;
    assume sdv_IoMakeAssociatedIrp_irp > 0;
    havoc Tmp_1223;
    assume {:nonnull} pirp_2 != 0;
    assume pirp_2 > 0;
    havoc Tmp_1224;
    assume {:nonnull} Tmp_1223 != 0;
    assume Tmp_1223 > 0;
    assume {:nonnull} Tmp_1224 != 0;
    assume Tmp_1224 > 0;
    assume {:nonnull} pirp_2 != 0;
    assume pirp_2 > 0;
    assume {:nonnull} sdv_IoMakeAssociatedIrp_irp != 0;
    assume sdv_IoMakeAssociatedIrp_irp > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(sdv_IoMakeAssociatedIrp_irp))] := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(pirp_2))];
    assume {:nonnull} pirp_2 != 0;
    assume pirp_2 > 0;
    assume {:nonnull} sdv_IoMakeAssociatedIrp_irp != 0;
    assume sdv_IoMakeAssociatedIrp_irp > 0;
    assume {:nonnull} pirp_2 != 0;
    assume pirp_2 > 0;
    assume {:nonnull} sdv_IoMakeAssociatedIrp_irp != 0;
    assume sdv_IoMakeAssociatedIrp_irp > 0;
    Tmp_1221 := sdv_IoMakeAssociatedIrp_irp;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1221 := 0;
    goto L1;
}



procedure {:origName "SeReleaseSubjectContext"} {:osmodel} SeReleaseSubjectContext(actual_SubjectContext: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SeReleaseSubjectContext"} {:osmodel} SeReleaseSubjectContext(actual_SubjectContext: int)
{
  var vslice_dummy_var_161: int;

  anon0:
    call {:si_unique_call 1240} vslice_dummy_var_161 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_RtlMoveMemory"} {:osmodel} sdv_RtlMoveMemory(actual_Destination: int, actual_Source: int, actual_Length_9: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RtlMoveMemory"} {:osmodel} sdv_RtlMoveMemory(actual_Destination: int, actual_Source: int, actual_Length_9: int)
{
  var vslice_dummy_var_162: int;

  anon0:
    call {:si_unique_call 1241} vslice_dummy_var_162 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_CheckIrpMjPower"} {:osmodel} sdv_CheckIrpMjPower() returns (Tmp_1231: int);
  free ensures {:va_keep} Tmp_1231 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckIrpMjPower"} {:osmodel} sdv_CheckIrpMjPower() returns (Tmp_1231: int)
{

  anon0:
    Tmp_1231 := 0;
    return;
}



procedure {:origName "ExAcquireResourceExclusiveLite"} {:osmodel} ExAcquireResourceExclusiveLite(actual_Resource_5: int, actual_Wait_3: int) returns (Tmp_1233: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExAcquireResourceExclusiveLite"} {:osmodel} ExAcquireResourceExclusiveLite(actual_Resource_5: int, actual_Wait_3: int) returns (Tmp_1233: int)
{
  var {:scalar} Wait_3: int;

  anon0:
    Wait_3 := actual_Wait_3;
    call {:si_unique_call 1242} SLIC_ExAcquireResourceExclusiveLite_entry(strConst__li2bpl2);
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} yogi_error != 1;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Wait_3 == 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    Tmp_1233 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon8_Then:
    Tmp_1233 := 1;
    goto L1;

  anon7_Then:
    assume {:partition} Wait_3 != 0;
    Tmp_1233 := 1;
    goto L1;

  anon9_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "sdv_stub_dispatch_end"} {:osmodel} sdv_stub_dispatch_end(actual_s: int, actual_pirp_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_stub_dispatch_end"} {:osmodel} sdv_stub_dispatch_end(actual_s: int, actual_pirp_3: int)
{
  var vslice_dummy_var_163: int;

  anon0:
    call {:si_unique_call 1243} vslice_dummy_var_163 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_CheckCancelRoutines"} {:osmodel} sdv_CheckCancelRoutines() returns (Tmp_1237: int);
  free ensures {:va_keep} Tmp_1237 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckCancelRoutines"} {:osmodel} sdv_CheckCancelRoutines() returns (Tmp_1237: int)
{

  anon0:
    Tmp_1237 := 0;
    return;
}



procedure {:origName "sdv_RunISRRoutines"} {:osmodel} sdv_RunISRRoutines(actual_ki: int, actual_pv1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RunISRRoutines"} {:osmodel} sdv_RunISRRoutines(actual_ki: int, actual_pv1: int)
{
  var vslice_dummy_var_164: int;

  anon0:
    call {:si_unique_call 1244} vslice_dummy_var_164 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "ExAcquireFastMutexUnsafe"} {:osmodel} ExAcquireFastMutexUnsafe(actual_FastMutex_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExAcquireFastMutexUnsafe"} {:osmodel} ExAcquireFastMutexUnsafe(actual_FastMutex_1: int)
{
  var vslice_dummy_var_165: int;

  anon0:
    call {:si_unique_call 1245} vslice_dummy_var_165 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_SetStatus"} {:osmodel} sdv_SetStatus(actual_pirp_4: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_SetStatus"} {:osmodel} sdv_SetStatus(actual_pirp_4: int)
{
  var {:pointer} pirp_4: int;
  var vslice_dummy_var_166: int;

  anon0:
    call {:si_unique_call 1246} vslice_dummy_var_166 := __HAVOC_malloc(4);
    pirp_4 := actual_pirp_4;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:nonnull} pirp_4 != 0;
    assume pirp_4 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(pirp_4))] := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    assume {:nonnull} pirp_4 != 0;
    assume pirp_4 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(pirp_4))] := -1073741637;
    goto L1;
}



procedure {:origName "KeRemoveQueueDpc"} {:osmodel} KeRemoveQueueDpc(actual_Dpc_2: int) returns (Tmp_1245: int);
  free ensures {:va_keep} Tmp_1245 == 1 || Tmp_1245 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeRemoveQueueDpc"} {:osmodel} KeRemoveQueueDpc(actual_Dpc_2: int) returns (Tmp_1245: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1245 := 1;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1245 := 0;
    goto L1;
}



procedure {:origName "KeDelayExecutionThread"} {:osmodel} KeDelayExecutionThread(actual_WaitMode: int, actual_Alertable: int, actual_Interval: int) returns (Tmp_1247: int);
  free ensures {:va_keep} Tmp_1247 == 0 || Tmp_1247 == -1073741823;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeDelayExecutionThread"} {:osmodel} KeDelayExecutionThread(actual_WaitMode: int, actual_Alertable: int, actual_Interval: int) returns (Tmp_1247: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1247 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1247 := -1073741823;
    goto L1;
}



procedure {:origName "FsRtlIsNameInExpression"} {:osmodel} FsRtlIsNameInExpression(actual_Expression_1: int, actual_Name_2: int, actual_IgnoreCase: int, actual_UpcaseTable: int) returns (Tmp_1249: int);
  free ensures {:va_keep} Tmp_1249 == 0 || Tmp_1249 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlIsNameInExpression"} {:osmodel} FsRtlIsNameInExpression(actual_Expression_1: int, actual_Name_2: int, actual_IgnoreCase: int, actual_UpcaseTable: int) returns (Tmp_1249: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1249 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1249 := 1;
    goto L1;
}



procedure {:origName "ExAcquireResourceSharedLite"} {:osmodel} ExAcquireResourceSharedLite(actual_Resource_6: int, actual_Wait_4: int) returns (Tmp_1251: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExAcquireResourceSharedLite"} {:osmodel} ExAcquireResourceSharedLite(actual_Resource_6: int, actual_Wait_4: int) returns (Tmp_1251: int)
{
  var {:scalar} Wait_4: int;

  anon0:
    Wait_4 := actual_Wait_4;
    call {:si_unique_call 1247} SLIC_ExAcquireResourceSharedLite_entry(strConst__li2bpl2);
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} yogi_error != 1;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Wait_4 == 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    Tmp_1251 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon8_Then:
    Tmp_1251 := 1;
    goto L1;

  anon7_Then:
    assume {:partition} Wait_4 != 0;
    Tmp_1251 := 1;
    goto L1;

  anon9_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "sdv_ExInterlockedPushEntrySList"} {:osmodel} sdv_ExInterlockedPushEntrySList(actual_ListHead_1: int, actual_ListEntry: int, actual_Lock_1: int) returns (Tmp_1253: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_ExInterlockedPushEntrySList"} {:osmodel} sdv_ExInterlockedPushEntrySList(actual_ListHead_1: int, actual_ListEntry: int, actual_Lock_1: int) returns (Tmp_1253: int)
{
  var {:pointer} sdv_792: int;

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1253 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    call {:si_unique_call 1248} sdv_792 := __HAVOC_malloc(1);
    Tmp_1253 := sdv_792;
    goto L1;
}



procedure {:origName "FsRtlAreNamesEqual"} {:osmodel} FsRtlAreNamesEqual(actual_ConstantNameA: int, actual_ConstantNameB: int, actual_IgnoreCase_1: int, actual_UpcaseTable_1: int) returns (Tmp_1255: int);
  free ensures {:va_keep} Tmp_1255 == 0 || Tmp_1255 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlAreNamesEqual"} {:osmodel} FsRtlAreNamesEqual(actual_ConstantNameA: int, actual_ConstantNameB: int, actual_IgnoreCase_1: int, actual_UpcaseTable_1: int) returns (Tmp_1255: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1255 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1255 := 1;
    goto L1;
}



procedure {:nohoudini} {:origName "sdv_main"} {:osmodel} sdv_main();
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, Mem_T.INT4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_3) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_2);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_main"} {:osmodel} sdv_main()
{
  var {:scalar} sdv_795: int;
  var {:scalar} sdv_810: int;
  var vslice_dummy_var_167: int;
  var vslice_dummy_var_168: int;
  var vslice_dummy_var_169: int;
  var vslice_dummy_var_170: int;
  var vslice_dummy_var_171: int;
  var vslice_dummy_var_172: int;
  var vslice_dummy_var_173: int;
  var vslice_dummy_var_174: int;
  var vslice_dummy_var_175: int;
  var vslice_dummy_var_176: int;
  var vslice_dummy_var_177: int;
  var vslice_dummy_var_178: int;

  anon0:
    call {:si_unique_call 1249} vslice_dummy_var_167 := __HAVOC_malloc(4);
    call {:si_unique_call 1250} sdv_810 := sdv_CheckDispatchRoutines();
    call {:si_unique_call 1251} sdv_795 := sdv_CheckStartIoRoutines();
    call {:si_unique_call 1252} vslice_dummy_var_168 := sdv_CheckDpcRoutines();
    call {:si_unique_call 1253} vslice_dummy_var_169 := sdv_CheckIsrRoutines();
    call {:si_unique_call 1254} vslice_dummy_var_170 := sdv_CheckCancelRoutines();
    call {:si_unique_call 1255} vslice_dummy_var_171 := sdv_CheckIoDpcRoutines();
    call {:si_unique_call 1256} vslice_dummy_var_172 := sdv_IoCompletionRoutines();
    call {:si_unique_call 1257} vslice_dummy_var_173 := sdv_CheckWorkerRoutines();
    call {:si_unique_call 1258} vslice_dummy_var_174 := sdv_CheckAddDevice();
    call {:si_unique_call 1259} vslice_dummy_var_175 := sdv_CheckIrpMjPnp();
    call {:si_unique_call 1260} vslice_dummy_var_176 := sdv_CheckIrpMjPower();
    call {:si_unique_call 1261} vslice_dummy_var_177 := sdv_CheckDriverUnload();
    goto anon173_Then, anon173_Else;

  anon173_Else:
    goto anon257_Then, anon257_Else;

  anon257_Else:
    goto anon256_Then, anon256_Else;

  anon256_Else:
    goto anon255_Then, anon255_Else;

  anon255_Else:
    goto anon254_Then, anon254_Else;

  anon254_Else:
    goto anon253_Then, anon253_Else;

  anon253_Else:
    goto anon252_Then, anon252_Else;

  anon252_Else:
    goto anon251_Then, anon251_Else;

  anon251_Else:
    goto anon250_Then, anon250_Else;

  anon250_Else:
    goto anon249_Then, anon249_Else;

  anon249_Else:
    goto anon248_Then, anon248_Else;

  anon248_Else:
    goto anon247_Then, anon247_Else;

  anon247_Else:
    goto anon246_Then, anon246_Else;

  anon246_Else:
    goto anon245_Then, anon245_Else;

  anon245_Else:
    goto anon244_Then, anon244_Else;

  anon244_Else:
    goto anon243_Then, anon243_Else;

  anon243_Else:
    goto anon242_Then, anon242_Else;

  anon242_Else:
    goto anon241_Then, anon241_Else;

  anon241_Else:
    goto anon240_Then, anon240_Else;

  anon240_Else:
    goto anon239_Then, anon239_Else;

  anon239_Else:
    goto anon238_Then, anon238_Else;

  anon238_Else:
    goto anon237_Then, anon237_Else;

  anon237_Else:
    goto anon236_Then, anon236_Else;

  anon236_Else:
    goto anon235_Then, anon235_Else;

  anon235_Else:
    goto anon234_Then, anon234_Else;

  anon234_Else:
    goto anon233_Then, anon233_Else;

  anon233_Else:
    goto anon232_Then, anon232_Else;

  anon232_Else:
    goto anon231_Then, anon231_Else;

  anon231_Else:
    goto anon230_Then, anon230_Else;

  anon230_Else:
    goto anon229_Then, anon229_Else;

  anon229_Else:
    goto anon228_Then, anon228_Else;

  anon228_Else:
    goto anon227_Then, anon227_Else;

  anon227_Else:
    goto anon226_Then, anon226_Else;

  anon226_Else:
    goto anon225_Then, anon225_Else;

  anon225_Else:
    goto anon224_Then, anon224_Else;

  anon224_Else:
    goto anon223_Then, anon223_Else;

  anon223_Else:
    goto anon222_Then, anon222_Else;

  anon222_Else:
    goto anon221_Then, anon221_Else;

  anon221_Else:
    goto anon220_Then, anon220_Else;

  anon220_Else:
    goto anon219_Then, anon219_Else;

  anon219_Else:
    goto anon218_Then, anon218_Else;

  anon218_Else:
    goto anon217_Then, anon217_Else;

  anon217_Else:
    goto anon216_Then, anon216_Else;

  anon216_Else:
    goto anon215_Then, anon215_Else;

  anon215_Else:
    goto anon214_Then, anon214_Else;

  anon214_Else:
    goto anon213_Then, anon213_Else;

  anon213_Else:
    goto anon212_Then, anon212_Else;

  anon212_Else:
    goto anon211_Then, anon211_Else;

  anon211_Else:
    goto anon210_Then, anon210_Else;

  anon210_Else:
    goto anon209_Then, anon209_Else;

  anon209_Else:
    goto anon208_Then, anon208_Else;

  anon208_Else:
    goto anon207_Then, anon207_Else;

  anon207_Else:
    goto anon206_Then, anon206_Else;

  anon206_Else:
    goto anon205_Then, anon205_Else;

  anon205_Else:
    goto anon204_Then, anon204_Else;

  anon204_Else:
    goto anon203_Then, anon203_Else;

  anon203_Else:
    goto anon202_Then, anon202_Else;

  anon202_Else:
    goto anon201_Then, anon201_Else;

  anon201_Else:
    goto anon200_Then, anon200_Else;

  anon200_Else:
    goto anon199_Then, anon199_Else;

  anon199_Else:
    goto anon198_Then, anon198_Else;

  anon198_Else:
    goto anon197_Then, anon197_Else;

  anon197_Else:
    goto anon196_Then, anon196_Else;

  anon196_Else:
    goto anon195_Then, anon195_Else;

  anon195_Else:
    goto anon194_Then, anon194_Else;

  anon194_Else:
    goto anon193_Then, anon193_Else;

  anon193_Else:
    goto anon192_Then, anon192_Else;

  anon192_Else:
    goto anon191_Then, anon191_Else;

  anon191_Else:
    goto anon190_Then, anon190_Else;

  anon190_Else:
    goto anon189_Then, anon189_Else;

  anon189_Else:
    goto anon188_Then, anon188_Else;

  anon188_Else:
    goto anon187_Then, anon187_Else;

  anon187_Else:
    goto anon186_Then, anon186_Else;

  anon186_Else:
    goto anon185_Then, anon185_Else;

  anon185_Else:
    goto anon184_Then, anon184_Else;

  anon184_Else:
    goto anon183_Then, anon183_Else;

  anon183_Else:
    goto anon182_Then, anon182_Else;

  anon182_Else:
    goto anon181_Then, anon181_Else;

  anon181_Else:
    goto anon180_Then, anon180_Else;

  anon180_Else:
    goto anon179_Then, anon179_Else;

  anon179_Else:
    goto anon178_Then, anon178_Else;

  anon178_Else:
    goto anon177_Then, anon177_Else;

  anon177_Else:
    goto anon176_Then, anon176_Else;

  anon176_Else:
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon176_Then:
    goto L1;

  anon177_Then:
    goto L1;

  anon178_Then:
    goto L1;

  anon179_Then:
    goto L1;

  anon180_Then:
    goto L1;

  anon181_Then:
    goto L1;

  anon182_Then:
    goto L1;

  anon183_Then:
    goto L1;

  anon184_Then:
    goto L1;

  anon185_Then:
    goto L1;

  anon186_Then:
    goto L1;

  anon187_Then:
    goto L1;

  anon188_Then:
    goto L1;

  anon189_Then:
    goto L1;

  anon190_Then:
    goto L1;

  anon191_Then:
    goto L1;

  anon192_Then:
    goto L1;

  anon193_Then:
    goto L1;

  anon194_Then:
    goto L1;

  anon195_Then:
    goto L1;

  anon196_Then:
    goto L1;

  anon197_Then:
    goto L1;

  anon198_Then:
    goto L1;

  anon199_Then:
    goto L1;

  anon200_Then:
    goto L1;

  anon201_Then:
    goto L1;

  anon202_Then:
    goto L1;

  anon203_Then:
    goto L1;

  anon204_Then:
    goto L1;

  anon205_Then:
    goto L1;

  anon206_Then:
    goto L1;

  anon207_Then:
    goto L1;

  anon208_Then:
    goto L1;

  anon209_Then:
    goto L1;

  anon210_Then:
    goto L1;

  anon211_Then:
    goto L1;

  anon212_Then:
    goto L1;

  anon213_Then:
    goto L1;

  anon214_Then:
    goto L1;

  anon215_Then:
    goto L1;

  anon216_Then:
    goto L1;

  anon217_Then:
    goto L1;

  anon218_Then:
    goto L1;

  anon219_Then:
    goto L1;

  anon220_Then:
    goto L1;

  anon221_Then:
    goto L1;

  anon222_Then:
    goto L1;

  anon223_Then:
    goto L1;

  anon224_Then:
    goto L1;

  anon225_Then:
    goto L1;

  anon226_Then:
    goto L1;

  anon227_Then:
    goto L1;

  anon228_Then:
    goto L1;

  anon229_Then:
    goto L1;

  anon230_Then:
    goto L1;

  anon231_Then:
    goto L1;

  anon232_Then:
    goto L1;

  anon233_Then:
    goto L1;

  anon234_Then:
    goto L1;

  anon235_Then:
    goto L1;

  anon236_Then:
    goto L1;

  anon237_Then:
    goto L1;

  anon238_Then:
    goto L1;

  anon239_Then:
    goto L1;

  anon240_Then:
    goto L1;

  anon241_Then:
    goto L1;

  anon242_Then:
    goto L1;

  anon243_Then:
    goto L1;

  anon244_Then:
    goto L1;

  anon245_Then:
    goto L1;

  anon246_Then:
    goto L1;

  anon247_Then:
    goto L1;

  anon248_Then:
    goto L1;

  anon249_Then:
    goto L1;

  anon250_Then:
    goto L1;

  anon251_Then:
    goto L1;

  anon252_Then:
    goto L1;

  anon253_Then:
    goto L1;

  anon254_Then:
    goto L1;

  anon255_Then:
    goto L1;

  anon256_Then:
    goto L1;

  anon257_Then:
    goto anon175_Then, anon175_Else;

  anon175_Else:
    assume {:partition} sdv_795 != 0;
    call {:si_unique_call 1262} sdv_stub_driver_init();
    call {:si_unique_call 1263} sdv_RunStartIo(0, 0);
    goto L1;

  anon175_Then:
    assume {:partition} sdv_795 == 0;
    goto L1;

  anon173_Then:
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:partition} sdv_810 != 0;
    call {:si_unique_call 1264} sdv_stub_driver_init();
    call {:si_unique_call 1265} vslice_dummy_var_178 := sdv_RunDispatchFunction(sdv_p_devobj_fdo, sdv_irp);
    goto anon258_Then, anon258_Else;

  anon258_Else:
    assume {:partition} yogi_error != 1;
    goto L1;

  anon258_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon174_Then:
    assume {:partition} sdv_810 == 0;
    goto L1;
}



procedure {:origName "sdv_CheckDriverUnload"} {:osmodel} sdv_CheckDriverUnload() returns (Tmp_1259: int);
  free ensures {:va_keep} Tmp_1259 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckDriverUnload"} {:osmodel} sdv_CheckDriverUnload() returns (Tmp_1259: int)
{

  anon0:
    Tmp_1259 := 1;
    return;
}



procedure {:origName "IoGetFileObjectGenericMapping"} {:osmodel} IoGetFileObjectGenericMapping() returns (Tmp_1261: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoGetFileObjectGenericMapping"} {:osmodel} IoGetFileObjectGenericMapping() returns (Tmp_1261: int)
{

  anon0:
    Tmp_1261 := sdv_IoGetFileObjectGenericMapping_GENERIC_MAPPING;
    return;
}



procedure {:origName "sdv_MmGetSystemAddressForMdlSafe"} {:osmodel} sdv_MmGetSystemAddressForMdlSafe(actual_MDL: int, actual_PRIORITY: int) returns (Tmp_1263: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_MmGetSystemAddressForMdlSafe"} {:osmodel} sdv_MmGetSystemAddressForMdlSafe(actual_MDL: int, actual_PRIORITY: int) returns (Tmp_1263: int)
{
  var {:pointer} sdv_821: int;
  var {:pointer} p_1: int;

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    call {:si_unique_call 1266} sdv_821 := __HAVOC_malloc(1);
    p_1 := sdv_821;
    Tmp_1263 := p_1;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1263 := 0;
    goto L1;
}



procedure {:origName "KeEnterCriticalRegion"} {:osmodel} KeEnterCriticalRegion();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeEnterCriticalRegion"} {:osmodel} KeEnterCriticalRegion()
{
  var vslice_dummy_var_179: int;

  anon0:
    call {:si_unique_call 1267} vslice_dummy_var_179 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_MmGetMdlVirtualAddress"} {:osmodel} sdv_MmGetMdlVirtualAddress(actual_Mdl: int) returns (Tmp_1267: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_MmGetMdlVirtualAddress"} {:osmodel} sdv_MmGetMdlVirtualAddress(actual_Mdl: int) returns (Tmp_1267: int)
{
  var {:pointer} x_2: int;
  var {:pointer} sdv_822: int;

  anon0:
    call {:si_unique_call 1268} sdv_822 := __HAVOC_malloc(1);
    x_2 := sdv_822;
    Tmp_1267 := x_2;
    return;
}



procedure {:origName "sdv_CheckIoDpcRoutines"} {:osmodel} sdv_CheckIoDpcRoutines() returns (Tmp_1269: int);
  free ensures {:va_keep} Tmp_1269 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckIoDpcRoutines"} {:osmodel} sdv_CheckIoDpcRoutines() returns (Tmp_1269: int)
{

  anon0:
    Tmp_1269 := 0;
    return;
}



procedure {:origName "FsRtlFastUnlockAll"} {:osmodel} FsRtlFastUnlockAll(actual_FileLock: int, actual_FileObject_24: int, actual_ProcessId: int, actual_Context_3: int) returns (Tmp_1271: int);
  free ensures {:va_keep} Tmp_1271 == 0 || Tmp_1271 == -1073741698;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlFastUnlockAll"} {:osmodel} FsRtlFastUnlockAll(actual_FileLock: int, actual_FileObject_24: int, actual_ProcessId: int, actual_Context_3: int) returns (Tmp_1271: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1271 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1271 := -1073741698;
    goto L1;
}



procedure {:origName "sdv_CheckDpcRoutines"} {:osmodel} sdv_CheckDpcRoutines() returns (Tmp_1273: int);
  free ensures {:va_keep} Tmp_1273 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckDpcRoutines"} {:osmodel} sdv_CheckDpcRoutines() returns (Tmp_1273: int)
{

  anon0:
    Tmp_1273 := 0;
    return;
}



procedure {:origName "IoRaiseInformationalHardError"} {:osmodel} IoRaiseInformationalHardError(actual_ErrorStatus: int, actual_String_2: int, actual_Thread: int) returns (Tmp_1275: int);
  free ensures {:va_keep} Tmp_1275 == 0 || Tmp_1275 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoRaiseInformationalHardError"} {:osmodel} IoRaiseInformationalHardError(actual_ErrorStatus: int, actual_String_2: int, actual_Thread: int) returns (Tmp_1275: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1275 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1275 := 1;
    goto L1;
}



procedure {:origName "KeCancelTimer"} {:osmodel} KeCancelTimer(actual_Timer_1: int) returns (Tmp_1277: int);
  free ensures {:va_keep} Tmp_1277 == 1 || Tmp_1277 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeCancelTimer"} {:osmodel} KeCancelTimer(actual_Timer_1: int) returns (Tmp_1277: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1277 := 1;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1277 := 0;
    goto L1;
}



procedure {:origName "sdv_IoSetCompletionRoutine"} {:osmodel} sdv_IoSetCompletionRoutine(actual_pirp_5: int, actual_CompletionRoutine: int, actual_Context_4: int, actual_InvokeOnSuccess: int, actual_InvokeOnError: int, actual_InvokeOnCancel: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoSetCompletionRoutine"} {:osmodel} sdv_IoSetCompletionRoutine(actual_pirp_5: int, actual_CompletionRoutine: int, actual_Context_4: int, actual_InvokeOnSuccess: int, actual_InvokeOnError: int, actual_InvokeOnCancel: int)
{
  var {:pointer} irpSp: int;
  var {:pointer} pirp_5: int;
  var {:scalar} CompletionRoutine: int;
  var {:pointer} Context_4: int;
  var {:scalar} InvokeOnSuccess: int;
  var {:scalar} InvokeOnError: int;
  var {:scalar} InvokeOnCancel: int;
  var vslice_dummy_var_180: int;

  anon0:
    call {:si_unique_call 1269} vslice_dummy_var_180 := __HAVOC_malloc(4);
    pirp_5 := actual_pirp_5;
    CompletionRoutine := actual_CompletionRoutine;
    Context_4 := actual_Context_4;
    InvokeOnSuccess := actual_InvokeOnSuccess;
    InvokeOnError := actual_InvokeOnError;
    InvokeOnCancel := actual_InvokeOnCancel;
    call {:si_unique_call 1270} irpSp := sdv_IoGetNextIrpStackLocation(pirp_5);
    assume {:nonnull} irpSp != 0;
    assume irpSp > 0;
    return;
}



procedure {:origName "FsRtlBalanceReads"} {:osmodel} FsRtlBalanceReads(actual_TargetDevice: int) returns (Tmp_1281: int);
  free ensures {:va_keep} Tmp_1281 == 0 || Tmp_1281 == -1073741823;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlBalanceReads"} {:osmodel} FsRtlBalanceReads(actual_TargetDevice: int) returns (Tmp_1281: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1281 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1281 := -1073741823;
    goto L1;
}



procedure {:origName "IoSetShareAccess"} {:osmodel} IoSetShareAccess(actual_DesiredAccess_10: int, actual_DesiredShareAccess: int, actual_FileObject_25: int, actual_ShareAccess_11: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoSetShareAccess"} {:osmodel} IoSetShareAccess(actual_DesiredAccess_10: int, actual_DesiredShareAccess: int, actual_FileObject_25: int, actual_ShareAccess_11: int)
{
  var vslice_dummy_var_181: int;

  anon0:
    call {:si_unique_call 1271} vslice_dummy_var_181 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "SeLockSubjectContext"} {:osmodel} SeLockSubjectContext(actual_SubjectContext_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SeLockSubjectContext"} {:osmodel} SeLockSubjectContext(actual_SubjectContext_1: int)
{
  var vslice_dummy_var_182: int;

  anon0:
    call {:si_unique_call 1272} vslice_dummy_var_182 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "RtlUpcaseUnicodeStringToCountedOemString"} {:osmodel} RtlUpcaseUnicodeStringToCountedOemString(actual_DestinationString_1: int, actual_SourceString_1: int, actual_AllocateDestinationString_1: int) returns (Tmp_1287: int);
  free ensures {:va_keep} Tmp_1287 == -1073741675 || Tmp_1287 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RtlUpcaseUnicodeStringToCountedOemString"} {:osmodel} RtlUpcaseUnicodeStringToCountedOemString(actual_DestinationString_1: int, actual_SourceString_1: int, actual_AllocateDestinationString_1: int) returns (Tmp_1287: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1287 := -1073741675;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1287 := 0;
    goto L1;
}



procedure {:origName "sdv_RemoveEntryList"} {:osmodel} sdv_RemoveEntryList(actual_Entry_1: int) returns (Tmp_1289: int);
  free ensures {:va_keep} Tmp_1289 == 1 || Tmp_1289 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RemoveEntryList"} {:osmodel} sdv_RemoveEntryList(actual_Entry_1: int) returns (Tmp_1289: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1289 := 1;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1289 := 0;
    goto L1;
}



procedure {:origName "KeWaitForSingleObject"} {:osmodel} KeWaitForSingleObject(actual_Object: int, actual_WaitReason: int, actual_WaitMode_1: int, actual_Alertable_1: int, actual_Timeout: int) returns (Tmp_1291: int);
  free ensures {:va_keep} Tmp_1291 == 258 || Tmp_1291 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeWaitForSingleObject"} {:osmodel} KeWaitForSingleObject(actual_Object: int, actual_WaitReason: int, actual_WaitMode_1: int, actual_Alertable_1: int, actual_Timeout: int) returns (Tmp_1291: int)
{
  var {:pointer} Timeout: int;

  anon0:
    Timeout := actual_Timeout;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} Timeout != 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    Tmp_1291 := 258;
    goto L1;

  L1:
    return;

  anon6_Then:
    Tmp_1291 := 0;
    goto L1;

  anon5_Then:
    assume {:partition} Timeout == 0;
    Tmp_1291 := 0;
    goto L1;
}



procedure {:origName "FsRtlDissectName"} {:osmodel} FsRtlDissectName(actual_structPtr888Path: int, actual_FirstName: int, actual_RemainingName: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlDissectName"} {:osmodel} FsRtlDissectName(actual_structPtr888Path: int, actual_FirstName: int, actual_RemainingName: int)
{
  var {:scalar} Path: int;
  var {:pointer} structPtr888Path: int;
  var vslice_dummy_var_183: int;

  anon0:
    call {:si_unique_call 1273} Path := __HAVOC_malloc(12);
    call {:si_unique_call 1274} vslice_dummy_var_183 := __HAVOC_malloc(4);
    structPtr888Path := actual_structPtr888Path;
    assume {:nonnull} Path != 0;
    assume Path > 0;
    assume {:nonnull} structPtr888Path != 0;
    assume structPtr888Path > 0;
    assume {:nonnull} Path != 0;
    assume Path > 0;
    assume {:nonnull} structPtr888Path != 0;
    assume structPtr888Path > 0;
    assume {:nonnull} Path != 0;
    assume Path > 0;
    assume {:nonnull} structPtr888Path != 0;
    assume structPtr888Path > 0;
    return;
}



procedure {:origName "IoDeleteDevice"} {:osmodel} IoDeleteDevice(actual_DeviceObject_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoDeleteDevice"} {:osmodel} IoDeleteDevice(actual_DeviceObject_2: int)
{
  var vslice_dummy_var_184: int;

  anon0:
    call {:si_unique_call 1275} vslice_dummy_var_184 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "KeSetEvent"} {:osmodel} KeSetEvent(actual_Event: int, actual_Increment: int, actual_Wait_5: int) returns (Tmp_1297: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeSetEvent"} {:osmodel} KeSetEvent(actual_Event: int, actual_Increment: int, actual_Wait_5: int) returns (Tmp_1297: int)
{
  var {:scalar} OldState: int;
  var {:pointer} Event: int;

  anon0:
    Event := actual_Event;
    assume {:nonnull} Event != 0;
    assume Event > 0;
    havoc OldState;
    assume {:nonnull} Event != 0;
    assume Event > 0;
    Tmp_1297 := OldState;
    return;
}



procedure {:origName "IoAcquireVpbSpinLock"} {:osmodel} IoAcquireVpbSpinLock(actual_Irql: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoAcquireVpbSpinLock"} {:osmodel} IoAcquireVpbSpinLock(actual_Irql: int)
{
  var {:pointer} Irql: int;
  var vslice_dummy_var_185: int;

  anon0:
    call {:si_unique_call 1276} vslice_dummy_var_185 := __HAVOC_malloc(4);
    Irql := actual_Irql;
    assume {:nonnull} Irql != 0;
    assume Irql > 0;
    Mem_T.INT4[Irql] := sdv_irql_current;
    return;
}



procedure {:origName "RtlOemStringToCountedUnicodeString"} {:osmodel} RtlOemStringToCountedUnicodeString(actual_DestinationString_2: int, actual_SourceString_2: int, actual_AllocateDestinationString_2: int) returns (Tmp_1303: int);
  free ensures {:va_keep} Tmp_1303 == -1073741675 || Tmp_1303 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RtlOemStringToCountedUnicodeString"} {:osmodel} RtlOemStringToCountedUnicodeString(actual_DestinationString_2: int, actual_SourceString_2: int, actual_AllocateDestinationString_2: int) returns (Tmp_1303: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1303 := -1073741675;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1303 := 0;
    goto L1;
}



procedure {:origName "ObReferenceObjectByHandle"} {:osmodel} ObReferenceObjectByHandle(actual_Handle: int, actual_DesiredAccess_11: int, actual_ObjectType: int, actual_AccessMode: int, actual_Object_1: int, actual_HandleInformation: int) returns (Tmp_1305: int);
  free ensures {:va_keep} Tmp_1305 == 0 || Tmp_1305 == -1073741823;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ObReferenceObjectByHandle"} {:osmodel} ObReferenceObjectByHandle(actual_Handle: int, actual_DesiredAccess_11: int, actual_ObjectType: int, actual_AccessMode: int, actual_Object_1: int, actual_HandleInformation: int) returns (Tmp_1305: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1305 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1305 := -1073741823;
    goto L1;
}



procedure {:origName "MmProbeAndLockPages"} {:osmodel} MmProbeAndLockPages(actual_MemoryDescriptorList: int, actual_AccessMode_1: int, actual_Operation: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "MmProbeAndLockPages"} {:osmodel} MmProbeAndLockPages(actual_MemoryDescriptorList: int, actual_AccessMode_1: int, actual_Operation: int)
{
  var vslice_dummy_var_186: int;

  anon0:
    call {:si_unique_call 1277} vslice_dummy_var_186 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FsRtlNotifyFullChangeDirectory"} {:osmodel} FsRtlNotifyFullChangeDirectory(actual_NotifySync: int, actual_NotifyList: int, actual_FsContext: int, actual_FullDirectoryName: int, actual_WatchTree: int, actual_IgnoreBuffer: int, actual_CompletionFilter: int, actual_NotifyIrp: int, actual_TraverseCallback: int, actual_SubjectContext_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlNotifyFullChangeDirectory"} {:osmodel} FsRtlNotifyFullChangeDirectory(actual_NotifySync: int, actual_NotifyList: int, actual_FsContext: int, actual_FullDirectoryName: int, actual_WatchTree: int, actual_IgnoreBuffer: int, actual_CompletionFilter: int, actual_NotifyIrp: int, actual_TraverseCallback: int, actual_SubjectContext_2: int)
{
  var vslice_dummy_var_187: int;

  anon0:
    call {:si_unique_call 1278} vslice_dummy_var_187 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_IoGetCurrentIrpStackLocation"} {:osmodel} sdv_IoGetCurrentIrpStackLocation(actual_pirp_6: int) returns (Tmp_1311: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoGetCurrentIrpStackLocation"} {:osmodel} sdv_IoGetCurrentIrpStackLocation(actual_pirp_6: int) returns (Tmp_1311: int)
{
  var {:pointer} pirp_6: int;

  anon0:
    pirp_6 := actual_pirp_6;
    assume {:nonnull} pirp_6 != 0;
    assume pirp_6 > 0;
    havoc Tmp_1311;
    return;
}



procedure {:origName "sdv_RunKeDpcRoutines"} {:osmodel} sdv_RunKeDpcRoutines(actual_kdpc: int, actual_pDpcContext: int, actual_pv2: int, actual_pv3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RunKeDpcRoutines"} {:osmodel} sdv_RunKeDpcRoutines(actual_kdpc: int, actual_pDpcContext: int, actual_pv2: int, actual_pv3: int)
{
  var vslice_dummy_var_188: int;

  anon0:
    call {:si_unique_call 1279} vslice_dummy_var_188 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "ExDeleteResourceLite"} {:osmodel} ExDeleteResourceLite(actual_Resource_7: int) returns (Tmp_1315: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExDeleteResourceLite"} {:osmodel} ExDeleteResourceLite(actual_Resource_7: int) returns (Tmp_1315: int)
{
  var {:scalar} x_5: int;

  anon0:
    call {:si_unique_call 1280} SLIC_ExDeleteResourceLite_entry(strConst__li2bpl2);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} x_5 != 0;
    Tmp_1315 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon5_Then:
    assume {:partition} x_5 == 0;
    Tmp_1315 := -1073741823;
    goto L1;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "sdv_IoSetNextIrpStackLocation"} {:osmodel} sdv_IoSetNextIrpStackLocation(actual_Irp_13: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoSetNextIrpStackLocation"} {:osmodel} sdv_IoSetNextIrpStackLocation(actual_Irp_13: int)
{
  var vslice_dummy_var_189: int;

  anon0:
    call {:si_unique_call 1281} vslice_dummy_var_189 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "SeAccessCheck"} {:osmodel} SeAccessCheck(actual_SecurityDescriptor: int, actual_SubjectSecurityContext: int, actual_SubjectContextLocked: int, actual_DesiredAccess_12: int, actual_PreviouslyGrantedAccess: int, actual_Privileges: int, actual_GenericMapping: int, actual_AccessMode_2: int, actual_GrantedAccess: int, actual_AccessStatus: int) returns (Tmp_1319: int);
  free ensures {:va_keep} Tmp_1319 == 0 || Tmp_1319 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SeAccessCheck"} {:osmodel} SeAccessCheck(actual_SecurityDescriptor: int, actual_SubjectSecurityContext: int, actual_SubjectContextLocked: int, actual_DesiredAccess_12: int, actual_PreviouslyGrantedAccess: int, actual_Privileges: int, actual_GenericMapping: int, actual_AccessMode_2: int, actual_GrantedAccess: int, actual_AccessStatus: int) returns (Tmp_1319: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1319 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1319 := 1;
    goto L1;
}



procedure {:origName "FsRtlUninitializeFileLock"} {:osmodel} FsRtlUninitializeFileLock(actual_FileLock_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlUninitializeFileLock"} {:osmodel} FsRtlUninitializeFileLock(actual_FileLock_1: int)
{
  var vslice_dummy_var_190: int;

  anon0:
    call {:si_unique_call 1282} vslice_dummy_var_190 := __HAVOC_malloc(4);
    return;
}



procedure {:nohoudini} {:origName "main"} {:osmodel} {:entrypoint} main() returns (Tmp_1323: int, dup_assertVar: bool);
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error, Mem_T.INT4;
  free ensures {:va_keep} sdv_irql_previous_5 == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == 0;
  free ensures {:va_keep} sdv_irql_previous == 0;
  free ensures {:va_keep} sdv_irql_previous_4 == 0;
  free ensures {:va_keep} sdv_irql_previous_3 == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "main"} {:osmodel} main() returns (Tmp_1323: int, dup_assertVar: bool)
{
  var {:scalar} Tmp_1324: int;
  var {:scalar} Tmp_1325: int;
  var boogieTmp: int;
  var WHEA_ERROR_PACKET_SECTION_GUID__Loc: int;
  var FatNonPagedFcbLookasideList__Loc: int;
  var FatJanOne1980__Loc: int;
  var FatIrpContextLookasideList__Loc: int;
  var FatMaxLarge__Loc: int;
  var FatEResourceLookasideList__Loc: int;
  var FatData__Loc: int;
  var FatCloseContextSList__Loc: int;
  var FatLargeZero__Loc: int;
  var FatSecurityPrivilege__Loc: int;
  var FatTimeJanOne1980__Loc: int;
  var FatOneDay__Loc: int;
  var FatDecThirtyOne1979__Loc: int;
  var sdv_harnessStackLocation_next__Loc: int;
  var sdv_IoReadPartitionTableEx_DRIVE_LAYOUT_INFORMATION_EX__Loc: int;
  var sdv_IoBuildAsynchronousFsdRequest_harnessIrp__Loc: int;
  var sdv_IoGetDeviceToVerify_DEVICE_OBJECT__Loc: int;
  var sdv_IoBuildDeviceIoControlRequest_harnessStackLocation_next__Loc: int;
  var sdv_harness_IoBuildSynchronousFsdRequest_IoStatusBlock__Loc: int;
  var sdv_ControllerIrp__Loc: int;
  var sdv_devobj_pdo__Loc: int;
  var sdv_IoGetDmaAdapter_DMA_ADAPTER__Loc: int;
  var sdv_IoInitializeIrp_harnessIrp__Loc: int;
  var sdv_IoGetRelatedDeviceObject_DEVICE_OBJECT__Loc: int;
  var sdv_IoBuildSynchronousFsdRequest_harnessStackLocation_next__Loc: int;
  var sdv_IoCreateSynchronizationEvent_KEVENT__Loc: int;
  var sdv_other_harnessStackLocation_next__Loc: int;
  var sdv_harnessStackLocation__Loc: int;
  var sdv_IoCreateController_CONTROLLER_OBJECT__Loc: int;
  var sdv_devobj_top__Loc: int;
  var sdv_kdpc_val3__Loc: int;
  var sdv_IoBuildSynchronousFsdRequest_harnessIrp__Loc: int;
  var sdv_IoGetDeviceObjectPointer_DEVICE_OBJECT__Loc: int;
  var sdv_MapRegisterBase_val__Loc: int;
  var sdv_IoGetFileObjectGenericMapping_GENERIC_MAPPING__Loc: int;
  var sdv_IoMakeAssociatedIrp_harnessIrp__Loc: int;
  var sdv_devobj_child_pdo__Loc: int;
  var sdv_harnessIrp__Loc: int;
  var sdv_IoBuildAsynchronousFsdRequest_harnessStackLocation_next__Loc: int;
  var sdv_harness_IoBuildDeviceIoControlRequest_IoStatusBlock__Loc: int;
  var sdv_kinterrupt_val__Loc: int;
  var sdv_devobj_fdo__Loc: int;
  var sdv_StartIoIrp__Loc: int;
  var sdv_harness_IoBuildAsynchronousFsdRequest_IoStatusBlock__Loc: int;
  var sdv_PowerIrp__Loc: int;
  var sdv_IoBuildDeviceIoControlRequest_harnessIrp__Loc: int;
  var sdv_other_harnessIrp__Loc: int;
  var sdv_IoCreateNotificationEvent_KEVENT__Loc: int;
  var sdv_other_harnessStackLocation__Loc: int;
  var FatFastIoDispatch__Loc: int;
  var FatReserveEvent__Loc: int;
  var FatCloseQueueMutex__Loc: int;
  var Fat30Milliseconds__Loc: int;
  var FatMagic86400000__Loc: int;
  var Fat100Milliseconds__Loc: int;
  var FatMagic10000__Loc: int;
  var vslice_dummy_var_672: int;
  var vslice_dummy_var_673: int;
  var vslice_dummy_var_674: int;
  var vslice_dummy_var_675: int;
  var vslice_dummy_var_676: int;
  var vslice_dummy_var_677: int;
  var vslice_dummy_var_678: int;
  var vslice_dummy_var_679: int;
  var vslice_dummy_var_680: int;
  var vslice_dummy_var_681: int;
  var vslice_dummy_var_682: int;
  var vslice_dummy_var_683: int;
  var vslice_dummy_var_684: int;
  var vslice_dummy_var_685: int;
  var vslice_dummy_var_686: int;
  var vslice_dummy_var_687: int;
  var vslice_dummy_var_688: int;
  var vslice_dummy_var_689: int;
  var vslice_dummy_var_690: int;
  var vslice_dummy_var_691: int;
  var vslice_dummy_var_692: int;
  var vslice_dummy_var_693: int;
  var vslice_dummy_var_694: int;
  var vslice_dummy_var_695: int;
  var vslice_dummy_var_696: int;
  var vslice_dummy_var_697: int;
  var vslice_dummy_var_698: int;
  var vslice_dummy_var_699: int;
  var vslice_dummy_var_700: int;
  var vslice_dummy_var_701: int;
  var vslice_dummy_var_702: int;
  var vslice_dummy_var_703: int;
  var vslice_dummy_var_704: int;
  var vslice_dummy_var_705: int;
  var vslice_dummy_var_706: int;
  var vslice_dummy_var_707: int;
  var vslice_dummy_var_708: int;
  var vslice_dummy_var_709: int;
  var vslice_dummy_var_710: int;
  var vslice_dummy_var_711: int;
  var vslice_dummy_var_712: int;
  var vslice_dummy_var_713: int;
  var vslice_dummy_var_714: int;
  var vslice_dummy_var_715: int;
  var vslice_dummy_var_716: int;
  var vslice_dummy_var_717: int;
  var vslice_dummy_var_718: int;
  var vslice_dummy_var_719: int;
  var vslice_dummy_var_720: int;
  var vslice_dummy_var_721: int;
  var vslice_dummy_var_722: int;
  var vslice_dummy_var_723: int;
  var vslice_dummy_var_724: int;
  var vslice_dummy_var_725: int;
  var vslice_dummy_var_726: int;
  var vslice_dummy_var_727: int;
  var vslice_dummy_var_728: int;
  var vslice_dummy_var_729: int;
  var vslice_dummy_var_730: int;
  var vslice_dummy_var_731: int;
  var vslice_dummy_var_732: int;
  var vslice_dummy_var_733: int;
  var vslice_dummy_var_734: int;
  var vslice_dummy_var_735: int;
  var vslice_dummy_var_736: int;
  var vslice_dummy_var_737: int;
  var vslice_dummy_var_738: int;
  var vslice_dummy_var_739: int;
  var vslice_dummy_var_740: int;
  var vslice_dummy_var_741: int;
  var vslice_dummy_var_742: int;
  var vslice_dummy_var_743: int;
  var vslice_dummy_var_744: int;
  var vslice_dummy_var_745: int;
  var vslice_dummy_var_746: int;
  var vslice_dummy_var_747: int;
  var vslice_dummy_var_748: int;
  var vslice_dummy_var_749: int;
  var vslice_dummy_var_750: int;
  var vslice_dummy_var_751: int;
  var vslice_dummy_var_752: int;
  var vslice_dummy_var_753: int;
  var vslice_dummy_var_754: int;
  var vslice_dummy_var_755: int;
  var vslice_dummy_var_756: int;
  var vslice_dummy_var_757: int;
  var vslice_dummy_var_758: int;
  var vslice_dummy_var_759: int;
  var vslice_dummy_var_760: int;
  var vslice_dummy_var_761: int;
  var vslice_dummy_var_762: int;
  var vslice_dummy_var_763: int;
  var vslice_dummy_var_764: int;
  var vslice_dummy_var_765: int;
  var vslice_dummy_var_766: int;
  var vslice_dummy_var_767: int;
  var vslice_dummy_var_768: int;
  var vslice_dummy_var_769: int;
  var vslice_dummy_var_770: int;
  var vslice_dummy_var_771: int;
  var vslice_dummy_var_772: int;
  var vslice_dummy_var_773: int;
  var vslice_dummy_var_774: int;
  var vslice_dummy_var_775: int;
  var vslice_dummy_var_776: int;
  var vslice_dummy_var_777: int;
  var vslice_dummy_var_778: int;
  var vslice_dummy_var_779: int;
  var vslice_dummy_var_780: int;
  var vslice_dummy_var_781: int;
  var vslice_dummy_var_782: int;
  var vslice_dummy_var_783: int;
  var vslice_dummy_var_784: int;
  var vslice_dummy_var_785: int;
  var vslice_dummy_var_786: int;
  var vslice_dummy_var_787: int;
  var vslice_dummy_var_788: int;
  var vslice_dummy_var_789: int;
  var vslice_dummy_var_790: int;
  var vslice_dummy_var_791: int;
  var vslice_dummy_var_792: int;
  var vslice_dummy_var_793: int;
  var vslice_dummy_var_794: int;
  var vslice_dummy_var_795: int;
  var vslice_dummy_var_796: int;
  var vslice_dummy_var_797: int;
  var vslice_dummy_var_798: int;
  var vslice_dummy_var_799: int;
  var vslice_dummy_var_800: int;
  var vslice_dummy_var_801: int;
  var vslice_dummy_var_802: int;
  var vslice_dummy_var_803: int;
  var vslice_dummy_var_804: int;
  var vslice_dummy_var_805: int;
  var vslice_dummy_var_806: int;
  var vslice_dummy_var_807: int;
  var vslice_dummy_var_808: int;
  var vslice_dummy_var_809: int;
  var vslice_dummy_var_810: int;
  var vslice_dummy_var_811: int;
  var vslice_dummy_var_812: int;
  var vslice_dummy_var_813: int;
  var vslice_dummy_var_814: int;
  var vslice_dummy_var_815: int;
  var vslice_dummy_var_816: int;
  var vslice_dummy_var_817: int;
  var vslice_dummy_var_818: int;
  var vslice_dummy_var_819: int;
  var vslice_dummy_var_820: int;
  var vslice_dummy_var_821: int;
  var vslice_dummy_var_822: int;
  var vslice_dummy_var_823: int;
  var vslice_dummy_var_824: int;
  var vslice_dummy_var_825: int;
  var vslice_dummy_var_826: int;
  var vslice_dummy_var_827: int;
  var vslice_dummy_var_828: int;
  var vslice_dummy_var_829: int;
  var vslice_dummy_var_830: int;
  var vslice_dummy_var_831: int;
  var vslice_dummy_var_832: int;
  var vslice_dummy_var_833: int;
  var vslice_dummy_var_834: int;
  var vslice_dummy_var_835: int;
  var vslice_dummy_var_836: int;
  var vslice_dummy_var_837: int;
  var vslice_dummy_var_838: int;
  var vslice_dummy_var_839: int;
  var vslice_dummy_var_840: int;
  var vslice_dummy_var_841: int;
  var vslice_dummy_var_164: int;

  anon0:
    dup_assertVar := true;
    assume alloc > 0;
    call {:si_unique_call 1283} WHEA_ERROR_PACKET_SECTION_GUID__Loc := __HAVOC_malloc_or_null(16);
    assume WHEA_ERROR_PACKET_SECTION_GUID__Loc == WHEA_ERROR_PACKET_SECTION_GUID;
    assume WHEA_ERROR_PACKET_SECTION_GUID != 0;
    call {:si_unique_call 1284} FatNonPagedFcbLookasideList__Loc := __HAVOC_malloc_or_null(108);
    assume FatNonPagedFcbLookasideList__Loc == FatNonPagedFcbLookasideList;
    assume FatNonPagedFcbLookasideList != 0;
    call {:si_unique_call 1285} FatJanOne1980__Loc := __HAVOC_malloc_or_null(20);
    assume FatJanOne1980__Loc == FatJanOne1980;
    assume FatJanOne1980 != 0;
    call {:si_unique_call 1286} FatIrpContextLookasideList__Loc := __HAVOC_malloc_or_null(108);
    assume FatIrpContextLookasideList__Loc == FatIrpContextLookasideList;
    assume FatIrpContextLookasideList != 0;
    call {:si_unique_call 1287} FatMaxLarge__Loc := __HAVOC_malloc_or_null(20);
    assume FatMaxLarge__Loc == FatMaxLarge;
    assume FatMaxLarge != 0;
    call {:si_unique_call 1288} FatEResourceLookasideList__Loc := __HAVOC_malloc_or_null(108);
    assume FatEResourceLookasideList__Loc == FatEResourceLookasideList;
    assume FatEResourceLookasideList != 0;
    call {:si_unique_call 1289} FatData__Loc := __HAVOC_malloc_or_null(204);
    assume FatData__Loc == FatData;
    assume FatData != 0;
    call {:si_unique_call 1290} FatCloseContextSList__Loc := __HAVOC_malloc_or_null(16);
    assume FatCloseContextSList__Loc == FatCloseContextSList;
    assume FatCloseContextSList != 0;
    call {:si_unique_call 1291} FatLargeZero__Loc := __HAVOC_malloc_or_null(20);
    assume FatLargeZero__Loc == FatLargeZero;
    assume FatLargeZero != 0;
    call {:si_unique_call 1292} FatSecurityPrivilege__Loc := __HAVOC_malloc_or_null(8);
    assume FatSecurityPrivilege__Loc == FatSecurityPrivilege;
    assume FatSecurityPrivilege != 0;
    call {:si_unique_call 1293} FatTimeJanOne1980__Loc := __HAVOC_malloc_or_null(24);
    assume FatTimeJanOne1980__Loc == FatTimeJanOne1980;
    assume FatTimeJanOne1980 != 0;
    call {:si_unique_call 1294} FatOneDay__Loc := __HAVOC_malloc_or_null(20);
    assume FatOneDay__Loc == FatOneDay;
    assume FatOneDay != 0;
    call {:si_unique_call 1295} FatDecThirtyOne1979__Loc := __HAVOC_malloc_or_null(20);
    assume FatDecThirtyOne1979__Loc == FatDecThirtyOne1979;
    assume FatDecThirtyOne1979 != 0;
    call {:si_unique_call 1296} sdv_harnessStackLocation_next__Loc := __HAVOC_malloc_or_null(496);
    assume sdv_harnessStackLocation_next__Loc == sdv_harnessStackLocation_next;
    assume sdv_harnessStackLocation_next != 0;
    call {:si_unique_call 1297} sdv_IoReadPartitionTableEx_DRIVE_LAYOUT_INFORMATION_EX__Loc := __HAVOC_malloc_or_null(76);
    assume sdv_IoReadPartitionTableEx_DRIVE_LAYOUT_INFORMATION_EX__Loc == sdv_IoReadPartitionTableEx_DRIVE_LAYOUT_INFORMATION_EX;
    assume sdv_IoReadPartitionTableEx_DRIVE_LAYOUT_INFORMATION_EX != 0;
    call {:si_unique_call 1298} sdv_IoBuildAsynchronousFsdRequest_harnessIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_IoBuildAsynchronousFsdRequest_harnessIrp__Loc == sdv_IoBuildAsynchronousFsdRequest_harnessIrp;
    assume sdv_IoBuildAsynchronousFsdRequest_harnessIrp != 0;
    call {:si_unique_call 1299} sdv_IoGetDeviceToVerify_DEVICE_OBJECT__Loc := __HAVOC_malloc_or_null(320);
    assume sdv_IoGetDeviceToVerify_DEVICE_OBJECT__Loc == sdv_IoGetDeviceToVerify_DEVICE_OBJECT;
    assume sdv_IoGetDeviceToVerify_DEVICE_OBJECT != 0;
    call {:si_unique_call 1300} sdv_IoBuildDeviceIoControlRequest_harnessStackLocation_next__Loc := __HAVOC_malloc_or_null(496);
    assume sdv_IoBuildDeviceIoControlRequest_harnessStackLocation_next__Loc == sdv_IoBuildDeviceIoControlRequest_harnessStackLocation_next;
    assume sdv_IoBuildDeviceIoControlRequest_harnessStackLocation_next != 0;
    call {:si_unique_call 1301} sdv_harness_IoBuildSynchronousFsdRequest_IoStatusBlock__Loc := __HAVOC_malloc_or_null(12);
    assume sdv_harness_IoBuildSynchronousFsdRequest_IoStatusBlock__Loc == sdv_harness_IoBuildSynchronousFsdRequest_IoStatusBlock;
    assume sdv_harness_IoBuildSynchronousFsdRequest_IoStatusBlock != 0;
    call {:si_unique_call 1302} sdv_ControllerIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_ControllerIrp__Loc == sdv_ControllerIrp;
    assume sdv_ControllerIrp != 0;
    call {:si_unique_call 1303} sdv_devobj_pdo__Loc := __HAVOC_malloc_or_null(320);
    assume sdv_devobj_pdo__Loc == sdv_devobj_pdo;
    assume sdv_devobj_pdo != 0;
    call {:si_unique_call 1304} sdv_IoGetDmaAdapter_DMA_ADAPTER__Loc := __HAVOC_malloc_or_null(12);
    assume sdv_IoGetDmaAdapter_DMA_ADAPTER__Loc == sdv_IoGetDmaAdapter_DMA_ADAPTER;
    assume sdv_IoGetDmaAdapter_DMA_ADAPTER != 0;
    call {:si_unique_call 1305} sdv_IoInitializeIrp_harnessIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_IoInitializeIrp_harnessIrp__Loc == sdv_IoInitializeIrp_harnessIrp;
    assume sdv_IoInitializeIrp_harnessIrp != 0;
    call {:si_unique_call 1306} sdv_IoGetRelatedDeviceObject_DEVICE_OBJECT__Loc := __HAVOC_malloc_or_null(320);
    assume sdv_IoGetRelatedDeviceObject_DEVICE_OBJECT__Loc == sdv_IoGetRelatedDeviceObject_DEVICE_OBJECT;
    assume sdv_IoGetRelatedDeviceObject_DEVICE_OBJECT != 0;
    call {:si_unique_call 1307} sdv_IoBuildSynchronousFsdRequest_harnessStackLocation_next__Loc := __HAVOC_malloc_or_null(496);
    assume sdv_IoBuildSynchronousFsdRequest_harnessStackLocation_next__Loc == sdv_IoBuildSynchronousFsdRequest_harnessStackLocation_next;
    assume sdv_IoBuildSynchronousFsdRequest_harnessStackLocation_next != 0;
    call {:si_unique_call 1308} sdv_IoCreateSynchronizationEvent_KEVENT__Loc := __HAVOC_malloc_or_null(124);
    assume sdv_IoCreateSynchronizationEvent_KEVENT__Loc == sdv_IoCreateSynchronizationEvent_KEVENT;
    assume sdv_IoCreateSynchronizationEvent_KEVENT != 0;
    call {:si_unique_call 1309} sdv_other_harnessStackLocation_next__Loc := __HAVOC_malloc_or_null(496);
    assume sdv_other_harnessStackLocation_next__Loc == sdv_other_harnessStackLocation_next;
    assume sdv_other_harnessStackLocation_next != 0;
    call {:si_unique_call 1310} sdv_harnessStackLocation__Loc := __HAVOC_malloc_or_null(496);
    assume sdv_harnessStackLocation__Loc == sdv_harnessStackLocation;
    assume sdv_harnessStackLocation != 0;
    call {:si_unique_call 1311} sdv_IoCreateController_CONTROLLER_OBJECT__Loc := __HAVOC_malloc_or_null(60);
    assume sdv_IoCreateController_CONTROLLER_OBJECT__Loc == sdv_IoCreateController_CONTROLLER_OBJECT;
    assume sdv_IoCreateController_CONTROLLER_OBJECT != 0;
    call {:si_unique_call 1312} sdv_devobj_top__Loc := __HAVOC_malloc_or_null(320);
    assume sdv_devobj_top__Loc == sdv_devobj_top;
    assume sdv_devobj_top != 0;
    call {:si_unique_call 1313} sdv_kdpc_val3__Loc := __HAVOC_malloc_or_null(40);
    assume sdv_kdpc_val3__Loc == sdv_kdpc_val3;
    assume sdv_kdpc_val3 != 0;
    call {:si_unique_call 1314} sdv_IoBuildSynchronousFsdRequest_harnessIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_IoBuildSynchronousFsdRequest_harnessIrp__Loc == sdv_IoBuildSynchronousFsdRequest_harnessIrp;
    assume sdv_IoBuildSynchronousFsdRequest_harnessIrp != 0;
    call {:si_unique_call 1315} sdv_IoGetDeviceObjectPointer_DEVICE_OBJECT__Loc := __HAVOC_malloc_or_null(320);
    assume sdv_IoGetDeviceObjectPointer_DEVICE_OBJECT__Loc == sdv_IoGetDeviceObjectPointer_DEVICE_OBJECT;
    assume sdv_IoGetDeviceObjectPointer_DEVICE_OBJECT != 0;
    call {:si_unique_call 1316} sdv_MapRegisterBase_val__Loc := __HAVOC_malloc_or_null(4);
    assume sdv_MapRegisterBase_val__Loc == sdv_MapRegisterBase_val;
    assume sdv_MapRegisterBase_val != 0;
    call {:si_unique_call 1317} sdv_IoGetFileObjectGenericMapping_GENERIC_MAPPING__Loc := __HAVOC_malloc_or_null(16);
    assume sdv_IoGetFileObjectGenericMapping_GENERIC_MAPPING__Loc == sdv_IoGetFileObjectGenericMapping_GENERIC_MAPPING;
    assume sdv_IoGetFileObjectGenericMapping_GENERIC_MAPPING != 0;
    call {:si_unique_call 1318} sdv_IoMakeAssociatedIrp_harnessIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_IoMakeAssociatedIrp_harnessIrp__Loc == sdv_IoMakeAssociatedIrp_harnessIrp;
    assume sdv_IoMakeAssociatedIrp_harnessIrp != 0;
    call {:si_unique_call 1319} sdv_devobj_child_pdo__Loc := __HAVOC_malloc_or_null(320);
    assume sdv_devobj_child_pdo__Loc == sdv_devobj_child_pdo;
    assume sdv_devobj_child_pdo != 0;
    call {:si_unique_call 1320} sdv_harnessIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_harnessIrp__Loc == sdv_harnessIrp;
    assume sdv_harnessIrp != 0;
    call {:si_unique_call 1321} sdv_IoBuildAsynchronousFsdRequest_harnessStackLocation_next__Loc := __HAVOC_malloc_or_null(496);
    assume sdv_IoBuildAsynchronousFsdRequest_harnessStackLocation_next__Loc == sdv_IoBuildAsynchronousFsdRequest_harnessStackLocation_next;
    assume sdv_IoBuildAsynchronousFsdRequest_harnessStackLocation_next != 0;
    call {:si_unique_call 1322} sdv_harness_IoBuildDeviceIoControlRequest_IoStatusBlock__Loc := __HAVOC_malloc_or_null(12);
    assume sdv_harness_IoBuildDeviceIoControlRequest_IoStatusBlock__Loc == sdv_harness_IoBuildDeviceIoControlRequest_IoStatusBlock;
    assume sdv_harness_IoBuildDeviceIoControlRequest_IoStatusBlock != 0;
    call {:si_unique_call 1323} sdv_kinterrupt_val__Loc := __HAVOC_malloc_or_null(0);
    assume sdv_kinterrupt_val__Loc == sdv_kinterrupt_val;
    assume sdv_kinterrupt_val != 0;
    call {:si_unique_call 1324} sdv_devobj_fdo__Loc := __HAVOC_malloc_or_null(320);
    assume sdv_devobj_fdo__Loc == sdv_devobj_fdo;
    assume sdv_devobj_fdo != 0;
    call {:si_unique_call 1325} sdv_StartIoIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_StartIoIrp__Loc == sdv_StartIoIrp;
    assume sdv_StartIoIrp != 0;
    call {:si_unique_call 1326} sdv_harness_IoBuildAsynchronousFsdRequest_IoStatusBlock__Loc := __HAVOC_malloc_or_null(12);
    assume sdv_harness_IoBuildAsynchronousFsdRequest_IoStatusBlock__Loc == sdv_harness_IoBuildAsynchronousFsdRequest_IoStatusBlock;
    assume sdv_harness_IoBuildAsynchronousFsdRequest_IoStatusBlock != 0;
    call {:si_unique_call 1327} sdv_PowerIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_PowerIrp__Loc == sdv_PowerIrp;
    assume sdv_PowerIrp != 0;
    call {:si_unique_call 1328} sdv_IoBuildDeviceIoControlRequest_harnessIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_IoBuildDeviceIoControlRequest_harnessIrp__Loc == sdv_IoBuildDeviceIoControlRequest_harnessIrp;
    assume sdv_IoBuildDeviceIoControlRequest_harnessIrp != 0;
    call {:si_unique_call 1329} sdv_other_harnessIrp__Loc := __HAVOC_malloc_or_null(248);
    assume sdv_other_harnessIrp__Loc == sdv_other_harnessIrp;
    assume sdv_other_harnessIrp != 0;
    call {:si_unique_call 1330} sdv_IoCreateNotificationEvent_KEVENT__Loc := __HAVOC_malloc_or_null(124);
    assume sdv_IoCreateNotificationEvent_KEVENT__Loc == sdv_IoCreateNotificationEvent_KEVENT;
    assume sdv_IoCreateNotificationEvent_KEVENT != 0;
    call {:si_unique_call 1331} sdv_other_harnessStackLocation__Loc := __HAVOC_malloc_or_null(496);
    assume sdv_other_harnessStackLocation__Loc == sdv_other_harnessStackLocation;
    assume sdv_other_harnessStackLocation != 0;
    call {:si_unique_call 1332} FatFastIoDispatch__Loc := __HAVOC_malloc_or_null(112);
    assume FatFastIoDispatch__Loc == FatFastIoDispatch;
    assume FatFastIoDispatch != 0;
    call {:si_unique_call 1333} FatReserveEvent__Loc := __HAVOC_malloc_or_null(124);
    assume FatReserveEvent__Loc == FatReserveEvent;
    assume FatReserveEvent != 0;
    call {:si_unique_call 1334} FatCloseQueueMutex__Loc := __HAVOC_malloc_or_null(140);
    assume FatCloseQueueMutex__Loc == FatCloseQueueMutex;
    assume FatCloseQueueMutex != 0;
    call {:si_unique_call 1335} Fat30Milliseconds__Loc := __HAVOC_malloc_or_null(20);
    assume Fat30Milliseconds__Loc == Fat30Milliseconds;
    assume Fat30Milliseconds != 0;
    call {:si_unique_call 1336} FatMagic86400000__Loc := __HAVOC_malloc_or_null(20);
    assume FatMagic86400000__Loc == FatMagic86400000;
    assume FatMagic86400000 != 0;
    call {:si_unique_call 1337} Fat100Milliseconds__Loc := __HAVOC_malloc_or_null(20);
    assume Fat100Milliseconds__Loc == Fat100Milliseconds;
    assume Fat100Milliseconds != 0;
    call {:si_unique_call 1338} FatMagic10000__Loc := __HAVOC_malloc_or_null(20);
    assume FatMagic10000__Loc == FatMagic10000;
    assume FatMagic10000 != 0;
    call {:si_unique_call 1339} boogieTmp := __HAVOC_malloc_or_null(4);
    assume NlsMbOemCodePageTag == boogieTmp;
    call {:si_unique_call 1340} boogieTmp := __HAVOC_malloc_or_null(4);
    assume FsRtlLegalAnsiCharacterArray == boogieTmp;
    call {:si_unique_call 1341} boogieTmp := __HAVOC_malloc_or_null(4);
    assume sdv_harnessDeviceExtension_two == boogieTmp;
    call {:si_unique_call 1342} boogieTmp := __HAVOC_malloc_or_null(4);
    call {:si_unique_call 1343} boogieTmp := __HAVOC_malloc_or_null(4);
    assume sdv_pv1 == boogieTmp;
    call {:si_unique_call 1344} boogieTmp := __HAVOC_malloc_or_null(40);
    assume sdv_kdpc == boogieTmp;
    call {:si_unique_call 1345} boogieTmp := __HAVOC_malloc_or_null(4);
    assume sdv_pv2 == boogieTmp;
    call {:si_unique_call 1346} boogieTmp := __HAVOC_malloc_or_null(4);
    assume sdv_pIoDpcContext == boogieTmp;
    call {:si_unique_call 1347} boogieTmp := __HAVOC_malloc_or_null(4);
    assume sdv_pDpcContext == boogieTmp;
    call {:si_unique_call 1348} boogieTmp := __HAVOC_malloc_or_null(4);
    assume sdv_harnessDeviceExtension == boogieTmp;
    call {:si_unique_call 1349} boogieTmp := __HAVOC_malloc_or_null(4);
    assume igdoe == boogieTmp;
    call {:si_unique_call 1350} boogieTmp := __HAVOC_malloc_or_null(248);
    assume sicrni == boogieTmp;
    call {:si_unique_call 1351} boogieTmp := __HAVOC_malloc_or_null(320);
    assume FatDiskFileSystemDeviceObject == boogieTmp;
    call {:si_unique_call 1352} boogieTmp := __HAVOC_malloc_or_null(320);
    assume FatCdromFileSystemDeviceObject == boogieTmp;
    call {:si_unique_call 1353} boogieTmp := __HAVOC_malloc_or_null(4);
    assume IoFileObjectType == boogieTmp;
    call {:si_unique_call 1354} boogieTmp := __HAVOC_malloc_or_null(4);
    assume NlsOemLeadByteInfo == boogieTmp;
    call {:si_unique_call 1355} boogieTmp := __HAVOC_malloc_or_null(396);
    assume SeExports == boogieTmp;
    call {:si_unique_call 1356} boogieTmp := __HAVOC_malloc_or_null(4);
    call {:si_unique_call 1357} vslice_dummy_var_672 := __HAVOC_malloc(4);
    call {:si_unique_call 1358} vslice_dummy_var_673 := __HAVOC_malloc(4);
    call {:si_unique_call 1359} vslice_dummy_var_674 := __HAVOC_malloc(4);
    call {:si_unique_call 1360} vslice_dummy_var_675 := __HAVOC_malloc(4);
    call {:si_unique_call 1361} vslice_dummy_var_676 := __HAVOC_malloc(4);
    call {:si_unique_call 1362} vslice_dummy_var_677 := __HAVOC_malloc(4);
    call {:si_unique_call 1363} vslice_dummy_var_678 := __HAVOC_malloc(4);
    call {:si_unique_call 1364} vslice_dummy_var_679 := __HAVOC_malloc(4);
    call {:si_unique_call 1365} vslice_dummy_var_680 := __HAVOC_malloc(4);
    call {:si_unique_call 1366} vslice_dummy_var_681 := __HAVOC_malloc(4);
    call {:si_unique_call 1367} vslice_dummy_var_682 := __HAVOC_malloc(4);
    call {:si_unique_call 1368} vslice_dummy_var_683 := __HAVOC_malloc(4);
    call {:si_unique_call 1369} vslice_dummy_var_684 := __HAVOC_malloc(4);
    call {:si_unique_call 1370} vslice_dummy_var_685 := __HAVOC_malloc(4);
    call {:si_unique_call 1371} vslice_dummy_var_686 := __HAVOC_malloc(4);
    call {:si_unique_call 1372} vslice_dummy_var_687 := __HAVOC_malloc(4);
    call {:si_unique_call 1373} vslice_dummy_var_688 := __HAVOC_malloc(4);
    call {:si_unique_call 1374} vslice_dummy_var_689 := __HAVOC_malloc(4);
    call {:si_unique_call 1375} vslice_dummy_var_690 := __HAVOC_malloc(4);
    call {:si_unique_call 1376} vslice_dummy_var_691 := __HAVOC_malloc(4);
    call {:si_unique_call 1377} vslice_dummy_var_692 := __HAVOC_malloc(4);
    call {:si_unique_call 1378} vslice_dummy_var_693 := __HAVOC_malloc(4);
    call {:si_unique_call 1379} vslice_dummy_var_694 := __HAVOC_malloc(4);
    call {:si_unique_call 1380} vslice_dummy_var_695 := __HAVOC_malloc(4);
    call {:si_unique_call 1381} vslice_dummy_var_696 := __HAVOC_malloc(4);
    call {:si_unique_call 1382} vslice_dummy_var_697 := __HAVOC_malloc(4);
    call {:si_unique_call 1383} vslice_dummy_var_698 := __HAVOC_malloc(4);
    call {:si_unique_call 1384} vslice_dummy_var_699 := __HAVOC_malloc(4);
    call {:si_unique_call 1385} vslice_dummy_var_700 := __HAVOC_malloc(4);
    call {:si_unique_call 1386} vslice_dummy_var_701 := __HAVOC_malloc(4);
    call {:si_unique_call 1387} vslice_dummy_var_702 := __HAVOC_malloc(4);
    call {:si_unique_call 1388} vslice_dummy_var_703 := __HAVOC_malloc(4);
    call {:si_unique_call 1389} vslice_dummy_var_704 := __HAVOC_malloc(4);
    call {:si_unique_call 1390} vslice_dummy_var_705 := __HAVOC_malloc(4);
    call {:si_unique_call 1391} vslice_dummy_var_706 := __HAVOC_malloc(4);
    call {:si_unique_call 1392} vslice_dummy_var_707 := __HAVOC_malloc(4);
    call {:si_unique_call 1393} vslice_dummy_var_708 := __HAVOC_malloc(4);
    call {:si_unique_call 1394} vslice_dummy_var_709 := __HAVOC_malloc(4);
    call {:si_unique_call 1395} vslice_dummy_var_710 := __HAVOC_malloc(4);
    call {:si_unique_call 1396} vslice_dummy_var_711 := __HAVOC_malloc(4);
    call {:si_unique_call 1397} vslice_dummy_var_712 := __HAVOC_malloc(4);
    call {:si_unique_call 1398} vslice_dummy_var_713 := __HAVOC_malloc(4);
    call {:si_unique_call 1399} vslice_dummy_var_714 := __HAVOC_malloc(4);
    call {:si_unique_call 1400} vslice_dummy_var_715 := __HAVOC_malloc(4);
    call {:si_unique_call 1401} vslice_dummy_var_716 := __HAVOC_malloc(4);
    call {:si_unique_call 1402} vslice_dummy_var_717 := __HAVOC_malloc(4);
    call {:si_unique_call 1403} vslice_dummy_var_718 := __HAVOC_malloc(4);
    call {:si_unique_call 1404} vslice_dummy_var_719 := __HAVOC_malloc(4);
    call {:si_unique_call 1405} vslice_dummy_var_720 := __HAVOC_malloc(4);
    call {:si_unique_call 1406} vslice_dummy_var_721 := __HAVOC_malloc(4);
    call {:si_unique_call 1407} vslice_dummy_var_722 := __HAVOC_malloc(4);
    call {:si_unique_call 1408} vslice_dummy_var_723 := __HAVOC_malloc(4);
    call {:si_unique_call 1409} vslice_dummy_var_724 := __HAVOC_malloc(4);
    call {:si_unique_call 1410} vslice_dummy_var_725 := __HAVOC_malloc(4);
    call {:si_unique_call 1411} vslice_dummy_var_726 := __HAVOC_malloc(4);
    call {:si_unique_call 1412} vslice_dummy_var_727 := __HAVOC_malloc(4);
    call {:si_unique_call 1413} vslice_dummy_var_728 := __HAVOC_malloc(4);
    call {:si_unique_call 1414} vslice_dummy_var_729 := __HAVOC_malloc(4);
    call {:si_unique_call 1415} vslice_dummy_var_730 := __HAVOC_malloc(4);
    call {:si_unique_call 1416} vslice_dummy_var_731 := __HAVOC_malloc(4);
    call {:si_unique_call 1417} vslice_dummy_var_732 := __HAVOC_malloc(4);
    call {:si_unique_call 1418} vslice_dummy_var_733 := __HAVOC_malloc(4);
    call {:si_unique_call 1419} vslice_dummy_var_734 := __HAVOC_malloc(4);
    call {:si_unique_call 1420} vslice_dummy_var_735 := __HAVOC_malloc(4);
    call {:si_unique_call 1421} vslice_dummy_var_736 := __HAVOC_malloc(4);
    call {:si_unique_call 1422} vslice_dummy_var_737 := __HAVOC_malloc(4);
    call {:si_unique_call 1423} vslice_dummy_var_738 := __HAVOC_malloc(4);
    call {:si_unique_call 1424} vslice_dummy_var_739 := __HAVOC_malloc(4);
    call {:si_unique_call 1425} vslice_dummy_var_740 := __HAVOC_malloc(4);
    call {:si_unique_call 1426} vslice_dummy_var_741 := __HAVOC_malloc(4);
    call {:si_unique_call 1427} vslice_dummy_var_742 := __HAVOC_malloc(4);
    call {:si_unique_call 1428} vslice_dummy_var_743 := __HAVOC_malloc(4);
    call {:si_unique_call 1429} vslice_dummy_var_744 := __HAVOC_malloc(4);
    call {:si_unique_call 1430} vslice_dummy_var_745 := __HAVOC_malloc(4);
    call {:si_unique_call 1431} vslice_dummy_var_746 := __HAVOC_malloc(4);
    call {:si_unique_call 1432} vslice_dummy_var_747 := __HAVOC_malloc(4);
    call {:si_unique_call 1433} vslice_dummy_var_748 := __HAVOC_malloc(4);
    call {:si_unique_call 1434} vslice_dummy_var_749 := __HAVOC_malloc(4);
    call {:si_unique_call 1435} vslice_dummy_var_750 := __HAVOC_malloc(4);
    call {:si_unique_call 1436} vslice_dummy_var_751 := __HAVOC_malloc(4);
    call {:si_unique_call 1437} vslice_dummy_var_752 := __HAVOC_malloc(4);
    call {:si_unique_call 1438} vslice_dummy_var_753 := __HAVOC_malloc(4);
    call {:si_unique_call 1439} vslice_dummy_var_754 := __HAVOC_malloc(4);
    call {:si_unique_call 1440} vslice_dummy_var_755 := __HAVOC_malloc(4);
    call {:si_unique_call 1441} vslice_dummy_var_756 := __HAVOC_malloc(4);
    call {:si_unique_call 1442} vslice_dummy_var_757 := __HAVOC_malloc(4);
    call {:si_unique_call 1443} vslice_dummy_var_758 := __HAVOC_malloc(4);
    call {:si_unique_call 1444} vslice_dummy_var_759 := __HAVOC_malloc(4);
    call {:si_unique_call 1445} vslice_dummy_var_760 := __HAVOC_malloc(4);
    call {:si_unique_call 1446} vslice_dummy_var_761 := __HAVOC_malloc(4);
    call {:si_unique_call 1447} vslice_dummy_var_762 := __HAVOC_malloc(4);
    call {:si_unique_call 1448} vslice_dummy_var_763 := __HAVOC_malloc(4);
    call {:si_unique_call 1449} vslice_dummy_var_764 := __HAVOC_malloc(4);
    call {:si_unique_call 1450} vslice_dummy_var_765 := __HAVOC_malloc(4);
    call {:si_unique_call 1451} vslice_dummy_var_766 := __HAVOC_malloc(4);
    call {:si_unique_call 1452} vslice_dummy_var_767 := __HAVOC_malloc(4);
    call {:si_unique_call 1453} vslice_dummy_var_768 := __HAVOC_malloc(4);
    call {:si_unique_call 1454} vslice_dummy_var_769 := __HAVOC_malloc(4);
    call {:si_unique_call 1455} vslice_dummy_var_770 := __HAVOC_malloc(4);
    call {:si_unique_call 1456} vslice_dummy_var_771 := __HAVOC_malloc(4);
    call {:si_unique_call 1457} vslice_dummy_var_772 := __HAVOC_malloc(4);
    call {:si_unique_call 1458} vslice_dummy_var_773 := __HAVOC_malloc(4);
    call {:si_unique_call 1459} vslice_dummy_var_774 := __HAVOC_malloc(4);
    call {:si_unique_call 1460} vslice_dummy_var_775 := __HAVOC_malloc(4);
    call {:si_unique_call 1461} vslice_dummy_var_776 := __HAVOC_malloc(4);
    call {:si_unique_call 1462} vslice_dummy_var_777 := __HAVOC_malloc(4);
    call {:si_unique_call 1463} vslice_dummy_var_778 := __HAVOC_malloc(4);
    call {:si_unique_call 1464} vslice_dummy_var_779 := __HAVOC_malloc(4);
    call {:si_unique_call 1465} vslice_dummy_var_780 := __HAVOC_malloc(4);
    call {:si_unique_call 1466} vslice_dummy_var_781 := __HAVOC_malloc(4);
    call {:si_unique_call 1467} vslice_dummy_var_782 := __HAVOC_malloc(4);
    call {:si_unique_call 1468} vslice_dummy_var_783 := __HAVOC_malloc(4);
    call {:si_unique_call 1469} vslice_dummy_var_784 := __HAVOC_malloc(4);
    call {:si_unique_call 1470} vslice_dummy_var_785 := __HAVOC_malloc(4);
    call {:si_unique_call 1471} vslice_dummy_var_786 := __HAVOC_malloc(4);
    call {:si_unique_call 1472} vslice_dummy_var_787 := __HAVOC_malloc(4);
    call {:si_unique_call 1473} vslice_dummy_var_788 := __HAVOC_malloc(4);
    call {:si_unique_call 1474} vslice_dummy_var_789 := __HAVOC_malloc(4);
    call {:si_unique_call 1475} vslice_dummy_var_790 := __HAVOC_malloc(4);
    call {:si_unique_call 1476} vslice_dummy_var_791 := __HAVOC_malloc(4);
    call {:si_unique_call 1477} vslice_dummy_var_792 := __HAVOC_malloc(4);
    call {:si_unique_call 1478} vslice_dummy_var_793 := __HAVOC_malloc(4);
    call {:si_unique_call 1479} vslice_dummy_var_794 := __HAVOC_malloc(4);
    call {:si_unique_call 1480} vslice_dummy_var_795 := __HAVOC_malloc(4);
    call {:si_unique_call 1481} vslice_dummy_var_796 := __HAVOC_malloc(4);
    call {:si_unique_call 1482} vslice_dummy_var_797 := __HAVOC_malloc(4);
    call {:si_unique_call 1483} vslice_dummy_var_798 := __HAVOC_malloc(4);
    call {:si_unique_call 1484} vslice_dummy_var_799 := __HAVOC_malloc(4);
    call {:si_unique_call 1485} vslice_dummy_var_800 := __HAVOC_malloc(4);
    call {:si_unique_call 1486} vslice_dummy_var_801 := __HAVOC_malloc(4);
    call {:si_unique_call 1487} vslice_dummy_var_802 := __HAVOC_malloc(4);
    call {:si_unique_call 1488} vslice_dummy_var_803 := __HAVOC_malloc(4);
    call {:si_unique_call 1489} vslice_dummy_var_804 := __HAVOC_malloc(4);
    call {:si_unique_call 1490} vslice_dummy_var_805 := __HAVOC_malloc(4);
    call {:si_unique_call 1491} vslice_dummy_var_806 := __HAVOC_malloc(4);
    call {:si_unique_call 1492} vslice_dummy_var_807 := __HAVOC_malloc(4);
    call {:si_unique_call 1493} vslice_dummy_var_808 := __HAVOC_malloc(4);
    call {:si_unique_call 1494} vslice_dummy_var_809 := __HAVOC_malloc(4);
    call {:si_unique_call 1495} vslice_dummy_var_810 := __HAVOC_malloc(4);
    call {:si_unique_call 1496} vslice_dummy_var_811 := __HAVOC_malloc(4);
    call {:si_unique_call 1497} vslice_dummy_var_812 := __HAVOC_malloc(4);
    call {:si_unique_call 1498} vslice_dummy_var_813 := __HAVOC_malloc(4);
    call {:si_unique_call 1499} vslice_dummy_var_814 := __HAVOC_malloc(4);
    call {:si_unique_call 1500} vslice_dummy_var_815 := __HAVOC_malloc(4);
    call {:si_unique_call 1501} vslice_dummy_var_816 := __HAVOC_malloc(4);
    call {:si_unique_call 1502} vslice_dummy_var_817 := __HAVOC_malloc(4);
    call {:si_unique_call 1503} vslice_dummy_var_818 := __HAVOC_malloc(4);
    call {:si_unique_call 1504} vslice_dummy_var_819 := __HAVOC_malloc(4);
    call {:si_unique_call 1505} vslice_dummy_var_820 := __HAVOC_malloc(4);
    call {:si_unique_call 1506} vslice_dummy_var_821 := __HAVOC_malloc(4);
    call {:si_unique_call 1507} vslice_dummy_var_822 := __HAVOC_malloc(4);
    call {:si_unique_call 1508} vslice_dummy_var_823 := __HAVOC_malloc(4);
    call {:si_unique_call 1509} vslice_dummy_var_824 := __HAVOC_malloc(4);
    call {:si_unique_call 1510} vslice_dummy_var_825 := __HAVOC_malloc(4);
    call {:si_unique_call 1511} vslice_dummy_var_826 := __HAVOC_malloc(4);
    call {:si_unique_call 1512} vslice_dummy_var_164 := __HAVOC_malloc(48);
    call {:si_unique_call 1513} vslice_dummy_var_827 := __HAVOC_malloc(4);
    call {:si_unique_call 1514} vslice_dummy_var_828 := __HAVOC_malloc(4);
    call {:si_unique_call 1515} vslice_dummy_var_829 := __HAVOC_malloc(4);
    call {:si_unique_call 1516} vslice_dummy_var_830 := __HAVOC_malloc(4);
    call {:si_unique_call 1517} vslice_dummy_var_831 := __HAVOC_malloc(4);
    call {:si_unique_call 1518} vslice_dummy_var_832 := __HAVOC_malloc(4);
    call {:si_unique_call 1519} vslice_dummy_var_833 := __HAVOC_malloc(4);
    call {:si_unique_call 1520} vslice_dummy_var_834 := __HAVOC_malloc(4);
    call {:si_unique_call 1521} vslice_dummy_var_835 := __HAVOC_malloc(4);
    call {:si_unique_call 1522} vslice_dummy_var_836 := __HAVOC_malloc(4);
    call {:si_unique_call 1523} vslice_dummy_var_837 := __HAVOC_malloc(4);
    call {:si_unique_call 1524} vslice_dummy_var_838 := __HAVOC_malloc(4);
    call {:si_unique_call 1525} vslice_dummy_var_839 := __HAVOC_malloc(4);
    call {:si_unique_call 1526} vslice_dummy_var_840 := __HAVOC_malloc(4);
    call {:si_unique_call 1527} vslice_dummy_var_841 := __HAVOC_malloc(4);
    assume {:mainInitDone} true;
    call {:si_unique_call 1528} corralExtraInit();
    call {:si_unique_call 1529} corralExplainErrorInit();
    call {:si_unique_call 1530} _sdv_init36();
    call {:si_unique_call 1531} _sdv_init22();
    call {:si_unique_call 1532} _sdv_init18();
    call {:si_unique_call 1533} _sdv_init19();
    call {:si_unique_call 1534} _sdv_init32();
    call {:si_unique_call 1535} _sdv_init17();
    call {:si_unique_call 1536} _sdv_init1();
    call {:si_unique_call 1537} _sdv_init28();
    call {:si_unique_call 1538} _sdv_init23();
    call {:si_unique_call 1539} _sdv_init25();
    call {:si_unique_call 1540} _sdv_init4();
    call {:si_unique_call 1541} _sdv_init5();
    call {:si_unique_call 1542} _sdv_init3();
    call {:si_unique_call 1543} _sdv_init30();
    call {:si_unique_call 1544} _sdv_init16();
    call {:si_unique_call 1545} _sdv_init24();
    call {:si_unique_call 1546} _sdv_init14();
    call {:si_unique_call 1547} _sdv_init21();
    call {:si_unique_call 1548} _sdv_init33();
    call {:si_unique_call 1549} _sdv_init6();
    call {:si_unique_call 1550} _sdv_init15();
    call {:si_unique_call 1551} _sdv_init27();
    call {:si_unique_call 1552} _sdv_init10();
    call {:si_unique_call 1553} _sdv_init26();
    call {:si_unique_call 1554} _sdv_init11();
    call {:si_unique_call 1555} _sdv_init9();
    call {:si_unique_call 1556} _sdv_init31();
    call {:si_unique_call 1557} _sdv_init12();
    call {:si_unique_call 1558} _sdv_init13();
    call {:si_unique_call 1559} _sdv_init7();
    call {:si_unique_call 1560} _sdv_init34();
    call {:si_unique_call 1561} _sdv_init8();
    call {:si_unique_call 1562} _sdv_init29();
    call {:si_unique_call 1563} _sdv_init2();
    call {:si_unique_call 1564} _sdv_init20();
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} sdv_harnessDeviceExtension == 0;
    Tmp_1325 := 0;
    goto L59;

  L59:
    assume Tmp_1325 != 0;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} sdv_harnessDeviceExtension_two == 0;
    Tmp_1324 := 0;
    goto L63;

  L63:
    assume Tmp_1324 != 0;
    assume {:nonnull} sdv_irp != 0;
    assume sdv_irp > 0;
    assume {:nonnull} sdv_other_irp != 0;
    assume sdv_other_irp > 0;
    call {:si_unique_call 1565} sdv_main();
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} yogi_error == 1;
    goto L57;

  L57:
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume yogi_error == 1;
    dup_assertVar := false;
    goto L_BAF_0, L_BAF_1;

  L_BAF_1:
    assume dup_assertVar;
    goto L_BAF_2;

  L_BAF_2:
    return;

  L_BAF_0:
    assume !dup_assertVar;
    return;

  anon11_Then:
    assume yogi_error == 0;
    goto LM2;

  LM2:
    return;

  anon12_Then:
    assume {:partition} yogi_error != 1;
    goto L57;

  anon10_Then:
    assume {:partition} sdv_harnessDeviceExtension_two != 0;
    Tmp_1324 := 1;
    goto L63;

  anon9_Then:
    assume {:partition} sdv_harnessDeviceExtension != 0;
    Tmp_1325 := 1;
    goto L59;
}



procedure {:origName "SeUnlockSubjectContext"} {:osmodel} SeUnlockSubjectContext(actual_SubjectContext_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SeUnlockSubjectContext"} {:osmodel} SeUnlockSubjectContext(actual_SubjectContext_3: int)
{
  var vslice_dummy_var_191: int;

  anon0:
    call {:si_unique_call 1566} vslice_dummy_var_191 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FsRtlProcessFileLock"} {:osmodel} FsRtlProcessFileLock(actual_FileLock_2: int, actual_Irp_14: int, actual_Context_5: int) returns (Tmp_1329: int);
  free ensures {:va_keep} Tmp_1329 == -1073741698 || Tmp_1329 == 0 || Tmp_1329 == -1073741808 || Tmp_1329 == -1073741670;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlProcessFileLock"} {:osmodel} FsRtlProcessFileLock(actual_FileLock_2: int, actual_Irp_14: int, actual_Context_5: int) returns (Tmp_1329: int)
{

  anon0:
    goto anon7_Then, anon7_Else;

  anon7_Else:
    goto anon9_Then, anon9_Else;

  anon9_Else:
    goto anon8_Then, anon8_Else;

  anon8_Else:
    Tmp_1329 := -1073741698;
    goto L1;

  L1:
    return;

  anon8_Then:
    Tmp_1329 := 0;
    goto L1;

  anon9_Then:
    Tmp_1329 := -1073741808;
    goto L1;

  anon7_Then:
    Tmp_1329 := -1073741670;
    goto L1;
}



procedure {:origName "sdv_ExQueueWorkItem"} {:osmodel} sdv_ExQueueWorkItem(actual_WorkItem: int, actual_QueueType_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_ExQueueWorkItem"} {:osmodel} sdv_ExQueueWorkItem(actual_WorkItem: int, actual_QueueType_1: int)
{
  var vslice_dummy_var_192: int;

  anon0:
    call {:si_unique_call 1567} vslice_dummy_var_192 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_IoSkipCurrentIrpStackLocation"} {:osmodel} sdv_IoSkipCurrentIrpStackLocation(actual_pirp_7: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoSkipCurrentIrpStackLocation"} {:osmodel} sdv_IoSkipCurrentIrpStackLocation(actual_pirp_7: int)
{
  var {:pointer} pirp_7: int;
  var vslice_dummy_var_193: int;

  anon0:
    call {:si_unique_call 1568} vslice_dummy_var_193 := __HAVOC_malloc(4);
    pirp_7 := actual_pirp_7;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} pirp_7 == sdv_harnessIrp;
    goto L4;

  L4:
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} pirp_7 == sdv_other_harnessIrp;
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:partition} pirp_7 != sdv_other_harnessIrp;
    goto L1;

  anon5_Then:
    assume {:partition} pirp_7 != sdv_harnessIrp;
    goto L4;
}



procedure {:origName "sdv_InterlockedDecrement"} {:osmodel} sdv_InterlockedDecrement(actual_Addend: int) returns (Tmp_1335: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_InterlockedDecrement"} {:osmodel} sdv_InterlockedDecrement(actual_Addend: int) returns (Tmp_1335: int)
{
  var {:pointer} Addend: int;

  anon0:
    Addend := actual_Addend;
    assume {:nonnull} Addend != 0;
    assume Addend > 0;
    Mem_T.INT4[Addend] := Mem_T.INT4[Addend] - 1;
    assume {:nonnull} Addend != 0;
    assume Addend > 0;
    Tmp_1335 := Mem_T.INT4[Addend];
    return;
}



procedure {:origName "sdv_KeGetCurrentThread"} {:osmodel} sdv_KeGetCurrentThread() returns (Tmp_1337: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_KeGetCurrentThread"} {:osmodel} sdv_KeGetCurrentThread() returns (Tmp_1337: int)
{
  var {:pointer} sdv_836: int;

  anon0:
    call {:si_unique_call 1569} sdv_836 := __HAVOC_malloc(4);
    Tmp_1337 := sdv_836;
    return;
}



procedure {:origName "IoAllocateMdl"} {:osmodel} IoAllocateMdl(actual_VirtualAddress: int, actual_Length_10: int, actual_SecondaryBuffer: int, actual_ChargeQuota: int, actual_Irp_15: int) returns (Tmp_1339: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoAllocateMdl"} {:osmodel} IoAllocateMdl(actual_VirtualAddress: int, actual_Length_10: int, actual_SecondaryBuffer: int, actual_ChargeQuota: int, actual_Irp_15: int) returns (Tmp_1339: int)
{
  var {:pointer} sdv_838: int;

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    call {:si_unique_call 1570} sdv_838 := __HAVOC_malloc(1);
    Tmp_1339 := sdv_838;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1339 := 0;
    goto L1;
}



procedure {:origName "ExConvertExclusiveToSharedLite"} {:osmodel} ExConvertExclusiveToSharedLite(actual_Resource_8: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExConvertExclusiveToSharedLite"} {:osmodel} ExConvertExclusiveToSharedLite(actual_Resource_8: int)
{
  var vslice_dummy_var_194: int;

  anon0:
    call {:si_unique_call 1571} vslice_dummy_var_194 := __HAVOC_malloc(4);
    call {:si_unique_call 1572} SLIC_ExConvertExclusiveToSharedLite_entry(strConst__li2bpl2);
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:partition} yogi_error != 1;
    goto LM2;

  LM2:
    return;

  anon3_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FsRtlCheckLockForReadAccess"} {:osmodel} FsRtlCheckLockForReadAccess(actual_FileLock_3: int, actual_Irp_16: int) returns (Tmp_1343: int);
  free ensures {:va_keep} Tmp_1343 == 0 || Tmp_1343 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlCheckLockForReadAccess"} {:osmodel} FsRtlCheckLockForReadAccess(actual_FileLock_3: int, actual_Irp_16: int) returns (Tmp_1343: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1343 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1343 := 1;
    goto L1;
}



procedure {:origName "RtlCompareMemory"} {:osmodel} RtlCompareMemory(actual_Source1: int, actual_Source2: int, actual_Length_11: int) returns (Tmp_1345: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RtlCompareMemory"} {:osmodel} RtlCompareMemory(actual_Source1: int, actual_Source2: int, actual_Length_11: int) returns (Tmp_1345: int)
{
  var {:scalar} r: int;
  var {:scalar} sdv_840: int;

  anon0:
    r := sdv_840;
    Tmp_1345 := r;
    return;
}



procedure {:origName "RtlDowncaseUnicodeString"} {:osmodel} RtlDowncaseUnicodeString(actual_DestinationString_3: int, actual_SourceString_3: int, actual_AllocateDestinationString_3: int) returns (Tmp_1347: int);
  free ensures {:va_keep} Tmp_1347 == -1073741675 || Tmp_1347 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RtlDowncaseUnicodeString"} {:osmodel} RtlDowncaseUnicodeString(actual_DestinationString_3: int, actual_SourceString_3: int, actual_AllocateDestinationString_3: int) returns (Tmp_1347: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1347 := -1073741675;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1347 := 0;
    goto L1;
}



procedure {:origName "sdv_RunStartIo"} {:osmodel} sdv_RunStartIo(actual_po: int, actual_pirp_8: int);
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) <= 2 && old(sdv_irql_previous) <= 2 && old(sdv_irql_previous_2) <= 2 && old(sdv_irql_previous_3) <= 2 ==> sdv_irql_current <= 2 && sdv_irql_previous <= 2 && sdv_irql_previous_2 <= 2 && sdv_irql_previous_3 <= 2 && sdv_irql_current >= 0 && sdv_irql_previous >= 0 && sdv_irql_previous_2 >= 0 && sdv_irql_previous_3 >= 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_current == 0;
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RunStartIo"} {:osmodel} sdv_RunStartIo(actual_po: int, actual_pirp_8: int)
{
  var vslice_dummy_var_195: int;
  var vslice_dummy_var_196: int;

  anon0:
    call {:si_unique_call 1573} vslice_dummy_var_195 := __HAVOC_malloc(4);
    call {:si_unique_call 1574} sdv_stub_startio_begin();
    call {:si_unique_call 1575} vslice_dummy_var_196 := sdv_DoNothing();
    call {:si_unique_call 1576} sdv_stub_startio_end();
    return;
}



procedure {:origName "IoGetStackLimits"} {:osmodel} IoGetStackLimits(actual_LowLimit: int, actual_HighLimit: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoGetStackLimits"} {:osmodel} IoGetStackLimits(actual_LowLimit: int, actual_HighLimit: int)
{
  var vslice_dummy_var_197: int;

  anon0:
    call {:si_unique_call 1577} vslice_dummy_var_197 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "IoBuildPartialMdl"} {:osmodel} IoBuildPartialMdl(actual_SourceMdl: int, actual_TargetMdl: int, actual_VirtualAddress_1: int, actual_Length_12: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoBuildPartialMdl"} {:osmodel} IoBuildPartialMdl(actual_SourceMdl: int, actual_TargetMdl: int, actual_VirtualAddress_1: int, actual_Length_12: int)
{
  var vslice_dummy_var_198: int;

  anon0:
    call {:si_unique_call 1578} vslice_dummy_var_198 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_IoCompletionRoutines"} {:osmodel} sdv_IoCompletionRoutines() returns (Tmp_1355: int);
  free ensures {:va_keep} Tmp_1355 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoCompletionRoutines"} {:osmodel} sdv_IoCompletionRoutines() returns (Tmp_1355: int)
{

  anon0:
    Tmp_1355 := 0;
    return;
}



procedure {:origName "sdv_RtlZeroMemory"} {:osmodel} sdv_RtlZeroMemory(actual_Destination_1: int, actual_Length_13: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RtlZeroMemory"} {:osmodel} sdv_RtlZeroMemory(actual_Destination_1: int, actual_Length_13: int)
{
  var vslice_dummy_var_199: int;

  anon0:
    call {:si_unique_call 1579} vslice_dummy_var_199 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "RtlUpcaseUnicodeString"} {:osmodel} RtlUpcaseUnicodeString(actual_DestinationString_4: int, actual_SourceString_4: int, actual_AllocateDestinationString_4: int) returns (Tmp_1359: int);
  free ensures {:va_keep} Tmp_1359 == -1073741675 || Tmp_1359 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RtlUpcaseUnicodeString"} {:osmodel} RtlUpcaseUnicodeString(actual_DestinationString_4: int, actual_SourceString_4: int, actual_AllocateDestinationString_4: int) returns (Tmp_1359: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1359 := -1073741675;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1359 := 0;
    goto L1;
}



procedure {:origName "sdv_KeFlushIoBuffers"} {:osmodel} sdv_KeFlushIoBuffers(actual_Mdl_1: int, actual_ReadOperation: int, actual_DmaOperation: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_KeFlushIoBuffers"} {:osmodel} sdv_KeFlushIoBuffers(actual_Mdl_1: int, actual_ReadOperation: int, actual_DmaOperation: int)
{
  var vslice_dummy_var_200: int;

  anon0:
    call {:si_unique_call 1580} vslice_dummy_var_200 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "ExReleaseFastMutexUnsafe"} {:osmodel} ExReleaseFastMutexUnsafe(actual_FastMutex_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExReleaseFastMutexUnsafe"} {:osmodel} ExReleaseFastMutexUnsafe(actual_FastMutex_2: int)
{
  var vslice_dummy_var_201: int;

  anon0:
    call {:si_unique_call 1581} vslice_dummy_var_201 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "IoFreeMdl"} {:osmodel} IoFreeMdl(actual_Mdl_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoFreeMdl"} {:osmodel} IoFreeMdl(actual_Mdl_2: int)
{
  var vslice_dummy_var_202: int;

  anon0:
    call {:si_unique_call 1582} vslice_dummy_var_202 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_stub_startio_begin"} {:osmodel} sdv_stub_startio_begin();
  modifies alloc, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) <= 2 && old(sdv_irql_previous) <= 2 && old(sdv_irql_previous_2) <= 2 && old(sdv_irql_previous_3) <= 2 ==> sdv_irql_current <= 2 && sdv_irql_previous <= 2 && sdv_irql_previous_2 <= 2 && sdv_irql_previous_3 <= 2 && sdv_irql_current >= 0 && sdv_irql_previous >= 0 && sdv_irql_previous_2 >= 0 && sdv_irql_previous_3 >= 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_current == 2;
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_2);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_stub_startio_begin"} {:osmodel} sdv_stub_startio_begin()
{
  var vslice_dummy_var_203: int;

  anon0:
    call {:si_unique_call 1583} vslice_dummy_var_203 := __HAVOC_malloc(4);
    sdv_irql_previous_5 := sdv_irql_previous_4;
    sdv_irql_previous_4 := sdv_irql_previous_3;
    sdv_irql_previous_3 := sdv_irql_previous_2;
    sdv_irql_previous_2 := sdv_irql_previous;
    sdv_irql_previous := sdv_irql_current;
    sdv_irql_current := 2;
    return;
}



procedure {:origName "ExInitializeResourceLite"} {:osmodel} ExInitializeResourceLite(actual_Resource_9: int) returns (Tmp_1369: int);
  free ensures {:va_keep} Tmp_1369 == 0 || Tmp_1369 == -1073741823;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExInitializeResourceLite"} {:osmodel} ExInitializeResourceLite(actual_Resource_9: int) returns (Tmp_1369: int)
{
  var {:scalar} x_6: int;

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:partition} x_6 != 0;
    Tmp_1369 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    assume {:partition} x_6 == 0;
    Tmp_1369 := -1073741823;
    goto L1;
}



procedure {:origName "sdv_do_paged_code_check"} {:osmodel} sdv_do_paged_code_check();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_do_paged_code_check"} {:osmodel} sdv_do_paged_code_check()
{
  var vslice_dummy_var_204: int;

  anon0:
    call {:si_unique_call 1584} vslice_dummy_var_204 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FsRtlInitializeFileLock"} {:osmodel} FsRtlInitializeFileLock(actual_FileLock_4: int, actual_CompleteLockIrpRoutine: int, actual_UnlockRoutine: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlInitializeFileLock"} {:osmodel} FsRtlInitializeFileLock(actual_FileLock_4: int, actual_CompleteLockIrpRoutine: int, actual_UnlockRoutine: int)
{
  var vslice_dummy_var_205: int;

  anon0:
    call {:si_unique_call 1585} vslice_dummy_var_205 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_AbnormalTermination"} {:osmodel} sdv_AbnormalTermination() returns (Tmp_1375: int);
  free ensures {:va_keep} Tmp_1375 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_AbnormalTermination"} {:osmodel} sdv_AbnormalTermination() returns (Tmp_1375: int)
{

  anon0:
    Tmp_1375 := 0;
    return;
}



procedure {:origName "ExRaiseStatus"} {:osmodel} ExRaiseStatus(actual_Status_17: int);
  modifies alloc;
  free ensures {:va_keep} false;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExRaiseStatus"} {:osmodel} ExRaiseStatus(actual_Status_17: int)
{
  var vslice_dummy_var_206: int;

  anon0:
    call {:si_unique_call 1586} vslice_dummy_var_206 := __HAVOC_malloc(4);
    call {:si_unique_call 1587} SdvExit#1();
    return;
}



procedure {:origName "sdv_IoMarkIrpPending"} {:osmodel} sdv_IoMarkIrpPending(actual_pirp_9: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoMarkIrpPending"} {:osmodel} sdv_IoMarkIrpPending(actual_pirp_9: int)
{
  var vslice_dummy_var_207: int;

  anon0:
    call {:si_unique_call 1588} vslice_dummy_var_207 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_RunDispatchFunction"} {:osmodel} sdv_RunDispatchFunction(actual_po_1: int, actual_pirp_10: int) returns (Tmp_1381: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_2);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RunDispatchFunction"} {:osmodel} sdv_RunDispatchFunction(actual_po_1: int, actual_pirp_10: int) returns (Tmp_1381: int)
{
  var {:pointer} ps: int;
  var {:scalar} minor: int;
  var {:scalar} sdv_853: int;
  var {:scalar} Tmp_1383: int;
  var {:scalar} Tmp_1384: int;
  var {:scalar} status: int;
  var {:pointer} po_1: int;
  var {:pointer} pirp_10: int;

  anon0:
    po_1 := actual_po_1;
    pirp_10 := actual_pirp_10;
    status := 0;
    minor := sdv_853;
    assume {:nonnull} pirp_10 != 0;
    assume pirp_10 > 0;
    havoc ps;
    assume {:nonnull} pirp_10 != 0;
    assume pirp_10 > 0;
    assume {:nonnull} pirp_10 != 0;
    assume pirp_10 > 0;
    call {:si_unique_call 1589} sdv_SetStatus(pirp_10);
    assume {:nonnull} pirp_10 != 0;
    assume pirp_10 > 0;
    assume {:nonnull} pirp_10 != 0;
    assume pirp_10 > 0;
    assume {:nonnull} ps != 0;
    assume ps > 0;
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1590} sdv_stub_dispatch_begin();
    goto anon69_Then, anon69_Else;

  anon69_Else:
    goto anon88_Then, anon88_Else;

  anon88_Else:
    goto anon87_Then, anon87_Else;

  anon87_Else:
    goto anon86_Then, anon86_Else;

  anon86_Else:
    goto anon85_Then, anon85_Else;

  anon85_Else:
    goto anon84_Then, anon84_Else;

  anon84_Else:
    goto anon83_Then, anon83_Else;

  anon83_Else:
    goto anon82_Then, anon82_Else;

  anon82_Else:
    goto anon81_Then, anon81_Else;

  anon81_Else:
    goto anon80_Then, anon80_Else;

  anon80_Else:
    goto anon79_Then, anon79_Else;

  anon79_Else:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    goto anon77_Then, anon77_Else;

  anon77_Else:
    goto anon76_Then, anon76_Else;

  anon76_Else:
    goto anon75_Then, anon75_Else;

  anon75_Else:
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    assume {:nonnull} ps != 0;
    assume ps > 0;
    goto anon101_Then, anon101_Else;

  anon101_Else:
    goto L60;

  L60:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    goto anon73_Then, anon73_Else;

  anon73_Else:
    Tmp_1383 := 0;
    goto L226;

  L226:
    assume Tmp_1383 != 0;
    goto L61;

  L61:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    goto L66;

  L66:
    call {:si_unique_call 1591} status := FatFsdPnp(po_1, pirp_10);
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 1592} sdv_RunISRRoutines(0, 0);
    call {:si_unique_call 1593} sdv_RunKeDpcRoutines(0, 0, 0, 0);
    call {:si_unique_call 1594} sdv_RunIoDpcRoutines(0, 0, 0, 0);
    goto L81;

  L81:
    call {:si_unique_call 1595} sdv_stub_dispatch_end(status, 0);
    assume {:nonnull} pirp_10 != 0;
    assume pirp_10 > 0;
    Tmp_1381 := status;
    goto LM2;

  LM2:
    return;

  anon102_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon72_Then:
    goto L66;

  anon73_Then:
    Tmp_1383 := 1;
    goto L226;

  anon71_Then:
    goto L61;

  anon101_Then:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} sdv_start_irp_already_issued != 0;
    Tmp_1384 := 0;
    goto L232;

  L232:
    assume Tmp_1384 != 0;
    goto L60;

  anon70_Then:
    assume {:partition} sdv_start_irp_already_issued == 0;
    Tmp_1384 := 1;
    goto L232;

  anon74_Then:
    call {:si_unique_call 1596} status := sdv_DoNothing();
    goto L81;

  anon75_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1597} status := sdv_DoNothing();
    goto L81;

  anon76_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1598} status := sdv_DoNothing();
    goto L81;

  anon77_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1599} status := FatFsdCleanup(po_1, pirp_10);
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon100_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon78_Then:
    call {:si_unique_call 1600} status := FatFsdLockControl(po_1, pirp_10);
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon99_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon79_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1601} status := FatFsdShutdown(po_1, pirp_10);
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon98_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon80_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1602} status := sdv_DoNothing();
    goto L81;

  anon81_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1603} status := FatFsdDeviceControl(po_1, pirp_10);
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon97_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon82_Then:
    call {:si_unique_call 1604} status := FatFsdFileSystemControl(po_1, pirp_10);
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon96_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon83_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1605} status := FatFsdFlushBuffers(po_1, pirp_10);
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon95_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon84_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1606} status := FatFsdSetInformation(po_1, pirp_10);
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon94_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon85_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1607} status := FatFsdQueryInformation(po_1, pirp_10);
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon93_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon86_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1608} status := FatFsdWrite(po_1, pirp_10);
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon92_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon87_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1609} status := FatFsdRead(po_1, pirp_10);
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon91_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon88_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1610} status := FatFsdClose(po_1, pirp_10);
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon90_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon69_Then:
    assume {:nonnull} ps != 0;
    assume ps > 0;
    call {:si_unique_call 1611} status := FatFsdCreate(po_1, pirp_10);
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} yogi_error != 1;
    goto L81;

  anon89_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "RtlFreeUnicodeString"} {:osmodel} RtlFreeUnicodeString(actual_UnicodeString: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RtlFreeUnicodeString"} {:osmodel} RtlFreeUnicodeString(actual_UnicodeString: int)
{
  var vslice_dummy_var_208: int;

  anon0:
    call {:si_unique_call 1612} vslice_dummy_var_208 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_CheckAddDevice"} {:osmodel} sdv_CheckAddDevice() returns (Tmp_1387: int);
  free ensures {:va_keep} Tmp_1387 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckAddDevice"} {:osmodel} sdv_CheckAddDevice() returns (Tmp_1387: int)
{

  anon0:
    Tmp_1387 := 0;
    return;
}



procedure {:origName "IoBuildSynchronousFsdRequest"} {:osmodel} IoBuildSynchronousFsdRequest(actual_MajorFunction: int, actual_DeviceObject_3: int, actual_Buffer_15: int, actual_Length_14: int, actual_StartingOffset: int, actual_Event_1: int, actual_IoStatusBlock: int) returns (Tmp_1389: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoBuildSynchronousFsdRequest"} {:osmodel} IoBuildSynchronousFsdRequest(actual_MajorFunction: int, actual_DeviceObject_3: int, actual_Buffer_15: int, actual_Length_14: int, actual_StartingOffset: int, actual_Event_1: int, actual_IoStatusBlock: int) returns (Tmp_1389: int)
{
  var {:pointer} Tmp_1391: int;
  var {:scalar} MajorFunction: int;
  var {:pointer} IoStatusBlock: int;

  anon0:
    MajorFunction := actual_MajorFunction;
    IoStatusBlock := actual_IoStatusBlock;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:nonnull} sdv_IoBuildSynchronousFsdRequest_irp != 0;
    assume sdv_IoBuildSynchronousFsdRequest_irp > 0;
    havoc Tmp_1391;
    assume {:nonnull} Tmp_1391 != 0;
    assume Tmp_1391 > 0;
    assume {:nonnull} IoStatusBlock != 0;
    assume IoStatusBlock > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatusBlock)] := 0;
    assume {:nonnull} sdv_IoBuildSynchronousFsdRequest_irp != 0;
    assume sdv_IoBuildSynchronousFsdRequest_irp > 0;
    Tmp_1389 := sdv_IoBuildSynchronousFsdRequest_irp;
    goto L1;

  L1:
    return;

  anon3_Then:
    assume {:nonnull} sdv_IoBuildSynchronousFsdRequest_irp != 0;
    assume sdv_IoBuildSynchronousFsdRequest_irp > 0;
    assume {:nonnull} IoStatusBlock != 0;
    assume IoStatusBlock > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatusBlock)] := -1073741823;
    Tmp_1389 := 0;
    goto L1;
}



procedure {:origName "sdv_CheckWorkerRoutines"} {:osmodel} sdv_CheckWorkerRoutines() returns (Tmp_1392: int);
  free ensures {:va_keep} Tmp_1392 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckWorkerRoutines"} {:osmodel} sdv_CheckWorkerRoutines() returns (Tmp_1392: int)
{

  anon0:
    Tmp_1392 := 0;
    return;
}



procedure {:origName "sdv_KeReleaseSpinLock"} {:osmodel} sdv_KeReleaseSpinLock(actual_SpinLock_1: int, actual_new: int);
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_current == actual_new;
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_KeReleaseSpinLock"} {:osmodel} sdv_KeReleaseSpinLock(actual_SpinLock_1: int, actual_new: int)
{
  var {:scalar} new: int;
  var vslice_dummy_var_209: int;

  anon0:
    call {:si_unique_call 1613} vslice_dummy_var_209 := __HAVOC_malloc(4);
    new := actual_new;
    sdv_irql_current := new;
    sdv_irql_previous := sdv_irql_previous_2;
    sdv_irql_previous_2 := sdv_irql_previous_3;
    sdv_irql_previous_3 := sdv_irql_previous_4;
    sdv_irql_previous_4 := sdv_irql_previous_5;
    return;
}



procedure {:origName "sdv_IoCompleteRequest"} {:osmodel} sdv_IoCompleteRequest(actual_pirp_11: int, actual_PriorityBoost: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoCompleteRequest"} {:osmodel} sdv_IoCompleteRequest(actual_pirp_11: int, actual_PriorityBoost: int)
{
  var vslice_dummy_var_210: int;

  anon0:
    call {:si_unique_call 1614} vslice_dummy_var_210 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_RtlCopyMemory"} {:osmodel} sdv_RtlCopyMemory(actual_Destination_2: int, actual_Source_1: int, actual_Length_15: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RtlCopyMemory"} {:osmodel} sdv_RtlCopyMemory(actual_Destination_2: int, actual_Source_1: int, actual_Length_15: int)
{
  var vslice_dummy_var_211: int;

  anon0:
    call {:si_unique_call 1615} vslice_dummy_var_211 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_RunIoDpcRoutines"} {:osmodel} sdv_RunIoDpcRoutines(actual_Dpc_3: int, actual_DeviceObject_4: int, actual_Irp_17: int, actual_Context_6: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_RunIoDpcRoutines"} {:osmodel} sdv_RunIoDpcRoutines(actual_Dpc_3: int, actual_DeviceObject_4: int, actual_Irp_17: int, actual_Context_6: int)
{
  var vslice_dummy_var_212: int;

  anon0:
    call {:si_unique_call 1616} vslice_dummy_var_212 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_ExFreePool"} {:osmodel} sdv_ExFreePool(actual_P: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_ExFreePool"} {:osmodel} sdv_ExFreePool(actual_P: int)
{
  var vslice_dummy_var_213: int;

  anon0:
    call {:si_unique_call 1617} vslice_dummy_var_213 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_CheckIsrRoutines"} {:osmodel} sdv_CheckIsrRoutines() returns (Tmp_1404: int);
  free ensures {:va_keep} Tmp_1404 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckIsrRoutines"} {:osmodel} sdv_CheckIsrRoutines() returns (Tmp_1404: int)
{

  anon0:
    Tmp_1404 := 0;
    return;
}



procedure {:origName "ProbeForRead"} {:osmodel} ProbeForRead(actual_Address_1: int, actual_Length_16: int, actual_Alignment: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ProbeForRead"} {:osmodel} ProbeForRead(actual_Address_1: int, actual_Length_16: int, actual_Alignment: int)
{
  var vslice_dummy_var_214: int;

  anon0:
    call {:si_unique_call 1618} vslice_dummy_var_214 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "IoCheckShareAccess"} {:osmodel} IoCheckShareAccess(actual_DesiredAccess_13: int, actual_DesiredShareAccess_1: int, actual_FileObject_26: int, actual_ShareAccess_12: int, actual_Update: int) returns (Tmp_1408: int);
  free ensures {:va_keep} Tmp_1408 == 0 || Tmp_1408 == -1073741757;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoCheckShareAccess"} {:osmodel} IoCheckShareAccess(actual_DesiredAccess_13: int, actual_DesiredShareAccess_1: int, actual_FileObject_26: int, actual_ShareAccess_12: int, actual_Update: int) returns (Tmp_1408: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1408 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1408 := -1073741757;
    goto L1;
}



procedure {:origName "FsRtlCheckLockForWriteAccess"} {:osmodel} FsRtlCheckLockForWriteAccess(actual_FileLock_5: int, actual_Irp_18: int) returns (Tmp_1410: int);
  free ensures {:va_keep} Tmp_1410 == 0 || Tmp_1410 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlCheckLockForWriteAccess"} {:osmodel} FsRtlCheckLockForWriteAccess(actual_FileLock_5: int, actual_Irp_18: int) returns (Tmp_1410: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1410 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1410 := 1;
    goto L1;
}



procedure {:origName "ExGetSharedWaiterCount"} {:osmodel} ExGetSharedWaiterCount(actual_Resource_10: int) returns (Tmp_1412: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExGetSharedWaiterCount"} {:osmodel} ExGetSharedWaiterCount(actual_Resource_10: int) returns (Tmp_1412: int)
{
  var {:scalar} sdv_867: int;

  anon0:
    Tmp_1412 := sdv_867;
    return;
}



procedure {:origName "IoSetHardErrorOrVerifyDevice"} {:osmodel} IoSetHardErrorOrVerifyDevice(actual_Irp_19: int, actual_DeviceObject_5: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoSetHardErrorOrVerifyDevice"} {:osmodel} IoSetHardErrorOrVerifyDevice(actual_Irp_19: int, actual_DeviceObject_5: int)
{
  var vslice_dummy_var_215: int;

  anon0:
    call {:si_unique_call 1619} vslice_dummy_var_215 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "ProbeForWrite"} {:osmodel} ProbeForWrite(actual_Address_2: int, actual_Length_17: int, actual_Alignment_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ProbeForWrite"} {:osmodel} ProbeForWrite(actual_Address_2: int, actual_Length_17: int, actual_Alignment_1: int)
{
  var vslice_dummy_var_216: int;

  anon0:
    call {:si_unique_call 1620} vslice_dummy_var_216 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_CheckStartIoRoutines"} {:osmodel} sdv_CheckStartIoRoutines() returns (Tmp_1420: int);
  free ensures {:va_keep} Tmp_1420 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckStartIoRoutines"} {:osmodel} sdv_CheckStartIoRoutines() returns (Tmp_1420: int)
{

  anon0:
    Tmp_1420 := 0;
    return;
}



procedure {:origName "sdv_InterlockedIncrement"} {:osmodel} sdv_InterlockedIncrement(actual_Addend_1: int) returns (Tmp_1422: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_InterlockedIncrement"} {:osmodel} sdv_InterlockedIncrement(actual_Addend_1: int) returns (Tmp_1422: int)
{
  var {:pointer} Addend_1: int;

  anon0:
    Addend_1 := actual_Addend_1;
    assume {:nonnull} Addend_1 != 0;
    assume Addend_1 > 0;
    Mem_T.INT4[Addend_1] := Mem_T.INT4[Addend_1] + 1;
    assume {:nonnull} Addend_1 != 0;
    assume Addend_1 > 0;
    Tmp_1422 := Mem_T.INT4[Addend_1];
    return;
}



procedure {:origName "sdv_IsListEmpty"} {:osmodel} sdv_IsListEmpty(actual_ListHead_2: int) returns (Tmp_1424: int);
  free ensures {:va_keep} Tmp_1424 == 1 || Tmp_1424 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IsListEmpty"} {:osmodel} sdv_IsListEmpty(actual_ListHead_2: int) returns (Tmp_1424: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1424 := 1;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1424 := 0;
    goto L1;
}



procedure {:origName "sdv_CheckIrpMjPnp"} {:osmodel} sdv_CheckIrpMjPnp() returns (Tmp_1426: int);
  free ensures {:va_keep} Tmp_1426 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_CheckIrpMjPnp"} {:osmodel} sdv_CheckIrpMjPnp() returns (Tmp_1426: int)
{

  anon0:
    Tmp_1426 := 1;
    return;
}



procedure {:origName "IofCallDriver"} {:osmodel} IofCallDriver(actual_DeviceObject_6: int, actual_Irp_20: int) returns (Tmp_1428: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} Tmp_1428 == 259;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IofCallDriver"} {:osmodel} IofCallDriver(actual_DeviceObject_6: int, actual_Irp_20: int) returns (Tmp_1428: int)
{
  var {:scalar} status_1: int;
  var {:pointer} Irp_20: int;

  anon0:
    Irp_20 := actual_Irp_20;
    status_1 := 259;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    goto anon40_Then, anon40_Else;

  anon40_Else:
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Irp_20 != 0;
    assume Irp_20 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_20))] := 259;
    assume {:nonnull} Irp_20 != 0;
    assume Irp_20 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} sdv_IoBuildDeviceIoControlRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L19;

  L19:
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} sdv_IoBuildSynchronousFsdRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L21;

  L21:
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} sdv_IoBuildAsynchronousFsdRequest_irp != Irp_20;
    goto L25;

  L25:
    Tmp_1428 := status_1;
    return;

  anon32_Then:
    assume {:partition} sdv_IoBuildAsynchronousFsdRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L25;

  anon31_Then:
    assume {:partition} sdv_IoBuildSynchronousFsdRequest_irp != Irp_20;
    goto L21;

  anon44_Then:
    assume {:partition} sdv_IoBuildDeviceIoControlRequest_irp != Irp_20;
    goto L19;

  anon39_Then:
    assume {:nonnull} Irp_20 != 0;
    assume Irp_20 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_20))] := -1073741823;
    assume {:nonnull} Irp_20 != 0;
    assume Irp_20 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} sdv_IoBuildDeviceIoControlRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L44;

  L44:
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} sdv_IoBuildSynchronousFsdRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L46;

  L46:
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} sdv_IoBuildAsynchronousFsdRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L25;

  anon38_Then:
    assume {:partition} sdv_IoBuildAsynchronousFsdRequest_irp != Irp_20;
    goto L25;

  anon37_Then:
    assume {:partition} sdv_IoBuildSynchronousFsdRequest_irp != Irp_20;
    goto L46;

  anon45_Then:
    assume {:partition} sdv_IoBuildDeviceIoControlRequest_irp != Irp_20;
    goto L44;

  anon40_Then:
    assume {:nonnull} Irp_20 != 0;
    assume Irp_20 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_20))] := -1073741536;
    assume {:nonnull} Irp_20 != 0;
    assume Irp_20 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} sdv_IoBuildDeviceIoControlRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L28;

  L28:
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} sdv_IoBuildSynchronousFsdRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L30;

  L30:
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} sdv_IoBuildAsynchronousFsdRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L25;

  anon34_Then:
    assume {:partition} sdv_IoBuildAsynchronousFsdRequest_irp != Irp_20;
    goto L25;

  anon33_Then:
    assume {:partition} sdv_IoBuildSynchronousFsdRequest_irp != Irp_20;
    goto L30;

  anon43_Then:
    assume {:partition} sdv_IoBuildDeviceIoControlRequest_irp != Irp_20;
    goto L28;

  anon41_Then:
    assume {:nonnull} Irp_20 != 0;
    assume Irp_20 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_20))] := 0;
    assume {:nonnull} Irp_20 != 0;
    assume Irp_20 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} sdv_IoBuildDeviceIoControlRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L36;

  L36:
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} sdv_IoBuildSynchronousFsdRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L38;

  L38:
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} sdv_IoBuildAsynchronousFsdRequest_irp == Irp_20;
    havoc Mem_T.INT4;
    goto L25;

  anon36_Then:
    assume {:partition} sdv_IoBuildAsynchronousFsdRequest_irp != Irp_20;
    goto L25;

  anon35_Then:
    assume {:partition} sdv_IoBuildSynchronousFsdRequest_irp != Irp_20;
    goto L38;

  anon42_Then:
    assume {:partition} sdv_IoBuildDeviceIoControlRequest_irp != Irp_20;
    goto L36;
}



procedure {:origName "sdv_ObReferenceObject"} {:osmodel} sdv_ObReferenceObject(actual_Object_2: int) returns (Tmp_1430: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_ObReferenceObject"} {:osmodel} sdv_ObReferenceObject(actual_Object_2: int) returns (Tmp_1430: int)
{
  var {:scalar} p_3: int;

  anon0:
    Tmp_1430 := p_3;
    return;
}



procedure {:origName "sdv_IoGetRemainingStackSize"} {:osmodel} sdv_IoGetRemainingStackSize() returns (Tmp_1432: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoGetRemainingStackSize"} {:osmodel} sdv_IoGetRemainingStackSize() returns (Tmp_1432: int)
{
  var {:scalar} sdv_871: int;
  var {:scalar} l: int;

  anon0:
    l := sdv_871;
    Tmp_1432 := l;
    return;
}



procedure {:origName "KeInitializeEvent"} {:osmodel} KeInitializeEvent(actual_Event_2: int, actual_Type: int, actual_State: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeInitializeEvent"} {:osmodel} KeInitializeEvent(actual_Event_2: int, actual_Type: int, actual_State: int)
{
  var {:pointer} Event_2: int;
  var {:scalar} Type: int;
  var {:scalar} State: int;
  var vslice_dummy_var_217: int;

  anon0:
    call {:si_unique_call 1621} vslice_dummy_var_217 := __HAVOC_malloc(4);
    Event_2 := actual_Event_2;
    Type := actual_Type;
    State := actual_State;
    assume {:nonnull} Event_2 != 0;
    assume Event_2 > 0;
    assume {:nonnull} Event_2 != 0;
    assume Event_2 > 0;
    assume {:nonnull} Event_2 != 0;
    assume Event_2 > 0;
    assume {:nonnull} Event_2 != 0;
    assume Event_2 > 0;
    return;
}



procedure {:origName "IoUpdateShareAccess"} {:osmodel} IoUpdateShareAccess(actual_FileObject_27: int, actual_ShareAccess_13: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoUpdateShareAccess"} {:osmodel} IoUpdateShareAccess(actual_FileObject_27: int, actual_ShareAccess_13: int)
{
  var vslice_dummy_var_218: int;

  anon0:
    call {:si_unique_call 1622} vslice_dummy_var_218 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "KeInitializeTimer"} {:osmodel} KeInitializeTimer(actual_Timer_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeInitializeTimer"} {:osmodel} KeInitializeTimer(actual_Timer_2: int)
{
  var vslice_dummy_var_219: int;

  anon0:
    call {:si_unique_call 1623} vslice_dummy_var_219 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_IoCallDriver"} {:osmodel} sdv_IoCallDriver(actual_DeviceObject_7: int, actual_Irp_21: int) returns (Tmp_1440: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} Tmp_1440 == 259;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_IoCallDriver"} {:osmodel} sdv_IoCallDriver(actual_DeviceObject_7: int, actual_Irp_21: int) returns (Tmp_1440: int)
{
  var {:pointer} Irp_21: int;

  anon0:
    Irp_21 := actual_Irp_21;
    call {:si_unique_call 1624} Tmp_1440 := IofCallDriver(0, Irp_21);
    return;
}



procedure {:origName "IoBuildDeviceIoControlRequest"} {:osmodel} IoBuildDeviceIoControlRequest(actual_IoControlCode: int, actual_DeviceObject_8: int, actual_InputBuffer: int, actual_InputBufferLength: int, actual_OutputBuffer: int, actual_OutputBufferLength: int, actual_InternalDeviceIoControl: int, actual_Event_3: int, actual_IoStatusBlock_1: int) returns (Tmp_1442: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoBuildDeviceIoControlRequest"} {:osmodel} IoBuildDeviceIoControlRequest(actual_IoControlCode: int, actual_DeviceObject_8: int, actual_InputBuffer: int, actual_InputBufferLength: int, actual_OutputBuffer: int, actual_OutputBufferLength: int, actual_InternalDeviceIoControl: int, actual_Event_3: int, actual_IoStatusBlock_1: int) returns (Tmp_1442: int)
{
  var {:pointer} Tmp_1443: int;
  var {:pointer} Tmp_1444: int;
  var {:scalar} InternalDeviceIoControl: int;
  var {:pointer} IoStatusBlock_1: int;

  anon0:
    InternalDeviceIoControl := actual_InternalDeviceIoControl;
    IoStatusBlock_1 := actual_IoStatusBlock_1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} InternalDeviceIoControl != 0;
    assume {:nonnull} sdv_IoBuildDeviceIoControlRequest_irp != 0;
    assume sdv_IoBuildDeviceIoControlRequest_irp > 0;
    havoc Tmp_1444;
    assume {:nonnull} Tmp_1444 != 0;
    assume Tmp_1444 > 0;
    goto L14;

  L14:
    assume {:nonnull} sdv_IoBuildDeviceIoControlRequest_irp != 0;
    assume sdv_IoBuildDeviceIoControlRequest_irp > 0;
    havoc Mem_T.INT4;
    assume {:nonnull} IoStatusBlock_1 != 0;
    assume IoStatusBlock_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatusBlock_1)] := 0;
    Tmp_1442 := sdv_IoBuildDeviceIoControlRequest_irp;
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:partition} InternalDeviceIoControl == 0;
    assume {:nonnull} sdv_IoBuildDeviceIoControlRequest_irp != 0;
    assume sdv_IoBuildDeviceIoControlRequest_irp > 0;
    havoc Tmp_1443;
    assume {:nonnull} Tmp_1443 != 0;
    assume Tmp_1443 > 0;
    goto L14;

  anon5_Then:
    havoc Mem_T.INT4;
    assume {:nonnull} IoStatusBlock_1 != 0;
    assume IoStatusBlock_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatusBlock_1)] := -1073741823;
    Tmp_1442 := 0;
    goto L1;
}



procedure {:origName "ExAcquireSharedWaitForExclusive"} {:osmodel} ExAcquireSharedWaitForExclusive(actual_Resource_11: int, actual_Wait_6: int) returns (Tmp_1446: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExAcquireSharedWaitForExclusive"} {:osmodel} ExAcquireSharedWaitForExclusive(actual_Resource_11: int, actual_Wait_6: int) returns (Tmp_1446: int)
{
  var {:scalar} Wait_6: int;

  anon0:
    Wait_6 := actual_Wait_6;
    call {:si_unique_call 1625} SLIC_ExAcquireSharedWaitForExclusive_entry(strConst__li2bpl2);
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} yogi_error != 1;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Wait_6 == 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    Tmp_1446 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon8_Then:
    Tmp_1446 := 1;
    goto L1;

  anon7_Then:
    assume {:partition} Wait_6 != 0;
    Tmp_1446 := 1;
    goto L1;

  anon9_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "IoFreeIrp"} {:osmodel} IoFreeIrp(actual_pirp_12: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoFreeIrp"} {:osmodel} IoFreeIrp(actual_pirp_12: int)
{
  var vslice_dummy_var_220: int;

  anon0:
    call {:si_unique_call 1626} vslice_dummy_var_220 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_NT_ERROR"} {:osmodel} sdv_NT_ERROR(actual_Status_18: int) returns (Tmp_1450: int);
  free ensures {:va_keep} Tmp_1450 == 0 || Tmp_1450 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_NT_ERROR"} {:osmodel} sdv_NT_ERROR(actual_Status_18: int) returns (Tmp_1450: int)
{
  var {:scalar} choice_36: int;
  var {:scalar} Tmp_1452: int;
  var {:scalar} Status_18: int;

  anon0:
    Status_18 := actual_Status_18;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Status_18 >= 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} 536870911 >= Status_18;
    Tmp_1450 := 0;
    goto L1;

  L1:
    return;

  anon9_Then:
    assume {:partition} Status_18 > 536870911;
    goto L9;

  L9:
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} choice_36 != 0;
    Tmp_1452 := 1;
    goto L14;

  L14:
    Tmp_1450 := Tmp_1452;
    goto L1;

  anon8_Then:
    assume {:partition} choice_36 == 0;
    Tmp_1452 := 0;
    goto L14;

  anon7_Then:
    assume {:partition} 0 > Status_18;
    goto L9;
}



procedure {:origName "IoReleaseVpbSpinLock"} {:osmodel} IoReleaseVpbSpinLock(actual_Irql_1: int);
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_current == actual_Irql_1;
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoReleaseVpbSpinLock"} {:osmodel} IoReleaseVpbSpinLock(actual_Irql_1: int)
{
  var {:scalar} Irql_1: int;
  var vslice_dummy_var_221: int;

  anon0:
    call {:si_unique_call 1627} vslice_dummy_var_221 := __HAVOC_malloc(4);
    Irql_1 := actual_Irql_1;
    sdv_irql_current := Irql_1;
    sdv_irql_previous := sdv_irql_previous_2;
    sdv_irql_previous_2 := sdv_irql_previous_3;
    sdv_irql_previous_3 := sdv_irql_previous_4;
    sdv_irql_previous_4 := sdv_irql_previous_5;
    return;
}



procedure {:origName "sdv_KeInitializeSpinLock"} {:osmodel} sdv_KeInitializeSpinLock(actual_SpinLock_2: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_KeInitializeSpinLock"} {:osmodel} sdv_KeInitializeSpinLock(actual_SpinLock_2: int)
{
  var {:pointer} SpinLock_2: int;
  var vslice_dummy_var_222: int;

  anon0:
    call {:si_unique_call 1628} vslice_dummy_var_222 := __HAVOC_malloc(4);
    SpinLock_2 := actual_SpinLock_2;
    assume {:nonnull} SpinLock_2 != 0;
    assume SpinLock_2 > 0;
    Mem_T.INT4[SpinLock_2] := 0;
    return;
}



procedure {:origName "IoBuildAsynchronousFsdRequest"} {:osmodel} IoBuildAsynchronousFsdRequest(actual_MajorFunction_1: int, actual_DeviceObject_9: int, actual_Buffer_16: int, actual_Length_18: int, actual_StartingOffset_1: int, actual_IoStatusBlock_2: int) returns (Tmp_1457: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoBuildAsynchronousFsdRequest"} {:osmodel} IoBuildAsynchronousFsdRequest(actual_MajorFunction_1: int, actual_DeviceObject_9: int, actual_Buffer_16: int, actual_Length_18: int, actual_StartingOffset_1: int, actual_IoStatusBlock_2: int) returns (Tmp_1457: int)
{
  var {:pointer} Tmp_1459: int;
  var {:scalar} MajorFunction_1: int;
  var {:pointer} IoStatusBlock_2: int;

  anon0:
    MajorFunction_1 := actual_MajorFunction_1;
    IoStatusBlock_2 := actual_IoStatusBlock_2;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} IoStatusBlock_2 != 0;
    havoc IoStatusBlock_2;
    goto L9;

  L9:
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:nonnull} sdv_IoBuildAsynchronousFsdRequest_irp != 0;
    assume sdv_IoBuildAsynchronousFsdRequest_irp > 0;
    assume {:nonnull} sdv_IoBuildAsynchronousFsdRequest_irp != 0;
    assume sdv_IoBuildAsynchronousFsdRequest_irp > 0;
    havoc Tmp_1459;
    assume {:nonnull} Tmp_1459 != 0;
    assume Tmp_1459 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} IoStatusBlock_2 != 0;
    assume {:nonnull} IoStatusBlock_2 != 0;
    assume IoStatusBlock_2 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatusBlock_2)] := 0;
    havoc Mem_T.INT4;
    goto L16;

  L16:
    Tmp_1457 := sdv_IoBuildAsynchronousFsdRequest_irp;
    goto L1;

  L1:
    return;

  anon12_Then:
    assume {:partition} IoStatusBlock_2 == 0;
    goto L16;

  anon10_Then:
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} IoStatusBlock_2 != 0;
    assume {:nonnull} IoStatusBlock_2 != 0;
    assume IoStatusBlock_2 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatusBlock_2)] := -1073741823;
    havoc Mem_T.INT4;
    goto L20;

  L20:
    Tmp_1457 := 0;
    goto L1;

  anon11_Then:
    assume {:partition} IoStatusBlock_2 == 0;
    goto L20;

  anon9_Then:
    assume {:partition} IoStatusBlock_2 == 0;
    goto L9;
}



procedure {:origName "ExIsResourceAcquiredExclusiveLite"} {:osmodel} ExIsResourceAcquiredExclusiveLite(actual_Resource_12: int) returns (Tmp_1460: int);
  free ensures {:va_keep} Tmp_1460 == 1 || Tmp_1460 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExIsResourceAcquiredExclusiveLite"} {:osmodel} ExIsResourceAcquiredExclusiveLite(actual_Resource_12: int) returns (Tmp_1460: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_1460 := 1;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1460 := 0;
    goto L1;
}



procedure {:origName "MmUnlockPages"} {:osmodel} MmUnlockPages(actual_MemoryDescriptorList_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "MmUnlockPages"} {:osmodel} MmUnlockPages(actual_MemoryDescriptorList_1: int)
{
  var vslice_dummy_var_223: int;

  anon0:
    call {:si_unique_call 1629} vslice_dummy_var_223 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "ExAllocatePoolWithTag"} {:osmodel} ExAllocatePoolWithTag(actual_PoolType_1: int, actual_NumberOfBytes: int, actual_Tag: int) returns (Tmp_1464: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExAllocatePoolWithTag"} {:osmodel} ExAllocatePoolWithTag(actual_PoolType_1: int, actual_NumberOfBytes: int, actual_Tag: int) returns (Tmp_1464: int)
{
  var {:pointer} sdv_879: int;
  var {:scalar} NumberOfBytes: int;

  anon0:
    NumberOfBytes := actual_NumberOfBytes;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    call {:si_unique_call 1630} sdv_879 := __HAVOC_malloc(NumberOfBytes);
    Tmp_1464 := sdv_879;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1464 := 0;
    goto L1;
}



procedure {:origName "IoGetCurrentProcess"} {:osmodel} IoGetCurrentProcess() returns (Tmp_1466: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "IoGetCurrentProcess"} {:osmodel} IoGetCurrentProcess() returns (Tmp_1466: int)
{
  var {:pointer} sdv_880: int;
  var {:pointer} p_4: int;

  anon0:
    call {:si_unique_call 1631} sdv_880 := __HAVOC_malloc(1);
    p_4 := sdv_880;
    Tmp_1466 := p_4;
    return;
}



procedure {:origName "sdv_stub_driver_init"} {:osmodel} sdv_stub_driver_init();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_stub_driver_init"} {:osmodel} sdv_stub_driver_init()
{
  var vslice_dummy_var_224: int;

  anon0:
    call {:si_unique_call 1632} vslice_dummy_var_224 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "sdv_stub_dispatch_begin"} {:osmodel} sdv_stub_dispatch_begin();
  modifies alloc, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) <= 2 && old(sdv_irql_previous) <= 2 && old(sdv_irql_previous_2) <= 2 && old(sdv_irql_previous_3) <= 2 ==> sdv_irql_current <= 2 && sdv_irql_previous <= 2 && sdv_irql_previous_2 <= 2 && sdv_irql_previous_3 <= 2 && sdv_irql_current >= 0 && sdv_irql_previous >= 0 && sdv_irql_previous_2 >= 0 && sdv_irql_previous_3 >= 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_current == 0;
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_2);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_stub_dispatch_begin"} {:osmodel} sdv_stub_dispatch_begin()
{
  var vslice_dummy_var_225: int;

  anon0:
    call {:si_unique_call 1633} vslice_dummy_var_225 := __HAVOC_malloc(4);
    sdv_irql_previous_5 := sdv_irql_previous_4;
    sdv_irql_previous_4 := sdv_irql_previous_3;
    sdv_irql_previous_3 := sdv_irql_previous_2;
    sdv_irql_previous_2 := sdv_irql_previous;
    sdv_irql_previous := sdv_irql_current;
    sdv_irql_current := 0;
    return;
}



procedure {:origName "sdv_ObDereferenceObject"} {:osmodel} sdv_ObDereferenceObject(actual_Object_3: int) returns (Tmp_1472: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_ObDereferenceObject"} {:osmodel} sdv_ObDereferenceObject(actual_Object_3: int) returns (Tmp_1472: int)
{
  var {:scalar} p_5: int;

  anon0:
    Tmp_1472 := p_5;
    return;
}



procedure {:origName "ExGetExclusiveWaiterCount"} {:osmodel} ExGetExclusiveWaiterCount(actual_Resource_13: int) returns (Tmp_1474: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExGetExclusiveWaiterCount"} {:osmodel} ExGetExclusiveWaiterCount(actual_Resource_13: int) returns (Tmp_1474: int)
{
  var {:scalar} sdv_882: int;

  anon0:
    Tmp_1474 := sdv_882;
    return;
}



procedure {:origName "sdv_DoNothing"} {:osmodel} sdv_DoNothing() returns (Tmp_1476: int);
  free ensures {:va_keep} Tmp_1476 == -1073741823;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_DoNothing"} {:osmodel} sdv_DoNothing() returns (Tmp_1476: int)
{

  anon0:
    Tmp_1476 := -1073741823;
    return;
}



procedure {:origName "sdv_ExAllocateFromNPagedLookasideList"} {:osmodel} sdv_ExAllocateFromNPagedLookasideList(actual_Lookaside: int) returns (Tmp_1478: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "sdv_ExAllocateFromNPagedLookasideList"} {:osmodel} sdv_ExAllocateFromNPagedLookasideList(actual_Lookaside: int) returns (Tmp_1478: int)
{
  var {:pointer} sdv_884: int;

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    call {:si_unique_call 1634} sdv_884 := __HAVOC_malloc(1);
    Tmp_1478 := sdv_884;
    goto L1;

  L1:
    return;

  anon3_Then:
    Tmp_1478 := 0;
    goto L1;
}



procedure {:origName "FsRtlNotifyFullReportChange"} {:osmodel} FsRtlNotifyFullReportChange(actual_NotifySync_1: int, actual_NotifyList_1: int, actual_FullTargetName: int, actual_TargetNameOffset: int, actual_StreamName: int, actual_NormalizedParentName: int, actual_FilterMatch: int, actual_Action: int, actual_TargetContext: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlNotifyFullReportChange"} {:osmodel} FsRtlNotifyFullReportChange(actual_NotifySync_1: int, actual_NotifyList_1: int, actual_FullTargetName: int, actual_TargetNameOffset: int, actual_StreamName: int, actual_NormalizedParentName: int, actual_FilterMatch: int, actual_Action: int, actual_TargetContext: int)
{
  var vslice_dummy_var_226: int;

  anon0:
    call {:si_unique_call 1635} vslice_dummy_var_226 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "KeClearEvent"} {:osmodel} KeClearEvent(actual_Event_4: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeClearEvent"} {:osmodel} KeClearEvent(actual_Event_4: int)
{
  var {:pointer} Event_4: int;
  var vslice_dummy_var_227: int;

  anon0:
    call {:si_unique_call 1636} vslice_dummy_var_227 := __HAVOC_malloc(4);
    Event_4 := actual_Event_4;
    assume {:nonnull} Event_4 != 0;
    assume Event_4 > 0;
    return;
}



procedure {:origName "_sdv_init7"} _sdv_init7();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init7"} _sdv_init7()
{
  var vslice_dummy_var_228: int;

  anon0:
    call {:si_unique_call 1637} vslice_dummy_var_228 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "_sdv_init13"} _sdv_init13();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init13"} _sdv_init13()
{
  var vslice_dummy_var_229: int;

  anon0:
    call {:si_unique_call 1638} vslice_dummy_var_229 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatReadVolumeFile"} FatReadVolumeFile(actual_IrpContext_70: int, actual_Vcb_43: int, actual_StartingVbo_2: int, actual_ByteCount_8: int, actual_Bcb_8: int, actual_Buffer_19: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatReadVolumeFile"} FatReadVolumeFile(actual_IrpContext_70: int, actual_Vcb_43: int, actual_StartingVbo_2: int, actual_ByteCount_8: int, actual_Bcb_8: int, actual_Buffer_19: int)
{
  var {:scalar} Vbo_4: int;
  var {:scalar} sdv_890: int;
  var {:scalar} Tmp_1502: int;
  var {:pointer} IrpContext_70: int;
  var {:scalar} StartingVbo_2: int;
  var vslice_dummy_var_230: int;

  anon0:
    call {:si_unique_call 1639} Vbo_4 := __HAVOC_malloc(20);
    call {:si_unique_call 1640} vslice_dummy_var_230 := __HAVOC_malloc(4);
    IrpContext_70 := actual_IrpContext_70;
    StartingVbo_2 := actual_StartingVbo_2;
    call {:si_unique_call 1641} sdv_do_paged_code_check();
    assume {:nonnull} Vbo_4 != 0;
    assume Vbo_4 > 0;
    assume {:nonnull} IrpContext_70 != 0;
    assume IrpContext_70 > 0;
    havoc Tmp_1502;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} Tmp_1502 == 0;
    goto L25;

  L25:
    call {:si_unique_call 1642} sdv_890 := corral_nondet();
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} sdv_890 == 0;
    assume {:nonnull} IrpContext_70 != 0;
    assume IrpContext_70 > 0;
    call {:si_unique_call 1643} ExRaiseStatus(-1073741608);
    goto L1;

  L1:
    return;

  anon5_Then:
    assume {:partition} sdv_890 != 0;
    goto L1;

  anon6_Then:
    assume {:partition} Tmp_1502 != 0;
    goto L25;
}



procedure {:origName "FatUnpinRepinnedBcbs"} FatUnpinRepinnedBcbs(actual_IrpContext_71: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatUnpinRepinnedBcbs"} FatUnpinRepinnedBcbs(actual_IrpContext_71: int)
{
  var {:scalar} i_11: int;
  var {:scalar} Tmp_1504: int;
  var {:pointer} Tmp_1505: int;
  var {:pointer} Tmp_1506: int;
  var {:pointer} Saved: int;
  var {:pointer} Tmp_1508: int;
  var {:pointer} Tmp_1509: int;
  var {:scalar} Tmp_1510: int;
  var {:scalar} j: int;
  var {:scalar} Tmp_1512: int;
  var {:scalar} Iosb_13: int;
  var {:pointer} FileObject_28: int;
  var {:pointer} Tmp_1513: int;
  var {:scalar} Tmp_1514: int;
  var {:pointer} Tmp_1516: int;
  var {:pointer} Tmp_1517: int;
  var {:scalar} Tmp_1518: int;
  var {:pointer} sdv_893: int;
  var {:scalar} WriteThroughToDisk: int;
  var {:pointer} Tmp_1519: int;
  var {:pointer} Tmp_1520: int;
  var {:pointer} Tmp_1521: int;
  var {:scalar} Tmp_1522: int;
  var {:scalar} sdv_894: int;
  var {:pointer} Tmp_1523: int;
  var {:scalar} ForceVerify: int;
  var {:pointer} Repinned: int;
  var {:scalar} Tmp_1525: int;
  var {:scalar} Tmp_1526: int;
  var {:scalar} Tmp_1527: int;
  var {:scalar} RaiseIosb: int;
  var {:pointer} Tmp_1528: int;
  var {:pointer} Tmp_1530: int;
  var {:pointer} IrpContext_71: int;
  var vslice_dummy_var_231: int;
  var vslice_dummy_var_232: int;

  anon0:
    call {:si_unique_call 1644} Iosb_13 := __HAVOC_malloc(12);
    call {:si_unique_call 1645} RaiseIosb := __HAVOC_malloc(12);
    call {:si_unique_call 1646} vslice_dummy_var_231 := __HAVOC_malloc(4);
    IrpContext_71 := actual_IrpContext_71;
    call {:si_unique_call 1647} Tmp_1505 := __HAVOC_malloc(16);
    call {:si_unique_call 1648} Tmp_1508 := __HAVOC_malloc(16);
    call {:si_unique_call 1649} Tmp_1509 := __HAVOC_malloc(16);
    call {:si_unique_call 1650} Tmp_1513 := __HAVOC_malloc(16);
    call {:si_unique_call 1651} Tmp_1516 := __HAVOC_malloc(16);
    call {:si_unique_call 1652} Tmp_1517 := __HAVOC_malloc(16);
    call {:si_unique_call 1653} Tmp_1528 := __HAVOC_malloc(16);
    call {:si_unique_call 1654} Tmp_1530 := __HAVOC_malloc(16);
    FileObject_28 := 0;
    ForceVerify := 0;
    call {:si_unique_call 1655} sdv_do_paged_code_check();
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    Repinned := Repinned__IRP_CONTEXT(IrpContext_71);
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb)] := 0;
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    goto L18;

  L18:
    Tmp_1510 := 0;
    goto L19;

  L19:
    WriteThroughToDisk := Tmp_1510;
    goto L20;

  L20:
    call {:si_unique_call 1656} i_11, Tmp_1504, Tmp_1505, Saved, Tmp_1508, Tmp_1509, j, Tmp_1512, FileObject_28, Tmp_1513, Tmp_1514, Tmp_1516, Tmp_1517, Tmp_1518, sdv_893, Tmp_1522, Tmp_1523, ForceVerify, Repinned, Tmp_1525, Tmp_1526, Tmp_1527, Tmp_1528, Tmp_1530, vslice_dummy_var_232 := FatUnpinRepinnedBcbs_loop_L20(i_11, Tmp_1504, Tmp_1505, Saved, Tmp_1508, Tmp_1509, j, Tmp_1512, Iosb_13, FileObject_28, Tmp_1513, Tmp_1514, Tmp_1516, Tmp_1517, Tmp_1518, sdv_893, WriteThroughToDisk, Tmp_1522, Tmp_1523, ForceVerify, Repinned, Tmp_1525, Tmp_1526, Tmp_1527, RaiseIosb, Tmp_1528, Tmp_1530, IrpContext_71, vslice_dummy_var_232);
    goto L20_last;

  L20_last:
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} Repinned != 0;
    i_11 := 0;
    goto L23;

  L23:
    call {:si_unique_call 1657} i_11, Tmp_1504, Tmp_1505, Tmp_1508, Tmp_1509, j, Tmp_1512, FileObject_28, Tmp_1513, Tmp_1514, Tmp_1516, Tmp_1517, Tmp_1518, sdv_893, Tmp_1522, Tmp_1523, ForceVerify, Tmp_1525, Tmp_1526, Tmp_1527, Tmp_1528, Tmp_1530, vslice_dummy_var_232 := FatUnpinRepinnedBcbs_loop_L23(i_11, Tmp_1504, Tmp_1505, Tmp_1508, Tmp_1509, j, Tmp_1512, Iosb_13, FileObject_28, Tmp_1513, Tmp_1514, Tmp_1516, Tmp_1517, Tmp_1518, sdv_893, WriteThroughToDisk, Tmp_1522, Tmp_1523, ForceVerify, Repinned, Tmp_1525, Tmp_1526, Tmp_1527, RaiseIosb, Tmp_1528, Tmp_1530, IrpContext_71, vslice_dummy_var_232);
    goto L23_last;

  L23_last:
    assume {:CounterLoop 4} {:Counter "i_11"} true;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} 4 > i_11;
    Tmp_1525 := i_11;
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Tmp_1508;
    assume {:nonnull} Tmp_1508 != 0;
    assume Tmp_1508 > 0;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} WriteThroughToDisk != 0;
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    havoc Tmp_1523;
    assume {:nonnull} Tmp_1523 != 0;
    assume Tmp_1523 > 0;
    goto anon121_Then, anon121_Else;

  anon121_Else:
    Tmp_1518 := i_11;
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Tmp_1528;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume Tmp_1518 <= 2;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume Tmp_1518 != 2;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume Tmp_1518 != 1;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume Tmp_1518 != 0;
    goto L114;

  L114:
    goto anon117_Then, anon117_Else;

  anon117_Else:
    FileObject_28 := 0;
    goto L29;

  L29:
    Tmp_1512 := i_11;
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Tmp_1516;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume Tmp_1512 <= 2;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume Tmp_1512 != 2;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume Tmp_1512 != 1;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume Tmp_1512 != 0;
    goto L124;

  L124:
    assume {:nonnull} Iosb_13 != 0;
    assume Iosb_13 > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_13)] >= 0;
    goto L41;

  L41:
    Tmp_1527 := i_11;
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Tmp_1517;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume Tmp_1527 <= 2;
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume Tmp_1527 != 2;
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume Tmp_1527 != 1;
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume Tmp_1527 != 0;
    goto L26;

  L26:
    i_11 := i_11 + 1;
    goto L26_dummy;

  L26_dummy:
    assume false;
    return;

  anon127_Then:
    assume Tmp_1527 == 0;
    Tmp_1527 := 0;
    assume {:nonnull} Tmp_1517 != 0;
    assume Tmp_1517 > 0;
    goto L26;

  anon126_Then:
    assume Tmp_1527 == 1;
    Tmp_1527 := 1;
    assume {:nonnull} Tmp_1517 != 0;
    assume Tmp_1517 > 0;
    goto L26;

  anon125_Then:
    assume Tmp_1527 == 2;
    Tmp_1527 := 2;
    assume {:nonnull} Tmp_1517 != 0;
    assume Tmp_1517 > 0;
    goto L26;

  anon124_Then:
    assume Tmp_1527 > 2;
    assume {:nonnull} Tmp_1517 != 0;
    assume Tmp_1517 > 0;
    goto L26;

  anon105_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_13)];
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb)] != 0;
    goto L43;

  L43:
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:partition} FileObject_28 != 0;
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    j := i_11 + 1;
    goto L49;

  L49:
    call {:si_unique_call 1658} Tmp_1504, Tmp_1505, Tmp_1509, j, Tmp_1513, Tmp_1514, sdv_893, Tmp_1522, Tmp_1526, Tmp_1530 := FatUnpinRepinnedBcbs_loop_L49(Tmp_1504, Tmp_1505, Tmp_1509, j, FileObject_28, Tmp_1513, Tmp_1514, sdv_893, Tmp_1522, Repinned, Tmp_1526, Tmp_1530);
    goto L49_last;

  L49_last:
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} 4 > j;
    Tmp_1522 := j;
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Tmp_1509;
    assume {:nonnull} Tmp_1509 != 0;
    assume Tmp_1509 > 0;
    goto anon128_Then, anon128_Else;

  anon128_Else:
    Tmp_1514 := j;
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Tmp_1530;
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume Tmp_1514 <= 2;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume Tmp_1514 != 2;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume Tmp_1514 != 1;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume Tmp_1514 != 0;
    goto L144;

  L144:
    goto anon118_Then, anon118_Else;

  anon118_Else:
    sdv_893 := 0;
    goto L59;

  L59:
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} sdv_893 == FileObject_28;
    Tmp_1504 := j;
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Tmp_1505;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume Tmp_1504 <= 2;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume Tmp_1504 != 2;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume Tmp_1504 != 1;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume Tmp_1504 != 0;
    goto L154;

  L154:
    Tmp_1526 := j;
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Tmp_1513;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume Tmp_1526 <= 2;
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume Tmp_1526 != 2;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume Tmp_1526 != 1;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume Tmp_1526 != 0;
    goto L54;

  L54:
    j := j + 1;
    goto L54_dummy;

  L54_dummy:
    assume false;
    return;

  anon134_Then:
    assume Tmp_1526 == 0;
    Tmp_1526 := 0;
    assume {:nonnull} Tmp_1513 != 0;
    assume Tmp_1513 > 0;
    goto L54;

  anon133_Then:
    assume Tmp_1526 == 1;
    Tmp_1526 := 1;
    assume {:nonnull} Tmp_1513 != 0;
    assume Tmp_1513 > 0;
    goto L54;

  anon132_Then:
    assume Tmp_1526 == 2;
    Tmp_1526 := 2;
    assume {:nonnull} Tmp_1513 != 0;
    assume Tmp_1513 > 0;
    goto L54;

  anon131_Then:
    assume Tmp_1526 > 2;
    assume {:nonnull} Tmp_1513 != 0;
    assume Tmp_1513 > 0;
    goto L54;

  anon137_Then:
    assume Tmp_1504 == 0;
    Tmp_1504 := 0;
    assume {:nonnull} Tmp_1505 != 0;
    assume Tmp_1505 > 0;
    goto L154;

  anon136_Then:
    assume Tmp_1504 == 1;
    Tmp_1504 := 1;
    assume {:nonnull} Tmp_1505 != 0;
    assume Tmp_1505 > 0;
    goto L154;

  anon135_Then:
    assume Tmp_1504 == 2;
    Tmp_1504 := 2;
    assume {:nonnull} Tmp_1505 != 0;
    assume Tmp_1505 > 0;
    goto L154;

  anon130_Then:
    assume Tmp_1504 > 2;
    assume {:nonnull} Tmp_1505 != 0;
    assume Tmp_1505 > 0;
    goto L154;

  anon112_Then:
    assume {:partition} sdv_893 != FileObject_28;
    goto L54;

  anon118_Then:
    call {:si_unique_call 1659} sdv_893 := __HAVOC_malloc(1);
    goto L59;

  anon140_Then:
    assume Tmp_1514 == 0;
    Tmp_1514 := 0;
    assume {:nonnull} Tmp_1530 != 0;
    assume Tmp_1530 > 0;
    goto L144;

  anon139_Then:
    assume Tmp_1514 == 1;
    Tmp_1514 := 1;
    assume {:nonnull} Tmp_1530 != 0;
    assume Tmp_1530 > 0;
    goto L144;

  anon138_Then:
    assume Tmp_1514 == 2;
    Tmp_1514 := 2;
    assume {:nonnull} Tmp_1530 != 0;
    assume Tmp_1530 > 0;
    goto L144;

  anon129_Then:
    assume Tmp_1514 > 2;
    assume {:nonnull} Tmp_1530 != 0;
    assume Tmp_1530 > 0;
    goto L144;

  anon128_Then:
    goto L54;

  anon111_Then:
    assume {:partition} j >= 4;
    call {:si_unique_call 1660} vslice_dummy_var_232 := corral_nondet();
    ForceVerify := 1;
    goto L41;

  anon110_Then:
    goto L41;

  anon109_Then:
    goto L41;

  anon108_Then:
    goto L41;

  anon107_Then:
    assume {:partition} FileObject_28 == 0;
    goto L41;

  anon106_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb)] == 0;
    assume {:nonnull} Iosb_13 != 0;
    assume Iosb_13 > 0;
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_13)];
    assume {:nonnull} Iosb_13 != 0;
    assume Iosb_13 > 0;
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    assume {:nonnull} Iosb_13 != 0;
    assume Iosb_13 > 0;
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    goto L43;

  anon143_Then:
    assume Tmp_1512 == 0;
    Tmp_1512 := 0;
    assume {:nonnull} Tmp_1516 != 0;
    assume Tmp_1516 > 0;
    goto L124;

  anon142_Then:
    assume Tmp_1512 == 1;
    Tmp_1512 := 1;
    assume {:nonnull} Tmp_1516 != 0;
    assume Tmp_1516 > 0;
    goto L124;

  anon141_Then:
    assume Tmp_1512 == 2;
    Tmp_1512 := 2;
    assume {:nonnull} Tmp_1516 != 0;
    assume Tmp_1516 > 0;
    goto L124;

  anon123_Then:
    assume Tmp_1512 > 2;
    assume {:nonnull} Tmp_1516 != 0;
    assume Tmp_1516 > 0;
    goto L124;

  anon117_Then:
    call {:si_unique_call 1661} FileObject_28 := __HAVOC_malloc(1);
    goto L29;

  anon146_Then:
    assume Tmp_1518 == 0;
    Tmp_1518 := 0;
    assume {:nonnull} Tmp_1528 != 0;
    assume Tmp_1528 > 0;
    goto L114;

  anon145_Then:
    assume Tmp_1518 == 1;
    Tmp_1518 := 1;
    assume {:nonnull} Tmp_1528 != 0;
    assume Tmp_1528 > 0;
    goto L114;

  anon144_Then:
    assume Tmp_1518 == 2;
    Tmp_1518 := 2;
    assume {:nonnull} Tmp_1528 != 0;
    assume Tmp_1528 > 0;
    goto L114;

  anon122_Then:
    assume Tmp_1518 > 2;
    assume {:nonnull} Tmp_1528 != 0;
    assume Tmp_1528 > 0;
    goto L114;

  anon121_Then:
    goto L29;

  anon104_Then:
    assume {:partition} WriteThroughToDisk == 0;
    goto L29;

  anon120_Then:
    goto L26;

  anon102_Then:
    assume {:partition} i_11 >= 4;
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} Repinned != Repinned__IRP_CONTEXT(IrpContext_71);
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Saved;
    call {:si_unique_call 1662} sdv_ExFreePool(0);
    Repinned := Saved;
    goto anon103_Else_dummy;

  anon103_Else_dummy:
    assume false;
    return;

  anon103_Then:
    assume {:partition} Repinned == Repinned__IRP_CONTEXT(IrpContext_71);
    assume {:nonnull} Repinned != 0;
    assume Repinned > 0;
    havoc Repinned;
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon103_Then_dummy;

  anon103_Then_dummy:
    assume false;
    return;

  anon100_Then:
    assume {:partition} Repinned == 0;
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb)] < 0;
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} ForceVerify != 0;
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:partition} FileObject_28 != 0;
    assume {:nonnull} FileObject_28 != 0;
    assume FileObject_28 > 0;
    havoc Tmp_1520;
    assume {:nonnull} FileObject_28 != 0;
    assume FileObject_28 > 0;
    havoc Tmp_1521;
    assume {:nonnull} Tmp_1520 != 0;
    assume Tmp_1520 > 0;
    assume {:nonnull} Tmp_1521 != 0;
    assume Tmp_1521 > 0;
    call {:si_unique_call 1663} IoSetHardErrorOrVerifyDevice(0, 0);
    goto L76;

  L76:
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    havoc Tmp_1519;
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    assume {:nonnull} Tmp_1519 != 0;
    assume Tmp_1519 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Tmp_1519))] := Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb)];
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    assume {:nonnull} Tmp_1519 != 0;
    assume Tmp_1519 > 0;
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    assume {:nonnull} Tmp_1519 != 0;
    assume Tmp_1519 > 0;
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    assume {:nonnull} RaiseIosb != 0;
    assume RaiseIosb > 0;
    call {:si_unique_call 1664} sdv_894 := corral_nondet();
    call {:si_unique_call 1665} ExRaiseStatus(sdv_894);
    goto L1;

  L1:
    return;

  anon114_Then:
    goto L1;

  anon115_Then:
    assume {:partition} FileObject_28 == 0;
    goto L76;

  anon113_Then:
    assume {:partition} ForceVerify == 0;
    goto L76;

  anon101_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb)];
    goto L1;

  anon119_Then:
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    goto L92;

  L92:
    Tmp_1510 := 1;
    goto L19;

  anon116_Then:
    assume {:nonnull} IrpContext_71 != 0;
    assume IrpContext_71 > 0;
    havoc Tmp_1506;
    assume {:nonnull} Tmp_1506 != 0;
    assume Tmp_1506 > 0;
    goto anon147_Then, anon147_Else;

  anon147_Else:
    goto L92;

  anon147_Then:
    goto L18;

  anon99_Then:
    goto L18;
}



procedure {:origName "FatCompleteMdl"} FatCompleteMdl(actual_IrpContext_72: int, actual_Irp_22: int) returns (Tmp_1532: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_1532 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCompleteMdl"} FatCompleteMdl(actual_IrpContext_72: int, actual_Irp_22: int) returns (Tmp_1532: int)
{
  var {:pointer} sdv_895: int;
  var {:scalar} Tmp_1533: int;
  var {:pointer} IrpContext_72: int;
  var {:pointer} Irp_22: int;
  var vslice_dummy_var_233: int;

  anon0:
    IrpContext_72 := actual_IrpContext_72;
    Irp_22 := actual_Irp_22;
    call {:si_unique_call 1666} sdv_do_paged_code_check();
    call {:si_unique_call 1667} sdv_895 := sdv_IoGetCurrentIrpStackLocation(Irp_22);
    assume {:nonnull} sdv_895 != 0;
    assume sdv_895 > 0;
    assume {:nonnull} IrpContext_72 != 0;
    assume IrpContext_72 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:nonnull} IrpContext_72 != 0;
    assume IrpContext_72 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    call {:si_unique_call 1668} vslice_dummy_var_233 := sdv_IoGetCurrentIrpStackLocation(Irp_22);
    assume {:nonnull} Irp_22 != 0;
    assume Irp_22 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_22))] := 0;
    goto L26;

  L26:
    assume {:nonnull} Irp_22 != 0;
    assume Irp_22 > 0;
    call {:si_unique_call 1669} FatCompleteRequest_Real(IrpContext_72, Irp_22, 0);
    Tmp_1532 := 0;
    return;

  anon5_Then:
    assume {:nonnull} IrpContext_72 != 0;
    assume IrpContext_72 > 0;
    havoc Tmp_1533;
    call {:si_unique_call 1670} KeBugCheckEx(35, 198277, Tmp_1533, 0, 0);
    goto L26;

  anon6_Then:
    goto L26;
}



procedure {:origName "FatPrepareWriteDirectoryFile"} FatPrepareWriteDirectoryFile(actual_IrpContext_73: int, actual_Dcb_8: int, actual_StartingVbo_3: int, actual_ByteCount_9: int, actual_Bcb_9: int, actual_Buffer_20: int, actual_Zero_1: int, actual_Reversible_1: int, actual_Status_20: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPrepareWriteDirectoryFile"} FatPrepareWriteDirectoryFile(actual_IrpContext_73: int, actual_Dcb_8: int, actual_StartingVbo_3: int, actual_ByteCount_9: int, actual_Bcb_9: int, actual_Buffer_20: int, actual_Zero_1: int, actual_Reversible_1: int, actual_Status_20: int)
{
  var {:scalar} UnwindWeAllocatedDiskSpace_1: int;
  var {:scalar} InitialAllocation: int;
  var {:pointer} Tmp_1536: int;
  var {:pointer} Tmp_1537: int;
  var {:scalar} Vbo_5: int;
  var {:scalar} BytesToPin: int;
  var {:scalar} Tmp_1539: int;
  var {:pointer} LocalBuffer_1: int;
  var {:scalar} Tmp_1540: int;
  var {:scalar} sdv_898: int;
  var {:scalar} ClusterSize: int;
  var {:scalar} sdv_899: int;
  var {:pointer} IrpContext_73: int;
  var {:pointer} Dcb_8: int;
  var {:scalar} StartingVbo_3: int;
  var {:scalar} ByteCount_9: int;
  var {:pointer} Bcb_9: int;
  var {:pointer} Buffer_20: int;
  var {:scalar} Zero_1: int;
  var {:scalar} Reversible_1: int;
  var {:pointer} Status_20: int;
  var vslice_dummy_var_234: int;
  var vslice_dummy_var_165: int;
  var vslice_dummy_var_166: int;
  var vslice_dummy_var_167: int;

  anon0:
    call {:si_unique_call 1671} Vbo_5 := __HAVOC_malloc(20);
    call {:si_unique_call 1672} vslice_dummy_var_234 := __HAVOC_malloc(4);
    IrpContext_73 := actual_IrpContext_73;
    Dcb_8 := actual_Dcb_8;
    StartingVbo_3 := actual_StartingVbo_3;
    ByteCount_9 := actual_ByteCount_9;
    Bcb_9 := actual_Bcb_9;
    Buffer_20 := actual_Buffer_20;
    Zero_1 := actual_Zero_1;
    Reversible_1 := actual_Reversible_1;
    Status_20 := actual_Status_20;
    UnwindWeAllocatedDiskSpace_1 := 0;
    call {:si_unique_call 1673} sdv_do_paged_code_check();
    assume {:nonnull} Bcb_9 != 0;
    assume Bcb_9 > 0;
    assume {:nonnull} Buffer_20 != 0;
    assume Buffer_20 > 0;
    call {:si_unique_call 1674} FatOpenDirectoryFile#1(IrpContext_73, Dcb_8);
    assume {:nonnull} Vbo_5 != 0;
    assume Vbo_5 > 0;
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    Tmp_1536 := Dcb_8;
    assume {:nonnull} Tmp_1536 != 0;
    assume Tmp_1536 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} Mem_T.INT4[Tmp_1536] == 1284;
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    havoc Tmp_1537;
    assume {:nonnull} Tmp_1537 != 0;
    assume Tmp_1537 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:nonnull} IrpContext_73 != 0;
    assume IrpContext_73 > 0;
    call {:si_unique_call 1675} ExRaiseStatus(-1073741697);
    goto L21;

  L21:
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    havoc InitialAllocation;
    Tmp_1539 := StartingVbo_3 + ByteCount_9;
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    havoc vslice_dummy_var_165;
    call {:si_unique_call 1676} FatAddFileAllocation(IrpContext_73, Dcb_8, vslice_dummy_var_165, Tmp_1539);
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} yogi_error != 1;
    UnwindWeAllocatedDiskSpace_1 := 1;
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    call {:si_unique_call 1677} FatCheckFreeDirentBitmap(IrpContext_73, Dcb_8);
    Zero_1 := 1;
    assume {:nonnull} Vbo_5 != 0;
    assume Vbo_5 > 0;
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    havoc ByteCount_9;
    goto L19;

  L19:
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    call {:si_unique_call 1678} ClusterSize := corral_nondet();
    goto L59;

  L59:
    call {:si_unique_call 1679} BytesToPin, Tmp_1540, sdv_898, ByteCount_9 := FatPrepareWriteDirectoryFile_loop_L59(Vbo_5, BytesToPin, LocalBuffer_1, Tmp_1540, sdv_898, ClusterSize, IrpContext_73, ByteCount_9, Bcb_9, Buffer_20, Zero_1);
    goto L59_last;

  L59_last:
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} ByteCount_9 > 0;
    assume {:nonnull} Bcb_9 != 0;
    assume Bcb_9 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} ByteCount_9 > ClusterSize;
    BytesToPin := ClusterSize;
    goto L68;

  L68:
    assume {:nonnull} IrpContext_73 != 0;
    assume IrpContext_73 > 0;
    havoc Tmp_1540;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} Tmp_1540 == 0;
    goto L147;

  L147:
    call {:si_unique_call 1680} sdv_898 := corral_nondet();
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} sdv_898 != 0;
    goto L75;

  L75:
    assume {:nonnull} Buffer_20 != 0;
    assume Buffer_20 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    goto L77;

  L77:
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} Zero_1 != 0;
    call {:si_unique_call 1681} sdv_RtlZeroMemory(0, BytesToPin);
    goto L78;

  L78:
    ByteCount_9 := ByteCount_9 - BytesToPin;
    assume {:nonnull} Vbo_5 != 0;
    assume Vbo_5 > 0;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} ByteCount_9 > 0;
    assume {:nonnull} Bcb_9 != 0;
    assume Bcb_9 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} Bcb_9 != 0;
    assume Bcb_9 > 0;
    goto anon37_Else_dummy;

  anon37_Else_dummy:
    assume false;
    return;

  anon37_Then:
    goto anon37_Then_dummy;

  anon37_Then_dummy:
    assume false;
    return;

  anon47_Then:
    assume {:partition} 0 >= ByteCount_9;
    goto anon47_Then_dummy;

  anon47_Then_dummy:
    assume false;
    return;

  anon36_Then:
    assume {:partition} Zero_1 == 0;
    goto L78;

  anon35_Then:
    assume {:nonnull} Buffer_20 != 0;
    assume Buffer_20 > 0;
    goto L77;

  anon34_Then:
    assume {:partition} sdv_898 == 0;
    assume {:nonnull} IrpContext_73 != 0;
    assume IrpContext_73 > 0;
    call {:si_unique_call 1682} ExRaiseStatus(-1073741608);
    goto L75;

  anon46_Then:
    assume {:partition} Tmp_1540 != 0;
    goto L147;

  anon45_Then:
    assume {:partition} ClusterSize >= ByteCount_9;
    BytesToPin := ByteCount_9;
    goto L68;

  anon33_Then:
    assume {:partition} 0 >= ByteCount_9;
    assume {:nonnull} Bcb_9 != 0;
    assume Bcb_9 > 0;
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    havoc vslice_dummy_var_166;
    havoc vslice_dummy_var_167;
    call {:si_unique_call 1683} FatSetDirtyBcb#1(IrpContext_73, vslice_dummy_var_166, vslice_dummy_var_167, Reversible_1);
    assume {:nonnull} Status_20 != 0;
    assume Status_20 > 0;
    Mem_T.INT4[Status_20] := 0;
    call {:si_unique_call 1684} sdv_899 := sdv_AbnormalTermination();
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} sdv_899 != 0;
    assume {:nonnull} Bcb_9 != 0;
    assume Bcb_9 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Bcb_9 != 0;
    assume Bcb_9 > 0;
    goto L102;

  L102:
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} UnwindWeAllocatedDiskSpace_1 == 1;
    call {:si_unique_call 1685} FatTruncateFileAllocation(IrpContext_73, Dcb_8, InitialAllocation);
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Dcb_8 != 0;
    assume Dcb_8 > 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon48_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon40_Then:
    assume {:partition} UnwindWeAllocatedDiskSpace_1 != 1;
    goto L1;

  anon39_Then:
    goto L102;

  anon38_Then:
    assume {:partition} sdv_899 == 0;
    goto L1;

  anon44_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon43_Then:
    goto L21;

  anon42_Then:
    assume {:partition} Mem_T.INT4[Tmp_1536] != 1284;
    goto L21;

  anon41_Then:
    goto L19;
}



procedure {:origName "FatPinMappedData"} FatPinMappedData(actual_IrpContext_74: int, actual_Dcb_9: int, actual_StartingVbo_4: int, actual_ByteCount_10: int, actual_Bcb_10: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPinMappedData"} FatPinMappedData(actual_IrpContext_74: int, actual_Dcb_9: int, actual_StartingVbo_4: int, actual_ByteCount_10: int, actual_Bcb_10: int)
{
  var {:scalar} Vbo_6: int;
  var {:scalar} sdv_900: int;
  var {:scalar} Tmp_1546: int;
  var {:pointer} IrpContext_74: int;
  var {:scalar} StartingVbo_4: int;
  var vslice_dummy_var_235: int;

  anon0:
    call {:si_unique_call 1686} Vbo_6 := __HAVOC_malloc(20);
    call {:si_unique_call 1687} vslice_dummy_var_235 := __HAVOC_malloc(4);
    IrpContext_74 := actual_IrpContext_74;
    StartingVbo_4 := actual_StartingVbo_4;
    call {:si_unique_call 1688} sdv_do_paged_code_check();
    assume {:nonnull} Vbo_6 != 0;
    assume Vbo_6 > 0;
    assume {:nonnull} IrpContext_74 != 0;
    assume IrpContext_74 > 0;
    havoc Tmp_1546;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} Tmp_1546 == 0;
    goto L25;

  L25:
    call {:si_unique_call 1689} sdv_900 := corral_nondet();
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} sdv_900 == 0;
    assume {:nonnull} IrpContext_74 != 0;
    assume IrpContext_74 > 0;
    call {:si_unique_call 1690} ExRaiseStatus(-1073741608);
    goto L1;

  L1:
    return;

  anon5_Then:
    assume {:partition} sdv_900 != 0;
    goto L1;

  anon6_Then:
    assume {:partition} Tmp_1546 != 0;
    goto L25;
}



procedure {:origName "FatOpenEaFile"} FatOpenEaFile(actual_IrpContext_76: int, actual_EaFcb: int) returns (Tmp_1550: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenEaFile"} FatOpenEaFile(actual_IrpContext_76: int, actual_EaFcb: int) returns (Tmp_1550: int)
{
  var {:pointer} Tmp_1551: int;
  var {:pointer} Tmp_1552: int;
  var {:pointer} Tmp_1553: int;
  var {:scalar} sdv_906: int;
  var {:pointer} Tmp_1554: int;
  var {:pointer} Tmp_1555: int;
  var {:pointer} EaFileObject: int;
  var {:pointer} IrpContext_76: int;
  var {:pointer} EaFcb: int;
  var vslice_dummy_var_236: int;
  var vslice_dummy_var_237: int;
  var vslice_dummy_var_238: int;
  var vslice_dummy_var_168: int;
  var vslice_dummy_var_169: int;
  var vslice_dummy_var_170: int;

  anon0:
    IrpContext_76 := actual_IrpContext_76;
    EaFcb := actual_EaFcb;
    EaFileObject := 0;
    call {:si_unique_call 1691} sdv_do_paged_code_check();
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    havoc Tmp_1554;
    assume {:nonnull} Tmp_1554 != 0;
    assume Tmp_1554 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    EaFileObject := 0;
    goto L14;

  L14:
    assume {:nonnull} IrpContext_76 != 0;
    assume IrpContext_76 > 0;
    havoc vslice_dummy_var_168;
    call {:si_unique_call 1692} FatPreallocateCloseContext(vslice_dummy_var_168);
    call {:si_unique_call 1693} FatSetFileObject(EaFileObject, 7, EaFcb, 0);
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    havoc Tmp_1551;
    call {:si_unique_call 1694} Tmp_1555 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1551 != 0;
    assume Tmp_1551 > 0;
    assume {:nonnull} Tmp_1555 != 0;
    assume Tmp_1555 > 0;
    havoc vslice_dummy_var_169;
    Mem_T.INT4[Tmp_1555] := vslice_dummy_var_169;
    call {:si_unique_call 1695} vslice_dummy_var_237 := sdv_InterlockedIncrement(Tmp_1555);
    assume {:nonnull} Tmp_1551 != 0;
    assume Tmp_1551 > 0;
    assume {:nonnull} Tmp_1555 != 0;
    assume Tmp_1555 > 0;
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    havoc Tmp_1552;
    call {:si_unique_call 1696} Tmp_1555 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1552 != 0;
    assume Tmp_1552 > 0;
    assume {:nonnull} Tmp_1555 != 0;
    assume Tmp_1555 > 0;
    havoc vslice_dummy_var_170;
    Mem_T.INT4[Tmp_1555] := vslice_dummy_var_170;
    call {:si_unique_call 1697} vslice_dummy_var_238 := sdv_InterlockedIncrement(Tmp_1555);
    assume {:nonnull} Tmp_1552 != 0;
    assume Tmp_1552 > 0;
    assume {:nonnull} Tmp_1555 != 0;
    assume Tmp_1555 > 0;
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    havoc Tmp_1553;
    assume {:nonnull} EaFileObject != 0;
    assume EaFileObject > 0;
    assume {:nonnull} Tmp_1553 != 0;
    assume Tmp_1553 > 0;
    assume {:nonnull} EaFileObject != 0;
    assume EaFileObject > 0;
    assume {:nonnull} EaFileObject != 0;
    assume EaFileObject > 0;
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    assume {:nonnull} EaFcb != 0;
    assume EaFcb > 0;
    call {:si_unique_call 1698} sdv_906 := sdv_AbnormalTermination();
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} sdv_906 != 0;
    call {:si_unique_call 1699} vslice_dummy_var_236 := sdv_ObDereferenceObject(0);
    goto L47;

  L47:
    Tmp_1550 := EaFileObject;
    return;

  anon5_Then:
    assume {:partition} sdv_906 == 0;
    goto L47;

  anon6_Then:
    call {:si_unique_call 1700} EaFileObject := __HAVOC_malloc(1);
    goto L14;
}



procedure {:origName "FatSyncUninitializeCacheMap"} FatSyncUninitializeCacheMap(actual_IrpContext_78: int, actual_FileObject_30: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSyncUninitializeCacheMap"} FatSyncUninitializeCacheMap(actual_IrpContext_78: int, actual_FileObject_30: int)
{
  var {:scalar} UninitializeCompleteEvent: int;
  var vslice_dummy_var_239: int;
  var vslice_dummy_var_240: int;
  var vslice_dummy_var_241: int;

  anon0:
    call {:si_unique_call 1701} vslice_dummy_var_239 := __HAVOC_malloc(4);
    call {:si_unique_call 1702} UninitializeCompleteEvent := __HAVOC_malloc(128);
    call {:si_unique_call 1703} sdv_do_paged_code_check();
    assume {:nonnull} UninitializeCompleteEvent != 0;
    assume UninitializeCompleteEvent > 0;
    call {:si_unique_call 1704} KeInitializeEvent(Event__CACHE_UNINITIALIZE_EVENT(UninitializeCompleteEvent), 1, 0);
    call {:si_unique_call 1705} vslice_dummy_var_240 := corral_nondet();
    call {:si_unique_call 1706} vslice_dummy_var_241 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    return;
}



procedure {:origName "FatZeroData"} FatZeroData(actual_IrpContext_79: int, actual_Vcb_45: int, actual_FileObject_31: int, actual_StartingZero: int, actual_ByteCount_11: int) returns (Tmp_1568: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatZeroData"} FatZeroData(actual_IrpContext_79: int, actual_Vcb_45: int, actual_FileObject_31: int, actual_StartingZero: int, actual_ByteCount_11: int) returns (Tmp_1568: int)
{
  var {:scalar} Tmp_1569: int;
  var {:scalar} ZeroStart: int;
  var {:scalar} BeyondZeroEnd: int;
  var {:scalar} Finished: int;
  var {:scalar} SectorSize_2: int;
  var {:pointer} IrpContext_79: int;
  var {:pointer} Vcb_45: int;
  var {:scalar} StartingZero: int;
  var {:scalar} ByteCount_11: int;

  anon0:
    call {:si_unique_call 1707} ZeroStart := __HAVOC_malloc(20);
    call {:si_unique_call 1708} BeyondZeroEnd := __HAVOC_malloc(20);
    IrpContext_79 := actual_IrpContext_79;
    Vcb_45 := actual_Vcb_45;
    StartingZero := actual_StartingZero;
    ByteCount_11 := actual_ByteCount_11;
    call {:si_unique_call 1709} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_45 != 0;
    assume Vcb_45 > 0;
    havoc SectorSize_2;
    assume {:nonnull} ZeroStart != 0;
    assume ZeroStart > 0;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} StartingZero != 0;
    assume {:nonnull} ZeroStart != 0;
    assume ZeroStart > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    Tmp_1568 := 1;
    goto L1;

  L1:
    return;

  anon9_Then:
    goto L15;

  L15:
    assume {:nonnull} BeyondZeroEnd != 0;
    assume BeyondZeroEnd > 0;
    assume {:nonnull} BeyondZeroEnd != 0;
    assume BeyondZeroEnd > 0;
    assume {:nonnull} ZeroStart != 0;
    assume ZeroStart > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    Tmp_1568 := 1;
    goto L1;

  anon11_Then:
    assume {:nonnull} IrpContext_79 != 0;
    assume IrpContext_79 > 0;
    havoc Tmp_1569;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Tmp_1569 == 0;
    goto L37;

  L37:
    call {:si_unique_call 1710} Finished := corral_nondet();
    Tmp_1568 := Finished;
    goto L1;

  anon12_Then:
    assume {:partition} Tmp_1569 != 0;
    goto L37;

  anon10_Then:
    assume {:partition} StartingZero == 0;
    goto L15;
}



procedure {:origName "FatCloseEaFile"} FatCloseEaFile(actual_IrpContext_80: int, actual_Vcb_46: int, actual_FlushFirst: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCloseEaFile"} FatCloseEaFile(actual_IrpContext_80: int, actual_Vcb_46: int, actual_FlushFirst: int)
{
  var {:pointer} Tmp_1573: int;
  var {:pointer} EaFileObject_1: int;
  var {:pointer} IrpContext_80: int;
  var {:pointer} Vcb_46: int;
  var {:scalar} FlushFirst: int;
  var vslice_dummy_var_242: int;
  var vslice_dummy_var_243: int;

  anon0:
    call {:si_unique_call 1711} vslice_dummy_var_242 := __HAVOC_malloc(4);
    IrpContext_80 := actual_IrpContext_80;
    Vcb_46 := actual_Vcb_46;
    FlushFirst := actual_FlushFirst;
    assume {:nonnull} Vcb_46 != 0;
    assume Vcb_46 > 0;
    havoc EaFileObject_1;
    call {:si_unique_call 1712} sdv_do_paged_code_check();
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} EaFileObject_1 != 0;
    assume {:nonnull} Vcb_46 != 0;
    assume Vcb_46 > 0;
    havoc EaFileObject_1;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} FlushFirst != 0;
    assume {:nonnull} Vcb_46 != 0;
    assume Vcb_46 > 0;
    goto L11;

  L11:
    assume {:nonnull} Vcb_46 != 0;
    assume Vcb_46 > 0;
    assume {:nonnull} Vcb_46 != 0;
    assume Vcb_46 > 0;
    havoc Tmp_1573;
    assume {:nonnull} Tmp_1573 != 0;
    assume Tmp_1573 > 0;
    call {:si_unique_call 1713} FatRemoveMcbEntry(Vcb_46, Mcb__FCB(Tmp_1573), 0, -1);
    call {:si_unique_call 1714} FatSyncUninitializeCacheMap(IrpContext_80, EaFileObject_1);
    call {:si_unique_call 1715} vslice_dummy_var_243 := sdv_ObDereferenceObject(0);
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:partition} FlushFirst == 0;
    goto L11;

  anon5_Then:
    assume {:partition} EaFileObject_1 == 0;
    goto L1;
}



procedure {:origName "FatRepinBcb"} FatRepinBcb(actual_IrpContext_81: int, actual_Bcb_12: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatRepinBcb"} FatRepinBcb(actual_IrpContext_81: int, actual_Bcb_12: int)
{
  var {:scalar} i_12: int;
  var {:pointer} Tmp_1576: int;
  var {:scalar} Tmp_1577: int;
  var {:scalar} Tmp_1578: int;
  var {:pointer} sdv_922: int;
  var {:pointer} Tmp_1580: int;
  var {:pointer} Tmp_1581: int;
  var {:scalar} Tmp_1583: int;
  var {:pointer} Repinned_1: int;
  var {:pointer} IrpContext_81: int;
  var {:pointer} Bcb_12: int;
  var vslice_dummy_var_244: int;

  anon0:
    call {:si_unique_call 1716} vslice_dummy_var_244 := __HAVOC_malloc(4);
    IrpContext_81 := actual_IrpContext_81;
    Bcb_12 := actual_Bcb_12;
    call {:si_unique_call 1717} Tmp_1576 := __HAVOC_malloc(16);
    call {:si_unique_call 1718} Tmp_1580 := __HAVOC_malloc(16);
    call {:si_unique_call 1719} Tmp_1581 := __HAVOC_malloc(16);
    call {:si_unique_call 1720} sdv_do_paged_code_check();
    assume {:nonnull} IrpContext_81 != 0;
    assume IrpContext_81 > 0;
    Repinned_1 := Repinned__IRP_CONTEXT(IrpContext_81);
    goto L10;

  L10:
    call {:si_unique_call 1721} i_12, Tmp_1576, Tmp_1577, Tmp_1578, sdv_922, Tmp_1581, Repinned_1 := FatRepinBcb_loop_L10(i_12, Tmp_1576, Tmp_1577, Tmp_1578, sdv_922, Tmp_1581, Repinned_1, Bcb_12);
    goto L10_last;

  L10_last:
    i_12 := 0;
    goto L11;

  L11:
    call {:si_unique_call 1722} i_12, Tmp_1576, Tmp_1577, Tmp_1578, Tmp_1581 := FatRepinBcb_loop_L11(i_12, Tmp_1576, Tmp_1577, Tmp_1578, Tmp_1581, Repinned_1, Bcb_12);
    goto L11_last;

  L11_last:
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} 4 > i_12;
    Tmp_1577 := i_12;
    assume {:nonnull} Repinned_1 != 0;
    assume Repinned_1 > 0;
    havoc Tmp_1581;
    assume {:nonnull} Tmp_1581 != 0;
    assume Tmp_1581 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    Tmp_1578 := i_12;
    assume {:nonnull} Repinned_1 != 0;
    assume Repinned_1 > 0;
    havoc Tmp_1576;
    assume {:nonnull} Tmp_1576 != 0;
    assume Tmp_1576 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    i_12 := i_12 + 1;
    goto anon20_Else_dummy;

  anon20_Else_dummy:
    assume false;
    return;

  anon20_Then:
    Tmp_1583 := i_12;
    assume {:nonnull} Repinned_1 != 0;
    assume Repinned_1 > 0;
    havoc Tmp_1580;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume Tmp_1583 <= 2;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume Tmp_1583 != 2;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume Tmp_1583 != 1;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume Tmp_1583 != 0;
    goto L33;

  L33:
    goto L1;

  L1:
    return;

  anon24_Then:
    assume Tmp_1583 == 0;
    Tmp_1583 := 0;
    assume {:nonnull} Tmp_1580 != 0;
    assume Tmp_1580 > 0;
    goto L33;

  anon23_Then:
    assume Tmp_1583 == 1;
    Tmp_1583 := 1;
    assume {:nonnull} Tmp_1580 != 0;
    assume Tmp_1580 > 0;
    goto L33;

  anon22_Then:
    assume Tmp_1583 == 2;
    Tmp_1583 := 2;
    assume {:nonnull} Tmp_1580 != 0;
    assume Tmp_1580 > 0;
    goto L33;

  anon21_Then:
    assume Tmp_1583 > 2;
    assume {:nonnull} Tmp_1580 != 0;
    assume Tmp_1580 > 0;
    goto L33;

  anon19_Then:
    goto L1;

  anon17_Then:
    assume {:partition} i_12 >= 4;
    assume {:nonnull} Repinned_1 != 0;
    assume Repinned_1 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    goto L25;

  L25:
    assume {:nonnull} Repinned_1 != 0;
    assume Repinned_1 > 0;
    havoc Repinned_1;
    goto L25_dummy;

  L25_dummy:
    assume false;
    return;

  anon18_Then:
    call {:si_unique_call 1723} sdv_922 := ExAllocatePoolWithTag(17, 20, -764124858);
    assume {:nonnull} Repinned_1 != 0;
    assume Repinned_1 > 0;
    call {:si_unique_call 1724} sdv_RtlZeroMemory(0, 20);
    goto L25;
}



procedure {:origName "_sdv_init12"} _sdv_init12();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init12"} _sdv_init12()
{
  var vslice_dummy_var_245: int;

  anon0:
    call {:si_unique_call 1725} vslice_dummy_var_245 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatPerformDevIoCtrl"} FatPerformDevIoCtrl(actual_IrpContext_82: int, actual_IoControlCode_1: int, actual_Device: int, actual_OutputBuffer_1: int, actual_OutputBufferLength_1: int, actual_InternalDeviceIoControl_1: int, actual_OverrideVerify: int, actual_Iosb_14: int) returns (Tmp_1586: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPerformDevIoCtrl"} FatPerformDevIoCtrl(actual_IrpContext_82: int, actual_IoControlCode_1: int, actual_Device: int, actual_OutputBuffer_1: int, actual_OutputBufferLength_1: int, actual_InternalDeviceIoControl_1: int, actual_OverrideVerify: int, actual_Iosb_14: int) returns (Tmp_1586: int)
{
  var {:scalar} LocalIosb: int;
  var {:pointer} Irp_23: int;
  var {:scalar} Status_21: int;
  var {:scalar} Event_5: int;
  var {:pointer} sdv_925: int;
  var {:pointer} IosbToUse: int;
  var {:scalar} IoControlCode_1: int;
  var {:pointer} Device: int;
  var {:scalar} OutputBufferLength_1: int;
  var {:scalar} InternalDeviceIoControl_1: int;
  var {:scalar} OverrideVerify: int;
  var {:pointer} Iosb_14: int;
  var vslice_dummy_var_246: int;

  anon0:
    call {:si_unique_call 1726} LocalIosb := __HAVOC_malloc(12);
    call {:si_unique_call 1727} Event_5 := __HAVOC_malloc(124);
    IoControlCode_1 := actual_IoControlCode_1;
    Device := actual_Device;
    OutputBufferLength_1 := actual_OutputBufferLength_1;
    InternalDeviceIoControl_1 := actual_InternalDeviceIoControl_1;
    OverrideVerify := actual_OverrideVerify;
    Iosb_14 := actual_Iosb_14;
    IosbToUse := LocalIosb;
    call {:si_unique_call 1728} sdv_do_paged_code_check();
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Iosb_14 != 0;
    IosbToUse := Iosb_14;
    goto L13;

  L13:
    assume {:nonnull} IosbToUse != 0;
    assume IosbToUse > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IosbToUse)] := 0;
    assume {:nonnull} IosbToUse != 0;
    assume IosbToUse > 0;
    call {:si_unique_call 1729} KeInitializeEvent(Event_5, 0, 0);
    call {:si_unique_call 1730} Irp_23 := IoBuildDeviceIoControlRequest(IoControlCode_1, 0, 0, 0, 0, OutputBufferLength_1, InternalDeviceIoControl_1, 0, IosbToUse);
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} Irp_23 != 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} OverrideVerify != 0;
    call {:si_unique_call 1731} sdv_925 := sdv_IoGetNextIrpStackLocation(Irp_23);
    assume {:nonnull} sdv_925 != 0;
    assume sdv_925 > 0;
    goto L26;

  L26:
    call {:si_unique_call 1732} Status_21 := sdv_IoCallDriver(Device, Irp_23);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Status_21 == 259;
    call {:si_unique_call 1733} vslice_dummy_var_246 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} IosbToUse != 0;
    assume IosbToUse > 0;
    Status_21 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IosbToUse)];
    goto L35;

  L35:
    Tmp_1586 := Status_21;
    goto L1;

  L1:
    return;

  anon12_Then:
    assume {:partition} Status_21 != 259;
    goto L35;

  anon11_Then:
    assume {:partition} OverrideVerify == 0;
    goto L26;

  anon10_Then:
    assume {:partition} Irp_23 == 0;
    Tmp_1586 := -1073741670;
    goto L1;

  anon9_Then:
    assume {:partition} Iosb_14 == 0;
    goto L13;
}



procedure {:origName "FatMultipleAsync"} FatMultipleAsync(actual_IrpContext_83: int, actual_Vcb_47: int, actual_MasterIrp: int, actual_MultipleIrpCount: int, actual_IoRuns: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMultipleAsync"} FatMultipleAsync(actual_IrpContext_83: int, actual_Vcb_47: int, actual_MasterIrp: int, actual_MultipleIrpCount: int, actual_IoRuns: int)
{
  var {:scalar} i_13: int;
  var {:scalar} Tmp_1588: int;
  var {:scalar} Tmp_1589: int;
  var {:pointer} Irp_24: int;
  var {:scalar} Tmp_1590: int;
  var {:pointer} Mdl_3: int;
  var {:scalar} Tmp_1591: int;
  var {:scalar} Tmp_1592: int;
  var {:pointer} Tmp_1593: int;
  var {:pointer} sdv_927: int;
  var {:scalar} CalledByFatVerifyVolume: int;
  var {:scalar} ExceptionExpected: int;
  var {:scalar} Tmp_1597: int;
  var {:scalar} Wait_7: int;
  var {:pointer} IrpSp_9: int;
  var {:scalar} Tmp_1598: int;
  var {:scalar} Tmp_1599: int;
  var {:scalar} sdv_929: int;
  var {:pointer} Context_7: int;
  var {:scalar} Tmp_1600: int;
  var {:scalar} Tmp_1602: int;
  var {:scalar} Tmp_1603: int;
  var {:scalar} Tmp_1604: int;
  var {:scalar} Tmp_1605: int;
  var {:scalar} UnwindRunCount: int;
  var {:scalar} Tmp_1606: int;
  var {:scalar} Tmp_1607: int;
  var {:pointer} IrpContext_83: int;
  var {:pointer} Vcb_47: int;
  var {:pointer} MasterIrp: int;
  var {:scalar} MultipleIrpCount: int;
  var {:pointer} IoRuns: int;
  var vslice_dummy_var_247: int;
  var vslice_dummy_var_248: int;
  var vslice_dummy_var_171: int;

  anon0:
    call {:si_unique_call 1734} vslice_dummy_var_247 := __HAVOC_malloc(4);
    IrpContext_83 := actual_IrpContext_83;
    Vcb_47 := actual_Vcb_47;
    MasterIrp := actual_MasterIrp;
    MultipleIrpCount := actual_MultipleIrpCount;
    IoRuns := actual_IoRuns;
    UnwindRunCount := 0;
    ExceptionExpected := 1;
    CalledByFatVerifyVolume := 0;
    call {:si_unique_call 1735} sdv_927 := sdv_KeGetCurrentThread();
    assume {:nonnull} Vcb_47 != 0;
    assume Vcb_47 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    CalledByFatVerifyVolume := 1;
    goto L18;

  L18:
    assume {:nonnull} IrpContext_83 != 0;
    assume IrpContext_83 > 0;
    havoc Tmp_1605;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} Tmp_1605 == 0;
    Wait_7 := 0;
    goto L155;

  L155:
    assume {:nonnull} IrpContext_83 != 0;
    assume IrpContext_83 > 0;
    havoc Context_7;
    assume {:nonnull} Context_7 != 0;
    assume Context_7 > 0;
    UnwindRunCount := 0;
    goto L24;

  L24:
    call {:si_unique_call 1736} Tmp_1588, Tmp_1589, Irp_24, Mdl_3, Tmp_1591, Tmp_1592, Tmp_1593, Tmp_1597, IrpSp_9, Tmp_1598, Tmp_1599, Tmp_1600, Tmp_1602, Tmp_1604, UnwindRunCount, Tmp_1606, Tmp_1607 := FatMultipleAsync_loop_L24(Tmp_1588, Tmp_1589, Irp_24, Mdl_3, Tmp_1591, Tmp_1592, Tmp_1593, CalledByFatVerifyVolume, Tmp_1597, Wait_7, IrpSp_9, Tmp_1598, Tmp_1599, Context_7, Tmp_1600, Tmp_1602, Tmp_1604, UnwindRunCount, Tmp_1606, Tmp_1607, IrpContext_83, Vcb_47, MasterIrp, MultipleIrpCount, IoRuns);
    goto L24_last;

  L24_last:
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} MultipleIrpCount > UnwindRunCount;
    Tmp_1591 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    assume {:nonnull} Vcb_47 != 0;
    assume Vcb_47 > 0;
    havoc Tmp_1593;
    assume {:nonnull} Tmp_1593 != 0;
    assume Tmp_1593 > 0;
    havoc Tmp_1602;
    call {:si_unique_call 1737} Irp_24 := IoMakeAssociatedIrp(MasterIrp, Tmp_1602);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} Irp_24 != 0;
    goto L55;

  L55:
    Tmp_1600 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    Tmp_1588 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    havoc Tmp_1607;
    assume {:nonnull} MasterIrp != 0;
    assume MasterIrp > 0;
    call {:si_unique_call 1738} Mdl_3 := IoAllocateMdl(0, Tmp_1607, 0, 0, 0);
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} Mdl_3 != 0;
    goto L64;

  L64:
    Tmp_1604 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    havoc Tmp_1592;
    assume {:nonnull} MasterIrp != 0;
    assume MasterIrp > 0;
    call {:si_unique_call 1739} IoBuildPartialMdl(0, 0, 0, Tmp_1592);
    call {:si_unique_call 1740} sdv_IoSetNextIrpStackLocation(0);
    call {:si_unique_call 1741} IrpSp_9 := sdv_IoGetCurrentIrpStackLocation(Irp_24);
    assume {:nonnull} IrpContext_83 != 0;
    assume IrpContext_83 > 0;
    assume {:nonnull} IrpSp_9 != 0;
    assume IrpSp_9 > 0;
    Tmp_1589 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    assume {:nonnull} IrpSp_9 != 0;
    assume IrpSp_9 > 0;
    Tmp_1597 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    assume {:nonnull} IrpSp_9 != 0;
    assume IrpSp_9 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} Wait_7 != 0;
    Tmp_1598 := li2bplFunctionConstant732;
    goto L82;

  L82:
    call {:si_unique_call 1742} sdv_IoSetCompletionRoutine(Irp_24, Tmp_1598, Context_7, 1, 1, 1);
    call {:si_unique_call 1743} IrpSp_9 := sdv_IoGetNextIrpStackLocation(Irp_24);
    assume {:nonnull} IrpContext_83 != 0;
    assume IrpContext_83 > 0;
    assume {:nonnull} IrpSp_9 != 0;
    assume IrpSp_9 > 0;
    Tmp_1606 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    assume {:nonnull} IrpSp_9 != 0;
    assume IrpSp_9 > 0;
    Tmp_1599 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    assume {:nonnull} IrpSp_9 != 0;
    assume IrpSp_9 > 0;
    assume {:nonnull} IrpContext_83 != 0;
    assume IrpContext_83 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:nonnull} IrpSp_9 != 0;
    assume IrpSp_9 > 0;
    goto L93;

  L93:
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} CalledByFatVerifyVolume != 0;
    assume {:nonnull} IrpSp_9 != 0;
    assume IrpSp_9 > 0;
    goto L95;

  L95:
    UnwindRunCount := UnwindRunCount + 1;
    goto L95_dummy;

  L95_dummy:
    assume false;
    return;

  anon35_Then:
    assume {:partition} CalledByFatVerifyVolume == 0;
    goto L95;

  anon43_Then:
    goto L93;

  anon42_Then:
    assume {:partition} Wait_7 == 0;
    Tmp_1598 := li2bplFunctionConstant731;
    goto L82;

  anon34_Then:
    assume {:partition} Mdl_3 == 0;
    assume {:nonnull} IrpContext_83 != 0;
    assume IrpContext_83 > 0;
    call {:si_unique_call 1744} ExRaiseStatus(-1073741670);
    goto L64;

  anon33_Then:
    assume {:partition} Irp_24 == 0;
    assume {:nonnull} IrpContext_83 != 0;
    assume IrpContext_83 > 0;
    call {:si_unique_call 1745} ExRaiseStatus(-1073741670);
    goto L55;

  anon32_Then:
    assume {:partition} UnwindRunCount >= MultipleIrpCount;
    ExceptionExpected := 0;
    assume {:nonnull} Context_7 != 0;
    assume Context_7 > 0;
    assume {:nonnull} MasterIrp != 0;
    assume MasterIrp > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} Wait_7 != 0;
    assume {:nonnull} MasterIrp != 0;
    assume MasterIrp > 0;
    goto L106;

  L106:
    UnwindRunCount := 0;
    goto L108;

  L108:
    call {:si_unique_call 1746} Irp_24, Tmp_1590, UnwindRunCount, vslice_dummy_var_248 := FatMultipleAsync_loop_L108(Irp_24, Tmp_1590, UnwindRunCount, Vcb_47, MultipleIrpCount, IoRuns, vslice_dummy_var_248);
    goto L108_last;

  L108_last:
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} MultipleIrpCount <= UnwindRunCount;
    call {:si_unique_call 1747} sdv_929 := sdv_AbnormalTermination();
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} sdv_929 != 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} ExceptionExpected != 0;
    goto L124;

  L124:
    i_13 := 0;
    goto L125;

  L125:
    call {:si_unique_call 1748} i_13, Irp_24, Tmp_1603 := FatMultipleAsync_loop_L125(i_13, Irp_24, Tmp_1603, UnwindRunCount, IoRuns);
    goto L125_last;

  L125_last:
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} UnwindRunCount >= i_13;
    Tmp_1603 := i_13;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    havoc Irp_24;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} Irp_24 != 0;
    assume {:nonnull} Irp_24 != 0;
    assume Irp_24 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    call {:si_unique_call 1749} IoFreeMdl(0);
    goto L130;

  L130:
    call {:si_unique_call 1750} IoFreeIrp(0);
    goto L128;

  L128:
    i_13 := i_13 + 1;
    goto L128_dummy;

  L128_dummy:
    assume false;
    return;

  anon40_Then:
    goto L130;

  anon45_Then:
    assume {:partition} Irp_24 == 0;
    goto L128;

  anon39_Then:
    assume {:partition} i_13 > UnwindRunCount;
    goto L1;

  L1:
    return;

  anon38_Then:
    assume {:partition} ExceptionExpected == 0;
    call {:si_unique_call 1751} KeBugCheckEx(35, 526010, 0, 0, 0);
    goto L124;

  anon37_Then:
    assume {:partition} sdv_929 == 0;
    goto L1;

  anon36_Then:
    assume {:partition} UnwindRunCount < MultipleIrpCount;
    Tmp_1590 := UnwindRunCount;
    assume {:nonnull} IoRuns != 0;
    assume IoRuns > 0;
    havoc Irp_24;
    assume {:nonnull} Vcb_47 != 0;
    assume Vcb_47 > 0;
    havoc vslice_dummy_var_171;
    call {:si_unique_call 1752} vslice_dummy_var_248 := sdv_IoCallDriver(vslice_dummy_var_171, Irp_24);
    UnwindRunCount := UnwindRunCount + 1;
    goto anon36_Then_dummy;

  anon36_Then_dummy:
    assume false;
    return;

  anon44_Then:
    assume {:partition} Wait_7 == 0;
    goto L106;

  anon41_Then:
    assume {:partition} Tmp_1605 != 0;
    Wait_7 := 1;
    goto L155;

  anon31_Then:
    goto L18;
}



procedure {:origName "FatToggleMediaEjectDisable"} FatToggleMediaEjectDisable(actual_IrpContext_84: int, actual_Vcb_48: int, actual_PreventRemoval: int) returns (Tmp_1608: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatToggleMediaEjectDisable"} FatToggleMediaEjectDisable(actual_IrpContext_84: int, actual_Vcb_48: int, actual_PreventRemoval: int) returns (Tmp_1608: int)
{
  var {:scalar} SavedIrql_2: int;
  var {:pointer} Irp_25: int;
  var {:pointer} Tmp_1609: int;
  var {:scalar} Status_22: int;
  var {:scalar} Iosb_15: int;
  var {:scalar} Event_6: int;
  var {:scalar} Prevent: int;
  var {:pointer} Vcb_48: int;
  var {:scalar} PreventRemoval: int;
  var boogieTmp: int;
  var vslice_dummy_var_249: int;
  var vslice_dummy_var_172: int;

  anon0:
    call {:si_unique_call 1753} Iosb_15 := __HAVOC_malloc(12);
    call {:si_unique_call 1754} Event_6 := __HAVOC_malloc(124);
    call {:si_unique_call 1755} Prevent := __HAVOC_malloc(4);
    Vcb_48 := actual_Vcb_48;
    PreventRemoval := actual_PreventRemoval;
    call {:si_unique_call 1756} Tmp_1609 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1609 != 0;
    assume Tmp_1609 > 0;
    Mem_T.INT4[Tmp_1609] := SavedIrql_2;
    call {:si_unique_call 1757} sdv_KeAcquireSpinLock(0, Tmp_1609);
    assume {:nonnull} Tmp_1609 != 0;
    assume Tmp_1609 > 0;
    SavedIrql_2 := Mem_T.INT4[Tmp_1609];
    assume {:nonnull} Vcb_48 != 0;
    assume Vcb_48 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} Vcb_48 != 0;
    assume Vcb_48 > 0;
    call {:si_unique_call 1758} boogieTmp := corral_nondet();
    call {:si_unique_call 1759} sdv_KeReleaseSpinLock(0, SavedIrql_2);
    assume {:nonnull} Prevent != 0;
    assume Prevent > 0;
    call {:si_unique_call 1760} KeInitializeEvent(Event_6, 0, 0);
    call {:si_unique_call 1761} Irp_25 := IoBuildDeviceIoControlRequest(477188, 0, 0, 1, 0, 0, 0, 0, Iosb_15);
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Irp_25 != 0;
    call {:si_unique_call 1762} sdv_IoSetCompletionRoutine(Irp_25, li2bplFunctionConstant739, Event_6, 1, 1, 1);
    assume {:nonnull} Vcb_48 != 0;
    assume Vcb_48 > 0;
    havoc vslice_dummy_var_172;
    call {:si_unique_call 1763} Status_22 := sdv_IoCallDriver(vslice_dummy_var_172, Irp_25);
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} Status_22 == 259;
    call {:si_unique_call 1764} vslice_dummy_var_249 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Iosb_15 != 0;
    assume Iosb_15 > 0;
    Status_22 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_15)];
    goto L39;

  L39:
    Tmp_1608 := Status_22;
    goto L1;

  L1:
    return;

  anon8_Then:
    assume {:partition} Status_22 != 259;
    goto L39;

  anon7_Then:
    assume {:partition} Irp_25 == 0;
    Tmp_1608 := -1073741670;
    goto L1;

  anon9_Then:
    call {:si_unique_call 1765} sdv_KeReleaseSpinLock(0, SavedIrql_2);
    Tmp_1608 := 0;
    goto L1;
}



procedure {:origName "FatSingleAsync"} FatSingleAsync(actual_IrpContext_85: int, actual_Vcb_49: int, actual_Lbo_7: int, actual_ByteCount_12: int, actual_Irp_26: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSingleAsync"} FatSingleAsync(actual_IrpContext_85: int, actual_Vcb_49: int, actual_Lbo_7: int, actual_ByteCount_12: int, actual_Irp_26: int)
{
  var {:pointer} IrpSp_10: int;
  var {:pointer} sdv_939: int;
  var {:scalar} Tmp_1613: int;
  var {:pointer} IrpContext_85: int;
  var {:pointer} Vcb_49: int;
  var {:scalar} Lbo_7: int;
  var {:scalar} ByteCount_12: int;
  var {:pointer} Irp_26: int;
  var vslice_dummy_var_250: int;
  var vslice_dummy_var_251: int;
  var vslice_dummy_var_173: int;
  var vslice_dummy_var_174: int;

  anon0:
    call {:si_unique_call 1766} vslice_dummy_var_250 := __HAVOC_malloc(4);
    IrpContext_85 := actual_IrpContext_85;
    Vcb_49 := actual_Vcb_49;
    Lbo_7 := actual_Lbo_7;
    ByteCount_12 := actual_ByteCount_12;
    Irp_26 := actual_Irp_26;
    assume {:nonnull} IrpContext_85 != 0;
    assume IrpContext_85 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    Tmp_1613 := li2bplFunctionConstant735;
    goto L7;

  L7:
    assume {:nonnull} IrpContext_85 != 0;
    assume IrpContext_85 > 0;
    havoc vslice_dummy_var_173;
    call {:si_unique_call 1767} sdv_IoSetCompletionRoutine(Irp_26, Tmp_1613, vslice_dummy_var_173, 1, 1, 1);
    call {:si_unique_call 1768} IrpSp_10 := sdv_IoGetNextIrpStackLocation(Irp_26);
    assume {:nonnull} IrpContext_85 != 0;
    assume IrpContext_85 > 0;
    assume {:nonnull} IrpSp_10 != 0;
    assume IrpSp_10 > 0;
    assume {:nonnull} IrpSp_10 != 0;
    assume IrpSp_10 > 0;
    assume {:nonnull} IrpSp_10 != 0;
    assume IrpSp_10 > 0;
    assume {:nonnull} IrpContext_85 != 0;
    assume IrpContext_85 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} IrpSp_10 != 0;
    assume IrpSp_10 > 0;
    goto L18;

  L18:
    call {:si_unique_call 1769} sdv_939 := sdv_KeGetCurrentThread();
    assume {:nonnull} Vcb_49 != 0;
    assume Vcb_49 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:nonnull} IrpSp_10 != 0;
    assume IrpSp_10 > 0;
    goto L23;

  L23:
    assume {:nonnull} Vcb_49 != 0;
    assume Vcb_49 > 0;
    havoc vslice_dummy_var_174;
    call {:si_unique_call 1770} vslice_dummy_var_251 := sdv_IoCallDriver(vslice_dummy_var_174, Irp_26);
    return;

  anon8_Then:
    goto L23;

  anon9_Then:
    goto L18;

  anon7_Then:
    Tmp_1613 := li2bplFunctionConstant734;
    goto L7;
}



procedure {:origName "FatNonCachedIo"} FatNonCachedIo(actual_IrpContext_86: int, actual_Irp_27: int, actual_FcbOrDcb_4: int, actual_StartingVbo_5: int, actual_ByteCount_13: int, actual_UserByteCount: int) returns (Tmp_1614: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatNonCachedIo"} FatNonCachedIo(actual_IrpContext_86: int, actual_Irp_27: int, actual_FcbOrDcb_4: int, actual_StartingVbo_5: int, actual_ByteCount_13: int, actual_UserByteCount: int) returns (Tmp_1614: int)
{
  var {:dopa} {:scalar} LastIsAllocated: int;
  var {:pointer} Tmp_1615: int;
  var {:pointer} Tmp_1616: int;
  var {:pointer} StackIoRuns: int;
  var {:scalar} Tmp_1617: int;
  var {:pointer} Tmp_1618: int;
  var {:scalar} Tmp_1619: int;
  var {:pointer} Mdl_4: int;
  var {:pointer} IoRuns_1: int;
  var {:pointer} Tmp_1620: int;
  var {:dopa} {:scalar} EndOnMax_1: int;
  var {:pointer} Stats_6: int;
  var {:scalar} CurrentIndex: int;
  var {:scalar} Tmp_1621: int;
  var {:scalar} Tmp_1622: int;
  var {:scalar} BufferOffset: int;
  var {:scalar} Tmp_1623: int;
  var {:dopa} {:scalar} LastIndex: int;
  var {:pointer} Stats_7: int;
  var {:dopa} {:scalar} FirstIndex: int;
  var {:scalar} Tmp_1624: int;
  var {:dopa} {:scalar} LastLbo: int;
  var {:scalar} Tmp_1625: int;
  var {:scalar} Tmp_1626: int;
  var {:scalar} Wait_8: int;
  var {:scalar} Tmp_1627: int;
  var {:scalar} Tmp_1628: int;
  var {:dopa} {:scalar} NextIsAllocated: int;
  var {:dopa} {:scalar} NextVbo: int;
  var {:scalar} sdv_943: int;
  var {:pointer} sdv_944: int;
  var {:pointer} Tmp_1630: int;
  var {:dopa} {:scalar} LastByteCount: int;
  var {:scalar} sdv_945: int;
  var {:pointer} Tmp_1631: int;
  var {:scalar} sdv_946: int;
  var {:pointer} sdv_947: int;
  var {:scalar} Tmp_1632: int;
  var {:pointer} Stats_8: int;
  var {:scalar} Tmp_1635: int;
  var {:dopa} {:scalar} NextByteCount: int;
  var {:scalar} NextRun: int;
  var {:scalar} Tmp_1636: int;
  var {:pointer} Stats_9: int;
  var {:scalar} sdv_948: int;
  var {:scalar} Tmp_1637: int;
  var {:pointer} Tmp_1638: int;
  var {:dopa} {:scalar} NextLbo: int;
  var {:pointer} Tmp_1639: int;
  var {:pointer} Tmp_1640: int;
  var {:scalar} Tmp_1641: int;
  var {:scalar} OriginalByteCount: int;
  var {:pointer} IrpContext_86: int;
  var {:pointer} Irp_27: int;
  var {:pointer} FcbOrDcb_4: int;
  var {:scalar} StartingVbo_5: int;
  var {:scalar} ByteCount_13: int;
  var {:scalar} UserByteCount: int;
  var vslice_dummy_var_252: int;
  var vslice_dummy_var_175: int;
  var vslice_dummy_var_176: int;
  var vslice_dummy_var_177: int;

  anon0:
    call {:si_unique_call 1771} LastIsAllocated := __HAVOC_malloc(4);
    call {:si_unique_call 1772} EndOnMax_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1773} LastIndex := __HAVOC_malloc(4);
    call {:si_unique_call 1774} FirstIndex := __HAVOC_malloc(4);
    call {:si_unique_call 1775} LastLbo := __HAVOC_malloc(4);
    call {:si_unique_call 1776} NextIsAllocated := __HAVOC_malloc(4);
    call {:si_unique_call 1777} NextVbo := __HAVOC_malloc(4);
    call {:si_unique_call 1778} LastByteCount := __HAVOC_malloc(4);
    call {:si_unique_call 1779} NextByteCount := __HAVOC_malloc(4);
    call {:si_unique_call 1780} NextLbo := __HAVOC_malloc(4);
    IrpContext_86 := actual_IrpContext_86;
    Irp_27 := actual_Irp_27;
    FcbOrDcb_4 := actual_FcbOrDcb_4;
    StartingVbo_5 := actual_StartingVbo_5;
    ByteCount_13 := actual_ByteCount_13;
    UserByteCount := actual_UserByteCount;
    call {:si_unique_call 1781} StackIoRuns := __HAVOC_malloc(100);
    assume {:nonnull} Irp_27 != 0;
    assume Irp_27 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    call {:si_unique_call 1782} sdv_943 := KeGetCurrentProcessorNumber();
    Tmp_1627 := sdv_943;
    assume {:nonnull} FcbOrDcb_4 != 0;
    assume FcbOrDcb_4 > 0;
    havoc Tmp_1630;
    assume {:nonnull} Tmp_1630 != 0;
    assume Tmp_1630 > 0;
    havoc Tmp_1616;
    Stats_7 := Tmp_1616 + Tmp_1627 * 240;
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:nonnull} Stats_7 != 0;
    assume Stats_7 > 0;
    assume {:nonnull} Stats_7 != 0;
    assume Stats_7 > 0;
    goto L22;

  L22:
    NextRun := 0;
    BufferOffset := 0;
    OriginalByteCount := ByteCount_13;
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    havoc Tmp_1632;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} Tmp_1632 == 0;
    Wait_8 := 0;
    goto L193;

  L193:
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    Tmp_1635 := 1;
    goto L30;

  L30:
    call {:si_unique_call 1783} FatLockUserBuffer(IrpContext_86, Irp_27, Tmp_1635, ByteCount_13);
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} UserByteCount != ByteCount_13;
    Tmp_1622 := ByteCount_13 - UserByteCount;
    assume {:nonnull} Irp_27 != 0;
    assume Irp_27 > 0;
    call {:si_unique_call 1784} Mdl_4 := IoAllocateMdl(0, Tmp_1622, 0, 0, 0);
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} Mdl_4 != 0;
    goto L46;

  L46:
    Tmp_1623 := ByteCount_13 - UserByteCount;
    assume {:nonnull} Irp_27 != 0;
    assume Irp_27 > 0;
    call {:si_unique_call 1785} IoBuildPartialMdl(0, 0, 0, Tmp_1623);
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    havoc Tmp_1618;
    assume {:nonnull} Tmp_1618 != 0;
    assume Tmp_1618 > 0;
    call {:si_unique_call 1786} sdv_944 := sdv_MmGetSystemAddressForMdlSafe(0, 16);
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} sdv_944 == 0;
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    call {:si_unique_call 1787} ExRaiseStatus(-1073741670);
    goto L34;

  L34:
    call {:si_unique_call 1788} FatLookupFileAllocation#1(IrpContext_86, FcbOrDcb_4, StartingVbo_5, NextLbo, NextByteCount, NextIsAllocated, EndOnMax_1, FirstIndex);
    assume {:nonnull} NextIsAllocated != 0;
    assume NextIsAllocated > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} Mem_T.INT4[NextIsAllocated] != 0;
    goto L67;

  L67:
    assume {:nonnull} EndOnMax_1 != 0;
    assume EndOnMax_1 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} Mem_T.INT4[EndOnMax_1] != 0;
    Tmp_1641 := 1;
    goto L70;

  L70:
    assume {:nonnull} NextByteCount != 0;
    assume NextByteCount > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} Mem_T.INT4[NextByteCount] >= ByteCount_13 - Tmp_1641;
    assume {:nonnull} Irp_27 != 0;
    assume Irp_27 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    call {:si_unique_call 1789} sdv_946 := KeGetCurrentProcessorNumber();
    Tmp_1617 := sdv_946;
    assume {:nonnull} FcbOrDcb_4 != 0;
    assume FcbOrDcb_4 > 0;
    havoc Tmp_1615;
    assume {:nonnull} Tmp_1615 != 0;
    assume Tmp_1615 > 0;
    havoc Tmp_1631;
    Stats_8 := Tmp_1631 + Tmp_1617 * 240;
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:nonnull} Stats_8 != 0;
    assume Stats_8 > 0;
    goto L84;

  L84:
    assume {:nonnull} FcbOrDcb_4 != 0;
    assume FcbOrDcb_4 > 0;
    assume {:nonnull} NextLbo != 0;
    assume NextLbo > 0;
    havoc vslice_dummy_var_175;
    call {:si_unique_call 1790} FatSingleAsync(IrpContext_86, vslice_dummy_var_175, Mem_T.INT4[NextLbo], ByteCount_13, Irp_27);
    goto L87;

  L87:
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} Wait_8 != 0;
    call {:si_unique_call 1791} FatWaitSync(IrpContext_86);
    assume {:nonnull} Irp_27 != 0;
    assume Irp_27 > 0;
    Tmp_1614 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_27))];
    goto L1;

  L1:
    return;

  anon63_Then:
    assume {:partition} Wait_8 == 0;
    Tmp_1614 := 259;
    goto L1;

  anon74_Then:
    assume {:nonnull} Stats_8 != 0;
    assume Stats_8 > 0;
    goto L84;

  anon60_Then:
    call {:si_unique_call 1792} sdv_945 := KeGetCurrentProcessorNumber();
    Tmp_1624 := sdv_945;
    assume {:nonnull} FcbOrDcb_4 != 0;
    assume FcbOrDcb_4 > 0;
    havoc Tmp_1638;
    assume {:nonnull} Tmp_1638 != 0;
    assume Tmp_1638 > 0;
    havoc Tmp_1640;
    assume {:nonnull} Tmp_1640 != 0;
    assume Tmp_1640 > 0;
    Stats_9 := Common__FILE_SYSTEM_STATISTICS(Tmp_1640 + Tmp_1624 * 240);
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:nonnull} Stats_9 != 0;
    assume Stats_9 > 0;
    goto L84;

  anon62_Then:
    assume {:nonnull} Stats_9 != 0;
    assume Stats_9 > 0;
    goto L84;

  anon73_Then:
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:nonnull} Stats_9 != 0;
    assume Stats_9 > 0;
    goto L84;

  anon61_Then:
    assume {:nonnull} Stats_9 != 0;
    assume Stats_9 > 0;
    goto L84;

  anon59_Then:
    assume {:partition} ByteCount_13 - Tmp_1641 > Mem_T.INT4[NextByteCount];
    Tmp_1628 := StartingVbo_5 + ByteCount_13 - 1;
    call {:si_unique_call 1793} FatLookupFileAllocation#1(IrpContext_86, FcbOrDcb_4, Tmp_1628, LastLbo, LastByteCount, LastIsAllocated, EndOnMax_1, LastIndex);
    assume {:nonnull} LastIsAllocated != 0;
    assume LastIsAllocated > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} Mem_T.INT4[LastIsAllocated] != 0;
    goto L109;

  L109:
    assume {:nonnull} FirstIndex != 0;
    assume FirstIndex > 0;
    assume {:nonnull} LastIndex != 0;
    assume LastIndex > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} Mem_T.INT4[LastIndex] - Mem_T.INT4[FirstIndex] + 1 > 5;
    assume {:nonnull} FirstIndex != 0;
    assume FirstIndex > 0;
    assume {:nonnull} LastIndex != 0;
    assume LastIndex > 0;
    Tmp_1637 := (Mem_T.INT4[LastIndex] - Mem_T.INT4[FirstIndex] + 1) * 24;
    call {:si_unique_call 1794} sdv_947 := ExAllocatePoolWithTag(17, Tmp_1637, -378248890);
    IoRuns_1 := sdv_947;
    goto L116;

  L116:
    assume {:nonnull} FirstIndex != 0;
    assume FirstIndex > 0;
    CurrentIndex := Mem_T.INT4[FirstIndex];
    goto L117;

  L117:
    call {:si_unique_call 1795} Tmp_1619, CurrentIndex, Tmp_1621, BufferOffset, Tmp_1625, NextRun, Tmp_1636, StartingVbo_5, ByteCount_13, vslice_dummy_var_252 := FatNonCachedIo_loop_L117(Tmp_1619, IoRuns_1, CurrentIndex, Tmp_1621, BufferOffset, LastIndex, Tmp_1625, NextVbo, NextByteCount, NextRun, Tmp_1636, NextLbo, FcbOrDcb_4, StartingVbo_5, ByteCount_13, vslice_dummy_var_252);
    goto L117_last;

  L117_last:
    assume {:nonnull} LastIndex != 0;
    assume LastIndex > 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} Mem_T.INT4[LastIndex] >= CurrentIndex;
    assume {:nonnull} NextByteCount != 0;
    assume NextByteCount > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} Mem_T.INT4[NextByteCount] > ByteCount_13;
    assume {:nonnull} NextByteCount != 0;
    assume NextByteCount > 0;
    Mem_T.INT4[NextByteCount] := ByteCount_13;
    goto L120;

  L120:
    Tmp_1619 := NextRun;
    assume {:nonnull} IoRuns_1 != 0;
    assume IoRuns_1 > 0;
    Tmp_1621 := NextRun;
    assume {:nonnull} IoRuns_1 != 0;
    assume IoRuns_1 > 0;
    assume {:nonnull} NextLbo != 0;
    assume NextLbo > 0;
    Tmp_1625 := NextRun;
    assume {:nonnull} IoRuns_1 != 0;
    assume IoRuns_1 > 0;
    Tmp_1636 := NextRun;
    assume {:nonnull} IoRuns_1 != 0;
    assume IoRuns_1 > 0;
    assume {:nonnull} NextByteCount != 0;
    assume NextByteCount > 0;
    NextRun := NextRun + 1;
    assume {:nonnull} NextByteCount != 0;
    assume NextByteCount > 0;
    StartingVbo_5 := StartingVbo_5 + Mem_T.INT4[NextByteCount];
    assume {:nonnull} NextByteCount != 0;
    assume NextByteCount > 0;
    BufferOffset := BufferOffset + Mem_T.INT4[NextByteCount];
    assume {:nonnull} NextByteCount != 0;
    assume NextByteCount > 0;
    ByteCount_13 := ByteCount_13 - Mem_T.INT4[NextByteCount];
    CurrentIndex := CurrentIndex + 1;
    assume {:nonnull} LastIndex != 0;
    assume LastIndex > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} Mem_T.INT4[LastIndex] >= CurrentIndex;
    assume {:nonnull} FcbOrDcb_4 != 0;
    assume FcbOrDcb_4 > 0;
    havoc vslice_dummy_var_176;
    call {:si_unique_call 1796} vslice_dummy_var_252 := FatGetNextMcbEntry(vslice_dummy_var_176, Mcb__FCB(FcbOrDcb_4), CurrentIndex, NextVbo, NextLbo, NextByteCount);
    goto anon75_Else_dummy;

  anon75_Else_dummy:
    assume false;
    return;

  anon75_Then:
    assume {:partition} CurrentIndex > Mem_T.INT4[LastIndex];
    goto anon75_Then_dummy;

  anon75_Then_dummy:
    assume false;
    return;

  anon67_Then:
    assume {:partition} ByteCount_13 >= Mem_T.INT4[NextByteCount];
    goto L120;

  anon66_Then:
    assume {:partition} CurrentIndex > Mem_T.INT4[LastIndex];
    assume {:nonnull} Irp_27 != 0;
    assume Irp_27 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_27))] := 0;
    assume {:nonnull} Irp_27 != 0;
    assume Irp_27 > 0;
    assume {:nonnull} Irp_27 != 0;
    assume Irp_27 > 0;
    goto anon76_Then, anon76_Else;

  anon76_Else:
    call {:si_unique_call 1797} sdv_948 := KeGetCurrentProcessorNumber();
    Tmp_1626 := sdv_948;
    assume {:nonnull} FcbOrDcb_4 != 0;
    assume FcbOrDcb_4 > 0;
    havoc Tmp_1620;
    assume {:nonnull} Tmp_1620 != 0;
    assume Tmp_1620 > 0;
    havoc Tmp_1639;
    assume {:nonnull} Tmp_1639 != 0;
    assume Tmp_1639 > 0;
    Stats_6 := Common__FILE_SYSTEM_STATISTICS(Tmp_1639 + Tmp_1626 * 240);
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:nonnull} Stats_6 != 0;
    assume Stats_6 > 0;
    goto L136;

  L136:
    assume {:nonnull} FcbOrDcb_4 != 0;
    assume FcbOrDcb_4 > 0;
    havoc vslice_dummy_var_177;
    call {:si_unique_call 1798} FatMultipleAsync(IrpContext_86, vslice_dummy_var_177, Irp_27, NextRun, IoRuns_1);
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} IoRuns_1 != StackIoRuns;
    call {:si_unique_call 1799} sdv_ExFreePool(0);
    goto L87;

  anon70_Then:
    assume {:partition} IoRuns_1 == StackIoRuns;
    goto L87;

  anon69_Then:
    assume {:nonnull} Stats_6 != 0;
    assume Stats_6 > 0;
    goto L136;

  anon77_Then:
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:nonnull} Stats_6 != 0;
    assume Stats_6 > 0;
    goto L136;

  anon68_Then:
    assume {:nonnull} Stats_6 != 0;
    assume Stats_6 > 0;
    goto L136;

  anon76_Then:
    goto L136;

  anon65_Then:
    assume {:partition} 5 >= Mem_T.INT4[LastIndex] - Mem_T.INT4[FirstIndex] + 1;
    IoRuns_1 := StackIoRuns;
    goto L116;

  anon64_Then:
    assume {:partition} Mem_T.INT4[LastIsAllocated] == 0;
    call {:si_unique_call 1800} FatPopUpFileCorrupt#1(IrpContext_86, FcbOrDcb_4);
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    call {:si_unique_call 1801} ExRaiseStatus(-1073741566);
    goto L109;

  anon58_Then:
    assume {:partition} Mem_T.INT4[EndOnMax_1] == 0;
    Tmp_1641 := 0;
    goto L70;

  anon57_Then:
    assume {:partition} Mem_T.INT4[NextIsAllocated] == 0;
    call {:si_unique_call 1802} FatPopUpFileCorrupt#1(IrpContext_86, FcbOrDcb_4);
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    call {:si_unique_call 1803} ExRaiseStatus(-1073741566);
    goto L67;

  anon56_Then:
    assume {:partition} sdv_944 != 0;
    goto L34;

  anon55_Then:
    assume {:partition} Mdl_4 == 0;
    assume {:nonnull} IrpContext_86 != 0;
    assume IrpContext_86 > 0;
    call {:si_unique_call 1804} ExRaiseStatus(-1073741670);
    goto L46;

  anon54_Then:
    assume {:partition} UserByteCount == ByteCount_13;
    goto L34;

  anon72_Then:
    Tmp_1635 := 0;
    goto L30;

  anon71_Then:
    assume {:partition} Tmp_1632 != 0;
    Wait_8 := 1;
    goto L193;

  anon78_Then:
    assume {:nonnull} Stats_7 != 0;
    assume Stats_7 > 0;
    assume {:nonnull} Stats_7 != 0;
    assume Stats_7 > 0;
    goto L22;

  anon53_Then:
    goto L22;
}



procedure {:origName "FatPagingFileIo"} FatPagingFileIo(actual_Irp_28: int, actual_Fcb_30: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPagingFileIo"} FatPagingFileIo(actual_Irp_28: int, actual_Fcb_30: int)
{
  var {:scalar} RemainingByteCount: int;
  var {:pointer} Mdl_5: int;
  var {:pointer} AssocIrp: int;
  var {:scalar} Vbo_7: int;
  var {:pointer} Tmp_1642: int;
  var {:scalar} CurrentIndex_1: int;
  var {:scalar} IrpCount: int;
  var {:scalar} BufferOffset_1: int;
  var {:dopa} {:scalar} LastIndex_1: int;
  var {:pointer} NextIrpSp: int;
  var {:dopa} {:scalar} FirstIndex_1: int;
  var {:dopa} {:scalar} LastLbo_1: int;
  var {:scalar} Tmp_1643: int;
  var {:pointer} IrpSp_11: int;
  var {:dopa} {:scalar} NextVbo_1: int;
  var {:pointer} DeviceObject_10: int;
  var {:scalar} Context_8: int;
  var {:dopa} {:scalar} LastByteCount_1: int;
  var {:scalar} MustSucceed: int;
  var {:dopa} {:scalar} NextByteCount_1: int;
  var {:scalar} IrpIsMaster: int;
  var {:dopa} {:scalar} NextLbo_1: int;
  var {:scalar} Tmp_1648: int;
  var {:scalar} Tmp_1649: int;
  var {:scalar} MdlIsReserve: int;
  var {:scalar} ByteCount_14: int;
  var {:pointer} Irp_28: int;
  var {:pointer} Fcb_30: int;
  var vslice_dummy_var_253: int;
  var vslice_dummy_var_254: int;
  var vslice_dummy_var_255: int;
  var vslice_dummy_var_256: int;
  var vslice_dummy_var_257: int;
  var vslice_dummy_var_258: int;
  var vslice_dummy_var_259: int;
  var vslice_dummy_var_260: int;
  var vslice_dummy_var_178: int;
  var vslice_dummy_var_179: int;
  var vslice_dummy_var_180: int;

  anon0:
    call {:si_unique_call 1805} LastIndex_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1806} FirstIndex_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1807} LastLbo_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1808} NextVbo_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1809} vslice_dummy_var_253 := __HAVOC_malloc(4);
    call {:si_unique_call 1810} Context_8 := __HAVOC_malloc(128);
    call {:si_unique_call 1811} LastByteCount_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1812} NextByteCount_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1813} NextLbo_1 := __HAVOC_malloc(4);
    Irp_28 := actual_Irp_28;
    Fcb_30 := actual_Fcb_30;
    MdlIsReserve := 0;
    IrpIsMaster := 0;
    BufferOffset_1 := 0;
    assume {:nonnull} Fcb_30 != 0;
    assume Fcb_30 > 0;
    havoc Tmp_1642;
    assume {:nonnull} Tmp_1642 != 0;
    assume Tmp_1642 > 0;
    havoc DeviceObject_10;
    call {:si_unique_call 1814} IrpSp_11 := sdv_IoGetCurrentIrpStackLocation(Irp_28);
    assume {:nonnull} IrpSp_11 != 0;
    assume IrpSp_11 > 0;
    havoc Vbo_7;
    assume {:nonnull} IrpSp_11 != 0;
    assume IrpSp_11 > 0;
    havoc ByteCount_14;
    assume {:nonnull} Fcb_30 != 0;
    assume Fcb_30 > 0;
    havoc vslice_dummy_var_178;
    call {:si_unique_call 1815} MustSucceed := FatLookupMcbEntry(vslice_dummy_var_178, Mcb__FCB(Fcb_30), Vbo_7, NextLbo_1, NextByteCount_1, FirstIndex_1);
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} MustSucceed != 0;
    goto L43;

  L43:
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} Mem_T.INT4[NextByteCount_1] >= ByteCount_14;
    call {:si_unique_call 1816} NextIrpSp := sdv_IoGetNextIrpStackLocation(Irp_28);
    assume {:nonnull} IrpSp_11 != 0;
    assume IrpSp_11 > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} NextLbo_1 != 0;
    assume NextLbo_1 > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    call {:si_unique_call 1817} sdv_IoSetCompletionRoutine(Irp_28, li2bplFunctionConstant726, Irp_28, 0, 1, 1);
    call {:si_unique_call 1818} vslice_dummy_var_254 := sdv_IoCallDriver(DeviceObject_10, Irp_28);
    goto L1;

  L1:
    return;

  anon46_Then:
    assume {:partition} ByteCount_14 > Mem_T.INT4[NextByteCount_1];
    Tmp_1649 := Vbo_7 + ByteCount_14 - 1;
    assume {:nonnull} Fcb_30 != 0;
    assume Fcb_30 > 0;
    havoc vslice_dummy_var_179;
    call {:si_unique_call 1819} MustSucceed := FatLookupMcbEntry(vslice_dummy_var_179, Mcb__FCB(Fcb_30), Tmp_1649, LastLbo_1, LastByteCount_1, LastIndex_1);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} MustSucceed != 0;
    goto L66;

  L66:
    assume {:nonnull} FirstIndex_1 != 0;
    assume FirstIndex_1 > 0;
    CurrentIndex_1 := Mem_T.INT4[FirstIndex_1];
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_28))] := 0;
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    assume {:nonnull} FirstIndex_1 != 0;
    assume FirstIndex_1 > 0;
    assume {:nonnull} LastIndex_1 != 0;
    assume LastIndex_1 > 0;
    IrpCount := Mem_T.INT4[LastIndex_1] - Mem_T.INT4[FirstIndex_1] + 1;
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    goto L71;

  L71:
    call {:si_unique_call 1820} RemainingByteCount, Mdl_5, AssocIrp, Vbo_7, CurrentIndex_1, IrpCount, BufferOffset_1, NextIrpSp, IrpIsMaster, Tmp_1648, MdlIsReserve, ByteCount_14, vslice_dummy_var_255, vslice_dummy_var_256, vslice_dummy_var_257, vslice_dummy_var_258, vslice_dummy_var_260 := FatPagingFileIo_loop_L71(RemainingByteCount, Mdl_5, AssocIrp, Vbo_7, CurrentIndex_1, IrpCount, BufferOffset_1, LastIndex_1, NextIrpSp, IrpSp_11, NextVbo_1, DeviceObject_10, Context_8, NextByteCount_1, IrpIsMaster, NextLbo_1, Tmp_1648, MdlIsReserve, ByteCount_14, Irp_28, Fcb_30, vslice_dummy_var_255, vslice_dummy_var_256, vslice_dummy_var_257, vslice_dummy_var_258, vslice_dummy_var_260);
    goto L71_last;

  L71_last:
    assume {:nonnull} LastIndex_1 != 0;
    assume LastIndex_1 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} Mem_T.INT4[LastIndex_1] >= CurrentIndex_1;
    AssocIrp := 0;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} Mem_T.INT4[NextByteCount_1] > ByteCount_14;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    Mem_T.INT4[NextByteCount_1] := ByteCount_14;
    goto L75;

  L75:
    RemainingByteCount := 0;
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    call {:si_unique_call 1821} Mdl_5 := IoAllocateMdl(0, Mem_T.INT4[NextByteCount_1], 0, 0, 0);
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} Mdl_5 != 0;
    goto L86;

  L86:
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    call {:si_unique_call 1822} IoBuildPartialMdl(0, 0, 0, Mem_T.INT4[NextByteCount_1]);
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} MdlIsReserve != 0;
    goto L92;

  L92:
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} AssocIrp != 0;
    IrpCount := IrpCount - 1;
    goto L95;

  L95:
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} IrpIsMaster != 0;
    assume {:nonnull} Context_8 != 0;
    assume Context_8 > 0;
    call {:si_unique_call 1823} KeInitializeEvent(Event_FAT_PAGING_FILE_CONTEXT(Context_8), 1, 0);
    assume {:nonnull} Context_8 != 0;
    assume Context_8 > 0;
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    goto L103;

  L103:
    assume {:nonnull} AssocIrp != 0;
    assume AssocIrp > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} IrpIsMaster != 0;
    call {:si_unique_call 1824} sdv_IoSetCompletionRoutine(AssocIrp, li2bplFunctionConstant727, Context_8, 1, 1, 1);
    goto L111;

  L111:
    call {:si_unique_call 1825} NextIrpSp := sdv_IoGetNextIrpStackLocation(AssocIrp);
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} IrpSp_11 != 0;
    assume IrpSp_11 > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} NextLbo_1 != 0;
    assume NextLbo_1 > 0;
    call {:si_unique_call 1826} vslice_dummy_var_260 := sdv_IoCallDriver(DeviceObject_10, AssocIrp);
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} IrpIsMaster != 0;
    call {:si_unique_call 1827} vslice_dummy_var_256 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    MdlIsReserve := 0;
    IrpIsMaster := MdlIsReserve;
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_28))] >= 0;
    goto L123;

  L123:
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    Vbo_7 := Vbo_7 + Mem_T.INT4[NextByteCount_1];
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    BufferOffset_1 := BufferOffset_1 + Mem_T.INT4[NextByteCount_1];
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    ByteCount_14 := ByteCount_14 - Mem_T.INT4[NextByteCount_1];
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} RemainingByteCount != 0;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    assume {:nonnull} NextLbo_1 != 0;
    assume NextLbo_1 > 0;
    Mem_T.INT4[NextLbo_1] := Mem_T.INT4[NextLbo_1] + Mem_T.INT4[NextByteCount_1];
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    assume {:nonnull} NextVbo_1 != 0;
    assume NextVbo_1 > 0;
    Mem_T.INT4[NextVbo_1] := Mem_T.INT4[NextVbo_1] + Mem_T.INT4[NextByteCount_1];
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    Mem_T.INT4[NextByteCount_1] := RemainingByteCount;
    goto anon64_Else_dummy;

  anon64_Else_dummy:
    assume false;
    return;

  anon64_Then:
    assume {:partition} RemainingByteCount == 0;
    CurrentIndex_1 := CurrentIndex_1 + 1;
    assume {:nonnull} LastIndex_1 != 0;
    assume LastIndex_1 > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} Mem_T.INT4[LastIndex_1] >= CurrentIndex_1;
    assume {:nonnull} Fcb_30 != 0;
    assume Fcb_30 > 0;
    havoc vslice_dummy_var_180;
    call {:si_unique_call 1828} vslice_dummy_var_257 := FatGetNextMcbEntry(vslice_dummy_var_180, Mcb__FCB(Fcb_30), CurrentIndex_1, NextVbo_1, NextLbo_1, NextByteCount_1);
    goto anon65_Else_dummy;

  anon65_Else_dummy:
    assume false;
    return;

  anon65_Then:
    assume {:partition} CurrentIndex_1 > Mem_T.INT4[LastIndex_1];
    goto anon65_Then_dummy;

  anon65_Then_dummy:
    assume false;
    return;

  anon63_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_28))];
    goto L72;

  L72:
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} IrpCount != 0;
    goto L170;

  L170:
    call {:si_unique_call 1829} vslice_dummy_var_259 := FatPagingFileIo_loop_L170(IrpCount, Irp_28, vslice_dummy_var_259);
    goto L170_last;

  L170_last:
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    call {:si_unique_call 1830} vslice_dummy_var_259 := KeDelayExecutionThread(0, 0, 0);
    goto anon60_Else_dummy;

  anon60_Else_dummy:
    assume false;
    return;

  anon60_Then:
    call {:si_unique_call 1831} sdv_IoCompleteRequest(0, 1);
    goto L1;

  anon49_Then:
    assume {:partition} IrpCount == 0;
    goto L1;

  anon55_Then:
    assume {:partition} IrpIsMaster == 0;
    goto L123;

  anon62_Then:
    assume {:partition} IrpIsMaster == 0;
    call {:si_unique_call 1832} sdv_IoSetCompletionRoutine(AssocIrp, li2bplFunctionConstant726, Irp_28, 0, 1, 1);
    goto L111;

  anon54_Then:
    assume {:partition} IrpIsMaster == 0;
    call {:si_unique_call 1833} sdv_IoSetNextIrpStackLocation(0);
    call {:si_unique_call 1834} NextIrpSp := sdv_IoGetCurrentIrpStackLocation(AssocIrp);
    assume {:nonnull} IrpSp_11 != 0;
    assume IrpSp_11 > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    assume {:nonnull} IrpSp_11 != 0;
    assume IrpSp_11 > 0;
    assume {:nonnull} NextIrpSp != 0;
    assume NextIrpSp > 0;
    goto L103;

  anon53_Then:
    assume {:partition} AssocIrp == 0;
    AssocIrp := Irp_28;
    IrpIsMaster := 1;
    goto L151;

  L151:
    call {:si_unique_call 1835} vslice_dummy_var_258 := FatPagingFileIo_loop_L151(IrpCount, Irp_28, vslice_dummy_var_258);
    goto L151_last;

  L151_last:
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    call {:si_unique_call 1836} vslice_dummy_var_258 := KeDelayExecutionThread(0, 0, 0);
    goto anon56_Else_dummy;

  anon56_Else_dummy:
    assume false;
    return;

  anon56_Then:
    assume {:nonnull} Irp_28 != 0;
    assume Irp_28 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_28))] >= 0;
    goto L95;

  anon57_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_28))];
    goto L72;

  anon51_Then:
    assume {:partition} MdlIsReserve == 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} IrpCount != 1;
    goto L158;

  L158:
    assume {:nonnull} DeviceObject_10 != 0;
    assume DeviceObject_10 > 0;
    havoc Tmp_1648;
    call {:si_unique_call 1837} AssocIrp := IoMakeAssociatedIrp(Irp_28, Tmp_1648);
    goto L92;

  anon52_Then:
    assume {:partition} IrpCount == 1;
    assume {:nonnull} LastIndex_1 != 0;
    assume LastIndex_1 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} CurrentIndex_1 == Mem_T.INT4[LastIndex_1];
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} RemainingByteCount == 0;
    goto L158;

  anon59_Then:
    assume {:partition} RemainingByteCount != 0;
    goto L92;

  anon58_Then:
    assume {:partition} CurrentIndex_1 != Mem_T.INT4[LastIndex_1];
    goto L92;

  anon50_Then:
    assume {:partition} Mdl_5 == 0;
    call {:si_unique_call 1838} vslice_dummy_var_255 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    Mdl_5 := FatReserveMdl;
    MdlIsReserve := 1;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} Mem_T.INT4[NextByteCount_1] > 65536;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    RemainingByteCount := Mem_T.INT4[NextByteCount_1] - 65536;
    assume {:nonnull} NextByteCount_1 != 0;
    assume NextByteCount_1 > 0;
    Mem_T.INT4[NextByteCount_1] := 65536;
    goto L86;

  anon66_Then:
    assume {:partition} 65536 >= Mem_T.INT4[NextByteCount_1];
    goto L86;

  anon61_Then:
    assume {:partition} ByteCount_14 >= Mem_T.INT4[NextByteCount_1];
    goto L75;

  anon48_Then:
    assume {:partition} CurrentIndex_1 > Mem_T.INT4[LastIndex_1];
    goto L72;

  anon47_Then:
    assume {:partition} MustSucceed == 0;
    Tmp_1643 := Vbo_7 + ByteCount_14 - 1;
    call {:si_unique_call 1839} KeBugCheckEx(35, 524634, Tmp_1643, 1, 0);
    goto L66;

  anon45_Then:
    assume {:partition} MustSucceed == 0;
    call {:si_unique_call 1840} KeBugCheckEx(35, 524560, Vbo_7, ByteCount_14, 0);
    goto L43;
}



procedure {:origName "_sdv_init31"} _sdv_init31();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init31"} _sdv_init31()
{
  var vslice_dummy_var_261: int;

  anon0:
    call {:si_unique_call 1841} vslice_dummy_var_261 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatNonCachedNonAlignedRead"} FatNonCachedNonAlignedRead(actual_IrpContext_87: int, actual_Irp_29: int, actual_FcbOrDcb_5: int, actual_StartingVbo_6: int, actual_ByteCount_15: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatNonCachedNonAlignedRead"} FatNonCachedNonAlignedRead(actual_IrpContext_87: int, actual_Irp_29: int, actual_FcbOrDcb_5: int, actual_StartingVbo_6: int, actual_ByteCount_15: int)
{
  var {:scalar} LastSectorVbo: int;
  var {:pointer} Mdl_6: int;
  var {:pointer} SavedUserBuffer: int;
  var {:dopa} {:scalar} EndOnMax_2: int;
  var {:pointer} sdv_964: int;
  var {:pointer} DiskBuffer: int;
  var {:scalar} Tmp_1654: int;
  var {:dopa} {:scalar} NextIsAllocated_1: int;
  var {:pointer} sdv_966: int;
  var {:pointer} UserBuffer: int;
  var {:pointer} SavedMdl: int;
  var {:scalar} Tmp_1656: int;
  var {:scalar} sdv_968: int;
  var {:pointer} sdv_969: int;
  var {:scalar} Hole: int;
  var {:scalar} BytesToCopy_2: int;
  var {:dopa} {:scalar} NextByteCount_2: int;
  var {:scalar} SectorSize_3: int;
  var {:scalar} Tmp_1657: int;
  var {:scalar} Tmp_1658: int;
  var {:dopa} {:scalar} NextLbo_2: int;
  var {:scalar} OriginalByteCount_1: int;
  var {:pointer} Tmp_1659: int;
  var {:pointer} IrpContext_87: int;
  var {:pointer} Irp_29: int;
  var {:pointer} FcbOrDcb_5: int;
  var {:scalar} StartingVbo_6: int;
  var {:scalar} ByteCount_15: int;
  var vslice_dummy_var_262: int;
  var vslice_dummy_var_263: int;
  var vslice_dummy_var_181: int;
  var vslice_dummy_var_182: int;

  anon0:
    call {:si_unique_call 1842} EndOnMax_2 := __HAVOC_malloc(4);
    call {:si_unique_call 1843} vslice_dummy_var_262 := __HAVOC_malloc(4);
    call {:si_unique_call 1844} NextIsAllocated_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1845} NextByteCount_2 := __HAVOC_malloc(4);
    call {:si_unique_call 1846} NextLbo_2 := __HAVOC_malloc(4);
    IrpContext_87 := actual_IrpContext_87;
    Irp_29 := actual_Irp_29;
    FcbOrDcb_5 := actual_FcbOrDcb_5;
    StartingVbo_6 := actual_StartingVbo_6;
    ByteCount_15 := actual_ByteCount_15;
    DiskBuffer := 0;
    OriginalByteCount_1 := ByteCount_15;
    assume {:nonnull} FcbOrDcb_5 != 0;
    assume FcbOrDcb_5 > 0;
    havoc Tmp_1659;
    assume {:nonnull} Tmp_1659 != 0;
    assume Tmp_1659 > 0;
    havoc SectorSize_3;
    call {:si_unique_call 1847} FatLockUserBuffer(IrpContext_87, Irp_29, 1, ByteCount_15);
    call {:si_unique_call 1848} sdv_964 := FatMapUserBuffer(IrpContext_87, Irp_29);
    UserBuffer := sdv_964;
    Tmp_1658 := BAND(SectorSize_3 + 4096 - 1, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 1849} sdv_966 := ExAllocatePoolWithTag(20, Tmp_1658, -814456506);
    DiskBuffer := sdv_966;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} BAND(StartingVbo_6, SectorSize_3 - 1) != 0;
    call {:si_unique_call 1850} FatLookupFileAllocation#1(IrpContext_87, FcbOrDcb_5, StartingVbo_6, NextLbo_2, NextByteCount_2, NextIsAllocated_1, EndOnMax_2, 0);
    assume {:nonnull} NextIsAllocated_1 != 0;
    assume NextIsAllocated_1 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} Mem_T.INT4[NextIsAllocated_1] != 0;
    goto L54;

  L54:
    assume {:nonnull} NextLbo_2 != 0;
    assume NextLbo_2 > 0;
    Tmp_1654 := BAND(Mem_T.INT4[NextLbo_2], BNOT(SectorSize_3 - 1));
    assume {:nonnull} FcbOrDcb_5 != 0;
    assume FcbOrDcb_5 > 0;
    havoc vslice_dummy_var_181;
    call {:si_unique_call 1851} FatSingleNonAlignedSync(IrpContext_87, vslice_dummy_var_181, DiskBuffer, Tmp_1654, SectorSize_3, Irp_29);
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_29))] < 0;
    goto L73;

  L73:
    call {:si_unique_call 1852} sdv_ExFreePool(0);
    call {:si_unique_call 1853} sdv_968 := sdv_AbnormalTermination();
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} sdv_968 == 0;
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_29))] >= 0;
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    call {:si_unique_call 1854} sdv_KeFlushIoBuffers(0, 1, 0);
    goto L1;

  L1:
    return;

  anon29_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_29))];
    goto L1;

  anon28_Then:
    assume {:partition} sdv_968 != 0;
    goto L1;

  anon27_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_29))];
    Hole := BAND(StartingVbo_6, SectorSize_3 - 1);
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} ByteCount_15 >= SectorSize_3 - Hole;
    Tmp_1656 := SectorSize_3 - Hole;
    goto L64;

  L64:
    BytesToCopy_2 := Tmp_1656;
    call {:si_unique_call 1855} sdv_RtlCopyMemory(0, 0, BytesToCopy_2);
    StartingVbo_6 := StartingVbo_6 + BytesToCopy_2;
    ByteCount_15 := ByteCount_15 - BytesToCopy_2;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} ByteCount_15 == 0;
    goto L73;

  anon35_Then:
    assume {:partition} ByteCount_15 != 0;
    goto L33;

  L33:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} BAND(ByteCount_15, SectorSize_3 - 1) != 0;
    Tmp_1657 := BAND(ByteCount_15, BNOT(SectorSize_3 - 1));
    LastSectorVbo := StartingVbo_6 + Tmp_1657;
    call {:si_unique_call 1856} FatLookupFileAllocation#1(IrpContext_87, FcbOrDcb_5, LastSectorVbo, NextLbo_2, NextByteCount_2, NextIsAllocated_1, EndOnMax_2, 0);
    assume {:nonnull} NextIsAllocated_1 != 0;
    assume NextIsAllocated_1 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Mem_T.INT4[NextIsAllocated_1] != 0;
    goto L101;

  L101:
    assume {:nonnull} FcbOrDcb_5 != 0;
    assume FcbOrDcb_5 > 0;
    assume {:nonnull} NextLbo_2 != 0;
    assume NextLbo_2 > 0;
    havoc vslice_dummy_var_182;
    call {:si_unique_call 1857} FatSingleNonAlignedSync(IrpContext_87, vslice_dummy_var_182, DiskBuffer, Mem_T.INT4[NextLbo_2], SectorSize_3, Irp_29);
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_29))] >= 0;
    BytesToCopy_2 := BAND(ByteCount_15, SectorSize_3 - 1);
    call {:si_unique_call 1858} sdv_RtlCopyMemory(0, 0, BytesToCopy_2);
    ByteCount_15 := ByteCount_15 - BytesToCopy_2;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} ByteCount_15 != 0;
    goto L90;

  L90:
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    havoc SavedMdl;
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    havoc SavedUserBuffer;
    call {:si_unique_call 1859} sdv_969 := sdv_MmGetMdlVirtualAddress(0);
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    call {:si_unique_call 1860} Mdl_6 := IoAllocateMdl(0, ByteCount_15, 0, 0, 0);
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} Mdl_6 != 0;
    goto L130;

  L130:
    call {:si_unique_call 1861} IoBuildPartialMdl(0, 0, 0, ByteCount_15);
    call {:si_unique_call 1862} vslice_dummy_var_263 := FatNonCachedIo(IrpContext_87, Irp_29, FcbOrDcb_5, StartingVbo_6, ByteCount_15, ByteCount_15);
    call {:si_unique_call 1863} IoFreeMdl(0);
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    goto L73;

  anon32_Then:
    assume {:partition} Mdl_6 == 0;
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    assume {:nonnull} Irp_29 != 0;
    assume Irp_29 > 0;
    assume {:nonnull} IrpContext_87 != 0;
    assume IrpContext_87 > 0;
    call {:si_unique_call 1864} ExRaiseStatus(-1073741670);
    goto L130;

  anon36_Then:
    assume {:partition} ByteCount_15 == 0;
    goto L73;

  anon31_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_29))];
    goto L73;

  anon30_Then:
    assume {:partition} Mem_T.INT4[NextIsAllocated_1] == 0;
    call {:si_unique_call 1865} FatPopUpFileCorrupt#1(IrpContext_87, FcbOrDcb_5);
    assume {:nonnull} IrpContext_87 != 0;
    assume IrpContext_87 > 0;
    call {:si_unique_call 1866} ExRaiseStatus(-1073741566);
    goto L101;

  anon25_Then:
    assume {:partition} BAND(ByteCount_15, SectorSize_3 - 1) == 0;
    goto L90;

  anon34_Then:
    assume {:partition} SectorSize_3 - Hole > ByteCount_15;
    Tmp_1656 := ByteCount_15;
    goto L64;

  anon26_Then:
    assume {:partition} Mem_T.INT4[NextIsAllocated_1] == 0;
    call {:si_unique_call 1867} FatPopUpFileCorrupt#1(IrpContext_87, FcbOrDcb_5);
    assume {:nonnull} IrpContext_87 != 0;
    assume IrpContext_87 > 0;
    call {:si_unique_call 1868} ExRaiseStatus(-1073741566);
    goto L54;

  anon33_Then:
    assume {:partition} BAND(StartingVbo_6, SectorSize_3 - 1) == 0;
    goto L33;
}



procedure {:origName "FatWaitSync"} FatWaitSync(actual_IrpContext_88: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatWaitSync"} FatWaitSync(actual_IrpContext_88: int)
{
  var {:pointer} Tmp_1663: int;
  var {:pointer} IrpContext_88: int;
  var vslice_dummy_var_264: int;
  var vslice_dummy_var_265: int;

  anon0:
    call {:si_unique_call 1869} vslice_dummy_var_264 := __HAVOC_malloc(4);
    IrpContext_88 := actual_IrpContext_88;
    assume {:nonnull} IrpContext_88 != 0;
    assume IrpContext_88 > 0;
    call {:si_unique_call 1870} vslice_dummy_var_265 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} IrpContext_88 != 0;
    assume IrpContext_88 > 0;
    havoc Tmp_1663;
    assume {:nonnull} Tmp_1663 != 0;
    assume Tmp_1663 > 0;
    call {:si_unique_call 1871} KeClearEvent(SyncEvent_unnamed_tag_63(Wait__FAT_IO_CONTEXT(Tmp_1663)));
    return;
}



procedure {:origName "FatMapUserBuffer"} FatMapUserBuffer(actual_IrpContext_89: int, actual_Irp_30: int) returns (Tmp_1664: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMapUserBuffer"} FatMapUserBuffer(actual_IrpContext_89: int, actual_Irp_30: int) returns (Tmp_1664: int)
{
  var {:pointer} Address_3: int;
  var {:pointer} Irp_30: int;

  anon0:
    Irp_30 := actual_Irp_30;
    assume {:nonnull} Irp_30 != 0;
    assume Irp_30 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    call {:si_unique_call 1872} Address_3 := sdv_MmGetSystemAddressForMdlSafe(0, 16);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} Address_3 != 0;
    goto L14;

  L14:
    Tmp_1664 := Address_3;
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:partition} Address_3 == 0;
    call {:si_unique_call 1873} ExRaiseStatus(-1073741670);
    goto L14;

  anon5_Then:
    assume {:nonnull} Irp_30 != 0;
    assume Irp_30 > 0;
    havoc Tmp_1664;
    goto L1;
}



procedure {:origName "FatSingleNonAlignedSync"} FatSingleNonAlignedSync(actual_IrpContext_90: int, actual_Vcb_50: int, actual_Buffer_21: int, actual_Lbo_8: int, actual_ByteCount_16: int, actual_Irp_31: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSingleNonAlignedSync"} FatSingleNonAlignedSync(actual_IrpContext_90: int, actual_Vcb_50: int, actual_Buffer_21: int, actual_Lbo_8: int, actual_ByteCount_16: int, actual_Irp_31: int)
{
  var {:pointer} Mdl_7: int;
  var {:pointer} IrpSp_12: int;
  var {:pointer} SavedMdl_1: int;
  var {:scalar} sdv_976: int;
  var {:pointer} sdv_978: int;
  var {:pointer} IrpContext_90: int;
  var {:pointer} Vcb_50: int;
  var {:scalar} Lbo_8: int;
  var {:scalar} ByteCount_16: int;
  var {:pointer} Irp_31: int;
  var vslice_dummy_var_266: int;
  var vslice_dummy_var_267: int;
  var vslice_dummy_var_183: int;
  var vslice_dummy_var_184: int;

  anon0:
    call {:si_unique_call 1874} vslice_dummy_var_266 := __HAVOC_malloc(4);
    IrpContext_90 := actual_IrpContext_90;
    Vcb_50 := actual_Vcb_50;
    Lbo_8 := actual_Lbo_8;
    ByteCount_16 := actual_ByteCount_16;
    Irp_31 := actual_Irp_31;
    assume {:nonnull} Irp_31 != 0;
    assume Irp_31 > 0;
    havoc SavedMdl_1;
    assume {:nonnull} Irp_31 != 0;
    assume Irp_31 > 0;
    call {:si_unique_call 1875} Mdl_7 := IoAllocateMdl(0, ByteCount_16, 0, 0, 0);
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Mdl_7 != 0;
    goto L14;

  L14:
    call {:si_unique_call 1876} MmProbeAndLockPages(0, 0, 1);
    call {:si_unique_call 1877} sdv_976 := sdv_AbnormalTermination();
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} sdv_976 != 0;
    call {:si_unique_call 1878} IoFreeMdl(0);
    assume {:nonnull} Irp_31 != 0;
    assume Irp_31 > 0;
    goto L29;

  L29:
    assume {:nonnull} IrpContext_90 != 0;
    assume IrpContext_90 > 0;
    havoc vslice_dummy_var_183;
    call {:si_unique_call 1879} sdv_IoSetCompletionRoutine(Irp_31, li2bplFunctionConstant735, vslice_dummy_var_183, 1, 1, 1);
    call {:si_unique_call 1880} IrpSp_12 := sdv_IoGetNextIrpStackLocation(Irp_31);
    assume {:nonnull} IrpContext_90 != 0;
    assume IrpContext_90 > 0;
    assume {:nonnull} IrpSp_12 != 0;
    assume IrpSp_12 > 0;
    assume {:nonnull} IrpSp_12 != 0;
    assume IrpSp_12 > 0;
    assume {:nonnull} IrpSp_12 != 0;
    assume IrpSp_12 > 0;
    call {:si_unique_call 1881} sdv_978 := sdv_KeGetCurrentThread();
    assume {:nonnull} Vcb_50 != 0;
    assume Vcb_50 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} IrpSp_12 != 0;
    assume IrpSp_12 > 0;
    goto L47;

  L47:
    assume {:nonnull} Vcb_50 != 0;
    assume Vcb_50 > 0;
    havoc vslice_dummy_var_184;
    call {:si_unique_call 1882} vslice_dummy_var_267 := sdv_IoCallDriver(vslice_dummy_var_184, Irp_31);
    call {:si_unique_call 1883} FatWaitSync(IrpContext_90);
    call {:si_unique_call 1884} MmUnlockPages(0);
    call {:si_unique_call 1885} IoFreeMdl(0);
    assume {:nonnull} Irp_31 != 0;
    assume Irp_31 > 0;
    return;

  anon9_Then:
    goto L47;

  anon8_Then:
    assume {:partition} sdv_976 == 0;
    goto L29;

  anon7_Then:
    assume {:partition} Mdl_7 == 0;
    assume {:nonnull} Irp_31 != 0;
    assume Irp_31 > 0;
    assume {:nonnull} IrpContext_90 != 0;
    assume IrpContext_90 > 0;
    call {:si_unique_call 1886} ExRaiseStatus(-1073741670);
    goto L14;
}



procedure {:origName "FatLockUserBuffer"} FatLockUserBuffer(actual_IrpContext_91: int, actual_Irp_32: int, actual_Operation_1: int, actual_BufferLength: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLockUserBuffer"} FatLockUserBuffer(actual_IrpContext_91: int, actual_Irp_32: int, actual_Operation_1: int, actual_BufferLength: int)
{
  var {:pointer} Mdl_8: int;
  var {:pointer} IrpContext_91: int;
  var {:pointer} Irp_32: int;
  var {:scalar} Operation_1: int;
  var {:scalar} BufferLength: int;
  var vslice_dummy_var_268: int;
  var vslice_dummy_var_185: int;

  anon0:
    call {:si_unique_call 1887} vslice_dummy_var_268 := __HAVOC_malloc(4);
    IrpContext_91 := actual_IrpContext_91;
    Irp_32 := actual_Irp_32;
    Operation_1 := actual_Operation_1;
    BufferLength := actual_BufferLength;
    Mdl_8 := 0;
    assume {:nonnull} Irp_32 != 0;
    assume Irp_32 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    call {:si_unique_call 1888} Mdl_8 := IoAllocateMdl(0, BufferLength, 0, 0, 0);
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} Mdl_8 != 0;
    goto L12;

  L12:
    assume {:nonnull} Irp_32 != 0;
    assume Irp_32 > 0;
    havoc vslice_dummy_var_185;
    call {:si_unique_call 1889} MmProbeAndLockPages(0, vslice_dummy_var_185, Operation_1);
    goto L1;

  L1:
    return;

  anon5_Then:
    assume {:partition} Mdl_8 == 0;
    assume {:nonnull} IrpContext_91 != 0;
    assume IrpContext_91 > 0;
    call {:si_unique_call 1890} ExRaiseStatus(-1073741670);
    goto L12;

  anon6_Then:
    goto L1;
}



procedure {:origName "FatForceCacheMiss"} FatForceCacheMiss(actual_IrpContext_92: int, actual_Fcb_31: int, actual_FlushType: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatForceCacheMiss"} FatForceCacheMiss(actual_IrpContext_92: int, actual_Fcb_31: int, actual_FlushType: int)
{
  var {:pointer} Links_2: int;
  var {:scalar} ChildrenAcquired: int;
  var {:scalar} DataSectionExists: int;
  var {:pointer} Tmp_1670: int;
  var {:pointer} Tmp_1671: int;
  var {:scalar} sdv_987: int;
  var {:pointer} sdv_988: int;
  var {:pointer} Vcb_51: int;
  var {:pointer} Links_3: int;
  var {:scalar} ImageSectionExists: int;
  var {:pointer} sdv_991: int;
  var {:pointer} TempFcb_2: int;
  var {:pointer} Section: int;
  var {:pointer} IrpContext_92: int;
  var {:pointer} Fcb_31: int;
  var {:scalar} FlushType: int;
  var vslice_dummy_var_269: int;
  var vslice_dummy_var_270: int;
  var vslice_dummy_var_271: int;
  var vslice_dummy_var_272: int;
  var vslice_dummy_var_273: int;
  var vslice_dummy_var_274: int;

  anon0:
    call {:si_unique_call 1891} vslice_dummy_var_269 := __HAVOC_malloc(4);
    IrpContext_92 := actual_IrpContext_92;
    Fcb_31 := actual_Fcb_31;
    FlushType := actual_FlushType;
    ChildrenAcquired := 0;
    assume {:nonnull} IrpContext_92 != 0;
    assume IrpContext_92 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    goto L8;

  L8:
    Tmp_1671 := Fcb_31;
    assume {:nonnull} Tmp_1671 != 0;
    assume Tmp_1671 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} Mem_T.INT4[Tmp_1671] != 1282;
    call {:si_unique_call 1892} sdv_987 := sdv_IsListEmpty(0);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} sdv_987 == 0;
    ChildrenAcquired := 1;
    assume {:nonnull} Fcb_31 != 0;
    assume Fcb_31 > 0;
    havoc Links_2;
    goto L20;

  L20:
    call {:si_unique_call 1893} Links_2, sdv_988, TempFcb_2, vslice_dummy_var_274 := FatForceCacheMiss_loop_L20(Links_2, sdv_988, TempFcb_2, IrpContext_92, vslice_dummy_var_274);
    goto L20_last;

  L20_last:
    goto anon34_Then, anon34_Else;

  anon34_Else:
    call {:si_unique_call 1894} sdv_988 := sdv_containing_record(Links_2, 72);
    TempFcb_2 := sdv_988;
    call {:si_unique_call 1895} vslice_dummy_var_274 := FatAcquireExclusiveFcb(IrpContext_92, TempFcb_2);
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Links_2 != 0;
    assume Links_2 > 0;
    havoc Links_2;
    goto anon48_Else_dummy;

  anon48_Else_dummy:
    assume false;
    return;

  anon48_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon34_Then:
    goto L9;

  L9:
    call {:si_unique_call 1896} vslice_dummy_var_270 := FatAcquireExclusiveFcb(IrpContext_92, Fcb_31);
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_31 != 0;
    assume Fcb_31 > 0;
    havoc Vcb_51;
    assume {:nonnull} Fcb_31 != 0;
    assume Fcb_31 > 0;
    assume {:nonnull} Vcb_51 != 0;
    assume Vcb_51 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} FlushType != 0;
    call {:si_unique_call 1897} vslice_dummy_var_271 := FatFlushFile(IrpContext_92, Fcb_31, FlushType);
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} yogi_error != 1;
    goto L36;

  L36:
    assume {:nonnull} Vcb_51 != 0;
    assume Vcb_51 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    goto L59;

  L59:
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} ChildrenAcquired != 0;
    assume {:nonnull} Fcb_31 != 0;
    assume Fcb_31 > 0;
    havoc Links_3;
    goto L64;

  L64:
    call {:si_unique_call 1898} Links_3, sdv_991 := FatForceCacheMiss_loop_L64(Links_3, sdv_991);
    goto L64_last;

  L64_last:
    goto anon38_Then, anon38_Else;

  anon38_Else:
    call {:si_unique_call 1899} sdv_991 := sdv_containing_record(Links_3, 72);
    call {:si_unique_call 1900} ExReleaseResourceLite(0);
    assume {:nonnull} Links_3 != 0;
    assume Links_3 > 0;
    havoc Links_3;
    goto anon38_Else_dummy;

  anon38_Else_dummy:
    assume false;
    return;

  anon38_Then:
    goto L60;

  L60:
    assume {:nonnull} Vcb_51 != 0;
    assume Vcb_51 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} Fcb_31 != 0;
    assume Fcb_31 > 0;
    call {:si_unique_call 1901} ExReleaseResourceLite(0);
    goto L1;

  L1:
    goto LM2;

  anon37_Then:
    goto L1;

  anon36_Then:
    assume {:partition} ChildrenAcquired == 0;
    goto L60;

  anon35_Then:
    assume {:nonnull} Fcb_31 != 0;
    assume Fcb_31 > 0;
    havoc Tmp_1670;
    assume {:nonnull} Tmp_1670 != 0;
    assume Tmp_1670 > 0;
    Section := SectionObjectPointers__NON_PAGED_FCB(Tmp_1670);
    assume {:nonnull} Section != 0;
    assume Section > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    DataSectionExists := 0;
    goto L117;

  L117:
    assume {:nonnull} Section != 0;
    assume Section > 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    ImageSectionExists := 0;
    goto L120;

  L120:
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} ImageSectionExists != 0;
    call {:si_unique_call 1902} vslice_dummy_var_272 := corral_nondet();
    goto L80;

  L80:
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} DataSectionExists != 0;
    call {:si_unique_call 1903} vslice_dummy_var_273 := corral_nondet();
    goto L59;

  anon39_Then:
    assume {:partition} DataSectionExists == 0;
    goto L59;

  anon47_Then:
    assume {:partition} ImageSectionExists == 0;
    goto L80;

  anon46_Then:
    ImageSectionExists := 1;
    goto L120;

  anon45_Then:
    DataSectionExists := 1;
    goto L117;

  anon44_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon43_Then:
    assume {:partition} FlushType == 0;
    goto L36;

  anon42_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon33_Then:
    assume {:partition} sdv_987 != 0;
    goto L9;

  anon41_Then:
    assume {:partition} Mem_T.INT4[Tmp_1671] == 1282;
    goto L9;

  anon40_Then:
    assume {:nonnull} IrpContext_92 != 0;
    assume IrpContext_92 > 0;
    call {:si_unique_call 1904} ExRaiseStatus(-1073741608);
    goto L8;
}



procedure {:origName "FatSetFileObject"} FatSetFileObject(actual_FileObject_32: int, actual_TypeOfOpen_3: int, actual_VcbOrFcbOrDcb: int, actual_Ccb_15: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetFileObject"} FatSetFileObject(actual_FileObject_32: int, actual_TypeOfOpen_3: int, actual_VcbOrFcbOrDcb: int, actual_Ccb_15: int)
{
  var {:pointer} Tmp_1674: int;
  var {:pointer} Tmp_1677: int;
  var {:pointer} Tmp_1678: int;
  var {:pointer} Tmp_1679: int;
  var {:pointer} Tmp_1680: int;
  var {:pointer} FileObject_32: int;
  var {:pointer} VcbOrFcbOrDcb: int;
  var {:pointer} Ccb_15: int;
  var vslice_dummy_var_275: int;

  anon0:
    call {:si_unique_call 1905} vslice_dummy_var_275 := __HAVOC_malloc(4);
    FileObject_32 := actual_FileObject_32;
    VcbOrFcbOrDcb := actual_VcbOrFcbOrDcb;
    Ccb_15 := actual_Ccb_15;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} VcbOrFcbOrDcb != 0;
    Tmp_1674 := VcbOrFcbOrDcb;
    assume {:nonnull} Tmp_1674 != 0;
    assume Tmp_1674 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} Mem_T.INT4[Tmp_1674] == 1281;
    Tmp_1678 := VcbOrFcbOrDcb;
    assume {:nonnull} FileObject_32 != 0;
    assume FileObject_32 > 0;
    assume {:nonnull} Tmp_1678 != 0;
    assume Tmp_1678 > 0;
    goto L4;

  L4:
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} FileObject_32 != 0;
    assume {:nonnull} FileObject_32 != 0;
    assume FileObject_32 > 0;
    assume {:nonnull} FileObject_32 != 0;
    assume FileObject_32 > 0;
    goto L1;

  L1:
    return;

  anon10_Then:
    assume {:partition} FileObject_32 == 0;
    goto L1;

  anon11_Then:
    assume {:partition} Mem_T.INT4[Tmp_1674] != 1281;
    Tmp_1677 := VcbOrFcbOrDcb;
    assume {:nonnull} Tmp_1677 != 0;
    assume Tmp_1677 > 0;
    havoc Tmp_1680;
    assume {:nonnull} FileObject_32 != 0;
    assume FileObject_32 > 0;
    assume {:nonnull} Tmp_1680 != 0;
    assume Tmp_1680 > 0;
    Tmp_1679 := VcbOrFcbOrDcb;
    assume {:nonnull} Tmp_1679 != 0;
    assume Tmp_1679 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:nonnull} FileObject_32 != 0;
    assume FileObject_32 > 0;
    goto L4;

  anon12_Then:
    goto L4;

  anon9_Then:
    assume {:partition} VcbOrFcbOrDcb == 0;
    goto L4;
}



procedure {:origName "FatPurgeReferencedFileObjects"} FatPurgeReferencedFileObjects(actual_IrpContext_93: int, actual_Fcb_32: int, actual_FlushType_1: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPurgeReferencedFileObjects"} FatPurgeReferencedFileObjects(actual_IrpContext_93: int, actual_Fcb_32: int, actual_FlushType_1: int)
{
  var {:pointer} NextFcb_2: int;
  var {:pointer} OriginalFcb: int;
  var {:pointer} IrpContext_93: int;
  var {:pointer} Fcb_32: int;
  var {:scalar} FlushType_1: int;
  var vslice_dummy_var_276: int;
  var vslice_dummy_var_186: int;

  anon0:
    call {:si_unique_call 1906} vslice_dummy_var_276 := __HAVOC_malloc(4);
    IrpContext_93 := actual_IrpContext_93;
    Fcb_32 := actual_Fcb_32;
    FlushType_1 := actual_FlushType_1;
    OriginalFcb := Fcb_32;
    assume {:nonnull} Fcb_32 != 0;
    assume Fcb_32 > 0;
    havoc vslice_dummy_var_186;
    call {:si_unique_call 1907} FatFspClose#1(vslice_dummy_var_186);
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} yogi_error != 1;
    goto L9;

  L9:
    call {:si_unique_call 1908} NextFcb_2, Fcb_32 := FatPurgeReferencedFileObjects_loop_L9(NextFcb_2, OriginalFcb, IrpContext_93, Fcb_32, FlushType_1);
    goto L9_last;

  L9_last:
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Fcb_32 != 0;
    call {:si_unique_call 1909} NextFcb_2 := FatGetNextFcbTopDown(IrpContext_93, Fcb_32, OriginalFcb);
    assume {:nonnull} Fcb_32 != 0;
    assume Fcb_32 > 0;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    goto L19;

  L19:
    Fcb_32 := NextFcb_2;
    goto L19_dummy;

  L19_dummy:
    assume false;
    return;

  anon10_Then:
    call {:si_unique_call 1910} FatForceCacheMiss(IrpContext_93, Fcb_32, FlushType_1);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} yogi_error != 1;
    goto L19;

  anon12_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon9_Then:
    assume {:partition} Fcb_32 == 0;
    goto LM2;

  anon11_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatDecodeFileObject"} FatDecodeFileObject(actual_FileObject_33: int, actual_Vcb_52: int, actual_FcbOrDcb_6: int, actual_Ccb_16: int) returns (Tmp_1683: int);
  modifies alloc;
  free ensures {:va_keep} alloc == old(alloc);
  free ensures {:va_keep} Tmp_1683 == 3 || Tmp_1683 == 6 || Tmp_1683 == 2 || Tmp_1683 == 7 || Tmp_1683 == 4 || Tmp_1683 == 5 || Tmp_1683 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDecodeFileObject"} FatDecodeFileObject(actual_FileObject_33: int, actual_Vcb_52: int, actual_FcbOrDcb_6: int, actual_Ccb_16: int) returns (Tmp_1683: int)
{
  var {:pointer} FsContext2: int;
  var {:pointer} Tmp_1684: int;
  var {:pointer} Tmp_1685: int;
  var {:scalar} Tmp_1686: int;
  var {:scalar} TypeOfOpen_4: int;
  var {:scalar} Tmp_1687: int;
  var {:pointer} Tmp_1688: int;
  var {:scalar} Tmp_1689: int;
  var {:pointer} FsContext_1: int;
  var {:scalar} Tmp_1691: int;
  var {:pointer} Tmp_1692: int;
  var {:pointer} FileObject_33: int;
  var {:pointer} Vcb_52: int;
  var {:pointer} FcbOrDcb_6: int;
  var {:pointer} Ccb_16: int;

  anon0:
    FileObject_33 := actual_FileObject_33;
    Vcb_52 := actual_Vcb_52;
    FcbOrDcb_6 := actual_FcbOrDcb_6;
    Ccb_16 := actual_Ccb_16;
    assume {:nonnull} FileObject_33 != 0;
    assume FileObject_33 > 0;
    havoc FsContext_1;
    assume {:nonnull} FileObject_33 != 0;
    assume FileObject_33 > 0;
    havoc FsContext2;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} FsContext_1 != 0;
    Tmp_1685 := FsContext_1;
    assume {:nonnull} Tmp_1685 != 0;
    assume Tmp_1685 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Mem_T.INT4[Tmp_1685] != 1281;
    assume {:nonnull} Tmp_1685 != 0;
    assume Tmp_1685 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Mem_T.INT4[Tmp_1685] != 1282;
    assume {:nonnull} Tmp_1685 != 0;
    assume Tmp_1685 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} Mem_T.INT4[Tmp_1685] != 1283;
    assume {:nonnull} Tmp_1685 != 0;
    assume Tmp_1685 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} Mem_T.INT4[Tmp_1685] == 1284;
    goto L14;

  L14:
    assume {:nonnull} Ccb_16 != 0;
    assume Ccb_16 > 0;
    assume {:nonnull} FcbOrDcb_6 != 0;
    assume FcbOrDcb_6 > 0;
    assume {:nonnull} FcbOrDcb_6 != 0;
    assume FcbOrDcb_6 > 0;
    havoc Tmp_1684;
    assume {:nonnull} Tmp_1684 != 0;
    assume Tmp_1684 > 0;
    assume {:nonnull} Vcb_52 != 0;
    assume Vcb_52 > 0;
    assume {:nonnull} Ccb_16 != 0;
    assume Ccb_16 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    Tmp_1689 := 3;
    goto L20;

  L20:
    TypeOfOpen_4 := Tmp_1689;
    goto L22;

  L22:
    Tmp_1683 := TypeOfOpen_4;
    return;

  anon24_Then:
    Tmp_1689 := 6;
    goto L20;

  anon17_Then:
    assume {:partition} Mem_T.INT4[Tmp_1685] != 1284;
    Tmp_1688 := FsContext_1;
    assume {:nonnull} Tmp_1688 != 0;
    assume Tmp_1688 > 0;
    Tmp_1687 := Mem_T.INT4[Tmp_1688];
    call {:si_unique_call 1911} KeBugCheckEx(35, 1114415, Tmp_1687, 0, 0);
    goto L22;

  anon18_Then:
    assume {:partition} Mem_T.INT4[Tmp_1685] == 1283;
    goto L14;

  anon19_Then:
    assume {:partition} Mem_T.INT4[Tmp_1685] == 1282;
    assume {:nonnull} Ccb_16 != 0;
    assume Ccb_16 > 0;
    assume {:nonnull} FcbOrDcb_6 != 0;
    assume FcbOrDcb_6 > 0;
    assume {:nonnull} FcbOrDcb_6 != 0;
    assume FcbOrDcb_6 > 0;
    havoc Tmp_1692;
    assume {:nonnull} Tmp_1692 != 0;
    assume Tmp_1692 > 0;
    assume {:nonnull} Vcb_52 != 0;
    assume Vcb_52 > 0;
    assume {:nonnull} Ccb_16 != 0;
    assume Ccb_16 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    Tmp_1691 := 2;
    goto L28;

  L28:
    TypeOfOpen_4 := Tmp_1691;
    goto L22;

  anon23_Then:
    Tmp_1691 := 7;
    goto L28;

  anon21_Then:
    assume {:partition} Mem_T.INT4[Tmp_1685] == 1281;
    assume {:nonnull} Ccb_16 != 0;
    assume Ccb_16 > 0;
    assume {:nonnull} FcbOrDcb_6 != 0;
    assume FcbOrDcb_6 > 0;
    assume {:nonnull} Vcb_52 != 0;
    assume Vcb_52 > 0;
    assume {:nonnull} Ccb_16 != 0;
    assume Ccb_16 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    Tmp_1686 := 4;
    goto L35;

  L35:
    TypeOfOpen_4 := Tmp_1686;
    goto L22;

  anon22_Then:
    Tmp_1686 := 5;
    goto L35;

  anon20_Then:
    assume {:partition} FsContext_1 == 0;
    assume {:nonnull} Ccb_16 != 0;
    assume Ccb_16 > 0;
    assume {:nonnull} FcbOrDcb_6 != 0;
    assume FcbOrDcb_6 > 0;
    assume {:nonnull} Vcb_52 != 0;
    assume Vcb_52 > 0;
    TypeOfOpen_4 := 1;
    goto L22;
}



procedure {:origName "_sdv_init9"} _sdv_init9();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init9"} _sdv_init9()
{
  var vslice_dummy_var_277: int;

  anon0:
    call {:si_unique_call 1912} vslice_dummy_var_277 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatGetVolumeBitmap"} FatGetVolumeBitmap(actual_IrpContext_94: int, actual_Irp_33: int) returns (Tmp_1695: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_current == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetVolumeBitmap"} FatGetVolumeBitmap(actual_IrpContext_94: int, actual_Irp_33: int) returns (Tmp_1695: int)
{
  var {:scalar} TotalClusters: int;
  var {:pointer} Ccb_17: int;
  var {:pointer} Fcb_33: int;
  var {:scalar} EndingCluster: int;
  var {:pointer} Tmp_1697: int;
  var {:scalar} Status_24: int;
  var {:pointer} OutputBuffer_2: int;
  var {:scalar} Tmp_1698: int;
  var {:scalar} Tmp_1699: int;
  var {:pointer} IrpSp_13: int;
  var {:pointer} Tmp_1700: int;
  var {:scalar} sdv_997: int;
  var {:scalar} StartingCluster_1: int;
  var {:pointer} sdv_998: int;
  var {:scalar} OutputBufferLength_2: int;
  var {:pointer} Vcb_53: int;
  var {:scalar} BytesToCopy_3: int;
  var {:scalar} DesiredClusters: int;
  var {:pointer} Tmp_1702: int;
  var {:pointer} Tmp_1703: int;
  var {:scalar} InputBufferLength_1: int;
  var {:scalar} StartingLcn: int;
  var {:pointer} IrpContext_94: int;
  var {:pointer} Irp_33: int;
  var vslice_dummy_var_278: int;
  var vslice_dummy_var_187: int;
  var vslice_dummy_var_188: int;
  var vslice_dummy_var_189: int;
  var vslice_dummy_var_190: int;

  anon0:
    call {:si_unique_call 1913} Ccb_17 := __HAVOC_malloc(4);
    call {:si_unique_call 1914} Fcb_33 := __HAVOC_malloc(4);
    call {:si_unique_call 1915} Vcb_53 := __HAVOC_malloc(4);
    call {:si_unique_call 1916} StartingLcn := __HAVOC_malloc(20);
    IrpContext_94 := actual_IrpContext_94;
    Irp_33 := actual_Irp_33;
    call {:si_unique_call 1917} Tmp_1702 := __HAVOC_malloc(4);
    call {:si_unique_call 1918} Tmp_1703 := __HAVOC_malloc(4);
    call {:si_unique_call 1919} IrpSp_13 := sdv_IoGetCurrentIrpStackLocation(Irp_33);
    assume {:nonnull} IrpContext_94 != 0;
    assume IrpContext_94 > 0;
    assume {:nonnull} IrpSp_13 != 0;
    assume IrpSp_13 > 0;
    havoc vslice_dummy_var_187;
    call {:si_unique_call 1920} sdv_997 := FatDecodeFileObject(vslice_dummy_var_187, Vcb_53, Fcb_33, Ccb_17);
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} sdv_997 != 4;
    call {:si_unique_call 1921} FatCompleteRequest_Real(IrpContext_94, Irp_33, -1073741811);
    Tmp_1695 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon25_Then:
    assume {:partition} sdv_997 == 4;
    assume {:nonnull} Ccb_17 != 0;
    assume Ccb_17 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:nonnull} Ccb_17 != 0;
    assume Ccb_17 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} IrpSp_13 != 0;
    assume IrpSp_13 > 0;
    havoc InputBufferLength_1;
    assume {:nonnull} IrpSp_13 != 0;
    assume IrpSp_13 > 0;
    havoc OutputBufferLength_2;
    call {:si_unique_call 1922} sdv_998 := FatMapUserBuffer(IrpContext_94, Irp_33);
    OutputBuffer_2 := sdv_998;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} 8 > InputBufferLength_1;
    goto L43;

  L43:
    call {:si_unique_call 1923} FatCompleteRequest_Real(IrpContext_94, Irp_33, -1073741789);
    Tmp_1695 := -1073741789;
    goto L1;

  anon30_Then:
    assume {:partition} InputBufferLength_1 >= 8;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} 24 <= OutputBufferLength_2;
    assume {:nonnull} Vcb_53 != 0;
    assume Vcb_53 > 0;
    havoc TotalClusters;
    assume {:nonnull} Irp_33 != 0;
    assume Irp_33 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    call {:si_unique_call 1924} ProbeForRead(0, InputBufferLength_1, 1);
    call {:si_unique_call 1925} ProbeForWrite(0, OutputBufferLength_2, 1);
    goto L49;

  L49:
    assume {:nonnull} IrpSp_13 != 0;
    assume IrpSp_13 > 0;
    havoc Tmp_1697;
    assume {:nonnull} StartingLcn != 0;
    assume StartingLcn > 0;
    assume {:nonnull} Tmp_1697 != 0;
    assume Tmp_1697 > 0;
    assume {:nonnull} StartingLcn != 0;
    assume StartingLcn > 0;
    assume {:nonnull} Tmp_1697 != 0;
    assume Tmp_1697 > 0;
    assume {:nonnull} StartingLcn != 0;
    assume StartingLcn > 0;
    assume {:nonnull} Tmp_1697 != 0;
    assume Tmp_1697 > 0;
    assume {:nonnull} StartingLcn != 0;
    assume StartingLcn > 0;
    assume {:nonnull} Tmp_1697 != 0;
    assume Tmp_1697 > 0;
    assume {:nonnull} StartingLcn != 0;
    assume StartingLcn > 0;
    assume {:nonnull} Tmp_1697 != 0;
    assume Tmp_1697 > 0;
    assume {:nonnull} StartingLcn != 0;
    assume StartingLcn > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    goto L79;

  L79:
    call {:si_unique_call 1926} FatCompleteRequest_Real(IrpContext_94, Irp_33, -1073741811);
    Tmp_1695 := -1073741811;
    goto L1;

  anon32_Then:
    assume {:nonnull} StartingLcn != 0;
    assume StartingLcn > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:nonnull} StartingLcn != 0;
    assume StartingLcn > 0;
    havoc StartingCluster_1;
    assume {:nonnull} Vcb_53 != 0;
    assume Vcb_53 > 0;
    havoc vslice_dummy_var_188;
    call {:si_unique_call 1927} vslice_dummy_var_278 := FatAcquireExclusiveVcb(IrpContext_94, vslice_dummy_var_188);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} yogi_error != 1;
    OutputBufferLength_2 := OutputBufferLength_2 - 16;
    DesiredClusters := TotalClusters - StartingCluster_1;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} INTDIV(DesiredClusters + 7, 8) > OutputBufferLength_2;
    BytesToCopy_3 := OutputBufferLength_2;
    Status_24 := 5;
    goto L93;

  L93:
    assume {:nonnull} Vcb_53 != 0;
    assume Vcb_53 > 0;
    havoc vslice_dummy_var_189;
    call {:si_unique_call 1928} FatQuickVerifyVcb(IrpContext_94, vslice_dummy_var_189);
    assume {:nonnull} OutputBuffer_2 != 0;
    assume OutputBuffer_2 > 0;
    assume {:nonnull} OutputBuffer_2 != 0;
    assume OutputBuffer_2 > 0;
    assume {:nonnull} Vcb_53 != 0;
    assume Vcb_53 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:nonnull} Vcb_53 != 0;
    assume Vcb_53 > 0;
    assume {:nonnull} OutputBuffer_2 != 0;
    assume OutputBuffer_2 > 0;
    havoc Tmp_1702;
    call {:si_unique_call 1929} sdv_RtlCopyMemory(0, 0, BytesToCopy_3);
    goto L123;

  L123:
    call {:si_unique_call 1930} ExReleaseResourceLite(0);
    assume {:nonnull} Irp_33 != 0;
    assume Irp_33 > 0;
    call {:si_unique_call 1931} FatCompleteRequest_Real(IrpContext_94, Irp_33, Status_24);
    Tmp_1695 := Status_24;
    goto L1;

  anon35_Then:
    EndingCluster := StartingCluster_1 + BytesToCopy_3 * 8;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} EndingCluster > TotalClusters;
    EndingCluster := TotalClusters;
    goto L141;

  L141:
    assume {:nonnull} OutputBuffer_2 != 0;
    assume OutputBuffer_2 > 0;
    havoc Tmp_1703;
    Tmp_1700 := Tmp_1703;
    Tmp_1698 := EndingCluster + 2 - 1;
    Tmp_1699 := StartingCluster_1 + 2;
    assume {:nonnull} Vcb_53 != 0;
    assume Vcb_53 > 0;
    havoc vslice_dummy_var_190;
    call {:si_unique_call 1932} FatExamineFatEntries(IrpContext_94, vslice_dummy_var_190, Tmp_1699, Tmp_1698, 0, 0, Tmp_1700);
    goto L123;

  anon36_Then:
    assume {:partition} TotalClusters >= EndingCluster;
    goto L141;

  anon34_Then:
    assume {:partition} OutputBufferLength_2 >= INTDIV(DesiredClusters + 7, 8);
    BytesToCopy_3 := INTDIV(DesiredClusters + 7, 8);
    Status_24 := 0;
    goto L93;

  anon33_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon29_Then:
    goto L79;

  anon31_Then:
    goto L49;

  anon28_Then:
    assume {:partition} OutputBufferLength_2 < 24;
    goto L43;

  anon27_Then:
    goto L31;

  L31:
    call {:si_unique_call 1933} FatCompleteRequest_Real(IrpContext_94, Irp_33, -1073741811);
    Tmp_1695 := -1073741811;
    goto L1;

  anon26_Then:
    goto L31;
}



procedure {:origName "FatComputeMoveFileSplicePoints"} FatComputeMoveFileSplicePoints(actual_IrpContext_95: int, actual_FcbOrDcb_7: int, actual_FileOffset: int, actual_TargetCluster: int, actual_BytesToReallocate: int, actual_FirstSpliceSourceCluster: int, actual_FirstSpliceTargetCluster: int, actual_SecondSpliceSourceCluster: int, actual_SecondSpliceTargetCluster: int, actual_SourceMcb: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatComputeMoveFileSplicePoints"} FatComputeMoveFileSplicePoints(actual_IrpContext_95: int, actual_FcbOrDcb_7: int, actual_FileOffset: int, actual_TargetCluster: int, actual_BytesToReallocate: int, actual_FirstSpliceSourceCluster: int, actual_FirstSpliceTargetCluster: int, actual_SecondSpliceSourceCluster: int, actual_SecondSpliceTargetCluster: int, actual_SourceMcb: int)
{
  var {:scalar} SourceMcbVbo: int;
  var {:dopa} {:scalar} SourceLbo: int;
  var {:dopa} {:scalar} SourceVbo_2: int;
  var {:scalar} SourceMcbBytesInRun: int;
  var {:scalar} SourceBytesRemaining: int;
  var {:scalar} Tmp_1706: int;
  var {:scalar} sdv_1008: int;
  var {:dopa} {:scalar} SourceIndex: int;
  var {:pointer} Vcb_54: int;
  var {:dopa} {:scalar} SourceBytesInRun: int;
  var {:scalar} Tmp_1708: int;
  var {:pointer} FcbOrDcb_7: int;
  var {:scalar} FileOffset: int;
  var {:scalar} TargetCluster: int;
  var {:scalar} BytesToReallocate: int;
  var {:pointer} FirstSpliceSourceCluster: int;
  var {:pointer} FirstSpliceTargetCluster: int;
  var {:pointer} SecondSpliceSourceCluster: int;
  var {:pointer} SecondSpliceTargetCluster: int;
  var {:pointer} SourceMcb: int;
  var boogieTmp: int;
  var vslice_dummy_var_279: int;
  var vslice_dummy_var_280: int;
  var vslice_dummy_var_281: int;
  var vslice_dummy_var_282: int;
  var vslice_dummy_var_283: int;
  var vslice_dummy_var_284: int;

  anon0:
    call {:si_unique_call 1934} SourceLbo := __HAVOC_malloc(4);
    call {:si_unique_call 1935} SourceVbo_2 := __HAVOC_malloc(4);
    call {:si_unique_call 1936} vslice_dummy_var_279 := __HAVOC_malloc(4);
    call {:si_unique_call 1937} SourceIndex := __HAVOC_malloc(4);
    call {:si_unique_call 1938} SourceBytesInRun := __HAVOC_malloc(4);
    FcbOrDcb_7 := actual_FcbOrDcb_7;
    FileOffset := actual_FileOffset;
    TargetCluster := actual_TargetCluster;
    BytesToReallocate := actual_BytesToReallocate;
    FirstSpliceSourceCluster := actual_FirstSpliceSourceCluster;
    FirstSpliceTargetCluster := actual_FirstSpliceTargetCluster;
    SecondSpliceSourceCluster := actual_SecondSpliceSourceCluster;
    SecondSpliceTargetCluster := actual_SecondSpliceTargetCluster;
    SourceMcb := actual_SourceMcb;
    assume {:nonnull} FcbOrDcb_7 != 0;
    assume FcbOrDcb_7 > 0;
    havoc Vcb_54;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} FileOffset != 0;
    Tmp_1708 := FileOffset - 1;
    assume {:nonnull} FcbOrDcb_7 != 0;
    assume FcbOrDcb_7 > 0;
    call {:si_unique_call 1939} vslice_dummy_var_281 := FatLookupMcbEntry(Vcb_54, Mcb__FCB(FcbOrDcb_7), Tmp_1708, SourceLbo, SourceBytesInRun, SourceIndex);
    assume {:nonnull} FirstSpliceSourceCluster != 0;
    assume FirstSpliceSourceCluster > 0;
    call {:si_unique_call 1940} boogieTmp := corral_nondet();
    Mem_T.INT4[FirstSpliceSourceCluster] := boogieTmp;
    assume {:nonnull} SourceBytesInRun != 0;
    assume SourceBytesInRun > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Mem_T.INT4[SourceBytesInRun] == 1;
    assume {:nonnull} SourceIndex != 0;
    assume SourceIndex > 0;
    Mem_T.INT4[SourceIndex] := Mem_T.INT4[SourceIndex] + 1;
    assume {:nonnull} FcbOrDcb_7 != 0;
    assume FcbOrDcb_7 > 0;
    assume {:nonnull} SourceIndex != 0;
    assume SourceIndex > 0;
    call {:si_unique_call 1941} vslice_dummy_var_282 := FatGetNextMcbEntry(Vcb_54, Mcb__FCB(FcbOrDcb_7), Mem_T.INT4[SourceIndex], SourceVbo_2, SourceLbo, SourceBytesInRun);
    goto L25;

  L25:
    assume {:nonnull} FirstSpliceTargetCluster != 0;
    assume FirstSpliceTargetCluster > 0;
    Mem_T.INT4[FirstSpliceTargetCluster] := TargetCluster;
    assume {:nonnull} SecondSpliceSourceCluster != 0;
    assume SecondSpliceSourceCluster > 0;
    call {:si_unique_call 1942} boogieTmp := corral_nondet();
    Mem_T.INT4[SecondSpliceSourceCluster] := boogieTmp;
    SourceBytesRemaining := BytesToReallocate;
    SourceMcbVbo := 0;
    goto L29;

  L29:
    call {:si_unique_call 1943} SourceMcbVbo, SourceMcbBytesInRun, SourceBytesRemaining, Tmp_1706, vslice_dummy_var_280, vslice_dummy_var_283 := FatComputeMoveFileSplicePoints_loop_L29(SourceMcbVbo, SourceLbo, SourceVbo_2, SourceMcbBytesInRun, SourceBytesRemaining, Tmp_1706, SourceIndex, Vcb_54, SourceBytesInRun, FcbOrDcb_7, SourceMcb, vslice_dummy_var_280, vslice_dummy_var_283);
    goto L29_last;

  L29_last:
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} SourceBytesRemaining > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} SourceMcbVbo != 0;
    assume {:nonnull} FcbOrDcb_7 != 0;
    assume FcbOrDcb_7 > 0;
    assume {:nonnull} SourceIndex != 0;
    assume SourceIndex > 0;
    call {:si_unique_call 1944} vslice_dummy_var_280 := FatGetNextMcbEntry(Vcb_54, Mcb__FCB(FcbOrDcb_7), Mem_T.INT4[SourceIndex], SourceVbo_2, SourceLbo, SourceBytesInRun);
    goto L32;

  L32:
    assume {:nonnull} SourceBytesInRun != 0;
    assume SourceBytesInRun > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} SourceBytesRemaining > Mem_T.INT4[SourceBytesInRun];
    assume {:nonnull} SourceBytesInRun != 0;
    assume SourceBytesInRun > 0;
    Tmp_1706 := Mem_T.INT4[SourceBytesInRun];
    goto L38;

  L38:
    SourceMcbBytesInRun := Tmp_1706;
    assume {:nonnull} SourceLbo != 0;
    assume SourceLbo > 0;
    call {:si_unique_call 1945} vslice_dummy_var_283 := FatAddMcbEntry(Vcb_54, SourceMcb, SourceMcbVbo, Mem_T.INT4[SourceLbo], SourceMcbBytesInRun);
    assume {:nonnull} SourceIndex != 0;
    assume SourceIndex > 0;
    Mem_T.INT4[SourceIndex] := Mem_T.INT4[SourceIndex] + 1;
    SourceBytesRemaining := SourceBytesRemaining - SourceMcbBytesInRun;
    SourceMcbVbo := SourceMcbVbo + SourceMcbBytesInRun;
    goto L38_dummy;

  L38_dummy:
    assume false;
    return;

  anon18_Then:
    assume {:partition} Mem_T.INT4[SourceBytesInRun] >= SourceBytesRemaining;
    Tmp_1706 := SourceBytesRemaining;
    goto L38;

  anon17_Then:
    assume {:partition} SourceMcbVbo == 0;
    goto L32;

  anon15_Then:
    assume {:partition} 0 >= SourceBytesRemaining;
    assume {:nonnull} SourceBytesInRun != 0;
    assume SourceBytesInRun > 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} Mem_T.INT4[SourceBytesInRun] > SourceMcbBytesInRun;
    assume {:nonnull} SecondSpliceTargetCluster != 0;
    assume SecondSpliceTargetCluster > 0;
    call {:si_unique_call 1946} boogieTmp := corral_nondet();
    Mem_T.INT4[SecondSpliceTargetCluster] := boogieTmp;
    goto L1;

  L1:
    return;

  anon16_Then:
    assume {:partition} SourceMcbBytesInRun >= Mem_T.INT4[SourceBytesInRun];
    assume {:nonnull} FcbOrDcb_7 != 0;
    assume FcbOrDcb_7 > 0;
    assume {:nonnull} SourceIndex != 0;
    assume SourceIndex > 0;
    call {:si_unique_call 1947} sdv_1008 := FatGetNextMcbEntry(Vcb_54, Mcb__FCB(FcbOrDcb_7), Mem_T.INT4[SourceIndex], SourceVbo_2, SourceLbo, SourceBytesInRun);
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} sdv_1008 != 0;
    assume {:nonnull} SecondSpliceTargetCluster != 0;
    assume SecondSpliceTargetCluster > 0;
    call {:si_unique_call 1948} boogieTmp := corral_nondet();
    Mem_T.INT4[SecondSpliceTargetCluster] := boogieTmp;
    goto L1;

  anon19_Then:
    assume {:partition} sdv_1008 == 0;
    assume {:nonnull} SecondSpliceTargetCluster != 0;
    assume SecondSpliceTargetCluster > 0;
    Mem_T.INT4[SecondSpliceTargetCluster] := 268435455;
    goto L1;

  anon21_Then:
    assume {:partition} Mem_T.INT4[SourceBytesInRun] != 1;
    assume {:nonnull} SourceVbo_2 != 0;
    assume SourceVbo_2 > 0;
    Mem_T.INT4[SourceVbo_2] := FileOffset;
    assume {:nonnull} SourceLbo != 0;
    assume SourceLbo > 0;
    Mem_T.INT4[SourceLbo] := Mem_T.INT4[SourceLbo] + 1;
    assume {:nonnull} SourceBytesInRun != 0;
    assume SourceBytesInRun > 0;
    Mem_T.INT4[SourceBytesInRun] := Mem_T.INT4[SourceBytesInRun] - 1;
    goto L25;

  anon20_Then:
    assume {:partition} FileOffset == 0;
    assume {:nonnull} SourceIndex != 0;
    assume SourceIndex > 0;
    Mem_T.INT4[SourceIndex] := 0;
    assume {:nonnull} FirstSpliceSourceCluster != 0;
    assume FirstSpliceSourceCluster > 0;
    Mem_T.INT4[FirstSpliceSourceCluster] := 0;
    assume {:nonnull} FcbOrDcb_7 != 0;
    assume FcbOrDcb_7 > 0;
    call {:si_unique_call 1949} vslice_dummy_var_284 := FatGetNextMcbEntry(Vcb_54, Mcb__FCB(FcbOrDcb_7), 0, SourceVbo_2, SourceLbo, SourceBytesInRun);
    goto L25;
}



procedure {:origName "FatAddMcbEntry"} FatAddMcbEntry(actual_Vcb_55: int, actual_Mcb_4: int, actual_Vbo_8: int, actual_Lbo_9: int, actual_SectorCount: int) returns (Tmp_1709: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAddMcbEntry"} FatAddMcbEntry(actual_Vcb_55: int, actual_Mcb_4: int, actual_Vbo_8: int, actual_Lbo_9: int, actual_SectorCount: int) returns (Tmp_1709: int)
{
  var {:scalar} Vbo_8: int;
  var {:scalar} SectorCount: int;
  var vslice_dummy_var_285: int;

  anon0:
    Vbo_8 := actual_Vbo_8;
    SectorCount := actual_SectorCount;
    call {:si_unique_call 1950} sdv_do_paged_code_check();
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:partition} SectorCount != 0;
    SectorCount := SectorCount - 1;
    call {:si_unique_call 1951} SectorCount := corral_nondet();
    SectorCount := SectorCount + 1;
    goto L7;

  L7:
    call {:si_unique_call 1952} Vbo_8 := corral_nondet();
    call {:si_unique_call 1953} vslice_dummy_var_285 := corral_nondet();
    call {:si_unique_call 1954} Tmp_1709 := corral_nondet();
    return;

  anon3_Then:
    assume {:partition} SectorCount == 0;
    goto L7;
}



procedure {:origName "FatQueryRetrievalPointers"} FatQueryRetrievalPointers(actual_IrpContext_96: int, actual_Irp_34: int) returns (Tmp_1713: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_current == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryRetrievalPointers"} FatQueryRetrievalPointers(actual_IrpContext_96: int, actual_Irp_34: int) returns (Tmp_1713: int)
{
  var {:scalar} i_14: int;
  var {:pointer} MappingPairs: int;
  var {:pointer} Tmp_1714: int;
  var {:dopa} {:scalar} SectorCount_1: int;
  var {:pointer} Ccb_18: int;
  var {:dopa} {:scalar} Lbo_10: int;
  var {:pointer} Fcb_34: int;
  var {:scalar} Tmp_1715: int;
  var {:dopa} {:scalar} Vbo_9: int;
  var {:pointer} Tmp_1716: int;
  var {:scalar} Status_25: int;
  var {:scalar} Tmp_1717: int;
  var {:scalar} Tmp_1718: int;
  var {:pointer} RequestedMapSize: int;
  var {:pointer} IrpSp_14: int;
  var {:scalar} Tmp_1720: int;
  var {:scalar} sdv_1016: int;
  var {:scalar} MapSize: int;
  var {:pointer} Vcb_56: int;
  var {:scalar} Tmp_1721: int;
  var {:pointer} sdv_1017: int;
  var {:pointer} Tmp_1722: int;
  var {:dopa} {:scalar} Index_3: int;
  var {:pointer} IrpContext_96: int;
  var {:pointer} Irp_34: int;
  var vslice_dummy_var_286: int;
  var vslice_dummy_var_287: int;
  var vslice_dummy_var_288: int;
  var vslice_dummy_var_289: int;
  var vslice_dummy_var_191: int;
  var vslice_dummy_var_192: int;
  var vslice_dummy_var_193: int;
  var vslice_dummy_var_194: int;
  var vslice_dummy_var_195: int;
  var vslice_dummy_var_196: int;
  var vslice_dummy_var_197: int;

  anon0:
    call {:si_unique_call 1955} SectorCount_1 := __HAVOC_malloc(4);
    call {:si_unique_call 1956} Ccb_18 := __HAVOC_malloc(4);
    call {:si_unique_call 1957} Lbo_10 := __HAVOC_malloc(4);
    call {:si_unique_call 1958} Fcb_34 := __HAVOC_malloc(4);
    call {:si_unique_call 1959} Vbo_9 := __HAVOC_malloc(4);
    call {:si_unique_call 1960} Vcb_56 := __HAVOC_malloc(4);
    call {:si_unique_call 1961} Index_3 := __HAVOC_malloc(4);
    IrpContext_96 := actual_IrpContext_96;
    Irp_34 := actual_Irp_34;
    call {:si_unique_call 1962} IrpSp_14 := sdv_IoGetCurrentIrpStackLocation(Irp_34);
    assume {:nonnull} IrpContext_96 != 0;
    assume IrpContext_96 > 0;
    assume {:nonnull} IrpSp_14 != 0;
    assume IrpSp_14 > 0;
    havoc vslice_dummy_var_191;
    call {:si_unique_call 1963} vslice_dummy_var_287 := FatDecodeFileObject(vslice_dummy_var_191, Vcb_56, Fcb_34, Ccb_18);
    assume {:nonnull} Irp_34 != 0;
    assume Irp_34 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    goto L26;

  L26:
    call {:si_unique_call 1964} FatCompleteRequest_Real(IrpContext_96, Irp_34, -1073741811);
    Tmp_1713 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon17_Then:
    assume {:nonnull} Fcb_34 != 0;
    assume Fcb_34 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:nonnull} Fcb_34 != 0;
    assume Fcb_34 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} IrpSp_14 != 0;
    assume IrpSp_14 > 0;
    havoc RequestedMapSize;
    assume {:nonnull} Irp_34 != 0;
    assume Irp_34 > 0;
    havoc MappingPairs;
    assume {:nonnull} Fcb_34 != 0;
    assume Fcb_34 > 0;
    havoc vslice_dummy_var_192;
    call {:si_unique_call 1965} vslice_dummy_var_288 := FatAcquireExclusiveFcb(IrpContext_96, vslice_dummy_var_192);
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_34 != 0;
    assume Fcb_34 > 0;
    havoc vslice_dummy_var_193;
    call {:si_unique_call 1966} FatVerifyFcb(IrpContext_96, vslice_dummy_var_193);
    assume {:nonnull} Fcb_34 != 0;
    assume Fcb_34 > 0;
    assume {:nonnull} RequestedMapSize != 0;
    assume RequestedMapSize > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    Status_25 := -1073741811;
    goto L53;

  L53:
    call {:si_unique_call 1967} ExReleaseResourceLite(0);
    call {:si_unique_call 1968} sdv_1016 := sdv_AbnormalTermination();
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} sdv_1016 != 0;
    goto L63;

  L63:
    Tmp_1713 := Status_25;
    goto L1;

  anon21_Then:
    assume {:partition} sdv_1016 == 0;
    call {:si_unique_call 1969} FatCompleteRequest_Real(IrpContext_96, Irp_34, Status_25);
    goto L63;

  anon20_Then:
    assume {:nonnull} RequestedMapSize != 0;
    assume RequestedMapSize > 0;
    havoc Tmp_1715;
    assume {:nonnull} Fcb_34 != 0;
    assume Fcb_34 > 0;
    havoc vslice_dummy_var_194;
    havoc vslice_dummy_var_195;
    call {:si_unique_call 1970} vslice_dummy_var_289 := FatLookupMcbEntry(vslice_dummy_var_194, vslice_dummy_var_195, Tmp_1715, Lbo_10, 0, Index_3);
    assume {:nonnull} Index_3 != 0;
    assume Index_3 > 0;
    Tmp_1718 := (Mem_T.INT4[Index_3] + 2) * 16;
    call {:si_unique_call 1971} sdv_1017 := ExAllocatePoolWithTag(16, Tmp_1718, -797679290);
    assume {:nonnull} MappingPairs != 0;
    assume MappingPairs > 0;
    assume {:nonnull} RequestedMapSize != 0;
    assume RequestedMapSize > 0;
    havoc MapSize;
    i_14 := 0;
    goto L74;

  L74:
    call {:si_unique_call 1972} i_14, Tmp_1714, Tmp_1716, Tmp_1717, MapSize, Tmp_1721, vslice_dummy_var_286 := FatQueryRetrievalPointers_loop_L74(i_14, MappingPairs, Tmp_1714, SectorCount_1, Lbo_10, Fcb_34, Vbo_9, Tmp_1716, Tmp_1717, MapSize, Tmp_1721, Index_3, vslice_dummy_var_286);
    goto L74_last;

  L74_last:
    assume {:nonnull} Index_3 != 0;
    assume Index_3 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} Mem_T.INT4[Index_3] >= i_14;
    assume {:nonnull} Fcb_34 != 0;
    assume Fcb_34 > 0;
    havoc vslice_dummy_var_196;
    havoc vslice_dummy_var_197;
    call {:si_unique_call 1973} vslice_dummy_var_286 := FatGetNextMcbEntry(vslice_dummy_var_196, vslice_dummy_var_197, i_14, Vbo_9, Lbo_10, SectorCount_1);
    assume {:nonnull} SectorCount_1 != 0;
    assume SectorCount_1 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Mem_T.INT4[SectorCount_1] > MapSize;
    assume {:nonnull} SectorCount_1 != 0;
    assume SectorCount_1 > 0;
    Mem_T.INT4[SectorCount_1] := MapSize;
    goto L80;

  L80:
    Tmp_1721 := i_14 * 2 + 0;
    assume {:nonnull} MappingPairs != 0;
    assume MappingPairs > 0;
    havoc Tmp_1714;
    assume {:nonnull} SectorCount_1 != 0;
    assume SectorCount_1 > 0;
    assume {:nonnull} Tmp_1714 != 0;
    assume Tmp_1714 > 0;
    Tmp_1717 := i_14 * 2 + 1;
    assume {:nonnull} MappingPairs != 0;
    assume MappingPairs > 0;
    havoc Tmp_1716;
    assume {:nonnull} Lbo_10 != 0;
    assume Lbo_10 > 0;
    assume {:nonnull} Tmp_1716 != 0;
    assume Tmp_1716 > 0;
    assume {:nonnull} SectorCount_1 != 0;
    assume SectorCount_1 > 0;
    MapSize := MapSize - Mem_T.INT4[SectorCount_1];
    i_14 := i_14 + 1;
    goto L80_dummy;

  L80_dummy:
    assume false;
    return;

  anon23_Then:
    assume {:partition} MapSize >= Mem_T.INT4[SectorCount_1];
    goto L80;

  anon22_Then:
    assume {:partition} i_14 > Mem_T.INT4[Index_3];
    Tmp_1720 := i_14 * 2 + 0;
    assume {:nonnull} MappingPairs != 0;
    assume MappingPairs > 0;
    havoc Tmp_1722;
    assume {:nonnull} Tmp_1722 != 0;
    assume Tmp_1722 > 0;
    Status_25 := 0;
    goto L53;

  anon24_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon19_Then:
    goto L26;

  anon18_Then:
    goto L26;
}



procedure {:origName "FatUnlockVolume"} FatUnlockVolume(actual_IrpContext_97: int, actual_Irp_35: int) returns (Tmp_1723: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} Tmp_1723 == -1073741811 || Tmp_1723 == 0 || Tmp_1723 == -1073741782;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatUnlockVolume"} FatUnlockVolume(actual_IrpContext_97: int, actual_Irp_35: int) returns (Tmp_1723: int)
{
  var {:pointer} Ccb_19: int;
  var {:pointer} Fcb_35: int;
  var {:scalar} Status_26: int;
  var {:pointer} IrpSp_15: int;
  var {:scalar} sdv_1019: int;
  var {:pointer} Vcb_57: int;
  var {:pointer} IrpContext_97: int;
  var {:pointer} Irp_35: int;
  var vslice_dummy_var_290: int;
  var vslice_dummy_var_198: int;
  var vslice_dummy_var_199: int;
  var vslice_dummy_var_200: int;

  anon0:
    call {:si_unique_call 1974} Ccb_19 := __HAVOC_malloc(4);
    call {:si_unique_call 1975} Fcb_35 := __HAVOC_malloc(4);
    call {:si_unique_call 1976} Vcb_57 := __HAVOC_malloc(4);
    IrpContext_97 := actual_IrpContext_97;
    Irp_35 := actual_Irp_35;
    call {:si_unique_call 1977} IrpSp_15 := sdv_IoGetCurrentIrpStackLocation(Irp_35);
    assume {:nonnull} IrpSp_15 != 0;
    assume IrpSp_15 > 0;
    havoc vslice_dummy_var_198;
    call {:si_unique_call 1978} sdv_1019 := FatDecodeFileObject(vslice_dummy_var_198, Vcb_57, Fcb_35, Ccb_19);
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} sdv_1019 != 4;
    call {:si_unique_call 1979} FatCompleteRequest_Real(IrpContext_97, Irp_35, -1073741811);
    Tmp_1723 := -1073741811;
    goto L1;

  L1:
    return;

  anon9_Then:
    assume {:partition} sdv_1019 == 4;
    assume {:nonnull} Ccb_19 != 0;
    assume Ccb_19 > 0;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:nonnull} Ccb_19 != 0;
    assume Ccb_19 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} IrpSp_15 != 0;
    assume IrpSp_15 > 0;
    assume {:nonnull} Vcb_57 != 0;
    assume Vcb_57 > 0;
    havoc vslice_dummy_var_199;
    havoc vslice_dummy_var_200;
    call {:si_unique_call 1980} Status_26 := FatUnlockVolumeInternal(IrpContext_97, vslice_dummy_var_199, vslice_dummy_var_200);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Status_26 >= 0;
    call {:si_unique_call 1981} vslice_dummy_var_290 := corral_nondet();
    goto L30;

  L30:
    call {:si_unique_call 1982} FatCompleteRequest_Real(IrpContext_97, Irp_35, Status_26);
    Tmp_1723 := Status_26;
    goto L1;

  anon12_Then:
    assume {:partition} 0 > Status_26;
    goto L30;

  anon11_Then:
    goto L21;

  L21:
    call {:si_unique_call 1983} FatCompleteRequest_Real(IrpContext_97, Irp_35, -1073741811);
    Tmp_1723 := -1073741811;
    goto L1;

  anon10_Then:
    goto L21;
}



procedure {:origName "FatPerformVerifyDiskRead"} FatPerformVerifyDiskRead(actual_IrpContext_98: int, actual_Vcb_58: int, actual_Buffer_22: int, actual_Lbo_11: int, actual_NumberOfBytesToRead: int, actual_ReturnOnError: int) returns (Tmp_1725: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_1725 == 0 || Tmp_1725 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPerformVerifyDiskRead"} FatPerformVerifyDiskRead(actual_IrpContext_98: int, actual_Vcb_58: int, actual_Buffer_22: int, actual_Lbo_11: int, actual_NumberOfBytesToRead: int, actual_ReturnOnError: int) returns (Tmp_1725: int)
{
  var {:pointer} Irp_36: int;
  var {:scalar} Status_27: int;
  var {:scalar} Iosb_16: int;
  var {:scalar} Event_7: int;
  var {:pointer} sdv_1023: int;
  var {:scalar} ByteOffset: int;
  var {:scalar} sdv_1025: int;
  var {:pointer} IrpContext_98: int;
  var {:pointer} Vcb_58: int;
  var {:scalar} Lbo_11: int;
  var {:scalar} NumberOfBytesToRead: int;
  var {:scalar} ReturnOnError: int;
  var vslice_dummy_var_291: int;
  var vslice_dummy_var_201: int;

  anon0:
    call {:si_unique_call 1984} Iosb_16 := __HAVOC_malloc(12);
    call {:si_unique_call 1985} Event_7 := __HAVOC_malloc(124);
    call {:si_unique_call 1986} ByteOffset := __HAVOC_malloc(20);
    IrpContext_98 := actual_IrpContext_98;
    Vcb_58 := actual_Vcb_58;
    Lbo_11 := actual_Lbo_11;
    NumberOfBytesToRead := actual_NumberOfBytesToRead;
    ReturnOnError := actual_ReturnOnError;
    call {:si_unique_call 1987} KeInitializeEvent(Event_7, 0, 0);
    assume {:nonnull} ByteOffset != 0;
    assume ByteOffset > 0;
    call {:si_unique_call 1988} Irp_36 := IoBuildSynchronousFsdRequest(3, 0, 0, NumberOfBytesToRead, 0, 0, Iosb_16);
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} Irp_36 != 0;
    goto L18;

  L18:
    call {:si_unique_call 1989} sdv_1023 := sdv_IoGetNextIrpStackLocation(Irp_36);
    assume {:nonnull} sdv_1023 != 0;
    assume sdv_1023 > 0;
    assume {:nonnull} Vcb_58 != 0;
    assume Vcb_58 > 0;
    havoc vslice_dummy_var_201;
    call {:si_unique_call 1990} Status_27 := sdv_IoCallDriver(vslice_dummy_var_201, Irp_36);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Status_27 == 259;
    call {:si_unique_call 1991} vslice_dummy_var_291 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Iosb_16 != 0;
    assume Iosb_16 > 0;
    Status_27 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_16)];
    goto L27;

  L27:
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} Status_27 == -1073741811;
    Tmp_1725 := 0;
    goto L1;

  L1:
    return;

  anon13_Then:
    assume {:partition} Status_27 != -1073741811;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} Status_27 >= 0;
    goto L35;

  L35:
    Tmp_1725 := 1;
    goto L1;

  anon14_Then:
    assume {:partition} 0 > Status_27;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} ReturnOnError != 0;
    Tmp_1725 := 0;
    goto L1;

  anon15_Then:
    assume {:partition} ReturnOnError == 0;
    assume {:nonnull} IrpContext_98 != 0;
    assume IrpContext_98 > 0;
    call {:si_unique_call 1992} sdv_1025 := corral_nondet();
    call {:si_unique_call 1993} ExRaiseStatus(sdv_1025);
    goto L35;

  anon12_Then:
    assume {:partition} Status_27 != 259;
    goto L27;

  anon11_Then:
    assume {:partition} Irp_36 == 0;
    assume {:nonnull} IrpContext_98 != 0;
    assume IrpContext_98 > 0;
    call {:si_unique_call 1994} ExRaiseStatus(-1073741670);
    goto L18;
}



procedure {:origName "_sdv_init11"} _sdv_init11();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init11"} _sdv_init11()
{
  var vslice_dummy_var_292: int;

  anon0:
    call {:si_unique_call 1995} vslice_dummy_var_292 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatLookupLastMcbEntry"} FatLookupLastMcbEntry(actual_Vcb_59: int, actual_Mcb_5: int, actual_Vbo_10: int, actual_Lbo_12: int, actual_Index_4: int) returns (Tmp_1729: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLookupLastMcbEntry"} FatLookupLastMcbEntry(actual_Vcb_59: int, actual_Mcb_5: int, actual_Vbo_10: int, actual_Lbo_12: int, actual_Index_4: int) returns (Tmp_1729: int)
{
  var {:scalar} LiLbo: int;
  var {:scalar} Results: int;
  var {:scalar} LocalIndex: int;
  var {:pointer} Vbo_10: int;
  var {:pointer} Lbo_12: int;
  var {:pointer} Index_4: int;
  var boogieTmp: int;

  anon0:
    Vbo_10 := actual_Vbo_10;
    Lbo_12 := actual_Lbo_12;
    Index_4 := actual_Index_4;
    call {:si_unique_call 1996} sdv_do_paged_code_check();
    LiLbo := 0;
    LocalIndex := 0;
    call {:si_unique_call 1997} Results := corral_nondet();
    assume {:nonnull} Vbo_10 != 0;
    assume Vbo_10 > 0;
    call {:si_unique_call 1998} boogieTmp := corral_nondet();
    Mem_T.INT4[Vbo_10] := boogieTmp;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} LiLbo != -1;
    assume {:nonnull} Lbo_12 != 0;
    assume Lbo_12 > 0;
    call {:si_unique_call 1999} boogieTmp := corral_nondet();
    Mem_T.INT4[Lbo_12] := boogieTmp;
    assume {:nonnull} Lbo_12 != 0;
    assume Lbo_12 > 0;
    call {:si_unique_call 2000} boogieTmp := corral_nondet();
    Mem_T.INT4[Lbo_12] := boogieTmp;
    assume {:nonnull} Vbo_10 != 0;
    assume Vbo_10 > 0;
    call {:si_unique_call 2001} boogieTmp := corral_nondet();
    Mem_T.INT4[Vbo_10] := boogieTmp;
    goto L23;

  L23:
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} Index_4 != 0;
    assume {:nonnull} Index_4 != 0;
    assume Index_4 > 0;
    Mem_T.INT4[Index_4] := LocalIndex;
    goto L24;

  L24:
    Tmp_1729 := Results;
    return;

  anon5_Then:
    assume {:partition} Index_4 == 0;
    goto L24;

  anon6_Then:
    assume {:partition} LiLbo == -1;
    assume {:nonnull} Lbo_12 != 0;
    assume Lbo_12 > 0;
    Mem_T.INT4[Lbo_12] := 0;
    goto L23;
}



procedure {:origName "FatDismountVolume"} FatDismountVolume(actual_IrpContext_99: int, actual_Irp_37: int) returns (Tmp_1731: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDismountVolume"} FatDismountVolume(actual_IrpContext_99: int, actual_Irp_37: int) returns (Tmp_1731: int)
{
  var {:pointer} Fcb_36: int;
  var {:scalar} Tmp_1732: int;
  var {:scalar} sdv_1028: int;
  var {:pointer} Ccb_20: int;
  var {:pointer} Fcb_37: int;
  var {:scalar} Status_28: int;
  var {:pointer} IrpSp_16: int;
  var {:scalar} sdv_1034: int;
  var {:pointer} Fcb_38: int;
  var {:scalar} VcbHeld: int;
  var {:pointer} Vcb_60: int;
  var {:scalar} Tmp_1734: int;
  var {:pointer} IrpContext_99: int;
  var {:pointer} Irp_37: int;
  var vslice_dummy_var_293: int;
  var vslice_dummy_var_294: int;
  var vslice_dummy_var_295: int;
  var vslice_dummy_var_296: int;
  var vslice_dummy_var_297: int;
  var vslice_dummy_var_202: int;
  var vslice_dummy_var_203: int;
  var vslice_dummy_var_204: int;
  var vslice_dummy_var_205: int;
  var vslice_dummy_var_206: int;

  anon0:
    call {:si_unique_call 2002} Ccb_20 := __HAVOC_malloc(4);
    call {:si_unique_call 2003} Fcb_37 := __HAVOC_malloc(4);
    call {:si_unique_call 2004} Vcb_60 := __HAVOC_malloc(4);
    IrpContext_99 := actual_IrpContext_99;
    Irp_37 := actual_Irp_37;
    VcbHeld := 0;
    call {:si_unique_call 2005} IrpSp_16 := sdv_IoGetCurrentIrpStackLocation(Irp_37);
    assume {:nonnull} IrpSp_16 != 0;
    assume IrpSp_16 > 0;
    havoc vslice_dummy_var_202;
    call {:si_unique_call 2006} sdv_1034 := FatDecodeFileObject(vslice_dummy_var_202, Vcb_60, Fcb_37, Ccb_20);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} sdv_1034 != 4;
    Status_28 := -1073741811;
    goto L21;

  L21:
    call {:si_unique_call 2007} FatCompleteRequest_Real(IrpContext_99, Irp_37, Status_28);
    Tmp_1731 := Status_28;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon35_Then:
    assume {:partition} sdv_1034 == 4;
    assume {:nonnull} Ccb_20 != 0;
    assume Ccb_20 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} Ccb_20 != 0;
    assume Ccb_20 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    Status_28 := -1073741790;
    goto L21;

  anon38_Then:
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    Status_28 := -1073741202;
    goto L21;

  anon39_Then:
    call {:si_unique_call 2008} vslice_dummy_var_293 := corral_nondet();
    assume {:nonnull} IrpContext_99 != 0;
    assume IrpContext_99 > 0;
    assume {:nonnull} IrpContext_99 != 0;
    assume IrpContext_99 > 0;
    havoc Tmp_1734;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} Tmp_1734 == 0;
    Tmp_1732 := 0;
    goto L139;

  L139:
    call {:si_unique_call 2009} vslice_dummy_var_296 := ExAcquireResourceExclusiveLite(0, Tmp_1732);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    Fcb_36 := 0;
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    havoc vslice_dummy_var_203;
    call {:si_unique_call 2010} vslice_dummy_var_297 := FatAcquireExclusiveVcb(IrpContext_99, vslice_dummy_var_203);
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} yogi_error != 1;
    goto L75;

  L75:
    call {:si_unique_call 2011} Fcb_36, vslice_dummy_var_294 := FatDismountVolume_loop_L75(Fcb_36, Vcb_60, IrpContext_99, vslice_dummy_var_294);
    goto L75_last;

  L75_last:
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    havoc vslice_dummy_var_206;
    call {:si_unique_call 2022} Fcb_36 := FatGetNextFcbBottomUp(IrpContext_99, Fcb_36, vslice_dummy_var_206);
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} Fcb_36 != 0;
    call {:si_unique_call 2012} vslice_dummy_var_294 := FatAcquireExclusiveFcb(IrpContext_99, Fcb_36);
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} yogi_error != 1;
    goto anon49_Else_dummy;

  anon49_Else_dummy:
    assume false;
    return;

  anon49_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon40_Then:
    assume {:partition} Fcb_36 == 0;
    VcbHeld := 1;
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    Status_28 := -1073741202;
    goto L90;

  L90:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} VcbHeld != 0;
    Fcb_38 := 0;
    goto L96;

  L96:
    call {:si_unique_call 2013} Fcb_38 := FatDismountVolume_loop_L96(Fcb_38, Vcb_60, IrpContext_99);
    goto L96_last;

  L96_last:
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    havoc vslice_dummy_var_205;
    call {:si_unique_call 2021} Fcb_38 := FatGetNextFcbBottomUp(IrpContext_99, Fcb_38, vslice_dummy_var_205);
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} Fcb_38 != 0;
    call {:si_unique_call 2014} ExReleaseResourceLite(0);
    goto anon42_Else_dummy;

  anon42_Else_dummy:
    assume false;
    return;

  anon42_Then:
    assume {:partition} Fcb_38 == 0;
    call {:si_unique_call 2015} ExReleaseResourceLite(0);
    goto L91;

  L91:
    call {:si_unique_call 2016} ExReleaseResourceLite(0);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} Status_28 >= 0;
    goto L109;

  L109:
    call {:si_unique_call 2017} sdv_1028 := sdv_AbnormalTermination();
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} sdv_1028 != 0;
    goto L113;

  L113:
    call {:si_unique_call 2018} vslice_dummy_var_295 := corral_nondet();
    goto L21;

  anon45_Then:
    assume {:partition} sdv_1028 == 0;
    goto L21;

  anon43_Then:
    assume {:partition} 0 > Status_28;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} Status_28 != -1073741202;
    goto L113;

  anon44_Then:
    assume {:partition} Status_28 == -1073741202;
    goto L109;

  anon41_Then:
    assume {:partition} VcbHeld == 0;
    goto L91;

  anon50_Then:
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    havoc vslice_dummy_var_204;
    call {:si_unique_call 2019} FatFlushAndCleanVolume(IrpContext_99, Irp_37, vslice_dummy_var_204, 2);
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Ccb_20 != 0;
    assume Ccb_20 > 0;
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    assume {:nonnull} Vcb_60 != 0;
    assume Vcb_60 > 0;
    Status_28 := 0;
    goto L90;

  anon51_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon48_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon47_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon46_Then:
    assume {:partition} Tmp_1734 != 0;
    Tmp_1732 := 1;
    goto L139;

  anon37_Then:
    goto L25;

  L25:
    call {:si_unique_call 2020} FatCompleteRequest_Real(IrpContext_99, Irp_37, -1073741811);
    Tmp_1731 := -1073741811;
    goto L1;

  anon36_Then:
    goto L25;
}



procedure {:origName "FatMoveFile"} FatMoveFile(actual_IrpContext_100: int, actual_Irp_38: int) returns (Tmp_1735: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMoveFile"} FatMoveFile(actual_IrpContext_100: int, actual_Irp_38: int) returns (Tmp_1735: int)
{
  var {:scalar} StackEvent: int;
  var {:dopa} {:scalar} FirstSpliceSourceCluster_1: int;
  var {:scalar} EventArmed: int;
  var {:scalar} sdv_1044: int;
  var {:pointer} InputBuffer_1: int;
  var {:scalar} sdv_1046: int;
  var {:scalar} SourceMcb_1: int;
  var {:pointer} Ccb_21: int;
  var {:pointer} sdv_1050: int;
  var {:scalar} LargeTargetLbo: int;
  var {:dopa} {:scalar} BytesToReallocate_1: int;
  var {:dopa} {:scalar} TempVbo: int;
  var {:scalar} TargetCluster_1: int;
  var {:dopa} {:scalar} BytesToWrite: int;
  var {:pointer} Dirent_18: int;
  var {:scalar} Status_29: int;
  var {:pointer} FileObject_34: int;
  var {:dopa} {:scalar} TempLbo: int;
  var {:scalar} TargetMcbInitialized: int;
  var {:scalar} Iosb_17: int;
  var {:pointer} Tmp_1736: int;
  var {:pointer} Buffer_23: int;
  var {:scalar} FcbAcquired_3: int;
  var {:pointer} DirentBcb_8: int;
  var {:scalar} TypeOfOpen_5: int;
  var {:scalar} MaxClusters: int;
  var {:pointer} DirStreamFileObject: int;
  var {:pointer} IrpSp_17: int;
  var {:scalar} LocalAbnormalTermination_2: int;
  var {:scalar} BufferSize: int;
  var {:scalar} sdv_1064: int;
  var {:dopa} {:scalar} SecondSpliceSourceCluster_1: int;
  var {:scalar} LargeSourceLbo: int;
  var {:pointer} IoIrp: int;
  var {:scalar} sdv_1065: int;
  var {:scalar} IoEvent: int;
  var {:scalar} sdv_1066: int;
  var {:scalar} FileOffset_1: int;
  var {:dopa} {:scalar} FirstSpliceTargetCluster_1: int;
  var {:scalar} TargetLbo: int;
  var {:scalar} Tmp_1738: int;
  var {:dopa} {:scalar} SecondSpliceTargetCluster_1: int;
  var {:pointer} Vcb_61: int;
  var {:scalar} SourceMcbInitialized: int;
  var {:scalar} TargetMcb: int;
  var {:scalar} sdv_1078: int;
  var {:pointer} FcbOrDcb_8: int;
  var {:dopa} {:scalar} TempByteCount: int;
  var {:scalar} sdv_1084: int;
  var {:scalar} InputBufferLength_2: int;
  var {:scalar} sdv_1085: int;
  var {:scalar} DiskSpaceAllocated: int;
  var {:dopa} {:scalar} ByteCount_17: int;
  var {:pointer} IrpContext_100: int;
  var {:pointer} Irp_38: int;
  var boogieTmp: int;
  var vslice_dummy_var_298: int;
  var vslice_dummy_var_299: int;
  var vslice_dummy_var_300: int;
  var vslice_dummy_var_301: int;
  var vslice_dummy_var_302: int;
  var vslice_dummy_var_303: int;
  var vslice_dummy_var_304: int;
  var vslice_dummy_var_305: int;
  var vslice_dummy_var_306: int;
  var vslice_dummy_var_307: int;
  var vslice_dummy_var_308: int;
  var vslice_dummy_var_309: int;
  var vslice_dummy_var_310: int;
  var vslice_dummy_var_311: int;
  var vslice_dummy_var_312: int;
  var vslice_dummy_var_313: int;
  var vslice_dummy_var_207: int;
  var vslice_dummy_var_208: int;
  var vslice_dummy_var_209: int;
  var vslice_dummy_var_210: int;
  var vslice_dummy_var_211: int;
  var vslice_dummy_var_212: int;
  var vslice_dummy_var_213: int;
  var vslice_dummy_var_214: int;
  var vslice_dummy_var_215: int;
  var vslice_dummy_var_216: int;
  var vslice_dummy_var_217: int;
  var vslice_dummy_var_218: int;
  var vslice_dummy_var_219: int;
  var vslice_dummy_var_220: int;
  var vslice_dummy_var_221: int;
  var vslice_dummy_var_222: int;
  var vslice_dummy_var_223: int;
  var vslice_dummy_var_224: int;
  var vslice_dummy_var_225: int;
  var vslice_dummy_var_226: int;
  var vslice_dummy_var_227: int;
  var vslice_dummy_var_228: int;
  var vslice_dummy_var_229: int;
  var vslice_dummy_var_230: int;
  var vslice_dummy_var_231: int;
  var vslice_dummy_var_232: int;
  var vslice_dummy_var_233: int;
  var vslice_dummy_var_234: int;
  var vslice_dummy_var_235: int;
  var vslice_dummy_var_236: int;
  var vslice_dummy_var_237: int;
  var vslice_dummy_var_238: int;
  var vslice_dummy_var_239: int;

  anon0:
    call {:si_unique_call 2023} StackEvent := __HAVOC_malloc(124);
    call {:si_unique_call 2024} FirstSpliceSourceCluster_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2025} SourceMcb_1 := __HAVOC_malloc(24);
    call {:si_unique_call 2026} Ccb_21 := __HAVOC_malloc(4);
    call {:si_unique_call 2027} LargeTargetLbo := __HAVOC_malloc(20);
    call {:si_unique_call 2028} BytesToReallocate_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2029} TempVbo := __HAVOC_malloc(4);
    call {:si_unique_call 2030} BytesToWrite := __HAVOC_malloc(4);
    call {:si_unique_call 2031} Dirent_18 := __HAVOC_malloc(4);
    call {:si_unique_call 2032} TempLbo := __HAVOC_malloc(4);
    call {:si_unique_call 2033} Iosb_17 := __HAVOC_malloc(12);
    call {:si_unique_call 2034} DirentBcb_8 := __HAVOC_malloc(4);
    call {:si_unique_call 2035} SecondSpliceSourceCluster_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2036} LargeSourceLbo := __HAVOC_malloc(20);
    call {:si_unique_call 2037} IoEvent := __HAVOC_malloc(124);
    call {:si_unique_call 2038} FirstSpliceTargetCluster_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2039} SecondSpliceTargetCluster_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2040} Vcb_61 := __HAVOC_malloc(4);
    call {:si_unique_call 2041} TargetMcb := __HAVOC_malloc(24);
    call {:si_unique_call 2042} FcbOrDcb_8 := __HAVOC_malloc(4);
    call {:si_unique_call 2043} TempByteCount := __HAVOC_malloc(4);
    call {:si_unique_call 2044} ByteCount_17 := __HAVOC_malloc(4);
    IrpContext_100 := actual_IrpContext_100;
    Irp_38 := actual_Irp_38;
    SourceMcbInitialized := 0;
    TargetMcbInitialized := 0;
    FcbAcquired_3 := 0;
    EventArmed := 0;
    DiskSpaceAllocated := 0;
    assume {:nonnull} DirentBcb_8 != 0;
    assume DirentBcb_8 > 0;
    LocalAbnormalTermination_2 := 0;
    call {:si_unique_call 2045} IrpSp_17 := sdv_IoGetCurrentIrpStackLocation(Irp_38);
    assume {:nonnull} IrpContext_100 != 0;
    assume IrpContext_100 > 0;
    assume {:nonnull} IrpSp_17 != 0;
    assume IrpSp_17 > 0;
    havoc vslice_dummy_var_207;
    call {:si_unique_call 2046} sdv_1065 := FatDecodeFileObject(vslice_dummy_var_207, Vcb_61, FcbOrDcb_8, Ccb_21);
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} sdv_1065 != 4;
    call {:si_unique_call 2047} FatCompleteRequest_Real(IrpContext_100, Irp_38, -1073741811);
    Tmp_1735 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon121_Then:
    assume {:partition} sdv_1065 == 4;
    assume {:nonnull} Ccb_21 != 0;
    assume Ccb_21 > 0;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:nonnull} Ccb_21 != 0;
    assume Ccb_21 > 0;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:nonnull} IrpSp_17 != 0;
    assume IrpSp_17 > 0;
    havoc InputBufferLength_2;
    assume {:nonnull} Irp_38 != 0;
    assume Irp_38 > 0;
    havoc InputBuffer_1;
    goto anon164_Then, anon164_Else;

  anon164_Else:
    assume {:partition} InputBuffer_1 != 0;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume {:partition} 32 <= InputBufferLength_2;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc MaxClusters;
    assume {:nonnull} InputBuffer_1 != 0;
    assume InputBuffer_1 > 0;
    havoc TargetCluster_1;
    assume {:nonnull} InputBuffer_1 != 0;
    assume InputBuffer_1 > 0;
    goto anon165_Then, anon165_Else;

  anon165_Else:
    goto L76;

  L76:
    call {:si_unique_call 2048} FatCompleteRequest_Real(IrpContext_100, Irp_38, -1073741811);
    Tmp_1735 := -1073741811;
    goto L1;

  anon165_Then:
    assume {:nonnull} InputBuffer_1 != 0;
    assume InputBuffer_1 > 0;
    goto anon125_Then, anon125_Else;

  anon125_Else:
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume {:partition} 2 <= TargetCluster_1;
    assume {:nonnull} InputBuffer_1 != 0;
    assume InputBuffer_1 > 0;
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:nonnull} InputBuffer_1 != 0;
    assume InputBuffer_1 > 0;
    goto anon128_Then, anon128_Else;

  anon128_Else:
    assume {:nonnull} InputBuffer_1 != 0;
    assume InputBuffer_1 > 0;
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:nonnull} Irp_38 != 0;
    assume Irp_38 > 0;
    havoc vslice_dummy_var_208;
    call {:si_unique_call 2049} Status_29 := ObReferenceObjectByHandle(0, 0, 0, vslice_dummy_var_208, 0, 0);
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} Status_29 >= 0;
    assume {:nonnull} FileObject_34 != 0;
    assume FileObject_34 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    call {:si_unique_call 2050} vslice_dummy_var_298 := sdv_ObDereferenceObject(0);
    call {:si_unique_call 2051} FatCompleteRequest_Real(IrpContext_100, Irp_38, -1073741811);
    Tmp_1735 := -1073741811;
    goto L1;

  anon131_Then:
    call {:si_unique_call 2052} TypeOfOpen_5 := FatDecodeFileObject(FileObject_34, Vcb_61, FcbOrDcb_8, Ccb_21);
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:partition} TypeOfOpen_5 != 2;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} TypeOfOpen_5 != 3;
    goto L107;

  L107:
    call {:si_unique_call 2053} vslice_dummy_var_299 := sdv_ObDereferenceObject(0);
    call {:si_unique_call 2054} FatCompleteRequest_Real(IrpContext_100, Irp_38, -1073741811);
    Tmp_1735 := -1073741811;
    goto L1;

  anon134_Then:
    assume {:partition} TypeOfOpen_5 == 3;
    goto L105;

  L105:
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:partition} TypeOfOpen_5 == 3;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc Tmp_1736;
    assume {:nonnull} Tmp_1736 != 0;
    assume Tmp_1736 > 0;
    goto anon166_Then, anon166_Else;

  anon166_Else:
    assume {:partition} Mem_T.INT4[Tmp_1736] == 1284;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    goto L116;

  L116:
    assume {:nonnull} InputBuffer_1 != 0;
    assume InputBuffer_1 > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    goto L114;

  L114:
    assume {:nonnull} IrpContext_100 != 0;
    assume IrpContext_100 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    call {:si_unique_call 2055} FileOffset_1 := corral_nondet();
    assume {:nonnull} ByteCount_17 != 0;
    assume ByteCount_17 > 0;
    call {:si_unique_call 2056} boogieTmp := corral_nondet();
    Mem_T.INT4[ByteCount_17] := boogieTmp;
    call {:si_unique_call 2057} TargetLbo := corral_nondet();
    assume {:nonnull} LargeTargetLbo != 0;
    assume LargeTargetLbo > 0;
    Buffer_23 := 0;
    assume {:nonnull} ByteCount_17 != 0;
    assume ByteCount_17 > 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:partition} FileOffset_1 > FileOffset_1 + Mem_T.INT4[ByteCount_17];
    Status_29 := -1073741811;
    goto L130;

  L130:
    call {:si_unique_call 2058} sdv_1078 := sdv_AbnormalTermination();
    LocalAbnormalTermination_2 := BOR(LocalAbnormalTermination_2, sdv_1078);
    assume {:nonnull} IrpContext_100 != 0;
    assume IrpContext_100 > 0;
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:partition} Buffer_23 != 0;
    call {:si_unique_call 2059} sdv_ExFreePool(0);
    goto L136;

  L136:
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:partition} DiskSpaceAllocated != 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_209;
    call {:si_unique_call 2060} FatDeallocateDiskSpace(IrpContext_100, vslice_dummy_var_209, TargetMcb);
    goto anon169_Then, anon169_Else;

  anon169_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2061} FatUnpinRepinnedBcbs(IrpContext_100);
    goto L140;

  L140:
    call {:si_unique_call 2062} sdv_1064 := sdv_AbnormalTermination();
    LocalAbnormalTermination_2 := BOR(LocalAbnormalTermination_2, sdv_1064);
    assume {:nonnull} DirentBcb_8 != 0;
    assume DirentBcb_8 > 0;
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:nonnull} DirentBcb_8 != 0;
    assume DirentBcb_8 > 0;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:nonnull} DirentBcb_8 != 0;
    assume DirentBcb_8 > 0;
    goto L195;

  L195:
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} SourceMcbInitialized != 0;
    goto L201;

  L201:
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume {:partition} TargetMcbInitialized != 0;
    goto L205;

  L205:
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:partition} LocalAbnormalTermination_2 != 0;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:partition} FcbAcquired_3 != 0;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    goto L214;

  L214:
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_210;
    havoc vslice_dummy_var_211;
    call {:si_unique_call 2063} FatRemoveMcbEntry(vslice_dummy_var_210, vslice_dummy_var_211, 0, -1);
    goto L209;

  L209:
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:partition} EventArmed != 0;
    call {:si_unique_call 2064} vslice_dummy_var_300 := KeSetEvent(StackEvent, 0, 0);
    call {:si_unique_call 2065} vslice_dummy_var_301 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon171_Then, anon171_Else;

  anon171_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    call {:si_unique_call 2066} ExReleaseResourceLite(0);
    goto L217;

  L217:
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:partition} FcbAcquired_3 != 0;
    call {:si_unique_call 2067} ExReleaseResourceLite(0);
    goto L228;

  L228:
    call {:si_unique_call 2068} vslice_dummy_var_302 := sdv_ObDereferenceObject(0);
    call {:si_unique_call 2069} FatCompleteRequest_Real(IrpContext_100, Irp_38, Status_29);
    Tmp_1735 := Status_29;
    goto L1;

  anon145_Then:
    assume {:partition} FcbAcquired_3 == 0;
    goto L228;

  anon171_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon142_Then:
    assume {:partition} EventArmed == 0;
    goto L217;

  anon144_Then:
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    goto L214;

  anon143_Then:
    assume {:partition} FcbAcquired_3 == 0;
    goto L209;

  anon141_Then:
    assume {:partition} LocalAbnormalTermination_2 == 0;
    goto L209;

  anon140_Then:
    assume {:partition} TargetMcbInitialized == 0;
    goto L205;

  anon138_Then:
    assume {:partition} SourceMcbInitialized == 0;
    goto L201;

  anon139_Then:
    goto L195;

  anon170_Then:
    goto L195;

  anon169_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon137_Then:
    assume {:partition} DiskSpaceAllocated == 0;
    goto L140;

  anon168_Then:
    assume {:partition} Buffer_23 == 0;
    goto L136;

  anon167_Then:
    assume {:partition} FileOffset_1 + Mem_T.INT4[ByteCount_17] >= FileOffset_1;
    call {:si_unique_call 2070} KeInitializeEvent(StackEvent, 0, 0);
    SourceMcbInitialized := 1;
    TargetMcbInitialized := 1;
    goto anon172_Then, anon172_Else;

  anon172_Else:
    assume {:partition} TypeOfOpen_5 == 3;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_212;
    call {:si_unique_call 2071} vslice_dummy_var_303 := FatAcquireExclusiveFcb(IrpContext_100, vslice_dummy_var_212);
    goto anon173_Then, anon173_Else;

  anon173_Else:
    assume {:partition} yogi_error != 1;
    FcbAcquired_3 := 1;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_213;
    call {:si_unique_call 2072} FatVerifyFcb(IrpContext_100, vslice_dummy_var_213);
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_214;
    call {:si_unique_call 2073} FatOpenDirectoryFile#1(IrpContext_100, vslice_dummy_var_214);
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc DirStreamFileObject;
    call {:si_unique_call 2074} vslice_dummy_var_313 := sdv_ObReferenceObject(0);
    call {:si_unique_call 2075} vslice_dummy_var_304 := sdv_ObDereferenceObject(0);
    FileObject_34 := DirStreamFileObject;
    goto L351;

  L351:
    BufferSize := 65536;
    goto anon174_Then, anon174_Else;

  anon174_Else:
    call {:si_unique_call 2076} BufferSize := corral_nondet();
    goto L372;

  L372:
    call {:si_unique_call 2077} EventArmed, sdv_1044, sdv_1046, sdv_1050, TargetCluster_1, Status_29, Buffer_23, FcbAcquired_3, IoIrp, sdv_1066, FileOffset_1, TargetLbo, Tmp_1738, sdv_1084, sdv_1085, DiskSpaceAllocated, boogieTmp, vslice_dummy_var_305, vslice_dummy_var_306, vslice_dummy_var_307, vslice_dummy_var_308, vslice_dummy_var_309, vslice_dummy_var_310, vslice_dummy_var_311, vslice_dummy_var_312 := FatMoveFile_loop_L372(StackEvent, FirstSpliceSourceCluster_1, EventArmed, sdv_1044, sdv_1046, SourceMcb_1, sdv_1050, LargeTargetLbo, BytesToReallocate_1, TempVbo, TargetCluster_1, BytesToWrite, Dirent_18, Status_29, TempLbo, Iosb_17, Buffer_23, FcbAcquired_3, DirentBcb_8, BufferSize, SecondSpliceSourceCluster_1, LargeSourceLbo, IoIrp, IoEvent, sdv_1066, FileOffset_1, FirstSpliceTargetCluster_1, TargetLbo, Tmp_1738, SecondSpliceTargetCluster_1, Vcb_61, TargetMcb, FcbOrDcb_8, TempByteCount, sdv_1084, sdv_1085, DiskSpaceAllocated, ByteCount_17, IrpContext_100, Irp_38, boogieTmp, vslice_dummy_var_305, vslice_dummy_var_306, vslice_dummy_var_307, vslice_dummy_var_308, vslice_dummy_var_309, vslice_dummy_var_310, vslice_dummy_var_311, vslice_dummy_var_312);
    goto L372_last;

  L372_last:
    assume {:nonnull} ByteCount_17 != 0;
    assume ByteCount_17 > 0;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume {:partition} Mem_T.INT4[ByteCount_17] != 0;
    call {:si_unique_call 2078} vslice_dummy_var_305 := corral_nondet();
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} FcbAcquired_3 != 0;
    goto L385;

  L385:
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:partition} Buffer_23 != 0;
    goto L389;

  L389:
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_215;
    call {:si_unique_call 2079} FatComputeMoveFileParameter(IrpContext_100, vslice_dummy_var_215, BufferSize, FileOffset_1, ByteCount_17, BytesToReallocate_1, BytesToWrite, LargeSourceLbo);
    assume {:nonnull} ByteCount_17 != 0;
    assume ByteCount_17 > 0;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} Mem_T.INT4[ByteCount_17] != 0;
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_216;
    call {:si_unique_call 2080} FatComputeMoveFileSplicePoints(IrpContext_100, vslice_dummy_var_216, FileOffset_1, TargetCluster_1, Mem_T.INT4[BytesToReallocate_1], FirstSpliceSourceCluster_1, FirstSpliceTargetCluster_1, SecondSpliceSourceCluster_1, SecondSpliceTargetCluster_1, SourceMcb_1);
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    assume {:nonnull} TempByteCount != 0;
    assume TempByteCount > 0;
    Mem_T.INT4[TempByteCount] := Mem_T.INT4[BytesToReallocate_1];
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_217;
    call {:si_unique_call 2081} FatAllocateDiskSpace(IrpContext_100, vslice_dummy_var_217, TargetCluster_1, TempByteCount, 1, TargetMcb);
    goto anon175_Then, anon175_Else;

  anon175_Else:
    assume {:partition} yogi_error != 1;
    DiskSpaceAllocated := 1;
    call {:si_unique_call 2082} sdv_1046 := corral_nondet();
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} sdv_1046 != 1;
    goto L409;

  L409:
    Status_29 := -1073741811;
    goto L130;

  anon150_Then:
    assume {:partition} sdv_1046 == 1;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_218;
    call {:si_unique_call 2083} sdv_1066 := FatGetNextMcbEntry(vslice_dummy_var_218, TargetMcb, 0, TempVbo, TempLbo, TempByteCount);
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:partition} sdv_1066 != 0;
    goto anon152_Then, anon152_Else;

  anon152_Else:
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    assume {:nonnull} TempByteCount != 0;
    assume TempByteCount > 0;
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:partition} Mem_T.INT4[TempByteCount] == Mem_T.INT4[BytesToReallocate_1];
    call {:si_unique_call 2084} Tmp_1738 := corral_nondet();
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_219;
    call {:si_unique_call 2085} FatFlushFatEntries(IrpContext_100, vslice_dummy_var_219, TargetCluster_1, Tmp_1738);
    call {:si_unique_call 2086} vslice_dummy_var_307 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon176_Then, anon176_Else;

  anon176_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    EventArmed := 1;
    call {:si_unique_call 2087} ExReleaseResourceLite(0);
    assume {:nonnull} BytesToWrite != 0;
    assume BytesToWrite > 0;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} Mem_T.INT4[BytesToWrite] != 0;
    call {:si_unique_call 2088} KeInitializeEvent(IoEvent, 0, 0);
    assume {:nonnull} BytesToWrite != 0;
    assume BytesToWrite > 0;
    call {:si_unique_call 2089} IoIrp := IoBuildSynchronousFsdRequest(3, 0, 0, Mem_T.INT4[BytesToWrite], 0, 0, Iosb_17);
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} IoIrp != 0;
    goto L442;

  L442:
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_220;
    call {:si_unique_call 2090} Status_29 := sdv_IoCallDriver(vslice_dummy_var_220, IoIrp);
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:partition} Status_29 == 259;
    call {:si_unique_call 2091} vslice_dummy_var_308 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Iosb_17 != 0;
    assume Iosb_17 > 0;
    Status_29 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_17)];
    goto L447;

  L447:
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:partition} Status_29 >= 0;
    goto L453;

  L453:
    call {:si_unique_call 2092} KeInitializeEvent(IoEvent, 0, 0);
    assume {:nonnull} BytesToWrite != 0;
    assume BytesToWrite > 0;
    call {:si_unique_call 2093} IoIrp := IoBuildSynchronousFsdRequest(4, 0, 0, Mem_T.INT4[BytesToWrite], 0, 0, Iosb_17);
    goto anon158_Then, anon158_Else;

  anon158_Else:
    assume {:partition} IoIrp != 0;
    goto L462;

  L462:
    call {:si_unique_call 2094} sdv_1050 := sdv_IoGetNextIrpStackLocation(IoIrp);
    assume {:nonnull} sdv_1050 != 0;
    assume sdv_1050 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_221;
    call {:si_unique_call 2095} Status_29 := sdv_IoCallDriver(vslice_dummy_var_221, IoIrp);
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} Status_29 == 259;
    call {:si_unique_call 2096} vslice_dummy_var_309 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Iosb_17 != 0;
    assume Iosb_17 > 0;
    Status_29 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_17)];
    goto L471;

  L471:
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} Status_29 < 0;
    assume {:nonnull} IrpContext_100 != 0;
    assume IrpContext_100 > 0;
    call {:si_unique_call 2097} sdv_1044 := corral_nondet();
    call {:si_unique_call 2098} ExRaiseStatus(sdv_1044);
    goto L427;

  L427:
    assume {:nonnull} SecondSpliceSourceCluster_1 != 0;
    assume SecondSpliceSourceCluster_1 > 0;
    assume {:nonnull} SecondSpliceTargetCluster_1 != 0;
    assume SecondSpliceTargetCluster_1 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_222;
    call {:si_unique_call 2099} FatSetFatEntry#1(IrpContext_100, vslice_dummy_var_222, Mem_T.INT4[SecondSpliceSourceCluster_1], Mem_T.INT4[SecondSpliceTargetCluster_1]);
    assume {:nonnull} SecondSpliceSourceCluster_1 != 0;
    assume SecondSpliceSourceCluster_1 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_223;
    call {:si_unique_call 2100} FatFlushFatEntries(IrpContext_100, vslice_dummy_var_223, Mem_T.INT4[SecondSpliceSourceCluster_1], 1);
    assume {:nonnull} FirstSpliceSourceCluster_1 != 0;
    assume FirstSpliceSourceCluster_1 > 0;
    goto anon161_Then, anon161_Else;

  anon161_Else:
    assume {:partition} Mem_T.INT4[FirstSpliceSourceCluster_1] != 0;
    assume {:nonnull} FirstSpliceSourceCluster_1 != 0;
    assume FirstSpliceSourceCluster_1 > 0;
    assume {:nonnull} FirstSpliceTargetCluster_1 != 0;
    assume FirstSpliceTargetCluster_1 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_224;
    call {:si_unique_call 2101} FatSetFatEntry#1(IrpContext_100, vslice_dummy_var_224, Mem_T.INT4[FirstSpliceSourceCluster_1], Mem_T.INT4[FirstSpliceTargetCluster_1]);
    assume {:nonnull} FirstSpliceSourceCluster_1 != 0;
    assume FirstSpliceSourceCluster_1 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_225;
    call {:si_unique_call 2102} FatFlushFatEntries(IrpContext_100, vslice_dummy_var_225, Mem_T.INT4[FirstSpliceSourceCluster_1], 1);
    goto L508;

  L508:
    DiskSpaceAllocated := 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_226;
    call {:si_unique_call 2103} FatDeallocateDiskSpace(IrpContext_100, vslice_dummy_var_226, SourceMcb_1);
    goto anon177_Then, anon177_Else;

  anon177_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2104} FatUnpinRepinnedBcbs(IrpContext_100);
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_227;
    call {:si_unique_call 2105} Status_29 := FatHijackIrpAndFlushDevice(IrpContext_100, Irp_38, vslice_dummy_var_227);
    goto anon162_Then, anon162_Else;

  anon162_Else:
    assume {:partition} Status_29 >= 0;
    goto L521;

  L521:
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_228;
    havoc vslice_dummy_var_229;
    call {:si_unique_call 2106} FatRemoveMcbEntry(vslice_dummy_var_228, vslice_dummy_var_229, FileOffset_1, Mem_T.INT4[BytesToReallocate_1]);
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_230;
    havoc vslice_dummy_var_231;
    call {:si_unique_call 2107} vslice_dummy_var_310 := FatAddMcbEntry(vslice_dummy_var_230, vslice_dummy_var_231, FileOffset_1, TargetLbo, Mem_T.INT4[BytesToReallocate_1]);
    call {:si_unique_call 2108} vslice_dummy_var_311 := KeSetEvent(StackEvent, 0, 0);
    call {:si_unique_call 2109} vslice_dummy_var_312 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon178_Then, anon178_Else;

  anon178_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    EventArmed := 0;
    call {:si_unique_call 2110} ExReleaseResourceLite(0);
    call {:si_unique_call 2111} ExReleaseResourceLite(0);
    FcbAcquired_3 := 0;
    call {:si_unique_call 2112} TargetCluster_1 := corral_nondet();
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    FileOffset_1 := FileOffset_1 + Mem_T.INT4[BytesToReallocate_1];
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    TargetLbo := TargetLbo + Mem_T.INT4[BytesToReallocate_1];
    assume {:nonnull} ByteCount_17 != 0;
    assume ByteCount_17 > 0;
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    Mem_T.INT4[ByteCount_17] := Mem_T.INT4[ByteCount_17] - Mem_T.INT4[BytesToReallocate_1];
    assume {:nonnull} BytesToReallocate_1 != 0;
    assume BytesToReallocate_1 > 0;
    assume {:nonnull} LargeTargetLbo != 0;
    assume LargeTargetLbo > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_232;
    call {:si_unique_call 2113} FatRemoveMcbEntry(vslice_dummy_var_232, SourceMcb_1, 0, -1);
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_233;
    call {:si_unique_call 2114} FatRemoveMcbEntry(vslice_dummy_var_233, TargetMcb, 0, -1);
    call {:si_unique_call 2115} KeClearEvent(StackEvent);
    goto anon178_Else_dummy;

  anon178_Else_dummy:
    assume false;
    return;

  anon178_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon162_Then:
    assume {:partition} 0 > Status_29;
    assume {:nonnull} IrpContext_100 != 0;
    assume IrpContext_100 > 0;
    call {:si_unique_call 2116} sdv_1085 := corral_nondet();
    call {:si_unique_call 2117} ExRaiseStatus(sdv_1085);
    goto L521;

  anon177_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon161_Then:
    assume {:partition} Mem_T.INT4[FirstSpliceSourceCluster_1] == 0;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_234;
    call {:si_unique_call 2118} FatGetDirentFromFcbOrDcb(IrpContext_100, vslice_dummy_var_234, Dirent_18, DirentBcb_8);
    assume {:nonnull} Dirent_18 != 0;
    assume Dirent_18 > 0;
    assume {:nonnull} FirstSpliceTargetCluster_1 != 0;
    assume FirstSpliceTargetCluster_1 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:nonnull} Dirent_18 != 0;
    assume Dirent_18 > 0;
    call {:si_unique_call 2119} boogieTmp := corral_nondet();
    goto L564;

  L564:
    assume {:nonnull} DirentBcb_8 != 0;
    assume DirentBcb_8 > 0;
    assume {:nonnull} Vcb_61 != 0;
    assume Vcb_61 > 0;
    havoc vslice_dummy_var_235;
    havoc vslice_dummy_var_236;
    call {:si_unique_call 2120} FatSetDirtyBcb#1(IrpContext_100, vslice_dummy_var_235, vslice_dummy_var_236, 1);
    assume {:nonnull} DirentBcb_8 != 0;
    assume DirentBcb_8 > 0;
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:nonnull} DirentBcb_8 != 0;
    assume DirentBcb_8 > 0;
    goto L569;

  L569:
    assume {:nonnull} DirentBcb_8 != 0;
    assume DirentBcb_8 > 0;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_237;
    call {:si_unique_call 2121} FatFlushDirentForFile(IrpContext_100, vslice_dummy_var_237);
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    assume {:nonnull} FirstSpliceTargetCluster_1 != 0;
    assume FirstSpliceTargetCluster_1 > 0;
    goto L508;

  anon163_Then:
    goto L569;

  anon179_Then:
    goto L564;

  anon160_Then:
    assume {:partition} 0 <= Status_29;
    goto L427;

  anon159_Then:
    assume {:partition} Status_29 != 259;
    goto L471;

  anon158_Then:
    assume {:partition} IoIrp == 0;
    assume {:nonnull} IrpContext_100 != 0;
    assume IrpContext_100 > 0;
    call {:si_unique_call 2122} ExRaiseStatus(-1073741670);
    goto L462;

  anon157_Then:
    assume {:partition} 0 > Status_29;
    assume {:nonnull} IrpContext_100 != 0;
    assume IrpContext_100 > 0;
    call {:si_unique_call 2123} sdv_1084 := corral_nondet();
    call {:si_unique_call 2124} ExRaiseStatus(sdv_1084);
    goto L453;

  anon156_Then:
    assume {:partition} Status_29 != 259;
    goto L447;

  anon155_Then:
    assume {:partition} IoIrp == 0;
    assume {:nonnull} IrpContext_100 != 0;
    assume IrpContext_100 > 0;
    call {:si_unique_call 2125} ExRaiseStatus(-1073741670);
    goto L442;

  anon154_Then:
    assume {:partition} Mem_T.INT4[BytesToWrite] == 0;
    goto L427;

  anon176_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon153_Then:
    assume {:partition} Mem_T.INT4[TempByteCount] != Mem_T.INT4[BytesToReallocate_1];
    goto L409;

  anon152_Then:
    goto L409;

  anon151_Then:
    assume {:partition} sdv_1066 == 0;
    goto L409;

  anon175_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon149_Then:
    assume {:partition} Mem_T.INT4[ByteCount_17] == 0;
    goto L374;

  L374:
    Status_29 := 0;
    goto L130;

  anon148_Then:
    assume {:partition} Buffer_23 == 0;
    call {:si_unique_call 2126} Buffer_23 := ExAllocatePoolWithTag(16, BufferSize, -948674234);
    goto L389;

  anon147_Then:
    assume {:partition} FcbAcquired_3 == 0;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_238;
    call {:si_unique_call 2127} vslice_dummy_var_306 := FatAcquireExclusiveFcb(IrpContext_100, vslice_dummy_var_238);
    goto anon180_Then, anon180_Else;

  anon180_Else:
    assume {:partition} yogi_error != 1;
    FcbAcquired_3 := 1;
    assume {:nonnull} FcbOrDcb_8 != 0;
    assume FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_239;
    call {:si_unique_call 2128} FatVerifyFcb(IrpContext_100, vslice_dummy_var_239);
    goto L385;

  anon180_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon146_Then:
    assume {:partition} Mem_T.INT4[ByteCount_17] == 0;
    goto L374;

  anon174_Then:
    goto L372;

  anon173_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon172_Then:
    assume {:partition} TypeOfOpen_5 != 3;
    goto L351;

  anon135_Then:
    goto L107;

  anon136_Then:
    goto L107;

  anon166_Then:
    assume {:partition} Mem_T.INT4[Tmp_1736] != 1284;
    goto L116;

  anon133_Then:
    assume {:partition} TypeOfOpen_5 != 3;
    goto L114;

  anon132_Then:
    assume {:partition} TypeOfOpen_5 == 2;
    goto L105;

  anon130_Then:
    assume {:partition} 0 > Status_29;
    call {:si_unique_call 2129} FatCompleteRequest_Real(IrpContext_100, Irp_38, Status_29);
    Tmp_1735 := Status_29;
    goto L1;

  anon129_Then:
    goto L76;

  anon128_Then:
    goto L76;

  anon127_Then:
    goto L76;

  anon126_Then:
    assume {:partition} TargetCluster_1 < 2;
    goto L76;

  anon125_Then:
    goto L76;

  anon124_Then:
    assume {:partition} InputBufferLength_2 < 32;
    goto L68;

  L68:
    call {:si_unique_call 2130} FatCompleteRequest_Real(IrpContext_100, Irp_38, -1073741789);
    Tmp_1735 := -1073741789;
    goto L1;

  anon164_Then:
    assume {:partition} InputBuffer_1 == 0;
    goto L68;

  anon123_Then:
    goto L61;

  L61:
    call {:si_unique_call 2131} FatCompleteRequest_Real(IrpContext_100, Irp_38, -1073741811);
    Tmp_1735 := -1073741811;
    goto L1;

  anon122_Then:
    goto L61;
}



procedure {:origName "FatUnlockVolumeInternal"} FatUnlockVolumeInternal(actual_IrpContext_101: int, actual_Vcb_62: int, actual_FileObject_35: int) returns (Tmp_1739: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} Tmp_1739 == 0 || Tmp_1739 == -1073741782;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatUnlockVolumeInternal"} FatUnlockVolumeInternal(actual_IrpContext_101: int, actual_Vcb_62: int, actual_FileObject_35: int) returns (Tmp_1739: int)
{
  var {:scalar} SavedIrql_3: int;
  var {:pointer} Tmp_1740: int;
  var {:scalar} Status_30: int;
  var {:pointer} Tmp_1741: int;
  var {:pointer} Tmp_1742: int;
  var {:pointer} Tmp_1743: int;
  var {:pointer} Vcb_62: int;
  var {:pointer} FileObject_35: int;

  anon0:
    Vcb_62 := actual_Vcb_62;
    FileObject_35 := actual_FileObject_35;
    Status_30 := -1073741782;
    call {:si_unique_call 2132} Tmp_1742 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1742 != 0;
    assume Tmp_1742 > 0;
    Mem_T.INT4[Tmp_1742] := SavedIrql_3;
    call {:si_unique_call 2133} IoAcquireVpbSpinLock(Tmp_1742);
    assume {:nonnull} Tmp_1742 != 0;
    assume Tmp_1742 > 0;
    SavedIrql_3 := Mem_T.INT4[Tmp_1742];
    assume {:nonnull} Vcb_62 != 0;
    assume Vcb_62 > 0;
    havoc Tmp_1743;
    assume {:nonnull} Tmp_1743 != 0;
    assume Tmp_1743 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:nonnull} Vcb_62 != 0;
    assume Vcb_62 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:nonnull} Vcb_62 != 0;
    assume Vcb_62 > 0;
    havoc Tmp_1741;
    assume {:nonnull} Vcb_62 != 0;
    assume Vcb_62 > 0;
    havoc Tmp_1740;
    assume {:nonnull} Tmp_1740 != 0;
    assume Tmp_1740 > 0;
    assume {:nonnull} Tmp_1741 != 0;
    assume Tmp_1741 > 0;
    assume {:nonnull} Vcb_62 != 0;
    assume Vcb_62 > 0;
    assume {:nonnull} Vcb_62 != 0;
    assume Vcb_62 > 0;
    Status_30 := 0;
    goto L10;

  L10:
    call {:si_unique_call 2134} IoReleaseVpbSpinLock(SavedIrql_3);
    Tmp_1739 := Status_30;
    return;

  anon5_Then:
    goto L10;

  anon6_Then:
    goto L10;
}



procedure {:origName "FatAllowExtendedDasdIo"} FatAllowExtendedDasdIo(actual_IrpContext_102: int, actual_Irp_39: int) returns (Tmp_1744: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_1744 == -1073741811 || Tmp_1744 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAllowExtendedDasdIo"} FatAllowExtendedDasdIo(actual_IrpContext_102: int, actual_Irp_39: int) returns (Tmp_1744: int)
{
  var {:pointer} Ccb_22: int;
  var {:pointer} Fcb_39: int;
  var {:pointer} IrpSp_18: int;
  var {:scalar} sdv_1089: int;
  var {:pointer} Vcb_63: int;
  var {:pointer} IrpContext_102: int;
  var {:pointer} Irp_39: int;
  var vslice_dummy_var_240: int;

  anon0:
    call {:si_unique_call 2135} Ccb_22 := __HAVOC_malloc(4);
    call {:si_unique_call 2136} Fcb_39 := __HAVOC_malloc(4);
    call {:si_unique_call 2137} Vcb_63 := __HAVOC_malloc(4);
    IrpContext_102 := actual_IrpContext_102;
    Irp_39 := actual_Irp_39;
    call {:si_unique_call 2138} IrpSp_18 := sdv_IoGetCurrentIrpStackLocation(Irp_39);
    assume {:nonnull} IrpSp_18 != 0;
    assume IrpSp_18 > 0;
    havoc vslice_dummy_var_240;
    call {:si_unique_call 2139} sdv_1089 := FatDecodeFileObject(vslice_dummy_var_240, Vcb_63, Fcb_39, Ccb_22);
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} sdv_1089 != 4;
    call {:si_unique_call 2140} FatCompleteRequest_Real(IrpContext_102, Irp_39, -1073741811);
    Tmp_1744 := -1073741811;
    goto L1;

  L1:
    return;

  anon7_Then:
    assume {:partition} sdv_1089 == 4;
    assume {:nonnull} Ccb_22 != 0;
    assume Ccb_22 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:nonnull} Ccb_22 != 0;
    assume Ccb_22 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} Ccb_22 != 0;
    assume Ccb_22 > 0;
    call {:si_unique_call 2141} FatCompleteRequest_Real(IrpContext_102, Irp_39, 0);
    Tmp_1744 := 0;
    goto L1;

  anon9_Then:
    goto L20;

  L20:
    call {:si_unique_call 2142} FatCompleteRequest_Real(IrpContext_102, Irp_39, -1073741811);
    Tmp_1744 := -1073741811;
    goto L1;

  anon8_Then:
    goto L20;
}



procedure {:origName "FatIsBootSectorFat"} FatIsBootSectorFat(actual_BootSector: int) returns (Tmp_1746: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_1746 == 0 || Tmp_1746 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsBootSectorFat"} FatIsBootSectorFat(actual_BootSector: int) returns (Tmp_1746: int)
{
  var {:pointer} Tmp_1747: int;
  var {:pointer} Tmp_1748: int;
  var {:pointer} Tmp_1749: int;
  var {:pointer} Tmp_1750: int;
  var {:pointer} Tmp_1751: int;
  var {:pointer} Tmp_1752: int;
  var {:pointer} Tmp_1753: int;
  var {:pointer} Tmp_1755: int;
  var {:pointer} Tmp_1756: int;
  var {:pointer} Tmp_1757: int;
  var {:pointer} Tmp_1758: int;
  var {:pointer} Tmp_1759: int;
  var {:pointer} Tmp_1760: int;
  var {:pointer} Tmp_1761: int;
  var {:pointer} Tmp_1762: int;
  var {:pointer} Tmp_1763: int;
  var {:pointer} Tmp_1764: int;
  var {:pointer} Tmp_1765: int;
  var {:pointer} Tmp_1766: int;
  var {:pointer} Tmp_1767: int;
  var {:pointer} Tmp_1768: int;
  var {:pointer} Tmp_1769: int;
  var {:pointer} Tmp_1770: int;
  var {:pointer} Tmp_1771: int;
  var {:pointer} Tmp_1772: int;
  var {:pointer} Tmp_1773: int;
  var {:pointer} Tmp_1774: int;
  var {:pointer} Tmp_1775: int;
  var {:pointer} Tmp_1776: int;
  var {:pointer} Tmp_1777: int;
  var {:pointer} Tmp_1778: int;
  var {:pointer} Tmp_1779: int;
  var {:pointer} Tmp_1780: int;
  var {:pointer} Tmp_1781: int;
  var {:pointer} Tmp_1782: int;
  var {:pointer} Tmp_1783: int;
  var {:pointer} Tmp_1784: int;
  var {:pointer} Tmp_1785: int;
  var {:pointer} Tmp_1786: int;
  var {:pointer} Tmp_1787: int;
  var {:pointer} Tmp_1788: int;
  var {:pointer} Tmp_1789: int;
  var {:pointer} Tmp_1790: int;
  var {:pointer} Tmp_1791: int;
  var {:pointer} Tmp_1792: int;
  var {:pointer} Tmp_1793: int;
  var {:pointer} Tmp_1794: int;
  var {:pointer} Tmp_1795: int;
  var {:scalar} Bpb: int;
  var {:pointer} Tmp_1796: int;
  var {:pointer} Tmp_1797: int;
  var {:pointer} Tmp_1798: int;
  var {:pointer} Tmp_1799: int;
  var {:pointer} Tmp_1800: int;
  var {:pointer} Tmp_1801: int;
  var {:pointer} Tmp_1802: int;
  var {:pointer} Tmp_1803: int;
  var {:pointer} Tmp_1804: int;
  var {:scalar} Result_3: int;
  var {:pointer} BootSector: int;

  anon0:
    call {:si_unique_call 2143} Bpb := __HAVOC_malloc(88);
    BootSector := actual_BootSector;
    call {:si_unique_call 2144} Tmp_1748 := __HAVOC_malloc(8);
    call {:si_unique_call 2145} Tmp_1750 := __HAVOC_malloc(8);
    call {:si_unique_call 2146} Tmp_1751 := __HAVOC_malloc(8);
    call {:si_unique_call 2147} Tmp_1760 := __HAVOC_malloc(16);
    call {:si_unique_call 2148} Tmp_1761 := __HAVOC_malloc(16);
    call {:si_unique_call 2149} Tmp_1762 := __HAVOC_malloc(8);
    call {:si_unique_call 2150} Tmp_1763 := __HAVOC_malloc(16);
    call {:si_unique_call 2151} Tmp_1764 := __HAVOC_malloc(8);
    call {:si_unique_call 2152} Tmp_1770 := __HAVOC_malloc(4);
    call {:si_unique_call 2153} Tmp_1772 := __HAVOC_malloc(8);
    call {:si_unique_call 2154} Tmp_1773 := __HAVOC_malloc(8);
    call {:si_unique_call 2155} Tmp_1776 := __HAVOC_malloc(16);
    call {:si_unique_call 2156} Tmp_1778 := __HAVOC_malloc(8);
    call {:si_unique_call 2157} Tmp_1783 := __HAVOC_malloc(8);
    call {:si_unique_call 2158} Tmp_1786 := __HAVOC_malloc(12);
    call {:si_unique_call 2159} Tmp_1787 := __HAVOC_malloc(12);
    call {:si_unique_call 2160} Tmp_1790 := __HAVOC_malloc(8);
    call {:si_unique_call 2161} Tmp_1793 := __HAVOC_malloc(12);
    call {:si_unique_call 2162} Tmp_1797 := __HAVOC_malloc(4);
    call {:si_unique_call 2163} Tmp_1798 := __HAVOC_malloc(8);
    call {:si_unique_call 2164} Tmp_1802 := __HAVOC_malloc(4);
    Result_3 := 1;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1767 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1767 != 0;
    assume Tmp_1767 > 0;
    havoc Tmp_1762;
    Tmp_1796 := Tmp_1762;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1796 != 0;
    assume Tmp_1796 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1756 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1756 != 0;
    assume Tmp_1756 > 0;
    havoc Tmp_1802;
    Tmp_1781 := Tmp_1802;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1781 != 0;
    assume Tmp_1781 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1771 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1771 != 0;
    assume Tmp_1771 > 0;
    havoc Tmp_1790;
    Tmp_1784 := Tmp_1790;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1784 != 0;
    assume Tmp_1784 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1785 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1785 != 0;
    assume Tmp_1785 > 0;
    havoc Tmp_1797;
    Tmp_1791 := Tmp_1797;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1791 != 0;
    assume Tmp_1791 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1801 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1801 != 0;
    assume Tmp_1801 > 0;
    havoc Tmp_1773;
    Tmp_1757 := Tmp_1773;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1757 != 0;
    assume Tmp_1757 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1803 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1803 != 0;
    assume Tmp_1803 > 0;
    havoc Tmp_1798;
    Tmp_1747 := Tmp_1798;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1747 != 0;
    assume Tmp_1747 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1769 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1769 != 0;
    assume Tmp_1769 > 0;
    havoc Tmp_1770;
    Tmp_1759 := Tmp_1770;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1759 != 0;
    assume Tmp_1759 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1768 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1768 != 0;
    assume Tmp_1768 > 0;
    havoc Tmp_1772;
    Tmp_1789 := Tmp_1772;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1789 != 0;
    assume Tmp_1789 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1792 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1792 != 0;
    assume Tmp_1792 > 0;
    havoc Tmp_1764;
    Tmp_1774 := Tmp_1764;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1774 != 0;
    assume Tmp_1774 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1752 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1752 != 0;
    assume Tmp_1752 > 0;
    havoc Tmp_1751;
    Tmp_1779 := Tmp_1751;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1779 != 0;
    assume Tmp_1779 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1765 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1765 != 0;
    assume Tmp_1765 > 0;
    havoc Tmp_1776;
    Tmp_1775 := Tmp_1776;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1775 != 0;
    assume Tmp_1775 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1749 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1749 != 0;
    assume Tmp_1749 > 0;
    havoc Tmp_1763;
    Tmp_1766 := Tmp_1763;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1766 != 0;
    assume Tmp_1766 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1755 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1755 != 0;
    assume Tmp_1755 > 0;
    havoc Tmp_1761;
    Tmp_1777 := Tmp_1761;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1777 != 0;
    assume Tmp_1777 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1804 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1804 != 0;
    assume Tmp_1804 > 0;
    havoc Tmp_1748;
    Tmp_1799 := Tmp_1748;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1799 != 0;
    assume Tmp_1799 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1758 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1758 != 0;
    assume Tmp_1758 > 0;
    havoc Tmp_1778;
    Tmp_1788 := Tmp_1778;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1788 != 0;
    assume Tmp_1788 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1794 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1794 != 0;
    assume Tmp_1794 > 0;
    havoc Tmp_1760;
    Tmp_1753 := Tmp_1760;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1753 != 0;
    assume Tmp_1753 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1795 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1795 != 0;
    assume Tmp_1795 > 0;
    havoc Tmp_1750;
    Tmp_1782 := Tmp_1750;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1782 != 0;
    assume Tmp_1782 > 0;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    Tmp_1780 := PackedBpb__PACKED_BOOT_SECTOR(BootSector);
    assume {:nonnull} Tmp_1780 != 0;
    assume Tmp_1780 > 0;
    havoc Tmp_1783;
    Tmp_1800 := Tmp_1783;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    assume {:nonnull} Tmp_1800 != 0;
    assume Tmp_1800 > 0;
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto L25;

  L25:
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    havoc Tmp_1793;
    assume {:nonnull} Tmp_1793 != 0;
    assume Tmp_1793 > 0;
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} Mem_T.INT4[Tmp_1793] != 233;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    havoc Tmp_1786;
    assume {:nonnull} Tmp_1786 != 0;
    assume Tmp_1786 > 0;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:partition} Mem_T.INT4[Tmp_1786] != 235;
    assume {:nonnull} BootSector != 0;
    assume BootSector > 0;
    havoc Tmp_1787;
    assume {:nonnull} Tmp_1787 != 0;
    assume Tmp_1787 > 0;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:partition} Mem_T.INT4[Tmp_1787] != 73;
    Result_3 := 0;
    goto L31;

  L31:
    Tmp_1746 := Result_3;
    return;

  anon123_Then:
    assume {:partition} Mem_T.INT4[Tmp_1787] == 73;
    goto L27;

  L27:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    Result_3 := 0;
    goto L31;

  anon89_Then:
    goto L32;

  L32:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon97_Then, anon97_Else;

  anon97_Else:
    Result_3 := 0;
    goto L31;

  anon97_Then:
    goto L39;

  L39:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon99_Then, anon99_Else;

  anon99_Else:
    goto L53;

  L53:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon101_Then, anon101_Else;

  anon101_Else:
    goto L55;

  L55:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon111_Then, anon111_Else;

  anon111_Else:
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon115_Then, anon115_Else;

  anon115_Else:
    goto L65;

  L65:
    Result_3 := 0;
    goto L31;

  anon115_Then:
    goto L56;

  L56:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon117_Then, anon117_Else;

  anon117_Else:
    Result_3 := 0;
    goto L31;

  anon117_Then:
    goto L69;

  L69:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon118_Then, anon118_Else;

  anon118_Else:
    Result_3 := 0;
    goto L31;

  anon118_Then:
    goto L31;

  anon116_Then:
    goto L31;

  anon104_Then:
    goto L69;

  anon114_Then:
    goto L56;

  anon113_Then:
    goto L56;

  anon112_Then:
    goto L65;

  anon111_Then:
    goto L56;

  anon110_Then:
    goto L56;

  anon109_Then:
    goto L56;

  anon108_Then:
    goto L56;

  anon107_Then:
    goto L56;

  anon106_Then:
    goto L56;

  anon105_Then:
    goto L56;

  anon103_Then:
    goto L56;

  anon101_Then:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    goto L74;

  L74:
    Result_3 := 0;
    goto L31;

  anon119_Then:
    goto L55;

  anon102_Then:
    goto L74;

  anon99_Then:
    assume {:nonnull} Bpb != 0;
    assume Bpb > 0;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    Result_3 := 0;
    goto L31;

  anon100_Then:
    goto L53;

  anon98_Then:
    Result_3 := 0;
    goto L31;

  anon90_Then:
    Result_3 := 0;
    goto L31;

  anon96_Then:
    goto L39;

  anon95_Then:
    goto L39;

  anon94_Then:
    goto L39;

  anon93_Then:
    goto L39;

  anon92_Then:
    goto L39;

  anon91_Then:
    goto L39;

  anon84_Then:
    goto L39;

  anon88_Then:
    goto L32;

  anon87_Then:
    goto L32;

  anon86_Then:
    goto L32;

  anon85_Then:
    goto L32;

  anon83_Then:
    goto L32;

  anon122_Then:
    assume {:partition} Mem_T.INT4[Tmp_1786] == 235;
    goto L27;

  anon121_Then:
    assume {:partition} Mem_T.INT4[Tmp_1793] == 233;
    goto L27;

  anon120_Then:
    goto L25;
}



procedure {:origName "FatOplockRequest"} FatOplockRequest(actual_IrpContext_103: int, actual_Irp_40: int) returns (Tmp_1805: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOplockRequest"} FatOplockRequest(actual_IrpContext_103: int, actual_Irp_40: int) returns (Tmp_1805: int)
{
  var {:pointer} Ccb_23: int;
  var {:pointer} Tmp_1806: int;
  var {:pointer} Fcb_40: int;
  var {:scalar} AcquiredFcb: int;
  var {:scalar} Status_31: int;
  var {:scalar} Tmp_1810: int;
  var {:pointer} Tmp_1811: int;
  var {:pointer} IrpSp_19: int;
  var {:scalar} sdv_1093: int;
  var {:scalar} sdv_1094: int;
  var {:pointer} Tmp_1812: int;
  var {:pointer} Tmp_1813: int;
  var {:scalar} FsControlCode: int;
  var {:pointer} Vcb_64: int;
  var {:scalar} sdv_1098: int;
  var {:scalar} Tmp_1815: int;
  var {:scalar} AcquiredVcb: int;
  var {:pointer} IrpContext_103: int;
  var {:pointer} Irp_40: int;
  var vslice_dummy_var_314: int;
  var vslice_dummy_var_315: int;
  var vslice_dummy_var_316: int;
  var vslice_dummy_var_241: int;
  var vslice_dummy_var_242: int;
  var vslice_dummy_var_243: int;
  var vslice_dummy_var_244: int;

  anon0:
    call {:si_unique_call 2165} Ccb_23 := __HAVOC_malloc(4);
    call {:si_unique_call 2166} Fcb_40 := __HAVOC_malloc(4);
    call {:si_unique_call 2167} Vcb_64 := __HAVOC_malloc(4);
    IrpContext_103 := actual_IrpContext_103;
    Irp_40 := actual_Irp_40;
    call {:si_unique_call 2168} IrpSp_19 := sdv_IoGetCurrentIrpStackLocation(Irp_40);
    AcquiredVcb := 0;
    AcquiredFcb := 0;
    assume {:nonnull} IrpSp_19 != 0;
    assume IrpSp_19 > 0;
    havoc FsControlCode;
    assume {:nonnull} IrpSp_19 != 0;
    assume IrpSp_19 > 0;
    havoc vslice_dummy_var_241;
    call {:si_unique_call 2169} sdv_1094 := FatDecodeFileObject(vslice_dummy_var_241, Vcb_64, Fcb_40, Ccb_23);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} sdv_1094 != 2;
    call {:si_unique_call 2170} FatCompleteRequest_Real(IrpContext_103, Irp_40, -1073741811);
    Tmp_1805 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon43_Then:
    assume {:partition} sdv_1094 == 2;
    assume {:nonnull} IrpContext_103 != 0;
    assume IrpContext_103 > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} FsControlCode != 589824;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} FsControlCode != 589828;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} FsControlCode != 589832;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} FsControlCode != 589836;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} FsControlCode != 589840;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} FsControlCode != 589844;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} FsControlCode != 589904;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} FsControlCode == 589916;
    goto L33;

  L33:
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    havoc vslice_dummy_var_242;
    call {:si_unique_call 2171} vslice_dummy_var_314 := FatAcquireSharedVcb(IrpContext_103, vslice_dummy_var_242);
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} yogi_error != 1;
    AcquiredVcb := 1;
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    havoc vslice_dummy_var_243;
    call {:si_unique_call 2172} vslice_dummy_var_316 := FatAcquireExclusiveFcb(IrpContext_103, vslice_dummy_var_243);
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} yogi_error != 1;
    AcquiredFcb := 1;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} FsControlCode == 589828;
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    havoc Tmp_1806;
    assume {:nonnull} Tmp_1806 != 0;
    assume Tmp_1806 > 0;
    goto L56;

  L56:
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    call {:si_unique_call 2173} Status_31 := corral_nondet();
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    goto L64;

  L64:
    Tmp_1815 := 0;
    goto L65;

  L65:
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} AcquiredVcb != 0;
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    call {:si_unique_call 2174} ExReleaseResourceLite(0);
    goto L67;

  L67:
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} AcquiredFcb != 0;
    call {:si_unique_call 2175} ExReleaseResourceLite(0);
    goto L71;

  L71:
    call {:si_unique_call 2176} sdv_1093 := sdv_AbnormalTermination();
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} sdv_1093 != 0;
    goto L81;

  L81:
    Tmp_1805 := Status_31;
    goto L1;

  anon46_Then:
    assume {:partition} sdv_1093 == 0;
    call {:si_unique_call 2177} FatCompleteRequest_Real(IrpContext_103, 0, 0);
    goto L81;

  anon45_Then:
    assume {:partition} AcquiredFcb == 0;
    goto L71;

  anon59_Then:
    assume {:partition} AcquiredVcb == 0;
    goto L67;

  anon44_Then:
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    call {:si_unique_call 2178} sdv_1098 := corral_nondet();
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} sdv_1098 != 0;
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    havoc Tmp_1811;
    assume {:nonnull} Tmp_1811 != 0;
    assume Tmp_1811 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    goto L85;

  L85:
    Tmp_1810 := 2;
    goto L86;

  L86:
    Tmp_1815 := Tmp_1810;
    goto L65;

  anon60_Then:
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    havoc Tmp_1813;
    assume {:nonnull} Tmp_1813 != 0;
    assume Tmp_1813 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    havoc Tmp_1812;
    assume {:nonnull} Tmp_1812 != 0;
    assume Tmp_1812 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    Tmp_1810 := 1;
    goto L86;

  anon62_Then:
    goto L85;

  anon61_Then:
    goto L85;

  anon47_Then:
    assume {:partition} sdv_1098 == 0;
    goto L64;

  anon58_Then:
    assume {:partition} FsControlCode != 589828;
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    goto L56;

  anon57_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon56_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon48_Then:
    assume {:partition} FsControlCode != 589916;
    call {:si_unique_call 2179} KeBugCheckEx(35, 1247956, FsControlCode, 0, 0);
    goto L56;

  anon49_Then:
    assume {:partition} FsControlCode == 589904;
    goto L36;

  L36:
    assume {:nonnull} Fcb_40 != 0;
    assume Fcb_40 > 0;
    havoc vslice_dummy_var_244;
    call {:si_unique_call 2180} vslice_dummy_var_315 := FatAcquireSharedFcb(IrpContext_103, vslice_dummy_var_244);
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} yogi_error != 1;
    AcquiredFcb := 1;
    goto L56;

  anon63_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon50_Then:
    assume {:partition} FsControlCode == 589844;
    goto L36;

  anon51_Then:
    assume {:partition} FsControlCode == 589840;
    goto L36;

  anon52_Then:
    assume {:partition} FsControlCode == 589836;
    goto L36;

  anon53_Then:
    assume {:partition} FsControlCode == 589832;
    goto L33;

  anon54_Then:
    assume {:partition} FsControlCode == 589828;
    goto L33;

  anon55_Then:
    assume {:partition} FsControlCode == 589824;
    goto L33;
}



procedure {:origName "FatGetRetrievalPointers"} FatGetRetrievalPointers(actual_IrpContext_104: int, actual_Irp_41: int) returns (Tmp_1816: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_current == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetRetrievalPointers"} FatGetRetrievalPointers(actual_IrpContext_104: int, actual_Irp_41: int) returns (Tmp_1816: int)
{
  var {:scalar} Tmp_1817: int;
  var {:scalar} Tmp_1818: int;
  var {:scalar} Tmp_1819: int;
  var {:pointer} Tmp_1820: int;
  var {:pointer} Ccb_24: int;
  var {:dopa} {:scalar} Lbo_13: int;
  var {:scalar} sdv_1100: int;
  var {:pointer} Tmp_1821: int;
  var {:pointer} Tmp_1824: int;
  var {:scalar} StartingVcn: int;
  var {:scalar} Status_32: int;
  var {:pointer} OutputBuffer_3: int;
  var {:scalar} RunCount: int;
  var {:pointer} Tmp_1826: int;
  var {:scalar} TypeOfOpen_6: int;
  var {:pointer} IrpSp_20: int;
  var {:scalar} sdv_1106: int;
  var {:pointer} sdv_1107: int;
  var {:scalar} OutputBufferLength_3: int;
  var {:pointer} Vcb_65: int;
  var {:dopa} {:scalar} Vcn: int;
  var {:scalar} Run: int;
  var {:dopa} {:scalar} Lbo_14: int;
  var {:pointer} FcbOrDcb_9: int;
  var {:pointer} Tmp_1828: int;
  var {:dopa} {:scalar} ByteLength: int;
  var {:scalar} Index_5: int;
  var {:pointer} Tmp_1832: int;
  var {:dopa} {:scalar} StartingRun: int;
  var {:scalar} InputBufferLength_3: int;
  var {:scalar} sdv_1111: int;
  var {:pointer} IrpContext_104: int;
  var {:pointer} Irp_41: int;
  var boogieTmp: int;
  var vslice_dummy_var_317: int;
  var vslice_dummy_var_318: int;
  var vslice_dummy_var_245: int;
  var vslice_dummy_var_246: int;
  var vslice_dummy_var_247: int;
  var vslice_dummy_var_248: int;
  var vslice_dummy_var_249: int;
  var vslice_dummy_var_250: int;
  var vslice_dummy_var_251: int;
  var vslice_dummy_var_252: int;
  var vslice_dummy_var_253: int;
  var vslice_dummy_var_254: int;
  var vslice_dummy_var_255: int;
  var vslice_dummy_var_256: int;
  var vslice_dummy_var_257: int;
  var vslice_dummy_var_258: int;

  anon0:
    call {:si_unique_call 2181} Ccb_24 := __HAVOC_malloc(4);
    call {:si_unique_call 2182} Lbo_13 := __HAVOC_malloc(4);
    call {:si_unique_call 2183} StartingVcn := __HAVOC_malloc(20);
    call {:si_unique_call 2184} Vcb_65 := __HAVOC_malloc(4);
    call {:si_unique_call 2185} Vcn := __HAVOC_malloc(4);
    call {:si_unique_call 2186} Lbo_14 := __HAVOC_malloc(4);
    call {:si_unique_call 2187} FcbOrDcb_9 := __HAVOC_malloc(4);
    call {:si_unique_call 2188} ByteLength := __HAVOC_malloc(4);
    call {:si_unique_call 2189} StartingRun := __HAVOC_malloc(4);
    IrpContext_104 := actual_IrpContext_104;
    Irp_41 := actual_Irp_41;
    call {:si_unique_call 2190} Tmp_1821 := __HAVOC_malloc(40);
    call {:si_unique_call 2191} Tmp_1826 := __HAVOC_malloc(40);
    call {:si_unique_call 2192} IrpSp_20 := sdv_IoGetCurrentIrpStackLocation(Irp_41);
    assume {:nonnull} IrpContext_104 != 0;
    assume IrpContext_104 > 0;
    assume {:nonnull} IrpSp_20 != 0;
    assume IrpSp_20 > 0;
    havoc vslice_dummy_var_245;
    call {:si_unique_call 2193} TypeOfOpen_6 := FatDecodeFileObject(vslice_dummy_var_245, Vcb_65, FcbOrDcb_9, Ccb_24);
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} TypeOfOpen_6 != 2;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} TypeOfOpen_6 != 3;
    call {:si_unique_call 2194} FatCompleteRequest_Real(IrpContext_104, Irp_41, -1073741811);
    Tmp_1816 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon42_Then:
    assume {:partition} TypeOfOpen_6 == 3;
    goto L30;

  L30:
    assume {:nonnull} IrpSp_20 != 0;
    assume IrpSp_20 > 0;
    havoc InputBufferLength_3;
    assume {:nonnull} IrpSp_20 != 0;
    assume IrpSp_20 > 0;
    havoc OutputBufferLength_3;
    call {:si_unique_call 2195} sdv_1107 := FatMapUserBuffer(IrpContext_104, Irp_41);
    OutputBuffer_3 := sdv_1107;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} 8 > InputBufferLength_3;
    goto L43;

  L43:
    call {:si_unique_call 2196} FatCompleteRequest_Real(IrpContext_104, Irp_41, -1073741789);
    Tmp_1816 := -1073741789;
    goto L1;

  anon51_Then:
    assume {:partition} InputBufferLength_3 >= 8;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} 32 <= OutputBufferLength_3;
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc Tmp_1828;
    assume {:nonnull} Tmp_1828 != 0;
    assume Tmp_1828 > 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc vslice_dummy_var_246;
    call {:si_unique_call 2197} vslice_dummy_var_318 := FatAcquireSharedFcb(IrpContext_104, vslice_dummy_var_246);
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} yogi_error != 1;
    goto L54;

  L54:
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc vslice_dummy_var_247;
    call {:si_unique_call 2198} FatVerifyFcb(IrpContext_104, vslice_dummy_var_247);
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc vslice_dummy_var_248;
    call {:si_unique_call 2199} FatLookupFileAllocationSize#1(IrpContext_104, vslice_dummy_var_248);
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc Tmp_1820;
    assume {:nonnull} Tmp_1820 != 0;
    assume Tmp_1820 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} Mem_T.INT4[Tmp_1820] == 1283;
    goto L74;

  L74:
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    goto L68;

  L68:
    assume {:nonnull} Vcb_65 != 0;
    assume Vcb_65 > 0;
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    assume {:nonnull} Irp_41 != 0;
    assume Irp_41 > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    call {:si_unique_call 2200} ProbeForRead(0, InputBufferLength_3, 1);
    call {:si_unique_call 2201} ProbeForWrite(0, OutputBufferLength_3, 1);
    goto L78;

  L78:
    assume {:nonnull} IrpSp_20 != 0;
    assume IrpSp_20 > 0;
    havoc Tmp_1824;
    assume {:nonnull} StartingVcn != 0;
    assume StartingVcn > 0;
    assume {:nonnull} Tmp_1824 != 0;
    assume Tmp_1824 > 0;
    assume {:nonnull} StartingVcn != 0;
    assume StartingVcn > 0;
    assume {:nonnull} Tmp_1824 != 0;
    assume Tmp_1824 > 0;
    assume {:nonnull} StartingVcn != 0;
    assume StartingVcn > 0;
    assume {:nonnull} Tmp_1824 != 0;
    assume Tmp_1824 > 0;
    assume {:nonnull} StartingVcn != 0;
    assume StartingVcn > 0;
    assume {:nonnull} Tmp_1824 != 0;
    assume Tmp_1824 > 0;
    assume {:nonnull} StartingVcn != 0;
    assume StartingVcn > 0;
    assume {:nonnull} Tmp_1824 != 0;
    assume Tmp_1824 > 0;
    assume {:nonnull} StartingVcn != 0;
    assume StartingVcn > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    goto L108;

  L108:
    Status_32 := -1073741807;
    goto L110;

  L110:
    call {:si_unique_call 2202} ExReleaseResourceLite(0);
    call {:si_unique_call 2203} sdv_1111 := sdv_AbnormalTermination();
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} sdv_1111 != 0;
    goto L120;

  L120:
    Tmp_1816 := Status_32;
    goto L1;

  anon47_Then:
    assume {:partition} sdv_1111 == 0;
    call {:si_unique_call 2204} FatCompleteRequest_Real(IrpContext_104, Irp_41, Status_32);
    goto L120;

  anon56_Then:
    goto anon46_Then, anon46_Else;

  anon46_Else:
    call {:si_unique_call 2205} Tmp_1819 := corral_nondet();
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc vslice_dummy_var_249;
    havoc vslice_dummy_var_250;
    call {:si_unique_call 2206} sdv_1106 := FatLookupMcbEntry(vslice_dummy_var_249, vslice_dummy_var_250, Tmp_1819, Lbo_13, 0, StartingRun);
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} sdv_1106 != 0;
    goto L130;

  L130:
    call {:si_unique_call 2207} RunCount := corral_nondet();
    Index_5 := 0;
    assume {:nonnull} StartingRun != 0;
    assume StartingRun > 0;
    Run := Mem_T.INT4[StartingRun];
    goto L136;

  L136:
    call {:si_unique_call 2208} Tmp_1817, Tmp_1818, sdv_1100, Tmp_1821, Tmp_1826, Run, Index_5, boogieTmp := FatGetRetrievalPointers_loop_L136(Tmp_1817, Tmp_1818, sdv_1100, Tmp_1821, OutputBuffer_3, RunCount, Tmp_1826, OutputBufferLength_3, Vcb_65, Vcn, Run, Lbo_14, FcbOrDcb_9, ByteLength, Index_5, StartingRun, boogieTmp);
    goto L136_last;

  L136_last:
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} RunCount > Run;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} !true;
    assume {:nonnull} OutputBuffer_3 != 0;
    assume OutputBuffer_3 > 0;
    assume {:nonnull} Irp_41 != 0;
    assume Irp_41 > 0;
    Status_32 := 5;
    goto L110;

  anon57_Then:
    assume {:partition} true;
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    assume {:nonnull} Vcb_65 != 0;
    assume Vcb_65 > 0;
    havoc vslice_dummy_var_251;
    havoc vslice_dummy_var_252;
    call {:si_unique_call 2209} sdv_1100 := FatGetNextMcbEntry(vslice_dummy_var_251, vslice_dummy_var_252, Run, Vcn, Lbo_14, ByteLength);
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} sdv_1100 != 0;
    goto L153;

  L153:
    Tmp_1817 := Index_5;
    assume {:nonnull} OutputBuffer_3 != 0;
    assume OutputBuffer_3 > 0;
    havoc Tmp_1826;
    assume {:nonnull} Tmp_1826 != 0;
    assume Tmp_1826 > 0;
    call {:si_unique_call 2210} boogieTmp := corral_nondet();
    Tmp_1818 := Index_5;
    assume {:nonnull} OutputBuffer_3 != 0;
    assume OutputBuffer_3 > 0;
    havoc Tmp_1821;
    assume {:nonnull} Tmp_1821 != 0;
    assume Tmp_1821 > 0;
    call {:si_unique_call 2211} boogieTmp := corral_nondet();
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} Index_5 != 0;
    goto L157;

  L157:
    Index_5 := Index_5 + 1;
    Run := Run + 1;
    goto L157_dummy;

  L157_dummy:
    assume false;
    return;

  anon58_Then:
    assume {:partition} Index_5 == 0;
    assume {:nonnull} OutputBuffer_3 != 0;
    assume OutputBuffer_3 > 0;
    assume {:nonnull} StartingRun != 0;
    assume StartingRun > 0;
    assume {:nonnull} OutputBuffer_3 != 0;
    assume OutputBuffer_3 > 0;
    call {:si_unique_call 2212} boogieTmp := corral_nondet();
    goto L157;

  anon50_Then:
    assume {:partition} sdv_1100 == 0;
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc vslice_dummy_var_253;
    havoc vslice_dummy_var_254;
    call {:si_unique_call 2213} KeBugCheckEx(35, 1250142, vslice_dummy_var_253, vslice_dummy_var_254, Run);
    goto L153;

  anon49_Then:
    assume {:partition} Run >= RunCount;
    assume {:nonnull} Irp_41 != 0;
    assume Irp_41 > 0;
    Status_32 := 0;
    goto L110;

  anon48_Then:
    assume {:partition} sdv_1106 == 0;
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    assume {:nonnull} StartingVcn != 0;
    assume StartingVcn > 0;
    havoc vslice_dummy_var_255;
    havoc vslice_dummy_var_256;
    havoc vslice_dummy_var_257;
    call {:si_unique_call 2214} KeBugCheckEx(35, 1250091, vslice_dummy_var_255, vslice_dummy_var_256, vslice_dummy_var_257);
    goto L130;

  anon46_Then:
    goto L108;

  anon55_Then:
    goto L78;

  anon54_Then:
    assume {:partition} Mem_T.INT4[Tmp_1820] != 1283;
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc Tmp_1832;
    assume {:nonnull} Tmp_1832 != 0;
    assume Tmp_1832 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} Mem_T.INT4[Tmp_1832] == 1284;
    assume {:nonnull} Vcb_65 != 0;
    assume Vcb_65 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    goto L74;

  anon45_Then:
    goto L68;

  anon59_Then:
    assume {:partition} Mem_T.INT4[Tmp_1832] != 1284;
    goto L68;

  anon44_Then:
    goto L68;

  anon53_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon52_Then:
    assume {:nonnull} FcbOrDcb_9 != 0;
    assume FcbOrDcb_9 > 0;
    havoc vslice_dummy_var_258;
    call {:si_unique_call 2215} vslice_dummy_var_317 := FatAcquireExclusiveFcb(IrpContext_104, vslice_dummy_var_258);
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} yogi_error != 1;
    goto L54;

  anon60_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon43_Then:
    assume {:partition} OutputBufferLength_3 < 32;
    goto L43;

  anon41_Then:
    assume {:partition} TypeOfOpen_6 == 2;
    goto L30;
}



procedure {:origName "FatUserFsCtrl"} FatUserFsCtrl(actual_IrpContext_105: int, actual_Irp_42: int) returns (Tmp_1833: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatUserFsCtrl"} FatUserFsCtrl(actual_IrpContext_105: int, actual_Irp_42: int) returns (Tmp_1833: int)
{
  var {:scalar} Tmp_1834: int;
  var {:scalar} Status_33: int;
  var {:pointer} IrpSp_21: int;
  var {:scalar} FsControlCode_1: int;
  var {:pointer} IrpContext_105: int;
  var {:pointer} Irp_42: int;

  anon0:
    IrpContext_105 := actual_IrpContext_105;
    Irp_42 := actual_Irp_42;
    call {:si_unique_call 2216} IrpSp_21 := sdv_IoGetCurrentIrpStackLocation(Irp_42);
    assume {:nonnull} IrpSp_21 != 0;
    assume IrpSp_21 > 0;
    havoc FsControlCode_1;
    assume {:nonnull} Irp_42 != 0;
    assume Irp_42 > 0;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    Tmp_1834 := BAND(FsControlCode_1, BOR(1, 2));
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:partition} Tmp_1834 == 3;
    assume {:nonnull} IrpContext_105 != 0;
    assume IrpContext_105 > 0;
    goto L12;

  L12:
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} FsControlCode_1 != 589824;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} FsControlCode_1 != 589828;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} FsControlCode_1 != 589832;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} FsControlCode_1 != 589836;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:partition} FsControlCode_1 != 589840;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} FsControlCode_1 != 589844;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} FsControlCode_1 != 589848;
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} FsControlCode_1 != 589852;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} FsControlCode_1 != 589856;
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} FsControlCode_1 != 589864;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} FsControlCode_1 != 589868;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} FsControlCode_1 != 589872;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} FsControlCode_1 != 589883;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} FsControlCode_1 != 589904;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} FsControlCode_1 != 589912;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} FsControlCode_1 != 589916;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} FsControlCode_1 != 589920;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} FsControlCode_1 != 589935;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} FsControlCode_1 != 589939;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} FsControlCode_1 != 589940;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} FsControlCode_1 != 589944;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} FsControlCode_1 == 589955;
    call {:si_unique_call 2217} Status_33 := FatAllowExtendedDasdIo(IrpContext_105, Irp_42);
    goto L66;

  L66:
    Tmp_1833 := Status_33;
    goto LM2;

  LM2:
    return;

  anon64_Then:
    assume {:partition} FsControlCode_1 != 589955;
    call {:si_unique_call 2218} FatCompleteRequest_Real(IrpContext_105, Irp_42, -1073741808);
    Status_33 := -1073741808;
    goto L66;

  anon65_Then:
    assume {:partition} FsControlCode_1 == 589944;
    call {:si_unique_call 2219} Status_33 := FatIsVolumeDirty(IrpContext_105, Irp_42);
    goto L66;

  anon66_Then:
    assume {:partition} FsControlCode_1 == 589940;
    call {:si_unique_call 2220} Status_33 := FatMoveFile(IrpContext_105, Irp_42);
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} yogi_error != 1;
    goto L66;

  anon93_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon67_Then:
    assume {:partition} FsControlCode_1 == 589939;
    call {:si_unique_call 2221} Status_33 := FatGetRetrievalPointers(IrpContext_105, Irp_42);
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} yogi_error != 1;
    goto L66;

  anon92_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon68_Then:
    assume {:partition} FsControlCode_1 == 589935;
    call {:si_unique_call 2222} Status_33 := FatGetVolumeBitmap(IrpContext_105, Irp_42);
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:partition} yogi_error != 1;
    goto L66;

  anon91_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon69_Then:
    assume {:partition} FsControlCode_1 == 589920;
    call {:si_unique_call 2223} Status_33 := FatGetStatistics(IrpContext_105, Irp_42);
    goto L66;

  anon70_Then:
    assume {:partition} FsControlCode_1 == 589916;
    goto L19;

  L19:
    call {:si_unique_call 2224} Status_33 := FatOplockRequest(IrpContext_105, Irp_42);
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} yogi_error != 1;
    goto L66;

  anon87_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon71_Then:
    assume {:partition} FsControlCode_1 == 589912;
    call {:si_unique_call 2225} Status_33 := FatQueryBpb(IrpContext_105, Irp_42);
    goto L66;

  anon72_Then:
    assume {:partition} FsControlCode_1 == 589904;
    goto L19;

  anon73_Then:
    assume {:partition} FsControlCode_1 == 589883;
    call {:si_unique_call 2226} Status_33 := FatQueryRetrievalPointers(IrpContext_105, Irp_42);
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} yogi_error != 1;
    goto L66;

  anon90_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon74_Then:
    assume {:partition} FsControlCode_1 == 589872;
    call {:si_unique_call 2227} Status_33 := FatDirtyVolume(IrpContext_105, Irp_42);
    goto L66;

  anon75_Then:
    assume {:partition} FsControlCode_1 == 589868;
    call {:si_unique_call 2228} Status_33 := FatIsPathnameValid(IrpContext_105, Irp_42);
    goto L66;

  anon76_Then:
    assume {:partition} FsControlCode_1 == 589864;
    call {:si_unique_call 2229} Status_33 := FatIsVolumeMounted(IrpContext_105, Irp_42);
    goto L66;

  anon77_Then:
    assume {:partition} FsControlCode_1 == 589856;
    call {:si_unique_call 2230} Status_33 := FatDismountVolume(IrpContext_105, Irp_42);
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} yogi_error != 1;
    goto L66;

  anon89_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon78_Then:
    assume {:partition} FsControlCode_1 == 589852;
    call {:si_unique_call 2231} Status_33 := FatUnlockVolume(IrpContext_105, Irp_42);
    goto L66;

  anon79_Then:
    assume {:partition} FsControlCode_1 == 589848;
    call {:si_unique_call 2232} Status_33 := FatLockVolume(IrpContext_105, Irp_42);
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} yogi_error != 1;
    goto L66;

  anon88_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon80_Then:
    assume {:partition} FsControlCode_1 == 589844;
    goto L19;

  anon81_Then:
    assume {:partition} FsControlCode_1 == 589840;
    goto L19;

  anon82_Then:
    assume {:partition} FsControlCode_1 == 589836;
    goto L19;

  anon83_Then:
    assume {:partition} FsControlCode_1 == 589832;
    goto L19;

  anon84_Then:
    assume {:partition} FsControlCode_1 == 589828;
    goto L19;

  anon63_Then:
    assume {:partition} FsControlCode_1 == 589824;
    goto L19;

  anon86_Then:
    assume {:partition} Tmp_1834 != 3;
    goto L12;

  anon85_Then:
    goto L12;
}



procedure {:origName "FatSearchBufferForLabel"} FatSearchBufferForLabel(actual_IrpContext_106: int, actual_Vpb_2: int, actual_Buffer_24: int, actual_Size: int, actual_LabelFound: int) returns (Tmp_1836: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_1836 == 0 || Tmp_1836 == -1073741806 || Tmp_1836 == -1073741675;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSearchBufferForLabel"} FatSearchBufferForLabel(actual_IrpContext_106: int, actual_Vpb_2: int, actual_Buffer_24: int, actual_Size: int, actual_LabelFound: int) returns (Tmp_1836: int)
{
  var {:pointer} Tmp_1837: int;
  var {:pointer} UnicodeBuffer_1: int;
  var {:scalar} Tmp_1838: int;
  var {:scalar} OemString: int;
  var {:scalar} UnicodeString_1: int;
  var {:pointer} TerminationDirent: int;
  var {:pointer} Dirent_19: int;
  var {:scalar} Status_34: int;
  var {:pointer} Tmp_1839: int;
  var {:scalar} VolumeLabelLength: int;
  var {:scalar} sdv_1129: int;
  var {:pointer} Tmp_1841: int;
  var {:scalar} Tmp_1842: int;
  var {:scalar} Tmp_1843: int;
  var {:pointer} Tmp_1844: int;
  var {:pointer} Tmp_1845: int;
  var {:pointer} Vpb_2: int;
  var {:pointer} Buffer_24: int;
  var {:pointer} LabelFound: int;
  var vslice_dummy_var_319: int;

  anon0:
    call {:si_unique_call 2233} OemString := __HAVOC_malloc(12);
    call {:si_unique_call 2234} UnicodeString_1 := __HAVOC_malloc(12);
    Vpb_2 := actual_Vpb_2;
    Buffer_24 := actual_Buffer_24;
    LabelFound := actual_LabelFound;
    call {:si_unique_call 2235} Tmp_1837 := __HAVOC_malloc(44);
    call {:si_unique_call 2236} UnicodeBuffer_1 := __HAVOC_malloc(44);
    call {:si_unique_call 2237} Tmp_1839 := __HAVOC_malloc(44);
    call {:si_unique_call 2238} vslice_dummy_var_319 := __HAVOC_malloc(128);
    call {:si_unique_call 2239} Tmp_1841 := __HAVOC_malloc(44);
    call {:si_unique_call 2240} Tmp_1844 := __HAVOC_malloc(44);
    call {:si_unique_call 2241} Tmp_1845 := __HAVOC_malloc(44);
    Dirent_19 := Buffer_24;
    TerminationDirent := Dirent_19;
    goto L12;

  L12:
    call {:si_unique_call 2242} Tmp_1839, Tmp_1842, Tmp_1845 := FatSearchBufferForLabel_loop_L12(TerminationDirent, Dirent_19, Tmp_1839, Tmp_1842, Tmp_1845);
    goto L12_last;

  L12_last:
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} TerminationDirent > Dirent_19;
    assume {:nonnull} Dirent_19 != 0;
    assume Dirent_19 > 0;
    havoc Tmp_1839;
    assume {:nonnull} Tmp_1839 != 0;
    assume Tmp_1839 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Mem_T.INT4[Tmp_1839] != 0;
    assume {:nonnull} Dirent_19 != 0;
    assume Dirent_19 > 0;
    havoc Tmp_1842;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} Tmp_1842 == 8;
    assume {:nonnull} Dirent_19 != 0;
    assume Dirent_19 > 0;
    havoc Tmp_1845;
    assume {:nonnull} Tmp_1845 != 0;
    assume Tmp_1845 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} Mem_T.INT4[Tmp_1845] == 229;
    goto L18;

  L18:
    goto L18_dummy;

  L18_dummy:
    assume false;
    return;

  anon29_Then:
    assume {:partition} Mem_T.INT4[Tmp_1845] != 229;
    goto L13;

  L13:
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} Dirent_19 >= TerminationDirent;
    assume {:nonnull} LabelFound != 0;
    assume LabelFound > 0;
    Mem_T.INT4[LabelFound] := 0;
    Tmp_1836 := 0;
    goto L1;

  L1:
    return;

  anon24_Then:
    assume {:partition} TerminationDirent > Dirent_19;
    assume {:nonnull} Dirent_19 != 0;
    assume Dirent_19 > 0;
    havoc Tmp_1844;
    assume {:nonnull} OemString != 0;
    assume OemString > 0;
    assume {:nonnull} OemString != 0;
    assume OemString > 0;
    assume {:nonnull} OemString != 0;
    assume OemString > 0;
    goto L27;

  L27:
    call {:si_unique_call 2243} Tmp_1837, Tmp_1838, Tmp_1841, Tmp_1843 := FatSearchBufferForLabel_loop_L27(Tmp_1837, Tmp_1838, OemString, Dirent_19, Tmp_1841, Tmp_1843);
    goto L27_last;

  L27_last:
    assume {:CounterLoop 11} true;
    assume {:nonnull} OemString != 0;
    assume OemString > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:nonnull} OemString != 0;
    assume OemString > 0;
    havoc Tmp_1843;
    assume {:nonnull} Dirent_19 != 0;
    assume Dirent_19 > 0;
    havoc Tmp_1841;
    assume {:nonnull} Tmp_1841 != 0;
    assume Tmp_1841 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Mem_T.INT4[Tmp_1841 + Tmp_1843 * 4] != 0;
    assume {:nonnull} OemString != 0;
    assume OemString > 0;
    havoc Tmp_1838;
    assume {:nonnull} Dirent_19 != 0;
    assume Dirent_19 > 0;
    havoc Tmp_1837;
    assume {:nonnull} Tmp_1837 != 0;
    assume Tmp_1837 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} Mem_T.INT4[Tmp_1837 + Tmp_1838 * 4] == 32;
    goto L30;

  L30:
    assume {:nonnull} OemString != 0;
    assume OemString > 0;
    goto L30_dummy;

  L30_dummy:
    assume false;
    return;

  anon31_Then:
    assume {:partition} Mem_T.INT4[Tmp_1837 + Tmp_1838 * 4] != 32;
    goto L28;

  L28:
    assume {:nonnull} UnicodeString_1 != 0;
    assume UnicodeString_1 > 0;
    assume {:nonnull} UnicodeString_1 != 0;
    assume UnicodeString_1 > 0;
    call {:si_unique_call 2244} Status_34 := RtlOemStringToCountedUnicodeString(0, 0, 0);
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} Status_34 >= 0;
    assume {:nonnull} UnicodeString_1 != 0;
    assume UnicodeString_1 > 0;
    havoc VolumeLabelLength;
    assume {:nonnull} Vpb_2 != 0;
    assume Vpb_2 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    goto L43;

  L43:
    Tmp_1836 := -1073741806;
    goto L1;

  anon32_Then:
    assume {:nonnull} Vpb_2 != 0;
    assume Vpb_2 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} sdv_1129 == 0;
    assume {:nonnull} LabelFound != 0;
    assume LabelFound > 0;
    Mem_T.INT4[LabelFound] := 1;
    Tmp_1836 := 0;
    goto L1;

  anon33_Then:
    assume {:partition} sdv_1129 != 0;
    goto L43;

  anon26_Then:
    assume {:partition} 0 > Status_34;
    Tmp_1836 := Status_34;
    goto L1;

  anon30_Then:
    assume {:partition} Mem_T.INT4[Tmp_1841 + Tmp_1843 * 4] == 0;
    goto L30;

  anon25_Then:
    goto L28;

  anon28_Then:
    assume {:partition} Tmp_1842 != 8;
    goto L18;

  anon27_Then:
    assume {:partition} Mem_T.INT4[Tmp_1839] == 0;
    Dirent_19 := TerminationDirent;
    goto L13;

  anon23_Then:
    assume {:partition} Dirent_19 >= TerminationDirent;
    goto L13;
}



procedure {:origName "FatMountVolume"} FatMountVolume(actual_IrpContext_107: int, actual_TargetDeviceObject_2: int, actual_Vpb_3: int, actual_FsDeviceObject_1: int) returns (Tmp_1847: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMountVolume"} FatMountVolume(actual_IrpContext_107: int, actual_TargetDeviceObject_2: int, actual_Vpb_3: int, actual_FsDeviceObject_1: int) returns (Tmp_1847: int)
{
  var {:pointer} Links_4: int;
  var {:pointer} Tmp_1848: int;
  var {:pointer} Tmp_1849: int;
  var {:pointer} Tmp_1850: int;
  var {:pointer} sdv_1131: int;
  var {:pointer} Tmp_1851: int;
  var {:pointer} Tmp_1852: int;
  var {:pointer} Tmp_1853: int;
  var {:scalar} sdv_1133: int;
  var {:pointer} OldVcb: int;
  var {:pointer} Tmp_1854: int;
  var {:pointer} Tmp_1855: int;
  var {:pointer} RootDirectoryFile: int;
  var {:pointer} Tmp_1856: int;
  var {:pointer} Tmp_1857: int;
  var {:scalar} OemString_1: int;
  var {:pointer} Tmp_1858: int;
  var {:pointer} Tmp_1859: int;
  var {:pointer} Dirent_20: int;
  var {:scalar} Status_35: int;
  var {:scalar} Iosb_18: int;
  var {:pointer} Tmp_1860: int;
  var {:dopa} {:scalar} ChangeCount: int;
  var {:pointer} Tmp_1861: int;
  var {:pointer} Tmp_1862: int;
  var {:pointer} Tmp_1863: int;
  var {:scalar} Tmp_1864: int;
  var {:pointer} Tmp_1865: int;
  var {:pointer} Tmp_1866: int;
  var {:pointer} Tmp_1867: int;
  var {:pointer} Tmp_1869: int;
  var {:pointer} Tmp_1870: int;
  var {:scalar} WeClearedVerifyRequiredBit: int;
  var {:scalar} FileSizes_2: int;
  var {:scalar} PartitionInformation: int;
  var {:pointer} IrpSp_22: int;
  var {:pointer} Tmp_1871: int;
  var {:pointer} Tmp_1872: int;
  var {:pointer} Tmp_1873: int;
  var {:pointer} Tmp_1874: int;
  var {:pointer} VolDo: int;
  var {:dopa} {:scalar} ByteOffset_1: int;
  var {:pointer} Tmp_1875: int;
  var {:pointer} RealDevice_3: int;
  var {:pointer} Tmp_1876: int;
  var {:scalar} sdv_1139: int;
  var {:pointer} OldVpb_1: int;
  var {:pointer} Tmp_1878: int;
  var {:pointer} Vcb_66: int;
  var {:pointer} Tmp_1879: int;
  var {:scalar} sdv_1142: int;
  var {:pointer} Tmp_1880: int;
  var {:pointer} Tmp_1881: int;
  var {:scalar} sdv_1143: int;
  var {:pointer} Tmp_1882: int;
  var {:pointer} EaFcb_1: int;
  var {:pointer} Tmp_1883: int;
  var {:pointer} Tmp_1884: int;
  var {:pointer} Tmp_1885: int;
  var {:pointer} BootSector_1: int;
  var {:pointer} Tmp_1886: int;
  var {:pointer} Tmp_1887: int;
  var {:pointer} Tmp_1888: int;
  var {:pointer} Tmp_1889: int;
  var {:pointer} Tmp_1890: int;
  var {:pointer} Tmp_1891: int;
  var {:pointer} Tmp_1892: int;
  var {:pointer} Tmp_1893: int;
  var {:pointer} Tmp_1894: int;
  var {:pointer} Tmp_1895: int;
  var {:pointer} Tmp_1896: int;
  var {:pointer} Tmp_1897: int;
  var {:scalar} sdv_1145: int;
  var {:pointer} Tmp_1898: int;
  var {:pointer} Tmp_1899: int;
  var {:pointer} Tmp_1900: int;
  var {:pointer} Tmp_1901: int;
  var {:scalar} Geometry: int;
  var {:pointer} IrpVpb: int;
  var {:pointer} Tmp_1902: int;
  var {:scalar} TempDirent: int;
  var {:pointer} Tmp_1903: int;
  var {:scalar} sdv_1147: int;
  var {:pointer} Tmp_1904: int;
  var {:pointer} Tmp_1905: int;
  var {:pointer} Tmp_1906: int;
  var {:pointer} Tmp_1907: int;
  var {:pointer} sdv_1148: int;
  var {:pointer} Tmp_1908: int;
  var {:pointer} Tmp_1909: int;
  var {:pointer} Tmp_1911: int;
  var {:scalar} MountNewVolume: int;
  var {:scalar} UnicodeString_2: int;
  var {:pointer} Tmp_1912: int;
  var {:pointer} Tmp_1913: int;
  var {:pointer} Tmp_1914: int;
  var {:scalar} Tmp_1915: int;
  var {:pointer} Tmp_1917: int;
  var {:pointer} Tmp_1918: int;
  var {:pointer} Tmp_1919: int;
  var {:pointer} Tmp_1920: int;
  var {:pointer} Tmp_1921: int;
  var {:pointer} Tmp_1922: int;
  var {:pointer} Tmp_1923: int;
  var {:pointer} Tmp_1924: int;
  var {:pointer} DirentBcb_9: int;
  var {:pointer} Tmp_1925: int;
  var {:pointer} sdv_1151: int;
  var {:pointer} Tmp_1926: int;
  var {:pointer} Tmp_1927: int;
  var {:pointer} Tmp_1928: int;
  var {:pointer} Tmp_1929: int;
  var {:scalar} sdv_1153: int;
  var {:scalar} DoARemount: int;
  var {:pointer} Tmp_1930: int;
  var {:pointer} Tmp_1931: int;
  var {:pointer} Tmp_1932: int;
  var {:pointer} Tmp_1933: int;
  var {:pointer} Tmp_1934: int;
  var {:pointer} Tmp_1936: int;
  var {:scalar} Tmp_1937: int;
  var {:scalar} StatusPartInfo: int;
  var {:pointer} Tmp_1938: int;
  var {:pointer} BootBcb: int;
  var {:pointer} Tmp_1939: int;
  var {:scalar} sdv_1158: int;
  var {:scalar} Tmp_1940: int;
  var {:pointer} Tmp_1941: int;
  var {:pointer} Tmp_1942: int;
  var {:pointer} IrpContext_107: int;
  var {:pointer} TargetDeviceObject_2: int;
  var {:pointer} Vpb_3: int;
  var {:pointer} FsDeviceObject_1: int;
  var vslice_dummy_var_320: int;
  var vslice_dummy_var_321: int;
  var vslice_dummy_var_322: int;
  var vslice_dummy_var_323: int;
  var vslice_dummy_var_324: int;
  var vslice_dummy_var_325: int;
  var vslice_dummy_var_326: int;
  var vslice_dummy_var_327: int;
  var vslice_dummy_var_328: int;
  var vslice_dummy_var_329: int;
  var vslice_dummy_var_330: int;
  var vslice_dummy_var_259: int;
  var vslice_dummy_var_260: int;
  var vslice_dummy_var_261: int;
  var vslice_dummy_var_262: int;
  var vslice_dummy_var_263: int;
  var vslice_dummy_var_264: int;
  var vslice_dummy_var_265: int;

  anon0:
    call {:si_unique_call 2245} OemString_1 := __HAVOC_malloc(12);
    call {:si_unique_call 2246} Dirent_20 := __HAVOC_malloc(4);
    call {:si_unique_call 2247} Iosb_18 := __HAVOC_malloc(12);
    call {:si_unique_call 2248} ChangeCount := __HAVOC_malloc(4);
    call {:si_unique_call 2249} FileSizes_2 := __HAVOC_malloc(60);
    call {:si_unique_call 2250} PartitionInformation := __HAVOC_malloc(108);
    call {:si_unique_call 2251} VolDo := __HAVOC_malloc(4);
    call {:si_unique_call 2252} ByteOffset_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2253} BootSector_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2254} Geometry := __HAVOC_malloc(36);
    call {:si_unique_call 2255} TempDirent := __HAVOC_malloc(92);
    call {:si_unique_call 2256} UnicodeString_2 := __HAVOC_malloc(12);
    call {:si_unique_call 2257} DirentBcb_9 := __HAVOC_malloc(4);
    call {:si_unique_call 2258} BootBcb := __HAVOC_malloc(4);
    IrpContext_107 := actual_IrpContext_107;
    TargetDeviceObject_2 := actual_TargetDeviceObject_2;
    Vpb_3 := actual_Vpb_3;
    FsDeviceObject_1 := actual_FsDeviceObject_1;
    call {:si_unique_call 2259} Tmp_1849 := __HAVOC_malloc(8);
    call {:si_unique_call 2260} Tmp_1858 := __HAVOC_malloc(8);
    call {:si_unique_call 2261} Tmp_1859 := __HAVOC_malloc(8);
    call {:si_unique_call 2262} Tmp_1865 := __HAVOC_malloc(8);
    call {:si_unique_call 2263} vslice_dummy_var_326 := __HAVOC_malloc(128);
    call {:si_unique_call 2264} Tmp_1873 := __HAVOC_malloc(4);
    call {:si_unique_call 2265} vslice_dummy_var_327 := __HAVOC_malloc(48);
    call {:si_unique_call 2266} Tmp_1878 := __HAVOC_malloc(44);
    call {:si_unique_call 2267} Tmp_1880 := __HAVOC_malloc(16);
    call {:si_unique_call 2268} Tmp_1883 := __HAVOC_malloc(8);
    call {:si_unique_call 2269} Tmp_1887 := __HAVOC_malloc(16);
    call {:si_unique_call 2270} Tmp_1891 := __HAVOC_malloc(4);
    call {:si_unique_call 2271} Tmp_1899 := __HAVOC_malloc(4);
    call {:si_unique_call 2272} Tmp_1900 := __HAVOC_malloc(8);
    call {:si_unique_call 2273} Tmp_1902 := __HAVOC_malloc(8);
    call {:si_unique_call 2274} Tmp_1903 := __HAVOC_malloc(44);
    call {:si_unique_call 2275} Tmp_1905 := __HAVOC_malloc(128);
    call {:si_unique_call 2276} Tmp_1908 := __HAVOC_malloc(8);
    call {:si_unique_call 2277} Tmp_1912 := __HAVOC_malloc(8);
    call {:si_unique_call 2278} Tmp_1913 := __HAVOC_malloc(8);
    call {:si_unique_call 2279} Tmp_1914 := __HAVOC_malloc(8);
    call {:si_unique_call 2280} Tmp_1919 := __HAVOC_malloc(16);
    call {:si_unique_call 2281} Tmp_1923 := __HAVOC_malloc(16);
    call {:si_unique_call 2282} vslice_dummy_var_328 := __HAVOC_malloc(128);
    call {:si_unique_call 2283} Tmp_1942 := __HAVOC_malloc(44);
    assume {:nonnull} IrpContext_107 != 0;
    assume IrpContext_107 > 0;
    havoc vslice_dummy_var_259;
    call {:si_unique_call 2284} IrpSp_22 := sdv_IoGetCurrentIrpStackLocation(vslice_dummy_var_259);
    MountNewVolume := 0;
    WeClearedVerifyRequiredBit := 0;
    DoARemount := 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    Vcb_66 := 0;
    RootDirectoryFile := 0;
    assume {:nonnull} ChangeCount != 0;
    assume ChangeCount > 0;
    Mem_T.INT4[ChangeCount] := 0;
    call {:si_unique_call 2285} Status_35 := FatPerformDevIoCtrl(IrpContext_107, 477184, TargetDeviceObject_2, ChangeCount, 4, 0, 1, Iosb_18);
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} Status_35 >= 0;
    assume {:nonnull} Iosb_18 != 0;
    assume Iosb_18 > 0;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:nonnull} ChangeCount != 0;
    assume ChangeCount > 0;
    Mem_T.INT4[ChangeCount] := 0;
    goto L43;

  L43:
    assume {:nonnull} TargetDeviceObject_2 != 0;
    assume TargetDeviceObject_2 > 0;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    call {:si_unique_call 2286} sdv_1139 := FatScanForDataTrack(IrpContext_107, TargetDeviceObject_2);
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume {:partition} sdv_1139 == 0;
    Tmp_1847 := -1073741489;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon125_Then:
    assume {:partition} sdv_1139 != 0;
    goto L45;

  L45:
    call {:si_unique_call 2287} StatusPartInfo := FatPerformDevIoCtrl(IrpContext_107, 458824, TargetDeviceObject_2, PartitionInformation, 144, 0, 1, Iosb_18);
    assume {:nonnull} IrpContext_107 != 0;
    assume IrpContext_107 > 0;
    call {:si_unique_call 2288} FatScanForDismountedVcb(IrpContext_107);
    goto anon162_Then, anon162_Else;

  anon162_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} BootBcb != 0;
    assume BootBcb > 0;
    assume {:nonnull} DirentBcb_9 != 0;
    assume DirentBcb_9 > 0;
    Vcb_66 := 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    MountNewVolume := 0;
    assume {:nonnull} IrpContext_107 != 0;
    assume IrpContext_107 > 0;
    havoc Tmp_1864;
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:partition} Tmp_1864 == 0;
    Tmp_1937 := 0;
    goto L467;

  L467:
    call {:si_unique_call 2289} vslice_dummy_var_329 := ExAcquireResourceExclusiveLite(0, Tmp_1937);
    goto anon164_Then, anon164_Else;

  anon164_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2290} Status_35 := IoCreateDevice(0, 752, 0, 8, 0, 0, VolDo);
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume {:partition} Status_35 < 0;
    goto L172;

  L172:
    assume {:nonnull} BootBcb != 0;
    assume BootBcb > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:nonnull} BootBcb != 0;
    assume BootBcb > 0;
    goto L173;

  L173:
    assume {:nonnull} DirentBcb_9 != 0;
    assume DirentBcb_9 > 0;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:nonnull} DirentBcb_9 != 0;
    assume DirentBcb_9 > 0;
    goto L178;

  L178:
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:partition} MountNewVolume != 0;
    goto L184;

  L184:
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:partition} WeClearedVerifyRequiredBit == 1;
    assume {:nonnull} RealDevice_3 != 0;
    assume RealDevice_3 > 0;
    goto L185;

  L185:
    call {:si_unique_call 2291} ExReleaseResourceLite(0);
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume {:partition} RootDirectoryFile != 0;
    call {:si_unique_call 2292} vslice_dummy_var_320 := corral_nondet();
    call {:si_unique_call 2293} vslice_dummy_var_321 := sdv_ObDereferenceObject(0);
    goto L190;

  L190:
    Tmp_1847 := Status_35;
    goto L1;

  anon140_Then:
    assume {:partition} RootDirectoryFile == 0;
    goto L190;

  anon139_Then:
    assume {:partition} WeClearedVerifyRequiredBit != 1;
    goto L185;

  anon137_Then:
    assume {:partition} MountNewVolume == 0;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} Vcb_66 != 0;
    call {:si_unique_call 2294} vslice_dummy_var_322 := FatCheckForDismount#1(IrpContext_107, Vcb_66, 1);
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} IrpContext_107 != 0;
    assume IrpContext_107 > 0;
    goto L202;

  L202:
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:partition} DoARemount != 0;
    call {:si_unique_call 2295} sdv_1142 := sdv_AbnormalTermination();
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:partition} sdv_1142 != 0;
    call {:si_unique_call 2296} vslice_dummy_var_323 := FatCheckForDismount#1(IrpContext_107, OldVcb, 1);
    goto anon169_Then, anon169_Else;

  anon169_Else:
    assume {:partition} yogi_error != 1;
    goto L184;

  anon169_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon143_Then:
    assume {:partition} sdv_1142 == 0;
    goto L184;

  anon142_Then:
    assume {:partition} DoARemount == 0;
    goto L184;

  anon168_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon138_Then:
    assume {:partition} Vcb_66 == 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    call {:si_unique_call 2297} IoDeleteDevice(0);
    goto L202;

  anon141_Then:
    goto L202;

  anon136_Then:
    goto L178;

  anon135_Then:
    goto L173;

  anon126_Then:
    assume {:partition} 0 <= Status_35;
    assume {:nonnull} TargetDeviceObject_2 != 0;
    assume TargetDeviceObject_2 > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:nonnull} TargetDeviceObject_2 != 0;
    assume TargetDeviceObject_2 > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    goto L108;

  L108:
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    havoc vslice_dummy_var_260;
    call {:si_unique_call 2298} InitializeListHead(vslice_dummy_var_260);
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    call {:si_unique_call 2299} Tmp_1911 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1911 != 0;
    assume Tmp_1911 > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    havoc vslice_dummy_var_261;
    Mem_T.INT4[Tmp_1911] := vslice_dummy_var_261;
    call {:si_unique_call 2300} sdv_KeInitializeSpinLock(Tmp_1911);
    assume {:nonnull} Tmp_1911 != 0;
    assume Tmp_1911 > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    assume {:nonnull} TargetDeviceObject_2 != 0;
    assume TargetDeviceObject_2 > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    call {:si_unique_call 2301} Status_35 := FatPerformDevIoCtrl(IrpContext_107, 458752, TargetDeviceObject_2, Geometry, 24, 0, 1, 0);
    assume {:nonnull} Geometry != 0;
    assume Geometry > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    havoc RealDevice_3;
    assume {:nonnull} RealDevice_3 != 0;
    assume RealDevice_3 > 0;
    goto anon165_Then, anon165_Else;

  anon165_Else:
    assume {:nonnull} RealDevice_3 != 0;
    assume RealDevice_3 > 0;
    WeClearedVerifyRequiredBit := 1;
    goto L127;

  L127:
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    havoc vslice_dummy_var_262;
    call {:si_unique_call 2302} FatInitializeVcb(IrpContext_107, vslice_dummy_var_262, TargetDeviceObject_2, Vpb_3, FsDeviceObject_1);
    goto anon166_Then, anon166_Else;

  anon166_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} VolDo != 0;
    assume VolDo > 0;
    havoc Vcb_66;
    call {:si_unique_call 2303} FatReadVolumeFile(IrpContext_107, Vcb_66, 0, 62, BootBcb, BootSector_1);
    assume {:nonnull} BootBcb != 0;
    assume BootBcb > 0;
    goto anon128_Then, anon128_Else;

  anon128_Else:
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc vslice_dummy_var_263;
    call {:si_unique_call 2304} sdv_1153 := FatIsBootSectorFat(vslice_dummy_var_263);
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} sdv_1153 != 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1936 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1854;
    assume {:nonnull} Tmp_1854 != 0;
    assume Tmp_1854 > 0;
    havoc Tmp_1859;
    Tmp_1931 := Tmp_1859;
    assume {:nonnull} Tmp_1931 != 0;
    assume Tmp_1931 > 0;
    assume {:nonnull} Tmp_1936 != 0;
    assume Tmp_1936 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1890 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1939;
    assume {:nonnull} Tmp_1939 != 0;
    assume Tmp_1939 > 0;
    havoc Tmp_1891;
    Tmp_1894 := Tmp_1891;
    assume {:nonnull} Tmp_1890 != 0;
    assume Tmp_1890 > 0;
    assume {:nonnull} Tmp_1894 != 0;
    assume Tmp_1894 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1920 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1898;
    assume {:nonnull} Tmp_1898 != 0;
    assume Tmp_1898 > 0;
    havoc Tmp_1865;
    Tmp_1882 := Tmp_1865;
    assume {:nonnull} Tmp_1882 != 0;
    assume Tmp_1882 > 0;
    assume {:nonnull} Tmp_1920 != 0;
    assume Tmp_1920 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1853 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1874;
    assume {:nonnull} Tmp_1874 != 0;
    assume Tmp_1874 > 0;
    havoc Tmp_1873;
    Tmp_1888 := Tmp_1873;
    assume {:nonnull} Tmp_1853 != 0;
    assume Tmp_1853 > 0;
    assume {:nonnull} Tmp_1888 != 0;
    assume Tmp_1888 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1917 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1918;
    assume {:nonnull} Tmp_1918 != 0;
    assume Tmp_1918 > 0;
    havoc Tmp_1900;
    Tmp_1924 := Tmp_1900;
    assume {:nonnull} Tmp_1917 != 0;
    assume Tmp_1917 > 0;
    assume {:nonnull} Tmp_1924 != 0;
    assume Tmp_1924 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1896 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1930;
    assume {:nonnull} Tmp_1930 != 0;
    assume Tmp_1930 > 0;
    havoc Tmp_1883;
    Tmp_1941 := Tmp_1883;
    assume {:nonnull} Tmp_1896 != 0;
    assume Tmp_1896 > 0;
    assume {:nonnull} Tmp_1941 != 0;
    assume Tmp_1941 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1893 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1925;
    assume {:nonnull} Tmp_1925 != 0;
    assume Tmp_1925 > 0;
    havoc Tmp_1899;
    Tmp_1848 := Tmp_1899;
    assume {:nonnull} Tmp_1848 != 0;
    assume Tmp_1848 > 0;
    assume {:nonnull} Tmp_1893 != 0;
    assume Tmp_1893 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1851 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1881;
    assume {:nonnull} Tmp_1881 != 0;
    assume Tmp_1881 > 0;
    havoc Tmp_1858;
    Tmp_1869 := Tmp_1858;
    assume {:nonnull} Tmp_1851 != 0;
    assume Tmp_1851 > 0;
    assume {:nonnull} Tmp_1869 != 0;
    assume Tmp_1869 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1876 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1886;
    assume {:nonnull} Tmp_1886 != 0;
    assume Tmp_1886 > 0;
    havoc Tmp_1902;
    Tmp_1860 := Tmp_1902;
    assume {:nonnull} Tmp_1860 != 0;
    assume Tmp_1860 > 0;
    assume {:nonnull} Tmp_1876 != 0;
    assume Tmp_1876 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1906 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1907;
    assume {:nonnull} Tmp_1907 != 0;
    assume Tmp_1907 > 0;
    havoc Tmp_1849;
    Tmp_1932 := Tmp_1849;
    assume {:nonnull} Tmp_1906 != 0;
    assume Tmp_1906 > 0;
    assume {:nonnull} Tmp_1932 != 0;
    assume Tmp_1932 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1933 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1866;
    assume {:nonnull} Tmp_1866 != 0;
    assume Tmp_1866 > 0;
    havoc Tmp_1887;
    Tmp_1850 := Tmp_1887;
    assume {:nonnull} Tmp_1850 != 0;
    assume Tmp_1850 > 0;
    assume {:nonnull} Tmp_1933 != 0;
    assume Tmp_1933 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1901 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1875;
    assume {:nonnull} Tmp_1875 != 0;
    assume Tmp_1875 > 0;
    havoc Tmp_1880;
    Tmp_1897 := Tmp_1880;
    assume {:nonnull} Tmp_1897 != 0;
    assume Tmp_1897 > 0;
    assume {:nonnull} Tmp_1901 != 0;
    assume Tmp_1901 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1872 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1895;
    assume {:nonnull} Tmp_1895 != 0;
    assume Tmp_1895 > 0;
    havoc Tmp_1919;
    Tmp_1884 := Tmp_1919;
    assume {:nonnull} Tmp_1872 != 0;
    assume Tmp_1872 > 0;
    assume {:nonnull} Tmp_1884 != 0;
    assume Tmp_1884 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1909 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1892;
    assume {:nonnull} Tmp_1892 != 0;
    assume Tmp_1892 > 0;
    havoc Tmp_1908;
    Tmp_1856 := Tmp_1908;
    assume {:nonnull} Tmp_1856 != 0;
    assume Tmp_1856 > 0;
    assume {:nonnull} Tmp_1909 != 0;
    assume Tmp_1909 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1929 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1863;
    assume {:nonnull} Tmp_1863 != 0;
    assume Tmp_1863 > 0;
    havoc Tmp_1914;
    Tmp_1927 := Tmp_1914;
    assume {:nonnull} Tmp_1927 != 0;
    assume Tmp_1927 > 0;
    assume {:nonnull} Tmp_1929 != 0;
    assume Tmp_1929 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1922 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1889;
    assume {:nonnull} Tmp_1889 != 0;
    assume Tmp_1889 > 0;
    havoc Tmp_1923;
    Tmp_1861 := Tmp_1923;
    assume {:nonnull} Tmp_1861 != 0;
    assume Tmp_1861 > 0;
    assume {:nonnull} Tmp_1922 != 0;
    assume Tmp_1922 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1867 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1885;
    assume {:nonnull} Tmp_1885 != 0;
    assume Tmp_1885 > 0;
    havoc Tmp_1912;
    Tmp_1879 := Tmp_1912;
    assume {:nonnull} Tmp_1867 != 0;
    assume Tmp_1867 > 0;
    assume {:nonnull} Tmp_1879 != 0;
    assume Tmp_1879 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    Tmp_1938 := Bpb__VCB(Vcb_66);
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1934;
    assume {:nonnull} Tmp_1934 != 0;
    assume Tmp_1934 > 0;
    havoc Tmp_1913;
    Tmp_1926 := Tmp_1913;
    assume {:nonnull} Tmp_1926 != 0;
    assume Tmp_1926 > 0;
    assume {:nonnull} Tmp_1938 != 0;
    assume Tmp_1938 > 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:partition} StatusPartInfo >= 0;
    assume {:nonnull} PartitionInformation != 0;
    assume PartitionInformation > 0;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:nonnull} PartitionInformation != 0;
    assume PartitionInformation > 0;
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    Status_35 := -1073741489;
    goto L172;

  anon134_Then:
    goto L165;

  L165:
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} Status_35 >= 0;
    assume {:nonnull} Geometry != 0;
    assume Geometry > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto L216;

  L216:
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1921;
    assume {:nonnull} Tmp_1921 != 0;
    assume Tmp_1921 > 0;
    Tmp_1857 := SectorsPerFat__PACKED_BIOS_PARAMETER_BLOCK(Tmp_1921);
    assume {:nonnull} Tmp_1857 != 0;
    assume Tmp_1857 > 0;
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:partition} Mem_T.INT4[Tmp_1857] != 0;
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1871;
    assume {:nonnull} Tmp_1871 != 0;
    assume Tmp_1871 > 0;
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    call {:si_unique_call 2305} sdv_1131 := ExAllocatePoolWithTag(17, 36, -747347642);
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    call {:si_unique_call 2306} sdv_RtlCopyMemory(0, 0, 36);
    goto L227;

  L227:
    assume {:nonnull} BootBcb != 0;
    assume BootBcb > 0;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume {:nonnull} BootBcb != 0;
    assume BootBcb > 0;
    goto L228;

  L228:
    call {:si_unique_call 2307} FatSetupAllocationSupport(IrpContext_107, Vcb_66);
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto L236;

  L236:
    call {:si_unique_call 2308} FatCreateRootDcb(IrpContext_107, Vcb_66);
    goto anon171_Then, anon171_Else;

  anon171_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2309} FatLocateVolumeLabel(IrpContext_107, Vcb_66, Dirent_20, DirentBcb_9, ByteOffset_1);
    assume {:nonnull} Dirent_20 != 0;
    assume Dirent_20 > 0;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:nonnull} Dirent_20 != 0;
    assume Dirent_20 > 0;
    havoc Tmp_1878;
    assume {:nonnull} OemString_1 != 0;
    assume OemString_1 > 0;
    assume {:nonnull} OemString_1 != 0;
    assume OemString_1 > 0;
    assume {:nonnull} OemString_1 != 0;
    assume OemString_1 > 0;
    goto L265;

  L265:
    call {:si_unique_call 2310} Tmp_1903, Tmp_1915, Tmp_1940, Tmp_1942 := FatMountVolume_loop_L265(OemString_1, Dirent_20, Tmp_1903, Tmp_1915, Tmp_1940, Tmp_1942);
    goto L265_last;

  L265_last:
    assume {:CounterLoop 11} true;
    assume {:nonnull} OemString_1 != 0;
    assume OemString_1 > 0;
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:nonnull} OemString_1 != 0;
    assume OemString_1 > 0;
    havoc Tmp_1940;
    assume {:nonnull} Dirent_20 != 0;
    assume Dirent_20 > 0;
    havoc Tmp_1942;
    assume {:nonnull} Tmp_1942 != 0;
    assume Tmp_1942 > 0;
    goto anon172_Then, anon172_Else;

  anon172_Else:
    assume {:partition} Mem_T.INT4[Tmp_1942 + Tmp_1940 * 4] != 0;
    assume {:nonnull} OemString_1 != 0;
    assume OemString_1 > 0;
    havoc Tmp_1915;
    assume {:nonnull} Dirent_20 != 0;
    assume Dirent_20 > 0;
    havoc Tmp_1903;
    assume {:nonnull} Tmp_1903 != 0;
    assume Tmp_1903 > 0;
    goto anon173_Then, anon173_Else;

  anon173_Else:
    assume {:partition} Mem_T.INT4[Tmp_1903 + Tmp_1915 * 4] == 32;
    goto L268;

  L268:
    assume {:nonnull} OemString_1 != 0;
    assume OemString_1 > 0;
    goto L268_dummy;

  L268_dummy:
    assume false;
    return;

  anon173_Then:
    assume {:partition} Mem_T.INT4[Tmp_1903 + Tmp_1915 * 4] != 32;
    goto L266;

  L266:
    assume {:nonnull} UnicodeString_2 != 0;
    assume UnicodeString_2 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    havoc Tmp_1855;
    assume {:nonnull} Tmp_1855 != 0;
    assume Tmp_1855 > 0;
    havoc Tmp_1905;
    assume {:nonnull} UnicodeString_2 != 0;
    assume UnicodeString_2 > 0;
    call {:si_unique_call 2311} Status_35 := RtlOemStringToCountedUnicodeString(0, 0, 0);
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:partition} Status_35 >= 0;
    assume {:nonnull} UnicodeString_2 != 0;
    assume UnicodeString_2 > 0;
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    goto L279;

  L279:
    assume {:nonnull} ChangeCount != 0;
    assume ChangeCount > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    havoc Links_4;
    goto L281;

  L281:
    call {:si_unique_call 2312} Links_4, OldVcb, OldVpb_1, sdv_1151 := FatMountVolume_loop_L281(Links_4, sdv_1133, OldVcb, RealDevice_3, OldVpb_1, Vcb_66, sdv_1151, sdv_1158, Vpb_3);
    goto L281_last;

  L281_last:
    goto anon152_Then, anon152_Else;

  anon152_Else:
    call {:si_unique_call 2313} sdv_1151 := sdv_containing_record(Links_4, 64);
    OldVcb := sdv_1151;
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    havoc OldVpb_1;
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:partition} OldVpb_1 == Vpb_3;
    goto L291;

  L291:
    assume {:nonnull} Links_4 != 0;
    assume Links_4 > 0;
    havoc Links_4;
    goto L291_dummy;

  L291_dummy:
    assume false;
    return;

  anon174_Then:
    assume {:partition} OldVpb_1 != Vpb_3;
    assume {:nonnull} OldVpb_1 != 0;
    assume OldVpb_1 > 0;
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:nonnull} OldVpb_1 != 0;
    assume OldVpb_1 > 0;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:nonnull} OldVpb_1 != 0;
    assume OldVpb_1 > 0;
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    assume {:nonnull} OldVpb_1 != 0;
    assume OldVpb_1 > 0;
    goto anon175_Then, anon175_Else;

  anon175_Else:
    assume {:partition} sdv_1133 == 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon176_Then, anon176_Else;

  anon176_Else:
    assume {:partition} sdv_1158 == 0;
    DoARemount := 1;
    goto L282;

  L282:
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:partition} DoARemount != 0;
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    assume {:nonnull} OldVpb_1 != 0;
    assume OldVpb_1 > 0;
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    assume {:nonnull} OldVpb_1 != 0;
    assume OldVpb_1 > 0;
    havoc Tmp_1928;
    assume {:nonnull} Tmp_1928 != 0;
    assume Tmp_1928 > 0;
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    assume {:nonnull} IrpContext_107 != 0;
    assume IrpContext_107 > 0;
    havoc vslice_dummy_var_264;
    call {:si_unique_call 2314} sdv_1148 := sdv_IoGetCurrentIrpStackLocation(vslice_dummy_var_264);
    assume {:nonnull} sdv_1148 != 0;
    assume sdv_1148 > 0;
    IrpVpb := Vpb_unnamed_tag_23(MountVolume_unnamed_tag_8(Parameters__IO_STACK_LOCATION(sdv_1148)));
    assume {:nonnull} IrpVpb != 0;
    assume IrpVpb > 0;
    goto anon177_Then, anon177_Else;

  anon177_Else:
    assume {:nonnull} IrpVpb != 0;
    assume IrpVpb > 0;
    goto L325;

  L325:
    Vpb_3 := 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    assume {:nonnull} FileSizes_2 != 0;
    assume FileSizes_2 > 0;
    assume {:nonnull} FileSizes_2 != 0;
    assume FileSizes_2 > 0;
    assume {:nonnull} FileSizes_2 != 0;
    assume FileSizes_2 > 0;
    assume {:nonnull} FileSizes_2 != 0;
    assume FileSizes_2 > 0;
    assume {:nonnull} FileSizes_2 != 0;
    assume FileSizes_2 > 0;
    assume {:nonnull} FileSizes_2 != 0;
    assume FileSizes_2 > 0;
    assume {:nonnull} FileSizes_2 != 0;
    assume FileSizes_2 > 0;
    call {:si_unique_call 2315} FatSetupAllocationSupport(IrpContext_107, OldVcb);
    call {:si_unique_call 2316} FatCheckDirtyBit(IrpContext_107, OldVcb);
    call {:si_unique_call 2317} sdv_1145 := FatIsMediaWriteProtected(IrpContext_107, TargetDeviceObject_2);
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} sdv_1145 != 0;
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    goto L348;

  L348:
    Status_35 := 0;
    goto L172;

  anon159_Then:
    assume {:partition} sdv_1145 == 0;
    assume {:nonnull} OldVcb != 0;
    assume OldVcb > 0;
    goto L348;

  anon177_Then:
    goto L325;

  anon153_Then:
    assume {:partition} DoARemount == 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    call {:si_unique_call 2318} sdv_RtlZeroMemory(0, 32);
    assume {:nonnull} TempDirent != 0;
    assume TempDirent > 0;
    call {:si_unique_call 2319} sdv_RtlCopyMemory(0, 0, 11);
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    havoc vslice_dummy_var_265;
    call {:si_unique_call 2320} EaFcb_1 := FatCreateFcb(IrpContext_107, Vcb_66, vslice_dummy_var_265, 0, 0, TempDirent, 0, 0, 1);
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} EaFcb_1 != 0;
    assume EaFcb_1 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto L351;

  L351:
    call {:si_unique_call 2321} FatCheckDirtyBit(IrpContext_107, Vcb_66);
    call {:si_unique_call 2322} sdv_1147 := FatIsMediaWriteProtected(IrpContext_107, TargetDeviceObject_2);
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} sdv_1147 != 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto L360;

  L360:
    assume {:nonnull} RealDevice_3 != 0;
    assume RealDevice_3 > 0;
    goto anon161_Then, anon161_Else;

  anon161_Else:
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto anon178_Then, anon178_Else;

  anon178_Else:
    call {:si_unique_call 2323} vslice_dummy_var_324 := FatToggleMediaEjectDisable(IrpContext_107, Vcb_66, 1);
    goto L361;

  L361:
    MountNewVolume := 1;
    Status_35 := 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    havoc Tmp_1870;
    assume {:nonnull} Tmp_1870 != 0;
    assume Tmp_1870 > 0;
    havoc RootDirectoryFile;
    call {:si_unique_call 2324} vslice_dummy_var_330 := sdv_ObReferenceObject(0);
    call {:si_unique_call 2325} vslice_dummy_var_325 := sdv_ObDereferenceObject(0);
    goto L172;

  anon178_Then:
    goto L361;

  anon161_Then:
    goto L361;

  anon160_Then:
    assume {:partition} sdv_1147 == 0;
    assume {:nonnull} Vcb_66 != 0;
    assume Vcb_66 > 0;
    goto L360;

  anon179_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon158_Then:
    goto L351;

  anon176_Then:
    assume {:partition} sdv_1158 != 0;
    goto L291;

  anon175_Then:
    assume {:partition} sdv_1133 != 0;
    goto L291;

  anon157_Then:
    goto L291;

  anon156_Then:
    goto L291;

  anon155_Then:
    goto L291;

  anon154_Then:
    goto L291;

  anon152_Then:
    goto L282;

  anon151_Then:
    assume {:partition} 0 > Status_35;
    goto L172;

  anon172_Then:
    assume {:partition} Mem_T.INT4[Tmp_1942 + Tmp_1940 * 4] == 0;
    goto L268;

  anon150_Then:
    goto L266;

  anon149_Then:
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    goto L279;

  anon171_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon148_Then:
    goto L236;

  anon147_Then:
    goto L236;

  anon146_Then:
    goto L228;

  anon170_Then:
    assume {:partition} Mem_T.INT4[Tmp_1857] == 0;
    assume {:nonnull} BootSector_1 != 0;
    assume BootSector_1 > 0;
    havoc Tmp_1904;
    assume {:nonnull} Tmp_1904 != 0;
    assume Tmp_1904 > 0;
    Tmp_1862 := Id__PACKED_BOOT_SECTOR_EX(Tmp_1904);
    assume {:nonnull} Tmp_1862 != 0;
    assume Tmp_1862 > 0;
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    goto L227;

  anon145_Then:
    goto L216;

  anon144_Then:
    goto L213;

  L213:
    Status_35 := -1073741489;
    goto L172;

  anon130_Then:
    assume {:partition} 0 > Status_35;
    goto L213;

  anon133_Then:
    goto L165;

  anon132_Then:
    goto L165;

  anon131_Then:
    goto L165;

  anon167_Then:
    assume {:partition} 0 > StatusPartInfo;
    goto L165;

  anon129_Then:
    assume {:partition} sdv_1153 == 0;
    goto L141;

  L141:
    Status_35 := -1073741489;
    goto L172;

  anon128_Then:
    goto L141;

  anon166_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon165_Then:
    goto L127;

  anon127_Then:
    goto L108;

  anon164_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon163_Then:
    assume {:partition} Tmp_1864 != 0;
    Tmp_1937 := 1;
    goto L467;

  anon162_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon124_Then:
    goto L45;

  anon123_Then:
    goto L43;

  anon121_Then:
    assume {:partition} 0 > Status_35;
    assume {:nonnull} IrpSp_22 != 0;
    assume IrpSp_22 > 0;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    goto L392;

  L392:
    Tmp_1847 := Status_35;
    goto L1;

  anon122_Then:
    assume {:nonnull} Vpb_3 != 0;
    assume Vpb_3 > 0;
    havoc Tmp_1852;
    assume {:nonnull} Tmp_1852 != 0;
    assume Tmp_1852 > 0;
    goto anon180_Then, anon180_Else;

  anon180_Else:
    assume {:nonnull} IrpContext_107 != 0;
    assume IrpContext_107 > 0;
    call {:si_unique_call 2326} sdv_1143 := corral_nondet();
    call {:si_unique_call 2327} ExRaiseStatus(sdv_1143);
    goto L392;

  anon180_Then:
    goto L392;
}



procedure {:origName "FatVerifyVolume"} FatVerifyVolume(actual_IrpContext_108: int, actual_Irp_43: int) returns (Tmp_1943: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatVerifyVolume"} FatVerifyVolume(actual_IrpContext_108: int, actual_Irp_43: int) returns (Tmp_1943: int)
{
  var {:pointer} Fcb_41: int;
  var {:scalar} sdv_1160: int;
  var {:pointer} sdv_1161: int;
  var {:pointer} Vpb_4: int;
  var {:scalar} sdv_1162: int;
  var {:pointer} Tmp_1944: int;
  var {:pointer} Tmp_1945: int;
  var {:scalar} sdv_1164: int;
  var {:scalar} sdv_1165: int;
  var {:pointer} Tmp_1946: int;
  var {:pointer} Tmp_1947: int;
  var {:pointer} Tmp_1948: int;
  var {:scalar} Tmp_1949: int;
  var {:pointer} RootDirectory: int;
  var {:pointer} Tmp_1950: int;
  var {:pointer} Tmp_1951: int;
  var {:pointer} Tmp_1952: int;
  var {:scalar} RootDirectorySize: int;
  var {:scalar} Status_36: int;
  var {:scalar} Iosb_19: int;
  var {:dopa} {:scalar} ChangeCount_1: int;
  var {:pointer} Tmp_1953: int;
  var {:pointer} Tmp_1954: int;
  var {:pointer} Tmp_1955: int;
  var {:scalar} PartitionInformation_1: int;
  var {:pointer} IrpSp_23: int;
  var {:pointer} Tmp_1956: int;
  var {:pointer} Tmp_1957: int;
  var {:pointer} Tmp_1958: int;
  var {:scalar} Tmp_1959: int;
  var {:pointer} VolDo_1: int;
  var {:scalar} VerifyAlreadyDone: int;
  var {:pointer} Tmp_1960: int;
  var {:pointer} Tmp_1961: int;
  var {:pointer} Tmp_1962: int;
  var {:pointer} Tmp_1963: int;
  var {:pointer} Tmp_1964: int;
  var {:pointer} Tmp_1965: int;
  var {:scalar} ClearVerify: int;
  var {:scalar} sdv_1174: int;
  var {:pointer} Vcb_67: int;
  var {:scalar} sdv_1175: int;
  var {:scalar} Tmp_1966: int;
  var {:pointer} Tmp_1967: int;
  var {:pointer} Tmp_1968: int;
  var {:pointer} Tmp_1969: int;
  var {:pointer} Tmp_1970: int;
  var {:scalar} Tmp_1971: int;
  var {:pointer} BootSector_2: int;
  var {:pointer} Tmp_1972: int;
  var {:pointer} Tmp_1973: int;
  var {:pointer} Tmp_1974: int;
  var {:scalar} RootDirectoryLbo: int;
  var {:pointer} Tmp_1975: int;
  var {:scalar} Tmp_1976: int;
  var {:pointer} Tmp_1977: int;
  var {:pointer} Tmp_1978: int;
  var {:pointer} Tmp_1979: int;
  var {:pointer} Tmp_1980: int;
  var {:pointer} sdv_1179: int;
  var {:pointer} Tmp_1981: int;
  var {:pointer} Tmp_1982: int;
  var {:scalar} DiskGeometry: int;
  var {:pointer} Tmp_1983: int;
  var {:pointer} Tmp_1984: int;
  var {:pointer} Tmp_1985: int;
  var {:scalar} sdv_1181: int;
  var {:pointer} Tmp_1986: int;
  var {:pointer} Tmp_1987: int;
  var {:pointer} Fcb_42: int;
  var {:pointer} Tmp_1989: int;
  var {:scalar} sdv_1182: int;
  var {:pointer} Tmp_1990: int;
  var {:pointer} Tmp_1991: int;
  var {:pointer} Tmp_1992: int;
  var {:pointer} Tmp_1993: int;
  var {:pointer} Tmp_1994: int;
  var {:dopa} {:scalar} LabelFound_1: int;
  var {:scalar} sdv_1184: int;
  var {:pointer} Tmp_1995: int;
  var {:scalar} ReleaseEntireVolume: int;
  var {:scalar} Tmp_1996: int;
  var {:pointer} Tmp_1997: int;
  var {:pointer} Tmp_1998: int;
  var {:pointer} Tmp_1999: int;
  var {:scalar} sdv_1187: int;
  var {:pointer} Fcb_43: int;
  var {:scalar} AllowRawMount: int;
  var {:pointer} Tmp_2000: int;
  var {:pointer} Tmp_2001: int;
  var {:dopa} {:scalar} RootDirectoryCluster: int;
  var {:pointer} Tmp_2002: int;
  var {:scalar} Tmp_2003: int;
  var {:pointer} Tmp_2004: int;
  var {:pointer} Tmp_2005: int;
  var {:scalar} SectorSize_4: int;
  var {:scalar} SerialNumber: int;
  var {:pointer} Tmp_2006: int;
  var {:pointer} Tmp_2007: int;
  var {:pointer} Tmp_2008: int;
  var {:scalar} Bpb_1: int;
  var {:pointer} Tmp_2009: int;
  var {:pointer} Tmp_2010: int;
  var {:pointer} Tmp_2011: int;
  var {:pointer} Tmp_2012: int;
  var {:scalar} sdv_1192: int;
  var {:pointer} Tmp_2013: int;
  var {:pointer} Tmp_2014: int;
  var {:pointer} Tmp_2015: int;
  var {:pointer} Tmp_2016: int;
  var {:pointer} IrpContext_108: int;
  var {:pointer} Irp_43: int;
  var boogieTmp: int;
  var vslice_dummy_var_331: int;
  var vslice_dummy_var_332: int;
  var vslice_dummy_var_333: int;
  var vslice_dummy_var_334: int;
  var vslice_dummy_var_335: int;
  var vslice_dummy_var_336: int;
  var vslice_dummy_var_337: int;
  var vslice_dummy_var_338: int;
  var vslice_dummy_var_339: int;
  var vslice_dummy_var_340: int;
  var vslice_dummy_var_266: int;
  var vslice_dummy_var_267: int;
  var vslice_dummy_var_268: int;
  var vslice_dummy_var_269: int;
  var vslice_dummy_var_270: int;
  var vslice_dummy_var_271: int;
  var vslice_dummy_var_272: int;
  var vslice_dummy_var_273: int;
  var vslice_dummy_var_274: int;
  var vslice_dummy_var_275: int;
  var vslice_dummy_var_276: int;
  var vslice_dummy_var_277: int;

  anon0:
    call {:si_unique_call 2328} Iosb_19 := __HAVOC_malloc(12);
    call {:si_unique_call 2329} ChangeCount_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2330} PartitionInformation_1 := __HAVOC_malloc(108);
    call {:si_unique_call 2331} DiskGeometry := __HAVOC_malloc(36);
    call {:si_unique_call 2332} LabelFound_1 := __HAVOC_malloc(4);
    call {:si_unique_call 2333} RootDirectoryCluster := __HAVOC_malloc(4);
    call {:si_unique_call 2334} Bpb_1 := __HAVOC_malloc(88);
    IrpContext_108 := actual_IrpContext_108;
    Irp_43 := actual_Irp_43;
    call {:si_unique_call 2335} Tmp_1944 := __HAVOC_malloc(16);
    call {:si_unique_call 2336} Tmp_1946 := __HAVOC_malloc(8);
    call {:si_unique_call 2337} Tmp_1953 := __HAVOC_malloc(8);
    call {:si_unique_call 2338} Tmp_1954 := __HAVOC_malloc(8);
    call {:si_unique_call 2339} Tmp_1960 := __HAVOC_malloc(8);
    call {:si_unique_call 2340} Tmp_1961 := __HAVOC_malloc(16);
    call {:si_unique_call 2341} Tmp_1973 := __HAVOC_malloc(8);
    call {:si_unique_call 2342} Tmp_1977 := __HAVOC_malloc(8);
    call {:si_unique_call 2343} Tmp_1981 := __HAVOC_malloc(4);
    call {:si_unique_call 2344} Tmp_1984 := __HAVOC_malloc(8);
    call {:si_unique_call 2345} Tmp_1985 := __HAVOC_malloc(8);
    call {:si_unique_call 2346} Tmp_1989 := __HAVOC_malloc(4);
    call {:si_unique_call 2347} Tmp_1993 := __HAVOC_malloc(8);
    call {:si_unique_call 2348} Tmp_1998 := __HAVOC_malloc(16);
    call {:si_unique_call 2349} Tmp_2002 := __HAVOC_malloc(4);
    call {:si_unique_call 2350} Tmp_2005 := __HAVOC_malloc(8);
    call {:si_unique_call 2351} Tmp_2011 := __HAVOC_malloc(16);
    call {:si_unique_call 2352} Tmp_2012 := __HAVOC_malloc(8);
    Status_36 := 0;
    RootDirectory := 0;
    BootSector_2 := 0;
    ClearVerify := 0;
    ReleaseEntireVolume := 0;
    VerifyAlreadyDone := 0;
    assume {:nonnull} ChangeCount_1 != 0;
    assume ChangeCount_1 > 0;
    Mem_T.INT4[ChangeCount_1] := 0;
    call {:si_unique_call 2353} IrpSp_23 := sdv_IoGetCurrentIrpStackLocation(Irp_43);
    assume {:nonnull} IrpSp_23 != 0;
    assume IrpSp_23 > 0;
    havoc VolDo_1;
    assume {:nonnull} IrpSp_23 != 0;
    assume IrpSp_23 > 0;
    havoc Vpb_4;
    assume {:nonnull} VolDo_1 != 0;
    assume VolDo_1 > 0;
    Vcb_67 := Vcb__VOLUME_DEVICE_OBJECT(VolDo_1);
    assume {:nonnull} IrpContext_108 != 0;
    assume IrpContext_108 > 0;
    assume {:nonnull} IrpContext_108 != 0;
    assume IrpContext_108 > 0;
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:nonnull} IrpContext_108 != 0;
    assume IrpContext_108 > 0;
    havoc Tmp_1996;
    goto anon152_Then, anon152_Else;

  anon152_Else:
    assume {:partition} Tmp_1996 == 0;
    Tmp_1976 := 0;
    goto L423;

  L423:
    call {:si_unique_call 2354} vslice_dummy_var_338 := ExAcquireResourceExclusiveLite(0, Tmp_1976);
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2355} vslice_dummy_var_331 := FatAcquireExclusiveVcb(IrpContext_108, Vcb_67);
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} IrpSp_23 != 0;
    assume IrpSp_23 > 0;
    havoc Tmp_2003;
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} Tmp_2003 == 0;
    AllowRawMount := 0;
    goto L429;

  L429:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    call {:si_unique_call 2356} boogieTmp := sdv_KeGetCurrentThread();
    assume {:nonnull} Vpb_4 != 0;
    assume Vpb_4 > 0;
    havoc Tmp_1963;
    assume {:nonnull} Tmp_1963 != 0;
    assume Tmp_1963 > 0;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_266;
    call {:si_unique_call 2357} vslice_dummy_var_332 := FatPerformDevIoCtrl(IrpContext_108, 458824, vslice_dummy_var_266, PartitionInformation_1, 144, 0, 1, Iosb_19);
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_267;
    call {:si_unique_call 2358} Status_36 := FatPerformDevIoCtrl(IrpContext_108, 477184, vslice_dummy_var_267, ChangeCount_1, 4, 0, 1, Iosb_19);
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} Status_36 >= 0;
    goto L103;

  L103:
    assume {:nonnull} Iosb_19 != 0;
    assume Iosb_19 > 0;
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:nonnull} ChangeCount_1 != 0;
    assume ChangeCount_1 > 0;
    Mem_T.INT4[ChangeCount_1] := 0;
    goto L104;

  L104:
    assume {:nonnull} ChangeCount_1 != 0;
    assume ChangeCount_1 > 0;
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc Tmp_1972;
    assume {:nonnull} Tmp_1972 != 0;
    assume Tmp_1972 > 0;
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_268;
    call {:si_unique_call 2359} sdv_1187 := FatScanForDataTrack(IrpContext_108, vslice_dummy_var_268);
    goto anon116_Then, anon116_Else;

  anon116_Else:
    assume {:partition} sdv_1187 == 0;
    Status_36 := -1073741806;
    goto L116;

  L116:
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:partition} Status_36 != 0;
    Tmp_1971 := 0;
    goto L438;

  L438:
    call {:si_unique_call 2360} FatCloseEaFile(IrpContext_108, Vcb_67, Tmp_1971);
    goto anon118_Then, anon118_Else;

  anon118_Else:
    assume {:partition} VerifyAlreadyDone != 0;
    goto L124;

  L124:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    Status_36 := -1073741806;
    goto L127;

  L127:
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} ClearVerify != 0;
    assume {:nonnull} Vpb_4 != 0;
    assume Vpb_4 > 0;
    havoc Tmp_1958;
    assume {:nonnull} Vpb_4 != 0;
    assume Vpb_4 > 0;
    havoc Tmp_2013;
    assume {:nonnull} Tmp_1958 != 0;
    assume Tmp_1958 > 0;
    assume {:nonnull} Tmp_2013 != 0;
    assume Tmp_2013 > 0;
    goto L128;

  L128:
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:partition} BootSector_2 != 0;
    call {:si_unique_call 2361} sdv_ExFreePool(0);
    goto L130;

  L130:
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:partition} RootDirectory != 0;
    call {:si_unique_call 2362} sdv_ExFreePool(0);
    goto L134;

  L134:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} ReleaseEntireVolume != 0;
    Fcb_42 := 0;
    goto L144;

  L144:
    call {:si_unique_call 2363} Fcb_42 := FatVerifyVolume_loop_L144(Vcb_67, Fcb_42, IrpContext_108);
    goto L144_last;

  L144_last:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_275;
    call {:si_unique_call 2407} Fcb_42 := FatGetNextFcbBottomUp(IrpContext_108, Fcb_42, vslice_dummy_var_275);
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume {:partition} Fcb_42 != 0;
    call {:si_unique_call 2364} ExReleaseResourceLite(0);
    goto anon124_Else_dummy;

  anon124_Else_dummy:
    assume false;
    return;

  anon124_Then:
    assume {:partition} Fcb_42 == 0;
    call {:si_unique_call 2365} ExReleaseResourceLite(0);
    goto L139;

  L139:
    call {:si_unique_call 2366} ExReleaseResourceLite(0);
    call {:si_unique_call 2367} ExReleaseResourceLite(0);
    call {:si_unique_call 2368} sdv_1165 := sdv_AbnormalTermination();
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume {:partition} sdv_1165 != 0;
    goto L165;

  L165:
    Tmp_1943 := Status_36;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon125_Then:
    assume {:partition} sdv_1165 == 0;
    call {:si_unique_call 2369} FatCompleteRequest_Real(IrpContext_108, Irp_43, Status_36);
    goto L165;

  anon159_Then:
    assume {:partition} ReleaseEntireVolume == 0;
    goto L139;

  anon123_Then:
    assume {:partition} RootDirectory == 0;
    goto L134;

  anon122_Then:
    assume {:partition} BootSector_2 == 0;
    goto L130;

  anon121_Then:
    assume {:partition} ClearVerify == 0;
    goto L128;

  anon119_Then:
    goto anon120_Then, anon120_Else;

  anon120_Else:
    assume {:partition} Status_36 == -1073741806;
    Fcb_41 := 0;
    call {:si_unique_call 2370} vslice_dummy_var_339 := FatAcquireExclusiveVcb(IrpContext_108, Vcb_67);
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} yogi_error != 1;
    goto L172;

  L172:
    call {:si_unique_call 2371} Fcb_41, vslice_dummy_var_333 := FatVerifyVolume_loop_L172(Fcb_41, Vcb_67, IrpContext_108, vslice_dummy_var_333);
    goto L172_last;

  L172_last:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_276;
    call {:si_unique_call 2408} Fcb_41 := FatGetNextFcbBottomUp(IrpContext_108, Fcb_41, vslice_dummy_var_276);
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:partition} Fcb_41 != 0;
    call {:si_unique_call 2372} vslice_dummy_var_333 := FatAcquireExclusiveFcb(IrpContext_108, Fcb_41);
    goto anon161_Then, anon161_Else;

  anon161_Else:
    assume {:partition} yogi_error != 1;
    goto anon161_Else_dummy;

  anon161_Else_dummy:
    assume false;
    return;

  anon161_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon127_Then:
    assume {:partition} Fcb_41 == 0;
    ReleaseEntireVolume := 1;
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_269;
    call {:si_unique_call 2373} FatPurgeReferencedFileObjects(IrpContext_108, vslice_dummy_var_269, 0);
    goto anon162_Then, anon162_Else;

  anon162_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2374} vslice_dummy_var_334 := corral_nondet();
    call {:si_unique_call 2375} FatTearDownAllocationSupport(IrpContext_108, Vcb_67);
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    ClearVerify := 1;
    goto L127;

  anon162_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon160_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon120_Then:
    assume {:partition} Status_36 != -1073741806;
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume {:partition} VerifyAlreadyDone == 0;
    Fcb_43 := 0;
    call {:si_unique_call 2376} vslice_dummy_var_340 := FatAcquireExclusiveVcb(IrpContext_108, Vcb_67);
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:partition} yogi_error != 1;
    goto L197;

  L197:
    call {:si_unique_call 2377} Fcb_43, vslice_dummy_var_335 := FatVerifyVolume_loop_L197(Vcb_67, Fcb_43, IrpContext_108, vslice_dummy_var_335);
    goto L197_last;

  L197_last:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_277;
    call {:si_unique_call 2409} Fcb_43 := FatGetNextFcbBottomUp(IrpContext_108, Fcb_43, vslice_dummy_var_277);
    goto anon128_Then, anon128_Else;

  anon128_Else:
    assume {:partition} Fcb_43 != 0;
    call {:si_unique_call 2378} vslice_dummy_var_335 := FatAcquireExclusiveFcb(IrpContext_108, Fcb_43);
    goto anon164_Then, anon164_Else;

  anon164_Else:
    assume {:partition} yogi_error != 1;
    goto anon164_Else_dummy;

  anon164_Else_dummy:
    assume false;
    return;

  anon164_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon128_Then:
    assume {:partition} Fcb_43 == 0;
    ReleaseEntireVolume := 1;
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_270;
    call {:si_unique_call 2379} FatPurgeReferencedFileObjects(IrpContext_108, vslice_dummy_var_270, 1);
    goto anon165_Then, anon165_Else;

  anon165_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2380} vslice_dummy_var_336 := FatFlushFat(IrpContext_108, Vcb_67);
    call {:si_unique_call 2381} vslice_dummy_var_337 := corral_nondet();
    call {:si_unique_call 2382} FatTearDownAllocationSupport(IrpContext_108, Vcb_67);
    call {:si_unique_call 2383} FatSetupAllocationSupport(IrpContext_108, Vcb_67);
    call {:si_unique_call 2384} FatCheckDirtyBit(IrpContext_108, Vcb_67);
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_271;
    call {:si_unique_call 2385} sdv_1182 := FatIsMediaWriteProtected(IrpContext_108, vslice_dummy_var_271);
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} sdv_1182 != 0;
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    goto L230;

  L230:
    ClearVerify := 1;
    goto L127;

  anon129_Then:
    assume {:partition} sdv_1182 == 0;
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    goto L230;

  anon165_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon163_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon126_Then:
    assume {:partition} VerifyAlreadyDone != 0;
    goto L127;

  anon118_Then:
    assume {:partition} VerifyAlreadyDone == 0;
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_272;
    call {:si_unique_call 2386} FatMarkFcbCondition(IrpContext_108, vslice_dummy_var_272, 3, 1);
    goto L124;

  anon117_Then:
    assume {:partition} Status_36 == 0;
    Tmp_1971 := 1;
    goto L438;

  anon116_Then:
    assume {:partition} sdv_1187 != 0;
    goto L107;

  L107:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc vslice_dummy_var_273;
    call {:si_unique_call 2387} Status_36 := FatPerformDevIoCtrl(IrpContext_108, 458752, vslice_dummy_var_273, DiskGeometry, 24, 0, 1, 0);
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} Status_36 >= 0;
    goto L234;

  L234:
    assume {:nonnull} Vcb_67 != 0;
    assume Vcb_67 > 0;
    havoc SectorSize_4;
    assume {:nonnull} DiskGeometry != 0;
    assume DiskGeometry > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    Status_36 := -1073741806;
    goto L116;

  anon158_Then:
    Tmp_1959 := BAND(SectorSize_4 + 4096 - 1, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 2388} sdv_1179 := ExAllocatePoolWithTag(20, Tmp_1959, -210476730);
    BootSector_2 := sdv_1179;
    call {:si_unique_call 2389} sdv_1181 := FatPerformVerifyDiskRead(IrpContext_108, Vcb_67, BootSector_2, 0, SectorSize_4, AllowRawMount);
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:partition} sdv_1181 != 0;
    call {:si_unique_call 2390} sdv_1175 := FatIsBootSectorFat(BootSector_2);
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:partition} sdv_1175 != 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1983 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1983 != 0;
    assume Tmp_1983 > 0;
    Tmp_1990 := SectorsPerFat__PACKED_BIOS_PARAMETER_BLOCK(Tmp_1983);
    assume {:nonnull} Tmp_1990 != 0;
    assume Tmp_1990 > 0;
    goto anon166_Then, anon166_Else;

  anon166_Else:
    assume {:partition} Mem_T.INT4[Tmp_1990] != 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_2001 := Id__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_2001 != 0;
    assume Tmp_2001 > 0;
    havoc SerialNumber;
    goto L257;

  L257:
    assume {:nonnull} Vpb_4 != 0;
    assume Vpb_4 > 0;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    Status_36 := -1073741806;
    goto L116;

  anon134_Then:
    call {:si_unique_call 2391} sdv_RtlZeroMemory(0, 48);
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1952 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1952 != 0;
    assume Tmp_1952 > 0;
    havoc Tmp_1946;
    Tmp_1992 := Tmp_1946;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1992 != 0;
    assume Tmp_1992 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_2007 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_2007 != 0;
    assume Tmp_2007 > 0;
    havoc Tmp_1989;
    Tmp_1969 := Tmp_1989;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1969 != 0;
    assume Tmp_1969 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_2008 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_2008 != 0;
    assume Tmp_2008 > 0;
    havoc Tmp_1977;
    Tmp_1986 := Tmp_1977;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1986 != 0;
    assume Tmp_1986 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_2000 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_2000 != 0;
    assume Tmp_2000 > 0;
    havoc Tmp_1981;
    Tmp_1987 := Tmp_1981;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1987 != 0;
    assume Tmp_1987 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1974 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1974 != 0;
    assume Tmp_1974 > 0;
    havoc Tmp_2012;
    Tmp_2004 := Tmp_2012;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_2004 != 0;
    assume Tmp_2004 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1975 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1975 != 0;
    assume Tmp_1975 > 0;
    havoc Tmp_1960;
    Tmp_1999 := Tmp_1960;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1999 != 0;
    assume Tmp_1999 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1957 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1957 != 0;
    assume Tmp_1957 > 0;
    havoc Tmp_2002;
    Tmp_1948 := Tmp_2002;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1948 != 0;
    assume Tmp_1948 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1979 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1979 != 0;
    assume Tmp_1979 > 0;
    havoc Tmp_1973;
    Tmp_1997 := Tmp_1973;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1997 != 0;
    assume Tmp_1997 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1970 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1970 != 0;
    assume Tmp_1970 > 0;
    havoc Tmp_2005;
    Tmp_1967 := Tmp_2005;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1967 != 0;
    assume Tmp_1967 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1955 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1955 != 0;
    assume Tmp_1955 > 0;
    havoc Tmp_1993;
    Tmp_1951 := Tmp_1993;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1951 != 0;
    assume Tmp_1951 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_2015 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_2015 != 0;
    assume Tmp_2015 > 0;
    havoc Tmp_2011;
    Tmp_1965 := Tmp_2011;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1965 != 0;
    assume Tmp_1965 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1994 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1994 != 0;
    assume Tmp_1994 > 0;
    havoc Tmp_1998;
    Tmp_1968 := Tmp_1998;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1968 != 0;
    assume Tmp_1968 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1962 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1962 != 0;
    assume Tmp_1962 > 0;
    havoc Tmp_1961;
    Tmp_1947 := Tmp_1961;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1947 != 0;
    assume Tmp_1947 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1950 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1950 != 0;
    assume Tmp_1950 > 0;
    havoc Tmp_1984;
    Tmp_1995 := Tmp_1984;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1995 != 0;
    assume Tmp_1995 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1982 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1982 != 0;
    assume Tmp_1982 > 0;
    havoc Tmp_1985;
    Tmp_1956 := Tmp_1985;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1956 != 0;
    assume Tmp_1956 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_2010 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_2010 != 0;
    assume Tmp_2010 > 0;
    havoc Tmp_1944;
    Tmp_1945 := Tmp_1944;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1945 != 0;
    assume Tmp_1945 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1964 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1964 != 0;
    assume Tmp_1964 > 0;
    havoc Tmp_1953;
    Tmp_2016 := Tmp_1953;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_2016 != 0;
    assume Tmp_2016 > 0;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_1978 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_1978 != 0;
    assume Tmp_1978 > 0;
    havoc Tmp_1954;
    Tmp_1980 := Tmp_1954;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} Tmp_1980 != 0;
    assume Tmp_1980 > 0;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    goto L282;

  L282:
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:partition} sdv_1192 != 0;
    Status_36 := -1073741806;
    goto L116;

  anon135_Then:
    assume {:partition} sdv_1192 == 0;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    havoc RootDirectorySize;
    goto L295;

  L295:
    Tmp_1966 := BAND(RootDirectorySize + 4096 - 1, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 2392} sdv_1161 := ExAllocatePoolWithTag(20, Tmp_1966, -227253946);
    RootDirectory := sdv_1161;
    assume {:nonnull} BootSector_2 != 0;
    assume BootSector_2 > 0;
    Tmp_2009 := PackedBpb__PACKED_BOOT_SECTOR(BootSector_2);
    assume {:nonnull} Tmp_2009 != 0;
    assume Tmp_2009 > 0;
    Tmp_2006 := SectorsPerFat__PACKED_BIOS_PARAMETER_BLOCK(Tmp_2009);
    assume {:nonnull} Tmp_2006 != 0;
    assume Tmp_2006 > 0;
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:partition} Mem_T.INT4[Tmp_2006] == 0;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    assume {:nonnull} RootDirectoryCluster != 0;
    assume RootDirectoryCluster > 0;
    havoc vslice_dummy_var_274;
    Mem_T.INT4[RootDirectoryCluster] := vslice_dummy_var_274;
    goto L323;

  L323:
    call {:si_unique_call 2393} sdv_1162, Status_36, sdv_1174, RootDirectoryLbo := FatVerifyVolume_loop_L323(Vpb_4, sdv_1162, RootDirectory, RootDirectorySize, Status_36, sdv_1174, Vcb_67, RootDirectoryLbo, LabelFound_1, AllowRawMount, RootDirectoryCluster, IrpContext_108);
    goto L323_last;

  L323_last:
    assume {:nonnull} RootDirectoryCluster != 0;
    assume RootDirectoryCluster > 0;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:partition} Mem_T.INT4[RootDirectoryCluster] != 268435455;
    call {:si_unique_call 2394} RootDirectoryLbo := corral_nondet();
    call {:si_unique_call 2395} sdv_1162 := FatPerformVerifyDiskRead(IrpContext_108, Vcb_67, RootDirectory, RootDirectoryLbo, RootDirectorySize, AllowRawMount);
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume {:partition} sdv_1162 != 0;
    call {:si_unique_call 2396} Status_36 := FatSearchBufferForLabel(IrpContext_108, Vpb_4, RootDirectory, RootDirectorySize, LabelFound_1);
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:partition} Status_36 >= 0;
    assume {:nonnull} LabelFound_1 != 0;
    assume LabelFound_1 > 0;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume {:partition} Mem_T.INT4[LabelFound_1] == 0;
    assume {:nonnull} RootDirectoryCluster != 0;
    assume RootDirectoryCluster > 0;
    call {:si_unique_call 2397} FatVerifyLookupFatEntry(IrpContext_108, Vcb_67, Mem_T.INT4[RootDirectoryCluster], RootDirectoryCluster);
    assume {:nonnull} RootDirectoryCluster != 0;
    assume RootDirectoryCluster > 0;
    call {:si_unique_call 2398} sdv_1174 := FatInterpretClusterType(Vcb_67, Mem_T.INT4[RootDirectoryCluster]);
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} sdv_1174 != 0;
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} sdv_1174 != 1;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} sdv_1174 == 2;
    goto L347;

  L347:
    assume {:nonnull} IrpContext_108 != 0;
    assume IrpContext_108 > 0;
    call {:si_unique_call 2399} ExRaiseStatus(-1073741566);
    goto L347_dummy;

  L347_dummy:
    assume false;
    return;

  anon149_Then:
    assume {:partition} sdv_1174 != 2;
    goto anon149_Then_dummy;

  anon149_Then_dummy:
    assume false;
    return;

  anon150_Then:
    assume {:partition} sdv_1174 == 1;
    goto L347;

  anon147_Then:
    assume {:partition} sdv_1174 == 0;
    goto L347;

  anon146_Then:
    assume {:partition} Mem_T.INT4[LabelFound_1] != 0;
    goto L324;

  L324:
    assume {:nonnull} RootDirectoryCluster != 0;
    assume RootDirectoryCluster > 0;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:partition} Mem_T.INT4[RootDirectoryCluster] == 268435455;
    assume {:nonnull} Vpb_4 != 0;
    assume Vpb_4 > 0;
    goto anon148_Then, anon148_Else;

  anon148_Else:
    Status_36 := -1073741806;
    goto L116;

  anon148_Then:
    goto L116;

  anon143_Then:
    assume {:partition} Mem_T.INT4[RootDirectoryCluster] != 268435455;
    goto L116;

  anon145_Then:
    assume {:partition} 0 > Status_36;
    goto L116;

  anon144_Then:
    assume {:partition} sdv_1162 == 0;
    Status_36 := -1073741806;
    goto L116;

  anon142_Then:
    assume {:partition} Mem_T.INT4[RootDirectoryCluster] == 268435455;
    goto L324;

  anon168_Then:
    assume {:partition} Mem_T.INT4[Tmp_2006] != 0;
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    havoc Tmp_1949;
    goto L305;

  L305:
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    havoc RootDirectoryLbo;
    call {:si_unique_call 2400} sdv_1184 := FatPerformVerifyDiskRead(IrpContext_108, Vcb_67, RootDirectory, RootDirectoryLbo, RootDirectorySize, AllowRawMount);
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} sdv_1184 != 0;
    call {:si_unique_call 2401} Status_36 := FatSearchBufferForLabel(IrpContext_108, Vpb_4, RootDirectory, RootDirectorySize, LabelFound_1);
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:partition} Status_36 >= 0;
    assume {:nonnull} LabelFound_1 != 0;
    assume LabelFound_1 > 0;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume {:partition} Mem_T.INT4[LabelFound_1] == 0;
    assume {:nonnull} Vpb_4 != 0;
    assume Vpb_4 > 0;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    Status_36 := -1073741806;
    goto L116;

  anon141_Then:
    goto L116;

  anon140_Then:
    assume {:partition} Mem_T.INT4[LabelFound_1] != 0;
    goto L116;

  anon139_Then:
    assume {:partition} 0 > Status_36;
    goto L116;

  anon138_Then:
    assume {:partition} sdv_1184 == 0;
    Status_36 := -1073741806;
    goto L116;

  anon137_Then:
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    havoc Tmp_1949;
    goto L305;

  anon136_Then:
    assume {:nonnull} Bpb_1 != 0;
    assume Bpb_1 > 0;
    havoc RootDirectorySize;
    goto L295;

  anon167_Then:
    goto L282;

  anon166_Then:
    assume {:partition} Mem_T.INT4[Tmp_1990] == 0;
    Tmp_2014 := BootSector_2;
    assume {:nonnull} Tmp_2014 != 0;
    assume Tmp_2014 > 0;
    Tmp_1991 := Id__PACKED_BOOT_SECTOR_EX(Tmp_2014);
    assume {:nonnull} Tmp_1991 != 0;
    assume Tmp_1991 > 0;
    havoc SerialNumber;
    goto L257;

  anon133_Then:
    assume {:partition} sdv_1175 == 0;
    Status_36 := -1073741806;
    goto L116;

  anon132_Then:
    assume {:partition} sdv_1181 == 0;
    Status_36 := -1073741806;
    goto L116;

  anon130_Then:
    assume {:partition} 0 > Status_36;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:partition} AllowRawMount != 0;
    Status_36 := -1073741806;
    goto L116;

  anon131_Then:
    assume {:partition} AllowRawMount == 0;
    assume {:nonnull} IrpContext_108 != 0;
    assume IrpContext_108 > 0;
    call {:si_unique_call 2402} sdv_1160 := corral_nondet();
    call {:si_unique_call 2403} ExRaiseStatus(sdv_1160);
    goto L234;

  anon157_Then:
    goto L107;

  anon115_Then:
    goto L104;

  anon113_Then:
    assume {:partition} 0 > Status_36;
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:partition} AllowRawMount != 0;
    Status_36 := -1073741806;
    goto L116;

  anon114_Then:
    assume {:partition} AllowRawMount == 0;
    assume {:nonnull} IrpContext_108 != 0;
    assume IrpContext_108 > 0;
    call {:si_unique_call 2404} sdv_1164 := corral_nondet();
    call {:si_unique_call 2405} ExRaiseStatus(sdv_1164);
    goto L103;

  anon156_Then:
    VerifyAlreadyDone := 1;
    Status_36 := 0;
    goto L116;

  anon155_Then:
    assume {:partition} Tmp_2003 != 0;
    AllowRawMount := 1;
    goto L429;

  anon154_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon153_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon152_Then:
    assume {:partition} Tmp_1996 != 0;
    Tmp_1976 := 1;
    goto L423;

  anon151_Then:
    call {:si_unique_call 2406} Status_36 := FatFsdPostRequest(IrpContext_108, Irp_43);
    Tmp_1943 := Status_36;
    goto L1;
}



procedure {:origName "FatFsdFileSystemControl"} FatFsdFileSystemControl(actual_VolumeDeviceObject_6: int, actual_Irp_44: int) returns (Tmp_2017: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdFileSystemControl"} FatFsdFileSystemControl(actual_VolumeDeviceObject_6: int, actual_Irp_44: int) returns (Tmp_2017: int)
{
  var {:scalar} TopLevel_3: int;
  var {:pointer} sdv_1195: int;
  var {:scalar} Status_37: int;
  var {:scalar} Wait_9: int;
  var {:pointer} IrpSp_24: int;
  var {:pointer} IrpContext_109: int;
  var {:pointer} VolumeDeviceObject_6: int;
  var {:pointer} Irp_44: int;

  anon0:
    VolumeDeviceObject_6 := actual_VolumeDeviceObject_6;
    Irp_44 := actual_Irp_44;
    IrpContext_109 := 0;
    call {:si_unique_call 2410} sdv_1195 := sdv_IoGetCurrentIrpStackLocation(Irp_44);
    assume {:nonnull} sdv_1195 != 0;
    assume sdv_1195 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    call {:si_unique_call 2411} Wait_9 := corral_nondet();
    goto L19;

  L19:
    call {:si_unique_call 2412} KeEnterCriticalRegion();
    call {:si_unique_call 2413} TopLevel_3 := FatIsIrpTopLevel(Irp_44);
    call {:si_unique_call 2414} IrpSp_24 := sdv_IoGetCurrentIrpStackLocation(Irp_44);
    assume {:nonnull} IrpSp_24 != 0;
    assume IrpSp_24 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    goto L55;

  L55:
    assume {:nonnull} IrpSp_24 != 0;
    assume IrpSp_24 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} IrpSp_24 != 0;
    assume IrpSp_24 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} IrpSp_24 != 0;
    assume IrpSp_24 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    call {:si_unique_call 2415} Status_37 := FatInvalidateVolumes(Irp_44);
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} yogi_error != 1;
    goto L44;

  L44:
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} TopLevel_3 != 0;
    goto L45;

  L45:
    call {:si_unique_call 2416} KeLeaveCriticalRegion();
    Tmp_2017 := Status_37;
    goto LM2;

  LM2:
    return;

  anon20_Then:
    assume {:partition} TopLevel_3 == 0;
    goto L45;

  anon27_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon25_Then:
    goto L56;

  L56:
    call {:si_unique_call 2417} IrpContext_109 := FatCreateIrpContext(Irp_44, Wait_9);
    call {:si_unique_call 2418} Status_37 := FatCommonFileSystemControl(IrpContext_109, Irp_44);
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} yogi_error != 1;
    goto L44;

  anon26_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon24_Then:
    goto L56;

  anon23_Then:
    goto L56;

  anon21_Then:
    assume {:nonnull} IrpSp_24 != 0;
    assume IrpSp_24 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    goto L56;

  anon22_Then:
    goto L55;

  anon19_Then:
    Wait_9 := 1;
    goto L19;
}



procedure {:origName "FatLookupMcbEntry"} FatLookupMcbEntry(actual_Vcb_68: int, actual_Mcb_6: int, actual_Vbo_11: int, actual_Lbo_15: int, actual_SectorCount_2: int, actual_Index_6: int) returns (Tmp_2019: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLookupMcbEntry"} FatLookupMcbEntry(actual_Vcb_68: int, actual_Mcb_6: int, actual_Vbo_11: int, actual_Lbo_15: int, actual_SectorCount_2: int, actual_Index_6: int) returns (Tmp_2019: int)
{
  var {:dopa} {:scalar} LiSectorCount: int;
  var {:scalar} Remainder: int;
  var {:scalar} LiLbo_1: int;
  var {:scalar} Results_1: int;
  var {:pointer} Lbo_15: int;
  var {:pointer} SectorCount_2: int;
  var boogieTmp: int;
  var vslice_dummy_var_341: int;

  anon0:
    call {:si_unique_call 2419} LiSectorCount := __HAVOC_malloc(4);
    Lbo_15 := actual_Lbo_15;
    SectorCount_2 := actual_SectorCount_2;
    LiLbo_1 := 0;
    assume {:nonnull} LiSectorCount != 0;
    assume LiSectorCount > 0;
    Mem_T.INT4[LiSectorCount] := 0;
    call {:si_unique_call 2420} Remainder := corral_nondet();
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} SectorCount_2 != 0;
    goto L13;

  L13:
    call {:si_unique_call 2421} vslice_dummy_var_341 := corral_nondet();
    call {:si_unique_call 2422} Results_1 := corral_nondet();
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} LiLbo_1 != -1;
    assume {:nonnull} Lbo_15 != 0;
    assume Lbo_15 > 0;
    call {:si_unique_call 2423} boogieTmp := corral_nondet();
    Mem_T.INT4[Lbo_15] := boogieTmp;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Results_1 != 0;
    assume {:nonnull} Lbo_15 != 0;
    assume Lbo_15 > 0;
    Mem_T.INT4[Lbo_15] := Mem_T.INT4[Lbo_15] + Remainder;
    goto L22;

  L22:
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} SectorCount_2 != 0;
    assume {:nonnull} LiSectorCount != 0;
    assume LiSectorCount > 0;
    assume {:nonnull} SectorCount_2 != 0;
    assume SectorCount_2 > 0;
    Mem_T.INT4[SectorCount_2] := Mem_T.INT4[LiSectorCount];
    assume {:nonnull} SectorCount_2 != 0;
    assume SectorCount_2 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Mem_T.INT4[SectorCount_2] != 0;
    assume {:nonnull} SectorCount_2 != 0;
    assume SectorCount_2 > 0;
    call {:si_unique_call 2424} boogieTmp := corral_nondet();
    Mem_T.INT4[SectorCount_2] := boogieTmp;
    assume {:nonnull} SectorCount_2 != 0;
    assume SectorCount_2 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Mem_T.INT4[SectorCount_2] != 0;
    goto L30;

  L30:
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} Results_1 != 0;
    assume {:nonnull} SectorCount_2 != 0;
    assume SectorCount_2 > 0;
    Mem_T.INT4[SectorCount_2] := Mem_T.INT4[SectorCount_2] - Remainder;
    goto L24;

  L24:
    Tmp_2019 := Results_1;
    return;

  anon17_Then:
    assume {:partition} Results_1 == 0;
    goto L24;

  anon21_Then:
    assume {:partition} Mem_T.INT4[SectorCount_2] == 0;
    assume {:nonnull} SectorCount_2 != 0;
    assume SectorCount_2 > 0;
    Mem_T.INT4[SectorCount_2] := -1;
    goto L30;

  anon20_Then:
    assume {:partition} Mem_T.INT4[SectorCount_2] == 0;
    goto L24;

  anon16_Then:
    assume {:partition} SectorCount_2 == 0;
    goto L24;

  anon19_Then:
    assume {:partition} Results_1 == 0;
    goto L22;

  anon15_Then:
    assume {:partition} LiLbo_1 == -1;
    assume {:nonnull} Lbo_15 != 0;
    assume Lbo_15 > 0;
    Mem_T.INT4[Lbo_15] := 0;
    goto L22;

  anon18_Then:
    assume {:partition} SectorCount_2 == 0;
    goto L13;
}



procedure {:origName "FatIsVolumeDirty"} FatIsVolumeDirty(actual_IrpContext_110: int, actual_Irp_45: int) returns (Tmp_2023: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} Tmp_2023 == -1073741670 || Tmp_2023 == -1073741811 || Tmp_2023 == -1073741202 || Tmp_2023 == 0 || Tmp_2023 == -1073741592;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsVolumeDirty"} FatIsVolumeDirty(actual_IrpContext_110: int, actual_Irp_45: int) returns (Tmp_2023: int)
{
  var {:pointer} Ccb_25: int;
  var {:pointer} VolumeState: int;
  var {:pointer} Fcb_44: int;
  var {:scalar} TypeOfOpen_7: int;
  var {:pointer} IrpSp_25: int;
  var {:pointer} sdv_1209: int;
  var {:pointer} Vcb_69: int;
  var {:pointer} IrpContext_110: int;
  var {:pointer} Irp_45: int;
  var vslice_dummy_var_278: int;
  var vslice_dummy_var_279: int;

  anon0:
    call {:si_unique_call 2425} Ccb_25 := __HAVOC_malloc(4);
    call {:si_unique_call 2426} Fcb_44 := __HAVOC_malloc(4);
    call {:si_unique_call 2427} Vcb_69 := __HAVOC_malloc(4);
    IrpContext_110 := actual_IrpContext_110;
    Irp_45 := actual_Irp_45;
    call {:si_unique_call 2428} IrpSp_25 := sdv_IoGetCurrentIrpStackLocation(Irp_45);
    assume {:nonnull} Irp_45 != 0;
    assume Irp_45 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} Irp_45 != 0;
    assume Irp_45 > 0;
    havoc VolumeState;
    goto L16;

  L16:
    assume {:nonnull} IrpSp_25 != 0;
    assume IrpSp_25 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    call {:si_unique_call 2429} FatCompleteRequest_Real(IrpContext_110, Irp_45, -1073741811);
    Tmp_2023 := -1073741811;
    goto L1;

  L1:
    return;

  anon17_Then:
    assume {:nonnull} VolumeState != 0;
    assume VolumeState > 0;
    Mem_T.INT4[VolumeState] := 0;
    assume {:nonnull} IrpSp_25 != 0;
    assume IrpSp_25 > 0;
    havoc vslice_dummy_var_278;
    call {:si_unique_call 2430} TypeOfOpen_7 := FatDecodeFileObject(vslice_dummy_var_278, Vcb_69, Fcb_44, Ccb_25);
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} TypeOfOpen_7 != 4;
    call {:si_unique_call 2431} FatCompleteRequest_Real(IrpContext_110, Irp_45, -1073741811);
    Tmp_2023 := -1073741811;
    goto L1;

  anon18_Then:
    assume {:partition} TypeOfOpen_7 == 4;
    assume {:nonnull} Vcb_69 != 0;
    assume Vcb_69 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    call {:si_unique_call 2432} FatCompleteRequest_Real(IrpContext_110, Irp_45, -1073741202);
    Tmp_2023 := -1073741202;
    goto L1;

  anon19_Then:
    assume {:nonnull} IrpContext_110 != 0;
    assume IrpContext_110 > 0;
    assume {:nonnull} Vcb_69 != 0;
    assume Vcb_69 > 0;
    havoc vslice_dummy_var_279;
    call {:si_unique_call 2433} FatVerifyVcb(IrpContext_110, vslice_dummy_var_279);
    assume {:nonnull} Vcb_69 != 0;
    assume Vcb_69 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:nonnull} VolumeState != 0;
    assume VolumeState > 0;
    Mem_T.INT4[VolumeState] := BOR(Mem_T.INT4[VolumeState], 1);
    goto L41;

  L41:
    assume {:nonnull} Irp_45 != 0;
    assume Irp_45 > 0;
    call {:si_unique_call 2434} FatCompleteRequest_Real(IrpContext_110, Irp_45, 0);
    Tmp_2023 := 0;
    goto L1;

  anon20_Then:
    goto L41;

  anon15_Then:
    assume {:nonnull} Irp_45 != 0;
    assume Irp_45 > 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    call {:si_unique_call 2435} sdv_1209 := sdv_MmGetSystemAddressForMdlSafe(0, 0);
    VolumeState := sdv_1209;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} VolumeState == 0;
    call {:si_unique_call 2436} FatCompleteRequest_Real(IrpContext_110, Irp_45, -1073741670);
    Tmp_2023 := -1073741670;
    goto L1;

  anon21_Then:
    assume {:partition} VolumeState != 0;
    goto L16;

  anon16_Then:
    call {:si_unique_call 2437} FatCompleteRequest_Real(IrpContext_110, Irp_45, -1073741592);
    Tmp_2023 := -1073741592;
    goto L1;
}



procedure {:origName "FatInvalidateVolumes"} FatInvalidateVolumes(actual_Irp_46: int) returns (Tmp_2025: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatInvalidateVolumes"} FatInvalidateVolumes(actual_Irp_46: int) returns (Tmp_2025: int)
{
  var {:pointer} Links_5: int;
  var {:pointer} ExistingVcb: int;
  var {:pointer} DeviceToMarkBad: int;
  var {:pointer} NewVpb: int;
  var {:scalar} Tmp_2026: int;
  var {:scalar} Status_38: int;
  var {:pointer} sdv_1211: int;
  var {:pointer} IrpSp_26: int;
  var {:scalar} sdv_1212: int;
  var {:scalar} OldIrql: int;
  var {:scalar} TcbPrivilege: int;
  var {:pointer} Tmp_2027: int;
  var {:scalar} IrpContext_111: int;
  var {:scalar} Tmp_2028: int;
  var {:pointer} Tmp_2029: int;
  var {:pointer} Tmp_2030: int;
  var {:pointer} FileToMarkBad: int;
  var {:pointer} Tmp_2031: int;
  var {:pointer} Tmp_2032: int;
  var {:pointer} Irp_46: int;
  var vslice_dummy_var_342: int;
  var vslice_dummy_var_343: int;
  var vslice_dummy_var_344: int;
  var vslice_dummy_var_280: int;
  var vslice_dummy_var_281: int;
  var vslice_dummy_var_282: int;

  anon0:
    call {:si_unique_call 2438} TcbPrivilege := __HAVOC_malloc(8);
    call {:si_unique_call 2439} IrpContext_111 := __HAVOC_malloc(68);
    Irp_46 := actual_Irp_46;
    assume {:nonnull} TcbPrivilege != 0;
    assume TcbPrivilege > 0;
    assume {:nonnull} TcbPrivilege != 0;
    assume TcbPrivilege > 0;
    call {:si_unique_call 2440} IrpSp_26 := sdv_IoGetCurrentIrpStackLocation(Irp_46);
    assume {:nonnull} Irp_46 != 0;
    assume Irp_46 > 0;
    havoc vslice_dummy_var_280;
    call {:si_unique_call 2441} sdv_1212 := SeSinglePrivilegeCheck(TcbPrivilege, vslice_dummy_var_280);
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} sdv_1212 != 0;
    assume {:nonnull} IrpSp_26 != 0;
    assume IrpSp_26 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    call {:si_unique_call 2442} FatCompleteRequest_Real(0, Irp_46, -1073741811);
    Tmp_2025 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon26_Then:
    assume {:nonnull} Irp_46 != 0;
    assume Irp_46 > 0;
    havoc Tmp_2030;
    assume {:nonnull} Tmp_2030 != 0;
    assume Tmp_2030 > 0;
    call {:si_unique_call 2443} Status_38 := ObReferenceObjectByHandle(0, 0, 0, 0, 0, 0);
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Status_38 >= 0;
    call {:si_unique_call 2444} vslice_dummy_var_342 := sdv_ObDereferenceObject(0);
    assume {:nonnull} FileToMarkBad != 0;
    assume FileToMarkBad > 0;
    havoc DeviceToMarkBad;
    call {:si_unique_call 2445} sdv_RtlZeroMemory(0, 68);
    assume {:nonnull} IrpContext_111 != 0;
    assume IrpContext_111 > 0;
    assume {:nonnull} IrpContext_111 != 0;
    assume IrpContext_111 > 0;
    assume {:nonnull} IrpSp_26 != 0;
    assume IrpSp_26 > 0;
    assume {:nonnull} IrpContext_111 != 0;
    assume IrpContext_111 > 0;
    assume {:nonnull} IrpSp_26 != 0;
    assume IrpSp_26 > 0;
    assume {:nonnull} IrpContext_111 != 0;
    assume IrpContext_111 > 0;
    havoc Tmp_2028;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Tmp_2028 == 0;
    Tmp_2026 := 0;
    goto L125;

  L125:
    call {:si_unique_call 2446} vslice_dummy_var_344 := ExAcquireResourceExclusiveLite(0, Tmp_2026);
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} yogi_error != 1;
    havoc Links_5;
    goto L54;

  L54:
    call {:si_unique_call 2447} Links_5, ExistingVcb, NewVpb, sdv_1211, OldIrql, Tmp_2027, Tmp_2029, Tmp_2031, Tmp_2032, vslice_dummy_var_343 := FatInvalidateVolumes_loop_L54(Links_5, ExistingVcb, DeviceToMarkBad, NewVpb, sdv_1211, OldIrql, Tmp_2027, IrpContext_111, Tmp_2029, Tmp_2031, Tmp_2032, vslice_dummy_var_343);
    goto L54_last;

  L54_last:
    goto anon28_Then, anon28_Else;

  anon28_Else:
    call {:si_unique_call 2448} sdv_1211 := sdv_containing_record(Links_5, 64);
    ExistingVcb := sdv_1211;
    assume {:nonnull} Links_5 != 0;
    assume Links_5 > 0;
    havoc Links_5;
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    havoc Tmp_2032;
    assume {:nonnull} Tmp_2032 != 0;
    assume Tmp_2032 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    call {:si_unique_call 2449} vslice_dummy_var_343 := FatAcquireExclusiveVcb(IrpContext_111, ExistingVcb);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} DeviceToMarkBad != 0;
    assume DeviceToMarkBad > 0;
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    call {:si_unique_call 2450} Tmp_2027 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2027 != 0;
    assume Tmp_2027 > 0;
    Mem_T.INT4[Tmp_2027] := OldIrql;
    call {:si_unique_call 2451} IoAcquireVpbSpinLock(Tmp_2027);
    assume {:nonnull} Tmp_2027 != 0;
    assume Tmp_2027 > 0;
    OldIrql := Mem_T.INT4[Tmp_2027];
    assume {:nonnull} DeviceToMarkBad != 0;
    assume DeviceToMarkBad > 0;
    havoc Tmp_2029;
    assume {:nonnull} Tmp_2029 != 0;
    assume Tmp_2029 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    havoc NewVpb;
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    call {:si_unique_call 2452} sdv_RtlZeroMemory(0, 88);
    assume {:nonnull} NewVpb != 0;
    assume NewVpb > 0;
    assume {:nonnull} NewVpb != 0;
    assume NewVpb > 0;
    assume {:nonnull} NewVpb != 0;
    assume NewVpb > 0;
    assume {:nonnull} DeviceToMarkBad != 0;
    assume DeviceToMarkBad > 0;
    havoc Tmp_2031;
    assume {:nonnull} NewVpb != 0;
    assume NewVpb > 0;
    assume {:nonnull} Tmp_2031 != 0;
    assume Tmp_2031 > 0;
    assume {:nonnull} DeviceToMarkBad != 0;
    assume DeviceToMarkBad > 0;
    goto L75;

  L75:
    call {:si_unique_call 2453} IoReleaseVpbSpinLock(OldIrql);
    goto L69;

  L69:
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    havoc vslice_dummy_var_281;
    call {:si_unique_call 2454} FatMarkFcbCondition(IrpContext_111, vslice_dummy_var_281, 2, 1);
    assume {:nonnull} ExistingVcb != 0;
    assume ExistingVcb > 0;
    havoc vslice_dummy_var_282;
    call {:si_unique_call 2455} FatPurgeReferencedFileObjects(IrpContext_111, vslice_dummy_var_282, 0);
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} yogi_error != 1;
    goto L91;

  L91:
    call {:si_unique_call 2456} ExReleaseResourceLite(0);
    goto L91_dummy;

  L91_dummy:
    assume false;
    return;

  anon36_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon35_Then:
    goto L91;

  anon34_Then:
    goto L75;

  anon29_Then:
    goto L69;

  anon33_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon32_Then:
    goto anon32_Then_dummy;

  anon32_Then_dummy:
    assume false;
    return;

  anon28_Then:
    call {:si_unique_call 2457} ExReleaseResourceLite(0);
    call {:si_unique_call 2458} FatCompleteRequest_Real(0, Irp_46, 0);
    Tmp_2025 := 0;
    goto L1;

  anon31_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon30_Then:
    assume {:partition} Tmp_2028 != 0;
    Tmp_2026 := 1;
    goto L125;

  anon27_Then:
    assume {:partition} 0 > Status_38;
    call {:si_unique_call 2459} FatCompleteRequest_Real(0, Irp_46, Status_38);
    Tmp_2025 := Status_38;
    goto L1;

  anon25_Then:
    assume {:partition} sdv_1212 == 0;
    call {:si_unique_call 2460} FatCompleteRequest_Real(0, Irp_46, -1073741727);
    Tmp_2025 := -1073741727;
    goto L1;
}



procedure {:origName "FatGetStatistics"} FatGetStatistics(actual_IrpContext_112: int, actual_Irp_47: int) returns (Tmp_2033: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_2033 == -1073741789 || Tmp_2033 == 5 || Tmp_2033 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetStatistics"} FatGetStatistics(actual_IrpContext_112: int, actual_Irp_47: int) returns (Tmp_2033: int)
{
  var {:scalar} Status_39: int;
  var {:pointer} IrpSp_27: int;
  var {:pointer} Tmp_2034: int;
  var {:scalar} BufferLength_1: int;
  var {:scalar} StatsSize: int;
  var {:scalar} BytesToCopy_4: int;
  var {:pointer} IrpContext_112: int;
  var {:pointer} Irp_47: int;

  anon0:
    IrpContext_112 := actual_IrpContext_112;
    Irp_47 := actual_Irp_47;
    call {:si_unique_call 2461} IrpSp_27 := sdv_IoGetCurrentIrpStackLocation(Irp_47);
    assume {:nonnull} Irp_47 != 0;
    assume Irp_47 > 0;
    assume {:nonnull} IrpSp_27 != 0;
    assume IrpSp_27 > 0;
    havoc BufferLength_1;
    assume {:nonnull} Irp_47 != 0;
    assume Irp_47 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 56 > BufferLength_1;
    call {:si_unique_call 2462} FatCompleteRequest_Real(IrpContext_112, Irp_47, -1073741789);
    Tmp_2033 := -1073741789;
    goto L1;

  L1:
    return;

  anon5_Then:
    assume {:partition} BufferLength_1 >= 56;
    havoc StatsSize;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} StatsSize > BufferLength_1;
    BytesToCopy_4 := BufferLength_1;
    Status_39 := 5;
    goto L27;

  L27:
    assume {:nonnull} IrpSp_27 != 0;
    assume IrpSp_27 > 0;
    havoc Tmp_2034;
    assume {:nonnull} Tmp_2034 != 0;
    assume Tmp_2034 > 0;
    call {:si_unique_call 2463} sdv_RtlCopyMemory(0, 0, BytesToCopy_4);
    assume {:nonnull} Irp_47 != 0;
    assume Irp_47 > 0;
    call {:si_unique_call 2464} FatCompleteRequest_Real(IrpContext_112, Irp_47, Status_39);
    Tmp_2033 := Status_39;
    goto L1;

  anon6_Then:
    assume {:partition} BufferLength_1 >= StatsSize;
    BytesToCopy_4 := StatsSize;
    Status_39 := 0;
    goto L27;
}



procedure {:origName "FatScanForDismountedVcb"} FatScanForDismountedVcb(actual_IrpContext_113: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatScanForDismountedVcb"} FatScanForDismountedVcb(actual_IrpContext_113: int)
{
  var {:pointer} Links_6: int;
  var {:pointer} sdv_1219: int;
  var {:scalar} Tmp_2037: int;
  var {:scalar} sdv_1220: int;
  var {:pointer} Vcb_71: int;
  var {:scalar} Tmp_2039: int;
  var {:scalar} VcbDeleted_1: int;
  var {:pointer} IrpContext_113: int;
  var vslice_dummy_var_345: int;
  var vslice_dummy_var_346: int;

  anon0:
    call {:si_unique_call 2465} vslice_dummy_var_345 := __HAVOC_malloc(4);
    IrpContext_113 := actual_IrpContext_113;
    call {:si_unique_call 2466} sdv_do_paged_code_check();
    assume {:nonnull} IrpContext_113 != 0;
    assume IrpContext_113 > 0;
    havoc Tmp_2037;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} Tmp_2037 == 0;
    Tmp_2039 := 0;
    goto L44;

  L44:
    call {:si_unique_call 2467} vslice_dummy_var_346 := ExAcquireResourceExclusiveLite(0, Tmp_2039);
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} yogi_error != 1;
    havoc Links_6;
    goto L15;

  L15:
    call {:si_unique_call 2468} Links_6, sdv_1219, sdv_1220, Vcb_71, VcbDeleted_1 := FatScanForDismountedVcb_loop_L15(Links_6, sdv_1219, sdv_1220, Vcb_71, VcbDeleted_1, IrpContext_113);
    goto L15_last;

  L15_last:
    goto anon15_Then, anon15_Else;

  anon15_Else:
    call {:si_unique_call 2469} sdv_1219 := sdv_containing_record(Links_6, 64);
    Vcb_71 := sdv_1219;
    assume {:nonnull} Links_6 != 0;
    assume Links_6 > 0;
    havoc Links_6;
    call {:si_unique_call 2470} sdv_1220 := ExAcquireResourceExclusiveLite(0, 0);
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} yogi_error != 1;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} sdv_1220 != 0;
    call {:si_unique_call 2471} VcbDeleted_1 := FatCheckForDismount#1(IrpContext_113, Vcb_71, 0);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} yogi_error != 1;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} VcbDeleted_1 == 0;
    call {:si_unique_call 2472} ExReleaseResourceLite(0);
    goto anon17_Else_dummy;

  anon17_Else_dummy:
    assume false;
    return;

  anon17_Then:
    assume {:partition} VcbDeleted_1 != 0;
    goto anon17_Then_dummy;

  anon17_Then_dummy:
    assume false;
    return;

  anon21_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon16_Then:
    assume {:partition} sdv_1220 == 0;
    goto anon16_Then_dummy;

  anon16_Then_dummy:
    assume false;
    return;

  anon20_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon15_Then:
    call {:si_unique_call 2473} ExReleaseResourceLite(0);
    goto LM2;

  anon19_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon18_Then:
    assume {:partition} Tmp_2037 != 0;
    Tmp_2039 := 1;
    goto L44;
}



procedure {:origName "FatQueryBpb"} FatQueryBpb(actual_IrpContext_114: int, actual_Irp_48: int) returns (Tmp_2040: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_2040 == -1073741789 || Tmp_2040 == 0 || Tmp_2040 == -1073741808;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueryBpb"} FatQueryBpb(actual_IrpContext_114: int, actual_Irp_48: int) returns (Tmp_2040: int)
{
  var {:pointer} Tmp_2041: int;
  var {:pointer} IrpSp_28: int;
  var {:pointer} Vcb_72: int;
  var {:pointer} IrpContext_114: int;
  var {:pointer} Irp_48: int;

  anon0:
    IrpContext_114 := actual_IrpContext_114;
    Irp_48 := actual_Irp_48;
    call {:si_unique_call 2474} IrpSp_28 := sdv_IoGetCurrentIrpStackLocation(Irp_48);
    assume {:nonnull} IrpSp_28 != 0;
    assume IrpSp_28 > 0;
    havoc Tmp_2041;
    assume {:nonnull} Tmp_2041 != 0;
    assume Tmp_2041 > 0;
    Vcb_72 := Vcb__VOLUME_DEVICE_OBJECT(Tmp_2041);
    assume {:nonnull} Vcb_72 != 0;
    assume Vcb_72 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:nonnull} Irp_48 != 0;
    assume Irp_48 > 0;
    assume {:nonnull} IrpSp_28 != 0;
    assume IrpSp_28 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    call {:si_unique_call 2475} FatCompleteRequest_Real(IrpContext_114, Irp_48, -1073741789);
    Tmp_2040 := -1073741789;
    goto L1;

  L1:
    return;

  anon6_Then:
    call {:si_unique_call 2476} sdv_RtlCopyMemory(0, 0, 36);
    assume {:nonnull} Irp_48 != 0;
    assume Irp_48 > 0;
    call {:si_unique_call 2477} FatCompleteRequest_Real(IrpContext_114, Irp_48, 0);
    Tmp_2040 := 0;
    goto L1;

  anon5_Then:
    call {:si_unique_call 2478} FatCompleteRequest_Real(IrpContext_114, Irp_48, -1073741808);
    Tmp_2040 := -1073741808;
    goto L1;
}



procedure {:origName "FatLockVolumeInternal"} FatLockVolumeInternal(actual_IrpContext_115: int, actual_Vcb_73: int, actual_FileObject_36: int) returns (Tmp_2043: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error, sdv_irql_previous_5;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLockVolumeInternal"} FatLockVolumeInternal(actual_IrpContext_115: int, actual_Vcb_73: int, actual_FileObject_36: int) returns (Tmp_2043: int)
{
  var {:scalar} SavedIrql_4: int;
  var {:scalar} RemainingUserReferences: int;
  var {:pointer} Tmp_2044: int;
  var {:pointer} Tmp_2045: int;
  var {:scalar} sdv_1223: int;
  var {:scalar} Status_40: int;
  var {:pointer} Tmp_2046: int;
  var {:scalar} Tmp_2047: int;
  var {:pointer} Tmp_2048: int;
  var {:pointer} Tmp_2049: int;
  var {:scalar} sdv_1227: int;
  var {:scalar} Tmp_2050: int;
  var {:pointer} IrpContext_115: int;
  var {:pointer} Vcb_73: int;
  var {:pointer} FileObject_36: int;
  var vslice_dummy_var_347: int;
  var vslice_dummy_var_348: int;
  var vslice_dummy_var_283: int;

  anon0:
    IrpContext_115 := actual_IrpContext_115;
    Vcb_73 := actual_Vcb_73;
    FileObject_36 := actual_FileObject_36;
    Status_40 := 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} FileObject_36 != 0;
    Tmp_2050 := 1;
    goto L10;

  L10:
    RemainingUserReferences := Tmp_2050;
    assume {:nonnull} IrpContext_115 != 0;
    assume IrpContext_115 > 0;
    call {:si_unique_call 2479} sdv_1223 := FatIsHandleCountZero(IrpContext_115, Vcb_73);
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} sdv_1223 != 0;
    call {:si_unique_call 2480} vslice_dummy_var_347 := FatFlushFat(IrpContext_115, Vcb_73);
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    havoc vslice_dummy_var_283;
    call {:si_unique_call 2481} FatPurgeReferencedFileObjects(IrpContext_115, vslice_dummy_var_283, 1);
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2482} FatCloseEaFile(IrpContext_115, Vcb_73, 1);
    call {:si_unique_call 2483} ExReleaseResourceLite(0);
    call {:si_unique_call 2484} Status_40 := CcWaitForCurrentLazyWriterActivity();
    call {:si_unique_call 2485} vslice_dummy_var_348 := FatAcquireExclusiveVcb(IrpContext_115, Vcb_73);
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} yogi_error != 1;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Status_40 >= 0;
    call {:si_unique_call 2486} FatFspClose#1(Vcb_73);
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2487} Tmp_2044 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2044 != 0;
    assume Tmp_2044 > 0;
    Mem_T.INT4[Tmp_2044] := SavedIrql_4;
    call {:si_unique_call 2488} IoAcquireVpbSpinLock(Tmp_2044);
    assume {:nonnull} Tmp_2044 != 0;
    assume Tmp_2044 > 0;
    SavedIrql_4 := Mem_T.INT4[Tmp_2044];
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    havoc Tmp_2045;
    assume {:nonnull} Tmp_2045 != 0;
    assume Tmp_2045 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    goto L46;

  L46:
    Status_40 := -1073741790;
    goto L47;

  L47:
    call {:si_unique_call 2489} IoReleaseVpbSpinLock(SavedIrql_4);
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} Status_40 >= 0;
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    call {:si_unique_call 2490} sdv_1227 := corral_nondet();
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} sdv_1227 == 0;
    call {:si_unique_call 2491} FatMarkVolume#1(IrpContext_115, Vcb_73, 0);
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    goto L51;

  L51:
    Tmp_2043 := Status_40;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon34_Then:
    assume {:partition} sdv_1227 != 0;
    goto L51;

  anon33_Then:
    goto L51;

  anon32_Then:
    goto L51;

  anon31_Then:
    assume {:partition} 0 > Status_40;
    goto L51;

  anon41_Then:
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    havoc Tmp_2048;
    assume {:nonnull} Tmp_2048 != 0;
    assume Tmp_2048 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} FileObject_36 != 0;
    Tmp_2047 := 1;
    goto L65;

  L65:
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    havoc Tmp_2046;
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    havoc Tmp_2049;
    assume {:nonnull} Tmp_2046 != 0;
    assume Tmp_2046 > 0;
    assume {:nonnull} Tmp_2049 != 0;
    assume Tmp_2049 > 0;
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    assume {:nonnull} Vcb_73 != 0;
    assume Vcb_73 > 0;
    goto L47;

  anon36_Then:
    goto L46;

  anon35_Then:
    assume {:partition} FileObject_36 == 0;
    Tmp_2047 := 0;
    goto L65;

  anon42_Then:
    goto L46;

  anon40_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon30_Then:
    assume {:partition} 0 > Status_40;
    Tmp_2043 := Status_40;
    goto L1;

  anon39_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon38_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon29_Then:
    assume {:partition} sdv_1223 == 0;
    Tmp_2043 := -1073741790;
    goto L1;

  anon37_Then:
    assume {:partition} FileObject_36 == 0;
    Tmp_2050 := 0;
    goto L10;
}



procedure {:origName "FatRemoveMcbEntry"} FatRemoveMcbEntry(actual_Vcb_74: int, actual_Mcb_7: int, actual_Vbo_12: int, actual_SectorCount_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatRemoveMcbEntry"} FatRemoveMcbEntry(actual_Vcb_74: int, actual_Mcb_7: int, actual_Vbo_12: int, actual_SectorCount_3: int)
{
  var {:scalar} Vbo_12: int;
  var {:scalar} SectorCount_3: int;
  var vslice_dummy_var_349: int;

  anon0:
    call {:si_unique_call 2492} vslice_dummy_var_349 := __HAVOC_malloc(4);
    Vbo_12 := actual_Vbo_12;
    SectorCount_3 := actual_SectorCount_3;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} SectorCount_3 != 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} SectorCount_3 != -1;
    SectorCount_3 := SectorCount_3 - 1;
    call {:si_unique_call 2493} SectorCount_3 := corral_nondet();
    SectorCount_3 := SectorCount_3 + 1;
    goto L4;

  L4:
    call {:si_unique_call 2494} Vbo_12 := corral_nondet();
    return;

  anon6_Then:
    assume {:partition} SectorCount_3 == -1;
    goto L4;

  anon5_Then:
    assume {:partition} SectorCount_3 == 0;
    goto L4;
}



procedure {:origName "FatVerifyLookupFatEntry"} FatVerifyLookupFatEntry(actual_IrpContext_116: int, actual_Vcb_75: int, actual_FatIndex_4: int, actual_FatEntry_6: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatVerifyLookupFatEntry"} FatVerifyLookupFatEntry(actual_IrpContext_116: int, actual_Vcb_75: int, actual_FatIndex_4: int, actual_FatEntry_6: int)
{
  var {:scalar} OffsetIntoVolumeFile_3: int;
  var {:scalar} PageEntryOffset_2: int;
  var {:pointer} Tmp_2056: int;
  var {:pointer} Tmp_2057: int;
  var {:scalar} Tmp_2058: int;
  var {:pointer} Buffer_26: int;
  var {:pointer} Tmp_2059: int;
  var {:scalar} Tmp_2060: int;
  var {:scalar} Tmp_2062: int;
  var {:pointer} IrpContext_116: int;
  var {:pointer} Vcb_75: int;
  var {:scalar} FatIndex_4: int;
  var {:pointer} FatEntry_6: int;
  var vslice_dummy_var_350: int;
  var vslice_dummy_var_351: int;

  anon0:
    call {:si_unique_call 2495} vslice_dummy_var_350 := __HAVOC_malloc(4);
    IrpContext_116 := actual_IrpContext_116;
    Vcb_75 := actual_Vcb_75;
    FatIndex_4 := actual_FatIndex_4;
    FatEntry_6 := actual_FatEntry_6;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 2 > FatIndex_4;
    goto L8;

  L8:
    assume {:nonnull} IrpContext_116 != 0;
    assume IrpContext_116 > 0;
    call {:si_unique_call 2496} ExRaiseStatus(-1073741566);
    goto L12;

  L12:
    call {:si_unique_call 2497} Buffer_26 := ExAllocatePoolWithTag(20, 4096, -864788154);
    assume {:nonnull} Vcb_75 != 0;
    assume Vcb_75 > 0;
    Tmp_2057 := Bpb__VCB(Vcb_75);
    assume {:nonnull} Vcb_75 != 0;
    assume Vcb_75 > 0;
    Tmp_2059 := Bpb__VCB(Vcb_75);
    assume {:nonnull} Tmp_2057 != 0;
    assume Tmp_2057 > 0;
    assume {:nonnull} Tmp_2059 != 0;
    assume Tmp_2059 > 0;
    havoc OffsetIntoVolumeFile_3;
    Tmp_2060 := INTMOD(OffsetIntoVolumeFile_3, 4096);
    PageEntryOffset_2 := INTDIV(Tmp_2060, 4);
    Tmp_2062 := BAND(OffsetIntoVolumeFile_3, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 2498} vslice_dummy_var_351 := FatPerformVerifyDiskRead(IrpContext_116, Vcb_75, Buffer_26, Tmp_2062, 4096, 1);
    Tmp_2058 := PageEntryOffset_2;
    Tmp_2056 := Buffer_26;
    assume {:nonnull} FatEntry_6 != 0;
    assume FatEntry_6 > 0;
    assume {:nonnull} Tmp_2056 != 0;
    assume Tmp_2056 > 0;
    Mem_T.INT4[FatEntry_6] := Mem_T.INT4[Tmp_2056 + Tmp_2058 * 4];
    call {:si_unique_call 2499} sdv_ExFreePool(0);
    return;

  anon5_Then:
    assume {:partition} FatIndex_4 >= 2;
    assume {:nonnull} Vcb_75 != 0;
    assume Vcb_75 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    goto L12;

  anon6_Then:
    goto L8;
}



procedure {:origName "FatIsVolumeMounted"} FatIsVolumeMounted(actual_IrpContext_117: int, actual_Irp_49: int) returns (Tmp_2063: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} Tmp_2063 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsVolumeMounted"} FatIsVolumeMounted(actual_IrpContext_117: int, actual_Irp_49: int) returns (Tmp_2063: int)
{
  var {:pointer} Ccb_26: int;
  var {:pointer} Fcb_45: int;
  var {:scalar} Status_41: int;
  var {:pointer} IrpSp_29: int;
  var {:pointer} Vcb_76: int;
  var {:pointer} IrpContext_117: int;
  var {:pointer} Irp_49: int;
  var vslice_dummy_var_352: int;
  var vslice_dummy_var_284: int;
  var vslice_dummy_var_285: int;

  anon0:
    call {:si_unique_call 2500} Ccb_26 := __HAVOC_malloc(4);
    call {:si_unique_call 2501} Fcb_45 := __HAVOC_malloc(4);
    call {:si_unique_call 2502} Vcb_76 := __HAVOC_malloc(4);
    IrpContext_117 := actual_IrpContext_117;
    Irp_49 := actual_Irp_49;
    assume {:nonnull} Vcb_76 != 0;
    assume Vcb_76 > 0;
    call {:si_unique_call 2503} IrpSp_29 := sdv_IoGetCurrentIrpStackLocation(Irp_49);
    Status_41 := 0;
    assume {:nonnull} IrpSp_29 != 0;
    assume IrpSp_29 > 0;
    havoc vslice_dummy_var_284;
    call {:si_unique_call 2504} vslice_dummy_var_352 := FatDecodeFileObject(vslice_dummy_var_284, Vcb_76, Fcb_45, Ccb_26);
    assume {:nonnull} IrpContext_117 != 0;
    assume IrpContext_117 > 0;
    assume {:nonnull} Vcb_76 != 0;
    assume Vcb_76 > 0;
    havoc vslice_dummy_var_285;
    call {:si_unique_call 2505} FatVerifyVcb(IrpContext_117, vslice_dummy_var_285);
    call {:si_unique_call 2506} FatCompleteRequest_Real(IrpContext_117, Irp_49, Status_41);
    Tmp_2063 := Status_41;
    return;
}



procedure {:origName "FatGetNextMcbEntry"} FatGetNextMcbEntry(actual_Vcb_77: int, actual_Mcb_8: int, actual_RunIndex: int, actual_Vbo_13: int, actual_Lbo_16: int, actual_SectorCount_4: int) returns (Tmp_2065: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetNextMcbEntry"} FatGetNextMcbEntry(actual_Vcb_77: int, actual_Mcb_8: int, actual_RunIndex: int, actual_Vbo_13: int, actual_Lbo_16: int, actual_SectorCount_4: int) returns (Tmp_2065: int)
{
  var {:scalar} LiSectorCount_1: int;
  var {:scalar} LiLbo_2: int;
  var {:scalar} Results_2: int;
  var {:pointer} Vbo_13: int;
  var {:pointer} Lbo_16: int;
  var {:pointer} SectorCount_4: int;
  var boogieTmp: int;

  anon0:
    Vbo_13 := actual_Vbo_13;
    Lbo_16 := actual_Lbo_16;
    SectorCount_4 := actual_SectorCount_4;
    call {:si_unique_call 2507} sdv_do_paged_code_check();
    LiLbo_2 := 0;
    call {:si_unique_call 2508} Results_2 := corral_nondet();
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Results_2 != 0;
    assume {:nonnull} Vbo_13 != 0;
    assume Vbo_13 > 0;
    call {:si_unique_call 2509} boogieTmp := corral_nondet();
    Mem_T.INT4[Vbo_13] := boogieTmp;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} LiLbo_2 != -1;
    assume {:nonnull} Lbo_16 != 0;
    assume Lbo_16 > 0;
    call {:si_unique_call 2510} boogieTmp := corral_nondet();
    Mem_T.INT4[Lbo_16] := boogieTmp;
    goto L22;

  L22:
    assume {:nonnull} SectorCount_4 != 0;
    assume SectorCount_4 > 0;
    call {:si_unique_call 2511} boogieTmp := corral_nondet();
    Mem_T.INT4[SectorCount_4] := boogieTmp;
    assume {:nonnull} SectorCount_4 != 0;
    assume SectorCount_4 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Mem_T.INT4[SectorCount_4] == 0;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} LiSectorCount_1 != 0;
    assume {:nonnull} SectorCount_4 != 0;
    assume SectorCount_4 > 0;
    Mem_T.INT4[SectorCount_4] := -1;
    goto L17;

  L17:
    Tmp_2065 := Results_2;
    return;

  anon10_Then:
    assume {:partition} LiSectorCount_1 == 0;
    goto L17;

  anon12_Then:
    assume {:partition} Mem_T.INT4[SectorCount_4] != 0;
    goto L17;

  anon11_Then:
    assume {:partition} LiLbo_2 == -1;
    assume {:nonnull} Lbo_16 != 0;
    assume Lbo_16 > 0;
    Mem_T.INT4[Lbo_16] := 0;
    goto L22;

  anon9_Then:
    assume {:partition} Results_2 == 0;
    goto L17;
}



procedure {:origName "FatFlushAndCleanVolume"} FatFlushAndCleanVolume(actual_IrpContext_118: int, actual_Irp_50: int, actual_Vcb_78: int, actual_FlushType_2: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFlushAndCleanVolume"} FatFlushAndCleanVolume(actual_IrpContext_118: int, actual_Irp_50: int, actual_Vcb_78: int, actual_FlushType_2: int)
{
  var {:pointer} IrpContext_118: int;
  var {:pointer} Irp_50: int;
  var {:pointer} Vcb_78: int;
  var {:scalar} FlushType_2: int;
  var vslice_dummy_var_353: int;
  var vslice_dummy_var_354: int;
  var vslice_dummy_var_355: int;
  var vslice_dummy_var_356: int;
  var vslice_dummy_var_357: int;
  var vslice_dummy_var_358: int;
  var vslice_dummy_var_359: int;
  var vslice_dummy_var_286: int;
  var vslice_dummy_var_287: int;

  anon0:
    call {:si_unique_call 2512} vslice_dummy_var_353 := __HAVOC_malloc(4);
    IrpContext_118 := actual_IrpContext_118;
    Irp_50 := actual_Irp_50;
    Vcb_78 := actual_Vcb_78;
    FlushType_2 := actual_FlushType_2;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} FlushType_2 != 0;
    call {:si_unique_call 2513} vslice_dummy_var_354 := FatFlushVolume(IrpContext_118, Vcb_78, FlushType_2);
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} yogi_error != 1;
    goto L4;

  L4:
    call {:si_unique_call 2514} FatCloseEaFile(IrpContext_118, Vcb_78, 0);
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} FlushType_2 != 0;
    assume {:nonnull} Vcb_78 != 0;
    assume Vcb_78 > 0;
    havoc vslice_dummy_var_286;
    call {:si_unique_call 2515} vslice_dummy_var_355 := FatHijackIrpAndFlushDevice(IrpContext_118, Irp_50, vslice_dummy_var_286);
    goto L11;

  L11:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} FlushType_2 != 3;
    assume {:nonnull} Vcb_78 != 0;
    assume Vcb_78 > 0;
    havoc vslice_dummy_var_287;
    call {:si_unique_call 2516} FatPurgeReferencedFileObjects(IrpContext_118, vslice_dummy_var_287, 0);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} yogi_error != 1;
    goto L15;

  L15:
    assume {:nonnull} Vcb_78 != 0;
    assume Vcb_78 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    call {:si_unique_call 2517} vslice_dummy_var_356 := KeCancelTimer(0);
    call {:si_unique_call 2518} vslice_dummy_var_357 := KeRemoveQueueDpc(0);
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} FlushType_2 != 0;
    assume {:nonnull} Vcb_78 != 0;
    assume Vcb_78 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    goto L31;

  L31:
    assume {:nonnull} Vcb_78 != 0;
    assume Vcb_78 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:nonnull} Vcb_78 != 0;
    assume Vcb_78 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    call {:si_unique_call 2519} vslice_dummy_var_358 := FatToggleMediaEjectDisable(IrpContext_118, Vcb_78, 0);
    goto L19;

  L19:
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} FlushType_2 != 3;
    call {:si_unique_call 2520} vslice_dummy_var_359 := corral_nondet();
    call {:si_unique_call 2521} FatTearDownAllocationSupport(IrpContext_118, Vcb_78);
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon27_Then:
    assume {:partition} FlushType_2 == 3;
    goto L1;

  anon31_Then:
    goto L19;

  anon30_Then:
    goto L19;

  anon29_Then:
    call {:si_unique_call 2522} FatMarkVolume#1(IrpContext_118, Vcb_78, 0);
    assume {:nonnull} Vcb_78 != 0;
    assume Vcb_78 > 0;
    goto L31;

  anon28_Then:
    assume {:partition} FlushType_2 == 0;
    goto L19;

  anon26_Then:
    goto L19;

  anon33_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon25_Then:
    assume {:partition} FlushType_2 == 3;
    goto L15;

  anon24_Then:
    assume {:partition} FlushType_2 == 0;
    goto L11;

  anon32_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon23_Then:
    assume {:partition} FlushType_2 == 0;
    goto L4;
}



procedure {:origName "FatComputeMoveFileParameter"} FatComputeMoveFileParameter(actual_IrpContext_119: int, actual_FcbOrDcb_10: int, actual_BufferSize_1: int, actual_FileOffset_2: int, actual_ByteCount_18: int, actual_BytesToReallocate_2: int, actual_BytesToWrite_1: int, actual_SourceLbo_1: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatComputeMoveFileParameter"} FatComputeMoveFileParameter(actual_IrpContext_119: int, actual_FcbOrDcb_10: int, actual_BufferSize_1: int, actual_FileOffset_2: int, actual_ByteCount_18: int, actual_BytesToReallocate_2: int, actual_BytesToWrite_1: int, actual_SourceLbo_1: int)
{
  var {:pointer} Tmp_2070: int;
  var {:scalar} Tmp_2071: int;
  var {:dopa} {:scalar} RunEndOnMax: int;
  var {:scalar} ValidDataLength: int;
  var {:dopa} {:scalar} RunLbo: int;
  var {:scalar} ClusterSize_1: int;
  var {:dopa} {:scalar} RunByteCount: int;
  var {:dopa} {:scalar} RunAllocated: int;
  var {:pointer} Tmp_2072: int;
  var {:scalar} Tmp_2073: int;
  var {:pointer} Tmp_2074: int;
  var {:pointer} Tmp_2075: int;
  var {:scalar} ClusterAlignedVDL: int;
  var {:scalar} AllocationSize_6: int;
  var {:dopa} {:scalar} RunIndex_1: int;
  var {:pointer} IrpContext_119: int;
  var {:pointer} FcbOrDcb_10: int;
  var {:scalar} BufferSize_1: int;
  var {:scalar} FileOffset_2: int;
  var {:pointer} ByteCount_18: int;
  var {:pointer} BytesToReallocate_2: int;
  var {:pointer} BytesToWrite_1: int;
  var {:pointer} SourceLbo_1: int;
  var vslice_dummy_var_360: int;

  anon0:
    call {:si_unique_call 2523} vslice_dummy_var_360 := __HAVOC_malloc(4);
    call {:si_unique_call 2524} RunEndOnMax := __HAVOC_malloc(4);
    call {:si_unique_call 2525} RunLbo := __HAVOC_malloc(4);
    call {:si_unique_call 2526} RunByteCount := __HAVOC_malloc(4);
    call {:si_unique_call 2527} RunAllocated := __HAVOC_malloc(4);
    call {:si_unique_call 2528} RunIndex_1 := __HAVOC_malloc(4);
    IrpContext_119 := actual_IrpContext_119;
    FcbOrDcb_10 := actual_FcbOrDcb_10;
    BufferSize_1 := actual_BufferSize_1;
    FileOffset_2 := actual_FileOffset_2;
    ByteCount_18 := actual_ByteCount_18;
    BytesToReallocate_2 := actual_BytesToReallocate_2;
    BytesToWrite_1 := actual_BytesToWrite_1;
    SourceLbo_1 := actual_SourceLbo_1;
    assume {:nonnull} FcbOrDcb_10 != 0;
    assume FcbOrDcb_10 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    call {:si_unique_call 2529} FatLookupFileAllocationSize#1(IrpContext_119, FcbOrDcb_10);
    Tmp_2070 := FcbOrDcb_10;
    assume {:nonnull} Tmp_2070 != 0;
    assume Tmp_2070 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} Mem_T.INT4[Tmp_2070] == 1283;
    goto L19;

  L19:
    assume {:nonnull} FcbOrDcb_10 != 0;
    assume FcbOrDcb_10 > 0;
    goto L13;

  L13:
    assume {:nonnull} FcbOrDcb_10 != 0;
    assume FcbOrDcb_10 > 0;
    havoc AllocationSize_6;
    assume {:nonnull} FcbOrDcb_10 != 0;
    assume FcbOrDcb_10 > 0;
    havoc ValidDataLength;
    assume {:nonnull} ByteCount_18 != 0;
    assume ByteCount_18 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} FileOffset_2 + Mem_T.INT4[ByteCount_18] > AllocationSize_6;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} FileOffset_2 >= AllocationSize_6;
    assume {:nonnull} ByteCount_18 != 0;
    assume ByteCount_18 > 0;
    Mem_T.INT4[ByteCount_18] := 0;
    assume {:nonnull} BytesToReallocate_2 != 0;
    assume BytesToReallocate_2 > 0;
    Mem_T.INT4[BytesToReallocate_2] := 0;
    assume {:nonnull} BytesToWrite_1 != 0;
    assume BytesToWrite_1 > 0;
    Mem_T.INT4[BytesToWrite_1] := 0;
    goto L1;

  L1:
    return;

  anon24_Then:
    assume {:partition} AllocationSize_6 > FileOffset_2;
    assume {:nonnull} ByteCount_18 != 0;
    assume ByteCount_18 > 0;
    Mem_T.INT4[ByteCount_18] := AllocationSize_6 - FileOffset_2;
    goto L23;

  L23:
    Tmp_2073 := BAND(FileOffset_2, BufferSize_1 - 1);
    assume {:nonnull} ByteCount_18 != 0;
    assume ByteCount_18 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Tmp_2073 + Mem_T.INT4[ByteCount_18] > BufferSize_1;
    Tmp_2071 := BAND(FileOffset_2, BufferSize_1 - 1);
    assume {:nonnull} BytesToReallocate_2 != 0;
    assume BytesToReallocate_2 > 0;
    Mem_T.INT4[BytesToReallocate_2] := BufferSize_1 - Tmp_2071;
    goto L34;

  L34:
    call {:si_unique_call 2530} FatLookupFileAllocation#1(IrpContext_119, FcbOrDcb_10, FileOffset_2, RunLbo, RunByteCount, RunAllocated, RunEndOnMax, RunIndex_1);
    assume {:nonnull} BytesToReallocate_2 != 0;
    assume BytesToReallocate_2 > 0;
    assume {:nonnull} RunByteCount != 0;
    assume RunByteCount > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Mem_T.INT4[BytesToReallocate_2] > Mem_T.INT4[RunByteCount];
    assume {:nonnull} BytesToReallocate_2 != 0;
    assume BytesToReallocate_2 > 0;
    assume {:nonnull} RunByteCount != 0;
    assume RunByteCount > 0;
    Mem_T.INT4[BytesToReallocate_2] := Mem_T.INT4[RunByteCount];
    goto L38;

  L38:
    assume {:nonnull} RunLbo != 0;
    assume RunLbo > 0;
    assume {:nonnull} SourceLbo_1 != 0;
    assume SourceLbo_1 > 0;
    assume {:nonnull} FcbOrDcb_10 != 0;
    assume FcbOrDcb_10 > 0;
    call {:si_unique_call 2531} ClusterSize_1 := corral_nondet();
    ClusterAlignedVDL := BAND(ValidDataLength + ClusterSize_1 - 1, BNOT(ClusterSize_1 - 1));
    Tmp_2072 := FcbOrDcb_10;
    assume {:nonnull} Tmp_2072 != 0;
    assume Tmp_2072 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} Mem_T.INT4[Tmp_2072] == 1282;
    assume {:nonnull} BytesToReallocate_2 != 0;
    assume BytesToReallocate_2 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} FileOffset_2 + Mem_T.INT4[BytesToReallocate_2] > ClusterAlignedVDL;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} FileOffset_2 > ClusterAlignedVDL;
    assume {:nonnull} BytesToWrite_1 != 0;
    assume BytesToWrite_1 > 0;
    Mem_T.INT4[BytesToWrite_1] := 0;
    goto L1;

  anon27_Then:
    assume {:partition} ClusterAlignedVDL >= FileOffset_2;
    assume {:nonnull} BytesToWrite_1 != 0;
    assume BytesToWrite_1 > 0;
    Mem_T.INT4[BytesToWrite_1] := ClusterAlignedVDL - FileOffset_2;
    goto L1;

  anon26_Then:
    assume {:partition} ClusterAlignedVDL >= FileOffset_2 + Mem_T.INT4[BytesToReallocate_2];
    goto L43;

  L43:
    assume {:nonnull} BytesToReallocate_2 != 0;
    assume BytesToReallocate_2 > 0;
    assume {:nonnull} BytesToWrite_1 != 0;
    assume BytesToWrite_1 > 0;
    Mem_T.INT4[BytesToWrite_1] := Mem_T.INT4[BytesToReallocate_2];
    goto L1;

  anon31_Then:
    assume {:partition} Mem_T.INT4[Tmp_2072] != 1282;
    goto L43;

  anon25_Then:
    assume {:partition} Mem_T.INT4[RunByteCount] >= Mem_T.INT4[BytesToReallocate_2];
    goto L38;

  anon30_Then:
    assume {:partition} BufferSize_1 >= Tmp_2073 + Mem_T.INT4[ByteCount_18];
    assume {:nonnull} ByteCount_18 != 0;
    assume ByteCount_18 > 0;
    assume {:nonnull} BytesToReallocate_2 != 0;
    assume BytesToReallocate_2 > 0;
    Mem_T.INT4[BytesToReallocate_2] := Mem_T.INT4[ByteCount_18];
    goto L34;

  anon29_Then:
    assume {:partition} AllocationSize_6 >= FileOffset_2 + Mem_T.INT4[ByteCount_18];
    goto L23;

  anon28_Then:
    assume {:partition} Mem_T.INT4[Tmp_2070] != 1283;
    Tmp_2075 := FcbOrDcb_10;
    assume {:nonnull} Tmp_2075 != 0;
    assume Tmp_2075 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} Mem_T.INT4[Tmp_2075] == 1284;
    assume {:nonnull} FcbOrDcb_10 != 0;
    assume FcbOrDcb_10 > 0;
    havoc Tmp_2074;
    assume {:nonnull} Tmp_2074 != 0;
    assume Tmp_2074 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    goto L19;

  anon33_Then:
    goto L13;

  anon32_Then:
    assume {:partition} Mem_T.INT4[Tmp_2075] != 1284;
    goto L13;

  anon23_Then:
    goto L13;
}



procedure {:origName "FatCommonFileSystemControl"} FatCommonFileSystemControl(actual_IrpContext_120: int, actual_Irp_51: int) returns (Tmp_2078: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonFileSystemControl"} FatCommonFileSystemControl(actual_IrpContext_120: int, actual_Irp_51: int) returns (Tmp_2078: int)
{
  var {:scalar} Status_42: int;
  var {:pointer} IrpSp_30: int;
  var {:pointer} IrpContext_120: int;
  var {:pointer} Irp_51: int;
  var vslice_dummy_var_288: int;
  var vslice_dummy_var_289: int;
  var vslice_dummy_var_290: int;

  anon0:
    IrpContext_120 := actual_IrpContext_120;
    Irp_51 := actual_Irp_51;
    call {:si_unique_call 2532} IrpSp_30 := sdv_IoGetCurrentIrpStackLocation(Irp_51);
    assume {:nonnull} IrpSp_30 != 0;
    assume IrpSp_30 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:nonnull} IrpSp_30 != 0;
    assume IrpSp_30 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} IrpSp_30 != 0;
    assume IrpSp_30 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    call {:si_unique_call 2533} Status_42 := FatVerifyVolume(IrpContext_120, Irp_51);
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} yogi_error != 1;
    goto L24;

  L24:
    Tmp_2078 := Status_42;
    goto LM2;

  LM2:
    return;

  anon18_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon14_Then:
    call {:si_unique_call 2534} FatCompleteRequest_Real(IrpContext_120, Irp_51, -1073741808);
    Status_42 := -1073741808;
    goto L24;

  anon15_Then:
    assume {:nonnull} IrpSp_30 != 0;
    assume IrpSp_30 > 0;
    havoc vslice_dummy_var_288;
    havoc vslice_dummy_var_289;
    havoc vslice_dummy_var_290;
    call {:si_unique_call 2535} Status_42 := FatMountVolume(IrpContext_120, vslice_dummy_var_288, vslice_dummy_var_289, vslice_dummy_var_290);
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2536} FatCompleteRequest_Real(IrpContext_120, Irp_51, Status_42);
    goto L24;

  anon17_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon13_Then:
    call {:si_unique_call 2537} Status_42 := FatUserFsCtrl(IrpContext_120, Irp_51);
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} yogi_error != 1;
    goto L24;

  anon16_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatDirtyVolume"} FatDirtyVolume(actual_IrpContext_121: int, actual_Irp_52: int) returns (Tmp_2080: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} Tmp_2080 == -1073741811 || Tmp_2080 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDirtyVolume"} FatDirtyVolume(actual_IrpContext_121: int, actual_Irp_52: int) returns (Tmp_2080: int)
{
  var {:pointer} Ccb_27: int;
  var {:pointer} Fcb_46: int;
  var {:pointer} IrpSp_31: int;
  var {:scalar} sdv_1244: int;
  var {:pointer} Vcb_79: int;
  var {:pointer} IrpContext_121: int;
  var {:pointer} Irp_52: int;
  var vslice_dummy_var_291: int;
  var vslice_dummy_var_292: int;
  var vslice_dummy_var_293: int;

  anon0:
    call {:si_unique_call 2538} Ccb_27 := __HAVOC_malloc(4);
    call {:si_unique_call 2539} Fcb_46 := __HAVOC_malloc(4);
    call {:si_unique_call 2540} Vcb_79 := __HAVOC_malloc(4);
    IrpContext_121 := actual_IrpContext_121;
    Irp_52 := actual_Irp_52;
    call {:si_unique_call 2541} IrpSp_31 := sdv_IoGetCurrentIrpStackLocation(Irp_52);
    assume {:nonnull} IrpSp_31 != 0;
    assume IrpSp_31 > 0;
    havoc vslice_dummy_var_291;
    call {:si_unique_call 2542} sdv_1244 := FatDecodeFileObject(vslice_dummy_var_291, Vcb_79, Fcb_46, Ccb_27);
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} sdv_1244 != 4;
    call {:si_unique_call 2543} FatCompleteRequest_Real(IrpContext_121, Irp_52, -1073741811);
    Tmp_2080 := -1073741811;
    goto L1;

  L1:
    return;

  anon7_Then:
    assume {:partition} sdv_1244 == 4;
    assume {:nonnull} Ccb_27 != 0;
    assume Ccb_27 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:nonnull} Ccb_27 != 0;
    assume Ccb_27 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} IrpContext_121 != 0;
    assume IrpContext_121 > 0;
    assume {:nonnull} Vcb_79 != 0;
    assume Vcb_79 > 0;
    havoc vslice_dummy_var_292;
    call {:si_unique_call 2544} FatVerifyVcb(IrpContext_121, vslice_dummy_var_292);
    assume {:nonnull} Vcb_79 != 0;
    assume Vcb_79 > 0;
    assume {:nonnull} Vcb_79 != 0;
    assume Vcb_79 > 0;
    havoc vslice_dummy_var_293;
    call {:si_unique_call 2545} FatMarkVolume#1(IrpContext_121, vslice_dummy_var_293, 1);
    call {:si_unique_call 2546} FatCompleteRequest_Real(IrpContext_121, Irp_52, 0);
    Tmp_2080 := 0;
    goto L1;

  anon9_Then:
    goto L20;

  L20:
    call {:si_unique_call 2547} FatCompleteRequest_Real(IrpContext_121, Irp_52, -1073741811);
    Tmp_2080 := -1073741811;
    goto L1;

  anon8_Then:
    goto L20;
}



procedure {:origName "FatIsPathnameValid"} FatIsPathnameValid(actual_IrpContext_122: int, actual_Irp_53: int) returns (Tmp_2082: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_2082 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsPathnameValid"} FatIsPathnameValid(actual_IrpContext_122: int, actual_Irp_53: int) returns (Tmp_2082: int)
{
  var {:pointer} IrpContext_122: int;
  var {:pointer} Irp_53: int;

  anon0:
    IrpContext_122 := actual_IrpContext_122;
    Irp_53 := actual_Irp_53;
    call {:si_unique_call 2548} FatCompleteRequest_Real(IrpContext_122, Irp_53, 0);
    Tmp_2082 := 0;
    return;
}



procedure {:origName "FatLockVolume"} FatLockVolume(actual_IrpContext_123: int, actual_Irp_54: int) returns (Tmp_2084: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLockVolume"} FatLockVolume(actual_IrpContext_123: int, actual_Irp_54: int) returns (Tmp_2084: int)
{
  var {:scalar} sdv_1245: int;
  var {:pointer} Ccb_28: int;
  var {:pointer} Fcb_47: int;
  var {:scalar} Status_43: int;
  var {:pointer} IrpSp_32: int;
  var {:scalar} sdv_1251: int;
  var {:scalar} sdv_1252: int;
  var {:scalar} sdv_1254: int;
  var {:scalar} sdv_1256: int;
  var {:pointer} Vcb_80: int;
  var {:pointer} IrpContext_123: int;
  var {:pointer} Irp_54: int;
  var vslice_dummy_var_361: int;
  var vslice_dummy_var_362: int;
  var vslice_dummy_var_294: int;
  var vslice_dummy_var_295: int;
  var vslice_dummy_var_296: int;
  var vslice_dummy_var_297: int;

  anon0:
    call {:si_unique_call 2549} Ccb_28 := __HAVOC_malloc(4);
    call {:si_unique_call 2550} Fcb_47 := __HAVOC_malloc(4);
    call {:si_unique_call 2551} Vcb_80 := __HAVOC_malloc(4);
    IrpContext_123 := actual_IrpContext_123;
    Irp_54 := actual_Irp_54;
    call {:si_unique_call 2552} IrpSp_32 := sdv_IoGetCurrentIrpStackLocation(Irp_54);
    assume {:nonnull} IrpSp_32 != 0;
    assume IrpSp_32 > 0;
    havoc vslice_dummy_var_294;
    call {:si_unique_call 2553} sdv_1251 := FatDecodeFileObject(vslice_dummy_var_294, Vcb_80, Fcb_47, Ccb_28);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} sdv_1251 != 4;
    call {:si_unique_call 2554} FatCompleteRequest_Real(IrpContext_123, Irp_54, -1073741811);
    Tmp_2084 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon21_Then:
    assume {:partition} sdv_1251 == 4;
    assume {:nonnull} Ccb_28 != 0;
    assume Ccb_28 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} Ccb_28 != 0;
    assume Ccb_28 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    call {:si_unique_call 2555} vslice_dummy_var_361 := corral_nondet();
    assume {:nonnull} Vcb_80 != 0;
    assume Vcb_80 > 0;
    havoc vslice_dummy_var_295;
    call {:si_unique_call 2556} sdv_1254 := FatAcquireExclusiveVcb(IrpContext_123, vslice_dummy_var_295);
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} yogi_error != 1;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} sdv_1254 != 0;
    assume {:nonnull} IrpSp_32 != 0;
    assume IrpSp_32 > 0;
    assume {:nonnull} Vcb_80 != 0;
    assume Vcb_80 > 0;
    havoc vslice_dummy_var_296;
    havoc vslice_dummy_var_297;
    call {:si_unique_call 2557} Status_43 := FatLockVolumeInternal(IrpContext_123, vslice_dummy_var_296, vslice_dummy_var_297);
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 2558} sdv_1252 := sdv_AbnormalTermination();
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} sdv_1252 != 0;
    call {:si_unique_call 2559} sdv_1245 := ExIsResourceAcquiredExclusiveLite(0);
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} sdv_1245 == 0;
    goto L69;

  L69:
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Status_43 >= 0;
    call {:si_unique_call 2560} sdv_1256 := sdv_AbnormalTermination();
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} sdv_1256 == 0;
    goto L77;

  L77:
    call {:si_unique_call 2561} FatCompleteRequest_Real(IrpContext_123, Irp_54, Status_43);
    Tmp_2084 := Status_43;
    goto L1;

  anon28_Then:
    assume {:partition} sdv_1256 != 0;
    goto L70;

  L70:
    call {:si_unique_call 2562} vslice_dummy_var_362 := corral_nondet();
    goto L77;

  anon27_Then:
    assume {:partition} 0 > Status_43;
    goto L70;

  anon26_Then:
    assume {:partition} sdv_1245 != 0;
    goto L62;

  L62:
    call {:si_unique_call 2563} ExReleaseResourceLite(0);
    goto L69;

  anon25_Then:
    assume {:partition} sdv_1252 == 0;
    goto L62;

  anon30_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon24_Then:
    assume {:partition} sdv_1254 == 0;
    call {:si_unique_call 2564} Status_43 := FatFsdPostRequest(IrpContext_123, Irp_54);
    Tmp_2084 := Status_43;
    goto L1;

  anon29_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon23_Then:
    goto L21;

  L21:
    call {:si_unique_call 2565} FatCompleteRequest_Real(IrpContext_123, Irp_54, -1073741811);
    Tmp_2084 := -1073741811;
    goto L1;

  anon22_Then:
    goto L21;
}



procedure {:origName "FatIsMediaWriteProtected"} FatIsMediaWriteProtected(actual_IrpContext_124: int, actual_TargetDeviceObject_3: int) returns (Tmp_2086: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_2086 == 0 || Tmp_2086 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsMediaWriteProtected"} FatIsMediaWriteProtected(actual_IrpContext_124: int, actual_TargetDeviceObject_3: int) returns (Tmp_2086: int)
{
  var {:pointer} Irp_55: int;
  var {:scalar} Status_44: int;
  var {:scalar} Iosb_20: int;
  var {:scalar} Event_8: int;
  var {:pointer} sdv_1260: int;
  var {:pointer} TargetDeviceObject_3: int;
  var vslice_dummy_var_363: int;

  anon0:
    call {:si_unique_call 2566} Iosb_20 := __HAVOC_malloc(12);
    call {:si_unique_call 2567} Event_8 := __HAVOC_malloc(124);
    TargetDeviceObject_3 := actual_TargetDeviceObject_3;
    call {:si_unique_call 2568} KeInitializeEvent(Event_8, 0, 0);
    call {:si_unique_call 2569} Irp_55 := IoBuildDeviceIoControlRequest(458788, 0, 0, 0, 0, 0, 0, 0, Iosb_20);
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Irp_55 != 0;
    call {:si_unique_call 2570} sdv_1260 := sdv_IoGetNextIrpStackLocation(Irp_55);
    assume {:nonnull} sdv_1260 != 0;
    assume sdv_1260 > 0;
    call {:si_unique_call 2571} Status_44 := sdv_IoCallDriver(TargetDeviceObject_3, Irp_55);
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} Status_44 == 259;
    call {:si_unique_call 2572} vslice_dummy_var_363 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Iosb_20 != 0;
    assume Iosb_20 > 0;
    Status_44 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_20)];
    goto L25;

  L25:
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Status_44 != -1073741662;
    Tmp_2086 := 0;
    goto L36;

  L36:
    goto L1;

  L1:
    return;

  anon9_Then:
    assume {:partition} Status_44 == -1073741662;
    Tmp_2086 := 1;
    goto L36;

  anon8_Then:
    assume {:partition} Status_44 != 259;
    goto L25;

  anon7_Then:
    assume {:partition} Irp_55 == 0;
    Tmp_2086 := 0;
    goto L1;
}



procedure {:origName "FatAddToWorkque"} FatAddToWorkque(actual_IrpContext_125: int, actual_Irp_56: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAddToWorkque"} FatAddToWorkque(actual_IrpContext_125: int, actual_Irp_56: int)
{
  var {:scalar} SavedIrql_5: int;
  var {:pointer} Tmp_2088: int;
  var {:pointer} Vdo: int;
  var {:pointer} IrpSp_33: int;
  var {:pointer} sdv_1264: int;
  var {:pointer} IrpContext_125: int;
  var {:pointer} Irp_56: int;
  var vslice_dummy_var_364: int;
  var vslice_dummy_var_365: int;
  var vslice_dummy_var_298: int;

  anon0:
    call {:si_unique_call 2573} vslice_dummy_var_364 := __HAVOC_malloc(4);
    IrpContext_125 := actual_IrpContext_125;
    Irp_56 := actual_Irp_56;
    call {:si_unique_call 2574} IrpSp_33 := sdv_IoGetCurrentIrpStackLocation(Irp_56);
    assume {:nonnull} IrpSp_33 != 0;
    assume IrpSp_33 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:nonnull} IrpSp_33 != 0;
    assume IrpSp_33 > 0;
    havoc vslice_dummy_var_298;
    call {:si_unique_call 2575} sdv_1264 := sdv_containing_record(vslice_dummy_var_298, 0);
    Vdo := sdv_1264;
    call {:si_unique_call 2576} Tmp_2088 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2088 != 0;
    assume Tmp_2088 > 0;
    Mem_T.INT4[Tmp_2088] := SavedIrql_5;
    call {:si_unique_call 2577} sdv_KeAcquireSpinLock(0, Tmp_2088);
    assume {:nonnull} Tmp_2088 != 0;
    assume Tmp_2088 > 0;
    SavedIrql_5 := Mem_T.INT4[Tmp_2088];
    assume {:nonnull} Vdo != 0;
    assume Vdo > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:nonnull} IrpContext_125 != 0;
    assume IrpContext_125 > 0;
    assume {:nonnull} Vdo != 0;
    assume Vdo > 0;
    call {:si_unique_call 2578} vslice_dummy_var_365 := sdv_InsertTailList(OverflowQueue__VOLUME_DEVICE_OBJECT(Vdo), List__WORK_QUEUE_ITEM(WorkQueueItem__IRP_CONTEXT(IrpContext_125)));
    assume {:nonnull} Vdo != 0;
    assume Vdo > 0;
    call {:si_unique_call 2579} sdv_KeReleaseSpinLock(0, SavedIrql_5);
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:nonnull} Vdo != 0;
    assume Vdo > 0;
    call {:si_unique_call 2580} sdv_KeReleaseSpinLock(0, SavedIrql_5);
    goto L10;

  L10:
    assume {:nonnull} IrpContext_125 != 0;
    assume IrpContext_125 > 0;
    assume {:nonnull} IrpContext_125 != 0;
    assume IrpContext_125 > 0;
    assume {:nonnull} IrpContext_125 != 0;
    assume IrpContext_125 > 0;
    call {:si_unique_call 2581} sdv_ExQueueWorkItem(0, 0);
    goto L1;

  anon5_Then:
    goto L10;
}



procedure {:origName "FatPrePostIrp"} FatPrePostIrp(actual_Context_9: int, actual_Irp_57: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPrePostIrp"} FatPrePostIrp(actual_Context_9: int, actual_Irp_57: int)
{
  var {:scalar} Tmp_2091: int;
  var {:pointer} IrpSp_34: int;
  var {:scalar} Tmp_2093: int;
  var {:pointer} IrpContext_126: int;
  var {:pointer} Context_9: int;
  var {:pointer} Irp_57: int;
  var vslice_dummy_var_366: int;
  var vslice_dummy_var_299: int;
  var vslice_dummy_var_300: int;
  var vslice_dummy_var_301: int;
  var vslice_dummy_var_302: int;

  anon0:
    call {:si_unique_call 2582} vslice_dummy_var_366 := __HAVOC_malloc(4);
    Context_9 := actual_Context_9;
    Irp_57 := actual_Irp_57;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} Irp_57 != 0;
    call {:si_unique_call 2583} IrpSp_34 := sdv_IoGetCurrentIrpStackLocation(Irp_57);
    IrpContext_126 := Context_9;
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto L13;

  L13:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    goto L18;

  L18:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    goto L20;

  L20:
    call {:si_unique_call 2584} sdv_IoMarkIrpPending(0);
    goto L1;

  L1:
    return;

  anon37_Then:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:nonnull} IrpSp_34 != 0;
    assume IrpSp_34 > 0;
    havoc Tmp_2091;
    goto L26;

  L26:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    Tmp_2093 := 1;
    goto L29;

  L29:
    call {:si_unique_call 2585} FatLockUserBuffer(IrpContext_126, Irp_57, Tmp_2093, Tmp_2091);
    goto L20;

  anon39_Then:
    Tmp_2093 := 0;
    goto L29;

  anon38_Then:
    assume {:nonnull} IrpSp_34 != 0;
    assume IrpSp_34 > 0;
    havoc Tmp_2091;
    goto L26;

  anon34_Then:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:nonnull} IrpSp_34 != 0;
    assume IrpSp_34 > 0;
    havoc vslice_dummy_var_299;
    call {:si_unique_call 2586} FatLockUserBuffer(IrpContext_126, Irp_57, 1, vslice_dummy_var_299);
    goto L20;

  anon42_Then:
    goto L33;

  L33:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} IrpSp_34 != 0;
    assume IrpSp_34 > 0;
    havoc vslice_dummy_var_300;
    call {:si_unique_call 2587} FatLockUserBuffer(IrpContext_126, Irp_57, 1, vslice_dummy_var_300);
    goto L20;

  anon41_Then:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:nonnull} IrpSp_34 != 0;
    assume IrpSp_34 > 0;
    havoc vslice_dummy_var_301;
    call {:si_unique_call 2588} FatLockUserBuffer(IrpContext_126, Irp_57, 0, vslice_dummy_var_301);
    goto L20;

  anon43_Then:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:nonnull} IrpContext_126 != 0;
    assume IrpContext_126 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:nonnull} IrpSp_34 != 0;
    assume IrpSp_34 > 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    goto L49;

  L49:
    assume {:nonnull} IrpSp_34 != 0;
    assume IrpSp_34 > 0;
    havoc vslice_dummy_var_302;
    call {:si_unique_call 2589} FatLockUserBuffer(IrpContext_126, Irp_57, 1, vslice_dummy_var_302);
    goto L20;

  anon46_Then:
    assume {:nonnull} IrpSp_34 != 0;
    assume IrpSp_34 > 0;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    goto L49;

  anon47_Then:
    goto L20;

  anon45_Then:
    goto L20;

  anon44_Then:
    goto L20;

  anon40_Then:
    goto L33;

  anon36_Then:
    goto L18;

  anon35_Then:
    goto L13;

  anon48_Then:
    goto L13;

  anon33_Then:
    assume {:partition} Irp_57 == 0;
    goto L1;
}



procedure {:origName "FatFsdPostRequest"} FatFsdPostRequest(actual_IrpContext_127: int, actual_Irp_58: int) returns (Tmp_2094: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} Tmp_2094 == 259;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdPostRequest"} FatFsdPostRequest(actual_IrpContext_127: int, actual_Irp_58: int) returns (Tmp_2094: int)
{
  var {:pointer} IrpContext_127: int;
  var {:pointer} Irp_58: int;

  anon0:
    IrpContext_127 := actual_IrpContext_127;
    Irp_58 := actual_Irp_58;
    call {:si_unique_call 2590} FatPrePostIrp(IrpContext_127, Irp_58);
    call {:si_unique_call 2591} FatAddToWorkque(IrpContext_127, Irp_58);
    Tmp_2094 := 259;
    return;
}



procedure {:origName "_sdv_init26"} _sdv_init26();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init26"} _sdv_init26()
{
  var vslice_dummy_var_367: int;

  anon0:
    call {:si_unique_call 2592} vslice_dummy_var_367 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatCommonFlushBuffers"} FatCommonFlushBuffers(actual_IrpContext_128: int, actual_Irp_59: int) returns (Tmp_2098: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonFlushBuffers"} FatCommonFlushBuffers(actual_IrpContext_128: int, actual_Irp_59: int) returns (Tmp_2098: int)
{
  var {:scalar} DriverStatus: int;
  var {:pointer} Ccb_29: int;
  var {:pointer} Fcb_48: int;
  var {:scalar} Status_45: int;
  var {:pointer} FileObject_37: int;
  var {:pointer} NextIrpSp_1: int;
  var {:scalar} FcbAcquired_4: int;
  var {:pointer} DirentBcb_10: int;
  var {:scalar} TypeOfOpen_8: int;
  var {:pointer} IrpSp_35: int;
  var {:scalar} sdv_1272: int;
  var {:scalar} Tmp_2099: int;
  var {:pointer} Vcb_81: int;
  var {:scalar} VcbAcquired_2: int;
  var {:pointer} Tmp_2101: int;
  var {:pointer} Tmp_2102: int;
  var {:pointer} IrpContext_128: int;
  var {:pointer} Irp_59: int;
  var vslice_dummy_var_368: int;
  var vslice_dummy_var_369: int;
  var vslice_dummy_var_370: int;
  var vslice_dummy_var_371: int;
  var vslice_dummy_var_372: int;
  var vslice_dummy_var_303: int;
  var vslice_dummy_var_304: int;
  var vslice_dummy_var_305: int;
  var vslice_dummy_var_306: int;
  var vslice_dummy_var_307: int;
  var vslice_dummy_var_308: int;
  var vslice_dummy_var_309: int;
  var vslice_dummy_var_310: int;
  var vslice_dummy_var_311: int;
  var vslice_dummy_var_312: int;
  var vslice_dummy_var_313: int;

  anon0:
    call {:si_unique_call 2593} Ccb_29 := __HAVOC_malloc(4);
    call {:si_unique_call 2594} Fcb_48 := __HAVOC_malloc(4);
    call {:si_unique_call 2595} Vcb_81 := __HAVOC_malloc(4);
    IrpContext_128 := actual_IrpContext_128;
    Irp_59 := actual_Irp_59;
    VcbAcquired_2 := 0;
    FcbAcquired_4 := 0;
    DirentBcb_10 := 0;
    call {:si_unique_call 2596} sdv_do_paged_code_check();
    call {:si_unique_call 2597} IrpSp_35 := sdv_IoGetCurrentIrpStackLocation(Irp_59);
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    havoc FileObject_37;
    call {:si_unique_call 2598} TypeOfOpen_8 := FatDecodeFileObject(FileObject_37, Vcb_81, Fcb_48, Ccb_29);
    assume {:nonnull} IrpContext_128 != 0;
    assume IrpContext_128 > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    Status_45 := 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} TypeOfOpen_8 != 2;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} TypeOfOpen_8 != 3;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} TypeOfOpen_8 != 4;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} TypeOfOpen_8 != 5;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} TypeOfOpen_8 != 6;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} TypeOfOpen_8 == 7;
    goto L44;

  L44:
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} DirentBcb_10 != 0;
    DirentBcb_10 := 0;
    goto L45;

  L45:
    call {:si_unique_call 2599} FatUnpinRepinnedBcbs(IrpContext_128);
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} DirentBcb_10 != 0;
    DirentBcb_10 := 0;
    goto L92;

  L92:
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} VcbAcquired_2 != 0;
    call {:si_unique_call 2600} ExReleaseResourceLite(0);
    goto L97;

  L97:
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} FcbAcquired_4 != 0;
    call {:si_unique_call 2601} ExReleaseResourceLite(0);
    goto L101;

  L101:
    call {:si_unique_call 2602} sdv_1272 := sdv_AbnormalTermination();
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} sdv_1272 == 0;
    call {:si_unique_call 2603} NextIrpSp_1 := sdv_IoGetNextIrpStackLocation(Irp_59);
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    assume {:nonnull} IrpSp_35 != 0;
    assume IrpSp_35 > 0;
    assume {:nonnull} NextIrpSp_1 != 0;
    assume NextIrpSp_1 > 0;
    Tmp_2101 := Status_45;
    call {:si_unique_call 2604} sdv_IoSetCompletionRoutine(Irp_59, li2bplFunctionConstant332, Tmp_2101, 1, 1, 1);
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    havoc vslice_dummy_var_303;
    call {:si_unique_call 2605} DriverStatus := sdv_IoCallDriver(vslice_dummy_var_303, Irp_59);
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} DriverStatus == -1073741808;
    Tmp_2099 := Status_45;
    goto L127;

  L127:
    Status_45 := Tmp_2099;
    call {:si_unique_call 2606} FatCompleteRequest_Real(IrpContext_128, 0, 0);
    goto L109;

  L109:
    Tmp_2098 := Status_45;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon55_Then:
    assume {:partition} DriverStatus != -1073741808;
    Tmp_2099 := DriverStatus;
    goto L127;

  anon54_Then:
    assume {:partition} sdv_1272 != 0;
    goto L109;

  anon53_Then:
    assume {:partition} FcbAcquired_4 == 0;
    goto L101;

  anon52_Then:
    assume {:partition} VcbAcquired_2 == 0;
    goto L97;

  anon51_Then:
    assume {:partition} DirentBcb_10 == 0;
    goto L92;

  anon50_Then:
    assume {:partition} DirentBcb_10 == 0;
    goto L45;

  anon62_Then:
    assume {:partition} TypeOfOpen_8 != 7;
    call {:si_unique_call 2607} KeBugCheckEx(35, 1180020, TypeOfOpen_8, 0, 0);
    goto L44;

  anon63_Then:
    assume {:partition} TypeOfOpen_8 == 6;
    goto L44;

  anon64_Then:
    assume {:partition} TypeOfOpen_8 == 5;
    goto L44;

  anon65_Then:
    assume {:partition} TypeOfOpen_8 == 4;
    goto L131;

  L131:
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    havoc vslice_dummy_var_304;
    call {:si_unique_call 2608} vslice_dummy_var_369 := FatAcquireExclusiveVcb(IrpContext_128, vslice_dummy_var_304);
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} yogi_error != 1;
    VcbAcquired_2 := 1;
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    havoc vslice_dummy_var_305;
    call {:si_unique_call 2609} Status_45 := FatFlushVolume(IrpContext_128, vslice_dummy_var_305, 1);
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    call {:si_unique_call 2610} vslice_dummy_var_370 := KeCancelTimer(0);
    call {:si_unique_call 2611} vslice_dummy_var_371 := KeRemoveQueueDpc(0);
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    goto L152;

  L152:
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    havoc vslice_dummy_var_306;
    call {:si_unique_call 2612} vslice_dummy_var_372 := FatToggleMediaEjectDisable(IrpContext_128, vslice_dummy_var_306, 0);
    goto L44;

  anon59_Then:
    goto L44;

  anon58_Then:
    goto L44;

  anon57_Then:
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    havoc vslice_dummy_var_307;
    call {:si_unique_call 2613} FatMarkVolume#1(IrpContext_128, vslice_dummy_var_307, 0);
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    goto L152;

  anon56_Then:
    goto L44;

  anon72_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon71_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon66_Then:
    assume {:partition} TypeOfOpen_8 == 3;
    assume {:nonnull} Fcb_48 != 0;
    assume Fcb_48 > 0;
    havoc Tmp_2102;
    assume {:nonnull} Tmp_2102 != 0;
    assume Tmp_2102 > 0;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} Mem_T.INT4[Tmp_2102] == 1284;
    goto L131;

  anon70_Then:
    assume {:partition} Mem_T.INT4[Tmp_2102] != 1284;
    goto L44;

  anon67_Then:
    assume {:partition} TypeOfOpen_8 == 2;
    assume {:nonnull} Fcb_48 != 0;
    assume Fcb_48 > 0;
    havoc vslice_dummy_var_308;
    call {:si_unique_call 2614} vslice_dummy_var_368 := FatAcquireExclusiveFcb(IrpContext_128, vslice_dummy_var_308);
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} yogi_error != 1;
    FcbAcquired_4 := 1;
    assume {:nonnull} Fcb_48 != 0;
    assume Fcb_48 > 0;
    havoc vslice_dummy_var_309;
    call {:si_unique_call 2615} FatVerifyFcb(IrpContext_128, vslice_dummy_var_309);
    assume {:nonnull} Fcb_48 != 0;
    assume Fcb_48 > 0;
    havoc vslice_dummy_var_310;
    call {:si_unique_call 2616} Status_45 := FatFlushFile(IrpContext_128, vslice_dummy_var_310, 1);
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} yogi_error != 1;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} Status_45 >= 0;
    assume {:nonnull} FileObject_37 != 0;
    assume FileObject_37 > 0;
    assume {:nonnull} Ccb_29 != 0;
    assume Ccb_29 > 0;
    assume {:nonnull} Fcb_48 != 0;
    assume Fcb_48 > 0;
    havoc vslice_dummy_var_311;
    havoc vslice_dummy_var_312;
    call {:si_unique_call 2617} FatUpdateDirentFromFcb(IrpContext_128, FileObject_37, vslice_dummy_var_311, vslice_dummy_var_312);
    assume {:nonnull} Fcb_48 != 0;
    assume Fcb_48 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:nonnull} Vcb_81 != 0;
    assume Vcb_81 > 0;
    havoc vslice_dummy_var_313;
    call {:si_unique_call 2618} Status_45 := FatFlushFat(IrpContext_128, vslice_dummy_var_313);
    assume {:nonnull} Fcb_48 != 0;
    assume Fcb_48 > 0;
    goto L174;

  L174:
    assume {:nonnull} IrpContext_128 != 0;
    assume IrpContext_128 > 0;
    goto L44;

  anon61_Then:
    goto L174;

  anon60_Then:
    assume {:partition} 0 > Status_45;
    goto L44;

  anon69_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon68_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon49_Then:
    call {:si_unique_call 2619} Status_45 := FatFsdPostRequest(IrpContext_128, Irp_59);
    Tmp_2098 := Status_45;
    goto L1;
}



procedure {:origName "FatFlushDirectory"} FatFlushDirectory(actual_IrpContext_129: int, actual_Dcb_11: int, actual_FlushType_3: int) returns (Tmp_2103: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFlushDirectory"} FatFlushDirectory(actual_IrpContext_129: int, actual_Dcb_11: int, actual_FlushType_3: int) returns (Tmp_2103: int)
{
  var {:scalar} ReturnStatus: int;
  var {:pointer} NextFcb_3: int;
  var {:pointer} Fcb_49: int;
  var {:scalar} ClearWaitOnExit: int;
  var {:pointer} Dirent_21: int;
  var {:scalar} Status_46: int;
  var {:pointer} DirentBcb_11: int;
  var {:pointer} Tmp_2104: int;
  var {:pointer} Tmp_2105: int;
  var {:pointer} Vcb_82: int;
  var {:scalar} ClearWriteThroughOnExit: int;
  var {:pointer} IrpContext_129: int;
  var {:pointer} Dcb_11: int;
  var {:scalar} FlushType_3: int;
  var vslice_dummy_var_373: int;
  var vslice_dummy_var_314: int;

  anon0:
    call {:si_unique_call 2620} Dirent_21 := __HAVOC_malloc(4);
    call {:si_unique_call 2621} DirentBcb_11 := __HAVOC_malloc(4);
    IrpContext_129 := actual_IrpContext_129;
    Dcb_11 := actual_Dcb_11;
    FlushType_3 := actual_FlushType_3;
    assume {:nonnull} DirentBcb_11 != 0;
    assume DirentBcb_11 > 0;
    ReturnStatus := 0;
    ClearWriteThroughOnExit := 0;
    ClearWaitOnExit := 0;
    call {:si_unique_call 2622} sdv_do_paged_code_check();
    assume {:nonnull} IrpContext_129 != 0;
    assume IrpContext_129 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    goto L21;

  L21:
    assume {:nonnull} IrpContext_129 != 0;
    assume IrpContext_129 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    goto L23;

  L23:
    assume {:nonnull} Dcb_11 != 0;
    assume Dcb_11 > 0;
    havoc Vcb_82;
    Fcb_49 := Dcb_11;
    goto L25;

  L25:
    call {:si_unique_call 2623} ReturnStatus, NextFcb_3, Fcb_49, Status_46, Tmp_2104, vslice_dummy_var_373 := FatFlushDirectory_loop_L25(ReturnStatus, NextFcb_3, Fcb_49, Dirent_21, Status_46, DirentBcb_11, Tmp_2104, Vcb_82, IrpContext_129, Dcb_11, FlushType_3, vslice_dummy_var_373);
    goto L25_last;

  L25_last:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} Fcb_49 != 0;
    call {:si_unique_call 2624} NextFcb_3 := FatGetNextFcbTopDown(IrpContext_129, Fcb_49, Dcb_11);
    Tmp_2104 := Fcb_49;
    assume {:nonnull} Tmp_2104 != 0;
    assume Tmp_2104 > 0;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} Mem_T.INT4[Tmp_2104] == 1282;
    assume {:nonnull} Vcb_82 != 0;
    assume Vcb_82 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L35;

  L35:
    call {:si_unique_call 2625} vslice_dummy_var_373 := FatAcquireExclusiveFcb(IrpContext_129, Fcb_49);
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_82 != 0;
    assume Vcb_82 > 0;
    call {:si_unique_call 2626} FatVerifyFcb(IrpContext_129, Fcb_49);
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    goto L78;

  L78:
    assume {:nonnull} DirentBcb_11 != 0;
    assume DirentBcb_11 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:nonnull} DirentBcb_11 != 0;
    assume DirentBcb_11 > 0;
    goto L79;

  L79:
    assume {:nonnull} Vcb_82 != 0;
    assume Vcb_82 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    call {:si_unique_call 2627} ExReleaseResourceLite(0);
    goto L32;

  L32:
    Fcb_49 := NextFcb_3;
    goto L32_dummy;

  L32_dummy:
    assume false;
    return;

  anon62_Then:
    goto L32;

  anon61_Then:
    goto L79;

  anon59_Then:
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    havoc vslice_dummy_var_314;
    call {:si_unique_call 2628} FatTruncateFileAllocation(IrpContext_129, Fcb_49, vslice_dummy_var_314);
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} yogi_error != 1;
    goto L87;

  L87:
    call {:si_unique_call 2629} FatGetDirentFromFcbOrDcb(IrpContext_129, Fcb_49, Dirent_21, DirentBcb_11);
    assume {:nonnull} Dirent_21 != 0;
    assume Dirent_21 > 0;
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:nonnull} Dirent_21 != 0;
    assume Dirent_21 > 0;
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto L94;

  L94:
    assume {:nonnull} DirentBcb_11 != 0;
    assume DirentBcb_11 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:nonnull} DirentBcb_11 != 0;
    assume DirentBcb_11 > 0;
    goto L96;

  L96:
    call {:si_unique_call 2630} Status_46 := FatFlushFile(IrpContext_129, Fcb_49, FlushType_3);
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} yogi_error != 1;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} Status_46 < 0;
    ReturnStatus := Status_46;
    goto L78;

  anon65_Then:
    assume {:partition} 0 <= Status_46;
    goto L78;

  anon76_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon64_Then:
    goto L96;

  anon63_Then:
    goto L94;

  anon75_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon60_Then:
    goto L87;

  anon74_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon58_Then:
    goto L32;

  anon57_Then:
    goto L35;

  anon56_Then:
    goto L32;

  anon73_Then:
    assume {:partition} Mem_T.INT4[Tmp_2104] != 1282;
    goto L32;

  anon55_Then:
    assume {:partition} Fcb_49 == 0;
    Fcb_49 := Dcb_11;
    goto L106;

  L106:
    call {:si_unique_call 2631} ReturnStatus, NextFcb_3, Fcb_49, Status_46, Tmp_2105 := FatFlushDirectory_loop_L106(ReturnStatus, NextFcb_3, Fcb_49, Status_46, Tmp_2105, IrpContext_129, Dcb_11, FlushType_3);
    goto L106_last;

  L106_last:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} Fcb_49 != 0;
    call {:si_unique_call 2632} NextFcb_3 := FatGetNextFcbTopDown(IrpContext_129, Fcb_49, Dcb_11);
    Tmp_2105 := Fcb_49;
    assume {:nonnull} Tmp_2105 != 0;
    assume Tmp_2105 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} Mem_T.INT4[Tmp_2105] != 1282;
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    goto L117;

  L117:
    call {:si_unique_call 2633} FatVerifyFcb(IrpContext_129, Fcb_49);
    assume {:nonnull} Fcb_49 != 0;
    assume Fcb_49 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    call {:si_unique_call 2634} Status_46 := FatFlushFile(IrpContext_129, Fcb_49, FlushType_3);
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} yogi_error != 1;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} Status_46 < 0;
    ReturnStatus := Status_46;
    goto L115;

  L115:
    Fcb_49 := NextFcb_3;
    goto L115_dummy;

  L115_dummy:
    assume false;
    return;

  anon70_Then:
    assume {:partition} 0 <= Status_46;
    goto L115;

  anon78_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon69_Then:
    goto L115;

  anon68_Then:
    goto L115;

  anon67_Then:
    goto L117;

  anon77_Then:
    assume {:partition} Mem_T.INT4[Tmp_2105] == 1282;
    goto L115;

  anon66_Then:
    assume {:partition} Fcb_49 == 0;
    call {:si_unique_call 2635} FatUnpinRepinnedBcbs(IrpContext_129);
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} ClearWriteThroughOnExit != 0;
    assume {:nonnull} IrpContext_129 != 0;
    assume IrpContext_129 > 0;
    goto L148;

  L148:
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} ClearWaitOnExit != 0;
    assume {:nonnull} IrpContext_129 != 0;
    assume IrpContext_129 > 0;
    goto L150;

  L150:
    Tmp_2103 := ReturnStatus;
    goto LM2;

  anon72_Then:
    assume {:partition} ClearWaitOnExit == 0;
    goto L150;

  anon71_Then:
    assume {:partition} ClearWriteThroughOnExit == 0;
    goto L148;

  anon54_Then:
    ClearWaitOnExit := 1;
    assume {:nonnull} IrpContext_129 != 0;
    assume IrpContext_129 > 0;
    goto L23;

  anon53_Then:
    ClearWriteThroughOnExit := 1;
    assume {:nonnull} IrpContext_129 != 0;
    assume IrpContext_129 > 0;
    goto L21;
}



procedure {:origName "FatFlushVolume"} FatFlushVolume(actual_IrpContext_130: int, actual_Vcb_83: int, actual_FlushType_4: int) returns (Tmp_2107: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFlushVolume"} FatFlushVolume(actual_IrpContext_130: int, actual_Vcb_83: int, actual_FlushType_4: int) returns (Tmp_2107: int)
{
  var {:scalar} ReturnStatus_1: int;
  var {:scalar} Status_47: int;
  var {:pointer} IrpContext_130: int;
  var {:pointer} Vcb_83: int;
  var {:scalar} FlushType_4: int;
  var vslice_dummy_var_374: int;
  var vslice_dummy_var_315: int;

  anon0:
    IrpContext_130 := actual_IrpContext_130;
    Vcb_83 := actual_Vcb_83;
    FlushType_4 := actual_FlushType_4;
    ReturnStatus_1 := 0;
    call {:si_unique_call 2636} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_83 != 0;
    assume Vcb_83 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    Tmp_2107 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon13_Then:
    assume {:nonnull} Vcb_83 != 0;
    assume Vcb_83 > 0;
    havoc vslice_dummy_var_315;
    call {:si_unique_call 2637} Status_47 := FatFlushDirectory(IrpContext_130, vslice_dummy_var_315, FlushType_4);
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} yogi_error != 1;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} Status_47 >= 0;
    goto L17;

  L17:
    call {:si_unique_call 2638} Status_47 := FatFlushFat(IrpContext_130, Vcb_83);
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Status_47 >= 0;
    goto L23;

  L23:
    assume {:nonnull} Vcb_83 != 0;
    assume Vcb_83 > 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:nonnull} Vcb_83 != 0;
    assume Vcb_83 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    call {:si_unique_call 2639} vslice_dummy_var_374 := FatToggleMediaEjectDisable(IrpContext_130, Vcb_83, 0);
    goto L24;

  L24:
    Tmp_2107 := ReturnStatus_1;
    goto L1;

  anon17_Then:
    goto L24;

  anon16_Then:
    goto L24;

  anon15_Then:
    assume {:partition} 0 > Status_47;
    ReturnStatus_1 := Status_47;
    goto L23;

  anon14_Then:
    assume {:partition} 0 > Status_47;
    ReturnStatus_1 := Status_47;
    goto L17;

  anon18_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatFlushFile"} FatFlushFile(actual_IrpContext_131: int, actual_Fcb_50: int, actual_FlushType_5: int) returns (Tmp_2109: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFlushFile"} FatFlushFile(actual_IrpContext_131: int, actual_Fcb_50: int, actual_FlushType_5: int) returns (Tmp_2109: int)
{
  var {:scalar} Iosb_21: int;
  var {:pointer} Vcb_84: int;
  var {:pointer} IrpContext_131: int;
  var {:pointer} Fcb_50: int;
  var {:scalar} FlushType_5: int;
  var vslice_dummy_var_375: int;

  anon0:
    call {:si_unique_call 2640} Iosb_21 := __HAVOC_malloc(12);
    IrpContext_131 := actual_IrpContext_131;
    Fcb_50 := actual_Fcb_50;
    FlushType_5 := actual_FlushType_5;
    assume {:nonnull} Fcb_50 != 0;
    assume Fcb_50 > 0;
    havoc Vcb_84;
    call {:si_unique_call 2641} sdv_do_paged_code_check();
    assume {:nonnull} Fcb_50 != 0;
    assume Fcb_50 > 0;
    assume {:nonnull} Vcb_84 != 0;
    assume Vcb_84 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    goto L16;

  L16:
    assume {:nonnull} Iosb_21 != 0;
    assume Iosb_21 > 0;
    Tmp_2109 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_21)];
    goto LM2;

  LM2:
    return;

  anon7_Then:
    call {:si_unique_call 2642} vslice_dummy_var_375 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} yogi_error != 1;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} FlushType_5 == 2;
    call {:si_unique_call 2643} FatMarkFcbCondition(IrpContext_131, Fcb_50, 2, 0);
    goto L18;

  L18:
    call {:si_unique_call 2644} ExReleaseResourceLite(0);
    goto L16;

  anon8_Then:
    assume {:partition} FlushType_5 != 2;
    goto L18;

  anon9_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatHijackIrpAndFlushDevice"} FatHijackIrpAndFlushDevice(actual_IrpContext_132: int, actual_Irp_60: int, actual_TargetDeviceObject_4: int) returns (Tmp_2112: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatHijackIrpAndFlushDevice"} FatHijackIrpAndFlushDevice(actual_IrpContext_132: int, actual_Irp_60: int, actual_TargetDeviceObject_4: int) returns (Tmp_2112: int)
{
  var {:scalar} Status_48: int;
  var {:pointer} NextIrpSp_2: int;
  var {:scalar} Event_9: int;
  var {:pointer} sdv_1301: int;
  var {:pointer} Irp_60: int;
  var {:pointer} TargetDeviceObject_4: int;
  var vslice_dummy_var_376: int;

  anon0:
    call {:si_unique_call 2645} Event_9 := __HAVOC_malloc(124);
    Irp_60 := actual_Irp_60;
    TargetDeviceObject_4 := actual_TargetDeviceObject_4;
    call {:si_unique_call 2646} sdv_do_paged_code_check();
    call {:si_unique_call 2647} NextIrpSp_2 := sdv_IoGetNextIrpStackLocation(Irp_60);
    call {:si_unique_call 2648} sdv_1301 := sdv_IoGetCurrentIrpStackLocation(Irp_60);
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} sdv_1301 != 0;
    assume sdv_1301 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    assume {:nonnull} NextIrpSp_2 != 0;
    assume NextIrpSp_2 > 0;
    call {:si_unique_call 2649} KeInitializeEvent(Event_9, 0, 0);
    call {:si_unique_call 2650} sdv_IoSetCompletionRoutine(Irp_60, li2bplFunctionConstant338, Event_9, 1, 1, 1);
    call {:si_unique_call 2651} Status_48 := sdv_IoCallDriver(TargetDeviceObject_4, Irp_60);
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} Status_48 == 259;
    call {:si_unique_call 2652} vslice_dummy_var_376 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Irp_60 != 0;
    assume Irp_60 > 0;
    Status_48 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_60))];
    goto L30;

  L30:
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} Status_48 == -1073741808;
    Status_48 := 0;
    goto L35;

  L35:
    assume {:nonnull} Irp_60 != 0;
    assume Irp_60 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_60))] := 0;
    assume {:nonnull} Irp_60 != 0;
    assume Irp_60 > 0;
    Tmp_2112 := Status_48;
    return;

  anon6_Then:
    assume {:partition} Status_48 != -1073741808;
    goto L35;

  anon5_Then:
    assume {:partition} Status_48 != 259;
    goto L30;
}



procedure {:origName "_sdv_init10"} _sdv_init10();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init10"} _sdv_init10()
{
  var vslice_dummy_var_377: int;

  anon0:
    call {:si_unique_call 2653} vslice_dummy_var_377 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatFlushDirentForFile"} FatFlushDirentForFile(actual_IrpContext_133: int, actual_Fcb_51: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFlushDirentForFile"} FatFlushDirentForFile(actual_IrpContext_133: int, actual_Fcb_51: int)
{
  var {:scalar} Iosb_22: int;
  var {:pointer} Tmp_2117: int;
  var {:scalar} sdv_1305: int;
  var {:scalar} FileOffset_3: int;
  var {:pointer} Tmp_2120: int;
  var {:pointer} IrpContext_133: int;
  var {:pointer} Fcb_51: int;
  var boogieTmp: int;
  var vslice_dummy_var_378: int;
  var vslice_dummy_var_316: int;
  var vslice_dummy_var_317: int;

  anon0:
    call {:si_unique_call 2654} vslice_dummy_var_378 := __HAVOC_malloc(4);
    call {:si_unique_call 2655} Iosb_22 := __HAVOC_malloc(12);
    call {:si_unique_call 2656} FileOffset_3 := __HAVOC_malloc(20);
    IrpContext_133 := actual_IrpContext_133;
    Fcb_51 := actual_Fcb_51;
    call {:si_unique_call 2657} sdv_do_paged_code_check();
    assume {:nonnull} Fcb_51 != 0;
    assume Fcb_51 > 0;
    assume {:nonnull} FileOffset_3 != 0;
    assume FileOffset_3 > 0;
    assume {:nonnull} Fcb_51 != 0;
    assume Fcb_51 > 0;
    havoc Tmp_2120;
    assume {:nonnull} Tmp_2120 != 0;
    assume Tmp_2120 > 0;
    assume {:nonnull} Iosb_22 != 0;
    assume Iosb_22 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_22)] >= 0;
    assume {:nonnull} Fcb_51 != 0;
    assume Fcb_51 > 0;
    havoc Tmp_2117;
    assume {:nonnull} Iosb_22 != 0;
    assume Iosb_22 > 0;
    assume {:nonnull} IrpContext_133 != 0;
    assume IrpContext_133 > 0;
    assume {:nonnull} Tmp_2117 != 0;
    assume Tmp_2117 > 0;
    havoc vslice_dummy_var_316;
    havoc vslice_dummy_var_317;
    call {:si_unique_call 2658} boogieTmp := FatHijackIrpAndFlushDevice(IrpContext_133, vslice_dummy_var_316, vslice_dummy_var_317);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_22)] := boogieTmp;
    goto L13;

  L13:
    assume {:nonnull} Iosb_22 != 0;
    assume Iosb_22 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_22)] < 0;
    assume {:nonnull} Iosb_22 != 0;
    assume Iosb_22 > 0;
    assume {:nonnull} IrpContext_133 != 0;
    assume IrpContext_133 > 0;
    call {:si_unique_call 2659} sdv_1305 := corral_nondet();
    call {:si_unique_call 2660} ExRaiseStatus(sdv_1305);
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_22)];
    goto L1;

  anon5_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_22)];
    goto L13;
}



procedure {:origName "FatFsdFlushBuffers"} FatFsdFlushBuffers(actual_VolumeDeviceObject_8: int, actual_Irp_61: int) returns (Tmp_2121: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdFlushBuffers"} FatFsdFlushBuffers(actual_VolumeDeviceObject_8: int, actual_Irp_61: int) returns (Tmp_2121: int)
{
  var {:scalar} TopLevel_4: int;
  var {:scalar} Status_49: int;
  var {:scalar} sdv_1309: int;
  var {:pointer} IrpContext_134: int;
  var {:pointer} VolumeDeviceObject_8: int;
  var {:pointer} Irp_61: int;

  anon0:
    VolumeDeviceObject_8 := actual_VolumeDeviceObject_8;
    Irp_61 := actual_Irp_61;
    IrpContext_134 := 0;
    call {:si_unique_call 2661} sdv_do_paged_code_check();
    call {:si_unique_call 2662} KeEnterCriticalRegion();
    call {:si_unique_call 2663} TopLevel_4 := FatIsIrpTopLevel(Irp_61);
    call {:si_unique_call 2664} sdv_1309 := corral_nondet();
    call {:si_unique_call 2665} IrpContext_134 := FatCreateIrpContext(Irp_61, sdv_1309);
    call {:si_unique_call 2666} Status_49 := FatCommonFlushBuffers(IrpContext_134, Irp_61);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} TopLevel_4 != 0;
    goto L37;

  L37:
    call {:si_unique_call 2667} KeLeaveCriticalRegion();
    Tmp_2121 := Status_49;
    goto LM2;

  LM2:
    return;

  anon5_Then:
    assume {:partition} TopLevel_4 == 0;
    goto L37;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatFlushFatEntries"} FatFlushFatEntries(actual_IrpContext_135: int, actual_Vcb_85: int, actual_Cluster_2: int, actual_Count: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFlushFatEntries"} FatFlushFatEntries(actual_IrpContext_135: int, actual_Vcb_85: int, actual_Cluster_2: int, actual_Count: int)
{
  var {:pointer} Tmp_2125: int;
  var {:scalar} Iosb_23: int;
  var {:pointer} Tmp_2126: int;
  var {:scalar} sdv_1315: int;
  var {:scalar} FileOffset_4: int;
  var {:pointer} IrpContext_135: int;
  var {:pointer} Vcb_85: int;
  var {:scalar} Cluster_2: int;
  var {:scalar} Count: int;
  var boogieTmp: int;
  var vslice_dummy_var_379: int;
  var vslice_dummy_var_318: int;
  var vslice_dummy_var_319: int;

  anon0:
    call {:si_unique_call 2668} vslice_dummy_var_379 := __HAVOC_malloc(4);
    call {:si_unique_call 2669} Iosb_23 := __HAVOC_malloc(12);
    call {:si_unique_call 2670} FileOffset_4 := __HAVOC_malloc(20);
    IrpContext_135 := actual_IrpContext_135;
    Vcb_85 := actual_Vcb_85;
    Cluster_2 := actual_Cluster_2;
    Count := actual_Count;
    call {:si_unique_call 2671} sdv_do_paged_code_check();
    assume {:nonnull} FileOffset_4 != 0;
    assume FileOffset_4 > 0;
    assume {:nonnull} Vcb_85 != 0;
    assume Vcb_85 > 0;
    Tmp_2126 := Bpb__VCB(Vcb_85);
    assume {:nonnull} Vcb_85 != 0;
    assume Vcb_85 > 0;
    Tmp_2125 := Bpb__VCB(Vcb_85);
    assume {:nonnull} FileOffset_4 != 0;
    assume FileOffset_4 > 0;
    assume {:nonnull} Tmp_2125 != 0;
    assume Tmp_2125 > 0;
    assume {:nonnull} Tmp_2126 != 0;
    assume Tmp_2126 > 0;
    assume {:nonnull} Vcb_85 != 0;
    assume Vcb_85 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:nonnull} FileOffset_4 != 0;
    assume FileOffset_4 > 0;
    goto L15;

  L15:
    assume {:nonnull} Iosb_23 != 0;
    assume Iosb_23 > 0;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_23)] >= 0;
    assume {:nonnull} Iosb_23 != 0;
    assume Iosb_23 > 0;
    assume {:nonnull} IrpContext_135 != 0;
    assume IrpContext_135 > 0;
    assume {:nonnull} Vcb_85 != 0;
    assume Vcb_85 > 0;
    havoc vslice_dummy_var_318;
    havoc vslice_dummy_var_319;
    call {:si_unique_call 2672} boogieTmp := FatHijackIrpAndFlushDevice(IrpContext_135, vslice_dummy_var_318, vslice_dummy_var_319);
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_23)] := boogieTmp;
    goto L19;

  L19:
    assume {:nonnull} Iosb_23 != 0;
    assume Iosb_23 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_23)] < 0;
    assume {:nonnull} Iosb_23 != 0;
    assume Iosb_23 > 0;
    assume {:nonnull} IrpContext_135 != 0;
    assume IrpContext_135 > 0;
    call {:si_unique_call 2673} sdv_1315 := corral_nondet();
    call {:si_unique_call 2674} ExRaiseStatus(sdv_1315);
    goto L1;

  L1:
    return;

  anon11_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_23)];
    goto L1;

  anon10_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_23)];
    goto L19;

  anon12_Then:
    assume {:nonnull} Vcb_85 != 0;
    assume Vcb_85 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:nonnull} FileOffset_4 != 0;
    assume FileOffset_4 > 0;
    goto L15;

  anon9_Then:
    assume {:nonnull} FileOffset_4 != 0;
    assume FileOffset_4 > 0;
    goto L15;
}



procedure {:origName "FatFlushFat"} FatFlushFat(actual_IrpContext_136: int, actual_Vcb_86: int) returns (Tmp_2127: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFlushFat"} FatFlushFat(actual_IrpContext_136: int, actual_Vcb_86: int) returns (Tmp_2127: int)
{
  var {:pointer} Tmp_2128: int;
  var {:scalar} ReturnStatus_2: int;
  var {:scalar} Offset_3: int;
  var {:pointer} Tmp_2130: int;
  var {:pointer} Tmp_2131: int;
  var {:pointer} Tmp_2132: int;
  var {:scalar} Iosb_24: int;
  var {:pointer} Tmp_2133: int;
  var {:pointer} Tmp_2134: int;
  var {:scalar} sdv_1317: int;
  var {:pointer} Tmp_2135: int;
  var {:scalar} Page_3: int;
  var {:scalar} sdv_1320: int;
  var {:pointer} Tmp_2136: int;
  var {:pointer} Tmp_2137: int;
  var {:scalar} Tmp_2139: int;
  var {:scalar} NumberOfPages_2: int;
  var {:pointer} Tmp_2140: int;
  var {:pointer} Tmp_2141: int;
  var {:pointer} Tmp_2142: int;
  var {:pointer} Tmp_2143: int;
  var {:pointer} Tmp_2144: int;
  var {:pointer} IrpContext_136: int;
  var {:pointer} Vcb_86: int;

  anon0:
    call {:si_unique_call 2675} Offset_3 := __HAVOC_malloc(20);
    call {:si_unique_call 2676} Iosb_24 := __HAVOC_malloc(12);
    IrpContext_136 := actual_IrpContext_136;
    Vcb_86 := actual_Vcb_86;
    ReturnStatus_2 := 0;
    call {:si_unique_call 2677} sdv_do_paged_code_check();
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    Tmp_2127 := 0;
    goto L1;

  L1:
    return;

  anon21_Then:
    call {:si_unique_call 2678} FatVerifyVcb(IrpContext_136, Vcb_86);
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    Tmp_2127 := -1073741672;
    goto L1;

  anon22_Then:
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2137 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Tmp_2137 != 0;
    assume Tmp_2137 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2143 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2144 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Tmp_2143 != 0;
    assume Tmp_2143 > 0;
    assume {:nonnull} Tmp_2144 != 0;
    assume Tmp_2144 > 0;
    havoc Tmp_2139;
    goto L37;

  L37:
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2130 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2128 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Tmp_2128 != 0;
    assume Tmp_2128 > 0;
    assume {:nonnull} Tmp_2130 != 0;
    assume Tmp_2130 > 0;
    havoc NumberOfPages_2;
    Page_3 := 0;
    assume {:nonnull} Offset_3 != 0;
    assume Offset_3 > 0;
    goto L40;

  L40:
    call {:si_unique_call 2679} ReturnStatus_2, Page_3, sdv_1320 := FatFlushFat_loop_L40(ReturnStatus_2, Offset_3, Iosb_24, Page_3, sdv_1320, NumberOfPages_2);
    goto L40_last;

  L40_last:
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} NumberOfPages_2 > Page_3;
    call {:si_unique_call 2680} sdv_1320 := corral_nondet();
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} sdv_1320 != 0;
    assume {:nonnull} Iosb_24 != 0;
    assume Iosb_24 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_24)] < 0;
    assume {:nonnull} Iosb_24 != 0;
    assume Iosb_24 > 0;
    ReturnStatus_2 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_24)];
    goto L54;

  L54:
    Page_3 := Page_3 + 1;
    assume {:nonnull} Offset_3 != 0;
    assume Offset_3 > 0;
    goto L54_dummy;

  L54_dummy:
    assume false;
    return;

  anon26_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_24)];
    goto L54;

  anon25_Then:
    assume {:partition} sdv_1320 == 0;
    goto L54;

  anon24_Then:
    assume {:partition} Page_3 >= NumberOfPages_2;
    goto L41;

  L41:
    Tmp_2127 := ReturnStatus_2;
    goto L1;

  anon29_Then:
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2140 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2141 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Tmp_2140 != 0;
    assume Tmp_2140 > 0;
    assume {:nonnull} Tmp_2141 != 0;
    assume Tmp_2141 > 0;
    havoc Tmp_2139;
    goto L37;

  anon23_Then:
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2133 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2134 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Offset_3 != 0;
    assume Offset_3 > 0;
    assume {:nonnull} Tmp_2133 != 0;
    assume Tmp_2133 > 0;
    assume {:nonnull} Tmp_2134 != 0;
    assume Tmp_2134 > 0;
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2131 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Tmp_2131 != 0;
    assume Tmp_2131 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2136 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2132 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Tmp_2132 != 0;
    assume Tmp_2132 > 0;
    assume {:nonnull} Tmp_2136 != 0;
    assume Tmp_2136 > 0;
    goto L74;

  L74:
    call {:si_unique_call 2681} sdv_1317 := corral_nondet();
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} sdv_1317 != 0;
    assume {:nonnull} Iosb_24 != 0;
    assume Iosb_24 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_24)] < 0;
    assume {:nonnull} Iosb_24 != 0;
    assume Iosb_24 > 0;
    ReturnStatus_2 := Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_24)];
    goto L41;

  anon28_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_24)];
    goto L41;

  anon27_Then:
    assume {:partition} sdv_1317 == 0;
    goto L41;

  anon30_Then:
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2135 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Vcb_86 != 0;
    assume Vcb_86 > 0;
    Tmp_2142 := Bpb__VCB(Vcb_86);
    assume {:nonnull} Tmp_2135 != 0;
    assume Tmp_2135 > 0;
    assume {:nonnull} Tmp_2142 != 0;
    assume Tmp_2142 > 0;
    goto L74;
}



procedure {:origName "_sdv_init27"} _sdv_init27();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init27"} _sdv_init27()
{
  var vslice_dummy_var_380: int;

  anon0:
    call {:si_unique_call 2682} vslice_dummy_var_380 := __HAVOC_malloc(4);
    assume FatNoAsync == 0;
    return;
}



procedure {:origName "FatCommonWrite"} FatCommonWrite(actual_IrpContext_137: int, actual_Irp_62: int) returns (Tmp_2147: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonWrite"} FatCommonWrite(actual_IrpContext_137: int, actual_Irp_62: int) returns (Tmp_2147: int)
{
  var {:scalar} sdv_1324: int;
  var {:pointer} Fcb_52: int;
  var {:scalar} sdv_1325: int;
  var {:scalar} ActualBytesWrote: int;
  var {:pointer} Tmp_2148: int;
  var {:scalar} VolumeSize: int;
  var {:scalar} sdv_1329: int;
  var {:scalar} FcbAcquiredExclusive: int;
  var {:pointer} StackIoRuns_1: int;
  var {:scalar} Tmp_2150: int;
  var {:scalar} Tmp_2151: int;
  var {:pointer} Tmp_2152: int;
  var {:pointer} Tmp_2153: int;
  var {:pointer} Ccb_30: int;
  var {:scalar} MoreDirtyRuns: int;
  var {:scalar} AllocateMinimumSize: int;
  var {:scalar} NonCachedIo: int;
  var {:scalar} CalledByLazyWriter: int;
  var {:pointer} Tmp_2155: int;
  var {:scalar} Tmp_2156: int;
  var {:scalar} sdv_1332: int;
  var {:pointer} IoRuns_2: int;
  var {:scalar} ValidDataToCheck: int;
  var {:scalar} BytesToWrite_2: int;
  var {:pointer} Tmp_2157: int;
  var {:scalar} OneSecondFromNow: int;
  var {:pointer} Tmp_2158: int;
  var {:pointer} Tmp_2159: int;
  var {:pointer} Tmp_2160: int;
  var {:scalar} sdv_1336: int;
  var {:scalar} WriteToEof: int;
  var {:scalar} ValidDataLength_1: int;
  var {:scalar} Status_50: int;
  var {:pointer} Tmp_2161: int;
  var {:pointer} Tmp_2162: int;
  var {:pointer} Tmp_2163: int;
  var {:scalar} Tmp_2164: int;
  var {:pointer} Tmp_2165: int;
  var {:scalar} FcbCanDemoteToShared: int;
  var {:scalar} Tmp_2167: int;
  var {:scalar} BytesPerFat: int;
  var {:dopa} {:scalar} DirtyLbo: int;
  var {:scalar} sdv_1339: int;
  var {:scalar} StartingLbo: int;
  var {:scalar} Tmp_2168: int;
  var {:scalar} TypeOfOpen_9: int;
  var {:scalar} Tmp_2169: int;
  var {:scalar} Tmp_2170: int;
  var {:pointer} IrpSp_36: int;
  var {:scalar} sdv_1340: int;
  var {:scalar} sdv_1341: int;
  var {:scalar} Tmp_2172: int;
  var {:pointer} Tmp_2173: int;
  var {:pointer} Tmp_2174: int;
  var {:pointer} Tmp_2175: int;
  var {:scalar} Tmp_2176: int;
  var {:scalar} sdv_1343: int;
  var {:pointer} sdv_1344: int;
  var {:scalar} sdv_1345: int;
  var {:scalar} Tmp_2177: int;
  var {:pointer} Vcb_87: int;
  var {:pointer} Tmp_2178: int;
  var {:pointer} Tmp_2179: int;
  var {:scalar} Tmp_2180: int;
  var {:pointer} Tmp_2181: int;
  var {:scalar} sdv_1351: int;
  var {:scalar} sdv_1352: int;
  var {:pointer} sdv_1353: int;
  var {:scalar} Tmp_2182: int;
  var {:pointer} Tmp_2183: int;
  var {:scalar} WriteLength: int;
  var {:scalar} PagingIo: int;
  var {:scalar} sdv_1354: int;
  var {:scalar} TargetAllocation: int;
  var {:scalar} Tmp_2184: int;
  var {:scalar} UnwindOutstandingAsync: int;
  var {:scalar} BytesPerCluster_4: int;
  var {:scalar} sdv_1356: int;
  var {:scalar} sdv_1357: int;
  var {:scalar} Tmp_2185: int;
  var {:scalar} Tmp_2186: int;
  var {:pointer} Tmp_2187: int;
  var {:scalar} DirtyVbo: int;
  var {:scalar} sdv_1359: int;
  var {:pointer} Tmp_2189: int;
  var {:scalar} Tmp_2190: int;
  var {:scalar} Tmp_2191: int;
  var {:pointer} Tmp_2192: int;
  var {:scalar} Temp: int;
  var {:scalar} Tmp_2193: int;
  var {:scalar} sdv_1362: int;
  var {:scalar} sdv_1363: int;
  var {:scalar} Tmp_2194: int;
  var {:scalar} Tmp_2195: int;
  var {:pointer} Fcb_53: int;
  var {:scalar} Multiplier: int;
  var {:scalar} Tmp_2196: int;
  var {:pointer} sdv_1366: int;
  var {:scalar} sdv_1367: int;
  var {:scalar} ExtendingFile: int;
  var {:dopa} {:scalar} CleanByteCount: int;
  var {:pointer} Tmp_2197: int;
  var {:pointer} Tmp_2198: int;
  var {:pointer} Tmp_2199: int;
  var {:pointer} FlushContext: int;
  var {:scalar} PagingIoResourceAcquired: int;
  var {:scalar} FileSize: int;
  var {:scalar} StartingDirtyVbo: int;
  var {:pointer} IrpStack: int;
  var {:pointer} FileObject_38: int;
  var {:pointer} Tmp_2201: int;
  var {:scalar} WriteFileSizeToDirent: int;
  var {:pointer} Tmp_2202: int;
  var {:scalar} sdv_1369: int;
  var {:scalar} SwitchBackToAsync: int;
  var {:scalar} ExtendingValidData: int;
  var {:pointer} Tmp_2203: int;
  var {:pointer} Tmp_2204: int;
  var {:scalar} PreviousWait: int;
  var {:scalar} RecursiveWriteThrough: int;
  var {:scalar} Wait_10: int;
  var {:scalar} Tmp_2206: int;
  var {:scalar} sdv_1371: int;
  var {:pointer} sdv_1372: int;
  var {:scalar} sdv_1373: int;
  var {:pointer} sdv_1374: int;
  var {:scalar} Tmp_2207: int;
  var {:scalar} StartingVbo_7: int;
  var {:scalar} PostIrp_1: int;
  var {:pointer} Tmp_2208: int;
  var {:pointer} sdv_1377: int;
  var {:pointer} Tmp_2209: int;
  var {:scalar} FcbOrDcbAcquired: int;
  var {:scalar} Tmp_2210: int;
  var {:pointer} Tmp_2211: int;
  var {:dopa} {:scalar} CleanLbo: int;
  var {:pointer} sdv_1379: int;
  var {:pointer} Tmp_2212: int;
  var {:pointer} sdv_1381: int;
  var {:dopa} {:scalar} DirtyByteCount: int;
  var {:scalar} Tmp_2213: int;
  var {:pointer} Tmp_2214: int;
  var {:scalar} SectorSize_6: int;
  var {:pointer} Tmp_2215: int;
  var {:pointer} Tmp_2216: int;
  var {:scalar} StackFatIoContext: int;
  var {:scalar} OplockPostIrp_2: int;
  var {:pointer} Tmp_2217: int;
  var {:scalar} ValidDataToDisk: int;
  var {:pointer} Stats_10: int;
  var {:scalar} InitialValidDataLength_1: int;
  var {:pointer} TopIrp: int;
  var {:scalar} StartingByte: int;
  var {:scalar} sdv_1383: int;
  var {:pointer} FcbOrDcb_11: int;
  var {:scalar} Tmp_2218: int;
  var {:scalar} Tmp_2219: int;
  var {:scalar} sdv_1386: int;
  var {:scalar} sdv_1387: int;
  var {:pointer} Tmp_2222: int;
  var {:scalar} SynchronousIo: int;
  var {:scalar} Fat: int;
  var {:scalar} InitialFileSize_1: int;
  var {:scalar} RaiseIosb_1: int;
  var {:scalar} Tmp_2223: int;
  var {:scalar} ClusterAlignedFileSize: int;
  var {:pointer} Tmp_2224: int;
  var {:scalar} sdv_1388: int;
  var {:scalar} ApproximateClusterCount: int;
  var {:scalar} EndingVboWritten: int;
  var {:scalar} ByteCount_20: int;
  var {:pointer} IrpContext_137: int;
  var {:pointer} Irp_62: int;
  var vslice_dummy_var_381: int;
  var vslice_dummy_var_382: int;
  var vslice_dummy_var_383: int;
  var vslice_dummy_var_384: int;
  var vslice_dummy_var_385: int;
  var vslice_dummy_var_386: int;
  var vslice_dummy_var_387: int;
  var vslice_dummy_var_388: int;
  var vslice_dummy_var_389: int;
  var vslice_dummy_var_390: int;
  var vslice_dummy_var_391: int;
  var vslice_dummy_var_392: int;
  var vslice_dummy_var_393: int;
  var vslice_dummy_var_394: int;
  var vslice_dummy_var_395: int;
  var vslice_dummy_var_396: int;
  var vslice_dummy_var_320: int;
  var vslice_dummy_var_321: int;
  var vslice_dummy_var_322: int;
  var vslice_dummy_var_323: int;
  var vslice_dummy_var_324: int;
  var vslice_dummy_var_325: int;
  var vslice_dummy_var_326: int;
  var vslice_dummy_var_327: int;
  var vslice_dummy_var_328: int;
  var vslice_dummy_var_329: int;
  var vslice_dummy_var_330: int;
  var vslice_dummy_var_331: int;
  var vslice_dummy_var_332: int;
  var vslice_dummy_var_333: int;
  var vslice_dummy_var_334: int;
  var vslice_dummy_var_335: int;
  var vslice_dummy_var_336: int;
  var vslice_dummy_var_337: int;
  var vslice_dummy_var_338: int;
  var vslice_dummy_var_339: int;
  var vslice_dummy_var_340: int;
  var vslice_dummy_var_341: int;
  var vslice_dummy_var_342: int;
  var vslice_dummy_var_343: int;
  var vslice_dummy_var_344: int;
  var vslice_dummy_var_345: int;
  var vslice_dummy_var_346: int;
  var vslice_dummy_var_347: int;
  var vslice_dummy_var_348: int;
  var vslice_dummy_var_349: int;
  var vslice_dummy_var_350: int;
  var vslice_dummy_var_351: int;
  var vslice_dummy_var_352: int;
  var vslice_dummy_var_353: int;
  var vslice_dummy_var_354: int;
  var vslice_dummy_var_355: int;
  var vslice_dummy_var_356: int;
  var vslice_dummy_var_357: int;

  anon0:
    call {:si_unique_call 2683} Ccb_30 := __HAVOC_malloc(4);
    call {:si_unique_call 2684} OneSecondFromNow := __HAVOC_malloc(20);
    call {:si_unique_call 2685} DirtyLbo := __HAVOC_malloc(4);
    call {:si_unique_call 2686} Vcb_87 := __HAVOC_malloc(4);
    call {:si_unique_call 2687} CleanByteCount := __HAVOC_malloc(4);
    call {:si_unique_call 2688} CleanLbo := __HAVOC_malloc(4);
    call {:si_unique_call 2689} DirtyByteCount := __HAVOC_malloc(4);
    call {:si_unique_call 2690} StackFatIoContext := __HAVOC_malloc(160);
    call {:si_unique_call 2691} StartingByte := __HAVOC_malloc(20);
    call {:si_unique_call 2692} FcbOrDcb_11 := __HAVOC_malloc(4);
    call {:si_unique_call 2693} RaiseIosb_1 := __HAVOC_malloc(12);
    IrpContext_137 := actual_IrpContext_137;
    Irp_62 := actual_Irp_62;
    call {:si_unique_call 2694} StackIoRuns_1 := __HAVOC_malloc(40);
    PostIrp_1 := 0;
    OplockPostIrp_2 := 0;
    ExtendingFile := 0;
    FcbOrDcbAcquired := 0;
    SwitchBackToAsync := 0;
    CalledByLazyWriter := 0;
    ExtendingValidData := 0;
    FcbAcquiredExclusive := 0;
    FcbCanDemoteToShared := 0;
    WriteFileSizeToDirent := 0;
    RecursiveWriteThrough := 0;
    UnwindOutstandingAsync := 0;
    PagingIoResourceAcquired := 0;
    call {:si_unique_call 2695} IrpSp_36 := sdv_IoGetCurrentIrpStackLocation(Irp_62);
    assume {:nonnull} IrpSp_36 != 0;
    assume IrpSp_36 > 0;
    havoc FileObject_38;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2176;
    goto anon613_Then, anon613_Else;

  anon613_Else:
    assume {:partition} Tmp_2176 == 0;
    Wait_10 := 0;
    goto L1182;

  L1182:
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    havoc Tmp_2223;
    goto anon614_Then, anon614_Else;

  anon614_Else:
    assume {:partition} Tmp_2223 == 0;
    PagingIo := 0;
    goto L1186;

  L1186:
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    havoc Tmp_2168;
    goto anon615_Then, anon615_Else;

  anon615_Else:
    assume {:partition} Tmp_2168 == 0;
    NonCachedIo := 0;
    goto L1190;

  L1190:
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    havoc Tmp_2206;
    goto anon616_Then, anon616_Else;

  anon616_Else:
    assume {:partition} Tmp_2206 == 0;
    SynchronousIo := 0;
    goto L1194;

  L1194:
    assume {:nonnull} IrpSp_36 != 0;
    assume IrpSp_36 > 0;
    havoc ByteCount_20;
    goto anon617_Then, anon617_Else;

  anon617_Else:
    assume {:partition} ByteCount_20 != 0;
    goto anon459_Then, anon459_Else;

  anon459_Else:
    assume {:partition} NonCachedIo != 0;
    goto L68;

  L68:
    assume {:nonnull} IrpSp_36 != 0;
    assume IrpSp_36 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} IrpSp_36 != 0;
    assume IrpSp_36 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} IrpSp_36 != 0;
    assume IrpSp_36 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} IrpSp_36 != 0;
    assume IrpSp_36 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} IrpSp_36 != 0;
    assume IrpSp_36 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    havoc StartingVbo_7;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    goto anon618_Then, anon618_Else;

  anon618_Else:
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    goto anon460_Then, anon460_Else;

  anon460_Else:
    Tmp_2156 := 1;
    goto L74;

  L74:
    WriteToEof := Tmp_2156;
    call {:si_unique_call 2696} TypeOfOpen_9 := FatDecodeFileObject(FileObject_38, Vcb_87, FcbOrDcb_11, Ccb_30);
    goto anon461_Then, anon461_Else;

  anon461_Else:
    assume {:partition} TypeOfOpen_9 == 4;
    NonCachedIo := 1;
    goto L80;

  L80:
    goto anon462_Then, anon462_Else;

  anon462_Else:
    assume {:partition} PagingIo != 0;
    call {:si_unique_call 2697} sdv_1343 := KeGetCurrentProcessorNumber();
    Tmp_2170 := sdv_1343;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2158;
    assume {:nonnull} Tmp_2158 != 0;
    assume Tmp_2158 > 0;
    Stats_10 := Common__FILE_SYSTEM_STATISTICS(Tmp_2158 + Tmp_2170 * 240);
    goto anon619_Then, anon619_Else;

  anon619_Else:
    assume {:partition} TypeOfOpen_9 == 2;
    assume {:nonnull} Stats_10 != 0;
    assume Stats_10 > 0;
    assume {:nonnull} Stats_10 != 0;
    assume Stats_10 > 0;
    goto L92;

  L92:
    goto anon465_Then, anon465_Else;

  anon465_Else:
    assume {:partition} TypeOfOpen_9 == 2;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L82;

  L82:
    goto anon463_Then, anon463_Else;

  anon463_Else:
    assume {:partition} PagingIo != 0;
    goto L99;

  L99:
    goto anon468_Then, anon468_Else;

  anon468_Else:
    assume {:partition} NonCachedIo != 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto anon470_Then, anon470_Else;

  anon470_Else:
    goto L103;

  L103:
    call {:si_unique_call 2698} sdv_RtlZeroMemory(0, 36);
    goto anon472_Then, anon472_Else;

  anon472_Else:
    assume {:partition} Wait_10 != 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2189;
    assume {:nonnull} Tmp_2189 != 0;
    assume Tmp_2189 > 0;
    call {:si_unique_call 2699} KeInitializeEvent(SyncEvent_unnamed_tag_63(Wait__FAT_IO_CONTEXT(Tmp_2189)), 0, 0);
    goto L100;

  L100:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    goto anon469_Then, anon469_Else;

  anon469_Else:
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    call {:si_unique_call 2700} FatCompleteRequest_Real(IrpContext_137, Irp_62, -1073741431);
    Tmp_2147 := -1073741431;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon469_Then:
    goto anon473_Then, anon473_Else;

  anon473_Else:
    assume {:partition} TypeOfOpen_9 == 5;
    MoreDirtyRuns := 1;
    goto anon620_Then, anon620_Else;

  anon620_Else:
    assume {:partition} Wait_10 != 0;
    goto anon475_Then, anon475_Else;

  anon475_Else:
    sdv_1353 := 0;
    goto L146;

  L146:
    goto anon476_Then, anon476_Else;

  anon476_Else:
    assume {:partition} BAND(sdv_1353, 2) != 0;
    goto L148;

  L148:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_320;
    havoc vslice_dummy_var_321;
    call {:si_unique_call 2701} sdv_1341 := FatLookupMcbEntry(vslice_dummy_var_320, vslice_dummy_var_321, StartingVbo_7, DirtyLbo, DirtyByteCount, 0);
    goto anon477_Then, anon477_Else;

  anon477_Else:
    assume {:partition} sdv_1341 != 0;
    assume {:nonnull} DirtyLbo != 0;
    assume DirtyLbo > 0;
    goto anon478_Then, anon478_Else;

  anon478_Else:
    assume {:partition} Mem_T.INT4[DirtyLbo] != 0;
    goto L157;

  L157:
    assume {:nonnull} DirtyLbo != 0;
    assume DirtyLbo > 0;
    DirtyVbo := Mem_T.INT4[DirtyLbo];
    goto anon621_Then, anon621_Else;

  anon621_Else:
    assume {:partition} DirtyVbo != 0;
    goto L160;

  L160:
    StartingDirtyVbo := DirtyVbo;
    goto L161;

  L161:
    call {:si_unique_call 2702} Tmp_2151, MoreDirtyRuns, sdv_1340, DirtyVbo, sdv_1388 := FatCommonWrite_loop_L161(Tmp_2151, MoreDirtyRuns, DirtyLbo, sdv_1340, Vcb_87, DirtyVbo, CleanByteCount, StartingVbo_7, CleanLbo, DirtyByteCount, sdv_1388, ByteCount_20);
    goto L161_last;

  L161_last:
    goto anon480_Then, anon480_Else;

  anon480_Else:
    assume {:partition} MoreDirtyRuns != 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_322;
    havoc vslice_dummy_var_323;
    call {:si_unique_call 2703} sdv_1340 := FatLookupMcbEntry(vslice_dummy_var_322, vslice_dummy_var_323, DirtyVbo, DirtyLbo, DirtyByteCount, 0);
    goto anon481_Then, anon481_Else;

  anon481_Else:
    assume {:partition} sdv_1340 != 0;
    assume {:nonnull} DirtyLbo != 0;
    assume DirtyLbo > 0;
    DirtyVbo := Mem_T.INT4[DirtyLbo];
    assume {:nonnull} DirtyByteCount != 0;
    assume DirtyByteCount > 0;
    goto anon622_Then, anon622_Else;

  anon622_Else:
    assume {:partition} DirtyVbo + Mem_T.INT4[DirtyByteCount] >= StartingVbo_7 + ByteCount_20;
    assume {:nonnull} DirtyByteCount != 0;
    assume DirtyByteCount > 0;
    Mem_T.INT4[DirtyByteCount] := StartingVbo_7 + ByteCount_20 - DirtyVbo;
    MoreDirtyRuns := 0;
    goto anon622_Else_dummy;

  anon622_Else_dummy:
    assume false;
    return;

  anon622_Then:
    assume {:partition} StartingVbo_7 + ByteCount_20 > DirtyVbo + Mem_T.INT4[DirtyByteCount];
    assume {:nonnull} DirtyByteCount != 0;
    assume DirtyByteCount > 0;
    Tmp_2151 := DirtyVbo + Mem_T.INT4[DirtyByteCount];
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_324;
    havoc vslice_dummy_var_325;
    call {:si_unique_call 2704} sdv_1388 := FatLookupMcbEntry(vslice_dummy_var_324, vslice_dummy_var_325, Tmp_2151, CleanLbo, CleanByteCount, 0);
    goto anon482_Then, anon482_Else;

  anon482_Else:
    assume {:partition} sdv_1388 != 0;
    assume {:nonnull} CleanByteCount != 0;
    assume CleanByteCount > 0;
    assume {:nonnull} DirtyByteCount != 0;
    assume DirtyByteCount > 0;
    goto anon483_Then, anon483_Else;

  anon483_Else:
    assume {:partition} DirtyVbo + Mem_T.INT4[DirtyByteCount] + Mem_T.INT4[CleanByteCount] >= StartingVbo_7 + ByteCount_20;
    MoreDirtyRuns := 0;
    goto anon483_Else_dummy;

  anon483_Else_dummy:
    assume false;
    return;

  anon483_Then:
    assume {:partition} StartingVbo_7 + ByteCount_20 > DirtyVbo + Mem_T.INT4[DirtyByteCount] + Mem_T.INT4[CleanByteCount];
    assume {:nonnull} CleanByteCount != 0;
    assume CleanByteCount > 0;
    assume {:nonnull} DirtyByteCount != 0;
    assume DirtyByteCount > 0;
    DirtyVbo := DirtyVbo + Mem_T.INT4[DirtyByteCount] + Mem_T.INT4[CleanByteCount];
    goto anon483_Then_dummy;

  anon483_Then_dummy:
    assume false;
    return;

  anon482_Then:
    assume {:partition} sdv_1388 == 0;
    MoreDirtyRuns := 0;
    goto anon482_Then_dummy;

  anon482_Then_dummy:
    assume false;
    return;

  anon481_Then:
    assume {:partition} sdv_1340 == 0;
    assume {:nonnull} DirtyLbo != 0;
    assume DirtyLbo > 0;
    DirtyVbo := Mem_T.INT4[DirtyLbo];
    call {:si_unique_call 2705} KeBugCheckEx(35, 2163323, 0, 0, 0);
    goto anon481_Then_dummy;

  anon481_Then_dummy:
    assume false;
    return;

  anon480_Then:
    assume {:partition} MoreDirtyRuns == 0;
    assume {:nonnull} DirtyByteCount != 0;
    assume DirtyByteCount > 0;
    WriteLength := DirtyVbo + Mem_T.INT4[DirtyByteCount] - StartingDirtyVbo;
    assume {:nonnull} RaiseIosb_1 != 0;
    assume RaiseIosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb_1)] := 0;
    assume {:nonnull} RaiseIosb_1 != 0;
    assume RaiseIosb_1 > 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2153;
    assume {:nonnull} Tmp_2153 != 0;
    assume Tmp_2153 > 0;
    goto anon623_Then, anon623_Else;

  anon623_Else:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2217;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2198;
    assume {:nonnull} Tmp_2198 != 0;
    assume Tmp_2198 > 0;
    assume {:nonnull} Tmp_2217 != 0;
    assume Tmp_2217 > 0;
    havoc Tmp_2210;
    goto L193;

  L193:
    BytesPerFat := Tmp_2210;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    goto anon624_Then, anon624_Else;

  anon624_Else:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2150;
    call {:si_unique_call 2706} sdv_1377 := ExAllocatePoolWithTag(17, Tmp_2150, -378248890);
    IoRuns_2 := sdv_1377;
    goto L201;

  L201:
    Fat := 0;
    goto L202;

  L202:
    call {:si_unique_call 2707} Tmp_2164, Tmp_2169, Tmp_2186, Tmp_2191, Fat := FatCommonWrite_loop_L202(IoRuns_2, Tmp_2164, BytesPerFat, Tmp_2169, Vcb_87, WriteLength, Tmp_2186, Tmp_2191, StartingDirtyVbo, StartingVbo_7, Fat);
    goto L202_last;

  L202_last:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    goto anon484_Then, anon484_Else;

  anon484_Else:
    Tmp_2191 := Fat;
    assume {:nonnull} IoRuns_2 != 0;
    assume IoRuns_2 > 0;
    Tmp_2169 := Fat;
    assume {:nonnull} IoRuns_2 != 0;
    assume IoRuns_2 > 0;
    Tmp_2164 := Fat;
    assume {:nonnull} IoRuns_2 != 0;
    assume IoRuns_2 > 0;
    Tmp_2186 := Fat;
    assume {:nonnull} IoRuns_2 != 0;
    assume IoRuns_2 > 0;
    Fat := Fat + 1;
    goto anon484_Else_dummy;

  anon484_Else_dummy:
    assume false;
    return;

  anon484_Then:
    call {:si_unique_call 2708} sdv_1362 := KeGetCurrentProcessorNumber();
    Tmp_2196 := sdv_1362;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2214;
    Tmp_2167 := sdv_1362;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2159;
    assume {:nonnull} Tmp_2159 != 0;
    assume Tmp_2159 > 0;
    assume {:nonnull} Tmp_2214 != 0;
    assume Tmp_2214 > 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2190;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_326;
    call {:si_unique_call 2709} FatMultipleAsync(IrpContext_137, vslice_dummy_var_326, Irp_62, Tmp_2190, IoRuns_2);
    goto anon485_Then, anon485_Else;

  anon485_Else:
    assume {:partition} IoRuns_2 != StackIoRuns_1;
    call {:si_unique_call 2710} sdv_ExFreePool(0);
    goto L221;

  L221:
    call {:si_unique_call 2711} FatWaitSync(IrpContext_137);
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    goto anon486_Then, anon486_Else;

  anon486_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))] >= 0;
    goto L229;

  L229:
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    assume {:nonnull} RaiseIosb_1 != 0;
    assume RaiseIosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))] := Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb_1)];
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    assume {:nonnull} RaiseIosb_1 != 0;
    assume RaiseIosb_1 > 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    assume {:nonnull} RaiseIosb_1 != 0;
    assume RaiseIosb_1 > 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))];
    goto anon625_Then, anon625_Else;

  anon625_Else:
    assume {:partition} Status_50 >= 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_327;
    havoc vslice_dummy_var_328;
    call {:si_unique_call 2712} FatRemoveMcbEntry(vslice_dummy_var_327, vslice_dummy_var_328, StartingDirtyVbo, WriteLength);
    goto L236;

  L236:
    call {:si_unique_call 2713} FatCompleteRequest_Real(IrpContext_137, Irp_62, Status_50);
    Tmp_2147 := Status_50;
    goto L1;

  anon625_Then:
    assume {:partition} 0 > Status_50;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    call {:si_unique_call 2714} sdv_1332 := corral_nondet();
    call {:si_unique_call 2715} ExRaiseStatus(sdv_1332);
    goto L236;

  anon486_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))];
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    assume {:nonnull} RaiseIosb_1 != 0;
    assume RaiseIosb_1 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(RaiseIosb_1)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))];
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    assume {:nonnull} RaiseIosb_1 != 0;
    assume RaiseIosb_1 > 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    assume {:nonnull} RaiseIosb_1 != 0;
    assume RaiseIosb_1 > 0;
    goto L229;

  anon485_Then:
    assume {:partition} IoRuns_2 == StackIoRuns_1;
    goto L221;

  anon624_Then:
    IoRuns_2 := StackIoRuns_1;
    goto L201;

  anon623_Then:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2173;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2178;
    assume {:nonnull} Tmp_2173 != 0;
    assume Tmp_2173 > 0;
    assume {:nonnull} Tmp_2178 != 0;
    assume Tmp_2178 > 0;
    havoc Tmp_2210;
    goto L193;

  anon621_Then:
    assume {:partition} DirtyVbo == 0;
    assume {:nonnull} DirtyByteCount != 0;
    assume DirtyByteCount > 0;
    DirtyVbo := StartingVbo_7 + Mem_T.INT4[DirtyByteCount];
    goto L160;

  anon478_Then:
    assume {:partition} Mem_T.INT4[DirtyLbo] == 0;
    assume {:nonnull} DirtyByteCount != 0;
    assume DirtyByteCount > 0;
    goto anon479_Then, anon479_Else;

  anon479_Else:
    assume {:partition} Mem_T.INT4[DirtyByteCount] < ByteCount_20;
    goto L157;

  anon479_Then:
    assume {:partition} ByteCount_20 <= Mem_T.INT4[DirtyByteCount];
    goto L152;

  L152:
    call {:si_unique_call 2716} FatCompleteRequest_Real(IrpContext_137, Irp_62, 0);
    Tmp_2147 := 0;
    goto L1;

  anon477_Then:
    assume {:partition} sdv_1341 == 0;
    goto L152;

  anon476_Then:
    assume {:partition} BAND(sdv_1353, 2) == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L148;

  anon475_Then:
    call {:si_unique_call 2717} sdv_1353 := __HAVOC_malloc(1);
    goto L146;

  anon620_Then:
    assume {:partition} Wait_10 == 0;
    call {:si_unique_call 2718} Status_50 := FatFsdPostRequest(IrpContext_137, Irp_62);
    Tmp_2147 := Status_50;
    goto L1;

  anon473_Then:
    assume {:partition} TypeOfOpen_9 != 5;
    goto anon474_Then, anon474_Else;

  anon474_Else:
    assume {:partition} TypeOfOpen_9 == 4;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    goto anon488_Then, anon488_Else;

  anon488_Else:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2180;
    goto L255;

  L255:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc VolumeSize;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    havoc StartingLbo;
    assume {:nonnull} Ccb_30 != 0;
    assume Ccb_30 > 0;
    goto anon626_Then, anon626_Else;

  anon626_Else:
    goto L261;

  L261:
    assume {:nonnull} Ccb_30 != 0;
    assume Ccb_30 > 0;
    goto anon489_Then, anon489_Else;

  anon489_Else:
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2177;
    goto anon629_Then, anon629_Else;

  anon629_Else:
    assume {:partition} Tmp_2177 == 0;
    PreviousWait := 0;
    goto L1280;

  L1280:
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    Fcb_53 := 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_329;
    call {:si_unique_call 2719} vslice_dummy_var_392 := FatAcquireExclusiveVcb(IrpContext_137, vslice_dummy_var_329);
    goto anon630_Then, anon630_Else;

  anon630_Else:
    assume {:partition} yogi_error != 1;
    goto L316;

  L316:
    call {:si_unique_call 2720} Fcb_53, vslice_dummy_var_381 := FatCommonWrite_loop_L316(Vcb_87, Fcb_53, IrpContext_137, vslice_dummy_var_381);
    goto L316_last;

  L316_last:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_357;
    call {:si_unique_call 2815} Fcb_53 := FatGetNextFcbBottomUp(IrpContext_137, Fcb_53, vslice_dummy_var_357);
    goto anon498_Then, anon498_Else;

  anon498_Else:
    assume {:partition} Fcb_53 != 0;
    call {:si_unique_call 2721} vslice_dummy_var_381 := FatAcquireExclusiveFcb(IrpContext_137, Fcb_53);
    goto anon631_Then, anon631_Else;

  anon631_Else:
    assume {:partition} yogi_error != 1;
    goto anon631_Else_dummy;

  anon631_Else_dummy:
    assume false;
    return;

  anon631_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon498_Then:
    assume {:partition} Fcb_53 == 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    goto anon499_Then, anon499_Else;

  anon499_Else:
    goto L329;

  L329:
    Fcb_52 := 0;
    goto L330;

  L330:
    call {:si_unique_call 2722} Fcb_52 := FatCommonWrite_loop_L330(Fcb_52, Vcb_87, IrpContext_137);
    goto L330_last;

  L330_last:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_356;
    call {:si_unique_call 2814} Fcb_52 := FatGetNextFcbBottomUp(IrpContext_137, Fcb_52, vslice_dummy_var_356);
    goto anon500_Then, anon500_Else;

  anon500_Else:
    assume {:partition} Fcb_52 != 0;
    call {:si_unique_call 2723} ExReleaseResourceLite(0);
    goto anon500_Else_dummy;

  anon500_Else_dummy:
    assume false;
    return;

  anon500_Then:
    assume {:partition} Fcb_52 == 0;
    call {:si_unique_call 2724} ExReleaseResourceLite(0);
    goto anon501_Then, anon501_Else;

  anon501_Else:
    assume {:partition} PreviousWait != 0;
    goto L343;

  L343:
    assume {:nonnull} Ccb_30 != 0;
    assume Ccb_30 > 0;
    goto L263;

  L263:
    assume {:nonnull} Ccb_30 != 0;
    assume Ccb_30 > 0;
    goto anon490_Then, anon490_Else;

  anon490_Else:
    goto anon492_Then, anon492_Else;

  anon492_Else:
    assume {:partition} WriteToEof != 0;
    StartingLbo := VolumeSize;
    goto L266;

  L266:
    call {:si_unique_call 2725} FatLockUserBuffer(IrpContext_137, Irp_62, 0, ByteCount_20);
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_330;
    call {:si_unique_call 2726} FatSingleAsync(IrpContext_137, vslice_dummy_var_330, StartingLbo, ByteCount_20, Irp_62);
    goto anon493_Then, anon493_Else;

  anon493_Else:
    assume {:partition} Wait_10 != 0;
    call {:si_unique_call 2727} FatWaitSync(IrpContext_137);
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))];
    goto anon627_Then, anon627_Else;

  anon627_Else:
    assume {:partition} Status_50 >= 0;
    goto L282;

  L282:
    goto anon494_Then, anon494_Else;

  anon494_Else:
    assume {:partition} SynchronousIo != 0;
    goto anon495_Then, anon495_Else;

  anon495_Else:
    assume {:partition} PagingIo == 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    goto L283;

  L283:
    call {:si_unique_call 2728} FatCompleteRequest_Real(IrpContext_137, Irp_62, Status_50);
    Tmp_2147 := Status_50;
    goto L1;

  anon495_Then:
    assume {:partition} PagingIo != 0;
    goto L283;

  anon494_Then:
    assume {:partition} SynchronousIo == 0;
    goto L283;

  anon627_Then:
    assume {:partition} 0 > Status_50;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    call {:si_unique_call 2729} sdv_1345 := corral_nondet();
    call {:si_unique_call 2730} ExRaiseStatus(sdv_1345);
    goto L282;

  anon493_Then:
    assume {:partition} Wait_10 == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    call {:si_unique_call 2731} FatDeleteIrpContext_Real(IrpContext_137);
    Tmp_2147 := 259;
    goto L1;

  anon492_Then:
    assume {:partition} WriteToEof == 0;
    goto L266;

  anon490_Then:
    goto anon491_Then, anon491_Else;

  anon491_Else:
    assume {:partition} WriteToEof != 0;
    goto L300;

  L300:
    call {:si_unique_call 2732} FatCompleteRequest_Real(IrpContext_137, Irp_62, 0);
    Tmp_2147 := 0;
    goto L1;

  anon491_Then:
    assume {:partition} WriteToEof == 0;
    goto anon496_Then, anon496_Else;

  anon496_Else:
    assume {:partition} StartingLbo < VolumeSize;
    goto anon497_Then, anon497_Else;

  anon497_Else:
    assume {:partition} ByteCount_20 > VolumeSize - StartingLbo;
    ByteCount_20 := VolumeSize - StartingLbo;
    goto anon628_Then, anon628_Else;

  anon628_Else:
    assume {:partition} Wait_10 == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2222;
    assume {:nonnull} Tmp_2222 != 0;
    assume Tmp_2222 > 0;
    goto L266;

  anon628_Then:
    assume {:partition} Wait_10 != 0;
    goto L266;

  anon497_Then:
    assume {:partition} VolumeSize - StartingLbo >= ByteCount_20;
    goto L266;

  anon496_Then:
    assume {:partition} VolumeSize <= StartingLbo;
    goto L300;

  anon501_Then:
    assume {:partition} PreviousWait == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L343;

  anon499_Then:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_331;
    call {:si_unique_call 2733} vslice_dummy_var_382 := FatFlushFat(IrpContext_137, vslice_dummy_var_331);
    call {:si_unique_call 2734} vslice_dummy_var_383 := corral_nondet();
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_332;
    call {:si_unique_call 2735} FatPurgeReferencedFileObjects(IrpContext_137, vslice_dummy_var_332, 1);
    goto anon632_Then, anon632_Else;

  anon632_Else:
    assume {:partition} yogi_error != 1;
    goto L329;

  anon632_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon630_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon629_Then:
    assume {:partition} Tmp_2177 != 0;
    PreviousWait := 1;
    goto L1280;

  anon489_Then:
    goto L263;

  anon626_Then:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_333;
    call {:si_unique_call 2736} FatQuickVerifyVcb(IrpContext_137, vslice_dummy_var_333);
    goto L261;

  anon488_Then:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc Tmp_2180;
    goto L255;

  anon474_Then:
    assume {:partition} TypeOfOpen_9 != 4;
    goto anon487_Then, anon487_Else;

  anon487_Else:
    assume {:partition} TypeOfOpen_9 == 2;
    goto anon503_Then, anon503_Else;

  anon503_Else:
    assume {:partition} NonCachedIo != 0;
    goto anon505_Then, anon505_Else;

  anon505_Else:
    assume {:partition} PagingIo == 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    havoc Tmp_2224;
    assume {:nonnull} Tmp_2224 != 0;
    assume Tmp_2224 > 0;
    goto anon676_Then, anon676_Else;

  anon676_Else:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_334;
    call {:si_unique_call 2737} sdv_1387 := FatAcquireExclusiveFcb(IrpContext_137, vslice_dummy_var_334);
    goto anon677_Then, anon677_Else;

  anon677_Else:
    assume {:partition} yogi_error != 1;
    goto anon506_Then, anon506_Else;

  anon506_Else:
    assume {:partition} sdv_1387 != 0;
    FcbOrDcbAcquired := 1;
    FcbAcquiredExclusive := 1;
    call {:si_unique_call 2738} vslice_dummy_var_396 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon678_Then, anon678_Else;

  anon678_Else:
    assume {:partition} yogi_error != 1;
    goto anon507_Then, anon507_Else;

  anon507_Else:
    assume {:partition} WriteToEof != 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto L424;

  L424:
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    goto anon508_Then, anon508_Else;

  anon508_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))] >= 0;
    PagingIoResourceAcquired := 1;
    goto anon679_Then, anon679_Else;

  anon679_Else:
    assume {:partition} WriteToEof != 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto L435;

  L435:
    call {:si_unique_call 2739} vslice_dummy_var_384 := corral_nondet();
    FcbCanDemoteToShared := 1;
    goto L370;

  L370:
    goto anon504_Then, anon504_Else;

  anon504_Else:
    assume {:partition} PagingIo != 0;
    call {:si_unique_call 2740} vslice_dummy_var_387 := ExAcquireResourceSharedLite(0, 1);
    goto anon633_Then, anon633_Else;

  anon633_Else:
    assume {:partition} yogi_error != 1;
    PagingIoResourceAcquired := 1;
    goto anon634_Then, anon634_Else;

  anon634_Else:
    assume {:partition} Wait_10 != 0;
    goto L547;

  L547:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon535_Then, anon535_Else;

  anon535_Else:
    call {:si_unique_call 2741} vslice_dummy_var_388 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    goto L548;

  L548:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc ValidDataToDisk;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc ValidDataLength_1;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc FileSize;
    goto anon635_Then, anon635_Else;

  anon635_Else:
    assume {:partition} PagingIo != 0;
    goto anon536_Then, anon536_Else;

  anon536_Else:
    assume {:partition} StartingVbo_7 >= FileSize;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := 0;
    goto L441;

  L441:
    goto anon509_Then, anon509_Else;

  anon509_Else:
    assume {:partition} Irp_62 != 0;
    goto anon510_Then, anon510_Else;

  anon510_Else:
    assume {:partition} PostIrp_1 == 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    havoc ActualBytesWrote;
    goto anon640_Then, anon640_Else;

  anon640_Else:
    assume {:partition} SynchronousIo != 0;
    goto anon514_Then, anon514_Else;

  anon514_Else:
    assume {:partition} PagingIo == 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    goto L467;

  L467:
    goto anon513_Then, anon513_Else;

  anon513_Else:
    assume {:partition} Status_50 >= 0;
    goto anon515_Then, anon515_Else;

  anon515_Else:
    assume {:partition} PagingIo != 0;
    goto L475;

  L475:
    goto anon516_Then, anon516_Else;

  anon516_Else:
    assume {:partition} ExtendingFile != 0;
    goto anon518_Then, anon518_Else;

  anon518_Else:
    assume {:partition} WriteFileSizeToDirent != 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_335;
    call {:si_unique_call 2742} FatSetFileSizeInDirent(IrpContext_137, vslice_dummy_var_335, 0);
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon519_Then, anon519_Else;

  anon519_Else:
    goto L485;

  L485:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2219;
    call {:si_unique_call 2743} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_2219, 0, 0, 8, 3, 0);
    goto L476;

  L476:
    goto anon517_Then, anon517_Else;

  anon517_Else:
    assume {:partition} ExtendingFile != 0;
    goto anon521_Then, anon521_Else;

  anon521_Else:
    assume {:partition} WriteFileSizeToDirent == 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    goto L489;

  L489:
    goto anon520_Then, anon520_Else;

  anon520_Else:
    assume {:partition} ExtendingValidData != 0;
    EndingVboWritten := StartingVbo_7 + ActualBytesWrote;
    goto anon641_Then, anon641_Else;

  anon641_Else:
    assume {:partition} EndingVboWritten > FileSize;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto L497;

  L497:
    goto anon522_Then, anon522_Else;

  anon522_Else:
    assume {:partition} NonCachedIo != 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    goto anon523_Then, anon523_Else;

  anon523_Else:
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    havoc Tmp_2161;
    assume {:nonnull} Tmp_2161 != 0;
    assume Tmp_2161 > 0;
    goto anon642_Then, anon642_Else;

  anon642_Else:
    goto L470;

  L470:
    call {:si_unique_call 2744} FatUnpinRepinnedBcbs(IrpContext_137);
    goto L442;

  L442:
    call {:si_unique_call 2745} sdv_1369 := sdv_AbnormalTermination();
    goto anon524_Then, anon524_Else;

  anon524_Else:
    assume {:partition} sdv_1369 != 0;
    goto anon526_Then, anon526_Else;

  anon526_Else:
    assume {:partition} ExtendingFile != 0;
    goto L507;

  L507:
    call {:si_unique_call 2746} vslice_dummy_var_386 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon636_Then, anon636_Else;

  anon636_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    havoc Tmp_2165;
    assume {:nonnull} Tmp_2165 != 0;
    assume Tmp_2165 > 0;
    goto anon637_Then, anon637_Else;

  anon637_Else:
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    havoc Tmp_2204;
    assume {:nonnull} Tmp_2204 != 0;
    assume Tmp_2204 > 0;
    havoc Tmp_2157;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2157 != 0;
    assume Tmp_2157 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2157 != 0;
    assume Tmp_2157 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2157 != 0;
    assume Tmp_2157 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2157 != 0;
    assume Tmp_2157 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2157 != 0;
    assume Tmp_2157 > 0;
    goto L513;

  L513:
    call {:si_unique_call 2747} ExReleaseResourceLite(0);
    goto L504;

  L504:
    goto anon525_Then, anon525_Else;

  anon525_Else:
    assume {:partition} UnwindOutstandingAsync != 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    call {:si_unique_call 2748} vslice_dummy_var_393 := corral_nondet();
    goto L517;

  L517:
    goto anon528_Then, anon528_Else;

  anon528_Else:
    assume {:partition} FcbOrDcbAcquired != 0;
    goto anon530_Then, anon530_Else;

  anon530_Else:
    assume {:partition} Irp_62 != 0;
    call {:si_unique_call 2749} ExReleaseResourceLite(0);
    goto L521;

  L521:
    goto anon529_Then, anon529_Else;

  anon529_Else:
    assume {:partition} PagingIoResourceAcquired != 0;
    goto anon532_Then, anon532_Else;

  anon532_Else:
    assume {:partition} Irp_62 != 0;
    call {:si_unique_call 2750} ExReleaseResourceLite(0);
    goto L526;

  L526:
    goto anon531_Then, anon531_Else;

  anon531_Else:
    assume {:partition} PostIrp_1 != 0;
    goto L534;

  L534:
    Tmp_2147 := Status_50;
    goto L1;

  anon531_Then:
    assume {:partition} PostIrp_1 == 0;
    call {:si_unique_call 2751} sdv_1324 := sdv_AbnormalTermination();
    goto anon533_Then, anon533_Else;

  anon533_Else:
    assume {:partition} sdv_1324 == 0;
    call {:si_unique_call 2752} FatCompleteRequest_Real(IrpContext_137, Irp_62, Status_50);
    goto L534;

  anon533_Then:
    assume {:partition} sdv_1324 != 0;
    goto L534;

  anon532_Then:
    assume {:partition} Irp_62 == 0;
    goto L526;

  anon529_Then:
    assume {:partition} PagingIoResourceAcquired == 0;
    goto L526;

  anon530_Then:
    assume {:partition} Irp_62 == 0;
    goto L521;

  anon528_Then:
    assume {:partition} FcbOrDcbAcquired == 0;
    goto L521;

  anon525_Then:
    assume {:partition} UnwindOutstandingAsync == 0;
    goto L517;

  anon637_Then:
    goto L513;

  anon636_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon526_Then:
    assume {:partition} ExtendingFile == 0;
    goto anon527_Then, anon527_Else;

  anon527_Else:
    assume {:partition} ExtendingValidData != 0;
    goto L507;

  anon527_Then:
    assume {:partition} ExtendingValidData == 0;
    goto L504;

  anon524_Then:
    assume {:partition} sdv_1369 == 0;
    goto L504;

  anon642_Then:
    goto L470;

  anon523_Then:
    goto L470;

  anon522_Then:
    assume {:partition} NonCachedIo == 0;
    goto L470;

  anon641_Then:
    assume {:partition} FileSize >= EndingVboWritten;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto L497;

  anon520_Then:
    assume {:partition} ExtendingValidData == 0;
    goto L470;

  anon521_Then:
    assume {:partition} WriteFileSizeToDirent != 0;
    goto L489;

  anon517_Then:
    assume {:partition} ExtendingFile == 0;
    goto L489;

  anon519_Then:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_336;
    call {:si_unique_call 2753} FatSetFullFileNameInFcb#1(IrpContext_137, vslice_dummy_var_336);
    goto L485;

  anon518_Then:
    assume {:partition} WriteFileSizeToDirent == 0;
    goto L476;

  anon516_Then:
    assume {:partition} ExtendingFile == 0;
    goto L476;

  anon515_Then:
    assume {:partition} PagingIo == 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    goto L475;

  anon513_Then:
    assume {:partition} 0 > Status_50;
    goto L470;

  anon514_Then:
    assume {:partition} PagingIo != 0;
    goto L467;

  anon640_Then:
    assume {:partition} SynchronousIo == 0;
    goto L467;

  anon510_Then:
    assume {:partition} PostIrp_1 != 0;
    goto anon511_Then, anon511_Else;

  anon511_Else:
    assume {:partition} OplockPostIrp_2 == 0;
    call {:si_unique_call 2754} FatUnpinRepinnedBcbs(IrpContext_137);
    goto anon512_Then, anon512_Else;

  anon512_Else:
    assume {:partition} ExtendingFile != 0;
    call {:si_unique_call 2755} vslice_dummy_var_385 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon638_Then, anon638_Else;

  anon638_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    havoc Tmp_2174;
    assume {:nonnull} Tmp_2174 != 0;
    assume Tmp_2174 > 0;
    goto anon639_Then, anon639_Else;

  anon639_Else:
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    havoc Tmp_2183;
    assume {:nonnull} Tmp_2183 != 0;
    assume Tmp_2183 > 0;
    havoc Tmp_2155;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2155 != 0;
    assume Tmp_2155 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2155 != 0;
    assume Tmp_2155 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2155 != 0;
    assume Tmp_2155 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2155 != 0;
    assume Tmp_2155 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2155 != 0;
    assume Tmp_2155 > 0;
    goto L460;

  L460:
    call {:si_unique_call 2756} ExReleaseResourceLite(0);
    goto L452;

  L452:
    call {:si_unique_call 2757} Status_50 := FatFsdPostRequest(IrpContext_137, Irp_62);
    goto L442;

  anon639_Then:
    goto L460;

  anon638_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon512_Then:
    assume {:partition} ExtendingFile == 0;
    goto L452;

  anon511_Then:
    assume {:partition} OplockPostIrp_2 != 0;
    goto L442;

  anon509_Then:
    assume {:partition} Irp_62 == 0;
    goto L442;

  anon536_Then:
    assume {:partition} FileSize > StartingVbo_7;
    goto anon537_Then, anon537_Else;

  anon537_Else:
    assume {:partition} ByteCount_20 > FileSize - StartingVbo_7;
    ByteCount_20 := FileSize - StartingVbo_7;
    goto L555;

  L555:
    call {:si_unique_call 2758} sdv_1366 := PsGetCurrentThread();
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon538_Then, anon538_Else;

  anon538_Else:
    CalledByLazyWriter := 1;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon643_Then, anon643_Else;

  anon643_Else:
    goto anon540_Then, anon540_Else;

  anon540_Else:
    assume {:partition} StartingVbo_7 + ByteCount_20 > ValidDataLength_1;
    goto anon541_Then, anon541_Else;

  anon541_Else:
    assume {:partition} FileSize > StartingVbo_7;
    Tmp_2195 := BAND(ValidDataLength_1 + 4096 - 1, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    goto anon644_Then, anon644_Else;

  anon644_Else:
    assume {:partition} StartingVbo_7 + ByteCount_20 > Tmp_2195;
    Status_50 := -1073741740;
    goto L441;

  anon644_Then:
    assume {:partition} Tmp_2195 >= StartingVbo_7 + ByteCount_20;
    goto L565;

  L565:
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    goto anon539_Then, anon539_Else;

  anon539_Else:
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto anon543_Then, anon543_Else;

  anon543_Else:
    goto anon544_Then, anon544_Else;

  anon544_Else:
    TopIrp := 0;
    goto L581;

  L581:
    goto anon545_Then, anon545_Else;

  anon545_Else:
    assume {:partition} TopIrp > 65535;
    Tmp_2148 := TopIrp;
    assume {:nonnull} Tmp_2148 != 0;
    assume Tmp_2148 > 0;
    goto anon645_Then, anon645_Else;

  anon645_Else:
    assume {:partition} Mem_T.INT4[Tmp_2148] == 6;
    call {:si_unique_call 2759} IrpStack := sdv_IoGetCurrentIrpStackLocation(TopIrp);
    assume {:nonnull} IrpStack != 0;
    assume IrpStack > 0;
    goto anon546_Then, anon546_Else;

  anon546_Else:
    assume {:nonnull} IrpStack != 0;
    assume IrpStack > 0;
    havoc Tmp_2162;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    assume {:nonnull} Tmp_2162 != 0;
    assume Tmp_2162 > 0;
    goto anon646_Then, anon646_Else;

  anon646_Else:
    RecursiveWriteThrough := 1;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L574;

  L574:
    goto anon542_Then, anon542_Else;

  anon542_Else:
    assume {:partition} CalledByLazyWriter != 0;
    goto L593;

  L593:
    goto anon548_Then, anon548_Else;

  anon548_Else:
    assume {:partition} NonCachedIo != 0;
    goto anon549_Then, anon549_Else;

  anon549_Else:
    assume {:partition} Wait_10 == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2160;
    assume {:nonnull} Tmp_2160 != 0;
    assume Tmp_2160 > 0;
    goto L594;

  L594:
    InitialFileSize_1 := FileSize;
    InitialValidDataLength_1 := ValidDataLength_1;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_337;
    call {:si_unique_call 2760} FatVerifyFcb(IrpContext_137, vslice_dummy_var_337);
    goto anon550_Then, anon550_Else;

  anon550_Else:
    assume {:partition} WriteToEof != 0;
    StartingVbo_7 := FileSize;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_338;
    call {:si_unique_call 2761} sdv_1325 := FatIsIoRangeValid(vslice_dummy_var_338, StartingByte, ByteCount_20);
    goto anon552_Then, anon552_Else;

  anon552_Else:
    assume {:partition} sdv_1325 == 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := -1073741697;
    goto L441;

  anon552_Then:
    assume {:partition} sdv_1325 != 0;
    goto L602;

  L602:
    goto anon551_Then, anon551_Else;

  anon551_Else:
    assume {:partition} PagingIo != 0;
    goto L613;

  L613:
    goto anon554_Then, anon554_Else;

  anon554_Else:
    assume {:partition} PagingIo != 0;
    goto L615;

  L615:
    goto anon556_Then, anon556_Else;

  anon556_Else:
    assume {:partition} ExtendingFile != 0;
    FileSize := StartingVbo_7 + ByteCount_20;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon647_Then, anon647_Else;

  anon647_Else:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_339;
    call {:si_unique_call 2762} FatLookupFileAllocationSize#1(IrpContext_137, vslice_dummy_var_339);
    goto L619;

  L619:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon558_Then, anon558_Else;

  anon558_Else:
    AllocateMinimumSize := 1;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon648_Then, anon648_Else;

  anon648_Else:
    call {:si_unique_call 2763} BytesPerCluster_4 := corral_nondet();
    ClusterAlignedFileSize := BAND(FileSize + BytesPerCluster_4 - 1, BNOT(BytesPerCluster_4 - 1));
    goto anon649_Then, anon649_Else;

  anon649_Else:
    assume {:partition} ClusterAlignedFileSize != 0;
    call {:si_unique_call 2764} Multiplier := corral_nondet();
    goto anon650_Then, anon650_Else;

  anon650_Else:
    assume {:partition} Multiplier > 32;
    Multiplier := 32;
    goto L638;

  L638:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Multiplier;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc TargetAllocation;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon651_Then, anon651_Else;

  anon651_Else:
    TargetAllocation := BNOT(BytesPerCluster_4) + 1;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Multiplier;
    goto L642;

  L642:
    ApproximateClusterCount := INTDIV(Multiplier, BytesPerCluster_4);
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    goto anon652_Then, anon652_Else;

  anon652_Else:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_340;
    call {:si_unique_call 2765} FatAddFileAllocation(IrpContext_137, vslice_dummy_var_340, FileObject_38, TargetAllocation);
    goto anon653_Then, anon653_Else;

  anon653_Else:
    assume {:partition} yogi_error != 1;
    AllocateMinimumSize := 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto L627;

  L627:
    goto anon559_Then, anon559_Else;

  anon559_Else:
    assume {:partition} AllocateMinimumSize != 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_341;
    call {:si_unique_call 2766} FatAddFileAllocation(IrpContext_137, vslice_dummy_var_341, FileObject_38, FileSize);
    goto anon654_Then, anon654_Else;

  anon654_Else:
    assume {:partition} yogi_error != 1;
    goto L623;

  L623:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    goto anon655_Then, anon655_Else;

  anon655_Else:
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    havoc Tmp_2192;
    assume {:nonnull} Tmp_2192 != 0;
    assume Tmp_2192 > 0;
    goto anon656_Then, anon656_Else;

  anon656_Else:
    goto L616;

  L616:
    goto anon557_Then, anon557_Else;

  anon557_Else:
    assume {:partition} CalledByLazyWriter != 0;
    goto L668;

  L668:
    goto anon561_Then, anon561_Else;

  anon561_Else:
    assume {:partition} FcbCanDemoteToShared != 0;
    call {:si_unique_call 2767} ExConvertExclusiveToSharedLite(0);
    goto anon657_Then, anon657_Else;

  anon657_Else:
    assume {:partition} yogi_error != 1;
    FcbAcquiredExclusive := 0;
    goto L669;

  L669:
    goto anon562_Then, anon562_Else;

  anon562_Else:
    assume {:partition} ValidDataToDisk > ValidDataLength_1;
    ValidDataToCheck := ValidDataToDisk;
    goto L676;

  L676:
    goto anon563_Then, anon563_Else;

  anon563_Else:
    assume {:partition} NonCachedIo != 0;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc SectorSize_6;
    BytesToWrite_2 := BAND(ByteCount_20 + SectorSize_6 - 1, BNOT(SectorSize_6 - 1));
    goto anon658_Then, anon658_Else;

  anon658_Else:
    assume {:partition} BAND(StartingVbo_7, SectorSize_6 - 1) != 0;
    goto L684;

  L684:
    Status_50 := -1073741822;
    goto L441;

  anon658_Then:
    assume {:partition} BAND(StartingVbo_7, SectorSize_6 - 1) == 0;
    goto anon565_Then, anon565_Else;

  anon565_Else:
    assume {:partition} BytesToWrite_2 != ByteCount_20;
    goto anon567_Then, anon567_Else;

  anon567_Else:
    assume {:partition} ValidDataLength_1 <= StartingVbo_7 + ByteCount_20;
    goto L686;

  L686:
    goto anon566_Then, anon566_Else;

  anon566_Else:
    assume {:partition} CalledByLazyWriter != 0;
    goto L689;

  L689:
    WriteFileSizeToDirent := 1;
    goto anon659_Then, anon659_Else;

  anon659_Else:
    assume {:partition} SwitchBackToAsync != 0;
    Wait_10 := 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L691;

  L691:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_342;
    call {:si_unique_call 2768} sdv_1356 := FatNonCachedIo(IrpContext_137, Irp_62, vslice_dummy_var_342, StartingVbo_7, BytesToWrite_2, BytesToWrite_2);
    goto anon569_Then, anon569_Else;

  anon569_Else:
    assume {:partition} sdv_1356 == 259;
    UnwindOutstandingAsync := 0;
    Wait_10 := 1;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    Irp_62 := 0;
    Status_50 := 259;
    goto L441;

  anon569_Then:
    assume {:partition} sdv_1356 != 259;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))];
    goto anon660_Then, anon660_Else;

  anon660_Else:
    assume {:partition} Status_50 >= 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Temp := StartingVbo_7 + BytesToWrite_2;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon661_Then, anon661_Else;

  anon661_Else:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto L441;

  anon661_Then:
    goto L441;

  anon660_Then:
    assume {:partition} 0 > Status_50;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    call {:si_unique_call 2769} sdv_1363 := corral_nondet();
    call {:si_unique_call 2770} ExRaiseStatus(sdv_1363);
    goto L441;

  anon659_Then:
    assume {:partition} SwitchBackToAsync == 0;
    goto L691;

  anon566_Then:
    assume {:partition} CalledByLazyWriter == 0;
    goto anon568_Then, anon568_Else;

  anon568_Else:
    assume {:partition} RecursiveWriteThrough == 0;
    goto anon570_Then, anon570_Else;

  anon570_Else:
    assume {:partition} StartingVbo_7 > ValidDataToCheck;
    Tmp_2218 := StartingVbo_7 - ValidDataToCheck;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_343;
    call {:si_unique_call 2771} vslice_dummy_var_394 := FatZeroData(IrpContext_137, vslice_dummy_var_343, FileObject_38, ValidDataToCheck, Tmp_2218);
    goto L689;

  anon570_Then:
    assume {:partition} ValidDataToCheck >= StartingVbo_7;
    goto L689;

  anon568_Then:
    assume {:partition} RecursiveWriteThrough != 0;
    goto L689;

  anon567_Then:
    assume {:partition} StartingVbo_7 + ByteCount_20 < ValidDataLength_1;
    goto L684;

  anon565_Then:
    assume {:partition} BytesToWrite_2 == ByteCount_20;
    goto L686;

  anon563_Then:
    assume {:partition} NonCachedIo == 0;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    goto anon564_Then, anon564_Else;

  anon564_Else:
    goto L725;

  L725:
    goto anon572_Then, anon572_Else;

  anon572_Else:
    assume {:partition} StartingVbo_7 > ValidDataToCheck;
    Tmp_2172 := StartingVbo_7 - ValidDataToCheck;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_344;
    call {:si_unique_call 2772} sdv_1373 := FatZeroData(IrpContext_137, vslice_dummy_var_344, FileObject_38, ValidDataToCheck, Tmp_2172);
    goto anon573_Then, anon573_Else;

  anon573_Else:
    assume {:partition} sdv_1373 == 0;
    PostIrp_1 := 1;
    goto L441;

  anon573_Then:
    assume {:partition} sdv_1373 != 0;
    goto L726;

  L726:
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2182;
    goto anon662_Then, anon662_Else;

  anon662_Else:
    assume {:partition} Tmp_2182 == 0;
    WriteFileSizeToDirent := 0;
    goto L1377;

  L1377:
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto anon663_Then, anon663_Else;

  anon663_Else:
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))];
    goto L441;

  anon663_Then:
    call {:si_unique_call 2773} vslice_dummy_var_389 := FatMapUserBuffer(IrpContext_137, Irp_62);
    call {:si_unique_call 2774} sdv_1357 := corral_nondet();
    goto anon574_Then, anon574_Else;

  anon574_Else:
    assume {:partition} sdv_1357 != 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))] := 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := 0;
    goto L441;

  anon574_Then:
    assume {:partition} sdv_1357 == 0;
    PostIrp_1 := 1;
    goto L441;

  anon662_Then:
    assume {:partition} Tmp_2182 != 0;
    WriteFileSizeToDirent := 1;
    goto L1377;

  anon572_Then:
    assume {:partition} ValidDataToCheck >= StartingVbo_7;
    goto L726;

  anon564_Then:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon571_Then, anon571_Else;

  anon571_Else:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_345;
    call {:si_unique_call 2775} FatLookupFileAllocationSize#1(IrpContext_137, vslice_dummy_var_345);
    goto L755;

  L755:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon575_Then, anon575_Else;

  anon575_Else:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_346;
    call {:si_unique_call 2776} FatPopUpFileCorrupt#1(IrpContext_137, vslice_dummy_var_346);
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    call {:si_unique_call 2777} ExRaiseStatus(-1073741566);
    goto L759;

  L759:
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    goto anon576_Then, anon576_Else;

  anon576_Else:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    goto anon577_Then, anon577_Else;

  anon577_Else:
    assume {:nonnull} StartingByte != 0;
    assume StartingByte > 0;
    goto anon578_Then, anon578_Else;

  anon578_Else:
    goto L778;

  L778:
    call {:si_unique_call 2778} sdv_1374 := ExAllocatePoolWithTag(16, 96, -428580538);
    FlushContext := sdv_1374;
    call {:si_unique_call 2779} KeInitializeTimer(0);
    assume {:nonnull} FlushContext != 0;
    assume FlushContext > 0;
    call {:si_unique_call 2780} KeInitializeDpc(Dpc__DEFERRED_FLUSH_CONTEXT(FlushContext), li2bplFunctionConstant662, 0);
    call {:si_unique_call 2781} vslice_dummy_var_390 := sdv_ObReferenceObject(0);
    assume {:nonnull} FlushContext != 0;
    assume FlushContext > 0;
    assume {:nonnull} OneSecondFromNow != 0;
    assume OneSecondFromNow > 0;
    call {:si_unique_call 2782} vslice_dummy_var_395 := KeSetTimer(0, OneSecondFromNow, 0);
    goto L725;

  anon578_Then:
    goto anon579_Then, anon579_Else;

  anon579_Else:
    assume {:partition} ByteCount_20 >= 4096;
    assume {:nonnull} FileObject_38 != 0;
    assume FileObject_38 > 0;
    goto L725;

  anon579_Then:
    assume {:partition} 4096 > ByteCount_20;
    goto L778;

  anon577_Then:
    goto L725;

  anon576_Then:
    goto L725;

  anon575_Then:
    goto L759;

  anon571_Then:
    goto L755;

  anon562_Then:
    assume {:partition} ValidDataLength_1 >= ValidDataToDisk;
    ValidDataToCheck := ValidDataLength_1;
    goto L676;

  anon657_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon561_Then:
    assume {:partition} FcbCanDemoteToShared == 0;
    goto L669;

  anon557_Then:
    assume {:partition} CalledByLazyWriter == 0;
    goto anon560_Then, anon560_Else;

  anon560_Else:
    assume {:partition} RecursiveWriteThrough == 0;
    goto anon580_Then, anon580_Else;

  anon580_Else:
    assume {:partition} StartingVbo_7 + ByteCount_20 > ValidDataLength_1;
    ExtendingValidData := 1;
    goto L669;

  anon580_Then:
    assume {:partition} ValidDataLength_1 >= StartingVbo_7 + ByteCount_20;
    goto L668;

  anon560_Then:
    assume {:partition} RecursiveWriteThrough != 0;
    goto L668;

  anon656_Then:
    goto L616;

  anon655_Then:
    goto L616;

  anon654_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon559_Then:
    assume {:partition} AllocateMinimumSize == 0;
    goto L623;

  anon653_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon652_Then:
    goto L627;

  anon651_Then:
    goto L642;

  anon650_Then:
    assume {:partition} 32 >= Multiplier;
    goto L638;

  anon649_Then:
    assume {:partition} ClusterAlignedFileSize == 0;
    goto L627;

  anon648_Then:
    goto L627;

  anon558_Then:
    goto L623;

  anon647_Then:
    goto L619;

  anon556_Then:
    assume {:partition} ExtendingFile == 0;
    goto L616;

  anon554_Then:
    assume {:partition} PagingIo == 0;
    goto anon555_Then, anon555_Else;

  anon555_Else:
    assume {:partition} StartingVbo_7 + ByteCount_20 > FileSize;
    ExtendingFile := 1;
    goto L615;

  anon555_Then:
    assume {:partition} FileSize >= StartingVbo_7 + ByteCount_20;
    goto L615;

  anon551_Then:
    assume {:partition} PagingIo == 0;
    goto anon553_Then, anon553_Else;

  anon553_Else:
    assume {:partition} TypeOfOpen_9 == 2;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    call {:si_unique_call 2783} Status_50 := corral_nondet();
    goto anon581_Then, anon581_Else;

  anon581_Else:
    assume {:partition} Status_50 != 0;
    OplockPostIrp_2 := 1;
    PostIrp_1 := 1;
    goto L441;

  anon581_Then:
    assume {:partition} Status_50 == 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon582_Then, anon582_Else;

  anon582_Else:
    goto L810;

  L810:
    call {:si_unique_call 2784} sdv_1336 := FsRtlCheckLockForWriteAccess(0, 0);
    goto anon584_Then, anon584_Else;

  anon584_Else:
    assume {:partition} sdv_1336 == 0;
    Status_50 := -1073741740;
    goto L441;

  anon584_Then:
    assume {:partition} sdv_1336 != 0;
    goto L613;

  anon582_Then:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon583_Then, anon583_Else;

  anon583_Else:
    goto L819;

  L819:
    Tmp_2185 := 0;
    goto L820;

  L820:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto L810;

  anon583_Then:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    call {:si_unique_call 2785} sdv_1386 := corral_nondet();
    goto anon585_Then, anon585_Else;

  anon585_Else:
    assume {:partition} sdv_1386 != 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2152;
    assume {:nonnull} Tmp_2152 != 0;
    assume Tmp_2152 > 0;
    goto anon664_Then, anon664_Else;

  anon664_Else:
    goto L824;

  L824:
    Tmp_2207 := 2;
    goto L825;

  L825:
    Tmp_2185 := Tmp_2207;
    goto L820;

  anon664_Then:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2199;
    assume {:nonnull} Tmp_2199 != 0;
    assume Tmp_2199 > 0;
    goto anon665_Then, anon665_Else;

  anon665_Else:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2163;
    assume {:nonnull} Tmp_2163 != 0;
    assume Tmp_2163 > 0;
    goto anon666_Then, anon666_Else;

  anon666_Else:
    Tmp_2207 := 1;
    goto L825;

  anon666_Then:
    goto L824;

  anon665_Then:
    goto L824;

  anon585_Then:
    assume {:partition} sdv_1386 == 0;
    goto L819;

  anon553_Then:
    assume {:partition} TypeOfOpen_9 != 2;
    goto L613;

  anon550_Then:
    assume {:partition} WriteToEof == 0;
    goto L602;

  anon549_Then:
    assume {:partition} Wait_10 != 0;
    goto L594;

  anon548_Then:
    assume {:partition} NonCachedIo == 0;
    goto L594;

  anon542_Then:
    assume {:partition} CalledByLazyWriter == 0;
    goto anon547_Then, anon547_Else;

  anon547_Else:
    assume {:partition} RecursiveWriteThrough == 0;
    goto anon586_Then, anon586_Else;

  anon586_Else:
    assume {:partition} WriteToEof != 0;
    goto L830;

  L830:
    goto anon588_Then, anon588_Else;

  anon588_Else:
    assume {:partition} Wait_10 != 0;
    goto L832;

  L832:
    goto anon589_Then, anon589_Else;

  anon589_Else:
    assume {:partition} PagingIo != 0;
    call {:si_unique_call 2786} ExReleaseResourceLite(0);
    PagingIoResourceAcquired := 0;
    goto L838;

  L838:
    goto anon591_Then, anon591_Else;

  anon591_Else:
    assume {:partition} SwitchBackToAsync != 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2215;
    assume {:nonnull} Tmp_2215 != 0;
    assume Tmp_2215 > 0;
    goto anon667_Then, anon667_Else;

  anon667_Else:
    goto L842;

  L842:
    call {:si_unique_call 2787} sdv_RtlZeroMemory(0, 36);
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2202;
    assume {:nonnull} Tmp_2202 != 0;
    assume Tmp_2202 > 0;
    call {:si_unique_call 2788} KeInitializeEvent(SyncEvent_unnamed_tag_63(Wait__FAT_IO_CONTEXT(Tmp_2202)), 0, 0);
    SwitchBackToAsync := 0;
    goto L839;

  L839:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc ValidDataToDisk;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc ValidDataLength_1;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc FileSize;
    goto anon668_Then, anon668_Else;

  anon668_Else:
    assume {:partition} PagingIo != 0;
    goto anon595_Then, anon595_Else;

  anon595_Else:
    assume {:partition} StartingVbo_7 >= FileSize;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := 0;
    goto L441;

  anon595_Then:
    assume {:partition} FileSize > StartingVbo_7;
    assume {:nonnull} IrpSp_36 != 0;
    assume IrpSp_36 > 0;
    havoc ByteCount_20;
    goto anon669_Then, anon669_Else;

  anon669_Else:
    assume {:partition} ByteCount_20 > FileSize - StartingVbo_7;
    ByteCount_20 := FileSize - StartingVbo_7;
    goto L593;

  anon669_Then:
    assume {:partition} FileSize - StartingVbo_7 >= ByteCount_20;
    goto L593;

  anon668_Then:
    assume {:partition} PagingIo == 0;
    goto L593;

  anon667_Then:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon592_Then, anon592_Else;

  anon592_Else:
    goto anon593_Then, anon593_Else;

  anon593_Else:
    assume {:partition} FatNoAsync == 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2179;
    assume {:nonnull} Tmp_2179 != 0;
    assume Tmp_2179 > 0;
    goto anon670_Then, anon670_Else;

  anon670_Else:
    goto L854;

  L854:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    call {:si_unique_call 2789} sdv_1351 := corral_nondet();
    goto anon594_Then, anon594_Else;

  anon594_Else:
    assume {:partition} sdv_1351 != 0;
    goto L861;

  L861:
    UnwindOutstandingAsync := 1;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2211;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2211 != 0;
    assume Tmp_2211 > 0;
    goto L839;

  anon594_Then:
    assume {:partition} sdv_1351 == 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2175;
    assume {:nonnull} Tmp_2175 != 0;
    assume Tmp_2175 > 0;
    havoc vslice_dummy_var_347;
    call {:si_unique_call 2790} KeClearEvent(vslice_dummy_var_347);
    goto L861;

  anon670_Then:
    call {:si_unique_call 2791} sdv_1381 := ExAllocatePoolWithTag(16, 16, -160145082);
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2209;
    assume {:nonnull} Tmp_2209 != 0;
    assume Tmp_2209 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc Tmp_2197;
    assume {:nonnull} Tmp_2197 != 0;
    assume Tmp_2197 > 0;
    havoc vslice_dummy_var_348;
    call {:si_unique_call 2792} KeInitializeEvent(vslice_dummy_var_348, 0, 0);
    goto L854;

  anon593_Then:
    assume {:partition} FatNoAsync != 0;
    goto L842;

  anon592_Then:
    goto L842;

  anon591_Then:
    assume {:partition} SwitchBackToAsync == 0;
    goto L839;

  anon589_Then:
    assume {:partition} PagingIo == 0;
    goto anon590_Then, anon590_Else;

  anon590_Else:
    assume {:partition} FcbAcquiredExclusive == 0;
    call {:si_unique_call 2793} ExReleaseResourceLite(0);
    FcbOrDcbAcquired := 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_349;
    call {:si_unique_call 2794} sdv_1352 := FatAcquireExclusiveFcb(IrpContext_137, vslice_dummy_var_349);
    goto anon671_Then, anon671_Else;

  anon671_Else:
    assume {:partition} yogi_error != 1;
    goto anon596_Then, anon596_Else;

  anon596_Else:
    assume {:partition} sdv_1352 != 0;
    FcbOrDcbAcquired := 1;
    FcbAcquiredExclusive := 1;
    goto L838;

  anon596_Then:
    assume {:partition} sdv_1352 == 0;
    PostIrp_1 := 1;
    goto L441;

  anon671_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon590_Then:
    assume {:partition} FcbAcquiredExclusive != 0;
    goto L838;

  anon588_Then:
    assume {:partition} Wait_10 == 0;
    Wait_10 := 1;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto anon672_Then, anon672_Else;

  anon672_Else:
    assume {:partition} NonCachedIo != 0;
    SwitchBackToAsync := 1;
    goto L832;

  anon672_Then:
    assume {:partition} NonCachedIo == 0;
    goto L832;

  anon586_Then:
    assume {:partition} WriteToEof == 0;
    goto anon587_Then, anon587_Else;

  anon587_Else:
    assume {:partition} StartingVbo_7 + ByteCount_20 > ValidDataLength_1;
    goto L830;

  anon587_Then:
    assume {:partition} ValidDataLength_1 >= StartingVbo_7 + ByteCount_20;
    goto L593;

  anon547_Then:
    assume {:partition} RecursiveWriteThrough != 0;
    goto L593;

  anon646_Then:
    goto L574;

  anon546_Then:
    goto L574;

  anon645_Then:
    assume {:partition} Mem_T.INT4[Tmp_2148] != 6;
    goto L574;

  anon545_Then:
    assume {:partition} 65535 >= TopIrp;
    goto L574;

  anon544_Then:
    call {:si_unique_call 2795} TopIrp := __HAVOC_malloc(1);
    goto L581;

  anon543_Then:
    goto L574;

  anon539_Then:
    goto L574;

  anon541_Then:
    assume {:partition} StartingVbo_7 >= FileSize;
    goto L565;

  anon540_Then:
    assume {:partition} ValidDataLength_1 >= StartingVbo_7 + ByteCount_20;
    goto L565;

  anon643_Then:
    goto L565;

  anon538_Then:
    goto L565;

  anon537_Then:
    assume {:partition} FileSize - StartingVbo_7 >= ByteCount_20;
    goto L555;

  anon635_Then:
    assume {:partition} PagingIo == 0;
    goto L555;

  anon535_Then:
    goto L548;

  anon634_Then:
    assume {:partition} Wait_10 == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2203;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2203 != 0;
    assume Tmp_2203 > 0;
    goto L547;

  anon633_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon504_Then:
    assume {:partition} PagingIo == 0;
    goto anon534_Then, anon534_Else;

  anon534_Else:
    assume {:partition} Wait_10 != 0;
    goto L893;

  L893:
    goto anon598_Then, anon598_Else;

  anon598_Else:
    assume {:partition} FcbOrDcbAcquired != 0;
    goto L897;

  L897:
    FcbOrDcbAcquired := 1;
    goto L548;

  anon598_Then:
    assume {:partition} FcbOrDcbAcquired == 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_350;
    call {:si_unique_call 2796} sdv_1329 := FatAcquireSharedFcb(IrpContext_137, vslice_dummy_var_350);
    goto anon673_Then, anon673_Else;

  anon673_Else:
    assume {:partition} yogi_error != 1;
    goto anon599_Then, anon599_Else;

  anon599_Else:
    assume {:partition} sdv_1329 == 0;
    PostIrp_1 := 1;
    goto L441;

  anon599_Then:
    assume {:partition} sdv_1329 != 0;
    goto L897;

  anon673_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon534_Then:
    assume {:partition} Wait_10 == 0;
    goto anon597_Then, anon597_Else;

  anon597_Else:
    assume {:partition} NonCachedIo != 0;
    goto anon600_Then, anon600_Else;

  anon600_Else:
    assume {:partition} FcbOrDcbAcquired != 0;
    goto L905;

  L905:
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2201;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2201 != 0;
    assume Tmp_2201 > 0;
    goto anon674_Then, anon674_Else;

  anon674_Else:
    assume {:partition} FcbCanDemoteToShared != 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2212;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2212 != 0;
    assume Tmp_2212 > 0;
    goto L897;

  anon674_Then:
    assume {:partition} FcbCanDemoteToShared == 0;
    goto L897;

  anon600_Then:
    assume {:partition} FcbOrDcbAcquired == 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_351;
    call {:si_unique_call 2797} sdv_1383 := FatAcquireSharedFcbWaitForEx(IrpContext_137, vslice_dummy_var_351);
    goto anon675_Then, anon675_Else;

  anon675_Else:
    assume {:partition} yogi_error != 1;
    goto anon601_Then, anon601_Else;

  anon601_Else:
    assume {:partition} sdv_1383 == 0;
    PostIrp_1 := 1;
    goto L441;

  anon601_Then:
    assume {:partition} sdv_1383 != 0;
    goto L905;

  anon675_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon597_Then:
    assume {:partition} NonCachedIo == 0;
    goto L893;

  anon679_Then:
    assume {:partition} WriteToEof == 0;
    goto L435;

  anon508_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))];
    call {:si_unique_call 2798} ExReleaseResourceLite(0);
    goto L441;

  anon507_Then:
    assume {:partition} WriteToEof == 0;
    goto L424;

  anon678_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon506_Then:
    assume {:partition} sdv_1387 == 0;
    PostIrp_1 := 1;
    goto L441;

  anon677_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon676_Then:
    goto L370;

  anon505_Then:
    assume {:partition} PagingIo != 0;
    goto L370;

  anon503_Then:
    assume {:partition} NonCachedIo == 0;
    goto L370;

  anon487_Then:
    assume {:partition} TypeOfOpen_9 != 2;
    goto anon502_Then, anon502_Else;

  anon502_Else:
    assume {:partition} TypeOfOpen_9 == 6;
    goto L913;

  L913:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_352;
    call {:si_unique_call 2799} FatVerifyFcb(IrpContext_137, vslice_dummy_var_352);
    call {:si_unique_call 2800} sdv_1371 := ExAcquireSharedStarveExclusive(0, Wait_10);
    goto anon680_Then, anon680_Else;

  anon680_Else:
    assume {:partition} yogi_error != 1;
    goto anon603_Then, anon603_Else;

  anon603_Else:
    assume {:partition} sdv_1371 != 0;
    PagingIoResourceAcquired := 1;
    goto anon681_Then, anon681_Else;

  anon681_Else:
    assume {:partition} Wait_10 != 0;
    goto L924;

  L924:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon604_Then, anon604_Else;

  anon604_Else:
    call {:si_unique_call 2801} vslice_dummy_var_391 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    goto L925;

  L925:
    goto anon605_Then, anon605_Else;

  anon605_Else:
    sdv_1372 := 0;
    goto L931;

  L931:
    goto anon606_Then, anon606_Else;

  anon606_Else:
    assume {:partition} BAND(sdv_1372, 2) != 0;
    goto L933;

  L933:
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon682_Then, anon682_Else;

  anon682_Else:
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := 0;
    goto L441;

  anon682_Then:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    goto anon607_Then, anon607_Else;

  anon607_Else:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc ByteCount_20;
    goto L939;

  L939:
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_353;
    call {:si_unique_call 2802} sdv_1367 := FatNonCachedIo(IrpContext_137, Irp_62, vslice_dummy_var_353, StartingVbo_7, ByteCount_20, ByteCount_20);
    goto anon608_Then, anon608_Else;

  anon608_Else:
    assume {:partition} sdv_1367 == 259;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    Irp_62 := 0;
    Status_50 := 259;
    goto L441;

  anon608_Then:
    assume {:partition} sdv_1367 != 259;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    Status_50 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_62))];
    goto anon683_Then, anon683_Else;

  anon683_Else:
    assume {:partition} Status_50 < 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    call {:si_unique_call 2803} sdv_1354 := corral_nondet();
    call {:si_unique_call 2804} ExRaiseStatus(sdv_1354);
    goto L441;

  anon683_Then:
    assume {:partition} 0 <= Status_50;
    goto L441;

  anon607_Then:
    goto L939;

  anon606_Then:
    assume {:partition} BAND(sdv_1372, 2) == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L933;

  anon605_Then:
    call {:si_unique_call 2805} sdv_1372 := __HAVOC_malloc(1);
    goto L931;

  anon604_Then:
    goto L925;

  anon681_Then:
    assume {:partition} Wait_10 == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2208;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    assume {:nonnull} Tmp_2208 != 0;
    assume Tmp_2208 > 0;
    goto L924;

  anon603_Then:
    assume {:partition} sdv_1371 == 0;
    PostIrp_1 := 1;
    goto L441;

  anon680_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon502_Then:
    assume {:partition} TypeOfOpen_9 != 6;
    goto anon602_Then, anon602_Else;

  anon602_Else:
    assume {:partition} TypeOfOpen_9 != 7;
    goto anon609_Then, anon609_Else;

  anon609_Else:
    assume {:partition} TypeOfOpen_9 == 3;
    Status_50 := -1073741811;
    goto L441;

  anon609_Then:
    assume {:partition} TypeOfOpen_9 != 3;
    assume {:nonnull} FcbOrDcb_11 != 0;
    assume FcbOrDcb_11 > 0;
    havoc vslice_dummy_var_354;
    call {:si_unique_call 2806} KeBugCheckEx(35, 2165164, TypeOfOpen_9, vslice_dummy_var_354, 0);
    goto L441;

  anon602_Then:
    assume {:partition} TypeOfOpen_9 == 7;
    goto L913;

  anon472_Then:
    assume {:partition} Wait_10 == 0;
    call {:si_unique_call 2807} sdv_1344 := PsGetCurrentThread();
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2216;
    assume {:nonnull} Tmp_2216 != 0;
    assume Tmp_2216 > 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2187;
    assume {:nonnull} Tmp_2187 != 0;
    assume Tmp_2187 > 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2181;
    assume {:nonnull} Tmp_2181 != 0;
    assume Tmp_2181 > 0;
    goto L100;

  anon470_Then:
    goto anon471_Then, anon471_Else;

  anon471_Else:
    assume {:partition} Wait_10 != 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L103;

  anon471_Then:
    assume {:partition} Wait_10 == 0;
    call {:si_unique_call 2808} sdv_1379 := ExAllocatePoolWithTag(16, 36, -663461562);
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L103;

  anon468_Then:
    assume {:partition} NonCachedIo == 0;
    goto L100;

  anon463_Then:
    assume {:partition} PagingIo == 0;
    goto anon467_Then, anon467_Else;

  anon467_Else:
    assume {:partition} WriteToEof == 0;
    goto anon610_Then, anon610_Else;

  anon610_Else:
    assume {:partition} TypeOfOpen_9 != 4;
    assume {:nonnull} Vcb_87 != 0;
    assume Vcb_87 > 0;
    havoc vslice_dummy_var_355;
    call {:si_unique_call 2809} sdv_1339 := FatIsIoRangeValid(vslice_dummy_var_355, StartingByte, ByteCount_20);
    goto anon611_Then, anon611_Else;

  anon611_Else:
    assume {:partition} sdv_1339 == 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    call {:si_unique_call 2810} FatCompleteRequest_Real(IrpContext_137, Irp_62, -1073741697);
    Tmp_2147 := -1073741697;
    goto L1;

  anon611_Then:
    assume {:partition} sdv_1339 != 0;
    goto L99;

  anon610_Then:
    assume {:partition} TypeOfOpen_9 == 4;
    goto L99;

  anon467_Then:
    assume {:partition} WriteToEof != 0;
    goto L99;

  anon465_Then:
    assume {:partition} TypeOfOpen_9 != 2;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    goto L82;

  anon619_Then:
    assume {:partition} TypeOfOpen_9 != 2;
    goto anon464_Then, anon464_Else;

  anon464_Else:
    assume {:partition} TypeOfOpen_9 == 5;
    goto L96;

  L96:
    assume {:nonnull} Stats_10 != 0;
    assume Stats_10 > 0;
    assume {:nonnull} Stats_10 != 0;
    assume Stats_10 > 0;
    goto L92;

  anon464_Then:
    assume {:partition} TypeOfOpen_9 != 5;
    goto anon466_Then, anon466_Else;

  anon466_Else:
    assume {:partition} TypeOfOpen_9 == 6;
    goto L96;

  anon466_Then:
    assume {:partition} TypeOfOpen_9 != 6;
    goto L92;

  anon462_Then:
    assume {:partition} PagingIo == 0;
    goto L82;

  anon461_Then:
    assume {:partition} TypeOfOpen_9 != 4;
    goto L80;

  anon460_Then:
    goto L71;

  L71:
    Tmp_2156 := 0;
    goto L74;

  anon618_Then:
    goto L71;

  anon459_Then:
    assume {:partition} NonCachedIo == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2194;
    goto anon684_Then, anon684_Else;

  anon684_Else:
    assume {:partition} Tmp_2194 == 0;
    goto L1496;

  L1496:
    goto anon685_Then, anon685_Else;

  anon685_Else:
    assume {:partition} Wait_10 != 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2213;
    goto anon686_Then, anon686_Else;

  anon686_Else:
    assume {:partition} Tmp_2213 == 0;
    Tmp_2184 := 1;
    goto L981;

  L981:
    call {:si_unique_call 2811} sdv_1359 := corral_nondet();
    goto anon612_Then, anon612_Else;

  anon612_Else:
    assume {:partition} sdv_1359 == 0;
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    havoc Tmp_2193;
    goto anon687_Then, anon687_Else;

  anon687_Else:
    assume {:partition} Tmp_2193 == 0;
    goto L1503;

  L1503:
    call {:si_unique_call 2812} FatPrePostIrp(IrpContext_137, Irp_62);
    assume {:nonnull} IrpContext_137 != 0;
    assume IrpContext_137 > 0;
    Tmp_2147 := 259;
    goto L1;

  anon687_Then:
    assume {:partition} Tmp_2193 != 0;
    goto L1503;

  anon612_Then:
    assume {:partition} sdv_1359 != 0;
    goto L68;

  anon686_Then:
    assume {:partition} Tmp_2213 != 0;
    goto L977;

  L977:
    Tmp_2184 := 0;
    goto L981;

  anon685_Then:
    assume {:partition} Wait_10 == 0;
    goto L977;

  anon684_Then:
    assume {:partition} Tmp_2194 != 0;
    goto L1496;

  anon617_Then:
    assume {:partition} ByteCount_20 == 0;
    assume {:nonnull} Irp_62 != 0;
    assume Irp_62 > 0;
    call {:si_unique_call 2813} FatCompleteRequest_Real(IrpContext_137, Irp_62, 0);
    Tmp_2147 := 0;
    goto L1;

  anon616_Then:
    assume {:partition} Tmp_2206 != 0;
    SynchronousIo := 1;
    goto L1194;

  anon615_Then:
    assume {:partition} Tmp_2168 != 0;
    NonCachedIo := 1;
    goto L1190;

  anon614_Then:
    assume {:partition} Tmp_2223 != 0;
    PagingIo := 1;
    goto L1186;

  anon613_Then:
    assume {:partition} Tmp_2176 != 0;
    Wait_10 := 1;
    goto L1182;
}



procedure {:origName "FatFsdWrite"} FatFsdWrite(actual_VolumeDeviceObject_10: int, actual_Irp_63: int) returns (Tmp_2225: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdWrite"} FatFsdWrite(actual_VolumeDeviceObject_10: int, actual_Irp_63: int) returns (Tmp_2225: int)
{
  var {:scalar} ModWriter: int;
  var {:pointer} sdv_1390: int;
  var {:pointer} Fcb_54: int;
  var {:scalar} TopLevel_5: int;
  var {:pointer} sdv_1391: int;
  var {:scalar} Status_51: int;
  var {:scalar} sdv_1394: int;
  var {:pointer} sdv_1395: int;
  var {:pointer} Tmp_2227: int;
  var {:pointer} Tmp_2228: int;
  var {:pointer} IrpContext_138: int;
  var {:pointer} sdv_1401: int;
  var {:pointer} VolumeDeviceObject_10: int;
  var {:pointer} Irp_63: int;

  anon0:
    VolumeDeviceObject_10 := actual_VolumeDeviceObject_10;
    Irp_63 := actual_Irp_63;
    IrpContext_138 := 0;
    ModWriter := 0;
    call {:si_unique_call 2816} KeEnterCriticalRegion();
    call {:si_unique_call 2817} sdv_1391 := sdv_IoGetCurrentIrpStackLocation(Irp_63);
    assume {:nonnull} sdv_1391 != 0;
    assume sdv_1391 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    goto L22;

  L22:
    call {:si_unique_call 2818} TopLevel_5 := FatIsIrpTopLevel(Irp_63);
    call {:si_unique_call 2819} sdv_1394 := corral_nondet();
    call {:si_unique_call 2820} IrpContext_138 := FatCreateIrpContext(Irp_63, sdv_1394);
    goto anon24_Then, anon24_Else;

  anon24_Else:
    sdv_1401 := 0;
    goto L62;

  L62:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} sdv_1401 == 3;
    ModWriter := 1;
    goto L63;

  L63:
    assume {:nonnull} IrpContext_138 != 0;
    assume IrpContext_138 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    call {:si_unique_call 2821} Status_51 := FatCompleteMdl(IrpContext_138, Irp_63);
    goto L39;

  L39:
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} ModWriter != 0;
    goto L40;

  L40:
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} TopLevel_5 != 0;
    goto L44;

  L44:
    call {:si_unique_call 2822} KeLeaveCriticalRegion();
    Tmp_2225 := Status_51;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon23_Then:
    assume {:partition} TopLevel_5 == 0;
    goto L44;

  anon22_Then:
    assume {:partition} ModWriter == 0;
    goto L40;

  anon26_Then:
    call {:si_unique_call 2823} Status_51 := FatCommonWrite(IrpContext_138, Irp_63);
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} yogi_error != 1;
    goto L39;

  anon29_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon25_Then:
    assume {:partition} sdv_1401 != 3;
    goto L63;

  anon24_Then:
    call {:si_unique_call 2824} sdv_1401 := __HAVOC_malloc(1);
    goto L62;

  anon21_Then:
    call {:si_unique_call 2825} sdv_1395 := sdv_IoGetCurrentIrpStackLocation(Irp_63);
    assume {:nonnull} sdv_1395 != 0;
    assume sdv_1395 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    call {:si_unique_call 2826} sdv_1390 := sdv_IoGetCurrentIrpStackLocation(Irp_63);
    assume {:nonnull} sdv_1390 != 0;
    assume sdv_1390 > 0;
    havoc Tmp_2228;
    assume {:nonnull} Tmp_2228 != 0;
    assume Tmp_2228 > 0;
    havoc Fcb_54;
    Tmp_2227 := Fcb_54;
    assume {:nonnull} Tmp_2227 != 0;
    assume Tmp_2227 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Mem_T.INT4[Tmp_2227] == 1282;
    assume {:nonnull} Fcb_54 != 0;
    assume Fcb_54 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    call {:si_unique_call 2827} sdv_IoMarkIrpPending(0);
    call {:si_unique_call 2828} FatPagingFileIo(Irp_63, Fcb_54);
    call {:si_unique_call 2829} KeLeaveCriticalRegion();
    Tmp_2225 := 259;
    goto L1;

  anon28_Then:
    goto L22;

  anon30_Then:
    assume {:partition} Mem_T.INT4[Tmp_2227] != 1282;
    goto L22;

  anon27_Then:
    goto L22;
}



procedure {:origName "FatStringTo8dot3"} FatStringTo8dot3(actual_IrpContext_141: int, actual_structPtr888InputString: int, actual_Output8dot3: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatStringTo8dot3"} FatStringTo8dot3(actual_IrpContext_141: int, actual_structPtr888InputString: int, actual_Output8dot3: int)
{
  var {:scalar} InputString: int;
  var {:scalar} i_15: int;
  var {:pointer} Tmp_2237: int;
  var {:pointer} Tmp_2238: int;
  var {:pointer} Tmp_2239: int;
  var {:scalar} j_1: int;
  var {:scalar} Tmp_2241: int;
  var {:pointer} Tmp_2242: int;
  var {:scalar} Tmp_2243: int;
  var {:scalar} Tmp_2245: int;
  var {:scalar} Tmp_2246: int;
  var {:scalar} Tmp_2247: int;
  var {:pointer} structPtr888InputString: int;
  var {:pointer} Output8dot3: int;
  var vslice_dummy_var_397: int;
  var vslice_dummy_var_358: int;
  var vslice_dummy_var_359: int;

  anon0:
    call {:si_unique_call 2830} InputString := __HAVOC_malloc(12);
    call {:si_unique_call 2831} vslice_dummy_var_397 := __HAVOC_malloc(4);
    structPtr888InputString := actual_structPtr888InputString;
    Output8dot3 := actual_Output8dot3;
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    assume {:nonnull} structPtr888InputString != 0;
    assume structPtr888InputString > 0;
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    assume {:nonnull} structPtr888InputString != 0;
    assume structPtr888InputString > 0;
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    assume {:nonnull} structPtr888InputString != 0;
    assume structPtr888InputString > 0;
    call {:si_unique_call 2832} Tmp_2237 := __HAVOC_malloc(44);
    call {:si_unique_call 2833} Tmp_2238 := __HAVOC_malloc(44);
    call {:si_unique_call 2834} Tmp_2239 := __HAVOC_malloc(44);
    call {:si_unique_call 2835} Tmp_2242 := __HAVOC_malloc(44);
    i_15 := 0;
    goto L9;

  L9:
    call {:si_unique_call 2836} i_15, Tmp_2237, Tmp_2243, Tmp_2245, Tmp_2246 := FatStringTo8dot3_loop_L9(InputString, i_15, Tmp_2237, Tmp_2243, Tmp_2245, Tmp_2246, Output8dot3);
    goto L9_last;

  L9_last:
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    Tmp_2243 := i_15;
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    Tmp_2246 := i_15;
    assume {:nonnull} Output8dot3 != 0;
    assume Output8dot3 > 0;
    havoc Tmp_2237;
    Tmp_2245 := i_15;
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    assume {:nonnull} Tmp_2237 != 0;
    assume Tmp_2237 > 0;
    havoc vslice_dummy_var_358;
    Mem_T.INT4[Tmp_2237 + Tmp_2246 * 4] := vslice_dummy_var_358;
    i_15 := i_15 + 1;
    goto anon14_Else_dummy;

  anon14_Else_dummy:
    assume false;
    return;

  anon14_Then:
    goto L10;

  L10:
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    i_15 := i_15 + 1;
    j_1 := 8;
    goto L17;

  L17:
    call {:si_unique_call 2837} i_15, Tmp_2239, j_1, Tmp_2241, Tmp_2247 := FatStringTo8dot3_loop_L17(InputString, i_15, Tmp_2239, j_1, Tmp_2241, Tmp_2247, Output8dot3);
    goto L17_last;

  L17_last:
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    Tmp_2247 := j_1;
    assume {:nonnull} Output8dot3 != 0;
    assume Output8dot3 > 0;
    havoc Tmp_2239;
    Tmp_2241 := i_15;
    assume {:nonnull} InputString != 0;
    assume InputString > 0;
    assume {:nonnull} Tmp_2239 != 0;
    assume Tmp_2239 > 0;
    havoc vslice_dummy_var_359;
    Mem_T.INT4[Tmp_2239 + Tmp_2247 * 4] := vslice_dummy_var_359;
    j_1 := j_1 + 1;
    i_15 := i_15 + 1;
    goto anon13_Else_dummy;

  anon13_Else_dummy:
    assume false;
    return;

  anon13_Then:
    goto L14;

  L14:
    assume {:nonnull} Output8dot3 != 0;
    assume Output8dot3 > 0;
    havoc Tmp_2242;
    assume {:nonnull} Tmp_2242 != 0;
    assume Tmp_2242 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Mem_T.INT4[Tmp_2242] == 229;
    assume {:nonnull} Output8dot3 != 0;
    assume Output8dot3 > 0;
    havoc Tmp_2238;
    assume {:nonnull} Tmp_2238 != 0;
    assume Tmp_2238 > 0;
    Mem_T.INT4[Tmp_2238] := 5;
    goto L1;

  L1:
    return;

  anon15_Then:
    assume {:partition} Mem_T.INT4[Tmp_2242] != 229;
    goto L1;

  anon12_Then:
    goto L14;

  anon11_Then:
    goto L10;
}



procedure {:origName "FatEvaluateNameCase"} FatEvaluateNameCase(actual_IrpContext_142: int, actual_UnicodeName_2: int, actual_AllLowerComponent_3: int, actual_AllLowerExtension_3: int, actual_CreateLfn_3: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatEvaluateNameCase"} FatEvaluateNameCase(actual_IrpContext_142: int, actual_UnicodeName_2: int, actual_AllLowerComponent_3: int, actual_AllLowerExtension_3: int, actual_CreateLfn_3: int)
{
  var {:scalar} i_16: int;
  var {:scalar} Tmp_2249: int;
  var {:scalar} Lowers: int;
  var {:scalar} Tmp_2250: int;
  var {:scalar} Tmp_2251: int;
  var {:scalar} ExtensionPresent: int;
  var {:scalar} Tmp_2252: int;
  var {:scalar} Tmp_2253: int;
  var {:scalar} Tmp_2254: int;
  var {:scalar} c_1: int;
  var {:scalar} Tmp_2255: int;
  var {:pointer} Tmp_2256: int;
  var {:scalar} Uppers: int;
  var {:pointer} UnicodeName_2: int;
  var {:pointer} AllLowerComponent_3: int;
  var {:pointer} AllLowerExtension_3: int;
  var {:pointer} CreateLfn_3: int;
  var vslice_dummy_var_398: int;

  anon0:
    call {:si_unique_call 2838} vslice_dummy_var_398 := __HAVOC_malloc(4);
    UnicodeName_2 := actual_UnicodeName_2;
    AllLowerComponent_3 := actual_AllLowerComponent_3;
    AllLowerExtension_3 := actual_AllLowerExtension_3;
    CreateLfn_3 := actual_CreateLfn_3;
    Uppers := 0;
    Lowers := 0;
    ExtensionPresent := 0;
    assume {:nonnull} CreateLfn_3 != 0;
    assume CreateLfn_3 > 0;
    Mem_T.INT4[CreateLfn_3] := 0;
    i_16 := 0;
    goto L12;

  L12:
    call {:si_unique_call 2839} i_16, Tmp_2249, Lowers, Tmp_2250, ExtensionPresent, Tmp_2254, c_1, Tmp_2256, Uppers := FatEvaluateNameCase_loop_L12(i_16, Tmp_2249, Lowers, Tmp_2250, ExtensionPresent, Tmp_2254, c_1, Tmp_2256, Uppers, UnicodeName_2, AllLowerComponent_3, CreateLfn_3);
    goto L12_last;

  L12_last:
    assume {:nonnull} UnicodeName_2 != 0;
    assume UnicodeName_2 > 0;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    Tmp_2249 := i_16;
    assume {:nonnull} UnicodeName_2 != 0;
    assume UnicodeName_2 > 0;
    havoc Tmp_2256;
    assume {:nonnull} Tmp_2256 != 0;
    assume Tmp_2256 > 0;
    c_1 := Mem_T.INT4[Tmp_2256 + Tmp_2249 * 4];
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} c_1 >= 65;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} 90 >= c_1;
    Uppers := Uppers + 1;
    goto L20;

  L20:
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} c_1 == 46;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} Lowers != 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} Uppers != 0;
    Tmp_2250 := 1;
    goto L26;

  L26:
    assume {:nonnull} CreateLfn_3 != 0;
    assume CreateLfn_3 > 0;
    Mem_T.INT4[CreateLfn_3] := Tmp_2250;
    assume {:nonnull} CreateLfn_3 != 0;
    assume CreateLfn_3 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_3] != 0;
    goto L29;

  L29:
    Tmp_2254 := 0;
    goto L30;

  L30:
    assume {:nonnull} AllLowerComponent_3 != 0;
    assume AllLowerComponent_3 > 0;
    Mem_T.INT4[AllLowerComponent_3] := Tmp_2254;
    ExtensionPresent := 1;
    Lowers := 0;
    Uppers := Lowers;
    goto L21;

  L21:
    i_16 := i_16 + 1;
    goto L21_dummy;

  L21_dummy:
    assume false;
    return;

  anon67_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_3] == 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} Lowers != 0;
    Tmp_2254 := 1;
    goto L30;

  anon54_Then:
    assume {:partition} Lowers == 0;
    goto L29;

  anon53_Then:
    assume {:partition} Uppers == 0;
    goto L23;

  L23:
    Tmp_2250 := 0;
    goto L26;

  anon52_Then:
    assume {:partition} Lowers == 0;
    goto L23;

  anon51_Then:
    assume {:partition} c_1 != 46;
    goto L21;

  anon50_Then:
    assume {:partition} c_1 > 90;
    goto L17;

  L17:
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} c_1 >= 97;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} 122 >= c_1;
    Lowers := Lowers + 1;
    goto L20;

  anon56_Then:
    assume {:partition} c_1 > 122;
    goto L35;

  L35:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} c_1 >= 128;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    goto L20;

  anon57_Then:
    goto L13;

  L13:
    assume {:nonnull} CreateLfn_3 != 0;
    assume CreateLfn_3 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_3] != 0;
    goto L41;

  L41:
    Tmp_2255 := 1;
    goto L42;

  L42:
    assume {:nonnull} CreateLfn_3 != 0;
    assume CreateLfn_3 > 0;
    Mem_T.INT4[CreateLfn_3] := Tmp_2255;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} ExtensionPresent != 0;
    assume {:nonnull} CreateLfn_3 != 0;
    assume CreateLfn_3 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_3] != 0;
    goto L47;

  L47:
    Tmp_2253 := 0;
    goto L48;

  L48:
    assume {:nonnull} AllLowerComponent_3 != 0;
    assume AllLowerComponent_3 > 0;
    Mem_T.INT4[AllLowerComponent_3] := Tmp_2253;
    assume {:nonnull} CreateLfn_3 != 0;
    assume CreateLfn_3 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_3] != 0;
    goto L51;

  L51:
    Tmp_2252 := 0;
    goto L52;

  L52:
    assume {:nonnull} AllLowerExtension_3 != 0;
    assume AllLowerExtension_3 > 0;
    Mem_T.INT4[AllLowerExtension_3] := Tmp_2252;
    goto L1;

  L1:
    return;

  anon69_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_3] == 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} Lowers != 0;
    Tmp_2252 := 1;
    goto L52;

  anon62_Then:
    assume {:partition} Lowers == 0;
    goto L51;

  anon60_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_3] == 0;
    assume {:nonnull} AllLowerComponent_3 != 0;
    assume AllLowerComponent_3 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} Mem_T.INT4[AllLowerComponent_3] != 0;
    Tmp_2253 := 1;
    goto L48;

  anon61_Then:
    assume {:partition} Mem_T.INT4[AllLowerComponent_3] == 0;
    goto L47;

  anon68_Then:
    assume {:partition} ExtensionPresent == 0;
    assume {:nonnull} CreateLfn_3 != 0;
    assume CreateLfn_3 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} Mem_T.INT4[CreateLfn_3] != 0;
    goto L57;

  L57:
    Tmp_2251 := 0;
    goto L58;

  L58:
    assume {:nonnull} AllLowerComponent_3 != 0;
    assume AllLowerComponent_3 > 0;
    Mem_T.INT4[AllLowerComponent_3] := Tmp_2251;
    assume {:nonnull} AllLowerExtension_3 != 0;
    assume AllLowerExtension_3 > 0;
    Mem_T.INT4[AllLowerExtension_3] := 0;
    goto L1;

  anon59_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_3] == 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} Lowers != 0;
    Tmp_2251 := 1;
    goto L58;

  anon63_Then:
    assume {:partition} Lowers == 0;
    goto L57;

  anon48_Then:
    assume {:partition} Mem_T.INT4[CreateLfn_3] == 0;
    assume {:nonnull} UnicodeName_2 != 0;
    assume UnicodeName_2 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} Lowers != 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} Uppers == 0;
    goto L62;

  L62:
    Tmp_2255 := 0;
    goto L42;

  anon65_Then:
    assume {:partition} Uppers != 0;
    goto L41;

  anon64_Then:
    assume {:partition} Lowers == 0;
    goto L62;

  anon58_Then:
    goto L41;

  anon55_Then:
    assume {:partition} 128 > c_1;
    goto L20;

  anon49_Then:
    assume {:partition} 97 > c_1;
    goto L35;

  anon66_Then:
    assume {:partition} 65 > c_1;
    goto L17;

  anon47_Then:
    goto L13;
}



procedure {:origName "FatUnicodeToUpcaseOem"} FatUnicodeToUpcaseOem(actual_IrpContext_143: int, actual_OemString_2: int, actual_UnicodeString_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatUnicodeToUpcaseOem"} FatUnicodeToUpcaseOem(actual_IrpContext_143: int, actual_OemString_2: int, actual_UnicodeString_3: int)
{
  var {:scalar} Status_53: int;
  var {:scalar} sdv_1411: int;
  var {:pointer} IrpContext_143: int;
  var {:pointer} OemString_2: int;
  var vslice_dummy_var_399: int;

  anon0:
    call {:si_unique_call 2840} vslice_dummy_var_399 := __HAVOC_malloc(4);
    IrpContext_143 := actual_IrpContext_143;
    OemString_2 := actual_OemString_2;
    call {:si_unique_call 2841} Status_53 := RtlUpcaseUnicodeStringToCountedOemString(0, 0, 0);
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} Status_53 == 5;
    assume {:nonnull} OemString_2 != 0;
    assume OemString_2 > 0;
    assume {:nonnull} OemString_2 != 0;
    assume OemString_2 > 0;
    assume {:nonnull} OemString_2 != 0;
    assume OemString_2 > 0;
    call {:si_unique_call 2842} Status_53 := RtlUpcaseUnicodeStringToCountedOemString(0, 0, 1);
    goto L9;

  L9:
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} Status_53 < 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Status_53 == -1073741470;
    assume {:nonnull} OemString_2 != 0;
    assume OemString_2 > 0;
    goto L1;

  L1:
    return;

  anon9_Then:
    assume {:partition} Status_53 != -1073741470;
    assume {:nonnull} IrpContext_143 != 0;
    assume IrpContext_143 > 0;
    call {:si_unique_call 2843} sdv_1411 := corral_nondet();
    call {:si_unique_call 2844} ExRaiseStatus(sdv_1411);
    goto L1;

  anon8_Then:
    assume {:partition} 0 <= Status_53;
    goto L1;

  anon7_Then:
    assume {:partition} Status_53 != 5;
    goto L9;
}



procedure {:origName "_sdv_init15"} _sdv_init15();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init15"} _sdv_init15()
{
  var vslice_dummy_var_400: int;

  anon0:
    call {:si_unique_call 2845} vslice_dummy_var_400 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatIsNameInExpression"} FatIsNameInExpression(actual_IrpContext_144: int, actual_structPtr888Expression: int, actual_SD1_1: int) returns (Tmp_2262: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsNameInExpression"} FatIsNameInExpression(actual_IrpContext_144: int, actual_structPtr888Expression: int, actual_SD1_1: int) returns (Tmp_2262: int)
{
  var {:scalar} Expression: int;
  var {:scalar} Name_1: int;
  var {:pointer} structPtr888Expression: int;
  var {:pointer} SD1_1: int;

  anon0:
    call {:si_unique_call 2846} Expression := __HAVOC_malloc(12);
    call {:si_unique_call 2847} Name_1 := __HAVOC_malloc(12);
    structPtr888Expression := actual_structPtr888Expression;
    SD1_1 := actual_SD1_1;
    assume {:nonnull} Expression != 0;
    assume Expression > 0;
    assume {:nonnull} structPtr888Expression != 0;
    assume structPtr888Expression > 0;
    assume {:nonnull} Expression != 0;
    assume Expression > 0;
    assume {:nonnull} structPtr888Expression != 0;
    assume structPtr888Expression > 0;
    assume {:nonnull} Expression != 0;
    assume Expression > 0;
    assume {:nonnull} structPtr888Expression != 0;
    assume structPtr888Expression > 0;
    assume {:nonnull} Name_1 != 0;
    assume Name_1 > 0;
    assume {:nonnull} SD1_1 != 0;
    assume SD1_1 > 0;
    assume {:nonnull} Name_1 != 0;
    assume Name_1 > 0;
    assume {:nonnull} SD1_1 != 0;
    assume SD1_1 > 0;
    assume {:nonnull} Name_1 != 0;
    assume Name_1 > 0;
    assume {:nonnull} SD1_1 != 0;
    assume SD1_1 > 0;
    call {:si_unique_call 2848} Tmp_2262 := corral_nondet();
    return;
}



procedure {:origName "FatSpaceInName"} FatSpaceInName(actual_IrpContext_145: int, actual_UnicodeName_3: int) returns (Tmp_2264: int);
  free ensures {:va_keep} Tmp_2264 == 1 || Tmp_2264 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSpaceInName"} FatSpaceInName(actual_IrpContext_145: int, actual_UnicodeName_3: int) returns (Tmp_2264: int)
{
  var {:scalar} i_17: int;
  var {:pointer} Tmp_2265: int;
  var {:scalar} Tmp_2267: int;
  var {:pointer} UnicodeName_3: int;

  anon0:
    UnicodeName_3 := actual_UnicodeName_3;
    i_17 := 0;
    goto L5;

  L5:
    call {:si_unique_call 2849} i_17, Tmp_2265, Tmp_2267 := FatSpaceInName_loop_L5(i_17, Tmp_2265, Tmp_2267, UnicodeName_3);
    goto L5_last;

  L5_last:
    assume {:nonnull} UnicodeName_3 != 0;
    assume UnicodeName_3 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    Tmp_2267 := i_17;
    assume {:nonnull} UnicodeName_3 != 0;
    assume UnicodeName_3 > 0;
    havoc Tmp_2265;
    assume {:nonnull} Tmp_2265 != 0;
    assume Tmp_2265 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} Mem_T.INT4[Tmp_2265 + Tmp_2267 * 4] == 32;
    Tmp_2264 := 1;
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:partition} Mem_T.INT4[Tmp_2265 + Tmp_2267 * 4] != 32;
    i_17 := i_17 + 1;
    goto anon6_Then_dummy;

  anon6_Then_dummy:
    assume false;
    return;

  anon5_Then:
    Tmp_2264 := 0;
    goto L1;
}



procedure {:origName "Fat8dot3ToString"} Fat8dot3ToString(actual_IrpContext_146: int, actual_Dirent_23: int, actual_RestoreCase: int, actual_OutputString: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "Fat8dot3ToString"} Fat8dot3ToString(actual_IrpContext_146: int, actual_Dirent_23: int, actual_RestoreCase: int, actual_OutputString: int)
{
  var {:scalar} Tmp_2268: int;
  var {:pointer} o: int;
  var {:pointer} Tmp_2269: int;
  var {:scalar} Tmp_2270: int;
  var {:scalar} Tmp_2271: int;
  var {:pointer} Tmp_2272: int;
  var {:scalar} Tmp_2273: int;
  var {:scalar} Tmp_2274: int;
  var {:scalar} Tmp_2275: int;
  var {:pointer} Tmp_2276: int;
  var {:pointer} Tmp_2277: int;
  var {:scalar} Tmp_2278: int;
  var {:scalar} Tmp_2279: int;
  var {:scalar} Tmp_2280: int;
  var {:pointer} Tmp_2281: int;
  var {:scalar} Tmp_2282: int;
  var {:scalar} Tmp_2284: int;
  var {:pointer} Tmp_2285: int;
  var {:scalar} Tmp_2286: int;
  var {:scalar} Tmp_2287: int;
  var {:pointer} Tmp_2288: int;
  var {:pointer} Tmp_2289: int;
  var {:scalar} Tmp_2290: int;
  var {:pointer} Tmp_2291: int;
  var {:scalar} Tmp_2292: int;
  var {:scalar} StringIndex: int;
  var {:pointer} Tmp_2293: int;
  var {:scalar} Tmp_2294: int;
  var {:pointer} Tmp_2295: int;
  var {:scalar} Tmp_2296: int;
  var {:pointer} Tmp_2297: int;
  var {:pointer} Tmp_2298: int;
  var {:pointer} Tmp_2299: int;
  var {:scalar} Tmp_2300: int;
  var {:scalar} Tmp_2301: int;
  var {:scalar} BaseLength: int;
  var {:pointer} Tmp_2302: int;
  var {:pointer} d: int;
  var {:scalar} Tmp_2303: int;
  var {:pointer} Tmp_2304: int;
  var {:scalar} ExtensionLength: int;
  var {:pointer} Tmp_2305: int;
  var {:scalar} Tmp_2307: int;
  var {:pointer} Tmp_2308: int;
  var {:pointer} Tmp_2309: int;
  var {:pointer} Tmp_2310: int;
  var {:scalar} Tmp_2311: int;
  var {:scalar} Tmp_2312: int;
  var {:pointer} Tmp_2313: int;
  var {:pointer} Dirent_23: int;
  var {:scalar} RestoreCase: int;
  var {:pointer} OutputString: int;
  var vslice_dummy_var_401: int;

  anon0:
    call {:si_unique_call 2850} vslice_dummy_var_401 := __HAVOC_malloc(4);
    Dirent_23 := actual_Dirent_23;
    RestoreCase := actual_RestoreCase;
    OutputString := actual_OutputString;
    call {:si_unique_call 2851} Tmp_2295 := __HAVOC_malloc(44);
    call {:si_unique_call 2852} Tmp_2299 := __HAVOC_malloc(44);
    call {:si_unique_call 2853} Tmp_2304 := __HAVOC_malloc(44);
    BaseLength := 8;
    goto L8;

  L8:
    call {:si_unique_call 2854} Tmp_2301, BaseLength, Tmp_2304 := Fat8dot3ToString_loop_L8(Tmp_2301, BaseLength, Tmp_2304, Dirent_23);
    goto L8_last;

  L8_last:
    assume {:CounterLoop 8} {:Counter "BaseLength"} true;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} BaseLength > 0;
    Tmp_2301 := BaseLength - 1;
    assume {:nonnull} Dirent_23 != 0;
    assume Dirent_23 > 0;
    havoc Tmp_2304;
    assume {:nonnull} Tmp_2304 != 0;
    assume Tmp_2304 > 0;
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} Mem_T.INT4[Tmp_2304 + Tmp_2301 * 4] == 32;
    BaseLength := BaseLength - 1;
    goto anon78_Else_dummy;

  anon78_Else_dummy:
    assume false;
    return;

  anon78_Then:
    assume {:partition} Mem_T.INT4[Tmp_2304 + Tmp_2301 * 4] != 32;
    goto L9;

  L9:
    ExtensionLength := 3;
    goto L13;

  L13:
    call {:si_unique_call 2855} Tmp_2275, Tmp_2299, ExtensionLength := Fat8dot3ToString_loop_L13(Tmp_2275, Tmp_2299, ExtensionLength, Dirent_23);
    goto L13_last;

  L13_last:
    assume {:CounterLoop 3} {:Counter "ExtensionLength"} true;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} ExtensionLength > 0;
    Tmp_2275 := 8 + ExtensionLength - 1;
    assume {:nonnull} Dirent_23 != 0;
    assume Dirent_23 > 0;
    havoc Tmp_2299;
    assume {:nonnull} Tmp_2299 != 0;
    assume Tmp_2299 > 0;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} Mem_T.INT4[Tmp_2299 + Tmp_2275 * 4] == 32;
    ExtensionLength := ExtensionLength - 1;
    goto anon79_Else_dummy;

  anon79_Else_dummy:
    assume false;
    return;

  anon79_Then:
    assume {:partition} Mem_T.INT4[Tmp_2299 + Tmp_2275 * 4] != 32;
    goto L14;

  L14:
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} BaseLength != 0;
    call {:si_unique_call 2856} sdv_RtlCopyMemory(0, 0, BaseLength);
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2308;
    assume {:nonnull} Tmp_2308 != 0;
    assume Tmp_2308 > 0;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} Mem_T.INT4[Tmp_2308] == 5;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2269;
    assume {:nonnull} Tmp_2269 != 0;
    assume Tmp_2269 > 0;
    Mem_T.INT4[Tmp_2269] := -27;
    goto L23;

  L23:
    goto anon65_Then, anon65_Else;

  anon65_Else:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} RestoreCase != 0;
    assume {:nonnull} Dirent_23 != 0;
    assume Dirent_23 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    StringIndex := 0;
    goto L28;

  L28:
    call {:si_unique_call 2857} Tmp_2268, Tmp_2271, Tmp_2276, Tmp_2278, Tmp_2279, Tmp_2282, Tmp_2284, Tmp_2285, Tmp_2286, Tmp_2289, Tmp_2290, Tmp_2291, StringIndex, Tmp_2305, Tmp_2307, Tmp_2310, Tmp_2313 := Fat8dot3ToString_loop_L28(Tmp_2268, Tmp_2271, Tmp_2276, Tmp_2278, Tmp_2279, Tmp_2282, Tmp_2284, Tmp_2285, Tmp_2286, Tmp_2289, Tmp_2290, Tmp_2291, StringIndex, BaseLength, Tmp_2305, Tmp_2307, Tmp_2310, Tmp_2313, OutputString);
    goto L28_last;

  L28_last:
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} BaseLength > StringIndex;
    Tmp_2307 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2289;
    assume {:nonnull} Tmp_2289 != 0;
    assume Tmp_2289 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:partition} 128 > Mem_T.INT4[Tmp_2289 + Tmp_2307 * 4];
    Tmp_2286 := 0;
    goto L32;

  L32:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} Tmp_2286 != 0;
    StringIndex := StringIndex + 1;
    goto L36;

  L36:
    StringIndex := StringIndex + 1;
    goto L36_dummy;

  L36_dummy:
    assume false;
    return;

  anon70_Then:
    assume {:partition} Tmp_2286 == 0;
    Tmp_2284 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2285;
    assume {:nonnull} Tmp_2285 != 0;
    assume Tmp_2285 > 0;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} Mem_T.INT4[Tmp_2285 + Tmp_2284 * 4] >= 65;
    Tmp_2279 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2291;
    assume {:nonnull} Tmp_2291 != 0;
    assume Tmp_2291 > 0;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} 90 >= Mem_T.INT4[Tmp_2291 + Tmp_2279 * 4];
    Tmp_2271 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2305;
    Tmp_2290 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2313;
    assume {:nonnull} Tmp_2305 != 0;
    assume Tmp_2305 > 0;
    assume {:nonnull} Tmp_2313 != 0;
    assume Tmp_2313 > 0;
    Mem_T.INT4[Tmp_2305 + Tmp_2271 * 4] := Mem_T.INT4[Tmp_2313 + Tmp_2290 * 4] + 32;
    goto L36;

  anon83_Then:
    assume {:partition} Mem_T.INT4[Tmp_2291 + Tmp_2279 * 4] > 90;
    goto L36;

  anon82_Then:
    assume {:partition} 65 > Mem_T.INT4[Tmp_2285 + Tmp_2284 * 4];
    goto L36;

  anon81_Then:
    assume {:partition} Mem_T.INT4[Tmp_2289 + Tmp_2307 * 4] >= 128;
    assume {:nonnull} NlsMbOemCodePageTag != 0;
    assume NlsMbOemCodePageTag > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] != 0;
    Tmp_2282 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2276;
    assume {:nonnull} Tmp_2276 != 0;
    assume Tmp_2276 > 0;
    Tmp_2278 := Mem_T.INT4[Tmp_2276 + Tmp_2282 * 4];
    assume {:nonnull} NlsOemLeadByteInfo != 0;
    assume NlsOemLeadByteInfo > 0;
    havoc Tmp_2310;
    assume {:nonnull} Tmp_2310 != 0;
    assume Tmp_2310 > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} Mem_T.INT4[Tmp_2310 + Tmp_2278 * 4] != 0;
    Tmp_2268 := 1;
    goto L42;

  L42:
    Tmp_2286 := Tmp_2268;
    goto L32;

  anon84_Then:
    assume {:partition} Mem_T.INT4[Tmp_2310 + Tmp_2278 * 4] == 0;
    goto L39;

  L39:
    Tmp_2268 := 0;
    goto L42;

  anon69_Then:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] == 0;
    goto L39;

  anon68_Then:
    assume {:partition} StringIndex >= BaseLength;
    goto L18;

  L18:
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} ExtensionLength != 0;
    Tmp_2274 := BaseLength;
    BaseLength := BaseLength + 1;
    Tmp_2300 := Tmp_2274;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2293;
    assume {:nonnull} Tmp_2293 != 0;
    assume Tmp_2293 > 0;
    Mem_T.INT4[Tmp_2293 + Tmp_2300 * 4] := 46;
    Tmp_2312 := BaseLength;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2277;
    o := Tmp_2277 + Tmp_2312 * 4;
    assume {:nonnull} Dirent_23 != 0;
    assume Dirent_23 > 0;
    havoc Tmp_2295;
    d := Tmp_2295 + 8 * 4;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} ExtensionLength != 1;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} ExtensionLength != 2;
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} ExtensionLength == 3;
    assume {:nonnull} d != 0;
    assume d > 0;
    assume {:nonnull} o != 0;
    assume o > 0;
    Mem_T.INT4[o] := Mem_T.INT4[d];
    goto L52;

  L52:
    assume {:nonnull} d != 0;
    assume d > 0;
    assume {:nonnull} o != 0;
    assume o > 0;
    Mem_T.INT4[o] := Mem_T.INT4[d];
    goto L51;

  L51:
    assume {:nonnull} d != 0;
    assume d > 0;
    assume {:nonnull} o != 0;
    assume o > 0;
    Mem_T.INT4[o] := Mem_T.INT4[d];
    goto L50;

  L50:
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    goto anon86_Then, anon86_Else;

  anon86_Else:
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} RestoreCase != 0;
    assume {:nonnull} Dirent_23 != 0;
    assume Dirent_23 > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    StringIndex := BaseLength;
    goto L59;

  L59:
    call {:si_unique_call 2858} Tmp_2270, Tmp_2272, Tmp_2273, Tmp_2280, Tmp_2281, Tmp_2287, Tmp_2288, Tmp_2292, StringIndex, Tmp_2294, Tmp_2296, Tmp_2297, Tmp_2298, Tmp_2302, Tmp_2303, Tmp_2309, Tmp_2311 := Fat8dot3ToString_loop_L59(Tmp_2270, Tmp_2272, Tmp_2273, Tmp_2280, Tmp_2281, Tmp_2287, Tmp_2288, Tmp_2292, StringIndex, Tmp_2294, Tmp_2296, Tmp_2297, Tmp_2298, Tmp_2302, Tmp_2303, Tmp_2309, Tmp_2311, OutputString);
    goto L59_last;

  L59_last:
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    Tmp_2280 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2297;
    assume {:nonnull} Tmp_2297 != 0;
    assume Tmp_2297 > 0;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} 128 > Mem_T.INT4[Tmp_2297 + Tmp_2280 * 4];
    Tmp_2270 := 0;
    goto L63;

  L63:
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} Tmp_2270 != 0;
    StringIndex := StringIndex + 1;
    goto L67;

  L67:
    StringIndex := StringIndex + 1;
    goto L67_dummy;

  L67_dummy:
    assume false;
    return;

  anon75_Then:
    assume {:partition} Tmp_2270 == 0;
    Tmp_2296 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2309;
    assume {:nonnull} Tmp_2309 != 0;
    assume Tmp_2309 > 0;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} Mem_T.INT4[Tmp_2309 + Tmp_2296 * 4] >= 65;
    Tmp_2294 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2298;
    assume {:nonnull} Tmp_2298 != 0;
    assume Tmp_2298 > 0;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} 90 >= Mem_T.INT4[Tmp_2298 + Tmp_2294 * 4];
    Tmp_2292 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2272;
    Tmp_2273 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2302;
    assume {:nonnull} Tmp_2272 != 0;
    assume Tmp_2272 > 0;
    assume {:nonnull} Tmp_2302 != 0;
    assume Tmp_2302 > 0;
    Mem_T.INT4[Tmp_2272 + Tmp_2292 * 4] := Mem_T.INT4[Tmp_2302 + Tmp_2273 * 4] + 32;
    goto L67;

  anon89_Then:
    assume {:partition} Mem_T.INT4[Tmp_2298 + Tmp_2294 * 4] > 90;
    goto L67;

  anon88_Then:
    assume {:partition} 65 > Mem_T.INT4[Tmp_2309 + Tmp_2296 * 4];
    goto L67;

  anon87_Then:
    assume {:partition} Mem_T.INT4[Tmp_2297 + Tmp_2280 * 4] >= 128;
    assume {:nonnull} NlsMbOemCodePageTag != 0;
    assume NlsMbOemCodePageTag > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] != 0;
    Tmp_2311 := StringIndex;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    havoc Tmp_2281;
    assume {:nonnull} Tmp_2281 != 0;
    assume Tmp_2281 > 0;
    Tmp_2287 := Mem_T.INT4[Tmp_2281 + Tmp_2311 * 4];
    assume {:nonnull} NlsOemLeadByteInfo != 0;
    assume NlsOemLeadByteInfo > 0;
    havoc Tmp_2288;
    assume {:nonnull} Tmp_2288 != 0;
    assume Tmp_2288 > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} Mem_T.INT4[Tmp_2288 + Tmp_2287 * 4] != 0;
    Tmp_2303 := 1;
    goto L73;

  L73:
    Tmp_2270 := Tmp_2303;
    goto L63;

  anon90_Then:
    assume {:partition} Mem_T.INT4[Tmp_2288 + Tmp_2287 * 4] == 0;
    goto L70;

  L70:
    Tmp_2303 := 0;
    goto L73;

  anon74_Then:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] == 0;
    goto L70;

  anon73_Then:
    goto L1;

  L1:
    return;

  anon72_Then:
    goto L1;

  anon71_Then:
    assume {:partition} RestoreCase == 0;
    goto L1;

  anon86_Then:
    goto L1;

  anon76_Then:
    assume {:partition} ExtensionLength != 3;
    goto L50;

  anon77_Then:
    assume {:partition} ExtensionLength == 2;
    goto L52;

  anon85_Then:
    assume {:partition} ExtensionLength == 1;
    goto L51;

  anon64_Then:
    assume {:partition} ExtensionLength == 0;
    assume {:nonnull} OutputString != 0;
    assume OutputString > 0;
    goto L1;

  anon67_Then:
    goto L18;

  anon66_Then:
    assume {:partition} RestoreCase == 0;
    goto L18;

  anon65_Then:
    goto L18;

  anon80_Then:
    assume {:partition} Mem_T.INT4[Tmp_2308] != 5;
    goto L23;

  anon63_Then:
    assume {:partition} BaseLength == 0;
    goto L18;

  anon62_Then:
    assume {:partition} 0 >= ExtensionLength;
    goto L14;

  anon61_Then:
    assume {:partition} 0 >= BaseLength;
    goto L9;
}



procedure {:origName "FatSelectNames"} FatSelectNames(actual_IrpContext_147: int, actual_Parent: int, actual_OemName_2: int, actual_UnicodeName_4: int, actual_ShortName_6: int, actual_SuggestedShortName: int, actual_AllLowerComponent_4: int, actual_AllLowerExtension_4: int, actual_CreateLfn_4: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSelectNames"} FatSelectNames(actual_IrpContext_147: int, actual_Parent: int, actual_OemName_2: int, actual_UnicodeName_4: int, actual_ShortName_6: int, actual_SuggestedShortName: int, actual_AllLowerComponent_4: int, actual_AllLowerExtension_4: int, actual_CreateLfn_4: int)
{
  var {:scalar} sdv_1413: int;
  var {:scalar} ShortUnicodeName: int;
  var {:pointer} Dirent_24: int;
  var {:pointer} Bcb_14: int;
  var {:scalar} GenerateShortName: int;
  var {:scalar} sdv_1414: int;
  var {:dopa} {:scalar} ByteOffset_2: int;
  var {:scalar} TrySuggestedShortName: int;
  var {:scalar} Tmp_2316: int;
  var {:pointer} ShortNameBuffer_5: int;
  var {:scalar} Tmp_2317: int;
  var {:pointer} IrpContext_147: int;
  var {:pointer} Parent: int;
  var {:pointer} OemName_2: int;
  var {:pointer} UnicodeName_4: int;
  var {:pointer} ShortName_6: int;
  var {:pointer} SuggestedShortName: int;
  var {:pointer} AllLowerComponent_4: int;
  var {:pointer} AllLowerExtension_4: int;
  var {:pointer} CreateLfn_4: int;
  var vslice_dummy_var_402: int;
  var vslice_dummy_var_403: int;
  var vslice_dummy_var_404: int;
  var vslice_dummy_var_405: int;

  anon0:
    call {:si_unique_call 2859} ShortUnicodeName := __HAVOC_malloc(12);
    call {:si_unique_call 2860} Dirent_24 := __HAVOC_malloc(4);
    call {:si_unique_call 2861} Bcb_14 := __HAVOC_malloc(4);
    call {:si_unique_call 2862} vslice_dummy_var_402 := __HAVOC_malloc(4);
    call {:si_unique_call 2863} vslice_dummy_var_403 := __HAVOC_malloc(28);
    call {:si_unique_call 2864} ByteOffset_2 := __HAVOC_malloc(4);
    call {:si_unique_call 2865} Tmp_2316 := __HAVOC_malloc(12);
    IrpContext_147 := actual_IrpContext_147;
    Parent := actual_Parent;
    OemName_2 := actual_OemName_2;
    UnicodeName_4 := actual_UnicodeName_4;
    ShortName_6 := actual_ShortName_6;
    SuggestedShortName := actual_SuggestedShortName;
    AllLowerComponent_4 := actual_AllLowerComponent_4;
    AllLowerExtension_4 := actual_AllLowerExtension_4;
    CreateLfn_4 := actual_CreateLfn_4;
    call {:si_unique_call 2866} ShortNameBuffer_5 := __HAVOC_malloc(48);
    call {:si_unique_call 2867} sdv_do_paged_code_check();
    assume {:nonnull} OemName_2 != 0;
    assume OemName_2 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    goto L38;

  L38:
    assume {:nonnull} Bcb_14 != 0;
    assume Bcb_14 > 0;
    GenerateShortName := 1;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} SuggestedShortName == 0;
    TrySuggestedShortName := 0;
    goto L95;

  L95:
    assume {:nonnull} ShortUnicodeName != 0;
    assume ShortUnicodeName > 0;
    assume {:nonnull} ShortUnicodeName != 0;
    assume ShortUnicodeName > 0;
    assume {:nonnull} ShortUnicodeName != 0;
    assume ShortUnicodeName > 0;
    call {:si_unique_call 2868} sdv_RtlZeroMemory(0, 36);
    goto L51;

  L51:
    call {:si_unique_call 2869} TrySuggestedShortName, vslice_dummy_var_404, vslice_dummy_var_405 := FatSelectNames_loop_L51(ShortUnicodeName, Dirent_24, Bcb_14, ByteOffset_2, TrySuggestedShortName, IrpContext_147, Parent, ShortName_6, SuggestedShortName, vslice_dummy_var_404, vslice_dummy_var_405);
    goto L51_last;

  L51_last:
    assume {:nonnull} Bcb_14 != 0;
    assume Bcb_14 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} Bcb_14 != 0;
    assume Bcb_14 > 0;
    goto L52;

  L52:
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} TrySuggestedShortName != 0;
    assume {:nonnull} ShortUnicodeName != 0;
    assume ShortUnicodeName > 0;
    assume {:nonnull} SuggestedShortName != 0;
    assume SuggestedShortName > 0;
    assume {:nonnull} ShortUnicodeName != 0;
    assume ShortUnicodeName > 0;
    assume {:nonnull} SuggestedShortName != 0;
    assume SuggestedShortName > 0;
    assume {:nonnull} ShortUnicodeName != 0;
    assume ShortUnicodeName > 0;
    assume {:nonnull} SuggestedShortName != 0;
    assume SuggestedShortName > 0;
    TrySuggestedShortName := 0;
    goto L69;

  L69:
    call {:si_unique_call 2870} vslice_dummy_var_405 := RtlUnicodeStringToCountedOemString(0, 0, 0);
    call {:si_unique_call 2871} FatLocateSimpleOemDirent(IrpContext_147, Parent, ShortName_6, Dirent_24, Bcb_14, ByteOffset_2);
    assume {:nonnull} Bcb_14 != 0;
    assume Bcb_14 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    goto anon29_Else_dummy;

  anon29_Else_dummy:
    assume false;
    return;

  anon29_Then:
    assume {:nonnull} Bcb_14 != 0;
    assume Bcb_14 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:nonnull} Bcb_14 != 0;
    assume Bcb_14 > 0;
    goto L25;

  L25:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} GenerateShortName != 0;
    assume {:nonnull} CreateLfn_4 != 0;
    assume CreateLfn_4 > 0;
    Mem_T.INT4[CreateLfn_4] := 1;
    assume {:nonnull} AllLowerComponent_4 != 0;
    assume AllLowerComponent_4 > 0;
    Mem_T.INT4[AllLowerComponent_4] := 0;
    assume {:nonnull} AllLowerExtension_4 != 0;
    assume AllLowerExtension_4 > 0;
    Mem_T.INT4[AllLowerExtension_4] := 0;
    goto L1;

  L1:
    return;

  anon25_Then:
    assume {:partition} GenerateShortName == 0;
    call {:si_unique_call 2872} FatEvaluateNameCase(IrpContext_147, UnicodeName_4, AllLowerComponent_4, AllLowerExtension_4, CreateLfn_4);
    goto L1;

  anon26_Then:
    goto L25;

  anon28_Then:
    assume {:partition} TrySuggestedShortName == 0;
    call {:si_unique_call 2873} vslice_dummy_var_404 := corral_nondet();
    goto L69;

  anon27_Then:
    goto L52;

  anon30_Then:
    assume {:partition} SuggestedShortName != 0;
    TrySuggestedShortName := 1;
    goto L95;

  anon21_Then:
    assume {:nonnull} OemName_2 != 0;
    assume OemName_2 > 0;
    assume {:nonnull} Tmp_2316 != 0;
    assume Tmp_2316 > 0;
    assume {:nonnull} OemName_2 != 0;
    assume OemName_2 > 0;
    assume {:nonnull} Tmp_2316 != 0;
    assume Tmp_2316 > 0;
    assume {:nonnull} OemName_2 != 0;
    assume OemName_2 > 0;
    assume {:nonnull} Tmp_2316 != 0;
    assume Tmp_2316 > 0;
    call {:si_unique_call 2874} sdv_1413 := corral_nondet();
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} sdv_1413 == 0;
    goto L38;

  anon22_Then:
    assume {:partition} sdv_1413 != 0;
    call {:si_unique_call 2875} sdv_1414 := FatSpaceInName(IrpContext_147, UnicodeName_4);
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} sdv_1414 != 0;
    goto L38;

  anon23_Then:
    assume {:partition} sdv_1414 == 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} ShortName_6 != OemName_2;
    assume {:nonnull} OemName_2 != 0;
    assume OemName_2 > 0;
    assume {:nonnull} ShortName_6 != 0;
    assume ShortName_6 > 0;
    assume {:nonnull} OemName_2 != 0;
    assume OemName_2 > 0;
    havoc Tmp_2317;
    call {:si_unique_call 2876} sdv_RtlCopyMemory(0, 0, Tmp_2317);
    goto L19;

  L19:
    GenerateShortName := 0;
    goto L25;

  anon24_Then:
    assume {:partition} ShortName_6 == OemName_2;
    goto L19;
}



procedure {:origName "FatIsIrpTopLevel"} FatIsIrpTopLevel(actual_Irp_64: int) returns (Tmp_2323: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_2323 == 0 || Tmp_2323 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsIrpTopLevel"} FatIsIrpTopLevel(actual_Irp_64: int) returns (Tmp_2323: int)
{
  var {:pointer} sdv_1419: int;

  anon0:
    goto anon5_Then, anon5_Else;

  anon5_Else:
    sdv_1419 := 0;
    goto L6;

  L6:
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} sdv_1419 != 0;
    Tmp_2323 := 0;
    goto L1;

  L1:
    return;

  anon6_Then:
    assume {:partition} sdv_1419 == 0;
    Tmp_2323 := 1;
    goto L1;

  anon5_Then:
    call {:si_unique_call 2877} sdv_1419 := __HAVOC_malloc(1);
    goto L6;
}



procedure {:origName "_sdv_init6"} _sdv_init6();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init6"} _sdv_init6()
{
  var vslice_dummy_var_406: int;

  anon0:
    call {:si_unique_call 2878} vslice_dummy_var_406 := __HAVOC_malloc(4);
    assume FatReserveMdl == 0;
    return;
}



procedure {:origName "FatCompleteRequest_Real"} FatCompleteRequest_Real(actual_IrpContext_149: int, actual_Irp_65: int, actual_Status_55: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCompleteRequest_Real"} FatCompleteRequest_Real(actual_IrpContext_149: int, actual_Irp_65: int, actual_Status_55: int)
{
  var {:scalar} sdv_1420: int;
  var {:pointer} IrpContext_149: int;
  var {:pointer} Irp_65: int;
  var {:scalar} Status_55: int;
  var vslice_dummy_var_407: int;

  anon0:
    call {:si_unique_call 2879} vslice_dummy_var_407 := __HAVOC_malloc(4);
    IrpContext_149 := actual_IrpContext_149;
    Irp_65 := actual_Irp_65;
    Status_55 := actual_Status_55;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} IrpContext_149 != 0;
    call {:si_unique_call 2880} FatUnpinRepinnedBcbs(IrpContext_149);
    goto L4;

  L4:
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} IrpContext_149 != 0;
    call {:si_unique_call 2881} FatDeleteIrpContext_Real(IrpContext_149);
    goto L8;

  L8:
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} Irp_65 != 0;
    call {:si_unique_call 2882} sdv_1420 := sdv_NT_ERROR(Status_55);
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} sdv_1420 != 0;
    assume {:nonnull} Irp_65 != 0;
    assume Irp_65 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} Irp_65 != 0;
    assume Irp_65 > 0;
    goto L17;

  L17:
    assume {:nonnull} Irp_65 != 0;
    assume Irp_65 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_65))] := Status_55;
    call {:si_unique_call 2883} sdv_IoCompleteRequest(0, 1);
    goto L1;

  L1:
    return;

  anon15_Then:
    goto L17;

  anon14_Then:
    assume {:partition} sdv_1420 == 0;
    goto L17;

  anon13_Then:
    assume {:partition} Irp_65 == 0;
    goto L1;

  anon12_Then:
    assume {:partition} IrpContext_149 == 0;
    goto L8;

  anon11_Then:
    assume {:partition} IrpContext_149 == 0;
    goto L4;
}



procedure {:origName "SLIC_ABORT_9_0"} SLIC_ABORT_9_0(actual_caller: int);
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ABORT_9_0"} SLIC_ABORT_9_0(actual_caller: int)
{
  var {:pointer} caller: int;

  anon0:
    caller := actual_caller;
    call {:si_unique_call 2884} SLIC_ERROR_ROUTINE(strConst__li2bpl4);
    return;
}



procedure {:origName "SLIC_ExAcquireSharedStarveExclusive_entry"} {:osmodel} SLIC_ExAcquireSharedStarveExclusive_entry(actual_caller_1: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ExAcquireSharedStarveExclusive_entry"} {:osmodel} SLIC_ExAcquireSharedStarveExclusive_entry(actual_caller_1: int)
{
  var {:pointer} caller_1: int;

  anon0:
    caller_1 := actual_caller_1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 1 < sdv_irql_current;
    call {:si_unique_call 2885} SLIC_ABORT_5_0(caller_1);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto L2;

  L2:
    goto LM2;

  LM2:
    return;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon5_Then:
    assume {:partition} sdv_irql_current <= 1;
    goto L2;
}



procedure {:origName "SLIC_ExAcquireResourceSharedLite_entry"} {:osmodel} SLIC_ExAcquireResourceSharedLite_entry(actual_caller_2: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ExAcquireResourceSharedLite_entry"} {:osmodel} SLIC_ExAcquireResourceSharedLite_entry(actual_caller_2: int)
{
  var {:pointer} caller_2: int;

  anon0:
    caller_2 := actual_caller_2;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 1 < sdv_irql_current;
    call {:si_unique_call 2886} SLIC_ABORT_3_0(caller_2);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto L2;

  L2:
    goto LM2;

  LM2:
    return;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon5_Then:
    assume {:partition} sdv_irql_current <= 1;
    goto L2;
}



procedure {:origName "SLIC_ABORT_3_0"} SLIC_ABORT_3_0(actual_caller_3: int);
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ABORT_3_0"} SLIC_ABORT_3_0(actual_caller_3: int)
{
  var {:pointer} caller_3: int;

  anon0:
    caller_3 := actual_caller_3;
    call {:si_unique_call 2887} SLIC_ERROR_ROUTINE(strConst__li2bpl5);
    return;
}



procedure {:origName "SLIC_ExAcquireSharedWaitForExclusive_entry"} {:osmodel} SLIC_ExAcquireSharedWaitForExclusive_entry(actual_caller_4: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ExAcquireSharedWaitForExclusive_entry"} {:osmodel} SLIC_ExAcquireSharedWaitForExclusive_entry(actual_caller_4: int)
{
  var {:pointer} caller_4: int;

  anon0:
    caller_4 := actual_caller_4;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 1 < sdv_irql_current;
    call {:si_unique_call 2888} SLIC_ABORT_7_0(caller_4);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto L2;

  L2:
    goto LM2;

  LM2:
    return;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon5_Then:
    assume {:partition} sdv_irql_current <= 1;
    goto L2;
}



procedure {:origName "SLIC_ExDeleteResourceLite_entry"} {:osmodel} SLIC_ExDeleteResourceLite_entry(actual_caller_5: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ExDeleteResourceLite_entry"} {:osmodel} SLIC_ExDeleteResourceLite_entry(actual_caller_5: int)
{
  var {:pointer} caller_5: int;

  anon0:
    caller_5 := actual_caller_5;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 1 < sdv_irql_current;
    call {:si_unique_call 2889} SLIC_ABORT_11_0(caller_5);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto L2;

  L2:
    goto LM2;

  LM2:
    return;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon5_Then:
    assume {:partition} sdv_irql_current <= 1;
    goto L2;
}



procedure {:origName "SLIC_ABORT_11_0"} SLIC_ABORT_11_0(actual_caller_6: int);
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ABORT_11_0"} SLIC_ABORT_11_0(actual_caller_6: int)
{
  var {:pointer} caller_6: int;

  anon0:
    caller_6 := actual_caller_6;
    call {:si_unique_call 2890} SLIC_ERROR_ROUTINE(strConst__li2bpl6);
    return;
}



procedure {:origName "SLIC_ExConvertExclusiveToSharedLite_entry"} {:osmodel} SLIC_ExConvertExclusiveToSharedLite_entry(actual_caller_7: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ExConvertExclusiveToSharedLite_entry"} {:osmodel} SLIC_ExConvertExclusiveToSharedLite_entry(actual_caller_7: int)
{
  var {:pointer} caller_7: int;

  anon0:
    caller_7 := actual_caller_7;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 1 < sdv_irql_current;
    call {:si_unique_call 2891} SLIC_ABORT_9_0(caller_7);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto L2;

  L2:
    goto LM2;

  LM2:
    return;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon5_Then:
    assume {:partition} sdv_irql_current <= 1;
    goto L2;
}



procedure {:origName "SLIC_ABORT_7_0"} SLIC_ABORT_7_0(actual_caller_8: int);
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ABORT_7_0"} SLIC_ABORT_7_0(actual_caller_8: int)
{
  var {:pointer} caller_8: int;

  anon0:
    caller_8 := actual_caller_8;
    call {:si_unique_call 2892} SLIC_ERROR_ROUTINE(strConst__li2bpl7);
    return;
}



procedure {:origName "SLIC_ABORT_1_0"} SLIC_ABORT_1_0(actual_caller_9: int);
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ABORT_1_0"} SLIC_ABORT_1_0(actual_caller_9: int)
{
  var {:pointer} caller_9: int;

  anon0:
    caller_9 := actual_caller_9;
    call {:si_unique_call 2893} SLIC_ERROR_ROUTINE(strConst__li2bpl8);
    return;
}



procedure {:origName "SLIC_ABORT_5_0"} SLIC_ABORT_5_0(actual_caller_10: int);
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ABORT_5_0"} SLIC_ABORT_5_0(actual_caller_10: int)
{
  var {:pointer} caller_10: int;

  anon0:
    caller_10 := actual_caller_10;
    call {:si_unique_call 2894} SLIC_ERROR_ROUTINE(strConst__li2bpl9);
    return;
}



procedure {:origName "_sdv_init36"} _sdv_init36();
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init36"} _sdv_init36()
{

  anon0:
    yogi_error := 0;
    assume sdv_cancelFptr == 0;
    return;
}



procedure {:origName "SLIC_ERROR_ROUTINE"} SLIC_ERROR_ROUTINE(actual_msg: int);
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ERROR_ROUTINE"} SLIC_ERROR_ROUTINE(actual_msg: int)
{

  anon0:
    yogi_error := 1;
    return;
}



procedure {:origName "SLIC_ExAcquireResourceExclusiveLite_entry"} {:osmodel} SLIC_ExAcquireResourceExclusiveLite_entry(actual_caller_11: int);
  modifies yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SLIC_ExAcquireResourceExclusiveLite_entry"} {:osmodel} SLIC_ExAcquireResourceExclusiveLite_entry(actual_caller_11: int)
{
  var {:pointer} caller_11: int;

  anon0:
    caller_11 := actual_caller_11;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 1 < sdv_irql_current;
    call {:si_unique_call 2895} SLIC_ABORT_1_0(caller_11);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto L2;

  L2:
    goto LM2;

  LM2:
    return;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon5_Then:
    assume {:partition} sdv_irql_current <= 1;
    goto L2;
}



procedure {:origName "FatRescanDirectory"} FatRescanDirectory(actual_IrpContext_150: int, actual_Dcb_12: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatRescanDirectory"} FatRescanDirectory(actual_IrpContext_150: int, actual_Dcb_12: int)
{
  var {:pointer} Tmp_2329: int;
  var {:scalar} DirentDeleted: int;
  var {:scalar} StartIndexOfThisRun_1: int;
  var {:scalar} DeletedHint: int;
  var {:pointer} Dirent_25: int;
  var {:dopa} {:scalar} Status_56: int;
  var {:scalar} Tmp_2331: int;
  var {:pointer} Tmp_2332: int;
  var {:pointer} Bcb_15: int;
  var {:scalar} Tmp_2334: int;
  var {:scalar} CurrentRun_1: int;
  var {:scalar} DirentIndex: int;
  var {:scalar} UnusedVbo: int;
  var {:pointer} IrpContext_150: int;
  var {:pointer} Dcb_12: int;
  var vslice_dummy_var_408: int;

  anon0:
    call {:si_unique_call 2896} vslice_dummy_var_408 := __HAVOC_malloc(4);
    call {:si_unique_call 2897} Dirent_25 := __HAVOC_malloc(4);
    call {:si_unique_call 2898} Status_56 := __HAVOC_malloc(4);
    call {:si_unique_call 2899} Bcb_15 := __HAVOC_malloc(4);
    IrpContext_150 := actual_IrpContext_150;
    Dcb_12 := actual_Dcb_12;
    call {:si_unique_call 2900} Tmp_2329 := __HAVOC_malloc(44);
    call {:si_unique_call 2901} Tmp_2332 := __HAVOC_malloc(44);
    assume {:nonnull} Bcb_15 != 0;
    assume Bcb_15 > 0;
    call {:si_unique_call 2902} sdv_do_paged_code_check();
    UnusedVbo := 0;
    DeletedHint := -1;
    CurrentRun_1 := 0;
    StartIndexOfThisRun_1 := 0;
    DirentIndex := StartIndexOfThisRun_1;
    goto L24;

  L24:
    call {:si_unique_call 2903} Tmp_2329, DirentDeleted, StartIndexOfThisRun_1, DeletedHint, Tmp_2331, Tmp_2332, Tmp_2334, CurrentRun_1, DirentIndex, UnusedVbo := FatRescanDirectory_loop_L24(Tmp_2329, DirentDeleted, StartIndexOfThisRun_1, DeletedHint, Dirent_25, Status_56, Tmp_2331, Tmp_2332, Bcb_15, Tmp_2334, CurrentRun_1, DirentIndex, UnusedVbo, IrpContext_150, Dcb_12);
    goto L24_last;

  L24_last:
    assume {:nonnull} Dcb_12 != 0;
    assume Dcb_12 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} Status_56 != 0;
    assume Status_56 > 0;
    Mem_T.INT4[Status_56] := -1073741807;
    assume {:nonnull} Bcb_15 != 0;
    assume Bcb_15 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} Bcb_15 != 0;
    assume Bcb_15 > 0;
    goto L28;

  L28:
    assume {:nonnull} Status_56 != 0;
    assume Status_56 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} Mem_T.INT4[Status_56] != -1073741807;
    assume {:nonnull} Dirent_25 != 0;
    assume Dirent_25 > 0;
    havoc Tmp_2329;
    assume {:nonnull} Tmp_2329 != 0;
    assume Tmp_2329 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} Mem_T.INT4[Tmp_2329] != 0;
    assume {:nonnull} Dirent_25 != 0;
    assume Dirent_25 > 0;
    havoc Tmp_2332;
    assume {:nonnull} Tmp_2332 != 0;
    assume Tmp_2332 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} Mem_T.INT4[Tmp_2332] == 229;
    DirentDeleted := 1;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} DeletedHint == -1;
    DeletedHint := UnusedVbo;
    goto L44;

  L44:
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} CurrentRun_1 != 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} CurrentRun_1 == 1;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} DirentDeleted == 0;
    CurrentRun_1 := 2;
    StartIndexOfThisRun_1 := DirentIndex;
    goto L48;

  L48:
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} CurrentRun_1 == 2;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} DirentDeleted != 0;
    CurrentRun_1 := 1;
    StartIndexOfThisRun_1 := DirentIndex;
    goto L56;

  L56:
    UnusedVbo := UnusedVbo + 32;
    assume {:nonnull} Dirent_25 != 0;
    assume Dirent_25 > 0;
    DirentIndex := DirentIndex + 1;
    goto L56_dummy;

  L56_dummy:
    assume false;
    return;

  anon49_Then:
    assume {:partition} DirentDeleted == 0;
    goto L56;

  anon47_Then:
    assume {:partition} CurrentRun_1 != 2;
    goto L56;

  anon48_Then:
    assume {:partition} DirentDeleted != 0;
    goto L48;

  anon46_Then:
    assume {:partition} CurrentRun_1 != 1;
    goto L48;

  anon44_Then:
    assume {:partition} CurrentRun_1 == 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} DirentDeleted != 0;
    Tmp_2331 := 1;
    goto L68;

  L68:
    CurrentRun_1 := Tmp_2331;
    goto L56;

  anon45_Then:
    assume {:partition} DirentDeleted == 0;
    Tmp_2331 := 2;
    goto L68;

  anon60_Then:
    assume {:partition} DeletedHint != -1;
    goto L44;

  anon59_Then:
    assume {:partition} Mem_T.INT4[Tmp_2332] != 229;
    DirentDeleted := 0;
    goto L44;

  anon58_Then:
    assume {:partition} Mem_T.INT4[Tmp_2329] == 0;
    goto L22;

  L22:
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} CurrentRun_1 == 1;
    goto L83;

  L83:
    goto L86;

  L86:
    assume {:nonnull} Dcb_12 != 0;
    assume Dcb_12 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    StartIndexOfThisRun_1 := INTDIV(UnusedVbo, 32);
    assume {:nonnull} Dcb_12 != 0;
    assume Dcb_12 > 0;
    goto L87;

  L87:
    assume {:nonnull} Bcb_15 != 0;
    assume Bcb_15 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:nonnull} Bcb_15 != 0;
    assume Bcb_15 > 0;
    goto L93;

  L93:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} DeletedHint == -1;
    DeletedHint := UnusedVbo;
    goto L98;

  L98:
    assume {:nonnull} Dcb_12 != 0;
    assume Dcb_12 > 0;
    assume {:nonnull} Dcb_12 != 0;
    assume Dcb_12 > 0;
    return;

  anon55_Then:
    assume {:partition} DeletedHint != -1;
    goto L98;

  anon54_Then:
    goto L93;

  anon53_Then:
    goto L87;

  anon57_Then:
    assume {:partition} CurrentRun_1 != 1;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} CurrentRun_1 != 0;
    goto L86;

  anon52_Then:
    assume {:partition} CurrentRun_1 == 0;
    goto L83;

  anon43_Then:
    assume {:partition} Mem_T.INT4[Status_56] == -1073741807;
    goto L22;

  anon56_Then:
    goto L28;

  anon41_Then:
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} INTMOD(UnusedVbo, 4096) != 0;
    assume {:nonnull} Bcb_15 != 0;
    assume Bcb_15 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    goto L69;

  L69:
    assume {:nonnull} Bcb_15 != 0;
    assume Bcb_15 > 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:nonnull} Bcb_15 != 0;
    assume Bcb_15 > 0;
    goto L71;

  L71:
    Tmp_2334 := BAND(UnusedVbo, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 2904} FatReadDirectoryFile#1(IrpContext_150, Dcb_12, Tmp_2334, 4096, 0, Bcb_15, Dirent_25, Status_56);
    assume {:nonnull} Dirent_25 != 0;
    assume Dirent_25 > 0;
    goto L28;

  anon50_Then:
    goto L71;

  anon51_Then:
    goto L28;

  anon42_Then:
    assume {:partition} INTMOD(UnusedVbo, 4096) == 0;
    goto L69;
}



procedure {:origName "FatConstructDirent"} FatConstructDirent(actual_IrpContext_151: int, actual_Dirent_26: int, actual_FileName_1: int, actual_ComponentReallyLowercase: int, actual_ExtensionReallyLowercase: int, actual_Lfn_9: int, actual_Attributes_1: int, actual_ZeroAndSetTimeFields: int, actual_SetCreationTime: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatConstructDirent"} FatConstructDirent(actual_IrpContext_151: int, actual_Dirent_26: int, actual_FileName_1: int, actual_ComponentReallyLowercase: int, actual_ExtensionReallyLowercase: int, actual_Lfn_9: int, actual_Attributes_1: int, actual_ZeroAndSetTimeFields: int, actual_SetCreationTime: int)
{
  var {:scalar} i_18: int;
  var {:scalar} LfnOrdinal: int;
  var {:pointer} Tmp_2336: int;
  var {:scalar} Tmp_2337: int;
  var {:scalar} DirentsInLfn: int;
  var {:scalar} Time: int;
  var {:pointer} Tmp_2338: int;
  var {:scalar} Tmp_2339: int;
  var {:scalar} DirentChecksum: int;
  var {:scalar} sdv_1421: int;
  var {:scalar} Tmp_2343: int;
  var {:pointer} Tmp_2345: int;
  var {:pointer} Buffer_27: int;
  var {:scalar} RemainderChars: int;
  var {:pointer} LfnDirent: int;
  var {:scalar} sdv_1422: int;
  var {:pointer} Tmp_2347: int;
  var {:pointer} Tmp_2348: int;
  var {:scalar} sdv_1423: int;
  var {:scalar} Tmp_2349: int;
  var {:scalar} SaveTime: int;
  var {:scalar} Tmp_2350: int;
  var {:pointer} FinalLfnBuffer: int;
  var {:pointer} Tmp_2353: int;
  var {:pointer} LfnBuffer_2: int;
  var {:pointer} IrpContext_151: int;
  var {:pointer} Dirent_26: int;
  var {:pointer} FileName_1: int;
  var {:scalar} ComponentReallyLowercase: int;
  var {:scalar} ExtensionReallyLowercase: int;
  var {:pointer} Lfn_9: int;
  var {:scalar} Attributes_1: int;
  var {:scalar} ZeroAndSetTimeFields: int;
  var {:pointer} SetCreationTime: int;
  var vslice_dummy_var_409: int;

  anon0:
    call {:si_unique_call 2905} Time := __HAVOC_malloc(20);
    call {:si_unique_call 2906} vslice_dummy_var_409 := __HAVOC_malloc(4);
    call {:si_unique_call 2907} Tmp_2349 := __HAVOC_malloc(12);
    call {:si_unique_call 2908} SaveTime := __HAVOC_malloc(20);
    IrpContext_151 := actual_IrpContext_151;
    Dirent_26 := actual_Dirent_26;
    FileName_1 := actual_FileName_1;
    ComponentReallyLowercase := actual_ComponentReallyLowercase;
    ExtensionReallyLowercase := actual_ExtensionReallyLowercase;
    Lfn_9 := actual_Lfn_9;
    Attributes_1 := actual_Attributes_1;
    ZeroAndSetTimeFields := actual_ZeroAndSetTimeFields;
    SetCreationTime := actual_SetCreationTime;
    call {:si_unique_call 2909} Tmp_2336 := __HAVOC_malloc(44);
    call {:si_unique_call 2910} Tmp_2345 := __HAVOC_malloc(40);
    call {:si_unique_call 2911} Tmp_2347 := __HAVOC_malloc(24);
    call {:si_unique_call 2912} Tmp_2348 := __HAVOC_malloc(8);
    call {:si_unique_call 2913} FinalLfnBuffer := __HAVOC_malloc(52);
    call {:si_unique_call 2914} sdv_do_paged_code_check();
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} ZeroAndSetTimeFields != 0;
    call {:si_unique_call 2915} sdv_RtlZeroMemory(0, 32);
    goto L7;

  L7:
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    havoc Tmp_2336;
    Tmp_2338 := Tmp_2336;
    assume {:nonnull} FileName_1 != 0;
    assume FileName_1 > 0;
    assume {:nonnull} Tmp_2349 != 0;
    assume Tmp_2349 > 0;
    assume {:nonnull} FileName_1 != 0;
    assume FileName_1 > 0;
    assume {:nonnull} Tmp_2349 != 0;
    assume Tmp_2349 > 0;
    assume {:nonnull} FileName_1 != 0;
    assume FileName_1 > 0;
    assume {:nonnull} Tmp_2349 != 0;
    assume Tmp_2349 > 0;
    call {:si_unique_call 2916} FatStringTo8dot3(IrpContext_151, Tmp_2349, Tmp_2338);
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} ZeroAndSetTimeFields != 0;
    goto L19;

  L19:
    goto anon40_Then, anon40_Else;

  anon40_Else:
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} SetCreationTime != 0;
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    call {:si_unique_call 2917} sdv_1421 := FatNtTimeToFatTime(IrpContext_151, SetCreationTime, 0, CreationTime__PACKED_DIRENT(Dirent_26), CreationMSec__PACKED_DIRENT(Dirent_26));
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} sdv_1421 == 0;
    goto L25;

  L25:
    assume {:nonnull} SaveTime != 0;
    assume SaveTime > 0;
    assume {:nonnull} Time != 0;
    assume Time > 0;
    assume {:nonnull} SaveTime != 0;
    assume SaveTime > 0;
    assume {:nonnull} Time != 0;
    assume Time > 0;
    assume {:nonnull} SaveTime != 0;
    assume SaveTime > 0;
    assume {:nonnull} Time != 0;
    assume Time > 0;
    assume {:nonnull} SaveTime != 0;
    assume SaveTime > 0;
    assume {:nonnull} Time != 0;
    assume Time > 0;
    assume {:nonnull} SaveTime != 0;
    assume SaveTime > 0;
    assume {:nonnull} Time != 0;
    assume Time > 0;
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    call {:si_unique_call 2918} sdv_1422 := FatNtTimeToFatTime(IrpContext_151, SaveTime, 0, CreationTime__PACKED_DIRENT(Dirent_26), CreationMSec__PACKED_DIRENT(Dirent_26));
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} sdv_1422 == 0;
    call {:si_unique_call 2919} sdv_RtlZeroMemory(0, 4);
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    Mem_T.INT4[CreationMSec__PACKED_DIRENT(Dirent_26)] := 0;
    goto L23;

  L23:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} ZeroAndSetTimeFields != 0;
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    call {:si_unique_call 2920} sdv_1423 := FatNtTimeToFatTime(IrpContext_151, Time, 1, LastWriteTime__PACKED_DIRENT(Dirent_26), 0);
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} sdv_1423 != 0;
    goto L46;

  L46:
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    goto L38;

  L38:
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} ComponentReallyLowercase != 0;
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    goto L50;

  L50:
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} ExtensionReallyLowercase != 0;
    assume {:nonnull} Dirent_26 != 0;
    assume Dirent_26 > 0;
    goto L52;

  L52:
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} Lfn_9 != 0;
    call {:si_unique_call 2921} DirentChecksum := FatComputeLfnChecksum(Dirent_26);
    assume {:nonnull} Lfn_9 != 0;
    assume Lfn_9 > 0;
    havoc DirentsInLfn;
    LfnOrdinal := DirentsInLfn;
    Tmp_2350 := (DirentsInLfn - 1) * 13;
    assume {:nonnull} Lfn_9 != 0;
    assume Lfn_9 > 0;
    havoc Tmp_2353;
    LfnBuffer_2 := Tmp_2353 + Tmp_2350 * 4;
    LfnDirent := Dirent_26;
    goto L68;

  L68:
    call {:si_unique_call 2922} i_18, LfnOrdinal, Tmp_2337, Tmp_2339, Tmp_2343, Tmp_2345, Buffer_27, RemainderChars, Tmp_2347, Tmp_2348 := FatConstructDirent_loop_L68(i_18, LfnOrdinal, Tmp_2337, DirentsInLfn, Tmp_2339, DirentChecksum, Tmp_2343, Tmp_2345, Buffer_27, RemainderChars, LfnDirent, Tmp_2347, Tmp_2348, FinalLfnBuffer, LfnBuffer_2, Dirent_26, Lfn_9);
    goto L68_last;

  L68_last:
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} Dirent_26 > LfnDirent;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} LfnOrdinal == DirentsInLfn;
    assume {:nonnull} Lfn_9 != 0;
    assume Lfn_9 > 0;
    havoc RemainderChars;
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} RemainderChars != 0;
    Tmp_2339 := RemainderChars * 2;
    call {:si_unique_call 2923} sdv_RtlCopyMemory(0, 0, Tmp_2339);
    i_18 := RemainderChars;
    goto L84;

  L84:
    call {:si_unique_call 2924} i_18, Tmp_2337, Tmp_2343 := FatConstructDirent_loop_L84(i_18, Tmp_2337, Tmp_2343, RemainderChars, FinalLfnBuffer);
    goto L84_last;

  L84_last:
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} 13 > i_18;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} i_18 == RemainderChars;
    Tmp_2337 := i_18;
    assume {:nonnull} FinalLfnBuffer != 0;
    assume FinalLfnBuffer > 0;
    Mem_T.INT4[FinalLfnBuffer + Tmp_2337 * 4] := 0;
    goto L89;

  L89:
    i_18 := i_18 + 1;
    goto L89_dummy;

  L89_dummy:
    assume false;
    return;

  anon52_Then:
    assume {:partition} i_18 != RemainderChars;
    Tmp_2343 := i_18;
    assume {:nonnull} FinalLfnBuffer != 0;
    assume FinalLfnBuffer > 0;
    Mem_T.INT4[FinalLfnBuffer + Tmp_2343 * 4] := 65535;
    goto L89;

  anon51_Then:
    assume {:partition} i_18 >= 13;
    Buffer_27 := FinalLfnBuffer;
    goto L90;

  L90:
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    havoc Tmp_2345;
    call {:si_unique_call 2925} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    havoc Tmp_2347;
    call {:si_unique_call 2926} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    havoc Tmp_2348;
    call {:si_unique_call 2927} sdv_RtlCopyMemory(0, 0, 4);
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    LfnOrdinal := LfnOrdinal - 1;
    goto L90_dummy;

  L90_dummy:
    assume false;
    return;

  anon54_Then:
    assume {:partition} RemainderChars == 0;
    Buffer_27 := LfnBuffer_2;
    goto L90;

  anon50_Then:
    assume {:partition} LfnOrdinal != DirentsInLfn;
    assume {:nonnull} LfnDirent != 0;
    assume LfnDirent > 0;
    Buffer_27 := LfnBuffer_2;
    goto L90;

  anon49_Then:
    assume {:partition} LfnDirent >= Dirent_26;
    goto L1;

  L1:
    return;

  anon48_Then:
    assume {:partition} Lfn_9 == 0;
    goto L1;

  anon47_Then:
    assume {:partition} ExtensionReallyLowercase == 0;
    goto L52;

  anon53_Then:
    assume {:partition} ComponentReallyLowercase == 0;
    goto L50;

  anon46_Then:
    goto L38;

  anon45_Then:
    assume {:partition} sdv_1423 == 0;
    call {:si_unique_call 2928} sdv_RtlZeroMemory(0, 4);
    goto L46;

  anon41_Then:
    assume {:partition} ZeroAndSetTimeFields == 0;
    goto L38;

  anon44_Then:
    assume {:partition} sdv_1422 != 0;
    goto L23;

  anon43_Then:
    assume {:partition} sdv_1421 != 0;
    goto L23;

  anon42_Then:
    assume {:partition} SetCreationTime == 0;
    goto L25;

  anon40_Then:
    goto L23;

  anon38_Then:
    assume {:partition} ZeroAndSetTimeFields == 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} SetCreationTime == 0;
    goto L38;

  anon39_Then:
    assume {:partition} SetCreationTime != 0;
    goto L19;

  anon37_Then:
    assume {:partition} ZeroAndSetTimeFields == 0;
    goto L7;
}



procedure {:origName "FatDefragDirectory"} FatDefragDirectory(actual_IrpContext_152: int, actual_Dcb_13: int, actual_DirentsNeeded_2: int) returns (Tmp_2354: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDefragDirectory"} FatDefragDirectory(actual_IrpContext_152: int, actual_Dcb_13: int, actual_DirentsNeeded_2: int) returns (Tmp_2354: int)
{
  var {:pointer} Links_7: int;
  var {:pointer} Char: int;
  var {:pointer} Bcbs: int;
  var {:scalar} Tmp_2355: int;
  var {:scalar} LfnByteOffset_3: int;
  var {:scalar} DcbSize: int;
  var {:pointer} TmpDirent: int;
  var {:scalar} Ccb_31: int;
  var {:scalar} Lbo_17: int;
  var {:scalar} PagesPinned: int;
  var {:pointer} UnusedDirentBuffer: int;
  var {:scalar} Tmp_2357: int;
  var {:scalar} Tmp_2358: int;
  var {:pointer} Fcb_58: int;
  var {:scalar} Tmp_2359: int;
  var {:scalar} Tmp_2360: int;
  var {:scalar} Tmp_2361: int;
  var {:scalar} TotalBytesAllocated: int;
  var {:pointer} TmpBcb: int;
  var {:scalar} Lfn_10: int;
  var {:pointer} sdv_1427: int;
  var {:dopa} {:scalar} TmpOffset: int;
  var {:scalar} SavedIrpContextFlag: int;
  var {:scalar} Tmp_2365: int;
  var {:pointer} Dirent_27: int;
  var {:scalar} TotalRuns: int;
  var {:pointer} sdv_1428: int;
  var {:scalar} PreviousLfnSpread: int;
  var {:pointer} UsedDirents: int;
  var {:pointer} Bcb_16: int;
  var {:pointer} UsedDirentBuffer: int;
  var {:pointer} sdv_1429: int;
  var {:dopa} {:scalar} FoundOffset: int;
  var {:pointer} sdv_1430: int;
  var {:scalar} Tmp_2370: int;
  var {:scalar} Tmp_2371: int;
  var {:dopa} {:scalar} DontCare_4: int;
  var {:pointer} Tmp_2372: int;
  var {:scalar} Tmp_2374: int;
  var {:scalar} ReturnValue: int;
  var {:scalar} Page_4: int;
  var {:pointer} sdv_1435: int;
  var {:scalar} McbInitialized: int;
  var {:pointer} sdv_1436: int;
  var {:scalar} InvalidateFcbs: int;
  var {:scalar} PinSize: int;
  var {:scalar} BytesUsed: int;
  var {:scalar} Run_1: int;
  var {:scalar} Tmp_2376: int;
  var {:pointer} sdv_1438: int;
  var {:scalar} Tmp_2378: int;
  var {:scalar} QueryOffset: int;
  var {:scalar} Tmp_2379: int;
  var {:pointer} UnusedDirents: int;
  var {:pointer} Directory: int;
  var {:scalar} Tmp_2380: int;
  var {:pointer} IrpContext_152: int;
  var {:pointer} Dcb_13: int;
  var {:scalar} DirentsNeeded_2: int;
  var vslice_dummy_var_410: int;
  var vslice_dummy_var_411: int;
  var vslice_dummy_var_412: int;
  var vslice_dummy_var_413: int;

  anon0:
    call {:si_unique_call 2929} TmpDirent := __HAVOC_malloc(4);
    call {:si_unique_call 2930} Ccb_31 := __HAVOC_malloc(88);
    call {:si_unique_call 2931} TmpBcb := __HAVOC_malloc(4);
    call {:si_unique_call 2932} Lfn_10 := __HAVOC_malloc(12);
    call {:si_unique_call 2933} TmpOffset := __HAVOC_malloc(4);
    call {:si_unique_call 2934} Dirent_27 := __HAVOC_malloc(4);
    call {:si_unique_call 2935} vslice_dummy_var_410 := __HAVOC_malloc(24);
    call {:si_unique_call 2936} Bcb_16 := __HAVOC_malloc(4);
    call {:si_unique_call 2937} FoundOffset := __HAVOC_malloc(4);
    call {:si_unique_call 2938} DontCare_4 := __HAVOC_malloc(4);
    IrpContext_152 := actual_IrpContext_152;
    Dcb_13 := actual_Dcb_13;
    DirentsNeeded_2 := actual_DirentsNeeded_2;
    assume {:nonnull} Bcb_16 != 0;
    assume Bcb_16 > 0;
    assume {:nonnull} Dirent_27 != 0;
    assume Dirent_27 > 0;
    assume {:nonnull} Lfn_10 != 0;
    assume Lfn_10 > 0;
    assume {:nonnull} Lfn_10 != 0;
    assume Lfn_10 > 0;
    assume {:nonnull} Lfn_10 != 0;
    assume Lfn_10 > 0;
    McbInitialized := 0;
    InvalidateFcbs := 0;
    UnusedDirentBuffer := 0;
    UsedDirentBuffer := 0;
    Bcbs := 0;
    TotalBytesAllocated := 0;
    call {:si_unique_call 2939} sdv_do_paged_code_check();
    assume {:nonnull} Dcb_13 != 0;
    assume Dcb_13 > 0;
    havoc DcbSize;
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} DcbSize > 262144;
    Tmp_2354 := -1;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon103_Then:
    assume {:partition} 262144 >= DcbSize;
    assume {:nonnull} IrpContext_152 != 0;
    assume IrpContext_152 > 0;
    havoc SavedIrpContextFlag;
    assume {:nonnull} IrpContext_152 != 0;
    assume IrpContext_152 > 0;
    assume {:nonnull} Dcb_13 != 0;
    assume Dcb_13 > 0;
    havoc Links_7;
    goto L43;

  L43:
    call {:si_unique_call 2940} Links_7, Fcb_58, sdv_1427, vslice_dummy_var_412 := FatDefragDirectory_loop_L43(Links_7, Fcb_58, sdv_1427, vslice_dummy_var_412);
    goto L43_last;

  L43_last:
    goto anon73_Then, anon73_Else;

  anon73_Else:
    QueryOffset := 0;
    assume {:nonnull} FoundOffset != 0;
    assume FoundOffset > 0;
    Mem_T.INT4[FoundOffset] := 0;
    BytesUsed := 0;
    call {:si_unique_call 2941} sdv_RtlZeroMemory(0, 44);
    assume {:nonnull} Ccb_31 != 0;
    assume Ccb_31 > 0;
    assume {:nonnull} Lfn_10 != 0;
    assume Lfn_10 > 0;
    call {:si_unique_call 2942} sdv_1435 := ExAllocatePoolWithTag(17, 520, -294362810);
    assume {:nonnull} Lfn_10 != 0;
    assume Lfn_10 > 0;
    McbInitialized := 1;
    goto L122;

  L122:
    call {:si_unique_call 2943} LfnByteOffset_3, TotalBytesAllocated, BytesUsed, QueryOffset, vslice_dummy_var_413 := FatDefragDirectory_loop_L122(LfnByteOffset_3, DcbSize, Ccb_31, TotalBytesAllocated, Lfn_10, Dirent_27, Bcb_16, FoundOffset, BytesUsed, QueryOffset, IrpContext_152, Dcb_13, vslice_dummy_var_413);
    goto L122_last;

  L122_last:
    call {:si_unique_call 2976} FatLocateDirent#1(IrpContext_152, Dcb_13, Ccb_31, QueryOffset, Dirent_27, Bcb_16, FoundOffset, 0, Lfn_10);
    assume {:nonnull} Dirent_27 != 0;
    assume Dirent_27 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:nonnull} FoundOffset != 0;
    assume FoundOffset > 0;
    assume {:nonnull} Lfn_10 != 0;
    assume Lfn_10 > 0;
    havoc LfnByteOffset_3;
    assume {:nonnull} FoundOffset != 0;
    assume FoundOffset > 0;
    BytesUsed := Mem_T.INT4[FoundOffset] - LfnByteOffset_3 + 32;
    call {:si_unique_call 2944} vslice_dummy_var_413 := corral_nondet();
    TotalBytesAllocated := TotalBytesAllocated + BytesUsed;
    assume {:nonnull} FoundOffset != 0;
    assume FoundOffset > 0;
    QueryOffset := Mem_T.INT4[FoundOffset] + 32;
    goto L126;

  L126:
    assume {:nonnull} Dirent_27 != 0;
    assume Dirent_27 > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} DcbSize <= QueryOffset;
    goto L138;

  L138:
    assume {:nonnull} Bcb_16 != 0;
    assume Bcb_16 > 0;
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:nonnull} Bcb_16 != 0;
    assume Bcb_16 > 0;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:nonnull} Bcb_16 != 0;
    assume Bcb_16 > 0;
    goto L140;

  L140:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} DirentsNeeded_2 > INTDIV(DcbSize - TotalBytesAllocated, 32);
    ReturnValue := -1;
    goto L149;

  L149:
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} McbInitialized != 0;
    goto L150;

  L150:
    assume {:nonnull} Lfn_10 != 0;
    assume Lfn_10 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    call {:si_unique_call 2945} sdv_ExFreePool(0);
    goto L154;

  L154:
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} UnusedDirentBuffer != 0;
    call {:si_unique_call 2946} sdv_ExFreePool(0);
    goto L158;

  L158:
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} UsedDirentBuffer != 0;
    call {:si_unique_call 2947} sdv_ExFreePool(0);
    goto L162;

  L162:
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} Bcbs != 0;
    Page_4 := 0;
    goto L168;

  L168:
    call {:si_unique_call 2948} Tmp_2358, Page_4, Tmp_2376, Tmp_2380 := FatDefragDirectory_loop_L168(Bcbs, PagesPinned, Tmp_2358, Page_4, Tmp_2376, Tmp_2380);
    goto L168_last;

  L168_last:
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:partition} PagesPinned > Page_4;
    Tmp_2380 := Page_4;
    assume {:nonnull} Bcbs != 0;
    assume Bcbs > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    Tmp_2358 := Page_4;
    assume {:nonnull} Bcbs != 0;
    assume Bcbs > 0;
    Tmp_2376 := Page_4;
    assume {:nonnull} Bcbs != 0;
    assume Bcbs > 0;
    goto L173;

  L173:
    Page_4 := Page_4 + 1;
    goto L173_dummy;

  L173_dummy:
    assume false;
    return;

  anon105_Then:
    goto L173;

  anon86_Then:
    assume {:partition} Page_4 >= PagesPinned;
    call {:si_unique_call 2949} sdv_ExFreePool(0);
    goto L166;

  L166:
    assume {:nonnull} Bcb_16 != 0;
    assume Bcb_16 > 0;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:nonnull} Bcb_16 != 0;
    assume Bcb_16 > 0;
    goto L179;

  L179:
    assume {:nonnull} Dcb_13 != 0;
    assume Dcb_13 > 0;
    havoc Links_7;
    goto L184;

  L184:
    call {:si_unique_call 2950} Links_7, Fcb_58, sdv_1428 := FatDefragDirectory_loop_L184(Links_7, Fcb_58, sdv_1428);
    goto L184_last;

  L184_last:
    goto anon87_Then, anon87_Else;

  anon87_Else:
    call {:si_unique_call 2951} sdv_1428 := sdv_containing_record(Links_7, 72);
    Fcb_58 := sdv_1428;
    call {:si_unique_call 2952} ExReleaseResourceLite(0);
    assume {:nonnull} Links_7 != 0;
    assume Links_7 > 0;
    havoc Links_7;
    goto anon87_Else_dummy;

  anon87_Else_dummy:
    assume false;
    return;

  anon87_Then:
    assume {:nonnull} IrpContext_152 != 0;
    assume IrpContext_152 > 0;
    Tmp_2354 := ReturnValue;
    goto L1;

  anon85_Then:
    goto L179;

  anon84_Then:
    assume {:partition} Bcbs == 0;
    goto L166;

  anon83_Then:
    assume {:partition} UsedDirentBuffer == 0;
    goto L162;

  anon82_Then:
    assume {:partition} UnusedDirentBuffer == 0;
    goto L158;

  anon81_Then:
    goto L154;

  anon80_Then:
    assume {:partition} McbInitialized == 0;
    goto L150;

  anon78_Then:
    assume {:partition} INTDIV(DcbSize - TotalBytesAllocated, 32) >= DirentsNeeded_2;
    Tmp_2370 := DcbSize - TotalBytesAllocated;
    call {:si_unique_call 2953} sdv_1438 := ExAllocatePoolWithTag(17, Tmp_2370, -999005882);
    UnusedDirentBuffer := sdv_1438;
    UnusedDirents := UnusedDirentBuffer;
    call {:si_unique_call 2954} sdv_1430 := ExAllocatePoolWithTag(17, TotalBytesAllocated, -999005882);
    UsedDirentBuffer := sdv_1430;
    UsedDirents := UsedDirentBuffer;
    PagesPinned := INTDIV(DcbSize + 4095, 4096);
    Tmp_2359 := PagesPinned * 4;
    call {:si_unique_call 2955} sdv_1429 := ExAllocatePoolWithTag(17, Tmp_2359, -495689402);
    Bcbs := sdv_1429;
    Tmp_2355 := PagesPinned * 4;
    call {:si_unique_call 2956} sdv_RtlZeroMemory(0, Tmp_2355);
    Page_4 := 0;
    goto L216;

  L216:
    call {:si_unique_call 2957} Tmp_2371, Tmp_2372, Page_4, PinSize, Tmp_2378, Directory := FatDefragDirectory_loop_L216(Bcbs, DcbSize, PagesPinned, Dirent_27, Tmp_2371, DontCare_4, Tmp_2372, Page_4, PinSize, Tmp_2378, Directory, IrpContext_152, Dcb_13);
    goto L216_last;

  L216_last:
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} PagesPinned > Page_4;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} (Page_4 + 1) * 4096 > DcbSize;
    PinSize := DcbSize - Page_4 * 4096;
    goto L224;

  L224:
    Tmp_2371 := Page_4;
    Tmp_2372 := Bcbs + Tmp_2371 * 4;
    Tmp_2378 := Page_4 * 4096;
    call {:si_unique_call 2958} FatPrepareWriteDirectoryFile(IrpContext_152, Dcb_13, Tmp_2378, PinSize, Tmp_2372, Dirent_27, 0, 1, DontCare_4);
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} yogi_error != 1;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} Page_4 != 0;
    goto L231;

  L231:
    Page_4 := Page_4 + 1;
    goto L231_dummy;

  L231_dummy:
    assume false;
    return;

  anon90_Then:
    assume {:partition} Page_4 == 0;
    assume {:nonnull} Dirent_27 != 0;
    assume Dirent_27 > 0;
    havoc Directory;
    goto L231;

  anon106_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon89_Then:
    assume {:partition} DcbSize >= (Page_4 + 1) * 4096;
    PinSize := 4096;
    goto L224;

  anon88_Then:
    assume {:partition} Page_4 >= PagesPinned;
    call {:si_unique_call 2959} TotalRuns := corral_nondet();
    Run_1 := 0;
    goto L234;

  L234:
    call {:si_unique_call 2960} Tmp_2361, Tmp_2374, Run_1, vslice_dummy_var_411 := FatDefragDirectory_loop_L234(Lbo_17, Tmp_2361, TotalRuns, UsedDirents, Tmp_2374, BytesUsed, Run_1, UnusedDirents, Directory, vslice_dummy_var_411);
    goto L234_last;

  L234_last:
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:partition} TotalRuns > Run_1;
    call {:si_unique_call 2961} vslice_dummy_var_411 := corral_nondet();
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} Lbo_17 != -1;
    Tmp_2374 := BytesUsed;
    call {:si_unique_call 2962} sdv_RtlCopyMemory(0, 0, Tmp_2374);
    goto L250;

  L250:
    Run_1 := Run_1 + 1;
    goto L250_dummy;

  L250_dummy:
    assume false;
    return;

  anon92_Then:
    assume {:partition} Lbo_17 == -1;
    Tmp_2361 := BytesUsed;
    call {:si_unique_call 2963} sdv_RtlCopyMemory(0, 0, Tmp_2361);
    goto L250;

  anon91_Then:
    assume {:partition} Run_1 >= TotalRuns;
    Char := UnusedDirentBuffer;
    goto L256;

  L256:
    call {:si_unique_call 2964} FatDefragDirectory_loop_L256(Char, UnusedDirents);
    goto L256_last;

  L256_last:
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} UnusedDirents > Char;
    assume {:nonnull} Char != 0;
    assume Char > 0;
    Mem_T.INT4[Char] := 229;
    goto anon93_Else_dummy;

  anon93_Else_dummy:
    assume false;
    return;

  anon93_Then:
    assume {:partition} Char >= UnusedDirents;
    call {:si_unique_call 2965} sdv_RtlCopyMemory(0, 0, TotalBytesAllocated);
    Tmp_2365 := UnusedDirents;
    call {:si_unique_call 2966} sdv_RtlCopyMemory(0, 0, Tmp_2365);
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} Bcbs != 0;
    Page_4 := 0;
    goto L270;

  L270:
    call {:si_unique_call 2967} Tmp_2357, Tmp_2360, Page_4, Tmp_2379 := FatDefragDirectory_loop_L270(Bcbs, PagesPinned, Tmp_2357, Tmp_2360, Page_4, Tmp_2379);
    goto L270_last;

  L270_last:
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:partition} PagesPinned > Page_4;
    Tmp_2357 := Page_4;
    assume {:nonnull} Bcbs != 0;
    assume Bcbs > 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    Tmp_2360 := Page_4;
    assume {:nonnull} Bcbs != 0;
    assume Bcbs > 0;
    Tmp_2379 := Page_4;
    assume {:nonnull} Bcbs != 0;
    assume Bcbs > 0;
    goto L275;

  L275:
    Page_4 := Page_4 + 1;
    goto L275_dummy;

  L275_dummy:
    assume false;
    return;

  anon107_Then:
    goto L275;

  anon95_Then:
    assume {:partition} Page_4 >= PagesPinned;
    call {:si_unique_call 2968} sdv_ExFreePool(0);
    Bcbs := 0;
    goto L268;

  L268:
    ReturnValue := INTDIV(TotalBytesAllocated, 32);
    call {:si_unique_call 2969} FatUnpinRepinnedBcbs(IrpContext_152);
    assume {:nonnull} Dcb_13 != 0;
    assume Dcb_13 > 0;
    havoc Links_7;
    goto L306;

  L306:
    call {:si_unique_call 2970} Links_7, Fcb_58, PreviousLfnSpread, sdv_1436 := FatDefragDirectory_loop_L306(Links_7, TmpDirent, Fcb_58, TmpBcb, TmpOffset, PreviousLfnSpread, sdv_1436, InvalidateFcbs, IrpContext_152, Dcb_13);
    goto L306_last;

  L306_last:
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:nonnull} TmpBcb != 0;
    assume TmpBcb > 0;
    assume {:nonnull} TmpDirent != 0;
    assume TmpDirent > 0;
    call {:si_unique_call 2971} sdv_1436 := sdv_containing_record(Links_7, 72);
    Fcb_58 := sdv_1436;
    assume {:nonnull} Fcb_58 != 0;
    assume Fcb_58 > 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:nonnull} Fcb_58 != 0;
    assume Fcb_58 > 0;
    goto anon98_Then, anon98_Else;

  anon98_Else:
    goto L321;

  L321:
    assume {:nonnull} Links_7 != 0;
    assume Links_7 > 0;
    havoc Links_7;
    goto L321_dummy;

  L321_dummy:
    assume false;
    return;

  anon98_Then:
    goto L318;

  L318:
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} InvalidateFcbs != 0;
    goto L325;

  L325:
    assume {:nonnull} TmpBcb != 0;
    assume TmpBcb > 0;
    goto anon99_Then, anon99_Else;

  anon99_Else:
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} InvalidateFcbs == 0;
    assume {:nonnull} TmpBcb != 0;
    assume TmpBcb > 0;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:nonnull} TmpBcb != 0;
    assume TmpBcb > 0;
    goto L329;

  L329:
    assume {:nonnull} Fcb_58 != 0;
    assume Fcb_58 > 0;
    havoc PreviousLfnSpread;
    assume {:nonnull} Fcb_58 != 0;
    assume Fcb_58 > 0;
    assume {:nonnull} TmpOffset != 0;
    assume TmpOffset > 0;
    assume {:nonnull} Fcb_58 != 0;
    assume Fcb_58 > 0;
    assume {:nonnull} TmpOffset != 0;
    assume TmpOffset > 0;
    goto L321;

  anon102_Then:
    goto L329;

  anon101_Then:
    assume {:partition} InvalidateFcbs != 0;
    goto L326;

  L326:
    assume {:nonnull} TmpBcb != 0;
    assume TmpBcb > 0;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:nonnull} TmpBcb != 0;
    assume TmpBcb > 0;
    goto L336;

  L336:
    call {:si_unique_call 2972} FatMarkFcbCondition(IrpContext_152, Fcb_58, 2, 1);
    goto L321;

  anon100_Then:
    goto L336;

  anon99_Then:
    goto L326;

  anon97_Then:
    assume {:partition} InvalidateFcbs == 0;
    assume {:nonnull} Fcb_58 != 0;
    assume Fcb_58 > 0;
    call {:si_unique_call 2973} FatLocateSimpleOemDirent(IrpContext_152, Dcb_13, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(Fcb_58))), TmpDirent, TmpBcb, TmpOffset);
    goto L325;

  anon108_Then:
    goto L318;

  anon96_Then:
    goto L149;

  anon94_Then:
    assume {:partition} Bcbs == 0;
    goto L268;

  anon79_Then:
    goto L140;

  anon76_Then:
    goto L140;

  anon77_Then:
    assume {:partition} QueryOffset < DcbSize;
    goto anon77_Then_dummy;

  anon77_Then_dummy:
    assume false;
    return;

  anon75_Then:
    goto L138;

  anon74_Then:
    goto L126;

  anon73_Then:
    call {:si_unique_call 2974} sdv_1427 := sdv_containing_record(Links_7, 72);
    Fcb_58 := sdv_1427;
    call {:si_unique_call 2975} vslice_dummy_var_412 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Links_7 != 0;
    assume Links_7 > 0;
    havoc Links_7;
    goto anon104_Else_dummy;

  anon104_Else_dummy:
    assume false;
    return;

  anon104_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatComputeLfnChecksum"} FatComputeLfnChecksum(actual_Dirent_28: int) returns (Tmp_2381: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatComputeLfnChecksum"} FatComputeLfnChecksum(actual_Dirent_28: int) returns (Tmp_2381: int)
{
  var {:scalar} i_19: int;
  var {:scalar} Checksum: int;
  var {:pointer} Tmp_2384: int;
  var {:pointer} Dirent_28: int;
  var vslice_dummy_var_414: int;

  anon0:
    Dirent_28 := actual_Dirent_28;
    call {:si_unique_call 2977} vslice_dummy_var_414 := __HAVOC_malloc(44);
    call {:si_unique_call 2978} Tmp_2384 := __HAVOC_malloc(44);
    call {:si_unique_call 2979} sdv_do_paged_code_check();
    assume {:nonnull} Dirent_28 != 0;
    assume Dirent_28 > 0;
    havoc Tmp_2384;
    assume {:nonnull} Tmp_2384 != 0;
    assume Tmp_2384 > 0;
    Checksum := Mem_T.INT4[Tmp_2384];
    i_19 := 1;
    goto L10;

  L10:
    call {:si_unique_call 2980} i_19, Checksum := FatComputeLfnChecksum_loop_L10(i_19, Checksum, Dirent_28);
    goto L10_last;

  L10_last:
    assume {:CounterLoop 10} {:Counter "i_19"} true;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} 11 > i_19;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} BAND(Checksum, 1) != 0;
    goto L15;

  L15:
    assume {:nonnull} Dirent_28 != 0;
    assume Dirent_28 > 0;
    call {:si_unique_call 2981} Checksum := corral_nondet();
    i_19 := i_19 + 1;
    goto L15_dummy;

  L15_dummy:
    assume false;
    return;

  anon6_Then:
    assume {:partition} BAND(Checksum, 1) == 0;
    goto L15;

  anon5_Then:
    assume {:partition} i_19 >= 11;
    Tmp_2381 := Checksum;
    return;
}



procedure {:origName "FatSetFileSizeInDirent"} FatSetFileSizeInDirent(actual_IrpContext_154: int, actual_Fcb_59: int, actual_AlternativeFileSize: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetFileSizeInDirent"} FatSetFileSizeInDirent(actual_IrpContext_154: int, actual_Fcb_59: int, actual_AlternativeFileSize: int)
{
  var {:pointer} Dirent_30: int;
  var {:scalar} Tmp_2453: int;
  var {:pointer} DirentBcb_13: int;
  var {:pointer} IrpContext_154: int;
  var {:pointer} Fcb_59: int;
  var {:pointer} AlternativeFileSize: int;
  var vslice_dummy_var_415: int;
  var vslice_dummy_var_360: int;
  var vslice_dummy_var_361: int;

  anon0:
    call {:si_unique_call 2982} Dirent_30 := __HAVOC_malloc(4);
    call {:si_unique_call 2983} DirentBcb_13 := __HAVOC_malloc(4);
    call {:si_unique_call 2984} vslice_dummy_var_415 := __HAVOC_malloc(4);
    IrpContext_154 := actual_IrpContext_154;
    Fcb_59 := actual_Fcb_59;
    AlternativeFileSize := actual_AlternativeFileSize;
    call {:si_unique_call 2985} sdv_do_paged_code_check();
    call {:si_unique_call 2986} FatGetDirentFromFcbOrDcb(IrpContext_154, Fcb_59, Dirent_30, DirentBcb_13);
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} AlternativeFileSize != 0;
    assume {:nonnull} AlternativeFileSize != 0;
    assume AlternativeFileSize > 0;
    Tmp_2453 := Mem_T.INT4[AlternativeFileSize];
    goto L14;

  L14:
    assume {:nonnull} Dirent_30 != 0;
    assume Dirent_30 > 0;
    assume {:nonnull} DirentBcb_13 != 0;
    assume DirentBcb_13 > 0;
    assume {:nonnull} Fcb_59 != 0;
    assume Fcb_59 > 0;
    havoc vslice_dummy_var_360;
    havoc vslice_dummy_var_361;
    call {:si_unique_call 2987} FatSetDirtyBcb#1(IrpContext_154, vslice_dummy_var_360, vslice_dummy_var_361, 1);
    assume {:nonnull} DirentBcb_13 != 0;
    assume DirentBcb_13 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:nonnull} DirentBcb_13 != 0;
    assume DirentBcb_13 > 0;
    goto L1;

  L1:
    return;

  anon6_Then:
    goto L1;

  anon5_Then:
    assume {:partition} AlternativeFileSize == 0;
    assume {:nonnull} Fcb_59 != 0;
    assume Fcb_59 > 0;
    havoc Tmp_2453;
    goto L14;
}



procedure {:origName "FatGetDirentFromFcbOrDcb"} FatGetDirentFromFcbOrDcb(actual_IrpContext_155: int, actual_FcbOrDcb_12: int, actual_Dirent_31: int, actual_Bcb_18: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetDirentFromFcbOrDcb"} FatGetDirentFromFcbOrDcb(actual_IrpContext_155: int, actual_FcbOrDcb_12: int, actual_Dirent_31: int, actual_Bcb_18: int)
{
  var {:dopa} {:scalar} DontCare_5: int;
  var {:pointer} IrpContext_155: int;
  var {:pointer} FcbOrDcb_12: int;
  var {:pointer} Dirent_31: int;
  var {:pointer} Bcb_18: int;
  var vslice_dummy_var_416: int;
  var vslice_dummy_var_362: int;
  var vslice_dummy_var_363: int;

  anon0:
    call {:si_unique_call 2988} DontCare_5 := __HAVOC_malloc(4);
    call {:si_unique_call 2989} vslice_dummy_var_416 := __HAVOC_malloc(4);
    IrpContext_155 := actual_IrpContext_155;
    FcbOrDcb_12 := actual_FcbOrDcb_12;
    Dirent_31 := actual_Dirent_31;
    Bcb_18 := actual_Bcb_18;
    call {:si_unique_call 2990} sdv_do_paged_code_check();
    assume {:nonnull} FcbOrDcb_12 != 0;
    assume FcbOrDcb_12 > 0;
    havoc vslice_dummy_var_362;
    havoc vslice_dummy_var_363;
    call {:si_unique_call 2991} FatReadDirectoryFile#1(IrpContext_155, vslice_dummy_var_362, vslice_dummy_var_363, 32, 1, Bcb_18, Dirent_31, DontCare_5);
    return;
}



procedure {:origName "FatLocateVolumeLabel"} FatLocateVolumeLabel(actual_IrpContext_156: int, actual_Vcb_88: int, actual_Dirent_32: int, actual_Bcb_19: int, actual_ByteOffset_4: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLocateVolumeLabel"} FatLocateVolumeLabel(actual_IrpContext_156: int, actual_Vcb_88: int, actual_Dirent_32: int, actual_Bcb_19: int, actual_ByteOffset_4: int)
{
  var {:pointer} Tmp_2458: int;
  var {:pointer} Tmp_2459: int;
  var {:dopa} {:scalar} Status_58: int;
  var {:pointer} Tmp_2461: int;
  var {:pointer} Tmp_2462: int;
  var {:scalar} Tmp_2463: int;
  var {:scalar} Tmp_2464: int;
  var {:pointer} Tmp_2465: int;
  var {:pointer} Tmp_2466: int;
  var {:pointer} IrpContext_156: int;
  var {:pointer} Vcb_88: int;
  var {:pointer} Dirent_32: int;
  var {:pointer} Bcb_19: int;
  var {:pointer} ByteOffset_4: int;
  var vslice_dummy_var_417: int;
  var vslice_dummy_var_364: int;
  var vslice_dummy_var_365: int;

  anon0:
    call {:si_unique_call 2992} Status_58 := __HAVOC_malloc(4);
    call {:si_unique_call 2993} vslice_dummy_var_417 := __HAVOC_malloc(4);
    IrpContext_156 := actual_IrpContext_156;
    Vcb_88 := actual_Vcb_88;
    Dirent_32 := actual_Dirent_32;
    Bcb_19 := actual_Bcb_19;
    ByteOffset_4 := actual_ByteOffset_4;
    call {:si_unique_call 2994} Tmp_2461 := __HAVOC_malloc(44);
    call {:si_unique_call 2995} Tmp_2462 := __HAVOC_malloc(44);
    call {:si_unique_call 2996} sdv_do_paged_code_check();
    assume {:nonnull} Bcb_19 != 0;
    assume Bcb_19 > 0;
    assume {:nonnull} ByteOffset_4 != 0;
    assume ByteOffset_4 > 0;
    Mem_T.INT4[ByteOffset_4] := 0;
    goto L11;

  L11:
    call {:si_unique_call 2997} Tmp_2458, Tmp_2459, Tmp_2461, Tmp_2462, Tmp_2463, Tmp_2464, Tmp_2465, Tmp_2466 := FatLocateVolumeLabel_loop_L11(Tmp_2458, Tmp_2459, Status_58, Tmp_2461, Tmp_2462, Tmp_2463, Tmp_2464, Tmp_2465, Tmp_2466, IrpContext_156, Vcb_88, Dirent_32, Bcb_19, ByteOffset_4);
    goto L11_last;

  L11_last:
    assume {:nonnull} Vcb_88 != 0;
    assume Vcb_88 > 0;
    havoc Tmp_2458;
    assume {:nonnull} ByteOffset_4 != 0;
    assume ByteOffset_4 > 0;
    assume {:nonnull} Tmp_2458 != 0;
    assume Tmp_2458 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:nonnull} Status_58 != 0;
    assume Status_58 > 0;
    Mem_T.INT4[Status_58] := -1073741807;
    assume {:nonnull} Bcb_19 != 0;
    assume Bcb_19 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} Bcb_19 != 0;
    assume Bcb_19 > 0;
    goto L15;

  L15:
    assume {:nonnull} Status_58 != 0;
    assume Status_58 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} Mem_T.INT4[Status_58] == -1073741807;
    goto L21;

  L21:
    assume {:nonnull} Bcb_19 != 0;
    assume Bcb_19 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} Bcb_19 != 0;
    assume Bcb_19 > 0;
    goto L22;

  L22:
    assume {:nonnull} Dirent_32 != 0;
    assume Dirent_32 > 0;
    assume {:nonnull} ByteOffset_4 != 0;
    assume ByteOffset_4 > 0;
    Mem_T.INT4[ByteOffset_4] := 0;
    goto L1;

  L1:
    return;

  anon23_Then:
    goto L22;

  anon22_Then:
    assume {:partition} Mem_T.INT4[Status_58] != -1073741807;
    assume {:nonnull} Dirent_32 != 0;
    assume Dirent_32 > 0;
    havoc Tmp_2459;
    assume {:nonnull} Tmp_2459 != 0;
    assume Tmp_2459 > 0;
    havoc Tmp_2461;
    assume {:nonnull} Tmp_2461 != 0;
    assume Tmp_2461 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} Mem_T.INT4[Tmp_2461] != 0;
    assume {:nonnull} Dirent_32 != 0;
    assume Dirent_32 > 0;
    havoc Tmp_2465;
    assume {:nonnull} Tmp_2465 != 0;
    assume Tmp_2465 > 0;
    havoc Tmp_2463;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} Tmp_2463 == 8;
    assume {:nonnull} Dirent_32 != 0;
    assume Dirent_32 > 0;
    havoc Tmp_2466;
    assume {:nonnull} Tmp_2466 != 0;
    assume Tmp_2466 > 0;
    havoc Tmp_2462;
    assume {:nonnull} Tmp_2462 != 0;
    assume Tmp_2462 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Mem_T.INT4[Tmp_2462] != 229;
    assume {:nonnull} ByteOffset_4 != 0;
    assume ByteOffset_4 > 0;
    assume {:nonnull} Vcb_88 != 0;
    assume Vcb_88 > 0;
    havoc vslice_dummy_var_364;
    call {:si_unique_call 2998} FatPinMappedData(IrpContext_156, vslice_dummy_var_364, Mem_T.INT4[ByteOffset_4], 32, Bcb_19);
    goto L1;

  anon30_Then:
    assume {:partition} Mem_T.INT4[Tmp_2462] == 229;
    goto L31;

  L31:
    assume {:nonnull} ByteOffset_4 != 0;
    assume ByteOffset_4 > 0;
    Mem_T.INT4[ByteOffset_4] := Mem_T.INT4[ByteOffset_4] + 32;
    assume {:nonnull} Dirent_32 != 0;
    assume Dirent_32 > 0;
    goto L31_dummy;

  L31_dummy:
    assume false;
    return;

  anon29_Then:
    assume {:partition} Tmp_2463 != 8;
    goto L31;

  anon28_Then:
    assume {:partition} Mem_T.INT4[Tmp_2461] == 0;
    goto L21;

  anon27_Then:
    goto L15;

  anon26_Then:
    assume {:nonnull} ByteOffset_4 != 0;
    assume ByteOffset_4 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} INTMOD(Mem_T.INT4[ByteOffset_4], 4096) != 0;
    assume {:nonnull} Bcb_19 != 0;
    assume Bcb_19 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    goto L38;

  L38:
    assume {:nonnull} Bcb_19 != 0;
    assume Bcb_19 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} Bcb_19 != 0;
    assume Bcb_19 > 0;
    goto L40;

  L40:
    assume {:nonnull} ByteOffset_4 != 0;
    assume ByteOffset_4 > 0;
    Tmp_2464 := BAND(Mem_T.INT4[ByteOffset_4], BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    assume {:nonnull} Vcb_88 != 0;
    assume Vcb_88 > 0;
    havoc vslice_dummy_var_365;
    call {:si_unique_call 2999} FatReadDirectoryFile#1(IrpContext_156, vslice_dummy_var_365, Tmp_2464, 4096, 0, Bcb_19, Dirent_32, Status_58);
    assume {:nonnull} Dirent_32 != 0;
    assume Dirent_32 > 0;
    goto L15;

  anon24_Then:
    goto L40;

  anon25_Then:
    goto L15;

  anon21_Then:
    assume {:partition} INTMOD(Mem_T.INT4[ByteOffset_4], 4096) == 0;
    goto L38;
}



procedure {:origName "FatLfnDirentExists"} FatLfnDirentExists(actual_IrpContext_157: int, actual_Dcb_14: int, actual_Lfn_12: int, actual_LfnTmp: int) returns (Tmp_2468: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_2468 == 1 || Tmp_2468 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLfnDirentExists"} FatLfnDirentExists(actual_IrpContext_157: int, actual_Dcb_14: int, actual_Lfn_12: int, actual_LfnTmp: int) returns (Tmp_2468: int)
{
  var {:scalar} Ccb_33: int;
  var {:pointer} Dirent_33: int;
  var {:pointer} DirentBcb_14: int;
  var {:dopa} {:scalar} DirentByteOffset_6: int;
  var {:scalar} Result_5: int;
  var {:pointer} IrpContext_157: int;
  var {:pointer} Dcb_14: int;
  var {:pointer} Lfn_12: int;
  var {:pointer} LfnTmp: int;

  anon0:
    call {:si_unique_call 3000} Ccb_33 := __HAVOC_malloc(88);
    call {:si_unique_call 3001} Dirent_33 := __HAVOC_malloc(4);
    call {:si_unique_call 3002} DirentBcb_14 := __HAVOC_malloc(4);
    call {:si_unique_call 3003} DirentByteOffset_6 := __HAVOC_malloc(4);
    IrpContext_157 := actual_IrpContext_157;
    Dcb_14 := actual_Dcb_14;
    Lfn_12 := actual_Lfn_12;
    LfnTmp := actual_LfnTmp;
    assume {:nonnull} DirentBcb_14 != 0;
    assume DirentBcb_14 > 0;
    Result_5 := 0;
    call {:si_unique_call 3004} sdv_do_paged_code_check();
    assume {:nonnull} Ccb_33 != 0;
    assume Ccb_33 > 0;
    assume {:nonnull} Lfn_12 != 0;
    assume Lfn_12 > 0;
    assume {:nonnull} Ccb_33 != 0;
    assume Ccb_33 > 0;
    assume {:nonnull} Lfn_12 != 0;
    assume Lfn_12 > 0;
    assume {:nonnull} Ccb_33 != 0;
    assume Ccb_33 > 0;
    assume {:nonnull} Lfn_12 != 0;
    assume Lfn_12 > 0;
    assume {:nonnull} Ccb_33 != 0;
    assume Ccb_33 > 0;
    assume {:nonnull} Ccb_33 != 0;
    assume Ccb_33 > 0;
    call {:si_unique_call 3005} FatLocateDirent#1(IrpContext_157, Dcb_14, Ccb_33, 0, Dirent_33, DirentBcb_14, DirentByteOffset_6, 0, LfnTmp);
    assume {:nonnull} DirentBcb_14 != 0;
    assume DirentBcb_14 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    Result_5 := 1;
    goto L27;

  L27:
    assume {:nonnull} DirentBcb_14 != 0;
    assume DirentBcb_14 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:nonnull} DirentBcb_14 != 0;
    assume DirentBcb_14 > 0;
    goto L29;

  L29:
    Tmp_2468 := Result_5;
    return;

  anon6_Then:
    goto L29;

  anon5_Then:
    goto L27;
}



procedure {:origName "FatTunnelFcbOrDcb"} FatTunnelFcbOrDcb(actual_FcbOrDcb_13: int, actual_Ccb_34: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatTunnelFcbOrDcb"} FatTunnelFcbOrDcb(actual_FcbOrDcb_13: int, actual_Ccb_34: int)
{
  var {:scalar} i_20: int;
  var {:scalar} DownCaseSeg: int;
  var {:scalar} ShortNameWithCase: int;
  var {:pointer} Tmp_2474: int;
  var {:scalar} Tmp_2475: int;
  var {:pointer} ShortNameBuffer_6: int;
  var {:scalar} Tmp_2479: int;
  var {:scalar} Tmp_2482: int;
  var {:pointer} FcbOrDcb_13: int;
  var {:pointer} Ccb_34: int;
  var vslice_dummy_var_418: int;
  var vslice_dummy_var_419: int;
  var vslice_dummy_var_420: int;
  var vslice_dummy_var_421: int;
  var vslice_dummy_var_422: int;
  var vslice_dummy_var_423: int;

  anon0:
    call {:si_unique_call 3006} DownCaseSeg := __HAVOC_malloc(12);
    call {:si_unique_call 3007} ShortNameWithCase := __HAVOC_malloc(12);
    call {:si_unique_call 3008} vslice_dummy_var_418 := __HAVOC_malloc(4);
    FcbOrDcb_13 := actual_FcbOrDcb_13;
    Ccb_34 := actual_Ccb_34;
    call {:si_unique_call 3009} ShortNameBuffer_6 := __HAVOC_malloc(48);
    call {:si_unique_call 3010} sdv_do_paged_code_check();
    Tmp_2474 := FcbOrDcb_13;
    assume {:nonnull} Tmp_2474 != 0;
    assume Tmp_2474 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Mem_T.INT4[Tmp_2474] == 1283;
    call {:si_unique_call 3011} vslice_dummy_var_419 := corral_nondet();
    assume {:nonnull} FcbOrDcb_13 != 0;
    assume FcbOrDcb_13 > 0;
    goto L1;

  L1:
    return;

  anon21_Then:
    assume {:partition} Mem_T.INT4[Tmp_2474] != 1283;
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    call {:si_unique_call 3012} vslice_dummy_var_420 := RtlOemStringToCountedUnicodeString(0, 0, 0);
    assume {:nonnull} FcbOrDcb_13 != 0;
    assume FcbOrDcb_13 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    i_20 := 0;
    goto L27;

  L27:
    call {:si_unique_call 3013} i_20, Tmp_2482 := FatTunnelFcbOrDcb_loop_L27(i_20, ShortNameWithCase, Tmp_2482);
    goto L27_last;

  L27_last:
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    Tmp_2482 := i_20;
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    i_20 := i_20 + 1;
    goto anon22_Else_dummy;

  anon22_Else_dummy:
    assume false;
    return;

  anon22_Then:
    goto L28;

  L28:
    assume {:nonnull} FcbOrDcb_13 != 0;
    assume FcbOrDcb_13 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} DownCaseSeg != 0;
    assume DownCaseSeg > 0;
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    assume {:nonnull} DownCaseSeg != 0;
    assume DownCaseSeg > 0;
    assume {:nonnull} DownCaseSeg != 0;
    assume DownCaseSeg > 0;
    call {:si_unique_call 3014} vslice_dummy_var_421 := RtlDowncaseUnicodeString(0, 0, 0);
    goto L31;

  L31:
    i_20 := i_20 + 1;
    assume {:nonnull} FcbOrDcb_13 != 0;
    assume FcbOrDcb_13 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    Tmp_2475 := i_20;
    assume {:nonnull} DownCaseSeg != 0;
    assume DownCaseSeg > 0;
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    assume {:nonnull} DownCaseSeg != 0;
    assume DownCaseSeg > 0;
    assume {:nonnull} ShortNameWithCase != 0;
    assume ShortNameWithCase > 0;
    assume {:nonnull} DownCaseSeg != 0;
    assume DownCaseSeg > 0;
    call {:si_unique_call 3015} vslice_dummy_var_422 := RtlDowncaseUnicodeString(0, 0, 0);
    goto L25;

  L25:
    assume {:nonnull} Ccb_34 != 0;
    assume Ccb_34 > 0;
    havoc Tmp_2479;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} Tmp_2479 == 0;
    goto L78;

  L78:
    assume {:nonnull} FcbOrDcb_13 != 0;
    assume FcbOrDcb_13 > 0;
    assume {:nonnull} FcbOrDcb_13 != 0;
    assume FcbOrDcb_13 > 0;
    call {:si_unique_call 3016} vslice_dummy_var_423 := corral_nondet();
    assume {:nonnull} FcbOrDcb_13 != 0;
    assume FcbOrDcb_13 > 0;
    goto L1;

  anon24_Then:
    assume {:partition} Tmp_2479 != 0;
    goto L78;

  anon20_Then:
    goto L25;

  anon23_Then:
    goto L25;

  anon19_Then:
    goto L31;

  anon18_Then:
    goto L28;

  anon17_Then:
    goto L25;
}



procedure {:origName "FatLocateSimpleOemDirent"} FatLocateSimpleOemDirent(actual_IrpContext_158: int, actual_ParentDirectory_1: int, actual_FileName_2: int, actual_Dirent_34: int, actual_Bcb_20: int, actual_ByteOffset_5: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLocateSimpleOemDirent"} FatLocateSimpleOemDirent(actual_IrpContext_158: int, actual_ParentDirectory_1: int, actual_FileName_2: int, actual_Dirent_34: int, actual_Bcb_20: int, actual_ByteOffset_5: int)
{
  var {:scalar} Tmp_2484: int;
  var {:scalar} LocalCcb_3: int;
  var {:pointer} IrpContext_158: int;
  var {:pointer} ParentDirectory_1: int;
  var {:pointer} FileName_2: int;
  var {:pointer} Dirent_34: int;
  var {:pointer} Bcb_20: int;
  var {:pointer} ByteOffset_5: int;
  var vslice_dummy_var_424: int;

  anon0:
    call {:si_unique_call 3017} Tmp_2484 := __HAVOC_malloc(12);
    call {:si_unique_call 3018} LocalCcb_3 := __HAVOC_malloc(88);
    call {:si_unique_call 3019} vslice_dummy_var_424 := __HAVOC_malloc(4);
    IrpContext_158 := actual_IrpContext_158;
    ParentDirectory_1 := actual_ParentDirectory_1;
    FileName_2 := actual_FileName_2;
    Dirent_34 := actual_Dirent_34;
    Bcb_20 := actual_Bcb_20;
    ByteOffset_5 := actual_ByteOffset_5;
    call {:si_unique_call 3020} sdv_do_paged_code_check();
    assume {:nonnull} FileName_2 != 0;
    assume FileName_2 > 0;
    assume {:nonnull} Tmp_2484 != 0;
    assume Tmp_2484 > 0;
    assume {:nonnull} FileName_2 != 0;
    assume FileName_2 > 0;
    assume {:nonnull} Tmp_2484 != 0;
    assume Tmp_2484 > 0;
    assume {:nonnull} FileName_2 != 0;
    assume FileName_2 > 0;
    assume {:nonnull} Tmp_2484 != 0;
    assume Tmp_2484 > 0;
    assume {:nonnull} LocalCcb_3 != 0;
    assume LocalCcb_3 > 0;
    call {:si_unique_call 3021} FatStringTo8dot3(IrpContext_158, Tmp_2484, Constant_unnamed_tag_72(OemQueryTemplate__CCB(LocalCcb_3)));
    assume {:nonnull} LocalCcb_3 != 0;
    assume LocalCcb_3 > 0;
    assume {:nonnull} LocalCcb_3 != 0;
    assume LocalCcb_3 > 0;
    call {:si_unique_call 3022} FatLocateDirent#1(IrpContext_158, ParentDirectory_1, LocalCcb_3, 0, Dirent_34, Bcb_20, ByteOffset_5, 0, 0);
    return;
}



procedure {:origName "FatCreateNewDirent"} FatCreateNewDirent(actual_IrpContext_159: int, actual_ParentDirectory_2: int, actual_DirentsNeeded_3: int) returns (Tmp_2486: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateNewDirent"} FatCreateNewDirent(actual_IrpContext_159: int, actual_ParentDirectory_2: int, actual_DirentsNeeded_3: int) returns (Tmp_2486: int)
{
  var {:scalar} i_21: int;
  var {:pointer} Tmp_2487: int;
  var {:scalar} Tmp_2488: int;
  var {:pointer} Tmp_2489: int;
  var {:scalar} Tmp_2491: int;
  var {:pointer} Tmp_2494: int;
  var {:scalar} DeletedHint_1: int;
  var {:dopa} {:scalar} Status_60: int;
  var {:pointer} Dirent_35: int;
  var {:pointer} Tmp_2495: int;
  var {:pointer} Buffer_28: int;
  var {:pointer} Bcb_21: int;
  var {:scalar} Tmp_2496: int;
  var {:scalar} ByteOffset_6: int;
  var {:pointer} Tmp_2498: int;
  var {:scalar} Tmp_2499: int;
  var {:pointer} Tmp_2500: int;
  var {:pointer} Tmp_2502: int;
  var {:pointer} Tmp_2503: int;
  var {:pointer} Tmp_2504: int;
  var {:pointer} Tmp_2505: int;
  var {:scalar} UnusedVbo_1: int;
  var {:pointer} IrpContext_159: int;
  var {:pointer} ParentDirectory_2: int;
  var {:scalar} DirentsNeeded_3: int;
  var vslice_dummy_var_425: int;
  var vslice_dummy_var_366: int;
  var vslice_dummy_var_367: int;

  anon0:
    call {:si_unique_call 3023} Status_60 := __HAVOC_malloc(4);
    call {:si_unique_call 3024} Dirent_35 := __HAVOC_malloc(4);
    call {:si_unique_call 3025} Buffer_28 := __HAVOC_malloc(4);
    call {:si_unique_call 3026} Bcb_21 := __HAVOC_malloc(4);
    IrpContext_159 := actual_IrpContext_159;
    ParentDirectory_2 := actual_ParentDirectory_2;
    DirentsNeeded_3 := actual_DirentsNeeded_3;
    call {:si_unique_call 3027} Tmp_2489 := __HAVOC_malloc(44);
    call {:si_unique_call 3028} Tmp_2495 := __HAVOC_malloc(44);
    call {:si_unique_call 3029} Tmp_2498 := __HAVOC_malloc(44);
    call {:si_unique_call 3030} Tmp_2500 := __HAVOC_malloc(44);
    call {:si_unique_call 3031} Tmp_2502 := __HAVOC_malloc(44);
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    assume {:nonnull} Status_60 != 0;
    assume Status_60 > 0;
    Mem_T.INT4[Status_60] := 0;
    call {:si_unique_call 3032} sdv_do_paged_code_check();
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    havoc UnusedVbo_1;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    havoc DeletedHint_1;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} UnusedVbo_1 == -1;
    call {:si_unique_call 3033} FatRescanDirectory(IrpContext_159, ParentDirectory_2);
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    havoc UnusedVbo_1;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    havoc DeletedHint_1;
    goto L17;

  L17:
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    ByteOffset_6 := UnusedVbo_1;
    UnusedVbo_1 := UnusedVbo_1 + DirentsNeeded_3 * 32;
    goto L26;

  L26:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon103_Then, anon103_Else;

  anon103_Else:
    goto L87;

  L87:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    i_21 := 0;
    goto L89;

  L89:
    call {:si_unique_call 3034} i_21, Tmp_2488, Tmp_2489, Tmp_2498 := FatCreateNewDirent_loop_L89(i_21, Tmp_2488, Tmp_2489, Status_60, Dirent_35, Bcb_21, ByteOffset_6, Tmp_2498, IrpContext_159, ParentDirectory_2, DirentsNeeded_3);
    goto L89_last;

  L89_last:
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} DirentsNeeded_3 > i_21;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:nonnull} Status_60 != 0;
    assume Status_60 > 0;
    Mem_T.INT4[Status_60] := -1073741807;
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto L95;

  L95:
    assume {:nonnull} Status_60 != 0;
    assume Status_60 > 0;
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} Mem_T.INT4[Status_60] != 0;
    goto L106;

  L106:
    call {:si_unique_call 3035} FatPopUpFileCorrupt#1(IrpContext_159, ParentDirectory_2);
    assume {:nonnull} IrpContext_159 != 0;
    assume IrpContext_159 > 0;
    call {:si_unique_call 3036} ExRaiseStatus(-1073741566);
    goto L113;

  L113:
    i_21 := i_21 + 1;
    goto L113_dummy;

  L113_dummy:
    assume false;
    return;

  anon93_Then:
    assume {:partition} Mem_T.INT4[Status_60] == 0;
    assume {:nonnull} Dirent_35 != 0;
    assume Dirent_35 > 0;
    havoc Tmp_2489;
    assume {:nonnull} Tmp_2489 != 0;
    assume Tmp_2489 > 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} Mem_T.INT4[Tmp_2489] != 0;
    assume {:nonnull} Dirent_35 != 0;
    assume Dirent_35 > 0;
    havoc Tmp_2498;
    assume {:nonnull} Tmp_2498 != 0;
    assume Tmp_2498 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:partition} Mem_T.INT4[Tmp_2498] == 229;
    goto L113;

  anon109_Then:
    assume {:partition} Mem_T.INT4[Tmp_2498] != 229;
    goto L106;

  anon108_Then:
    assume {:partition} Mem_T.INT4[Tmp_2489] == 0;
    goto L113;

  anon107_Then:
    goto L95;

  anon91_Then:
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} INTMOD(ByteOffset_6 + i_21 * 32, 4096) != 0;
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    goto L115;

  L115:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto L117;

  L117:
    Tmp_2488 := BAND(ByteOffset_6 + i_21 * 32, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 3037} FatReadDirectoryFile#1(IrpContext_159, ParentDirectory_2, Tmp_2488, 4096, 0, Bcb_21, Dirent_35, Status_60);
    assume {:nonnull} Dirent_35 != 0;
    assume Dirent_35 > 0;
    goto L95;

  anon94_Then:
    goto L117;

  anon95_Then:
    goto L95;

  anon92_Then:
    assume {:partition} INTMOD(ByteOffset_6 + i_21 * 32, 4096) == 0;
    goto L115;

  anon89_Then:
    assume {:partition} i_21 >= DirentsNeeded_3;
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto L127;

  L127:
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    Tmp_2486 := ByteOffset_6;
    goto LM2;

  LM2:
    return;

  anon90_Then:
    goto L127;

  anon103_Then:
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} DirentsNeeded_3 != 1;
    goto L87;

  anon80_Then:
    assume {:partition} DirentsNeeded_3 == 1;
    Tmp_2487 := ParentDirectory_2;
    assume {:nonnull} Tmp_2487 != 0;
    assume Tmp_2487 > 0;
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} Mem_T.INT4[Tmp_2487] == 1284;
    Tmp_2491 := 0;
    goto L33;

  L33:
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:partition} ByteOffset_6 <= Tmp_2491;
    goto L87;

  anon81_Then:
    assume {:partition} Tmp_2491 < ByteOffset_6;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:nonnull} Status_60 != 0;
    assume Status_60 > 0;
    Mem_T.INT4[Status_60] := -1073741807;
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto L38;

  L38:
    assume {:nonnull} Status_60 != 0;
    assume Status_60 > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} Mem_T.INT4[Status_60] != 0;
    goto L49;

  L49:
    call {:si_unique_call 3038} FatPopUpFileCorrupt#1(IrpContext_159, ParentDirectory_2);
    assume {:nonnull} IrpContext_159 != 0;
    assume IrpContext_159 > 0;
    call {:si_unique_call 3039} ExRaiseStatus(-1073741566);
    goto L56;

  L56:
    assume {:nonnull} Dirent_35 != 0;
    assume Dirent_35 > 0;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:nonnull} Dirent_35 != 0;
    assume Dirent_35 > 0;
    havoc Tmp_2500;
    assume {:nonnull} Tmp_2500 != 0;
    assume Tmp_2500 > 0;
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} Mem_T.INT4[Tmp_2500] != 229;
    Tmp_2499 := ByteOffset_6 - 32;
    call {:si_unique_call 3040} FatPinMappedData(IrpContext_159, ParentDirectory_2, Tmp_2499, 32, Bcb_21);
    assume {:nonnull} Dirent_35 != 0;
    assume Dirent_35 > 0;
    havoc Tmp_2502;
    assume {:nonnull} Tmp_2502 != 0;
    assume Tmp_2502 > 0;
    Mem_T.INT4[Tmp_2502] := 229;
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    havoc vslice_dummy_var_366;
    havoc vslice_dummy_var_367;
    call {:si_unique_call 3041} FatSetDirtyBcb#1(IrpContext_159, vslice_dummy_var_366, vslice_dummy_var_367, 1);
    goto L57;

  L57:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon86_Then, anon86_Else;

  anon86_Else:
    goto L87;

  anon86_Then:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto L87;

  anon106_Then:
    assume {:partition} Mem_T.INT4[Tmp_2500] == 229;
    goto L57;

  anon85_Then:
    goto L57;

  anon84_Then:
    assume {:partition} Mem_T.INT4[Status_60] == 0;
    assume {:nonnull} Dirent_35 != 0;
    assume Dirent_35 > 0;
    havoc Tmp_2495;
    assume {:nonnull} Tmp_2495 != 0;
    assume Tmp_2495 > 0;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:partition} Mem_T.INT4[Tmp_2495] != 0;
    goto L56;

  anon110_Then:
    assume {:partition} Mem_T.INT4[Tmp_2495] == 0;
    goto L49;

  anon105_Then:
    goto L38;

  anon82_Then:
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} INTMOD(ByteOffset_6 - 32, 4096) != 0;
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    goto L75;

  L75:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto L77;

  L77:
    Tmp_2496 := BAND(ByteOffset_6 - 32, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 3042} FatReadDirectoryFile#1(IrpContext_159, ParentDirectory_2, Tmp_2496, 4096, 0, Bcb_21, Dirent_35, Status_60);
    assume {:nonnull} Dirent_35 != 0;
    assume Dirent_35 > 0;
    goto L38;

  anon87_Then:
    goto L77;

  anon88_Then:
    goto L38;

  anon83_Then:
    assume {:partition} INTMOD(ByteOffset_6 - 32, 4096) == 0;
    goto L75;

  anon104_Then:
    assume {:partition} Mem_T.INT4[Tmp_2487] != 1284;
    Tmp_2491 := 64;
    goto L33;

  anon79_Then:
    call {:si_unique_call 3043} ByteOffset_6 := corral_nondet();
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    havoc Tmp_2504;
    assume {:nonnull} Tmp_2504 != 0;
    assume Tmp_2504 > 0;
    goto anon111_Then, anon111_Else;

  anon111_Else:
    goto L144;

  L144:
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} ByteOffset_6 != -1;
    ByteOffset_6 := ByteOffset_6 * 32;
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} ByteOffset_6 == DeletedHint_1;
    DeletedHint_1 := DeletedHint_1 + DirentsNeeded_3 * 32;
    goto L148;

  L148:
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} ByteOffset_6 + DirentsNeeded_3 * 32 > UnusedVbo_1;
    UnusedVbo_1 := ByteOffset_6 + DirentsNeeded_3 * 32;
    goto L26;

  anon99_Then:
    assume {:partition} UnusedVbo_1 >= ByteOffset_6 + DirentsNeeded_3 * 32;
    goto L26;

  anon112_Then:
    assume {:partition} ByteOffset_6 != DeletedHint_1;
    goto L148;

  anon97_Then:
    assume {:partition} ByteOffset_6 == -1;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    goto anon98_Then, anon98_Else;

  anon98_Else:
    goto L152;

  L152:
    assume {:nonnull} IrpContext_159 != 0;
    assume IrpContext_159 > 0;
    call {:si_unique_call 3044} ExRaiseStatus(-1073741078);
    goto L156;

  L156:
    ByteOffset_6 := UnusedVbo_1;
    UnusedVbo_1 := UnusedVbo_1 + DirentsNeeded_3 * 32;
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    call {:si_unique_call 3045} vslice_dummy_var_425 := corral_nondet();
    call {:si_unique_call 3046} FatPrepareWriteDirectoryFile(IrpContext_159, ParentDirectory_2, UnusedVbo_1, 1, Bcb_21, Buffer_28, 0, 1, Status_60);
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:nonnull} Bcb_21 != 0;
    assume Bcb_21 > 0;
    goto L26;

  anon100_Then:
    goto L26;

  anon113_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon98_Then:
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    havoc Tmp_2503;
    assume {:nonnull} Tmp_2503 != 0;
    assume Tmp_2503 > 0;
    goto anon114_Then, anon114_Else;

  anon114_Else:
    Tmp_2505 := ParentDirectory_2;
    assume {:nonnull} Tmp_2505 != 0;
    assume Tmp_2505 > 0;
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:partition} Mem_T.INT4[Tmp_2505] != 1284;
    goto L156;

  anon115_Then:
    assume {:partition} Mem_T.INT4[Tmp_2505] == 1284;
    goto L152;

  anon114_Then:
    goto L156;

  anon111_Then:
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:partition} ByteOffset_6 == -1;
    Tmp_2494 := ParentDirectory_2;
    assume {:nonnull} Tmp_2494 != 0;
    assume Tmp_2494 > 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    assume {:partition} Mem_T.INT4[Tmp_2494] == 1284;
    assume {:nonnull} ParentDirectory_2 != 0;
    assume ParentDirectory_2 > 0;
    goto anon101_Then, anon101_Else;

  anon101_Else:
    call {:si_unique_call 3047} ByteOffset_6 := FatDefragDirectory(IrpContext_159, ParentDirectory_2, DirentsNeeded_3);
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:partition} yogi_error != 1;
    goto L144;

  anon117_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon101_Then:
    goto L144;

  anon116_Then:
    assume {:partition} Mem_T.INT4[Tmp_2494] != 1284;
    goto L144;

  anon96_Then:
    assume {:partition} ByteOffset_6 != -1;
    goto L144;

  anon102_Then:
    assume {:partition} UnusedVbo_1 != -1;
    goto L17;
}



procedure {:origName "_sdv_init33"} _sdv_init33();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init33"} _sdv_init33()
{
  var vslice_dummy_var_426: int;

  anon0:
    call {:si_unique_call 3048} vslice_dummy_var_426 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatInitializeDirectoryDirent"} FatInitializeDirectoryDirent(actual_IrpContext_160: int, actual_Dcb_15: int, actual_ParentDirent: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatInitializeDirectoryDirent"} FatInitializeDirectoryDirent(actual_IrpContext_160: int, actual_Dcb_15: int, actual_ParentDirent: int)
{
  var {:pointer} Tmp_2508: int;
  var {:pointer} Tmp_2509: int;
  var {:pointer} Tmp_2511: int;
  var {:pointer} Tmp_2513: int;
  var {:pointer} Tmp_2515: int;
  var {:pointer} Tmp_2516: int;
  var {:pointer} Tmp_2517: int;
  var {:pointer} Tmp_2518: int;
  var {:pointer} Tmp_2519: int;
  var {:pointer} Tmp_2520: int;
  var {:pointer} Tmp_2522: int;
  var {:pointer} Buffer_29: int;
  var {:pointer} Bcb_22: int;
  var {:pointer} Tmp_2524: int;
  var {:pointer} Tmp_2525: int;
  var {:dopa} {:scalar} DontCare_6: int;
  var {:pointer} Tmp_2526: int;
  var {:pointer} Tmp_2527: int;
  var {:pointer} Tmp_2528: int;
  var {:pointer} Tmp_2530: int;
  var {:pointer} Tmp_2531: int;
  var {:pointer} Tmp_2532: int;
  var {:pointer} IrpContext_160: int;
  var {:pointer} Dcb_15: int;
  var {:pointer} ParentDirent: int;
  var vslice_dummy_var_427: int;
  var vslice_dummy_var_428: int;
  var vslice_dummy_var_429: int;

  anon0:
    call {:si_unique_call 3049} Buffer_29 := __HAVOC_malloc(4);
    call {:si_unique_call 3050} Bcb_22 := __HAVOC_malloc(4);
    call {:si_unique_call 3051} DontCare_6 := __HAVOC_malloc(4);
    call {:si_unique_call 3052} vslice_dummy_var_427 := __HAVOC_malloc(4);
    IrpContext_160 := actual_IrpContext_160;
    Dcb_15 := actual_Dcb_15;
    ParentDirent := actual_ParentDirent;
    call {:si_unique_call 3053} vslice_dummy_var_428 := __HAVOC_malloc(48);
    call {:si_unique_call 3054} vslice_dummy_var_429 := __HAVOC_malloc(48);
    call {:si_unique_call 3055} sdv_do_paged_code_check();
    call {:si_unique_call 3056} FatPrepareWriteDirectoryFile(IrpContext_160, Dcb_15, 0, 64, Bcb_22, Buffer_29, 0, 1, DontCare_6);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    call {:si_unique_call 3057} sdv_RtlCopyMemory(0, 0, 11);
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2517;
    assume {:nonnull} Tmp_2517 != 0;
    assume Tmp_2517 > 0;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2522;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2522 != 0;
    assume Tmp_2522 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2522 != 0;
    assume Tmp_2522 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2522 != 0;
    assume Tmp_2522 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2522 != 0;
    assume Tmp_2522 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2522 != 0;
    assume Tmp_2522 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2522 != 0;
    assume Tmp_2522 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2525;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2525 != 0;
    assume Tmp_2525 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2525 != 0;
    assume Tmp_2525 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2525 != 0;
    assume Tmp_2525 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2525 != 0;
    assume Tmp_2525 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2525 != 0;
    assume Tmp_2525 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2525 != 0;
    assume Tmp_2525 > 0;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2516;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2516 != 0;
    assume Tmp_2516 > 0;
    Mem_T.INT4[CreationMSec__PACKED_DIRENT(Tmp_2516)] := Mem_T.INT4[CreationMSec__PACKED_DIRENT(ParentDirent)];
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2526;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2526 != 0;
    assume Tmp_2526 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2526 != 0;
    assume Tmp_2526 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2526 != 0;
    assume Tmp_2526 > 0;
    goto L24;

  L24:
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2515;
    assume {:nonnull} Dcb_15 != 0;
    assume Dcb_15 > 0;
    assume {:nonnull} Tmp_2515 != 0;
    assume Tmp_2515 > 0;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2531;
    assume {:nonnull} Dcb_15 != 0;
    assume Dcb_15 > 0;
    assume {:nonnull} Tmp_2531 != 0;
    assume Tmp_2531 > 0;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    call {:si_unique_call 3058} sdv_RtlCopyMemory(0, 0, 11);
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2527;
    assume {:nonnull} Tmp_2527 != 0;
    assume Tmp_2527 > 0;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2509;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2509 != 0;
    assume Tmp_2509 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2509 != 0;
    assume Tmp_2509 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2509 != 0;
    assume Tmp_2509 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2509 != 0;
    assume Tmp_2509 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2509 != 0;
    assume Tmp_2509 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2509 != 0;
    assume Tmp_2509 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2511;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2511 != 0;
    assume Tmp_2511 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2511 != 0;
    assume Tmp_2511 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2511 != 0;
    assume Tmp_2511 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2511 != 0;
    assume Tmp_2511 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2511 != 0;
    assume Tmp_2511 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2511 != 0;
    assume Tmp_2511 > 0;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2508;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2508 != 0;
    assume Tmp_2508 > 0;
    Mem_T.INT4[CreationMSec__PACKED_DIRENT(Tmp_2508)] := Mem_T.INT4[CreationMSec__PACKED_DIRENT(ParentDirent)];
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2513;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2513 != 0;
    assume Tmp_2513 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2513 != 0;
    assume Tmp_2513 > 0;
    assume {:nonnull} ParentDirent != 0;
    assume ParentDirent > 0;
    assume {:nonnull} Tmp_2513 != 0;
    assume Tmp_2513 > 0;
    goto L36;

  L36:
    assume {:nonnull} Dcb_15 != 0;
    assume Dcb_15 > 0;
    havoc Tmp_2528;
    assume {:nonnull} Tmp_2528 != 0;
    assume Tmp_2528 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Mem_T.INT4[Tmp_2528] == 1284;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2519;
    assume {:nonnull} Tmp_2519 != 0;
    assume Tmp_2519 > 0;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2532;
    assume {:nonnull} Tmp_2532 != 0;
    assume Tmp_2532 > 0;
    goto L43;

  L43:
    assume {:nonnull} Bcb_22 != 0;
    assume Bcb_22 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} Bcb_22 != 0;
    assume Bcb_22 > 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon11_Then:
    goto L1;

  anon15_Then:
    assume {:partition} Mem_T.INT4[Tmp_2528] != 1284;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2518;
    assume {:nonnull} Dcb_15 != 0;
    assume Dcb_15 > 0;
    havoc Tmp_2524;
    assume {:nonnull} Tmp_2518 != 0;
    assume Tmp_2518 > 0;
    assume {:nonnull} Tmp_2524 != 0;
    assume Tmp_2524 > 0;
    assume {:nonnull} Buffer_29 != 0;
    assume Buffer_29 > 0;
    havoc Tmp_2520;
    assume {:nonnull} Dcb_15 != 0;
    assume Dcb_15 > 0;
    havoc Tmp_2530;
    assume {:nonnull} Tmp_2520 != 0;
    assume Tmp_2520 > 0;
    assume {:nonnull} Tmp_2530 != 0;
    assume Tmp_2530 > 0;
    goto L43;

  anon14_Then:
    goto L36;

  anon13_Then:
    goto L24;

  anon12_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatIsDirectoryEmpty"} FatIsDirectoryEmpty(actual_IrpContext_161: int, actual_Dcb_16: int) returns (Tmp_2533: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_2533 == 0 || Tmp_2533 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsDirectoryEmpty"} FatIsDirectoryEmpty(actual_IrpContext_161: int, actual_Dcb_16: int) returns (Tmp_2533: int)
{
  var {:scalar} Tmp_2534: int;
  var {:pointer} Tmp_2535: int;
  var {:scalar} IsDirectoryEmpty: int;
  var {:pointer} Dirent_36: int;
  var {:dopa} {:scalar} Status_61: int;
  var {:pointer} Tmp_2536: int;
  var {:pointer} Bcb_23: int;
  var {:pointer} Tmp_2537: int;
  var {:scalar} ByteOffset_7: int;
  var {:scalar} Tmp_2538: int;
  var {:pointer} IrpContext_161: int;
  var {:pointer} Dcb_16: int;

  anon0:
    call {:si_unique_call 3059} Dirent_36 := __HAVOC_malloc(4);
    call {:si_unique_call 3060} Status_61 := __HAVOC_malloc(4);
    call {:si_unique_call 3061} Bcb_23 := __HAVOC_malloc(4);
    IrpContext_161 := actual_IrpContext_161;
    Dcb_16 := actual_Dcb_16;
    call {:si_unique_call 3062} Tmp_2535 := __HAVOC_malloc(44);
    call {:si_unique_call 3063} Tmp_2536 := __HAVOC_malloc(44);
    IsDirectoryEmpty := 0;
    assume {:nonnull} Status_61 != 0;
    assume Status_61 > 0;
    Mem_T.INT4[Status_61] := 0;
    call {:si_unique_call 3064} sdv_do_paged_code_check();
    Tmp_2537 := Dcb_16;
    assume {:nonnull} Tmp_2537 != 0;
    assume Tmp_2537 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Mem_T.INT4[Tmp_2537] == 1284;
    Tmp_2534 := 0;
    goto L16;

  L16:
    ByteOffset_7 := Tmp_2534;
    assume {:nonnull} Bcb_23 != 0;
    assume Bcb_23 > 0;
    goto L20;

  L20:
    call {:si_unique_call 3065} Tmp_2535, Tmp_2536, ByteOffset_7, Tmp_2538 := FatIsDirectoryEmpty_loop_L20(Tmp_2535, Dirent_36, Status_61, Tmp_2536, Bcb_23, ByteOffset_7, Tmp_2538, IrpContext_161, Dcb_16);
    goto L20_last;

  L20_last:
    assume {:nonnull} Dcb_16 != 0;
    assume Dcb_16 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} Status_61 != 0;
    assume Status_61 > 0;
    Mem_T.INT4[Status_61] := -1073741807;
    assume {:nonnull} Bcb_23 != 0;
    assume Bcb_23 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} Bcb_23 != 0;
    assume Bcb_23 > 0;
    goto L24;

  L24:
    assume {:nonnull} Status_61 != 0;
    assume Status_61 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} Mem_T.INT4[Status_61] == -1073741807;
    goto L35;

  L35:
    IsDirectoryEmpty := 1;
    goto L19;

  L19:
    assume {:nonnull} Bcb_23 != 0;
    assume Bcb_23 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} Bcb_23 != 0;
    assume Bcb_23 > 0;
    goto L55;

  L55:
    Tmp_2533 := IsDirectoryEmpty;
    return;

  anon23_Then:
    goto L55;

  anon26_Then:
    assume {:partition} Mem_T.INT4[Status_61] != -1073741807;
    assume {:nonnull} Dirent_36 != 0;
    assume Dirent_36 > 0;
    havoc Tmp_2535;
    assume {:nonnull} Tmp_2535 != 0;
    assume Tmp_2535 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} Mem_T.INT4[Tmp_2535] != 0;
    assume {:nonnull} Dirent_36 != 0;
    assume Dirent_36 > 0;
    havoc Tmp_2536;
    assume {:nonnull} Tmp_2536 != 0;
    assume Tmp_2536 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} Mem_T.INT4[Tmp_2536] != 229;
    assume {:nonnull} Dirent_36 != 0;
    assume Dirent_36 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    IsDirectoryEmpty := 0;
    goto L19;

  anon27_Then:
    goto L38;

  L38:
    ByteOffset_7 := ByteOffset_7 + 32;
    assume {:nonnull} Dirent_36 != 0;
    assume Dirent_36 > 0;
    goto L38_dummy;

  L38_dummy:
    assume false;
    return;

  anon33_Then:
    assume {:partition} Mem_T.INT4[Tmp_2536] == 229;
    goto L38;

  anon32_Then:
    assume {:partition} Mem_T.INT4[Tmp_2535] == 0;
    goto L35;

  anon31_Then:
    goto L24;

  anon24_Then:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} INTMOD(ByteOffset_7, 4096) != 0;
    assume {:nonnull} Bcb_23 != 0;
    assume Bcb_23 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    goto L43;

  L43:
    assume {:nonnull} Bcb_23 != 0;
    assume Bcb_23 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:nonnull} Bcb_23 != 0;
    assume Bcb_23 > 0;
    goto L45;

  L45:
    Tmp_2538 := BAND(ByteOffset_7, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 3066} FatReadDirectoryFile#1(IrpContext_161, Dcb_16, Tmp_2538, 4096, 0, Bcb_23, Dirent_36, Status_61);
    assume {:nonnull} Dirent_36 != 0;
    assume Dirent_36 > 0;
    goto L24;

  anon28_Then:
    goto L45;

  anon29_Then:
    goto L24;

  anon25_Then:
    assume {:partition} INTMOD(ByteOffset_7, 4096) == 0;
    goto L43;

  anon30_Then:
    assume {:partition} Mem_T.INT4[Tmp_2537] != 1284;
    Tmp_2534 := 64;
    goto L16;
}



procedure {:origName "FatUpdateDirentFromFcb"} FatUpdateDirentFromFcb(actual_IrpContext_162: int, actual_FileObject_39: int, actual_FcbOrDcb_14: int, actual_Ccb_35: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatUpdateDirentFromFcb"} FatUpdateDirentFromFcb(actual_IrpContext_162: int, actual_FileObject_39: int, actual_FcbOrDcb_14: int, actual_Ccb_35: int)
{
  var {:scalar} LastAccessDay: int;
  var {:scalar} Tmp_2540: int;
  var {:pointer} Tmp_2543: int;
  var {:scalar} CurrentTime_1: int;
  var {:scalar} Tmp_2544: int;
  var {:scalar} UpdateLastWriteTime: int;
  var {:pointer} Dirent_37: int;
  var {:scalar} UpdateFileSize: int;
  var {:pointer} DirentBcb_15: int;
  var {:pointer} Tmp_2545: int;
  var {:scalar} Tmp_2547: int;
  var {:pointer} Tmp_2548: int;
  var {:scalar} CurrentDay: int;
  var {:pointer} Tmp_2549: int;
  var {:scalar} Tmp_2550: int;
  var {:scalar} UpdateLastAccessTime: int;
  var {:scalar} SetArchiveBit: int;
  var {:scalar} CurrentFatTime: int;
  var {:scalar} NotifyFilter_2: int;
  var {:scalar} Tmp_2551: int;
  var {:pointer} IrpContext_162: int;
  var {:pointer} FileObject_39: int;
  var {:pointer} FcbOrDcb_14: int;
  var {:pointer} Ccb_35: int;
  var vslice_dummy_var_430: int;
  var vslice_dummy_var_431: int;
  var vslice_dummy_var_368: int;

  anon0:
    call {:si_unique_call 3067} LastAccessDay := __HAVOC_malloc(20);
    call {:si_unique_call 3068} CurrentTime_1 := __HAVOC_malloc(20);
    call {:si_unique_call 3069} Dirent_37 := __HAVOC_malloc(4);
    call {:si_unique_call 3070} DirentBcb_15 := __HAVOC_malloc(4);
    call {:si_unique_call 3071} vslice_dummy_var_430 := __HAVOC_malloc(4);
    call {:si_unique_call 3072} CurrentDay := __HAVOC_malloc(20);
    call {:si_unique_call 3073} CurrentFatTime := __HAVOC_malloc(24);
    IrpContext_162 := actual_IrpContext_162;
    FileObject_39 := actual_FileObject_39;
    FcbOrDcb_14 := actual_FcbOrDcb_14;
    Ccb_35 := actual_Ccb_35;
    assume {:nonnull} DirentBcb_15 != 0;
    assume DirentBcb_15 > 0;
    NotifyFilter_2 := 0;
    call {:si_unique_call 3074} sdv_do_paged_code_check();
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    Tmp_2549 := FcbOrDcb_14;
    assume {:nonnull} Tmp_2549 != 0;
    assume Tmp_2549 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} Mem_T.INT4[Tmp_2549] != 1284;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    havoc Tmp_2548;
    assume {:nonnull} Tmp_2548 != 0;
    assume Tmp_2548 > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:nonnull} FileObject_39 != 0;
    assume FileObject_39 > 0;
    havoc Tmp_2544;
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} Tmp_2544 == 0;
    SetArchiveBit := 0;
    goto L156;

  L156:
    assume {:nonnull} FileObject_39 != 0;
    assume FileObject_39 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:nonnull} Ccb_35 != 0;
    assume Ccb_35 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    Tmp_2551 := 1;
    goto L32;

  L32:
    UpdateLastWriteTime := Tmp_2551;
    Tmp_2545 := FcbOrDcb_14;
    assume {:nonnull} Tmp_2545 != 0;
    assume Tmp_2545 > 0;
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} Mem_T.INT4[Tmp_2545] == 1282;
    assume {:nonnull} FileObject_39 != 0;
    assume FileObject_39 > 0;
    havoc Tmp_2550;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} Tmp_2550 != 0;
    Tmp_2547 := 1;
    goto L38;

  L38:
    UpdateFileSize := Tmp_2547;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} UpdateLastWriteTime != 0;
    goto L43;

  L43:
    assume {:nonnull} Ccb_35 != 0;
    assume Ccb_35 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:nonnull} LastAccessDay != 0;
    assume LastAccessDay > 0;
    assume {:nonnull} CurrentDay != 0;
    assume CurrentDay > 0;
    assume {:nonnull} CurrentDay != 0;
    assume CurrentDay > 0;
    assume {:nonnull} LastAccessDay != 0;
    assume LastAccessDay > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    UpdateLastAccessTime := 1;
    goto L55;

  L55:
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} SetArchiveBit != 0;
    goto L57;

  L57:
    call {:si_unique_call 3075} FatGetDirentFromFcbOrDcb(IrpContext_162, FcbOrDcb_14, Dirent_37, DirentBcb_15);
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} UpdateLastWriteTime != 0;
    goto L83;

  L83:
    call {:si_unique_call 3076} vslice_dummy_var_431 := FatNtTimeToFatTime(IrpContext_162, CurrentTime_1, 1, CurrentFatTime, 0);
    goto L86;

  L86:
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} SetArchiveBit != 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    NotifyFilter_2 := BOR(NotifyFilter_2, 4);
    goto L87;

  L87:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} UpdateLastWriteTime != 0;
    assume {:nonnull} CurrentTime_1 != 0;
    assume CurrentTime_1 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    assume {:nonnull} CurrentTime_1 != 0;
    assume CurrentTime_1 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    assume {:nonnull} CurrentTime_1 != 0;
    assume CurrentTime_1 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    assume {:nonnull} CurrentTime_1 != 0;
    assume CurrentTime_1 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    assume {:nonnull} CurrentTime_1 != 0;
    assume CurrentTime_1 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    NotifyFilter_2 := BOR(NotifyFilter_2, 16);
    goto L91;

  L91:
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} UpdateLastAccessTime != 0;
    assume {:nonnull} CurrentDay != 0;
    assume CurrentDay > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} CurrentFatTime != 0;
    assume CurrentFatTime > 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    NotifyFilter_2 := BOR(NotifyFilter_2, 32);
    goto L95;

  L95:
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} UpdateFileSize != 0;
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:nonnull} Dirent_37 != 0;
    assume Dirent_37 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    NotifyFilter_2 := BOR(NotifyFilter_2, 8);
    goto L102;

  L102:
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    goto L109;

  L109:
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    havoc Tmp_2540;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    call {:si_unique_call 3077} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_2540, 0, 0, NotifyFilter_2, 3, 0);
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} NotifyFilter_2 == 32;
    Tmp_2543 := 0;
    goto L116;

  L116:
    assume {:nonnull} DirentBcb_15 != 0;
    assume DirentBcb_15 > 0;
    havoc vslice_dummy_var_368;
    call {:si_unique_call 3078} FatSetDirtyBcb#1(IrpContext_162, vslice_dummy_var_368, Tmp_2543, 1);
    assume {:nonnull} DirentBcb_15 != 0;
    assume DirentBcb_15 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:nonnull} DirentBcb_15 != 0;
    assume DirentBcb_15 > 0;
    goto L1;

  L1:
    return;

  anon62_Then:
    goto L1;

  anon71_Then:
    assume {:partition} NotifyFilter_2 != 32;
    assume {:nonnull} FcbOrDcb_14 != 0;
    assume FcbOrDcb_14 > 0;
    havoc Tmp_2543;
    goto L116;

  anon69_Then:
    call {:si_unique_call 3079} FatSetFullFileNameInFcb#1(IrpContext_162, FcbOrDcb_14);
    goto L109;

  anon70_Then:
    goto L102;

  anon68_Then:
    assume {:partition} UpdateFileSize == 0;
    goto L102;

  anon67_Then:
    assume {:partition} UpdateLastAccessTime == 0;
    goto L95;

  anon66_Then:
    assume {:partition} UpdateLastWriteTime == 0;
    goto L91;

  anon65_Then:
    assume {:partition} SetArchiveBit == 0;
    goto L87;

  anon63_Then:
    assume {:partition} UpdateLastWriteTime == 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} UpdateLastAccessTime == 0;
    goto L86;

  anon64_Then:
    assume {:partition} UpdateLastAccessTime != 0;
    goto L83;

  anon60_Then:
    assume {:partition} SetArchiveBit == 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} UpdateFileSize == 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} UpdateLastWriteTime == 0;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} UpdateLastAccessTime != 0;
    goto L57;

  anon73_Then:
    assume {:partition} UpdateLastAccessTime == 0;
    goto L1;

  anon72_Then:
    assume {:partition} UpdateLastWriteTime != 0;
    goto L57;

  anon61_Then:
    assume {:partition} UpdateFileSize != 0;
    goto L57;

  anon81_Then:
    UpdateLastAccessTime := 0;
    goto L55;

  anon59_Then:
    goto L40;

  L40:
    UpdateLastAccessTime := 0;
    goto L55;

  anon57_Then:
    assume {:partition} UpdateLastWriteTime == 0;
    assume {:nonnull} FileObject_39 != 0;
    assume FileObject_39 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L43;

  anon58_Then:
    goto L40;

  anon80_Then:
    goto L40;

  anon79_Then:
    assume {:partition} Tmp_2550 == 0;
    goto L34;

  L34:
    Tmp_2547 := 0;
    goto L38;

  anon78_Then:
    assume {:partition} Mem_T.INT4[Tmp_2545] != 1282;
    goto L34;

  anon56_Then:
    goto L29;

  L29:
    Tmp_2551 := 0;
    goto L32;

  anon77_Then:
    goto L29;

  anon76_Then:
    assume {:partition} Tmp_2544 != 0;
    SetArchiveBit := 1;
    goto L156;

  anon75_Then:
    goto L1;

  anon74_Then:
    assume {:partition} Mem_T.INT4[Tmp_2549] == 1284;
    goto L1;

  anon55_Then:
    goto L1;
}



procedure {:origName "FatInsertName"} FatInsertName(actual_IrpContext_164: int, actual_RootNode: int, actual_Name_4: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatInsertName"} FatInsertName(actual_IrpContext_164: int, actual_RootNode: int, actual_Name_4: int)
{
  var {:pointer} Tmp_2564: int;
  var {:pointer} Tmp_2566: int;
  var {:scalar} Tmp_2567: int;
  var {:pointer} Tmp_2568: int;
  var {:pointer} s_p_e_c_i_a_l_3: int;
  var {:pointer} Tmp_2569: int;
  var {:pointer} sdv_1458: int;
  var {:pointer} Node: int;
  var {:pointer} s_p_e_c_i_a_l_4: int;
  var {:pointer} Tmp_2570: int;
  var {:pointer} Tmp_2571: int;
  var {:pointer} s_p_e_c_i_a_l_5: int;
  var {:pointer} s_p_e_c_i_a_l_6: int;
  var {:pointer} Tmp_2572: int;
  var {:pointer} sdv_1460: int;
  var {:pointer} s_p_e_c_i_a_l_7: int;
  var {:pointer} sdv_1461: int;
  var {:scalar} Comparison: int;
  var {:pointer} Tmp_2574: int;
  var {:pointer} Tmp_2575: int;
  var {:pointer} Tmp_2576: int;
  var {:pointer} Tmp_2577: int;
  var {:pointer} Tmp_2578: int;
  var {:pointer} Tmp_2579: int;
  var {:scalar} Tmp_2580: int;
  var {:pointer} IrpContext_164: int;
  var {:pointer} RootNode: int;
  var {:pointer} Name_4: int;
  var vslice_dummy_var_432: int;
  var vslice_dummy_var_369: int;
  var vslice_dummy_var_370: int;
  var vslice_dummy_var_371: int;
  var vslice_dummy_var_372: int;
  var vslice_dummy_var_373: int;
  var vslice_dummy_var_374: int;

  anon0:
    call {:si_unique_call 3080} vslice_dummy_var_432 := __HAVOC_malloc(4);
    IrpContext_164 := actual_IrpContext_164;
    RootNode := actual_RootNode;
    Name_4 := actual_Name_4;
    assume {:nonnull} Name_4 != 0;
    assume Name_4 > 0;
    s_p_e_c_i_a_l_5 := Links__FILE_NAME_NODE(Name_4);
    assume {:nonnull} s_p_e_c_i_a_l_5 != 0;
    assume s_p_e_c_i_a_l_5 > 0;
    assume {:nonnull} s_p_e_c_i_a_l_5 != 0;
    assume s_p_e_c_i_a_l_5 > 0;
    assume {:nonnull} s_p_e_c_i_a_l_5 != 0;
    assume s_p_e_c_i_a_l_5 > 0;
    assume {:nonnull} RootNode != 0;
    assume RootNode > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    goto L12;

  L12:
    call {:si_unique_call 3081} Tmp_2564, Tmp_2566, Tmp_2567, Tmp_2568, Tmp_2569, sdv_1458, Node, Tmp_2570, Tmp_2571, Tmp_2572, sdv_1460, sdv_1461, Comparison, Tmp_2574, Tmp_2575, Tmp_2576, Tmp_2577, Tmp_2578, Tmp_2579, Tmp_2580 := FatInsertName_loop_L12(Tmp_2564, Tmp_2566, Tmp_2567, Tmp_2568, Tmp_2569, sdv_1458, Node, Tmp_2570, Tmp_2571, Tmp_2572, sdv_1460, sdv_1461, Comparison, Tmp_2574, Tmp_2575, Tmp_2576, Tmp_2577, Tmp_2578, Tmp_2579, Tmp_2580, IrpContext_164, RootNode, Name_4);
    goto L12_last;

  L12_last:
    assume {:nonnull} RootNode != 0;
    assume RootNode > 0;
    havoc vslice_dummy_var_374;
    call {:si_unique_call 3089} sdv_1458 := sdv_containing_record(vslice_dummy_var_374, 16);
    Node := sdv_1458;
    goto L18;

  L18:
    call {:si_unique_call 3082} Tmp_2564, Tmp_2566, Tmp_2567, Tmp_2568, Tmp_2569, Node, Tmp_2570, Tmp_2571, Tmp_2572, sdv_1460, sdv_1461, Comparison, Tmp_2574, Tmp_2575, Tmp_2576, Tmp_2577, Tmp_2579, Tmp_2580 := FatInsertName_loop_L18(Tmp_2564, Tmp_2566, Tmp_2567, Tmp_2568, Tmp_2569, Node, Tmp_2570, Tmp_2571, Tmp_2572, sdv_1460, sdv_1461, Comparison, Tmp_2574, Tmp_2575, Tmp_2576, Tmp_2577, Tmp_2579, Tmp_2580, Name_4);
    goto L18_last;

  L18_last:
    assume {:nonnull} Node != 0;
    assume Node > 0;
    Tmp_2566 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Node));
    assume {:nonnull} Tmp_2566 != 0;
    assume Tmp_2566 > 0;
    havoc Tmp_2574;
    assume {:nonnull} Name_4 != 0;
    assume Name_4 > 0;
    Tmp_2577 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Name_4));
    assume {:nonnull} Tmp_2577 != 0;
    assume Tmp_2577 > 0;
    havoc Tmp_2575;
    assume {:nonnull} Tmp_2574 != 0;
    assume Tmp_2574 > 0;
    assume {:nonnull} Tmp_2575 != 0;
    assume Tmp_2575 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Mem_T.INT4[Tmp_2574] != Mem_T.INT4[Tmp_2575];
    assume {:nonnull} Node != 0;
    assume Node > 0;
    Tmp_2579 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Node));
    assume {:nonnull} Tmp_2579 != 0;
    assume Tmp_2579 > 0;
    havoc Tmp_2576;
    assume {:nonnull} Name_4 != 0;
    assume Name_4 > 0;
    Tmp_2571 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Name_4));
    assume {:nonnull} Tmp_2571 != 0;
    assume Tmp_2571 > 0;
    havoc Tmp_2568;
    assume {:nonnull} Tmp_2568 != 0;
    assume Tmp_2568 > 0;
    assume {:nonnull} Tmp_2576 != 0;
    assume Tmp_2576 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Mem_T.INT4[Tmp_2568] > Mem_T.INT4[Tmp_2576];
    Tmp_2580 := 0;
    goto L25;

  L25:
    Tmp_2567 := Tmp_2580;
    goto L26;

  L26:
    Comparison := Tmp_2567;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Comparison == 2;
    assume {:nonnull} Node != 0;
    assume Node > 0;
    havoc Tmp_2578;
    assume {:nonnull} Tmp_2578 != 0;
    assume Tmp_2578 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} RootNode != 0;
    assume RootNode > 0;
    havoc vslice_dummy_var_369;
    call {:si_unique_call 3083} KeBugCheckEx(35, 1769629, vslice_dummy_var_369, Name_4, Node);
    goto L30;

  L30:
    assume {:nonnull} Node != 0;
    assume Node > 0;
    havoc vslice_dummy_var_370;
    call {:si_unique_call 3084} FatMarkFcbCondition(IrpContext_164, vslice_dummy_var_370, 2, 1);
    assume {:nonnull} Node != 0;
    assume Node > 0;
    havoc vslice_dummy_var_371;
    call {:si_unique_call 3085} FatRemoveNames(IrpContext_164, vslice_dummy_var_371);
    goto L30_dummy;

  L30_dummy:
    assume false;
    return;

  anon22_Then:
    goto L30;

  anon21_Then:
    assume {:partition} Comparison != 2;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} Comparison == 1;
    assume {:nonnull} Node != 0;
    assume Node > 0;
    Tmp_2564 := Links__FILE_NAME_NODE(Node);
    assume {:nonnull} Tmp_2564 != 0;
    assume Tmp_2564 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} Node != 0;
    assume Node > 0;
    s_p_e_c_i_a_l_7 := Links__FILE_NAME_NODE(Node);
    assume {:nonnull} Name_4 != 0;
    assume Name_4 > 0;
    s_p_e_c_i_a_l_6 := Links__FILE_NAME_NODE(Name_4);
    assume {:nonnull} s_p_e_c_i_a_l_7 != 0;
    assume s_p_e_c_i_a_l_7 > 0;
    assume {:nonnull} s_p_e_c_i_a_l_6 != 0;
    assume s_p_e_c_i_a_l_6 > 0;
    goto L1;

  L1:
    return;

  anon23_Then:
    assume {:nonnull} Node != 0;
    assume Node > 0;
    Tmp_2570 := Links__FILE_NAME_NODE(Node);
    assume {:nonnull} Tmp_2570 != 0;
    assume Tmp_2570 > 0;
    havoc vslice_dummy_var_372;
    call {:si_unique_call 3086} sdv_1460 := sdv_containing_record(vslice_dummy_var_372, 16);
    Node := sdv_1460;
    goto anon23_Then_dummy;

  anon23_Then_dummy:
    assume false;
    return;

  anon17_Then:
    assume {:partition} Comparison != 1;
    assume {:nonnull} Node != 0;
    assume Node > 0;
    Tmp_2572 := Links__FILE_NAME_NODE(Node);
    assume {:nonnull} Tmp_2572 != 0;
    assume Tmp_2572 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} Node != 0;
    assume Node > 0;
    s_p_e_c_i_a_l_3 := Links__FILE_NAME_NODE(Node);
    assume {:nonnull} Name_4 != 0;
    assume Name_4 > 0;
    s_p_e_c_i_a_l_4 := Links__FILE_NAME_NODE(Name_4);
    assume {:nonnull} s_p_e_c_i_a_l_3 != 0;
    assume s_p_e_c_i_a_l_3 > 0;
    assume {:nonnull} s_p_e_c_i_a_l_4 != 0;
    assume s_p_e_c_i_a_l_4 > 0;
    goto L1;

  anon24_Then:
    assume {:nonnull} Node != 0;
    assume Node > 0;
    Tmp_2569 := Links__FILE_NAME_NODE(Node);
    assume {:nonnull} Tmp_2569 != 0;
    assume Tmp_2569 > 0;
    havoc vslice_dummy_var_373;
    call {:si_unique_call 3087} sdv_1461 := sdv_containing_record(vslice_dummy_var_373, 16);
    Node := sdv_1461;
    goto anon24_Then_dummy;

  anon24_Then_dummy:
    assume false;
    return;

  anon20_Then:
    assume {:partition} Mem_T.INT4[Tmp_2576] >= Mem_T.INT4[Tmp_2568];
    Tmp_2580 := 1;
    goto L25;

  anon19_Then:
    assume {:partition} Mem_T.INT4[Tmp_2574] == Mem_T.INT4[Tmp_2575];
    assume {:nonnull} Name_4 != 0;
    assume Name_4 > 0;
    assume {:nonnull} Node != 0;
    assume Node > 0;
    call {:si_unique_call 3088} Tmp_2567 := FatCompareNames(Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Node)), Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Name_4)));
    goto L26;

  anon18_Then:
    assume {:nonnull} Name_4 != 0;
    assume Name_4 > 0;
    assume {:nonnull} RootNode != 0;
    assume RootNode > 0;
    goto L1;
}



procedure {:origName "_sdv_init21"} _sdv_init21();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init21"} _sdv_init21()
{
  var vslice_dummy_var_433: int;

  anon0:
    call {:si_unique_call 3090} vslice_dummy_var_433 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatRemoveNames"} FatRemoveNames(actual_IrpContext_165: int, actual_Fcb_60: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatRemoveNames"} FatRemoveNames(actual_IrpContext_165: int, actual_Fcb_60: int)
{
  var {:pointer} NewRoot: int;
  var {:pointer} Parent_1: int;
  var {:pointer} Fcb_60: int;
  var vslice_dummy_var_434: int;

  anon0:
    call {:si_unique_call 3091} vslice_dummy_var_434 := __HAVOC_malloc(4);
    Fcb_60 := actual_Fcb_60;
    assume {:nonnull} Fcb_60 != 0;
    assume Fcb_60 > 0;
    havoc Parent_1;
    assume {:nonnull} Fcb_60 != 0;
    assume Fcb_60 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    goto anon13_Then, anon13_Else;

  anon13_Else:
    NewRoot := 0;
    goto L12;

  L12:
    assume {:nonnull} Parent_1 != 0;
    assume Parent_1 > 0;
    assume {:nonnull} Fcb_60 != 0;
    assume Fcb_60 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    goto anon15_Then, anon15_Else;

  anon15_Else:
    NewRoot := 0;
    goto L19;

  L19:
    assume {:nonnull} Parent_1 != 0;
    assume Parent_1 > 0;
    assume {:nonnull} Fcb_60 != 0;
    assume Fcb_60 > 0;
    goto L14;

  L14:
    assume {:nonnull} Fcb_60 != 0;
    assume Fcb_60 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    goto anon16_Then, anon16_Else;

  anon16_Else:
    NewRoot := 0;
    goto L29;

  L29:
    assume {:nonnull} Parent_1 != 0;
    assume Parent_1 > 0;
    call {:si_unique_call 3092} RtlFreeUnicodeString(0);
    assume {:nonnull} Fcb_60 != 0;
    assume Fcb_60 > 0;
    goto L24;

  L24:
    assume {:nonnull} Fcb_60 != 0;
    assume Fcb_60 > 0;
    goto L1;

  L1:
    return;

  anon16_Then:
    call {:si_unique_call 3093} NewRoot := __HAVOC_malloc(1);
    goto L29;

  anon14_Then:
    goto L24;

  anon15_Then:
    call {:si_unique_call 3094} NewRoot := __HAVOC_malloc(1);
    goto L19;

  anon18_Then:
    goto L14;

  anon13_Then:
    call {:si_unique_call 3095} NewRoot := __HAVOC_malloc(1);
    goto L12;

  anon17_Then:
    goto L1;
}



procedure {:origName "FatCompareNames"} FatCompareNames(actual_NameA: int, actual_NameB: int) returns (Tmp_2585: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_2585 == 0 || Tmp_2585 == 1 || Tmp_2585 == 2;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCompareNames"} FatCompareNames(actual_NameA: int, actual_NameB: int) returns (Tmp_2585: int)
{
  var {:scalar} i_22: int;
  var {:scalar} Tmp_2586: int;
  var {:scalar} Tmp_2587: int;
  var {:scalar} Tmp_2588: int;
  var {:scalar} Tmp_2589: int;
  var {:pointer} Tmp_2591: int;
  var {:scalar} MinLength: int;
  var {:pointer} Tmp_2592: int;
  var {:pointer} NameA: int;
  var {:pointer} NameB: int;

  anon0:
    NameA := actual_NameA;
    NameB := actual_NameB;
    call {:si_unique_call 3096} sdv_do_paged_code_check();
    assume {:nonnull} NameA != 0;
    assume NameA > 0;
    assume {:nonnull} NameB != 0;
    assume NameB > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} NameA != 0;
    assume NameA > 0;
    havoc Tmp_2589;
    goto L11;

  L11:
    MinLength := Tmp_2589;
    call {:si_unique_call 3097} i_22 := RtlCompareMemory(0, 0, MinLength);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} MinLength > i_22;
    Tmp_2586 := i_22;
    assume {:nonnull} NameA != 0;
    assume NameA > 0;
    havoc Tmp_2592;
    Tmp_2588 := i_22;
    assume {:nonnull} NameB != 0;
    assume NameB > 0;
    havoc Tmp_2591;
    assume {:nonnull} Tmp_2591 != 0;
    assume Tmp_2591 > 0;
    assume {:nonnull} Tmp_2592 != 0;
    assume Tmp_2592 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Mem_T.INT4[Tmp_2591 + Tmp_2588 * 4] > Mem_T.INT4[Tmp_2592 + Tmp_2586 * 4];
    Tmp_2587 := 0;
    goto L21;

  L21:
    Tmp_2585 := Tmp_2587;
    goto L1;

  L1:
    return;

  anon15_Then:
    assume {:partition} Mem_T.INT4[Tmp_2592 + Tmp_2586 * 4] >= Mem_T.INT4[Tmp_2591 + Tmp_2588 * 4];
    Tmp_2587 := 1;
    goto L21;

  anon12_Then:
    assume {:partition} i_22 >= MinLength;
    assume {:nonnull} NameA != 0;
    assume NameA > 0;
    assume {:nonnull} NameB != 0;
    assume NameB > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    Tmp_2585 := 0;
    goto L1;

  anon13_Then:
    assume {:nonnull} NameA != 0;
    assume NameA > 0;
    assume {:nonnull} NameB != 0;
    assume NameB > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    Tmp_2585 := 1;
    goto L1;

  anon14_Then:
    Tmp_2585 := 2;
    goto L1;

  anon11_Then:
    assume {:nonnull} NameB != 0;
    assume NameB > 0;
    havoc Tmp_2589;
    goto L11;
}



procedure {:origName "FatFindFcb"} FatFindFcb(actual_IrpContext_166: int, actual_RootNode_1: int, actual_Name_5: int, actual_FileNameDos_1: int) returns (Tmp_2593: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFindFcb"} FatFindFcb(actual_IrpContext_166: int, actual_RootNode_1: int, actual_Name_5: int, actual_FileNameDos_1: int) returns (Tmp_2593: int)
{
  var {:scalar} Tmp_2594: int;
  var {:pointer} Links_8: int;
  var {:pointer} sdv_1466: int;
  var {:pointer} Tmp_2596: int;
  var {:pointer} Node_1: int;
  var {:pointer} Tmp_2597: int;
  var {:pointer} Tmp_2598: int;
  var {:pointer} Tmp_2599: int;
  var {:pointer} Tmp_2600: int;
  var {:scalar} Comparison_1: int;
  var {:pointer} Tmp_2601: int;
  var {:scalar} Tmp_2602: int;
  var {:pointer} RootNode_1: int;
  var {:pointer} Name_5: int;
  var {:pointer} FileNameDos_1: int;
  var boogieTmp: int;
  var vslice_dummy_var_375: int;

  anon0:
    RootNode_1 := actual_RootNode_1;
    Name_5 := actual_Name_5;
    FileNameDos_1 := actual_FileNameDos_1;
    assume {:nonnull} RootNode_1 != 0;
    assume RootNode_1 > 0;
    havoc Links_8;
    goto L7;

  L7:
    call {:si_unique_call 3098} Tmp_2594, Links_8, sdv_1466, Tmp_2596, Node_1, Tmp_2597, Tmp_2598, Tmp_2599, Tmp_2600, Comparison_1, Tmp_2601, Tmp_2602 := FatFindFcb_loop_L7(Tmp_2594, Links_8, sdv_1466, Tmp_2596, Node_1, Tmp_2597, Tmp_2598, Tmp_2599, Tmp_2600, Comparison_1, Tmp_2601, Tmp_2602, Name_5);
    goto L7_last;

  L7_last:
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Links_8 != 0;
    call {:si_unique_call 3099} sdv_1466 := sdv_containing_record(Links_8, 16);
    Node_1 := sdv_1466;
    assume {:nonnull} Node_1 != 0;
    assume Node_1 > 0;
    Tmp_2601 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Node_1));
    assume {:nonnull} Tmp_2601 != 0;
    assume Tmp_2601 > 0;
    havoc Tmp_2598;
    assume {:nonnull} Name_5 != 0;
    assume Name_5 > 0;
    havoc Tmp_2597;
    assume {:nonnull} Tmp_2597 != 0;
    assume Tmp_2597 > 0;
    assume {:nonnull} Tmp_2598 != 0;
    assume Tmp_2598 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Mem_T.INT4[Tmp_2598] != Mem_T.INT4[Tmp_2597];
    assume {:nonnull} Node_1 != 0;
    assume Node_1 > 0;
    Tmp_2600 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Node_1));
    assume {:nonnull} Tmp_2600 != 0;
    assume Tmp_2600 > 0;
    havoc Tmp_2599;
    assume {:nonnull} Name_5 != 0;
    assume Name_5 > 0;
    havoc Tmp_2596;
    assume {:nonnull} Tmp_2596 != 0;
    assume Tmp_2596 > 0;
    assume {:nonnull} Tmp_2599 != 0;
    assume Tmp_2599 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Mem_T.INT4[Tmp_2596] > Mem_T.INT4[Tmp_2599];
    Tmp_2602 := 0;
    goto L20;

  L20:
    Tmp_2594 := Tmp_2602;
    goto L21;

  L21:
    Comparison_1 := Tmp_2594;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Comparison_1 == 1;
    assume {:nonnull} Links_8 != 0;
    assume Links_8 > 0;
    havoc Links_8;
    goto anon21_Else_dummy;

  anon21_Else_dummy:
    assume false;
    return;

  anon21_Then:
    assume {:partition} Comparison_1 != 1;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} Comparison_1 != 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:nonnull} RootNode_1 != 0;
    assume RootNode_1 > 0;
    goto L30;

  L30:
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} FileNameDos_1 != 0;
    assume {:nonnull} FileNameDos_1 != 0;
    assume FileNameDos_1 > 0;
    assume {:nonnull} Node_1 != 0;
    assume Node_1 > 0;
    havoc vslice_dummy_var_375;
    Mem_T.INT4[FileNameDos_1] := vslice_dummy_var_375;
    goto L31;

  L31:
    assume {:nonnull} Node_1 != 0;
    assume Node_1 > 0;
    havoc Tmp_2593;
    goto L1;

  L1:
    return;

  anon18_Then:
    assume {:partition} FileNameDos_1 == 0;
    goto L31;

  anon17_Then:
    assume {:nonnull} RootNode_1 != 0;
    assume RootNode_1 > 0;
    call {:si_unique_call 3100} boogieTmp := __HAVOC_malloc(1);
    goto L30;

  anon16_Then:
    assume {:partition} Comparison_1 == 0;
    assume {:nonnull} Links_8 != 0;
    assume Links_8 > 0;
    havoc Links_8;
    goto anon16_Then_dummy;

  anon16_Then_dummy:
    assume false;
    return;

  anon20_Then:
    assume {:partition} Mem_T.INT4[Tmp_2599] >= Mem_T.INT4[Tmp_2596];
    Tmp_2602 := 1;
    goto L20;

  anon19_Then:
    assume {:partition} Mem_T.INT4[Tmp_2598] == Mem_T.INT4[Tmp_2597];
    assume {:nonnull} Node_1 != 0;
    assume Node_1 > 0;
    call {:si_unique_call 3101} Tmp_2594 := FatCompareNames(Oem_unnamed_tag_70(Name__FILE_NAME_NODE(Node_1)), Name_5);
    goto L21;

  anon15_Then:
    assume {:partition} Links_8 == 0;
    Tmp_2593 := 0;
    goto L1;
}



procedure {:origName "FatFsdLockControl"} FatFsdLockControl(actual_VolumeDeviceObject_12: int, actual_Irp_66: int) returns (Tmp_2603: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdLockControl"} FatFsdLockControl(actual_VolumeDeviceObject_12: int, actual_Irp_66: int) returns (Tmp_2603: int)
{
  var {:scalar} TopLevel_6: int;
  var {:scalar} Status_62: int;
  var {:scalar} sdv_1472: int;
  var {:pointer} IrpContext_167: int;
  var {:pointer} VolumeDeviceObject_12: int;
  var {:pointer} Irp_66: int;

  anon0:
    VolumeDeviceObject_12 := actual_VolumeDeviceObject_12;
    Irp_66 := actual_Irp_66;
    IrpContext_167 := 0;
    call {:si_unique_call 3102} KeEnterCriticalRegion();
    call {:si_unique_call 3103} TopLevel_6 := FatIsIrpTopLevel(Irp_66);
    call {:si_unique_call 3104} sdv_1472 := corral_nondet();
    call {:si_unique_call 3105} IrpContext_167 := FatCreateIrpContext(Irp_66, sdv_1472);
    call {:si_unique_call 3106} Status_62 := FatCommonLockControl(IrpContext_167, Irp_66);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} TopLevel_6 != 0;
    goto L34;

  L34:
    call {:si_unique_call 3107} KeLeaveCriticalRegion();
    Tmp_2603 := Status_62;
    goto LM2;

  LM2:
    return;

  anon5_Then:
    assume {:partition} TopLevel_6 == 0;
    goto L34;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatCommonLockControl"} FatCommonLockControl(actual_IrpContext_168: int, actual_Irp_67: int) returns (Tmp_2605: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonLockControl"} FatCommonLockControl(actual_IrpContext_168: int, actual_Irp_67: int) returns (Tmp_2605: int)
{
  var {:pointer} Ccb_36: int;
  var {:pointer} Fcb_61: int;
  var {:scalar} Status_63: int;
  var {:scalar} Tmp_2608: int;
  var {:scalar} TypeOfOpen_10: int;
  var {:pointer} Tmp_2609: int;
  var {:pointer} IrpSp_37: int;
  var {:scalar} sdv_1479: int;
  var {:scalar} sdv_1480: int;
  var {:scalar} Tmp_2610: int;
  var {:scalar} sdv_1482: int;
  var {:pointer} Vcb_89: int;
  var {:pointer} Tmp_2612: int;
  var {:pointer} Tmp_2613: int;
  var {:scalar} OplockPostIrp_3: int;
  var {:pointer} IrpContext_168: int;
  var {:pointer} Irp_67: int;
  var vslice_dummy_var_376: int;
  var vslice_dummy_var_377: int;

  anon0:
    call {:si_unique_call 3108} Ccb_36 := __HAVOC_malloc(4);
    call {:si_unique_call 3109} Fcb_61 := __HAVOC_malloc(4);
    call {:si_unique_call 3110} Vcb_89 := __HAVOC_malloc(4);
    IrpContext_168 := actual_IrpContext_168;
    Irp_67 := actual_Irp_67;
    OplockPostIrp_3 := 0;
    call {:si_unique_call 3111} IrpSp_37 := sdv_IoGetCurrentIrpStackLocation(Irp_67);
    assume {:nonnull} IrpSp_37 != 0;
    assume IrpSp_37 > 0;
    havoc vslice_dummy_var_376;
    call {:si_unique_call 3112} TypeOfOpen_10 := FatDecodeFileObject(vslice_dummy_var_376, Vcb_89, Fcb_61, Ccb_36);
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} TypeOfOpen_10 != 2;
    call {:si_unique_call 3113} FatCompleteRequest_Real(IrpContext_168, Irp_67, -1073741811);
    Tmp_2605 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon23_Then:
    assume {:partition} TypeOfOpen_10 == 2;
    assume {:nonnull} Fcb_61 != 0;
    assume Fcb_61 > 0;
    havoc vslice_dummy_var_377;
    call {:si_unique_call 3114} sdv_1482 := FatAcquireSharedFcb(IrpContext_168, vslice_dummy_var_377);
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} yogi_error != 1;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} sdv_1482 != 0;
    assume {:nonnull} Fcb_61 != 0;
    assume Fcb_61 > 0;
    call {:si_unique_call 3115} Status_63 := corral_nondet();
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Status_63 != 0;
    OplockPostIrp_3 := 1;
    goto L52;

  L52:
    call {:si_unique_call 3116} sdv_1480 := sdv_AbnormalTermination();
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} sdv_1480 != 0;
    goto L57;

  L57:
    call {:si_unique_call 3117} ExReleaseResourceLite(0);
    Tmp_2605 := Status_63;
    goto L1;

  anon26_Then:
    assume {:partition} sdv_1480 == 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} OplockPostIrp_3 == 0;
    call {:si_unique_call 3118} FatCompleteRequest_Real(IrpContext_168, 0, 0);
    goto L57;

  anon27_Then:
    assume {:partition} OplockPostIrp_3 != 0;
    goto L57;

  anon25_Then:
    assume {:partition} Status_63 == 0;
    call {:si_unique_call 3119} Status_63 := FsRtlProcessFileLock(0, 0, 0);
    assume {:nonnull} Fcb_61 != 0;
    assume Fcb_61 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    goto L69;

  L69:
    Tmp_2610 := 0;
    goto L70;

  L70:
    assume {:nonnull} Fcb_61 != 0;
    assume Fcb_61 > 0;
    goto L52;

  anon28_Then:
    assume {:nonnull} Fcb_61 != 0;
    assume Fcb_61 > 0;
    call {:si_unique_call 3120} sdv_1479 := corral_nondet();
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} sdv_1479 != 0;
    assume {:nonnull} Fcb_61 != 0;
    assume Fcb_61 > 0;
    havoc Tmp_2613;
    assume {:nonnull} Tmp_2613 != 0;
    assume Tmp_2613 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    goto L74;

  L74:
    Tmp_2608 := 2;
    goto L75;

  L75:
    Tmp_2610 := Tmp_2608;
    goto L70;

  anon31_Then:
    assume {:nonnull} Fcb_61 != 0;
    assume Fcb_61 > 0;
    havoc Tmp_2609;
    assume {:nonnull} Tmp_2609 != 0;
    assume Tmp_2609 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:nonnull} Fcb_61 != 0;
    assume Fcb_61 > 0;
    havoc Tmp_2612;
    assume {:nonnull} Tmp_2612 != 0;
    assume Tmp_2612 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    Tmp_2608 := 1;
    goto L75;

  anon33_Then:
    goto L74;

  anon32_Then:
    goto L74;

  anon29_Then:
    assume {:partition} sdv_1479 == 0;
    goto L69;

  anon24_Then:
    assume {:partition} sdv_1482 == 0;
    call {:si_unique_call 3121} Status_63 := FatFsdPostRequest(IrpContext_168, Irp_67);
    Tmp_2605 := Status_63;
    goto L1;

  anon30_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "_sdv_init14"} _sdv_init14();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init14"} _sdv_init14()
{
  var vslice_dummy_var_435: int;

  anon0:
    call {:si_unique_call 3122} vslice_dummy_var_435 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "_sdv_init24"} _sdv_init24();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init24"} _sdv_init24()
{
  var vslice_dummy_var_436: int;

  anon0:
    call {:si_unique_call 3123} vslice_dummy_var_436 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatAutoUnlock"} FatAutoUnlock(actual_IrpContext_169: int, actual_Vcb_90: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAutoUnlock"} FatAutoUnlock(actual_IrpContext_169: int, actual_Vcb_90: int)
{
  var {:scalar} SavedIrql_6: int;
  var {:pointer} Tmp_2619: int;
  var {:pointer} Tmp_2620: int;
  var {:pointer} Tmp_2621: int;
  var {:pointer} Vcb_90: int;
  var vslice_dummy_var_437: int;

  anon0:
    call {:si_unique_call 3124} vslice_dummy_var_437 := __HAVOC_malloc(4);
    Vcb_90 := actual_Vcb_90;
    call {:si_unique_call 3125} Tmp_2621 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2621 != 0;
    assume Tmp_2621 > 0;
    Mem_T.INT4[Tmp_2621] := SavedIrql_6;
    call {:si_unique_call 3126} IoAcquireVpbSpinLock(Tmp_2621);
    assume {:nonnull} Tmp_2621 != 0;
    assume Tmp_2621 > 0;
    SavedIrql_6 := Mem_T.INT4[Tmp_2621];
    assume {:nonnull} Vcb_90 != 0;
    assume Vcb_90 > 0;
    havoc Tmp_2619;
    assume {:nonnull} Vcb_90 != 0;
    assume Vcb_90 > 0;
    havoc Tmp_2620;
    assume {:nonnull} Tmp_2619 != 0;
    assume Tmp_2619 > 0;
    assume {:nonnull} Tmp_2620 != 0;
    assume Tmp_2620 > 0;
    assume {:nonnull} Vcb_90 != 0;
    assume Vcb_90 > 0;
    assume {:nonnull} Vcb_90 != 0;
    assume Vcb_90 > 0;
    call {:si_unique_call 3127} IoReleaseVpbSpinLock(SavedIrql_6);
    return;
}



procedure {:origName "FatCommonCleanup"} FatCommonCleanup(actual_IrpContext_170: int, actual_Irp_68: int) returns (Tmp_2622: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonCleanup"} FatCommonCleanup(actual_IrpContext_170: int, actual_Irp_68: int) returns (Tmp_2622: int)
{
  var {:scalar} Tmp_2623: int;
  var {:scalar} Tmp_2626: int;
  var {:scalar} sdv_1492: int;
  var {:pointer} Ccb_37: int;
  var {:scalar} DeleteContext_1: int;
  var {:pointer} Fcb_62: int;
  var {:scalar} Tmp_2628: int;
  var {:scalar} AcquiredFcb_1: int;
  var {:scalar} ValidDataLength_2: int;
  var {:pointer} Tmp_2629: int;
  var {:scalar} Status_64: int;
  var {:pointer} FileObject_40: int;
  var {:pointer} Tmp_2630: int;
  var {:scalar} TypeOfOpen_11: int;
  var {:scalar} sdv_1504: int;
  var {:pointer} IrpSp_38: int;
  var {:pointer} Tmp_2631: int;
  var {:pointer} Tmp_2632: int;
  var {:scalar} sdv_1510: int;
  var {:scalar} DeleteContext_2: int;
  var {:scalar} SendUnlockNotification: int;
  var {:scalar} sdv_1513: int;
  var {:pointer} Tmp_2633: int;
  var {:pointer} Tmp_2634: int;
  var {:pointer} Vcb_91: int;
  var {:pointer} Tmp_2635: int;
  var {:pointer} Tmp_2636: int;
  var {:scalar} Tmp_2638: int;
  var {:pointer} Tmp_2639: int;
  var {:pointer} ShareAccess_14: int;
  var {:scalar} sdv_1522: int;
  var {:scalar} Tmp_2640: int;
  var {:pointer} Tmp_2641: int;
  var {:scalar} AcquiredVcb_1: int;
  var {:scalar} LocalTruncateSize: int;
  var {:scalar} sdv_1525: int;
  var {:pointer} Tmp_2643: int;
  var {:pointer} Tmp_2644: int;
  var {:pointer} IrpContext_170: int;
  var {:pointer} Irp_68: int;
  var vslice_dummy_var_438: int;
  var vslice_dummy_var_439: int;
  var vslice_dummy_var_440: int;
  var vslice_dummy_var_441: int;
  var vslice_dummy_var_442: int;
  var vslice_dummy_var_443: int;
  var vslice_dummy_var_444: int;
  var vslice_dummy_var_445: int;
  var vslice_dummy_var_446: int;
  var vslice_dummy_var_447: int;
  var vslice_dummy_var_448: int;
  var vslice_dummy_var_449: int;
  var vslice_dummy_var_450: int;
  var vslice_dummy_var_451: int;
  var vslice_dummy_var_452: int;
  var vslice_dummy_var_453: int;
  var vslice_dummy_var_378: int;
  var vslice_dummy_var_379: int;
  var vslice_dummy_var_380: int;
  var vslice_dummy_var_381: int;
  var vslice_dummy_var_382: int;
  var vslice_dummy_var_383: int;
  var vslice_dummy_var_384: int;
  var vslice_dummy_var_385: int;
  var vslice_dummy_var_386: int;
  var vslice_dummy_var_387: int;
  var vslice_dummy_var_388: int;
  var vslice_dummy_var_389: int;
  var vslice_dummy_var_390: int;
  var vslice_dummy_var_391: int;
  var vslice_dummy_var_392: int;
  var vslice_dummy_var_393: int;
  var vslice_dummy_var_394: int;
  var vslice_dummy_var_395: int;
  var vslice_dummy_var_396: int;
  var vslice_dummy_var_397: int;
  var vslice_dummy_var_398: int;
  var vslice_dummy_var_399: int;
  var vslice_dummy_var_400: int;
  var vslice_dummy_var_401: int;
  var vslice_dummy_var_402: int;
  var vslice_dummy_var_403: int;
  var vslice_dummy_var_404: int;
  var vslice_dummy_var_405: int;
  var vslice_dummy_var_406: int;
  var vslice_dummy_var_407: int;

  anon0:
    call {:si_unique_call 3128} Ccb_37 := __HAVOC_malloc(4);
    call {:si_unique_call 3129} DeleteContext_1 := __HAVOC_malloc(8);
    call {:si_unique_call 3130} Fcb_62 := __HAVOC_malloc(4);
    call {:si_unique_call 3131} DeleteContext_2 := __HAVOC_malloc(8);
    call {:si_unique_call 3132} Vcb_91 := __HAVOC_malloc(4);
    call {:si_unique_call 3133} LocalTruncateSize := __HAVOC_malloc(20);
    IrpContext_170 := actual_IrpContext_170;
    Irp_68 := actual_Irp_68;
    SendUnlockNotification := 0;
    AcquiredVcb_1 := 0;
    AcquiredFcb_1 := 0;
    call {:si_unique_call 3134} IrpSp_38 := sdv_IoGetCurrentIrpStackLocation(Irp_68);
    assume {:nonnull} IrpSp_38 != 0;
    assume IrpSp_38 > 0;
    havoc FileObject_40;
    call {:si_unique_call 3135} TypeOfOpen_11 := FatDecodeFileObject(FileObject_40, Vcb_91, Fcb_62, Ccb_37);
    goto anon225_Then, anon225_Else;

  anon225_Else:
    assume {:partition} TypeOfOpen_11 == 1;
    call {:si_unique_call 3136} FatCompleteRequest_Real(IrpContext_170, Irp_68, 0);
    Tmp_2622 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon225_Then:
    assume {:partition} TypeOfOpen_11 != 1;
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    goto anon226_Then, anon226_Else;

  anon226_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon228_Then, anon228_Else;

  anon228_Else:
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    goto anon229_Then, anon229_Else;

  anon229_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon230_Then, anon230_Else;

  anon230_Else:
    goto anon231_Then, anon231_Else;

  anon231_Else:
    assume {:partition} TypeOfOpen_11 == 2;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_378;
    call {:si_unique_call 3137} Status_64 := FatFlushFile(IrpContext_170, vslice_dummy_var_378, 1);
    goto anon309_Then, anon309_Else;

  anon309_Else:
    assume {:partition} yogi_error != 1;
    goto anon232_Then, anon232_Else;

  anon232_Else:
    assume {:partition} Status_64 < 0;
    assume {:nonnull} IrpContext_170 != 0;
    assume IrpContext_170 > 0;
    call {:si_unique_call 3138} sdv_1513 := corral_nondet();
    call {:si_unique_call 3139} ExRaiseStatus(sdv_1513);
    goto L37;

  L37:
    call {:si_unique_call 3140} FatCompleteRequest_Real(IrpContext_170, Irp_68, 0);
    Tmp_2622 := 0;
    goto L1;

  anon232_Then:
    assume {:partition} 0 <= Status_64;
    goto L37;

  anon309_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon231_Then:
    assume {:partition} TypeOfOpen_11 != 2;
    goto L37;

  anon230_Then:
    goto L37;

  anon229_Then:
    goto L37;

  anon228_Then:
    goto L37;

  anon226_Then:
    goto anon227_Then, anon227_Else;

  anon227_Else:
    assume {:partition} TypeOfOpen_11 == 2;
    goto L57;

  L57:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_379;
    call {:si_unique_call 3141} vslice_dummy_var_438 := FatAcquireExclusiveFcb(IrpContext_170, vslice_dummy_var_379);
    goto anon310_Then, anon310_Else;

  anon310_Else:
    assume {:partition} yogi_error != 1;
    AcquiredFcb_1 := 1;
    assume {:nonnull} Ccb_37 != 0;
    assume Ccb_37 > 0;
    goto anon311_Then, anon311_Else;

  anon311_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon312_Then, anon312_Else;

  anon312_Else:
    assume {:partition} TypeOfOpen_11 == 3;
    call {:si_unique_call 3142} FsRtlNotifyFullChangeDirectory(0, 0, 0, 0, 0, 0, 0, 0, 0, 0);
    goto L62;

  L62:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon234_Then, anon234_Else;

  anon234_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon236_Then, anon236_Else;

  anon236_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon237_Then, anon237_Else;

  anon237_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon238_Then, anon238_Else;

  anon238_Else:
    call {:si_unique_call 3143} ExReleaseResourceLite(0);
    AcquiredFcb_1 := 0;
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc vslice_dummy_var_380;
    call {:si_unique_call 3144} vslice_dummy_var_452 := FatAcquireExclusiveVcb(IrpContext_170, vslice_dummy_var_380);
    goto anon335_Then, anon335_Else;

  anon335_Else:
    assume {:partition} yogi_error != 1;
    AcquiredVcb_1 := 1;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_381;
    call {:si_unique_call 3145} vslice_dummy_var_453 := FatAcquireExclusiveFcb(IrpContext_170, vslice_dummy_var_381);
    goto anon336_Then, anon336_Else;

  anon336_Else:
    assume {:partition} yogi_error != 1;
    AcquiredFcb_1 := 1;
    goto L68;

  L68:
    goto anon235_Then, anon235_Else;

  anon235_Else:
    assume {:partition} TypeOfOpen_11 == 4;
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc vslice_dummy_var_382;
    call {:si_unique_call 3146} vslice_dummy_var_439 := FatAcquireExclusiveVcb(IrpContext_170, vslice_dummy_var_382);
    goto anon313_Then, anon313_Else;

  anon313_Else:
    assume {:partition} yogi_error != 1;
    AcquiredVcb_1 := 1;
    goto L84;

  L84:
    goto anon239_Then, anon239_Else;

  anon239_Else:
    assume {:partition} TypeOfOpen_11 == 3;
    goto L89;

  L89:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon240_Then, anon240_Else;

  anon240_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_383;
    call {:si_unique_call 3147} FatVerifyFcb(IrpContext_170, vslice_dummy_var_383);
    call {:si_unique_call 3148} sdv_1492 := sdv_AbnormalTermination();
    goto anon242_Then, anon242_Else;

  anon242_Else:
    assume {:partition} sdv_1492 != 0;
    goto anon243_Then, anon243_Else;

  anon243_Else:
    assume {:partition} AcquiredFcb_1 != 0;
    call {:si_unique_call 3149} ExReleaseResourceLite(0);
    goto L125;

  L125:
    goto anon244_Then, anon244_Else;

  anon244_Else:
    assume {:partition} AcquiredVcb_1 != 0;
    call {:si_unique_call 3150} ExReleaseResourceLite(0);
    goto L93;

  L93:
    goto anon241_Then, anon241_Else;

  anon241_Else:
    assume {:partition} TypeOfOpen_11 != 2;
    goto anon308_Then, anon308_Else;

  anon308_Else:
    assume {:partition} TypeOfOpen_11 != 3;
    goto anon307_Then, anon307_Else;

  anon307_Else:
    assume {:partition} TypeOfOpen_11 != 4;
    goto anon306_Then, anon306_Else;

  anon306_Else:
    assume {:partition} TypeOfOpen_11 != 5;
    goto anon305_Then, anon305_Else;

  anon305_Else:
    assume {:partition} TypeOfOpen_11 != 6;
    goto anon304_Then, anon304_Else;

  anon304_Else:
    assume {:partition} TypeOfOpen_11 == 7;
    ShareAccess_14 := 0;
    goto L141;

  L141:
    goto anon246_Then, anon246_Else;

  anon246_Else:
    assume {:partition} ShareAccess_14 != 0;
    call {:si_unique_call 3151} IoRemoveShareAccess(0, 0);
    goto L142;

  L142:
    goto anon247_Then, anon247_Else;

  anon247_Else:
    assume {:partition} TypeOfOpen_11 == 2;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    call {:si_unique_call 3152} vslice_dummy_var_448 := corral_nondet();
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon248_Then, anon248_Else;

  anon248_Else:
    goto L173;

  L173:
    Tmp_2628 := 0;
    goto L174;

  L174:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto L165;

  L165:
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    Status_64 := 0;
    call {:si_unique_call 3153} FatUnpinRepinnedBcbs(IrpContext_170);
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon250_Then, anon250_Else;

  anon250_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon252_Then, anon252_Else;

  anon252_Else:
    goto anon253_Then, anon253_Else;

  anon253_Else:
    assume {:partition} TypeOfOpen_11 == 2;
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    goto anon255_Then, anon255_Else;

  anon255_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_384;
    call {:si_unique_call 3154} Status_64 := FatFlushFile(IrpContext_170, vslice_dummy_var_384, 1);
    goto anon319_Then, anon319_Else;

  anon319_Else:
    assume {:partition} yogi_error != 1;
    goto L190;

  L190:
    goto anon254_Then, anon254_Else;

  anon254_Else:
    assume {:partition} Status_64 >= 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon257_Then, anon257_Else;

  anon257_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon258_Then, anon258_Else;

  anon258_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon259_Then, anon259_Else;

  anon259_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc vslice_dummy_var_385;
    call {:si_unique_call 3155} Status_64 := FatFlushFat(IrpContext_170, vslice_dummy_var_385);
    goto L196;

  L196:
    goto anon256_Then, anon256_Else;

  anon256_Else:
    assume {:partition} Status_64 < 0;
    assume {:nonnull} IrpContext_170 != 0;
    assume IrpContext_170 > 0;
    call {:si_unique_call 3156} sdv_1510 := corral_nondet();
    call {:si_unique_call 3157} ExRaiseStatus(sdv_1510);
    goto L187;

  L187:
    goto anon251_Then, anon251_Else;

  anon251_Else:
    assume {:partition} AcquiredFcb_1 != 0;
    call {:si_unique_call 3158} ExReleaseResourceLite(0);
    goto L211;

  L211:
    goto anon260_Then, anon260_Else;

  anon260_Else:
    assume {:partition} AcquiredVcb_1 != 0;
    call {:si_unique_call 3159} ExReleaseResourceLite(0);
    goto L215;

  L215:
    goto anon261_Then, anon261_Else;

  anon261_Else:
    assume {:partition} SendUnlockNotification != 0;
    call {:si_unique_call 3160} vslice_dummy_var_440 := corral_nondet();
    goto L219;

  L219:
    call {:si_unique_call 3161} sdv_1504 := sdv_AbnormalTermination();
    goto anon262_Then, anon262_Else;

  anon262_Else:
    assume {:partition} sdv_1504 != 0;
    goto L229;

  L229:
    Tmp_2622 := Status_64;
    goto L1;

  anon262_Then:
    assume {:partition} sdv_1504 == 0;
    call {:si_unique_call 3162} FatCompleteRequest_Real(IrpContext_170, Irp_68, Status_64);
    goto L229;

  anon261_Then:
    assume {:partition} SendUnlockNotification == 0;
    goto L219;

  anon260_Then:
    assume {:partition} AcquiredVcb_1 == 0;
    goto L215;

  anon251_Then:
    assume {:partition} AcquiredFcb_1 == 0;
    goto L211;

  anon256_Then:
    assume {:partition} 0 <= Status_64;
    goto L187;

  anon259_Then:
    goto L196;

  anon258_Then:
    goto L196;

  anon257_Then:
    goto L196;

  anon254_Then:
    assume {:partition} 0 > Status_64;
    goto L196;

  anon319_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon255_Then:
    goto L190;

  anon253_Then:
    assume {:partition} TypeOfOpen_11 != 2;
    goto L190;

  anon252_Then:
    goto L187;

  anon250_Then:
    goto L187;

  anon248_Then:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    call {:si_unique_call 3163} sdv_1522 := corral_nondet();
    goto anon249_Then, anon249_Else;

  anon249_Else:
    assume {:partition} sdv_1522 != 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc Tmp_2631;
    assume {:nonnull} Tmp_2631 != 0;
    assume Tmp_2631 > 0;
    goto anon320_Then, anon320_Else;

  anon320_Else:
    goto L178;

  L178:
    Tmp_2640 := 2;
    goto L179;

  L179:
    Tmp_2628 := Tmp_2640;
    goto L174;

  anon320_Then:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc Tmp_2639;
    assume {:nonnull} Tmp_2639 != 0;
    assume Tmp_2639 > 0;
    goto anon321_Then, anon321_Else;

  anon321_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc Tmp_2641;
    assume {:nonnull} Tmp_2641 != 0;
    assume Tmp_2641 > 0;
    goto anon322_Then, anon322_Else;

  anon322_Else:
    Tmp_2640 := 1;
    goto L179;

  anon322_Then:
    goto L178;

  anon321_Then:
    goto L178;

  anon249_Then:
    assume {:partition} sdv_1522 == 0;
    goto L173;

  anon247_Then:
    assume {:partition} TypeOfOpen_11 != 2;
    goto L165;

  anon246_Then:
    assume {:partition} ShareAccess_14 == 0;
    goto L142;

  anon304_Then:
    assume {:partition} TypeOfOpen_11 != 7;
    call {:si_unique_call 3164} KeBugCheckEx(35, 263061, TypeOfOpen_11, 0, 0);
    goto L141;

  anon305_Then:
    assume {:partition} TypeOfOpen_11 == 6;
    goto L138;

  L138:
    ShareAccess_14 := 0;
    goto L141;

  anon306_Then:
    assume {:partition} TypeOfOpen_11 == 5;
    goto L138;

  anon307_Then:
    assume {:partition} TypeOfOpen_11 == 4;
    assume {:nonnull} Ccb_37 != 0;
    assume Ccb_37 > 0;
    goto anon245_Then, anon245_Else;

  anon245_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc vslice_dummy_var_386;
    call {:si_unique_call 3165} vslice_dummy_var_441 := FatCheckForDismount#1(IrpContext_170, vslice_dummy_var_386, 1);
    goto anon334_Then, anon334_Else;

  anon334_Else:
    assume {:partition} yogi_error != 1;
    goto L235;

  L235:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon264_Then, anon264_Else;

  anon264_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon265_Then, anon265_Else;

  anon265_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc vslice_dummy_var_387;
    call {:si_unique_call 3166} FatAutoUnlock(IrpContext_170, vslice_dummy_var_387);
    SendUnlockNotification := 1;
    goto L236;

  L236:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc ShareAccess_14;
    goto L141;

  anon265_Then:
    goto L236;

  anon264_Then:
    goto L236;

  anon334_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon245_Then:
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    goto anon263_Then, anon263_Else;

  anon263_Else:
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    goto anon266_Then, anon266_Else;

  anon266_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc vslice_dummy_var_388;
    call {:si_unique_call 3167} vslice_dummy_var_442 := FatHijackIrpAndFlushDevice(IrpContext_170, Irp_68, vslice_dummy_var_388);
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc Tmp_2634;
    assume {:nonnull} Tmp_2634 != 0;
    assume Tmp_2634 > 0;
    havoc Tmp_2633;
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc Tmp_2632;
    assume {:nonnull} Tmp_2632 != 0;
    assume Tmp_2632 > 0;
    havoc Tmp_2636;
    assume {:nonnull} Tmp_2633 != 0;
    assume Tmp_2633 > 0;
    assume {:nonnull} Tmp_2636 != 0;
    assume Tmp_2636 > 0;
    goto L235;

  anon266_Then:
    goto L235;

  anon263_Then:
    goto L235;

  anon308_Then:
    assume {:partition} TypeOfOpen_11 == 3;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc ShareAccess_14;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon329_Then, anon329_Else;

  anon329_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon268_Then, anon268_Else;

  anon268_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon269_Then, anon269_Else;

  anon269_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon270_Then, anon270_Else;

  anon270_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon271_Then, anon271_Else;

  anon271_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto L249;

  L249:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon267_Then, anon267_Else;

  anon267_Else:
    assume {:nonnull} Ccb_37 != 0;
    assume Ccb_37 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_389;
    havoc vslice_dummy_var_390;
    call {:si_unique_call 3168} FatUpdateDirentFromFcb(IrpContext_170, FileObject_40, vslice_dummy_var_389, vslice_dummy_var_390);
    goto L255;

  L255:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon272_Then, anon272_Else;

  anon272_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc Tmp_2643;
    assume {:nonnull} Tmp_2643 != 0;
    assume Tmp_2643 > 0;
    goto anon330_Then, anon330_Else;

  anon330_Else:
    assume {:partition} Mem_T.INT4[Tmp_2643] == 1283;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon273_Then, anon273_Else;

  anon273_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon274_Then, anon274_Else;

  anon274_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon275_Then, anon275_Else;

  anon275_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_391;
    call {:si_unique_call 3169} sdv_1525 := FatIsDirectoryEmpty(IrpContext_170, vslice_dummy_var_391);
    goto anon276_Then, anon276_Else;

  anon276_Else:
    assume {:partition} sdv_1525 != 0;
    assume {:nonnull} DeleteContext_2 != 0;
    assume DeleteContext_2 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} DeleteContext_2 != 0;
    assume DeleteContext_2 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    call {:si_unique_call 3170} vslice_dummy_var_451 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon331_Then, anon331_Else;

  anon331_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    call {:si_unique_call 3171} ExReleaseResourceLite(0);
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon277_Then, anon277_Else;

  anon277_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_392;
    call {:si_unique_call 3172} FatTruncateFileAllocation(IrpContext_170, vslice_dummy_var_392, 0);
    goto anon332_Then, anon332_Else;

  anon332_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon278_Then, anon278_Else;

  anon278_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_393;
    call {:si_unique_call 3173} FatTunnelFcbOrDcb(vslice_dummy_var_393, 0);
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_394;
    call {:si_unique_call 3174} FatDeleteDirent#1(IrpContext_170, vslice_dummy_var_394, DeleteContext_2, 1);
    goto anon333_Then, anon333_Else;

  anon333_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon279_Then, anon279_Else;

  anon279_Else:
    goto L308;

  L308:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc Tmp_2626;
    call {:si_unique_call 3175} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_2626, 0, 0, 2, 2, 0);
    goto L286;

  L286:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_395;
    call {:si_unique_call 3176} FatRemoveNames(IrpContext_170, vslice_dummy_var_395);
    goto L259;

  L259:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto L141;

  anon279_Then:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_396;
    call {:si_unique_call 3177} FatSetFullFileNameInFcb#1(IrpContext_170, vslice_dummy_var_396);
    goto L308;

  anon333_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon278_Then:
    goto L286;

  anon332_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon277_Then:
    goto L286;

  anon331_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon276_Then:
    assume {:partition} sdv_1525 == 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto L259;

  anon275_Then:
    goto L259;

  anon274_Then:
    goto L259;

  anon273_Then:
    goto L259;

  anon330_Then:
    assume {:partition} Mem_T.INT4[Tmp_2643] != 1283;
    goto L259;

  anon272_Then:
    goto L259;

  anon267_Then:
    goto L255;

  anon271_Then:
    goto L249;

  anon270_Then:
    goto L249;

  anon269_Then:
    goto L249;

  anon268_Then:
    goto L249;

  anon329_Then:
    goto L249;

  anon241_Then:
    assume {:partition} TypeOfOpen_11 == 2;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc ShareAccess_14;
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    havoc Tmp_2644;
    assume {:nonnull} Tmp_2644 != 0;
    assume Tmp_2644 > 0;
    goto anon314_Then, anon314_Else;

  anon314_Else:
    goto L315;

  L315:
    goto anon280_Then, anon280_Else;

  anon280_Else:
    goto L318;

  L318:
    call {:si_unique_call 3178} vslice_dummy_var_443 := FsRtlFastUnlockAll(0, 0, 0, 0);
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon281_Then, anon281_Else;

  anon281_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon282_Then, anon282_Else;

  anon282_Else:
    assume {:nonnull} Ccb_37 != 0;
    assume Ccb_37 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_397;
    havoc vslice_dummy_var_398;
    call {:si_unique_call 3179} FatUpdateDirentFromFcb(IrpContext_170, FileObject_40, vslice_dummy_var_397, vslice_dummy_var_398);
    goto L324;

  L324:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon283_Then, anon283_Else;

  anon283_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon284_Then, anon284_Else;

  anon284_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon285_Then, anon285_Else;

  anon285_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon287_Then, anon287_Else;

  anon287_Else:
    assume {:nonnull} DeleteContext_1 != 0;
    assume DeleteContext_1 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} DeleteContext_1 != 0;
    assume DeleteContext_1 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    call {:si_unique_call 3180} vslice_dummy_var_450 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon327_Then, anon327_Else;

  anon327_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    call {:si_unique_call 3181} ExReleaseResourceLite(0);
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_399;
    call {:si_unique_call 3182} FatSetFileSizeInDirent(IrpContext_170, vslice_dummy_var_399, 0);
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto L359;

  L359:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon288_Then, anon288_Else;

  anon288_Else:
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    goto anon290_Then, anon290_Else;

  anon290_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_400;
    havoc vslice_dummy_var_401;
    call {:si_unique_call 3183} FatTruncateFileAllocation(IrpContext_170, vslice_dummy_var_400, vslice_dummy_var_401);
    goto anon315_Then, anon315_Else;

  anon315_Else:
    assume {:partition} yogi_error != 1;
    goto L362;

  L362:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} LocalTruncateSize != 0;
    assume LocalTruncateSize > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} LocalTruncateSize != 0;
    assume LocalTruncateSize > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} LocalTruncateSize != 0;
    assume LocalTruncateSize > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} LocalTruncateSize != 0;
    assume LocalTruncateSize > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} LocalTruncateSize != 0;
    assume LocalTruncateSize > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto L360;

  L360:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon289_Then, anon289_Else;

  anon289_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon292_Then, anon292_Else;

  anon292_Else:
    assume {:nonnull} Ccb_37 != 0;
    assume Ccb_37 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_402;
    havoc vslice_dummy_var_403;
    call {:si_unique_call 3184} FatTunnelFcbOrDcb(vslice_dummy_var_402, vslice_dummy_var_403);
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_404;
    call {:si_unique_call 3185} FatDeleteDirent#1(IrpContext_170, vslice_dummy_var_404, DeleteContext_1, 1);
    goto anon323_Then, anon323_Else;

  anon323_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon293_Then, anon293_Else;

  anon293_Else:
    goto L394;

  L394:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc Tmp_2638;
    call {:si_unique_call 3186} FsRtlNotifyFullReportChange(0, 0, 0, Tmp_2638, 0, 0, 1, 2, 0);
    goto L377;

  L377:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon291_Then, anon291_Else;

  anon291_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_405;
    call {:si_unique_call 3187} FatRemoveNames(IrpContext_170, vslice_dummy_var_405);
    goto L322;

  L322:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    goto anon316_Then, anon316_Else;

  anon316_Else:
    goto L428;

  L428:
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    goto anon296_Then, anon296_Else;

  anon296_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon298_Then, anon298_Else;

  anon298_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon299_Then, anon299_Else;

  anon299_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc Tmp_2635;
    assume {:nonnull} Tmp_2635 != 0;
    assume Tmp_2635 > 0;
    goto anon317_Then, anon317_Else;

  anon317_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    call {:si_unique_call 3188} vslice_dummy_var_444 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon318_Then, anon318_Else;

  anon318_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3189} ExReleaseResourceLite(0);
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    call {:si_unique_call 3190} vslice_dummy_var_447 := corral_nondet();
    goto L429;

  L429:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon297_Then, anon297_Else;

  anon297_Else:
    goto L445;

  L445:
    call {:si_unique_call 3191} vslice_dummy_var_445 := corral_nondet();
    goto L141;

  anon297_Then:
    goto L445;

  anon318_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon317_Then:
    goto L429;

  anon299_Then:
    goto L429;

  anon298_Then:
    goto L429;

  anon296_Then:
    goto L429;

  anon316_Then:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto L428;

  anon291_Then:
    goto L322;

  anon293_Then:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc vslice_dummy_var_406;
    call {:si_unique_call 3192} FatSetFullFileNameInFcb#1(IrpContext_170, vslice_dummy_var_406);
    goto L394;

  anon323_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon292_Then:
    goto L377;

  anon289_Then:
    goto L377;

  anon315_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon290_Then:
    goto L362;

  anon288_Then:
    goto L360;

  anon327_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon287_Then:
    goto L331;

  L331:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon286_Then, anon286_Else;

  anon286_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon294_Then, anon294_Else;

  anon294_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc ValidDataLength_2;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon324_Then, anon324_Else;

  anon324_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc ValidDataLength_2;
    goto L402;

  L402:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon295_Then, anon295_Else;

  anon295_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    havoc Tmp_2623;
    assume {:nonnull} Vcb_91 != 0;
    assume Vcb_91 > 0;
    havoc vslice_dummy_var_407;
    call {:si_unique_call 3193} vslice_dummy_var_449 := FatZeroData(IrpContext_170, vslice_dummy_var_407, FileObject_40, ValidDataLength_2, Tmp_2623);
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    goto anon325_Then, anon325_Else;

  anon325_Else:
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    havoc Tmp_2630;
    assume {:nonnull} Tmp_2630 != 0;
    assume Tmp_2630 > 0;
    goto anon326_Then, anon326_Else;

  anon326_Else:
    goto L359;

  anon326_Then:
    goto L359;

  anon325_Then:
    goto L359;

  anon295_Then:
    goto L359;

  anon324_Then:
    goto L402;

  anon294_Then:
    goto L359;

  anon286_Then:
    goto L359;

  anon285_Then:
    goto L331;

  anon284_Then:
    goto L322;

  anon283_Then:
    goto L322;

  anon282_Then:
    goto L324;

  anon281_Then:
    goto L322;

  anon280_Then:
    call {:si_unique_call 3194} vslice_dummy_var_446 := __HAVOC_malloc(1);
    goto L318;

  anon314_Then:
    assume {:nonnull} FileObject_40 != 0;
    assume FileObject_40 > 0;
    havoc Tmp_2629;
    assume {:nonnull} Tmp_2629 != 0;
    assume Tmp_2629 > 0;
    goto anon328_Then, anon328_Else;

  anon328_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon300_Then, anon300_Else;

  anon300_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon301_Then, anon301_Else;

  anon301_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon302_Then, anon302_Else;

  anon302_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto anon303_Then, anon303_Else;

  anon303_Else:
    assume {:nonnull} Fcb_62 != 0;
    assume Fcb_62 > 0;
    goto L315;

  anon303_Then:
    goto L315;

  anon302_Then:
    goto L315;

  anon301_Then:
    goto L315;

  anon300_Then:
    goto L315;

  anon328_Then:
    goto L315;

  anon244_Then:
    assume {:partition} AcquiredVcb_1 == 0;
    goto L93;

  anon243_Then:
    assume {:partition} AcquiredFcb_1 == 0;
    goto L125;

  anon242_Then:
    assume {:partition} sdv_1492 == 0;
    goto L93;

  anon240_Then:
    goto L93;

  anon239_Then:
    assume {:partition} TypeOfOpen_11 != 3;
    goto L89;

  anon313_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon235_Then:
    assume {:partition} TypeOfOpen_11 != 4;
    goto L84;

  anon336_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon335_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon238_Then:
    goto L68;

  anon237_Then:
    goto L68;

  anon236_Then:
    goto L68;

  anon234_Then:
    goto L68;

  anon312_Then:
    assume {:partition} TypeOfOpen_11 != 3;
    goto L62;

  anon311_Then:
    goto L62;

  anon310_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon227_Then:
    assume {:partition} TypeOfOpen_11 != 2;
    goto anon233_Then, anon233_Else;

  anon233_Else:
    assume {:partition} TypeOfOpen_11 != 3;
    goto L68;

  anon233_Then:
    assume {:partition} TypeOfOpen_11 == 3;
    goto L57;
}



procedure {:origName "FatFsdCleanup"} FatFsdCleanup(actual_VolumeDeviceObject_14: int, actual_Irp_69: int) returns (Tmp_2645: int);
  modifies Mem_T.INT4, alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdCleanup"} FatFsdCleanup(actual_VolumeDeviceObject_14: int, actual_Irp_69: int) returns (Tmp_2645: int)
{
  var {:scalar} TopLevel_7: int;
  var {:scalar} Status_65: int;
  var {:pointer} IrpContext_171: int;
  var {:pointer} VolumeDeviceObject_15: int;
  var {:pointer} VolumeDeviceObject_14: int;
  var {:pointer} Irp_69: int;

  anon0:
    VolumeDeviceObject_14 := actual_VolumeDeviceObject_14;
    Irp_69 := actual_Irp_69;
    IrpContext_171 := 0;
    VolumeDeviceObject_15 := VolumeDeviceObject_14;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    goto L11;

  L11:
    assume {:nonnull} Irp_69 != 0;
    assume Irp_69 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_69))] := 0;
    assume {:nonnull} Irp_69 != 0;
    assume Irp_69 > 0;
    call {:si_unique_call 3195} sdv_IoCompleteRequest(0, 1);
    Tmp_2645 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon11_Then:
    goto anon9_Then, anon9_Else;

  anon9_Else:
    call {:si_unique_call 3196} KeEnterCriticalRegion();
    call {:si_unique_call 3197} TopLevel_7 := FatIsIrpTopLevel(Irp_69);
    call {:si_unique_call 3198} IrpContext_171 := FatCreateIrpContext(Irp_69, 1);
    call {:si_unique_call 3199} Status_65 := FatCommonCleanup(IrpContext_171, Irp_69);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} yogi_error != 1;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} TopLevel_7 != 0;
    goto L42;

  L42:
    call {:si_unique_call 3200} KeLeaveCriticalRegion();
    Tmp_2645 := Status_65;
    goto L1;

  anon10_Then:
    assume {:partition} TopLevel_7 == 0;
    goto L42;

  anon12_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon9_Then:
    goto L11;
}



procedure {:origName "FatPnpCancelRemove"} FatPnpCancelRemove(actual_IrpContext_172: int, actual_Irp_70: int, actual_Vcb_92: int) returns (Tmp_2647: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPnpCancelRemove"} FatPnpCancelRemove(actual_IrpContext_172: int, actual_Irp_70: int, actual_Vcb_92: int) returns (Tmp_2647: int)
{
  var {:scalar} Status_66: int;
  var {:pointer} IrpContext_172: int;
  var {:pointer} Irp_70: int;
  var {:pointer} Vcb_92: int;
  var vslice_dummy_var_454: int;
  var vslice_dummy_var_408: int;

  anon0:
    IrpContext_172 := actual_IrpContext_172;
    Irp_70 := actual_Irp_70;
    Vcb_92 := actual_Vcb_92;
    call {:si_unique_call 3201} vslice_dummy_var_454 := FatAcquireExclusiveVcb(IrpContext_172, Vcb_92);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3202} ExReleaseResourceLite(0);
    call {:si_unique_call 3203} Status_66 := FatUnlockVolumeInternal(IrpContext_172, Vcb_92, 0);
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} Status_66 >= 0;
    call {:si_unique_call 3204} FatSetupAllocationSupport(IrpContext_172, Vcb_92);
    goto L15;

  L15:
    call {:si_unique_call 3205} sdv_IoSkipCurrentIrpStackLocation(Irp_70);
    assume {:nonnull} Vcb_92 != 0;
    assume Vcb_92 > 0;
    havoc vslice_dummy_var_408;
    call {:si_unique_call 3206} Status_66 := sdv_IoCallDriver(vslice_dummy_var_408, Irp_70);
    call {:si_unique_call 3207} ExReleaseResourceLite(0);
    call {:si_unique_call 3208} FatCompleteRequest_Real(IrpContext_172, 0, 0);
    Tmp_2647 := Status_66;
    goto LM2;

  LM2:
    return;

  anon5_Then:
    assume {:partition} 0 > Status_66;
    goto L15;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatPnpAdjustVpbRefCount"} FatPnpAdjustVpbRefCount(actual_Vcb_93: int, actual_Delta: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPnpAdjustVpbRefCount"} FatPnpAdjustVpbRefCount(actual_Vcb_93: int, actual_Delta: int)
{
  var {:pointer} Tmp_2649: int;
  var {:pointer} Tmp_2650: int;
  var {:scalar} OldIrql_1: int;
  var {:pointer} Tmp_2652: int;
  var {:pointer} Vcb_93: int;
  var {:scalar} Delta: int;
  var vslice_dummy_var_455: int;

  anon0:
    call {:si_unique_call 3209} vslice_dummy_var_455 := __HAVOC_malloc(4);
    Vcb_93 := actual_Vcb_93;
    Delta := actual_Delta;
    call {:si_unique_call 3210} Tmp_2652 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2652 != 0;
    assume Tmp_2652 > 0;
    Mem_T.INT4[Tmp_2652] := OldIrql_1;
    call {:si_unique_call 3211} IoAcquireVpbSpinLock(Tmp_2652);
    assume {:nonnull} Tmp_2652 != 0;
    assume Tmp_2652 > 0;
    OldIrql_1 := Mem_T.INT4[Tmp_2652];
    assume {:nonnull} Vcb_93 != 0;
    assume Vcb_93 > 0;
    havoc Tmp_2650;
    assume {:nonnull} Vcb_93 != 0;
    assume Vcb_93 > 0;
    havoc Tmp_2649;
    assume {:nonnull} Tmp_2649 != 0;
    assume Tmp_2649 > 0;
    assume {:nonnull} Tmp_2650 != 0;
    assume Tmp_2650 > 0;
    call {:si_unique_call 3212} IoReleaseVpbSpinLock(OldIrql_1);
    return;
}



procedure {:origName "_sdv_init16"} _sdv_init16();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init16"} _sdv_init16()
{
  var vslice_dummy_var_456: int;

  anon0:
    call {:si_unique_call 3213} vslice_dummy_var_456 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatCommonPnp"} FatCommonPnp(actual_IrpContext_173: int, actual_Irp_71: int) returns (Tmp_2655: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonPnp"} FatCommonPnp(actual_IrpContext_173: int, actual_Irp_71: int) returns (Tmp_2655: int)
{
  var {:scalar} Tmp_2657: int;
  var {:scalar} Status_67: int;
  var {:pointer} IrpSp_39: int;
  var {:pointer} Tmp_2658: int;
  var {:pointer} Vcb_94: int;
  var {:scalar} Tmp_2659: int;
  var {:pointer} OurDeviceObject: int;
  var {:pointer} IrpContext_173: int;
  var {:pointer} Irp_71: int;
  var vslice_dummy_var_457: int;
  var vslice_dummy_var_409: int;

  anon0:
    IrpContext_173 := actual_IrpContext_173;
    Irp_71 := actual_Irp_71;
    assume {:nonnull} IrpContext_173 != 0;
    assume IrpContext_173 > 0;
    call {:si_unique_call 3214} IrpSp_39 := sdv_IoGetCurrentIrpStackLocation(Irp_71);
    assume {:nonnull} IrpSp_39 != 0;
    assume IrpSp_39 > 0;
    havoc OurDeviceObject;
    assume {:nonnull} IrpContext_173 != 0;
    assume IrpContext_173 > 0;
    havoc Tmp_2657;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} Tmp_2657 == 0;
    Tmp_2659 := 0;
    goto L77;

  L77:
    call {:si_unique_call 3215} vslice_dummy_var_457 := ExAcquireResourceExclusiveLite(0, Tmp_2659);
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} OurDeviceObject != 0;
    assume OurDeviceObject > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    goto L20;

  L20:
    call {:si_unique_call 3216} ExReleaseResourceLite(0);
    Status_67 := -1073741811;
    call {:si_unique_call 3217} FatCompleteRequest_Real(IrpContext_173, Irp_71, Status_67);
    Tmp_2655 := Status_67;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon25_Then:
    assume {:nonnull} OurDeviceObject != 0;
    assume OurDeviceObject > 0;
    Tmp_2658 := Vcb__VOLUME_DEVICE_OBJECT(OurDeviceObject);
    assume {:nonnull} Tmp_2658 != 0;
    assume Tmp_2658 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} Mem_T.INT4[Tmp_2658] == 1281;
    assume {:nonnull} OurDeviceObject != 0;
    assume OurDeviceObject > 0;
    Vcb_94 := Vcb__VOLUME_DEVICE_OBJECT(OurDeviceObject);
    assume {:nonnull} IrpSp_39 != 0;
    assume IrpSp_39 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:nonnull} IrpSp_39 != 0;
    assume IrpSp_39 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:nonnull} IrpSp_39 != 0;
    assume IrpSp_39 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} IrpSp_39 != 0;
    assume IrpSp_39 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    call {:si_unique_call 3218} Status_67 := FatPnpSurpriseRemove(IrpContext_173, Irp_71, Vcb_94);
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} yogi_error != 1;
    goto L47;

  L47:
    Tmp_2655 := Status_67;
    goto L1;

  anon36_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon26_Then:
    call {:si_unique_call 3219} ExReleaseResourceLite(0);
    call {:si_unique_call 3220} sdv_IoSkipCurrentIrpStackLocation(Irp_71);
    assume {:nonnull} Vcb_94 != 0;
    assume Vcb_94 > 0;
    havoc vslice_dummy_var_409;
    call {:si_unique_call 3221} Status_67 := sdv_IoCallDriver(vslice_dummy_var_409, Irp_71);
    call {:si_unique_call 3222} FatCompleteRequest_Real(IrpContext_173, 0, 0);
    goto L47;

  anon27_Then:
    call {:si_unique_call 3223} Status_67 := FatPnpCancelRemove(IrpContext_173, Irp_71, Vcb_94);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} yogi_error != 1;
    goto L47;

  anon35_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon28_Then:
    call {:si_unique_call 3224} Status_67 := FatPnpRemove(IrpContext_173, Irp_71, Vcb_94);
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} yogi_error != 1;
    goto L47;

  anon34_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon32_Then:
    call {:si_unique_call 3225} Status_67 := FatPnpQueryRemove(IrpContext_173, Irp_71, Vcb_94);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} yogi_error != 1;
    goto L47;

  anon33_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon31_Then:
    assume {:partition} Mem_T.INT4[Tmp_2658] != 1281;
    goto L20;

  anon30_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon29_Then:
    assume {:partition} Tmp_2657 != 0;
    Tmp_2659 := 1;
    goto L77;
}



procedure {:origName "FatFsdPnp"} FatFsdPnp(actual_VolumeDeviceObject_16: int, actual_Irp_72: int) returns (Tmp_2660: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdPnp"} FatFsdPnp(actual_VolumeDeviceObject_16: int, actual_Irp_72: int) returns (Tmp_2660: int)
{
  var {:scalar} TopLevel_8: int;
  var {:scalar} Status_68: int;
  var {:scalar} Wait_11: int;
  var {:pointer} sdv_1547: int;
  var {:pointer} IrpContext_174: int;
  var {:pointer} VolumeDeviceObject_16: int;
  var {:pointer} Irp_72: int;

  anon0:
    VolumeDeviceObject_16 := actual_VolumeDeviceObject_16;
    Irp_72 := actual_Irp_72;
    IrpContext_174 := 0;
    call {:si_unique_call 3226} KeEnterCriticalRegion();
    call {:si_unique_call 3227} TopLevel_8 := FatIsIrpTopLevel(Irp_72);
    call {:si_unique_call 3228} sdv_1547 := sdv_IoGetCurrentIrpStackLocation(Irp_72);
    assume {:nonnull} sdv_1547 != 0;
    assume sdv_1547 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    call {:si_unique_call 3229} Wait_11 := corral_nondet();
    goto L48;

  L48:
    call {:si_unique_call 3230} IrpContext_174 := FatCreateIrpContext(Irp_72, Wait_11);
    call {:si_unique_call 3231} Status_68 := FatCommonPnp(IrpContext_174, Irp_72);
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} yogi_error != 1;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:partition} TopLevel_8 != 0;
    goto L35;

  L35:
    call {:si_unique_call 3232} KeLeaveCriticalRegion();
    Tmp_2660 := Status_68;
    goto LM2;

  LM2:
    return;

  anon7_Then:
    assume {:partition} TopLevel_8 == 0;
    goto L35;

  anon9_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon8_Then:
    Wait_11 := 1;
    goto L48;
}



procedure {:origName "FatPnpQueryRemove"} FatPnpQueryRemove(actual_IrpContext_175: int, actual_Irp_73: int, actual_Vcb_95: int) returns (Tmp_2662: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPnpQueryRemove"} FatPnpQueryRemove(actual_IrpContext_175: int, actual_Irp_73: int, actual_Vcb_95: int) returns (Tmp_2662: int)
{
  var {:scalar} Status_69: int;
  var {:scalar} Event_10: int;
  var {:scalar} GlobalHeld: int;
  var {:scalar} Tmp_2664: int;
  var {:scalar} Tmp_2665: int;
  var {:scalar} VcbDeleted_2: int;
  var {:pointer} IrpContext_175: int;
  var {:pointer} Irp_73: int;
  var {:pointer} Vcb_95: int;
  var vslice_dummy_var_458: int;
  var vslice_dummy_var_459: int;
  var vslice_dummy_var_460: int;
  var vslice_dummy_var_461: int;
  var vslice_dummy_var_410: int;

  anon0:
    call {:si_unique_call 3233} Event_10 := __HAVOC_malloc(124);
    IrpContext_175 := actual_IrpContext_175;
    Irp_73 := actual_Irp_73;
    Vcb_95 := actual_Vcb_95;
    VcbDeleted_2 := 0;
    GlobalHeld := 1;
    call {:si_unique_call 3234} vslice_dummy_var_459 := FatAcquireExclusiveVcb(IrpContext_175, Vcb_95);
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3235} ExReleaseResourceLite(0);
    GlobalHeld := 0;
    call {:si_unique_call 3236} Status_69 := FatLockVolumeInternal(IrpContext_175, Vcb_95, 0);
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3237} FatPnpAdjustVpbRefCount(Vcb_95, 1);
    call {:si_unique_call 3238} ExReleaseResourceLite(0);
    assume {:nonnull} IrpContext_175 != 0;
    assume IrpContext_175 > 0;
    havoc Tmp_2665;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} Tmp_2665 == 0;
    Tmp_2664 := 0;
    goto L99;

  L99:
    call {:si_unique_call 3239} vslice_dummy_var_460 := ExAcquireResourceExclusiveLite(0, Tmp_2664);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} yogi_error != 1;
    GlobalHeld := 1;
    call {:si_unique_call 3240} vslice_dummy_var_461 := FatAcquireExclusiveVcb(IrpContext_175, Vcb_95);
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3241} FatPnpAdjustVpbRefCount(Vcb_95, -1);
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Status_69 >= 0;
    call {:si_unique_call 3242} FatFlushAndCleanVolume(IrpContext_175, Irp_73, Vcb_95, 1);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3243} sdv_IoCopyCurrentIrpStackLocationToNext(Irp_73);
    call {:si_unique_call 3244} KeInitializeEvent(Event_10, 0, 0);
    call {:si_unique_call 3245} sdv_IoSetCompletionRoutine(Irp_73, li2bplFunctionConstant466, Event_10, 1, 1, 1);
    assume {:nonnull} Vcb_95 != 0;
    assume Vcb_95 > 0;
    havoc vslice_dummy_var_410;
    call {:si_unique_call 3246} Status_69 := sdv_IoCallDriver(vslice_dummy_var_410, Irp_73);
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Status_69 == 259;
    call {:si_unique_call 3247} vslice_dummy_var_458 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Irp_73 != 0;
    assume Irp_73 > 0;
    Status_69 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_73))];
    goto L65;

  L65:
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} Status_69 >= 0;
    call {:si_unique_call 3248} VcbDeleted_2 := FatCheckForDismount#1(IrpContext_175, Vcb_95, 1);
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} yogi_error != 1;
    goto L47;

  L47:
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} VcbDeleted_2 != 0;
    goto L77;

  L77:
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} GlobalHeld != 0;
    call {:si_unique_call 3249} ExReleaseResourceLite(0);
    goto L78;

  L78:
    call {:si_unique_call 3250} FatCompleteRequest_Real(IrpContext_175, Irp_73, Status_69);
    Tmp_2662 := Status_69;
    goto LM2;

  LM2:
    return;

  anon29_Then:
    assume {:partition} GlobalHeld == 0;
    goto L78;

  anon26_Then:
    assume {:partition} VcbDeleted_2 == 0;
    call {:si_unique_call 3251} ExReleaseResourceLite(0);
    goto L77;

  anon36_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon28_Then:
    assume {:partition} 0 > Status_69;
    goto L47;

  anon27_Then:
    assume {:partition} Status_69 != 259;
    goto L65;

  anon35_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon25_Then:
    assume {:partition} 0 > Status_69;
    goto L47;

  anon34_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon33_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon32_Then:
    assume {:partition} Tmp_2665 != 0;
    Tmp_2664 := 1;
    goto L99;

  anon31_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon30_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatPnpRemove"} FatPnpRemove(actual_IrpContext_176: int, actual_Irp_74: int, actual_Vcb_96: int) returns (Tmp_2666: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPnpRemove"} FatPnpRemove(actual_IrpContext_176: int, actual_Irp_74: int, actual_Vcb_96: int) returns (Tmp_2666: int)
{
  var {:scalar} Status_70: int;
  var {:scalar} Event_11: int;
  var {:scalar} VcbDeleted_3: int;
  var {:pointer} IrpContext_176: int;
  var {:pointer} Irp_74: int;
  var {:pointer} Vcb_96: int;
  var vslice_dummy_var_462: int;
  var vslice_dummy_var_463: int;
  var vslice_dummy_var_464: int;
  var vslice_dummy_var_411: int;

  anon0:
    call {:si_unique_call 3252} Event_11 := __HAVOC_malloc(124);
    IrpContext_176 := actual_IrpContext_176;
    Irp_74 := actual_Irp_74;
    Vcb_96 := actual_Vcb_96;
    call {:si_unique_call 3253} vslice_dummy_var_462 := FatAcquireExclusiveVcb(IrpContext_176, Vcb_96);
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3254} vslice_dummy_var_463 := FatUnlockVolumeInternal(IrpContext_176, Vcb_96, 0);
    call {:si_unique_call 3255} sdv_IoCopyCurrentIrpStackLocationToNext(Irp_74);
    call {:si_unique_call 3256} KeInitializeEvent(Event_11, 0, 0);
    call {:si_unique_call 3257} sdv_IoSetCompletionRoutine(Irp_74, li2bplFunctionConstant466, Event_11, 1, 1, 1);
    assume {:nonnull} Vcb_96 != 0;
    assume Vcb_96 > 0;
    havoc vslice_dummy_var_411;
    call {:si_unique_call 3258} Status_70 := sdv_IoCallDriver(vslice_dummy_var_411, Irp_74);
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} Status_70 == 259;
    call {:si_unique_call 3259} vslice_dummy_var_464 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Irp_74 != 0;
    assume Irp_74 > 0;
    Status_70 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_74))];
    goto L26;

  L26:
    call {:si_unique_call 3260} FatFlushAndCleanVolume(IrpContext_176, Irp_74, Vcb_96, 0);
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3261} VcbDeleted_3 := FatCheckForDismount#1(IrpContext_176, Vcb_96, 1);
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} yogi_error != 1;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} VcbDeleted_3 != 0;
    goto L48;

  L48:
    call {:si_unique_call 3262} ExReleaseResourceLite(0);
    call {:si_unique_call 3263} FatCompleteRequest_Real(IrpContext_176, Irp_74, Status_70);
    Tmp_2666 := Status_70;
    goto LM2;

  LM2:
    return;

  anon12_Then:
    assume {:partition} VcbDeleted_3 == 0;
    call {:si_unique_call 3264} ExReleaseResourceLite(0);
    goto L48;

  anon15_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon14_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon11_Then:
    assume {:partition} Status_70 != 259;
    goto L26;

  anon13_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatPnpSurpriseRemove"} FatPnpSurpriseRemove(actual_IrpContext_177: int, actual_Irp_75: int, actual_Vcb_97: int) returns (Tmp_2668: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPnpSurpriseRemove"} FatPnpSurpriseRemove(actual_IrpContext_177: int, actual_Irp_75: int, actual_Vcb_97: int) returns (Tmp_2668: int)
{
  var {:scalar} Status_71: int;
  var {:scalar} Event_12: int;
  var {:scalar} VcbDeleted_4: int;
  var {:pointer} IrpContext_177: int;
  var {:pointer} Irp_75: int;
  var {:pointer} Vcb_97: int;
  var vslice_dummy_var_465: int;
  var vslice_dummy_var_466: int;
  var vslice_dummy_var_412: int;

  anon0:
    call {:si_unique_call 3265} Event_12 := __HAVOC_malloc(124);
    IrpContext_177 := actual_IrpContext_177;
    Irp_75 := actual_Irp_75;
    Vcb_97 := actual_Vcb_97;
    call {:si_unique_call 3266} vslice_dummy_var_465 := FatAcquireExclusiveVcb(IrpContext_177, Vcb_97);
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3267} sdv_IoCopyCurrentIrpStackLocationToNext(Irp_75);
    call {:si_unique_call 3268} KeInitializeEvent(Event_12, 0, 0);
    call {:si_unique_call 3269} sdv_IoSetCompletionRoutine(Irp_75, li2bplFunctionConstant466, Event_12, 1, 1, 1);
    assume {:nonnull} Vcb_97 != 0;
    assume Vcb_97 > 0;
    havoc vslice_dummy_var_412;
    call {:si_unique_call 3270} Status_71 := sdv_IoCallDriver(vslice_dummy_var_412, Irp_75);
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} Status_71 == 259;
    call {:si_unique_call 3271} vslice_dummy_var_466 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Irp_75 != 0;
    assume Irp_75 > 0;
    Status_71 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_75))];
    goto L23;

  L23:
    call {:si_unique_call 3272} FatFlushAndCleanVolume(IrpContext_177, Irp_75, Vcb_97, 0);
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3273} VcbDeleted_4 := FatCheckForDismount#1(IrpContext_177, Vcb_97, 1);
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} yogi_error != 1;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} VcbDeleted_4 != 0;
    goto L45;

  L45:
    call {:si_unique_call 3274} ExReleaseResourceLite(0);
    call {:si_unique_call 3275} FatCompleteRequest_Real(IrpContext_177, Irp_75, Status_71);
    Tmp_2668 := Status_71;
    goto LM2;

  LM2:
    return;

  anon12_Then:
    assume {:partition} VcbDeleted_4 == 0;
    call {:si_unique_call 3276} ExReleaseResourceLite(0);
    goto L45;

  anon15_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon14_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon11_Then:
    assume {:partition} Status_71 != 259;
    goto L23;

  anon13_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatFsdDeviceControl"} FatFsdDeviceControl(actual_VolumeDeviceObject_18: int, actual_Irp_76: int) returns (Tmp_2670: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdDeviceControl"} FatFsdDeviceControl(actual_VolumeDeviceObject_18: int, actual_Irp_76: int) returns (Tmp_2670: int)
{
  var {:scalar} TopLevel_9: int;
  var {:scalar} Status_72: int;
  var {:scalar} sdv_1571: int;
  var {:pointer} IrpContext_178: int;
  var {:pointer} VolumeDeviceObject_18: int;
  var {:pointer} Irp_76: int;

  anon0:
    VolumeDeviceObject_18 := actual_VolumeDeviceObject_18;
    Irp_76 := actual_Irp_76;
    IrpContext_178 := 0;
    call {:si_unique_call 3277} KeEnterCriticalRegion();
    call {:si_unique_call 3278} TopLevel_9 := FatIsIrpTopLevel(Irp_76);
    call {:si_unique_call 3279} sdv_1571 := corral_nondet();
    call {:si_unique_call 3280} IrpContext_178 := FatCreateIrpContext(Irp_76, sdv_1571);
    call {:si_unique_call 3281} Status_72 := FatCommonDeviceControl(IrpContext_178, Irp_76);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} TopLevel_9 != 0;
    goto L34;

  L34:
    call {:si_unique_call 3282} KeLeaveCriticalRegion();
    Tmp_2670 := Status_72;
    goto LM2;

  LM2:
    return;

  anon5_Then:
    assume {:partition} TopLevel_9 == 0;
    goto L34;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatCommonDeviceControl"} FatCommonDeviceControl(actual_IrpContext_179: int, actual_Irp_77: int) returns (Tmp_2672: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonDeviceControl"} FatCommonDeviceControl(actual_IrpContext_179: int, actual_Irp_77: int) returns (Tmp_2672: int)
{
  var {:pointer} Fcb_63: int;
  var {:pointer} Ccb_38: int;
  var {:pointer} Fcb_64: int;
  var {:scalar} WaitEvent: int;
  var {:scalar} Status_73: int;
  var {:pointer} CompletionContext: int;
  var {:pointer} IrpSp_40: int;
  var {:scalar} sdv_1579: int;
  var {:pointer} Fcb_65: int;
  var {:pointer} Vcb_98: int;
  var {:pointer} IrpContext_179: int;
  var {:pointer} Irp_77: int;
  var vslice_dummy_var_467: int;
  var vslice_dummy_var_468: int;
  var vslice_dummy_var_469: int;
  var vslice_dummy_var_413: int;
  var vslice_dummy_var_414: int;
  var vslice_dummy_var_415: int;
  var vslice_dummy_var_416: int;
  var vslice_dummy_var_417: int;
  var vslice_dummy_var_418: int;

  anon0:
    call {:si_unique_call 3283} Ccb_38 := __HAVOC_malloc(4);
    call {:si_unique_call 3284} Fcb_64 := __HAVOC_malloc(4);
    call {:si_unique_call 3285} WaitEvent := __HAVOC_malloc(124);
    call {:si_unique_call 3286} Vcb_98 := __HAVOC_malloc(4);
    IrpContext_179 := actual_IrpContext_179;
    Irp_77 := actual_Irp_77;
    CompletionContext := 0;
    call {:si_unique_call 3287} IrpSp_40 := sdv_IoGetCurrentIrpStackLocation(Irp_77);
    assume {:nonnull} IrpSp_40 != 0;
    assume IrpSp_40 > 0;
    havoc vslice_dummy_var_413;
    call {:si_unique_call 3288} sdv_1579 := FatDecodeFileObject(vslice_dummy_var_413, Vcb_98, Fcb_64, Ccb_38);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} sdv_1579 != 4;
    call {:si_unique_call 3289} FatCompleteRequest_Real(IrpContext_179, Irp_77, -1073741811);
    Tmp_2672 := -1073741811;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon21_Then:
    assume {:partition} sdv_1579 == 4;
    assume {:nonnull} IrpSp_40 != 0;
    assume IrpSp_40 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} IrpContext_179 != 0;
    assume IrpContext_179 > 0;
    Fcb_63 := 0;
    assume {:nonnull} Vcb_98 != 0;
    assume Vcb_98 > 0;
    havoc vslice_dummy_var_414;
    call {:si_unique_call 3290} vslice_dummy_var_469 := FatAcquireExclusiveVcb(IrpContext_179, vslice_dummy_var_414);
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} yogi_error != 1;
    goto L33;

  L33:
    call {:si_unique_call 3291} Fcb_63, vslice_dummy_var_467 := FatCommonDeviceControl_loop_L33(Fcb_63, Vcb_98, IrpContext_179, vslice_dummy_var_467);
    goto L33_last;

  L33_last:
    assume {:nonnull} Vcb_98 != 0;
    assume Vcb_98 > 0;
    havoc vslice_dummy_var_417;
    call {:si_unique_call 3304} Fcb_63 := FatGetNextFcbBottomUp(IrpContext_179, Fcb_63, vslice_dummy_var_417);
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Fcb_63 != 0;
    call {:si_unique_call 3292} vslice_dummy_var_467 := FatAcquireExclusiveFcb(IrpContext_179, Fcb_63);
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} yogi_error != 1;
    goto anon29_Else_dummy;

  anon29_Else_dummy:
    assume false;
    return;

  anon29_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon23_Then:
    assume {:partition} Fcb_63 == 0;
    assume {:nonnull} Vcb_98 != 0;
    assume Vcb_98 > 0;
    havoc vslice_dummy_var_415;
    call {:si_unique_call 3293} FatFlushAndCleanVolume(IrpContext_179, Irp_77, vslice_dummy_var_415, 3);
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3294} KeInitializeEvent(WaitEvent, 0, 0);
    CompletionContext := WaitEvent;
    call {:si_unique_call 3295} sdv_IoCopyCurrentIrpStackLocationToNext(Irp_77);
    call {:si_unique_call 3296} sdv_IoSetCompletionRoutine(Irp_77, li2bplFunctionConstant714, CompletionContext, 1, 1, 1);
    goto L55;

  L55:
    assume {:nonnull} Vcb_98 != 0;
    assume Vcb_98 > 0;
    havoc vslice_dummy_var_416;
    call {:si_unique_call 3297} Status_73 := sdv_IoCallDriver(vslice_dummy_var_416, Irp_77);
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} Status_73 == 259;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} CompletionContext != 0;
    call {:si_unique_call 3298} vslice_dummy_var_468 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} Irp_77 != 0;
    assume Irp_77 > 0;
    Status_73 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_77))];
    goto L60;

  L60:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} CompletionContext != 0;
    Fcb_65 := 0;
    goto L69;

  L69:
    call {:si_unique_call 3299} Fcb_65 := FatCommonDeviceControl_loop_L69(Fcb_65, Vcb_98, IrpContext_179);
    goto L69_last;

  L69_last:
    assume {:nonnull} Vcb_98 != 0;
    assume Vcb_98 > 0;
    havoc vslice_dummy_var_418;
    call {:si_unique_call 3305} Fcb_65 := FatGetNextFcbBottomUp(IrpContext_179, Fcb_65, vslice_dummy_var_418);
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Fcb_65 != 0;
    call {:si_unique_call 3300} ExReleaseResourceLite(0);
    goto anon27_Else_dummy;

  anon27_Else_dummy:
    assume false;
    return;

  anon27_Then:
    assume {:partition} Fcb_65 == 0;
    call {:si_unique_call 3301} ExReleaseResourceLite(0);
    goto L80;

  L80:
    call {:si_unique_call 3302} FatCompleteRequest_Real(IrpContext_179, Irp_77, Status_73);
    Tmp_2672 := Status_73;
    goto L1;

  anon25_Then:
    assume {:partition} CompletionContext == 0;
    Irp_77 := 0;
    goto L80;

  anon26_Then:
    assume {:partition} CompletionContext == 0;
    goto L60;

  anon24_Then:
    assume {:partition} Status_73 != 259;
    goto L60;

  anon30_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon28_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon22_Then:
    call {:si_unique_call 3303} sdv_IoSkipCurrentIrpStackLocation(Irp_77);
    goto L55;
}



procedure {:origName "_sdv_init30"} _sdv_init30();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init30"} _sdv_init30()
{
  var vslice_dummy_var_470: int;

  anon0:
    call {:si_unique_call 3306} vslice_dummy_var_470 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "_sdv_init3"} _sdv_init3();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init3"} _sdv_init3()
{
  var vslice_dummy_var_471: int;

  anon0:
    call {:si_unique_call 3307} vslice_dummy_var_471 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatGetNeedEaCount"} FatGetNeedEaCount(actual_IrpContext_180: int, actual_Vcb_99: int, actual_Dirent_39: int, actual_NeedEaCount_4: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetNeedEaCount"} FatGetNeedEaCount(actual_IrpContext_180: int, actual_Vcb_99: int, actual_Dirent_39: int, actual_NeedEaCount_4: int)
{
  var {:pointer} EaDirent_1: int;
  var {:scalar} LockedEaFcb_1: int;
  var {:pointer} Buffer_30: int;
  var {:pointer} EaSetHeader_1: int;
  var {:pointer} EaBcb_1: int;
  var {:scalar} ThisFilename: int;
  var {:scalar} EaSetRange_1: int;
  var {:pointer} IrpContext_180: int;
  var {:pointer} Vcb_99: int;
  var {:pointer} Dirent_39: int;
  var {:pointer} NeedEaCount_4: int;
  var vslice_dummy_var_472: int;
  var vslice_dummy_var_419: int;
  var vslice_dummy_var_420: int;

  anon0:
    call {:si_unique_call 3308} vslice_dummy_var_472 := __HAVOC_malloc(4);
    call {:si_unique_call 3309} EaDirent_1 := __HAVOC_malloc(4);
    call {:si_unique_call 3310} EaBcb_1 := __HAVOC_malloc(4);
    call {:si_unique_call 3311} ThisFilename := __HAVOC_malloc(12);
    call {:si_unique_call 3312} EaSetRange_1 := __HAVOC_malloc(28);
    IrpContext_180 := actual_IrpContext_180;
    Vcb_99 := actual_Vcb_99;
    Dirent_39 := actual_Dirent_39;
    NeedEaCount_4 := actual_NeedEaCount_4;
    call {:si_unique_call 3313} Buffer_30 := __HAVOC_malloc(48);
    assume {:nonnull} Dirent_39 != 0;
    assume Dirent_39 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    call {:si_unique_call 3314} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} EaBcb_1 != 0;
    assume EaBcb_1 > 0;
    LockedEaFcb_1 := 0;
    call {:si_unique_call 3315} FatGetEaFile#1(IrpContext_180, Vcb_99, EaDirent_1, EaBcb_1, 0, 0);
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} yogi_error != 1;
    LockedEaFcb_1 := 1;
    assume {:nonnull} Vcb_99 != 0;
    assume Vcb_99 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    goto L35;

  L35:
    assume {:nonnull} ThisFilename != 0;
    assume ThisFilename > 0;
    call {:si_unique_call 3316} Fat8dot3ToString(IrpContext_180, Dirent_39, 0, ThisFilename);
    assume {:nonnull} Dirent_39 != 0;
    assume Dirent_39 > 0;
    havoc vslice_dummy_var_419;
    call {:si_unique_call 3317} FatReadEaSet(IrpContext_180, Vcb_99, vslice_dummy_var_419, ThisFilename, 0, EaSetRange_1);
    assume {:nonnull} EaSetRange_1 != 0;
    assume EaSetRange_1 > 0;
    havoc EaSetHeader_1;
    assume {:nonnull} EaSetHeader_1 != 0;
    assume EaSetHeader_1 > 0;
    assume {:nonnull} NeedEaCount_4 != 0;
    assume NeedEaCount_4 > 0;
    havoc vslice_dummy_var_420;
    Mem_T.INT4[NeedEaCount_4] := vslice_dummy_var_420;
    assume {:nonnull} EaBcb_1 != 0;
    assume EaBcb_1 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} EaBcb_1 != 0;
    assume EaBcb_1 > 0;
    goto L45;

  L45:
    call {:si_unique_call 3318} FatUnpinEaRange(IrpContext_180, EaSetRange_1);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} LockedEaFcb_1 != 0;
    assume {:nonnull} Vcb_99 != 0;
    assume Vcb_99 > 0;
    call {:si_unique_call 3319} ExReleaseResourceLite(0);
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon12_Then:
    assume {:partition} LockedEaFcb_1 == 0;
    goto L1;

  anon15_Then:
    goto L45;

  anon14_Then:
    assume {:nonnull} IrpContext_180 != 0;
    assume IrpContext_180 > 0;
    call {:si_unique_call 3320} ExRaiseStatus(-1073741742);
    goto L35;

  anon13_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon11_Then:
    assume {:nonnull} NeedEaCount_4 != 0;
    assume NeedEaCount_4 > 0;
    Mem_T.INT4[NeedEaCount_4] := 0;
    goto L1;
}



procedure {:origName "FatCreateEa"} FatCreateEa(actual_IrpContext_182: int, actual_Vcb_101: int, actual_Buffer_31: int, actual_Length_19: int, actual_FileName_3: int, actual_EaHandle_3: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateEa"} FatCreateEa(actual_IrpContext_182: int, actual_Vcb_101: int, actual_Buffer_31: int, actual_Length_19: int, actual_FileName_3: int, actual_EaHandle_3: int)
{
  var {:scalar} EaName: int;
  var {:dopa} {:scalar} EaOffset: int;
  var {:pointer} Tmp_2714: int;
  var {:scalar} Tmp_2715: int;
  var {:pointer} Tmp_2716: int;
  var {:pointer} Tmp_2718: int;
  var {:scalar} Tmp_2719: int;
  var {:scalar} Tmp_2720: int;
  var {:pointer} Tmp_2722: int;
  var {:pointer} EaDirent_3: int;
  var {:scalar} LockedEaFcb_2: int;
  var {:pointer} sdv_1598: int;
  var {:dopa} {:scalar} PackedEasLength: int;
  var {:pointer} FullEa: int;
  var {:pointer} Tmp_2723: int;
  var {:pointer} EaSetHeader_2: int;
  var {:scalar} sdv_1599: int;
  var {:pointer} EaBcb_3: int;
  var {:scalar} sdv_1600: int;
  var {:scalar} Tmp_2724: int;
  var {:pointer} Tmp_2725: int;
  var {:scalar} Tmp_2726: int;
  var {:dopa} {:scalar} AllocationLength: int;
  var {:scalar} BytesPerCluster_6: int;
  var {:scalar} EaSetRange_2: int;
  var {:pointer} Tmp_2729: int;
  var {:pointer} IrpContext_182: int;
  var {:pointer} Vcb_101: int;
  var {:pointer} Buffer_31: int;
  var {:scalar} Length_19: int;
  var {:pointer} FileName_3: int;
  var {:pointer} EaHandle_3: int;
  var vslice_dummy_var_473: int;
  var vslice_dummy_var_421: int;
  var vslice_dummy_var_422: int;
  var vslice_dummy_var_423: int;
  var vslice_dummy_var_424: int;
  var vslice_dummy_var_425: int;

  anon0:
    call {:si_unique_call 3321} EaName := __HAVOC_malloc(12);
    call {:si_unique_call 3322} EaOffset := __HAVOC_malloc(4);
    call {:si_unique_call 3323} vslice_dummy_var_473 := __HAVOC_malloc(4);
    call {:si_unique_call 3324} EaDirent_3 := __HAVOC_malloc(4);
    call {:si_unique_call 3325} PackedEasLength := __HAVOC_malloc(4);
    call {:si_unique_call 3326} EaSetHeader_2 := __HAVOC_malloc(4);
    call {:si_unique_call 3327} EaBcb_3 := __HAVOC_malloc(4);
    call {:si_unique_call 3328} AllocationLength := __HAVOC_malloc(4);
    call {:si_unique_call 3329} EaSetRange_2 := __HAVOC_malloc(28);
    IrpContext_182 := actual_IrpContext_182;
    Vcb_101 := actual_Vcb_101;
    Buffer_31 := actual_Buffer_31;
    Length_19 := actual_Length_19;
    FileName_3 := actual_FileName_3;
    EaHandle_3 := actual_EaHandle_3;
    call {:si_unique_call 3330} Tmp_2716 := __HAVOC_malloc(4);
    assume {:nonnull} EaBcb_3 != 0;
    assume EaBcb_3 > 0;
    LockedEaFcb_2 := 0;
    call {:si_unique_call 3331} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} PackedEasLength != 0;
    assume PackedEasLength > 0;
    Mem_T.INT4[PackedEasLength] := 0;
    call {:si_unique_call 3332} BytesPerCluster_6 := corral_nondet();
    assume {:nonnull} AllocationLength != 0;
    assume AllocationLength > 0;
    assume {:nonnull} PackedEasLength != 0;
    assume PackedEasLength > 0;
    Mem_T.INT4[AllocationLength] := BAND(Mem_T.INT4[PackedEasLength] + 30 + BytesPerCluster_6 - 1, BNOT(BytesPerCluster_6 - 1));
    assume {:nonnull} AllocationLength != 0;
    assume AllocationLength > 0;
    call {:si_unique_call 3333} sdv_1598 := ExAllocatePoolWithTag(17, Mem_T.INT4[AllocationLength], -445357754);
    assume {:nonnull} EaSetHeader_2 != 0;
    assume EaSetHeader_2 > 0;
    assume {:nonnull} AllocationLength != 0;
    assume AllocationLength > 0;
    call {:si_unique_call 3334} sdv_RtlZeroMemory(0, Mem_T.INT4[AllocationLength]);
    assume {:nonnull} FileName_3 != 0;
    assume FileName_3 > 0;
    havoc Tmp_2719;
    call {:si_unique_call 3335} sdv_RtlCopyMemory(0, 0, Tmp_2719);
    assume {:nonnull} AllocationLength != 0;
    assume AllocationLength > 0;
    Mem_T.INT4[AllocationLength] := Mem_T.INT4[AllocationLength] - 30;
    FullEa := Buffer_31;
    goto L49;

  L49:
    call {:si_unique_call 3336} Tmp_2714, Tmp_2716, Tmp_2718, FullEa, Tmp_2723, sdv_1599, sdv_1600, Tmp_2724, Tmp_2725, Tmp_2726, Tmp_2729 := FatCreateEa_loop_L49(EaName, EaOffset, Tmp_2714, Tmp_2716, Tmp_2718, PackedEasLength, FullEa, Tmp_2723, EaSetHeader_2, sdv_1599, sdv_1600, Tmp_2724, Tmp_2725, Tmp_2726, AllocationLength, BytesPerCluster_6, Tmp_2729, IrpContext_182, Buffer_31, Length_19);
    goto L49_last;

  L49_last:
    Tmp_2724 := Length_19;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} Buffer_31 + Tmp_2724 * 4 > FullEa;
    assume {:nonnull} EaName != 0;
    assume EaName > 0;
    assume {:nonnull} FullEa != 0;
    assume FullEa > 0;
    assume {:nonnull} FullEa != 0;
    assume FullEa > 0;
    havoc Tmp_2716;
    assume {:nonnull} EaName != 0;
    assume EaName > 0;
    call {:si_unique_call 3337} sdv_1599 := FatIsEaNameValid(IrpContext_182, EaName);
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} sdv_1599 != 0;
    goto L60;

  L60:
    assume {:nonnull} FullEa != 0;
    assume FullEa > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} FullEa != 0;
    assume FullEa > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:nonnull} IrpContext_182 != 0;
    assume IrpContext_182 > 0;
    havoc Tmp_2718;
    assume {:nonnull} Tmp_2718 != 0;
    assume Tmp_2718 > 0;
    assume {:nonnull} IrpContext_182 != 0;
    assume IrpContext_182 > 0;
    havoc Tmp_2723;
    assume {:nonnull} Tmp_2723 != 0;
    assume Tmp_2723 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Tmp_2723))] := 19;
    assume {:nonnull} IrpContext_182 != 0;
    assume IrpContext_182 > 0;
    call {:si_unique_call 3338} ExRaiseStatus(19);
    goto L61;

  L61:
    assume {:nonnull} EaSetHeader_2 != 0;
    assume EaSetHeader_2 > 0;
    assume {:nonnull} PackedEasLength != 0;
    assume PackedEasLength > 0;
    havoc vslice_dummy_var_421;
    call {:si_unique_call 3339} sdv_1600 := FatLocateEaByName(IrpContext_182, vslice_dummy_var_421, Mem_T.INT4[PackedEasLength], EaName, EaOffset);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} sdv_1600 != 0;
    assume {:nonnull} EaOffset != 0;
    assume EaOffset > 0;
    assume {:nonnull} EaSetHeader_2 != 0;
    assume EaSetHeader_2 > 0;
    havoc vslice_dummy_var_422;
    call {:si_unique_call 3340} FatDeletePackedEa(IrpContext_182, vslice_dummy_var_422, PackedEasLength, Mem_T.INT4[EaOffset]);
    goto L72;

  L72:
    assume {:nonnull} FullEa != 0;
    assume FullEa > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    goto L80;

  L80:
    assume {:nonnull} FullEa != 0;
    assume FullEa > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    Tmp_2725 := FullEa;
    goto L83;

  L83:
    FullEa := Tmp_2725;
    goto L83_dummy;

  L83_dummy:
    assume false;
    return;

  anon35_Then:
    Tmp_2726 := Length_19;
    Tmp_2725 := Buffer_31 + Tmp_2726 * 4;
    goto L83;

  anon34_Then:
    call {:si_unique_call 3341} FatAppendPackedEa(IrpContext_182, EaSetHeader_2, PackedEasLength, AllocationLength, FullEa, BytesPerCluster_6);
    goto L80;

  anon33_Then:
    assume {:partition} sdv_1600 == 0;
    goto L72;

  anon32_Then:
    goto L61;

  anon31_Then:
    goto L61;

  anon30_Then:
    assume {:partition} sdv_1599 == 0;
    assume {:nonnull} IrpContext_182 != 0;
    assume IrpContext_182 > 0;
    havoc Tmp_2729;
    assume {:nonnull} Tmp_2729 != 0;
    assume Tmp_2729 > 0;
    assume {:nonnull} IrpContext_182 != 0;
    assume IrpContext_182 > 0;
    havoc Tmp_2714;
    assume {:nonnull} Tmp_2714 != 0;
    assume Tmp_2714 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Tmp_2714))] := 19;
    assume {:nonnull} IrpContext_182 != 0;
    assume IrpContext_182 > 0;
    call {:si_unique_call 3342} ExRaiseStatus(19);
    goto L60;

  anon40_Then:
    assume {:partition} FullEa >= Buffer_31 + Tmp_2724 * 4;
    assume {:nonnull} PackedEasLength != 0;
    assume PackedEasLength > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} Mem_T.INT4[PackedEasLength] != 0;
    assume {:nonnull} PackedEasLength != 0;
    assume PackedEasLength > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} Mem_T.INT4[PackedEasLength] + 4 > 65535;
    assume {:nonnull} IrpContext_182 != 0;
    assume IrpContext_182 > 0;
    call {:si_unique_call 3343} ExRaiseStatus(-1073741744);
    goto L92;

  L92:
    call {:si_unique_call 3344} FatGetEaFile#1(IrpContext_182, Vcb_101, EaDirent_3, EaBcb_3, 1, 1);
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} yogi_error != 1;
    LockedEaFcb_2 := 1;
    assume {:nonnull} PackedEasLength != 0;
    assume PackedEasLength > 0;
    Tmp_2715 := Mem_T.INT4[PackedEasLength] + 30;
    assume {:nonnull} EaBcb_3 != 0;
    assume EaBcb_3 > 0;
    assume {:nonnull} EaDirent_3 != 0;
    assume EaDirent_3 > 0;
    havoc vslice_dummy_var_423;
    havoc vslice_dummy_var_424;
    call {:si_unique_call 3345} FatAddEaSet(IrpContext_182, Vcb_101, Tmp_2715, vslice_dummy_var_423, vslice_dummy_var_424, EaHandle_3, EaSetRange_2);
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} EaSetRange_2 != 0;
    assume EaSetRange_2 > 0;
    assume {:nonnull} PackedEasLength != 0;
    assume PackedEasLength > 0;
    Mem_T.INT4[PackedEasLength] := Mem_T.INT4[PackedEasLength] + 4;
    Tmp_2722 := PackedEasLength;
    assume {:nonnull} EaSetHeader_2 != 0;
    assume EaSetHeader_2 > 0;
    assume {:nonnull} Tmp_2722 != 0;
    assume Tmp_2722 > 0;
    assume {:nonnull} PackedEasLength != 0;
    assume PackedEasLength > 0;
    Tmp_2720 := Mem_T.INT4[PackedEasLength] + 30 - 8;
    call {:si_unique_call 3346} sdv_RtlCopyMemory(0, 0, Tmp_2720);
    assume {:nonnull} Vcb_101 != 0;
    assume Vcb_101 > 0;
    havoc vslice_dummy_var_425;
    call {:si_unique_call 3347} FatMarkEaRangeDirty(IrpContext_182, vslice_dummy_var_425, EaSetRange_2);
    call {:si_unique_call 3348} FatUnpinEaRange(IrpContext_182, EaSetRange_2);
    assume {:nonnull} Vcb_101 != 0;
    assume Vcb_101 > 0;
    goto L120;

  L120:
    assume {:nonnull} EaSetHeader_2 != 0;
    assume EaSetHeader_2 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    call {:si_unique_call 3349} sdv_ExFreePool(0);
    goto L121;

  L121:
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} LockedEaFcb_2 != 0;
    assume {:nonnull} Vcb_101 != 0;
    assume Vcb_101 > 0;
    call {:si_unique_call 3350} ExReleaseResourceLite(0);
    goto L125;

  L125:
    assume {:nonnull} EaBcb_3 != 0;
    assume EaBcb_3 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} EaBcb_3 != 0;
    assume EaBcb_3 > 0;
    goto L129;

  L129:
    call {:si_unique_call 3351} FatUnpinEaRange(IrpContext_182, EaSetRange_2);
    goto LM2;

  LM2:
    return;

  anon39_Then:
    goto L129;

  anon38_Then:
    assume {:partition} LockedEaFcb_2 == 0;
    goto L125;

  anon37_Then:
    goto L121;

  anon42_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon41_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon36_Then:
    assume {:partition} 65535 >= Mem_T.INT4[PackedEasLength] + 4;
    goto L92;

  anon29_Then:
    assume {:partition} Mem_T.INT4[PackedEasLength] == 0;
    assume {:nonnull} EaHandle_3 != 0;
    assume EaHandle_3 > 0;
    Mem_T.INT4[EaHandle_3] := 0;
    goto L120;
}



procedure {:origName "FatReadEaSet"} FatReadEaSet(actual_IrpContext_183: int, actual_Vcb_102: int, actual_EaHandle_4: int, actual_FileName_4: int, actual_ReturnEntireSet: int, actual_EaSetRange_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatReadEaSet"} FatReadEaSet(actual_IrpContext_183: int, actual_Vcb_102: int, actual_EaHandle_4: int, actual_FileName_4: int, actual_ReturnEntireSet: int, actual_EaSetRange_3: int)
{
  var {:scalar} EaHeaderRange: int;
  var {:scalar} CbList: int;
  var {:pointer} EaSet: int;
  var {:scalar} EaOffsetRange: int;
  var {:pointer} Tmp_2737: int;
  var {:scalar} EaOffsetVbo: int;
  var {:scalar} EaOffsetCluster: int;
  var {:scalar} EaSetVbo: int;
  var {:scalar} BytesPerCluster_7: int;
  var {:pointer} EaHeader: int;
  var {:pointer} IrpContext_183: int;
  var {:pointer} Vcb_102: int;
  var {:scalar} EaHandle_4: int;
  var {:scalar} ReturnEntireSet: int;
  var {:pointer} EaSetRange_3: int;
  var vslice_dummy_var_474: int;
  var vslice_dummy_var_475: int;
  var vslice_dummy_var_476: int;
  var vslice_dummy_var_477: int;
  var vslice_dummy_var_478: int;
  var vslice_dummy_var_479: int;
  var vslice_dummy_var_480: int;
  var vslice_dummy_var_426: int;
  var vslice_dummy_var_427: int;
  var vslice_dummy_var_428: int;
  var vslice_dummy_var_429: int;
  var vslice_dummy_var_430: int;
  var vslice_dummy_var_431: int;
  var vslice_dummy_var_432: int;
  var vslice_dummy_var_433: int;

  anon0:
    call {:si_unique_call 3352} EaHeaderRange := __HAVOC_malloc(28);
    call {:si_unique_call 3353} vslice_dummy_var_474 := __HAVOC_malloc(4);
    call {:si_unique_call 3354} EaOffsetRange := __HAVOC_malloc(28);
    IrpContext_183 := actual_IrpContext_183;
    Vcb_102 := actual_Vcb_102;
    EaHandle_4 := actual_EaHandle_4;
    ReturnEntireSet := actual_ReturnEntireSet;
    EaSetRange_3 := actual_EaSetRange_3;
    call {:si_unique_call 3355} vslice_dummy_var_476 := __HAVOC_malloc(16);
    call {:si_unique_call 3356} vslice_dummy_var_477 := __HAVOC_malloc(960);
    call {:si_unique_call 3357} vslice_dummy_var_478 := __HAVOC_malloc(16);
    call {:si_unique_call 3358} vslice_dummy_var_479 := __HAVOC_malloc(16);
    call {:si_unique_call 3359} vslice_dummy_var_480 := __HAVOC_malloc(16);
    call {:si_unique_call 3360} BytesPerCluster_7 := corral_nondet();
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} 1 > EaHandle_4;
    goto L15;

  L15:
    assume {:nonnull} IrpContext_183 != 0;
    assume IrpContext_183 > 0;
    call {:si_unique_call 3361} ExRaiseStatus(-1073741743);
    goto L19;

  L19:
    call {:si_unique_call 3362} EaOffsetVbo := corral_nondet();
    call {:si_unique_call 3363} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3364} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} Vcb_102 != 0;
    assume Vcb_102 > 0;
    havoc vslice_dummy_var_426;
    havoc vslice_dummy_var_427;
    call {:si_unique_call 3365} FatPinEaRange(IrpContext_183, vslice_dummy_var_426, vslice_dummy_var_427, EaHeaderRange, 0, 512, -1073741743);
    assume {:nonnull} EaHeaderRange != 0;
    assume EaHeaderRange > 0;
    havoc EaHeader;
    assume {:nonnull} Vcb_102 != 0;
    assume Vcb_102 > 0;
    havoc vslice_dummy_var_428;
    havoc vslice_dummy_var_429;
    call {:si_unique_call 3366} FatPinEaRange(IrpContext_183, vslice_dummy_var_428, vslice_dummy_var_429, EaOffsetRange, EaOffsetVbo, 256, -1073741743);
    assume {:nonnull} EaOffsetRange != 0;
    assume EaOffsetRange > 0;
    havoc Tmp_2737;
    assume {:nonnull} Tmp_2737 != 0;
    assume Tmp_2737 > 0;
    EaOffsetCluster := Mem_T.INT4[Tmp_2737];
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} EaOffsetCluster == 65535;
    assume {:nonnull} IrpContext_183 != 0;
    assume IrpContext_183 > 0;
    call {:si_unique_call 3367} ExRaiseStatus(-1073741743);
    goto L42;

  L42:
    call {:si_unique_call 3368} vslice_dummy_var_475 := corral_nondet();
    assume {:nonnull} EaHeader != 0;
    assume EaHeader > 0;
    call {:si_unique_call 3369} EaSetVbo := corral_nondet();
    call {:si_unique_call 3370} FatUnpinEaRange(IrpContext_183, EaHeaderRange);
    call {:si_unique_call 3371} FatUnpinEaRange(IrpContext_183, EaOffsetRange);
    assume {:nonnull} Vcb_102 != 0;
    assume Vcb_102 > 0;
    havoc vslice_dummy_var_430;
    havoc vslice_dummy_var_431;
    call {:si_unique_call 3372} FatPinEaRange(IrpContext_183, vslice_dummy_var_430, vslice_dummy_var_431, EaSetRange_3, EaSetVbo, BytesPerCluster_7, -1073741762);
    assume {:nonnull} EaSetRange_3 != 0;
    assume EaSetRange_3 > 0;
    havoc EaSet;
    assume {:nonnull} EaSet != 0;
    assume EaSet > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    goto L59;

  L59:
    assume {:nonnull} IrpContext_183 != 0;
    assume IrpContext_183 > 0;
    call {:si_unique_call 3373} ExRaiseStatus(-1073741762);
    goto L63;

  L63:
    assume {:nonnull} EaSet != 0;
    assume EaSet > 0;
    assume {:nonnull} EaSet != 0;
    assume EaSet > 0;
    assume {:nonnull} EaSet != 0;
    assume EaSet > 0;
    assume {:nonnull} EaSet != 0;
    assume EaSet > 0;
    call {:si_unique_call 3374} CbList := corral_nondet();
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} ReturnEntireSet != 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} CbList > BytesPerCluster_7;
    CbList := BAND(CbList + 26 + BytesPerCluster_7 - 1, BNOT(BytesPerCluster_7 - 1));
    call {:si_unique_call 3375} FatUnpinEaRange(IrpContext_183, EaSetRange_3);
    call {:si_unique_call 3376} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} Vcb_102 != 0;
    assume Vcb_102 > 0;
    havoc vslice_dummy_var_432;
    havoc vslice_dummy_var_433;
    call {:si_unique_call 3377} FatPinEaRange(IrpContext_183, vslice_dummy_var_432, vslice_dummy_var_433, EaSetRange_3, EaSetVbo, CbList, -1073741762);
    goto L65;

  L65:
    call {:si_unique_call 3378} FatUnpinEaRange(IrpContext_183, EaHeaderRange);
    call {:si_unique_call 3379} FatUnpinEaRange(IrpContext_183, EaOffsetRange);
    return;

  anon17_Then:
    assume {:partition} BytesPerCluster_7 >= CbList;
    goto L65;

  anon21_Then:
    assume {:partition} ReturnEntireSet == 0;
    goto L65;

  anon20_Then:
    assume {:nonnull} EaSet != 0;
    assume EaSet > 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    goto L63;

  anon16_Then:
    goto L59;

  anon19_Then:
    assume {:partition} EaOffsetCluster != 65535;
    goto L42;

  anon18_Then:
    assume {:partition} EaHandle_4 >= 1;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} EaHandle_4 <= 30719;
    goto L19;

  anon15_Then:
    assume {:partition} 30719 < EaHandle_4;
    goto L15;
}



procedure {:origName "_sdv_init5"} _sdv_init5();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init5"} _sdv_init5()
{
  var vslice_dummy_var_481: int;

  anon0:
    call {:si_unique_call 3380} vslice_dummy_var_481 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatGetEaLength"} FatGetEaLength(actual_IrpContext_184: int, actual_Vcb_103: int, actual_Dirent_40: int, actual_EaLength_6: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetEaLength"} FatGetEaLength(actual_IrpContext_184: int, actual_Vcb_103: int, actual_Dirent_40: int, actual_EaLength_6: int)
{
  var {:pointer} Tmp_2741: int;
  var {:pointer} EaDirent_4: int;
  var {:scalar} LockedEaFcb_3: int;
  var {:pointer} Buffer_32: int;
  var {:pointer} EaSetHeader_3: int;
  var {:pointer} EaBcb_4: int;
  var {:pointer} Tmp_2744: int;
  var {:scalar} ThisFilename_1: int;
  var {:scalar} EaSetRange_4: int;
  var {:pointer} IrpContext_184: int;
  var {:pointer} Vcb_103: int;
  var {:pointer} Dirent_40: int;
  var {:pointer} EaLength_6: int;
  var vslice_dummy_var_482: int;
  var vslice_dummy_var_434: int;

  anon0:
    call {:si_unique_call 3381} EaDirent_4 := __HAVOC_malloc(4);
    call {:si_unique_call 3382} vslice_dummy_var_482 := __HAVOC_malloc(4);
    call {:si_unique_call 3383} EaBcb_4 := __HAVOC_malloc(4);
    call {:si_unique_call 3384} ThisFilename_1 := __HAVOC_malloc(12);
    call {:si_unique_call 3385} EaSetRange_4 := __HAVOC_malloc(28);
    IrpContext_184 := actual_IrpContext_184;
    Vcb_103 := actual_Vcb_103;
    Dirent_40 := actual_Dirent_40;
    EaLength_6 := actual_EaLength_6;
    call {:si_unique_call 3386} Buffer_32 := __HAVOC_malloc(48);
    assume {:nonnull} Vcb_103 != 0;
    assume Vcb_103 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    goto L8;

  L8:
    assume {:nonnull} EaLength_6 != 0;
    assume EaLength_6 > 0;
    Mem_T.INT4[EaLength_6] := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon13_Then:
    assume {:nonnull} Dirent_40 != 0;
    assume Dirent_40 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    call {:si_unique_call 3387} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} EaBcb_4 != 0;
    assume EaBcb_4 > 0;
    LockedEaFcb_3 := 0;
    call {:si_unique_call 3388} FatGetEaFile#1(IrpContext_184, Vcb_103, EaDirent_4, EaBcb_4, 0, 0);
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} yogi_error != 1;
    LockedEaFcb_3 := 1;
    assume {:nonnull} Vcb_103 != 0;
    assume Vcb_103 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    goto L37;

  L37:
    assume {:nonnull} ThisFilename_1 != 0;
    assume ThisFilename_1 > 0;
    call {:si_unique_call 3389} Fat8dot3ToString(IrpContext_184, Dirent_40, 0, ThisFilename_1);
    assume {:nonnull} Dirent_40 != 0;
    assume Dirent_40 > 0;
    havoc vslice_dummy_var_434;
    call {:si_unique_call 3390} FatReadEaSet(IrpContext_184, Vcb_103, vslice_dummy_var_434, ThisFilename_1, 0, EaSetRange_4);
    assume {:nonnull} EaSetRange_4 != 0;
    assume EaSetRange_4 > 0;
    havoc EaSetHeader_3;
    Tmp_2744 := EaLength_6;
    assume {:nonnull} EaSetHeader_3 != 0;
    assume EaSetHeader_3 > 0;
    Tmp_2741 := cbList__EA_SET_HEADER(EaSetHeader_3);
    assume {:nonnull} Tmp_2741 != 0;
    assume Tmp_2741 > 0;
    assume {:nonnull} Tmp_2744 != 0;
    assume Tmp_2744 > 0;
    assume {:nonnull} Tmp_2741 != 0;
    assume Tmp_2741 > 0;
    assume {:nonnull} Tmp_2744 != 0;
    assume Tmp_2744 > 0;
    assume {:nonnull} EaBcb_4 != 0;
    assume EaBcb_4 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:nonnull} EaBcb_4 != 0;
    assume EaBcb_4 > 0;
    goto L47;

  L47:
    call {:si_unique_call 3391} FatUnpinEaRange(IrpContext_184, EaSetRange_4);
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} LockedEaFcb_3 != 0;
    assume {:nonnull} Vcb_103 != 0;
    assume Vcb_103 > 0;
    call {:si_unique_call 3392} ExReleaseResourceLite(0);
    goto L1;

  anon15_Then:
    assume {:partition} LockedEaFcb_3 == 0;
    goto L1;

  anon18_Then:
    goto L47;

  anon17_Then:
    assume {:nonnull} IrpContext_184 != 0;
    assume IrpContext_184 > 0;
    call {:si_unique_call 3393} ExRaiseStatus(-1073741742);
    goto L37;

  anon16_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon14_Then:
    goto L8;
}



procedure {:origName "FatUnpinEaRange"} FatUnpinEaRange(actual_IrpContext_186: int, actual_EaRange: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatUnpinEaRange"} FatUnpinEaRange(actual_IrpContext_186: int, actual_EaRange: int)
{
  var {:pointer} Tmp_2750: int;
  var {:scalar} Tmp_2753: int;
  var {:scalar} BcbCount: int;
  var {:pointer} NextBcb: int;
  var {:pointer} EaRange: int;
  var vslice_dummy_var_483: int;

  anon0:
    call {:si_unique_call 3394} vslice_dummy_var_483 := __HAVOC_malloc(4);
    EaRange := actual_EaRange;
    call {:si_unique_call 3395} Tmp_2750 := __HAVOC_malloc(32);
    assume {:nonnull} EaRange != 0;
    assume EaRange > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    call {:si_unique_call 3396} sdv_ExFreePool(0);
    assume {:nonnull} EaRange != 0;
    assume EaRange > 0;
    goto L6;

  L6:
    assume {:nonnull} EaRange != 0;
    assume EaRange > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:nonnull} EaRange != 0;
    assume EaRange > 0;
    havoc BcbCount;
    assume {:nonnull} EaRange != 0;
    assume EaRange > 0;
    havoc NextBcb;
    goto L14;

  L14:
    call {:si_unique_call 3397} Tmp_2753, BcbCount := FatUnpinEaRange_loop_L14(Tmp_2753, BcbCount, NextBcb);
    goto L14_last;

  L14_last:
    Tmp_2753 := BcbCount;
    BcbCount := BcbCount - 1;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} Tmp_2753 != 0;
    assume {:nonnull} NextBcb != 0;
    assume NextBcb > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:nonnull} NextBcb != 0;
    assume NextBcb > 0;
    goto L17;

  L17:
    goto L17_dummy;

  L17_dummy:
    assume false;
    return;

  anon13_Then:
    goto L17;

  anon14_Then:
    assume {:partition} Tmp_2753 == 0;
    assume {:nonnull} EaRange != 0;
    assume EaRange > 0;
    havoc Tmp_2750;
    assume {:nonnull} EaRange != 0;
    assume EaRange > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    call {:si_unique_call 3398} sdv_ExFreePool(0);
    goto L22;

  L22:
    assume {:nonnull} EaRange != 0;
    assume EaRange > 0;
    goto L1;

  L1:
    return;

  anon15_Then:
    goto L22;

  anon12_Then:
    goto L1;

  anon11_Then:
    goto L6;
}



procedure {:origName "FatIsEaNameValid"} FatIsEaNameValid(actual_IrpContext_187: int, actual_structPtr888Name: int) returns (Tmp_2754: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_2754 == 0 || Tmp_2754 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsEaNameValid"} FatIsEaNameValid(actual_IrpContext_187: int, actual_structPtr888Name: int) returns (Tmp_2754: int)
{
  var {:scalar} Name: int;
  var {:scalar} Char_1: int;
  var {:pointer} Tmp_2755: int;
  var {:scalar} Tmp_2756: int;
  var {:scalar} Tmp_2757: int;
  var {:scalar} Tmp_2758: int;
  var {:scalar} Tmp_2759: int;
  var {:scalar} Tmp_2761: int;
  var {:pointer} Tmp_2762: int;
  var {:scalar} Tmp_2763: int;
  var {:scalar} Index_8: int;
  var {:pointer} structPtr888Name: int;

  anon0:
    call {:si_unique_call 3399} Name := __HAVOC_malloc(12);
    structPtr888Name := actual_structPtr888Name;
    assume {:nonnull} Name != 0;
    assume Name > 0;
    assume {:nonnull} structPtr888Name != 0;
    assume structPtr888Name > 0;
    assume {:nonnull} Name != 0;
    assume Name > 0;
    assume {:nonnull} structPtr888Name != 0;
    assume structPtr888Name > 0;
    assume {:nonnull} Name != 0;
    assume Name > 0;
    assume {:nonnull} structPtr888Name != 0;
    assume structPtr888Name > 0;
    assume {:nonnull} Name != 0;
    assume Name > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} Name != 0;
    assume Name > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    Tmp_2754 := 0;
    goto L1;

  L1:
    return;

  anon20_Then:
    Index_8 := 0;
    goto L10;

  L10:
    call {:si_unique_call 3400} Char_1, Tmp_2755, Tmp_2756, Tmp_2757, Tmp_2758, Tmp_2759, Tmp_2761, Tmp_2762, Tmp_2763, Index_8 := FatIsEaNameValid_loop_L10(Name, Char_1, Tmp_2755, Tmp_2756, Tmp_2757, Tmp_2758, Tmp_2759, Tmp_2761, Tmp_2762, Tmp_2763, Index_8);
    goto L10_last;

  L10_last:
    assume {:nonnull} Name != 0;
    assume Name > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    Tmp_2757 := Index_8;
    assume {:nonnull} Name != 0;
    assume Name > 0;
    havoc Char_1;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} 128 > Char_1;
    Tmp_2756 := 0;
    goto L16;

  L16:
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Tmp_2756 != 0;
    Index_8 := Index_8 + 1;
    goto L20;

  L20:
    Index_8 := Index_8 + 1;
    goto L20_dummy;

  L20_dummy:
    assume false;
    return;

  anon23_Then:
    assume {:partition} Tmp_2756 == 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} 0 > Char_1;
    Tmp_2758 := 1;
    goto L23;

  L23:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Tmp_2758 == 0;
    Tmp_2754 := 0;
    goto L1;

  anon25_Then:
    assume {:partition} Tmp_2758 != 0;
    goto L20;

  anon24_Then:
    assume {:partition} Char_1 >= 0;
    Tmp_2761 := Char_1;
    assume {:nonnull} FsRtlLegalAnsiCharacterArray != 0;
    assume FsRtlLegalAnsiCharacterArray > 0;
    havoc Tmp_2762;
    assume {:nonnull} Tmp_2762 != 0;
    assume Tmp_2762 > 0;
    Tmp_2758 := BAND(Mem_T.INT4[Tmp_2762 + Tmp_2761 * 4], 1);
    goto L23;

  anon26_Then:
    assume {:partition} Char_1 >= 128;
    assume {:nonnull} NlsMbOemCodePageTag != 0;
    assume NlsMbOemCodePageTag > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] != 0;
    Tmp_2763 := Char_1;
    assume {:nonnull} NlsOemLeadByteInfo != 0;
    assume NlsOemLeadByteInfo > 0;
    havoc Tmp_2755;
    assume {:nonnull} Tmp_2755 != 0;
    assume Tmp_2755 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Mem_T.INT4[Tmp_2755 + Tmp_2763 * 4] != 0;
    Tmp_2759 := 1;
    goto L28;

  L28:
    Tmp_2756 := Tmp_2759;
    goto L16;

  anon27_Then:
    assume {:partition} Mem_T.INT4[Tmp_2755 + Tmp_2763 * 4] == 0;
    goto L25;

  L25:
    Tmp_2759 := 0;
    goto L28;

  anon22_Then:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] == 0;
    goto L25;

  anon21_Then:
    Tmp_2754 := 1;
    goto L1;

  anon19_Then:
    Tmp_2754 := 0;
    goto L1;
}



procedure {:origName "FatAppendPackedEa"} FatAppendPackedEa(actual_IrpContext_188: int, actual_EaSetHeader_4: int, actual_PackedEasLength_1: int, actual_AllocationLength_1: int, actual_FullEa_1: int, actual_BytesPerCluster_8: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAppendPackedEa"} FatAppendPackedEa(actual_IrpContext_188: int, actual_EaSetHeader_4: int, actual_PackedEasLength_1: int, actual_AllocationLength_1: int, actual_FullEa_1: int, actual_BytesPerCluster_8: int)
{
  var {:scalar} EaName_1: int;
  var {:pointer} Temp_1: int;
  var {:pointer} Tmp_2766: int;
  var {:pointer} Tmp_2767: int;
  var {:scalar} Tmp_2768: int;
  var {:scalar} OldAllocationSize: int;
  var {:pointer} ThisPackedEa: int;
  var {:pointer} Tmp_2770: int;
  var {:scalar} PackedEaSize: int;
  var {:pointer} Tmp_2772: int;
  var {:scalar} NewAllocationSize_1: int;
  var {:pointer} Tmp_2773: int;
  var {:scalar} Tmp_2774: int;
  var {:pointer} EaSetHeader_4: int;
  var {:pointer} PackedEasLength_1: int;
  var {:pointer} AllocationLength_1: int;
  var {:pointer} FullEa_1: int;
  var {:scalar} BytesPerCluster_8: int;
  var vslice_dummy_var_484: int;

  anon0:
    call {:si_unique_call 3401} EaName_1 := __HAVOC_malloc(12);
    call {:si_unique_call 3402} vslice_dummy_var_484 := __HAVOC_malloc(4);
    EaSetHeader_4 := actual_EaSetHeader_4;
    PackedEasLength_1 := actual_PackedEasLength_1;
    AllocationLength_1 := actual_AllocationLength_1;
    FullEa_1 := actual_FullEa_1;
    BytesPerCluster_8 := actual_BytesPerCluster_8;
    call {:si_unique_call 3403} Tmp_2773 := __HAVOC_malloc(4);
    assume {:nonnull} FullEa_1 != 0;
    assume FullEa_1 > 0;
    havoc PackedEaSize;
    assume {:nonnull} AllocationLength_1 != 0;
    assume AllocationLength_1 > 0;
    assume {:nonnull} PackedEasLength_1 != 0;
    assume PackedEasLength_1 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} PackedEaSize + Mem_T.INT4[PackedEasLength_1] > Mem_T.INT4[AllocationLength_1];
    assume {:nonnull} PackedEasLength_1 != 0;
    assume PackedEasLength_1 > 0;
    NewAllocationSize_1 := BAND(30 + PackedEaSize + Mem_T.INT4[PackedEasLength_1] + BytesPerCluster_8 - 1, BNOT(BytesPerCluster_8 - 1));
    call {:si_unique_call 3404} Temp_1 := ExAllocatePoolWithTag(17, NewAllocationSize_1, -445357754);
    assume {:nonnull} AllocationLength_1 != 0;
    assume AllocationLength_1 > 0;
    OldAllocationSize := Mem_T.INT4[AllocationLength_1] + 30;
    call {:si_unique_call 3405} sdv_RtlCopyMemory(0, 0, OldAllocationSize);
    call {:si_unique_call 3406} sdv_ExFreePool(0);
    assume {:nonnull} EaSetHeader_4 != 0;
    assume EaSetHeader_4 > 0;
    Tmp_2774 := NewAllocationSize_1 - OldAllocationSize;
    assume {:nonnull} AllocationLength_1 != 0;
    assume AllocationLength_1 > 0;
    Tmp_2768 := Mem_T.INT4[AllocationLength_1];
    assume {:nonnull} EaSetHeader_4 != 0;
    assume EaSetHeader_4 > 0;
    havoc Tmp_2770;
    assume {:nonnull} Tmp_2770 != 0;
    assume Tmp_2770 > 0;
    havoc Tmp_2773;
    call {:si_unique_call 3407} sdv_RtlZeroMemory(0, Tmp_2774);
    assume {:nonnull} AllocationLength_1 != 0;
    assume AllocationLength_1 > 0;
    Mem_T.INT4[AllocationLength_1] := NewAllocationSize_1 - 30;
    goto L8;

  L8:
    assume {:nonnull} FullEa_1 != 0;
    assume FullEa_1 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:nonnull} EaSetHeader_4 != 0;
    assume EaSetHeader_4 > 0;
    havoc Tmp_2772;
    assume {:nonnull} EaSetHeader_4 != 0;
    assume EaSetHeader_4 > 0;
    havoc Tmp_2767;
    assume {:nonnull} EaSetHeader_4 != 0;
    assume EaSetHeader_4 > 0;
    assume {:nonnull} Tmp_2767 != 0;
    assume Tmp_2767 > 0;
    assume {:nonnull} Tmp_2772 != 0;
    assume Tmp_2772 > 0;
    goto L31;

  L31:
    assume {:nonnull} EaSetHeader_4 != 0;
    assume EaSetHeader_4 > 0;
    havoc Tmp_2766;
    assume {:nonnull} Tmp_2766 != 0;
    assume Tmp_2766 > 0;
    havoc ThisPackedEa;
    call {:si_unique_call 3408} sdv_RtlCopyMemory(0, 0, PackedEaSize);
    assume {:nonnull} EaName_1 != 0;
    assume EaName_1 > 0;
    assume {:nonnull} FullEa_1 != 0;
    assume FullEa_1 > 0;
    assume {:nonnull} EaName_1 != 0;
    assume EaName_1 > 0;
    assume {:nonnull} EaName_1 != 0;
    assume EaName_1 > 0;
    assume {:nonnull} ThisPackedEa != 0;
    assume ThisPackedEa > 0;
    assume {:nonnull} PackedEasLength_1 != 0;
    assume PackedEasLength_1 > 0;
    Mem_T.INT4[PackedEasLength_1] := Mem_T.INT4[PackedEasLength_1] + PackedEaSize;
    return;

  anon5_Then:
    goto L31;

  anon6_Then:
    assume {:partition} Mem_T.INT4[AllocationLength_1] >= PackedEaSize + Mem_T.INT4[PackedEasLength_1];
    goto L8;
}



procedure {:origName "FatLocateNextEa"} FatLocateNextEa(actual_IrpContext_189: int, actual_FirstPackedEa: int, actual_PackedEasLength_2: int, actual_PreviousOffset: int) returns (Tmp_2776: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLocateNextEa"} FatLocateNextEa(actual_IrpContext_189: int, actual_FirstPackedEa: int, actual_PackedEasLength_2: int, actual_PreviousOffset: int) returns (Tmp_2776: int)
{
  var {:scalar} Offset_5: int;
  var {:pointer} PackedEa: int;
  var {:pointer} Tmp_2778: int;
  var {:scalar} s_p_e_c_i_a_l_8: int;
  var {:scalar} s_p_e_c_i_a_l_9: int;
  var {:scalar} PackedEaSize_1: int;
  var {:pointer} Tmp_2779: int;
  var {:pointer} FirstPackedEa: int;
  var {:scalar} PackedEasLength_2: int;
  var {:scalar} PreviousOffset: int;

  anon0:
    FirstPackedEa := actual_FirstPackedEa;
    PackedEasLength_2 := actual_PackedEasLength_2;
    PreviousOffset := actual_PreviousOffset;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} PreviousOffset >= PackedEasLength_2;
    Tmp_2776 := -1;
    goto L1;

  L1:
    return;

  anon5_Then:
    assume {:partition} PackedEasLength_2 > PreviousOffset;
    PackedEa := FirstPackedEa;
    s_p_e_c_i_a_l_8 := 0;
    s_p_e_c_i_a_l_9 := 0;
    assume {:nonnull} PackedEa != 0;
    assume PackedEa > 0;
    Tmp_2779 := EaNameLength__PACKED_EA(PackedEa);
    assume {:nonnull} Tmp_2779 != 0;
    assume Tmp_2779 > 0;
    havoc s_p_e_c_i_a_l_8;
    s_p_e_c_i_a_l_9 := 0;
    assume {:nonnull} PackedEa != 0;
    assume PackedEa > 0;
    Tmp_2778 := EaValueLength__PACKED_EA(PackedEa);
    assume {:nonnull} Tmp_2778 != 0;
    assume Tmp_2778 > 0;
    havoc s_p_e_c_i_a_l_9;
    PackedEaSize_1 := 4 + s_p_e_c_i_a_l_8 + 1 + s_p_e_c_i_a_l_9;
    Offset_5 := PreviousOffset + PackedEaSize_1;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} Offset_5 >= PackedEasLength_2;
    Offset_5 := -1;
    goto L19;

  L19:
    Tmp_2776 := Offset_5;
    goto L1;

  anon6_Then:
    assume {:partition} PackedEasLength_2 > Offset_5;
    goto L19;
}



procedure {:origName "FatDeletePackedEa"} FatDeletePackedEa(actual_IrpContext_190: int, actual_EaSetHeader_5: int, actual_PackedEasLength_3: int, actual_Offset_6: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeletePackedEa"} FatDeletePackedEa(actual_IrpContext_190: int, actual_EaSetHeader_5: int, actual_PackedEasLength_3: int, actual_Offset_6: int)
{
  var {:scalar} Tmp_2780: int;
  var {:scalar} Tmp_2781: int;
  var {:pointer} PackedEa_1: int;
  var {:pointer} Tmp_2782: int;
  var {:scalar} Tmp_2783: int;
  var {:pointer} Tmp_2786: int;
  var {:scalar} s_p_e_c_i_a_l_10: int;
  var {:scalar} s_p_e_c_i_a_l_11: int;
  var {:pointer} Tmp_2789: int;
  var {:scalar} PackedEaSize_2: int;
  var {:pointer} Tmp_2790: int;
  var {:pointer} EaSetHeader_5: int;
  var {:pointer} PackedEasLength_3: int;
  var {:scalar} Offset_6: int;
  var vslice_dummy_var_485: int;

  anon0:
    call {:si_unique_call 3409} vslice_dummy_var_485 := __HAVOC_malloc(4);
    EaSetHeader_5 := actual_EaSetHeader_5;
    PackedEasLength_3 := actual_PackedEasLength_3;
    Offset_6 := actual_Offset_6;
    call {:si_unique_call 3410} Tmp_2782 := __HAVOC_malloc(4);
    call {:si_unique_call 3411} Tmp_2789 := __HAVOC_malloc(4);
    Tmp_2780 := Offset_6;
    assume {:nonnull} EaSetHeader_5 != 0;
    assume EaSetHeader_5 > 0;
    havoc Tmp_2789;
    PackedEa_1 := Tmp_2789 + Tmp_2780 * 4;
    s_p_e_c_i_a_l_10 := 0;
    s_p_e_c_i_a_l_11 := 0;
    assume {:nonnull} PackedEa_1 != 0;
    assume PackedEa_1 > 0;
    Tmp_2786 := EaNameLength__PACKED_EA(PackedEa_1);
    assume {:nonnull} Tmp_2786 != 0;
    assume Tmp_2786 > 0;
    havoc s_p_e_c_i_a_l_10;
    s_p_e_c_i_a_l_11 := 0;
    assume {:nonnull} PackedEa_1 != 0;
    assume PackedEa_1 > 0;
    Tmp_2790 := EaValueLength__PACKED_EA(PackedEa_1);
    assume {:nonnull} Tmp_2790 != 0;
    assume Tmp_2790 > 0;
    havoc s_p_e_c_i_a_l_11;
    PackedEaSize_2 := 4 + s_p_e_c_i_a_l_10 + 1 + s_p_e_c_i_a_l_11;
    assume {:nonnull} PackedEa_1 != 0;
    assume PackedEa_1 > 0;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:nonnull} EaSetHeader_5 != 0;
    assume EaSetHeader_5 > 0;
    goto L15;

  L15:
    assume {:nonnull} PackedEasLength_3 != 0;
    assume PackedEasLength_3 > 0;
    Tmp_2781 := Mem_T.INT4[PackedEasLength_3] - (Offset_6 + PackedEaSize_2);
    call {:si_unique_call 3412} sdv_RtlCopyMemory(0, 0, Tmp_2781);
    assume {:nonnull} PackedEasLength_3 != 0;
    assume PackedEasLength_3 > 0;
    Tmp_2783 := Mem_T.INT4[PackedEasLength_3] - PackedEaSize_2;
    assume {:nonnull} EaSetHeader_5 != 0;
    assume EaSetHeader_5 > 0;
    havoc Tmp_2782;
    call {:si_unique_call 3413} sdv_RtlZeroMemory(0, PackedEaSize_2);
    assume {:nonnull} PackedEasLength_3 != 0;
    assume PackedEasLength_3 > 0;
    Mem_T.INT4[PackedEasLength_3] := Mem_T.INT4[PackedEasLength_3] - PackedEaSize_2;
    return;

  anon3_Then:
    goto L15;
}



procedure {:origName "FatPinEaRange"} FatPinEaRange(actual_IrpContext_191: int, actual_VirtualEaFile: int, actual_EaFcb_2: int, actual_EaRange_1: int, actual_StartingVbo_8: int, actual_Length_20: int, actual_ErrorStatus_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPinEaRange"} FatPinEaRange(actual_IrpContext_191: int, actual_VirtualEaFile: int, actual_EaFcb_2: int, actual_EaRange_1: int, actual_StartingVbo_8: int, actual_Length_20: int, actual_ErrorStatus_1: int)
{
  var {:scalar} LargeVbo: int;
  var {:scalar} Tmp_2793: int;
  var {:scalar} FirstPage: int;
  var {:pointer} sdv_1602: int;
  var {:scalar} Tmp_2794: int;
  var {:pointer} Buffer_33: int;
  var {:pointer} sdv_1603: int;
  var {:scalar} Tmp_2795: int;
  var {:scalar} sdv_1604: int;
  var {:scalar} Tmp_2796: int;
  var {:scalar} Tmp_2798: int;
  var {:scalar} Tmp_2799: int;
  var {:pointer} DestinationBuffer: int;
  var {:pointer} NextBcb_1: int;
  var {:scalar} ByteCount_21: int;
  var {:pointer} IrpContext_191: int;
  var {:pointer} EaFcb_2: int;
  var {:pointer} EaRange_1: int;
  var {:scalar} StartingVbo_8: int;
  var {:scalar} Length_20: int;
  var {:scalar} ErrorStatus_1: int;
  var vslice_dummy_var_486: int;

  anon0:
    call {:si_unique_call 3414} LargeVbo := __HAVOC_malloc(20);
    call {:si_unique_call 3415} vslice_dummy_var_486 := __HAVOC_malloc(4);
    IrpContext_191 := actual_IrpContext_191;
    EaFcb_2 := actual_EaFcb_2;
    EaRange_1 := actual_EaRange_1;
    StartingVbo_8 := actual_StartingVbo_8;
    Length_20 := actual_Length_20;
    ErrorStatus_1 := actual_ErrorStatus_1;
    FirstPage := 1;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} Length_20 != 0;
    assume {:nonnull} EaFcb_2 != 0;
    assume EaFcb_2 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:nonnull} EaFcb_2 != 0;
    assume EaFcb_2 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    goto L14;

  L14:
    Tmp_2795 := BAND(StartingVbo_8, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(262144, 524288), 1048576), 2097152), 4194304), 8388608), 16777216), 33554432), 67108864), 134217728), 268435456), 536870912), 1073741824), -2147483648)));
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Tmp_2795 + Length_20 > 262144;
    call {:si_unique_call 3416} sdv_1602 := ExAllocatePoolWithTag(17, Length_20, -462134970);
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    havoc DestinationBuffer;
    goto L16;

  L16:
    Tmp_2796 := BAND(StartingVbo_8, BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048));
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    havoc Tmp_2793;
    call {:si_unique_call 3417} sdv_1603 := ExAllocatePoolWithTag(17, Tmp_2793, -495689402);
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    havoc Tmp_2799;
    call {:si_unique_call 3418} sdv_RtlZeroMemory(0, Tmp_2799);
    goto L35;

  L35:
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    Tmp_2794 := BAND(StartingVbo_8, BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048));
    ByteCount_21 := 4096 - Tmp_2794;
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    havoc NextBcb_1;
    goto L40;

  L40:
    call {:si_unique_call 3419} FirstPage, sdv_1604, Tmp_2798, ByteCount_21, StartingVbo_8, Length_20 := FatPinEaRange_loop_L40(LargeVbo, FirstPage, Buffer_33, sdv_1604, Tmp_2798, DestinationBuffer, NextBcb_1, ByteCount_21, IrpContext_191, EaRange_1, StartingVbo_8, Length_20);
    goto L40_last;

  L40_last:
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Length_20 != 0;
    assume {:nonnull} LargeVbo != 0;
    assume LargeVbo > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} ByteCount_21 > Length_20;
    ByteCount_21 := Length_20;
    goto L44;

  L44:
    assume {:nonnull} IrpContext_191 != 0;
    assume IrpContext_191 > 0;
    havoc Tmp_2798;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} Tmp_2798 == 0;
    goto L103;

  L103:
    call {:si_unique_call 3420} sdv_1604 := corral_nondet();
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} sdv_1604 != 0;
    goto L52;

  L52:
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    call {:si_unique_call 3421} sdv_RtlCopyMemory(0, 0, ByteCount_21);
    goto L54;

  L54:
    StartingVbo_8 := StartingVbo_8 + ByteCount_21;
    Length_20 := Length_20 - ByteCount_21;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} FirstPage != 0;
    FirstPage := 0;
    ByteCount_21 := 4096;
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    goto anon36_Else_dummy;

  anon36_Else_dummy:
    assume false;
    return;

  anon36_Then:
    goto anon36_Then_dummy;

  anon36_Then_dummy:
    assume false;
    return;

  anon35_Then:
    assume {:partition} FirstPage == 0;
    goto anon35_Then_dummy;

  anon35_Then_dummy:
    assume false;
    return;

  anon34_Then:
    goto L54;

  anon28_Then:
    assume {:partition} sdv_1604 == 0;
    assume {:nonnull} IrpContext_191 != 0;
    assume IrpContext_191 > 0;
    call {:si_unique_call 3422} ExRaiseStatus(-1073741608);
    goto L52;

  anon33_Then:
    assume {:partition} Tmp_2798 != 0;
    goto L103;

  anon32_Then:
    assume {:partition} Length_20 >= ByteCount_21;
    goto L44;

  anon27_Then:
    assume {:partition} Length_20 == 0;
    return;

  anon31_Then:
    assume {:nonnull} EaRange_1 != 0;
    assume EaRange_1 > 0;
    goto L35;

  anon30_Then:
    assume {:partition} 262144 >= Tmp_2795 + Length_20;
    goto L16;

  anon26_Then:
    goto L11;

  L11:
    assume {:nonnull} IrpContext_191 != 0;
    assume IrpContext_191 > 0;
    call {:si_unique_call 3423} ExRaiseStatus(ErrorStatus_1);
    goto L14;

  anon25_Then:
    goto L11;

  anon29_Then:
    assume {:partition} Length_20 == 0;
    goto L11;
}



procedure {:origName "FatDeleteEaSet"} FatDeleteEaSet(actual_IrpContext_192: int, actual_Vcb_105: int, actual_EaBcb_6: int, actual_EaDirent_6: int, actual_EaHandle_6: int, actual_FileName_6: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteEaSet"} FatDeleteEaSet(actual_IrpContext_192: int, actual_Vcb_105: int, actual_EaBcb_6: int, actual_EaDirent_6: int, actual_EaHandle_6: int, actual_FileName_6: int)
{
  var {:scalar} UnwindPrevFileSize: int;
  var {:scalar} EaHeaderRange_1: int;
  var {:scalar} UnwindInitializeDataMcb: int;
  var {:scalar} DataMcb: int;
  var {:pointer} Tmp_2801: int;
  var {:scalar} Count_1: int;
  var {:pointer} EaSet_1: int;
  var {:scalar} PurgeCount: int;
  var {:scalar} UnwindCacheValues: int;
  var {:pointer} Tmp_2805: int;
  var {:scalar} EaOffsetRange_1: int;
  var {:scalar} UnwindSplitTail: int;
  var {:scalar} Iosb_25: int;
  var {:scalar} UnwindMergeTail: int;
  var {:pointer} Tmp_2807: int;
  var {:scalar} sdv_1606: int;
  var {:scalar} UnwindModifiedEaHeader: int;
  var {:scalar} EaSetClusterCount: int;
  var {:scalar} EaSetLength: int;
  var {:scalar} FileOffset_5: int;
  var {:scalar} Tmp_2809: int;
  var {:pointer} VirtualEaFile_1: int;
  var {:scalar} sdv_1608: int;
  var {:scalar} EaOffsetVbo_1: int;
  var {:scalar} EaOffsetCluster_1: int;
  var {:scalar} UnwindSplitData: int;
  var {:scalar} EaOffsetIndex: int;
  var {:scalar} EaHeaderBaseIndex: int;
  var {:pointer} NextEaIndex: int;
  var {:scalar} Tmp_2810: int;
  var {:pointer} EaFcb_3: int;
  var {:scalar} EaSetVbo_1: int;
  var {:scalar} TailMcb: int;
  var {:scalar} UnwindInitializeTailMcb: int;
  var {:scalar} BytesPerCluster_9: int;
  var {:scalar} Tmp_2813: int;
  var {:scalar} EaSetRange_5: int;
  var {:pointer} EaHeader_1: int;
  var {:pointer} IrpContext_192: int;
  var {:pointer} Vcb_105: int;
  var {:pointer} EaBcb_6: int;
  var {:pointer} EaDirent_6: int;
  var {:scalar} EaHandle_6: int;
  var vslice_dummy_var_487: int;
  var vslice_dummy_var_488: int;
  var vslice_dummy_var_489: int;
  var vslice_dummy_var_490: int;
  var vslice_dummy_var_491: int;
  var vslice_dummy_var_492: int;
  var vslice_dummy_var_493: int;
  var vslice_dummy_var_494: int;

  anon0:
    call {:si_unique_call 3424} EaHeaderRange_1 := __HAVOC_malloc(28);
    call {:si_unique_call 3425} DataMcb := __HAVOC_malloc(24);
    call {:si_unique_call 3426} vslice_dummy_var_487 := __HAVOC_malloc(4);
    call {:si_unique_call 3427} EaOffsetRange_1 := __HAVOC_malloc(28);
    call {:si_unique_call 3428} Iosb_25 := __HAVOC_malloc(12);
    call {:si_unique_call 3429} FileOffset_5 := __HAVOC_malloc(20);
    call {:si_unique_call 3430} TailMcb := __HAVOC_malloc(24);
    call {:si_unique_call 3431} EaSetRange_5 := __HAVOC_malloc(28);
    IrpContext_192 := actual_IrpContext_192;
    Vcb_105 := actual_Vcb_105;
    EaBcb_6 := actual_EaBcb_6;
    EaDirent_6 := actual_EaDirent_6;
    EaHandle_6 := actual_EaHandle_6;
    call {:si_unique_call 3432} vslice_dummy_var_488 := __HAVOC_malloc(16);
    call {:si_unique_call 3433} vslice_dummy_var_489 := __HAVOC_malloc(16);
    call {:si_unique_call 3434} vslice_dummy_var_490 := __HAVOC_malloc(16);
    call {:si_unique_call 3435} Tmp_2805 := __HAVOC_malloc(960);
    call {:si_unique_call 3436} vslice_dummy_var_491 := __HAVOC_malloc(16);
    call {:si_unique_call 3437} vslice_dummy_var_492 := __HAVOC_malloc(960);
    call {:si_unique_call 3438} BytesPerCluster_9 := corral_nondet();
    UnwindInitializeDataMcb := 0;
    UnwindSplitData := 0;
    UnwindInitializeTailMcb := 0;
    UnwindSplitTail := 0;
    UnwindMergeTail := 0;
    UnwindModifiedEaHeader := 0;
    UnwindCacheValues := 0;
    UnwindPrevFileSize := 0;
    assume {:nonnull} Vcb_105 != 0;
    assume Vcb_105 > 0;
    havoc VirtualEaFile_1;
    assume {:nonnull} Vcb_105 != 0;
    assume Vcb_105 > 0;
    havoc EaFcb_3;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} 1 > EaHandle_6;
    goto L43;

  L43:
    assume {:nonnull} IrpContext_192 != 0;
    assume IrpContext_192 > 0;
    call {:si_unique_call 3439} ExRaiseStatus(-1073741743);
    goto L47;

  L47:
    call {:si_unique_call 3440} EaOffsetVbo_1 := corral_nondet();
    call {:si_unique_call 3441} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3442} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3443} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3444} FatPinEaRange(IrpContext_192, VirtualEaFile_1, EaFcb_3, EaHeaderRange_1, 0, 512, -1073741743);
    assume {:nonnull} EaHeaderRange_1 != 0;
    assume EaHeaderRange_1 > 0;
    havoc EaHeader_1;
    call {:si_unique_call 3445} FatPinEaRange(IrpContext_192, VirtualEaFile_1, EaFcb_3, EaOffsetRange_1, EaOffsetVbo_1, 256, -1073741743);
    EaOffsetIndex := BAND(EaHandle_6, BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64));
    assume {:nonnull} EaOffsetRange_1 != 0;
    assume EaOffsetRange_1 > 0;
    havoc Tmp_2801;
    assume {:nonnull} Tmp_2801 != 0;
    assume Tmp_2801 > 0;
    EaOffsetCluster_1 := Mem_T.INT4[Tmp_2801];
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} EaOffsetCluster_1 == 65535;
    assume {:nonnull} IrpContext_192 != 0;
    assume IrpContext_192 > 0;
    call {:si_unique_call 3446} ExRaiseStatus(-1073741743);
    goto L109;

  L109:
    call {:si_unique_call 3447} EaHeaderBaseIndex := corral_nondet();
    assume {:nonnull} EaHeader_1 != 0;
    assume EaHeader_1 > 0;
    call {:si_unique_call 3448} EaSetVbo_1 := corral_nondet();
    call {:si_unique_call 3449} FatUnpinEaRange(IrpContext_192, EaHeaderRange_1);
    call {:si_unique_call 3450} FatUnpinEaRange(IrpContext_192, EaOffsetRange_1);
    call {:si_unique_call 3451} FatPinEaRange(IrpContext_192, VirtualEaFile_1, EaFcb_3, EaSetRange_5, EaSetVbo_1, BytesPerCluster_9, -1073741762);
    assume {:nonnull} EaSetRange_5 != 0;
    assume EaSetRange_5 > 0;
    havoc EaSet_1;
    assume {:nonnull} EaSet_1 != 0;
    assume EaSet_1 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    goto L127;

  L127:
    assume {:nonnull} IrpContext_192 != 0;
    assume IrpContext_192 > 0;
    call {:si_unique_call 3452} ExRaiseStatus(-1073741762);
    goto L131;

  L131:
    assume {:nonnull} EaSet_1 != 0;
    assume EaSet_1 > 0;
    assume {:nonnull} EaSet_1 != 0;
    assume EaSet_1 > 0;
    assume {:nonnull} EaSet_1 != 0;
    assume EaSet_1 > 0;
    assume {:nonnull} EaSet_1 != 0;
    assume EaSet_1 > 0;
    call {:si_unique_call 3453} vslice_dummy_var_493 := corral_nondet();
    call {:si_unique_call 3454} EaSetClusterCount := corral_nondet();
    call {:si_unique_call 3455} EaSetLength := corral_nondet();
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} EaSetLength > BytesPerCluster_9;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:nonnull} IrpContext_192 != 0;
    assume IrpContext_192 > 0;
    call {:si_unique_call 3456} ExRaiseStatus(-1073741762);
    goto L135;

  L135:
    call {:si_unique_call 3457} FatUnpinEaRange(IrpContext_192, EaSetRange_5);
    assume {:nonnull} FileOffset_5 != 0;
    assume FileOffset_5 > 0;
    assume {:nonnull} FileOffset_5 != 0;
    assume FileOffset_5 > 0;
    assume {:nonnull} FileOffset_5 != 0;
    assume FileOffset_5 > 0;
    PurgeCount := 5;
    goto L149;

  L149:
    call {:si_unique_call 3458} PurgeCount, sdv_1606 := FatDeleteEaSet_loop_L149(PurgeCount, Iosb_25, sdv_1606);
    goto L149_last;

  L149_last:
    assume {:CounterLoop 5} {:Counter "PurgeCount"} true;
    PurgeCount := PurgeCount - 1;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} PurgeCount != 0;
    assume {:nonnull} Iosb_25 != 0;
    assume Iosb_25 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_25)] := 0;
    call {:si_unique_call 3459} sdv_1606 := corral_nondet();
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} sdv_1606 != 0;
    goto L150;

  L150:
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} PurgeCount != 0;
    goto L161;

  L161:
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    assume {:nonnull} FileOffset_5 != 0;
    assume FileOffset_5 > 0;
    UnwindInitializeDataMcb := 1;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    call {:si_unique_call 3460} FatSplitAllocation(IrpContext_192, Vcb_105, Mcb__FCB(EaFcb_3), EaSetVbo_1, DataMcb);
    UnwindSplitData := 1;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    UnwindInitializeTailMcb := 1;
    call {:si_unique_call 3461} FatSplitAllocation(IrpContext_192, Vcb_105, DataMcb, EaSetLength, TailMcb);
    UnwindSplitTail := 1;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    call {:si_unique_call 3462} FatMergeAllocation(IrpContext_192, Vcb_105, Mcb__FCB(EaFcb_3), TailMcb);
    UnwindMergeTail := 1;
    goto L171;

  L171:
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    havoc UnwindPrevFileSize;
    call {:si_unique_call 3463} vslice_dummy_var_494 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    call {:si_unique_call 3464} ExReleaseResourceLite(0);
    UnwindCacheValues := 1;
    assume {:nonnull} EaDirent_6 != 0;
    assume EaDirent_6 > 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    call {:si_unique_call 3465} FatSetDirtyBcb#1(IrpContext_192, EaBcb_6, Vcb_105, 1);
    call {:si_unique_call 3466} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3467} FatPinEaRange(IrpContext_192, VirtualEaFile_1, EaFcb_3, EaHeaderRange_1, 0, 512, -1073741743);
    assume {:nonnull} EaHeaderRange_1 != 0;
    assume EaHeaderRange_1 > 0;
    havoc EaHeader_1;
    call {:si_unique_call 3468} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3469} FatPinEaRange(IrpContext_192, VirtualEaFile_1, EaFcb_3, EaOffsetRange_1, EaOffsetVbo_1, 256, -1073741743);
    Count_1 := 240 - EaHeaderBaseIndex - 1;
    Tmp_2809 := EaHeaderBaseIndex + 1;
    assume {:nonnull} EaHeader_1 != 0;
    assume EaHeader_1 > 0;
    havoc Tmp_2805;
    NextEaIndex := Tmp_2805 + Tmp_2809 * 4;
    goto L217;

  L217:
    call {:si_unique_call 3470} Count_1, Tmp_2807, Tmp_2813 := FatDeleteEaSet_loop_L217(Count_1, Tmp_2807, EaSetClusterCount, NextEaIndex, Tmp_2813);
    goto L217_last;

  L217_last:
    Tmp_2813 := Count_1;
    Count_1 := Count_1 - 1;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} Tmp_2813 != 0;
    Tmp_2807 := NextEaIndex;
    assume {:nonnull} NextEaIndex != 0;
    assume NextEaIndex > 0;
    assume {:nonnull} Tmp_2807 != 0;
    assume Tmp_2807 > 0;
    Mem_T.INT4[Tmp_2807] := Mem_T.INT4[NextEaIndex] - EaSetClusterCount;
    goto anon72_Else_dummy;

  anon72_Else_dummy:
    assume false;
    return;

  anon72_Then:
    assume {:partition} Tmp_2813 == 0;
    call {:si_unique_call 3471} FatMarkEaRangeDirty(IrpContext_192, VirtualEaFile_1, EaHeaderRange_1);
    Count_1 := 128 - EaOffsetIndex - 1;
    assume {:nonnull} EaOffsetRange_1 != 0;
    assume EaOffsetRange_1 > 0;
    havoc NextEaIndex;
    assume {:nonnull} NextEaIndex != 0;
    assume NextEaIndex > 0;
    Mem_T.INT4[NextEaIndex] := 65535;
    goto L225;

  L225:
    call {:si_unique_call 3472} Count_1, Tmp_2810 := FatDeleteEaSet_loop_L225(Count_1, EaSetClusterCount, NextEaIndex, Tmp_2810);
    goto L225_last;

  L225_last:
    Tmp_2810 := Count_1;
    Count_1 := Count_1 - 1;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} Tmp_2810 != 0;
    assume {:nonnull} NextEaIndex != 0;
    assume NextEaIndex > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} Mem_T.INT4[NextEaIndex] != 65535;
    assume {:nonnull} NextEaIndex != 0;
    assume NextEaIndex > 0;
    Mem_T.INT4[NextEaIndex] := Mem_T.INT4[NextEaIndex] - EaSetClusterCount;
    goto L230;

  L230:
    goto L230_dummy;

  L230_dummy:
    assume false;
    return;

  anon56_Then:
    assume {:partition} Mem_T.INT4[NextEaIndex] == 65535;
    goto L230;

  anon73_Then:
    assume {:partition} Tmp_2810 == 0;
    call {:si_unique_call 3473} FatMarkEaRangeDirty(IrpContext_192, VirtualEaFile_1, EaOffsetRange_1);
    UnwindModifiedEaHeader := 1;
    call {:si_unique_call 3474} FatDeallocateDiskSpace(IrpContext_192, Vcb_105, DataMcb);
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3475} sdv_1608 := sdv_AbnormalTermination();
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} sdv_1608 != 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} UnwindModifiedEaHeader == 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} UnwindPrevFileSize != 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    assume {:nonnull} EaDirent_6 != 0;
    assume EaDirent_6 > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} UnwindCacheValues != 0;
    goto L245;

  L245:
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} UnwindMergeTail != 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    call {:si_unique_call 3476} FatSplitAllocation(IrpContext_192, Vcb_105, Mcb__FCB(EaFcb_3), EaSetVbo_1, TailMcb);
    goto L253;

  L253:
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} UnwindSplitTail != 0;
    call {:si_unique_call 3477} FatMergeAllocation(IrpContext_192, Vcb_105, DataMcb, TailMcb);
    goto L257;

  L257:
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} UnwindSplitData != 0;
    assume {:nonnull} EaFcb_3 != 0;
    assume EaFcb_3 > 0;
    call {:si_unique_call 3478} FatMergeAllocation(IrpContext_192, Vcb_105, Mcb__FCB(EaFcb_3), DataMcb);
    goto L240;

  L240:
    call {:si_unique_call 3479} FatUnpinEaRange(IrpContext_192, EaHeaderRange_1);
    call {:si_unique_call 3480} FatUnpinEaRange(IrpContext_192, EaOffsetRange_1);
    call {:si_unique_call 3481} FatUnpinEaRange(IrpContext_192, EaSetRange_5);
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} UnwindInitializeDataMcb != 0;
    goto L271;

  L271:
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} UnwindInitializeTailMcb != 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon64_Then:
    assume {:partition} UnwindInitializeTailMcb == 0;
    goto L1;

  anon63_Then:
    assume {:partition} UnwindInitializeDataMcb == 0;
    goto L271;

  anon62_Then:
    assume {:partition} UnwindSplitData == 0;
    goto L240;

  anon61_Then:
    assume {:partition} UnwindSplitTail == 0;
    goto L257;

  anon60_Then:
    assume {:partition} UnwindMergeTail == 0;
    goto L253;

  anon75_Then:
    assume {:partition} UnwindCacheValues == 0;
    goto L245;

  anon59_Then:
    assume {:partition} UnwindPrevFileSize == 0;
    goto L245;

  anon58_Then:
    assume {:partition} UnwindModifiedEaHeader != 0;
    goto L240;

  anon57_Then:
    assume {:partition} sdv_1608 == 0;
    goto L240;

  anon74_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon71_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon70_Then:
    goto L171;

  anon54_Then:
    assume {:partition} PurgeCount == 0;
    assume {:nonnull} IrpContext_192 != 0;
    assume IrpContext_192 > 0;
    call {:si_unique_call 3482} ExRaiseStatus(-1073741797);
    goto L161;

  anon55_Then:
    assume {:partition} sdv_1606 == 0;
    goto anon55_Then_dummy;

  anon55_Then_dummy:
    assume false;
    return;

  anon69_Then:
    assume {:partition} PurgeCount == 0;
    goto L150;

  anon53_Then:
    goto L135;

  anon68_Then:
    assume {:partition} BytesPerCluster_9 >= EaSetLength;
    goto L135;

  anon67_Then:
    assume {:nonnull} EaSet_1 != 0;
    assume EaSet_1 > 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    goto L131;

  anon52_Then:
    goto L127;

  anon66_Then:
    assume {:partition} EaOffsetCluster_1 != 65535;
    goto L109;

  anon65_Then:
    assume {:partition} EaHandle_6 >= 1;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} EaHandle_6 <= 30719;
    goto L47;

  anon51_Then:
    assume {:partition} 30719 < EaHandle_6;
    goto L43;
}



procedure {:origName "FatAddEaSet"} FatAddEaSet(actual_IrpContext_193: int, actual_Vcb_106: int, actual_EaSetLength_1: int, actual_EaBcb_7: int, actual_EaDirent_7: int, actual_EaHandle_7: int, actual_EaSetRange_6: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAddEaSet"} FatAddEaSet(actual_IrpContext_193: int, actual_Vcb_106: int, actual_EaSetLength_1: int, actual_EaBcb_7: int, actual_EaDirent_7: int, actual_EaHandle_7: int, actual_EaSetRange_6: int)
{
  var {:scalar} UnwindPrevFileSize_1: int;
  var {:scalar} EaHeaderRange_2: int;
  var {:pointer} EaOffsetTable: int;
  var {:scalar} UnwindMergedInitialEa: int;
  var {:scalar} Tmp_2814: int;
  var {:scalar} Tmp_2815: int;
  var {:scalar} UnwindMergedNewOffset: int;
  var {:scalar} Count_2: int;
  var {:pointer} EaSet_2: int;
  var {:scalar} UnwindCacheValues_1: int;
  var {:scalar} PurgeCount_1: int;
  var {:scalar} UnwindMergedTail: int;
  var {:scalar} UnwindInitializedTailMcb: int;
  var {:pointer} Tmp_2816: int;
  var {:scalar} EaInitialEaMcb: int;
  var {:scalar} EaOffsetRange_2: int;
  var {:scalar} UnwindSplitTail_1: int;
  var {:pointer} Tmp_2817: int;
  var {:scalar} EaTailMcb: int;
  var {:pointer} Tmp_2818: int;
  var {:scalar} Tmp_2819: int;
  var {:scalar} Iosb_26: int;
  var {:scalar} NewTailPosition: int;
  var {:scalar} NewEaIndex: int;
  var {:pointer} Tmp_2820: int;
  var {:scalar} TailExists: int;
  var {:dopa} {:scalar} NewAllocation_1: int;
  var {:scalar} EaSetMcb: int;
  var {:scalar} Tmp_2823: int;
  var {:scalar} UnwindSplitNewAllocation: int;
  var {:scalar} EaSetClusterCount_1: int;
  var {:scalar} FileOffset_6: int;
  var {:scalar} Tmp_2824: int;
  var {:scalar} EaOffsetTableSize: int;
  var {:scalar} UnwindMergedNewEaSet: int;
  var {:scalar} sdv_1611: int;
  var {:pointer} VirtualEaFile_2: int;
  var {:pointer} Tmp_2825: int;
  var {:scalar} sdv_1613: int;
  var {:scalar} UnwindAllocatedNewAllocation: int;
  var {:scalar} Tmp_2826: int;
  var {:scalar} EaHeaderIndex: int;
  var {:scalar} Tmp_2827: int;
  var {:scalar} EaOffsetIndex_1: int;
  var {:scalar} EaOffsetMcb: int;
  var {:scalar} Tmp_2828: int;
  var {:scalar} EaNewOffsetVbo: int;
  var {:pointer} EaFcb_4: int;
  var {:scalar} UnwindInitializedInitialEaMcb: int;
  var {:scalar} UnwindSplitInitialEa: int;
  var {:scalar} Tmp_2829: int;
  var {:scalar} EaSetVbo_2: int;
  var {:scalar} UnwindPurgeCacheMap: int;
  var {:scalar} UnwindInitializedEaSetMcb: int;
  var {:pointer} Tmp_2830: int;
  var {:pointer} NextEaOffset: int;
  var {:scalar} EaSetClusterOffset: int;
  var {:scalar} BytesPerCluster_10: int;
  var {:scalar} AddedOffsetTableCluster: int;
  var {:scalar} Tmp_2831: int;
  var {:scalar} UnwindInitializedOffsetMcb: int;
  var {:pointer} EaHeader_2: int;
  var {:pointer} IrpContext_193: int;
  var {:pointer} Vcb_106: int;
  var {:scalar} EaSetLength_1: int;
  var {:pointer} EaBcb_7: int;
  var {:pointer} EaDirent_7: int;
  var {:pointer} EaHandle_7: int;
  var {:pointer} EaSetRange_6: int;
  var vslice_dummy_var_495: int;
  var vslice_dummy_var_496: int;
  var vslice_dummy_var_497: int;

  anon0:
    call {:si_unique_call 3483} EaHeaderRange_2 := __HAVOC_malloc(28);
    call {:si_unique_call 3484} EaInitialEaMcb := __HAVOC_malloc(24);
    call {:si_unique_call 3485} EaOffsetRange_2 := __HAVOC_malloc(28);
    call {:si_unique_call 3486} EaTailMcb := __HAVOC_malloc(24);
    call {:si_unique_call 3487} Iosb_26 := __HAVOC_malloc(12);
    call {:si_unique_call 3488} NewAllocation_1 := __HAVOC_malloc(4);
    call {:si_unique_call 3489} EaSetMcb := __HAVOC_malloc(24);
    call {:si_unique_call 3490} vslice_dummy_var_495 := __HAVOC_malloc(4);
    call {:si_unique_call 3491} FileOffset_6 := __HAVOC_malloc(20);
    call {:si_unique_call 3492} EaOffsetMcb := __HAVOC_malloc(24);
    IrpContext_193 := actual_IrpContext_193;
    Vcb_106 := actual_Vcb_106;
    EaSetLength_1 := actual_EaSetLength_1;
    EaBcb_7 := actual_EaBcb_7;
    EaDirent_7 := actual_EaDirent_7;
    EaHandle_7 := actual_EaHandle_7;
    EaSetRange_6 := actual_EaSetRange_6;
    call {:si_unique_call 3493} Tmp_2816 := __HAVOC_malloc(960);
    call {:si_unique_call 3494} Tmp_2817 := __HAVOC_malloc(960);
    call {:si_unique_call 3495} Tmp_2818 := __HAVOC_malloc(960);
    call {:si_unique_call 3496} Tmp_2825 := __HAVOC_malloc(960);
    call {:si_unique_call 3497} vslice_dummy_var_496 := __HAVOC_malloc(960);
    call {:si_unique_call 3498} BytesPerCluster_10 := corral_nondet();
    assume {:nonnull} Vcb_106 != 0;
    assume Vcb_106 > 0;
    havoc VirtualEaFile_2;
    assume {:nonnull} Vcb_106 != 0;
    assume Vcb_106 > 0;
    havoc EaFcb_4;
    UnwindInitializedEaSetMcb := 0;
    UnwindAllocatedNewAllocation := 0;
    UnwindMergedNewEaSet := 0;
    UnwindInitializedOffsetMcb := 0;
    UnwindSplitNewAllocation := 0;
    UnwindMergedNewOffset := 0;
    UnwindInitializedTailMcb := 0;
    UnwindSplitTail_1 := 0;
    UnwindMergedTail := 0;
    UnwindInitializedInitialEaMcb := 0;
    UnwindSplitInitialEa := 0;
    UnwindMergedInitialEa := 0;
    UnwindPrevFileSize_1 := 0;
    UnwindCacheValues_1 := 0;
    TailExists := 0;
    AddedOffsetTableCluster := 0;
    UnwindPurgeCacheMap := 0;
    call {:si_unique_call 3499} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3500} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3501} FatPinEaRange(IrpContext_193, VirtualEaFile_2, EaFcb_4, EaHeaderRange_2, 0, 512, -1073741762);
    assume {:nonnull} EaHeaderRange_2 != 0;
    assume EaHeaderRange_2 > 0;
    havoc EaHeader_2;
    assume {:nonnull} EaHeader_2 != 0;
    assume EaHeader_2 > 0;
    call {:si_unique_call 3502} EaNewOffsetVbo := corral_nondet();
    EaOffsetTableSize := EaNewOffsetVbo - 512;
    call {:si_unique_call 3503} FatPinEaRange(IrpContext_193, VirtualEaFile_2, EaFcb_4, EaOffsetRange_2, 512, EaOffsetTableSize, -1073741762);
    call {:si_unique_call 3504} EaSetClusterOffset := corral_nondet();
    call {:si_unique_call 3505} NewEaIndex := corral_nondet();
    assume {:nonnull} EaOffsetRange_2 != 0;
    assume EaOffsetRange_2 > 0;
    havoc NextEaOffset;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:partition} Mem_T.INT4[NextEaOffset] != 65535;
    goto L158;

  L158:
    call {:si_unique_call 3506} NewEaIndex := FatAddEaSet_loop_L158(NewEaIndex, NextEaOffset);
    goto L158_last;

  L158_last:
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} NewEaIndex != 0;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} Mem_T.INT4[NextEaOffset] == 65535;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} NewEaIndex != 1;
    call {:si_unique_call 3507} Tmp_2828 := corral_nondet();
    assume {:nonnull} EaHeader_2 != 0;
    assume EaHeader_2 > 0;
    havoc Tmp_2818;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    assume {:nonnull} Tmp_2818 != 0;
    assume Tmp_2818 > 0;
    EaSetClusterOffset := Mem_T.INT4[NextEaOffset] + Mem_T.INT4[Tmp_2818 + Tmp_2828 * 4];
    TailExists := 1;
    goto L162;

  L162:
    NewEaIndex := NewEaIndex - 1;
    goto L157;

  L157:
    call {:si_unique_call 3508} NewEaIndex := FatAddEaSet_loop_L157(NewEaIndex, NextEaOffset);
    goto L157_last;

  L157_last:
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} NewEaIndex != 0;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} Mem_T.INT4[NextEaOffset] == 65535;
    NewEaIndex := NewEaIndex - 1;
    goto anon104_Else_dummy;

  anon104_Else_dummy:
    assume false;
    return;

  anon104_Then:
    assume {:partition} Mem_T.INT4[NextEaOffset] != 65535;
    goto L168;

  L168:
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} NewEaIndex != 0;
    goto L174;

  L174:
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} NewEaIndex > 30719;
    assume {:nonnull} IrpContext_193 != 0;
    assume IrpContext_193 > 0;
    call {:si_unique_call 3509} ExRaiseStatus(-1073741670);
    goto L175;

  L175:
    call {:si_unique_call 3510} EaHeaderIndex := corral_nondet();
    EaOffsetIndex_1 := BAND(NewEaIndex, BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64));
    call {:si_unique_call 3511} EaSetVbo_2 := corral_nondet();
    EaSetLength_1 := BAND(EaSetLength_1 + BytesPerCluster_10 - 1, BNOT(BytesPerCluster_10 - 1));
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} AddedOffsetTableCluster != 0;
    Tmp_2823 := BytesPerCluster_10;
    goto L186;

  L186:
    assume {:nonnull} NewAllocation_1 != 0;
    assume NewAllocation_1 > 0;
    Mem_T.INT4[NewAllocation_1] := EaSetLength_1 + Tmp_2823;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:nonnull} IrpContext_193 != 0;
    assume IrpContext_193 > 0;
    call {:si_unique_call 3512} ExRaiseStatus(-1073741670);
    goto L188;

  L188:
    UnwindInitializedEaSetMcb := 1;
    call {:si_unique_call 3513} FatAllocateDiskSpace(IrpContext_193, Vcb_106, 0, NewAllocation_1, 0, EaSetMcb);
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:partition} yogi_error != 1;
    UnwindAllocatedNewAllocation := 1;
    call {:si_unique_call 3514} EaSetClusterCount_1 := corral_nondet();
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:partition} AddedOffsetTableCluster != 0;
    UnwindInitializedOffsetMcb := 1;
    call {:si_unique_call 3515} FatSplitAllocation(IrpContext_193, Vcb_106, EaSetMcb, EaSetLength_1, EaOffsetMcb);
    UnwindSplitNewAllocation := 1;
    goto L202;

  L202:
    call {:si_unique_call 3516} FatUnpinEaRange(IrpContext_193, EaHeaderRange_2);
    call {:si_unique_call 3517} FatUnpinEaRange(IrpContext_193, EaOffsetRange_2);
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:partition} AddedOffsetTableCluster != 0;
    assume {:nonnull} FileOffset_6 != 0;
    assume FileOffset_6 > 0;
    goto L219;

  L219:
    assume {:nonnull} FileOffset_6 != 0;
    assume FileOffset_6 > 0;
    assume {:nonnull} FileOffset_6 != 0;
    assume FileOffset_6 > 0;
    PurgeCount_1 := 5;
    goto L224;

  L224:
    call {:si_unique_call 3518} PurgeCount_1, sdv_1611 := FatAddEaSet_loop_L224(PurgeCount_1, Iosb_26, sdv_1611);
    goto L224_last;

  L224_last:
    assume {:CounterLoop 5} {:Counter "PurgeCount_1"} true;
    PurgeCount_1 := PurgeCount_1 - 1;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} PurgeCount_1 != 0;
    assume {:nonnull} Iosb_26 != 0;
    assume Iosb_26 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(Iosb_26)] := 0;
    call {:si_unique_call 3519} sdv_1611 := corral_nondet();
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:partition} sdv_1611 != 0;
    goto L225;

  L225:
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} PurgeCount_1 != 0;
    goto L236;

  L236:
    UnwindPurgeCacheMap := 1;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} FileOffset_6 != 0;
    assume FileOffset_6 > 0;
    assume {:nonnull} NewAllocation_1 != 0;
    assume NewAllocation_1 > 0;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:partition} TailExists != 0;
    UnwindInitializedTailMcb := 1;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3520} FatSplitAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaSetVbo_2, EaTailMcb);
    UnwindSplitTail_1 := 1;
    goto L239;

  L239:
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:partition} AddedOffsetTableCluster != 0;
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} EaSetVbo_2 != EaNewOffsetVbo;
    UnwindInitializedInitialEaMcb := 1;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3521} FatSplitAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaNewOffsetVbo, EaInitialEaMcb);
    UnwindSplitInitialEa := 1;
    goto L248;

  L248:
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} AddedOffsetTableCluster != 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3522} FatMergeAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaOffsetMcb);
    UnwindMergedNewOffset := 1;
    goto L258;

  L258:
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:partition} UnwindInitializedInitialEaMcb != 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3523} FatMergeAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaInitialEaMcb);
    UnwindMergedInitialEa := 1;
    goto L269;

  L269:
    goto anon114_Then, anon114_Else;

  anon114_Else:
    assume {:partition} AddedOffsetTableCluster != 0;
    EaSetClusterOffset := EaSetClusterOffset + 1;
    EaSetVbo_2 := EaSetVbo_2 + BytesPerCluster_10;
    goto L280;

  L280:
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3524} FatMergeAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaSetMcb);
    UnwindMergedNewEaSet := 1;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume {:partition} UnwindInitializedTailMcb != 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3525} FatMergeAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaTailMcb);
    UnwindMergedTail := 1;
    goto L293;

  L293:
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    havoc UnwindPrevFileSize_1;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} NewAllocation_1 != 0;
    assume NewAllocation_1 > 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} EaDirent_7 != 0;
    assume EaDirent_7 > 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3526} FatSetDirtyBcb#1(IrpContext_193, EaBcb_7, Vcb_106, 1);
    UnwindCacheValues_1 := 1;
    call {:si_unique_call 3527} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3528} FatPinEaRange(IrpContext_193, VirtualEaFile_2, EaFcb_4, EaHeaderRange_2, 0, 512, -1073741762);
    assume {:nonnull} EaHeaderRange_2 != 0;
    assume EaHeaderRange_2 > 0;
    havoc EaHeader_2;
    call {:si_unique_call 3529} sdv_RtlZeroMemory(0, 52);
    call {:si_unique_call 3530} Tmp_2831 := corral_nondet();
    call {:si_unique_call 3531} FatPinEaRange(IrpContext_193, VirtualEaFile_2, EaFcb_4, EaOffsetRange_2, Tmp_2831, 256, -1073741762);
    assume {:nonnull} EaOffsetRange_2 != 0;
    assume EaOffsetRange_2 > 0;
    havoc EaOffsetTable;
    call {:si_unique_call 3532} FatPinEaRange(IrpContext_193, VirtualEaFile_2, EaFcb_4, EaSetRange_6, EaSetVbo_2, EaSetLength_1, -1073741762);
    assume {:nonnull} EaSetRange_6 != 0;
    assume EaSetRange_6 > 0;
    havoc EaSet_2;
    assume {:nonnull} EaSet_2 != 0;
    assume EaSet_2 > 0;
    assume {:nonnull} EaSet_2 != 0;
    assume EaSet_2 > 0;
    call {:si_unique_call 3533} FatMarkEaRangeDirty(IrpContext_193, VirtualEaFile_2, EaSetRange_6);
    Count_2 := 240 - EaHeaderIndex - 1;
    Tmp_2824 := EaHeaderIndex + 1;
    assume {:nonnull} EaHeader_2 != 0;
    assume EaHeader_2 > 0;
    havoc Tmp_2816;
    NextEaOffset := Tmp_2816 + Tmp_2824 * 4;
    goto L340;

  L340:
    call {:si_unique_call 3534} Count_2, Tmp_2820, Tmp_2826 := FatAddEaSet_loop_L340(Count_2, Tmp_2820, EaSetClusterCount_1, Tmp_2826, NextEaOffset);
    goto L340_last;

  L340_last:
    Tmp_2826 := Count_2;
    Count_2 := Count_2 - 1;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:partition} Tmp_2826 != 0;
    Tmp_2820 := NextEaOffset;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    assume {:nonnull} Tmp_2820 != 0;
    assume Tmp_2820 > 0;
    Mem_T.INT4[Tmp_2820] := Mem_T.INT4[NextEaOffset] + EaSetClusterCount_1;
    goto anon141_Else_dummy;

  anon141_Else_dummy:
    assume false;
    return;

  anon141_Then:
    assume {:partition} Tmp_2826 == 0;
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:partition} AddedOffsetTableCluster != 0;
    Count_2 := 240;
    assume {:nonnull} EaHeader_2 != 0;
    assume EaHeader_2 > 0;
    havoc Tmp_2825;
    NextEaOffset := Tmp_2825;
    goto L348;

  L348:
    call {:si_unique_call 3535} Tmp_2814, Count_2, Tmp_2830 := FatAddEaSet_loop_L348(Tmp_2814, Count_2, Tmp_2830, NextEaOffset);
    goto L348_last;

  L348_last:
    Tmp_2814 := Count_2;
    Count_2 := Count_2 - 1;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:partition} Tmp_2814 != 0;
    Tmp_2830 := NextEaOffset;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    assume {:nonnull} Tmp_2830 != 0;
    assume Tmp_2830 > 0;
    Mem_T.INT4[Tmp_2830] := Mem_T.INT4[NextEaOffset] + 1;
    goto anon142_Else_dummy;

  anon142_Else_dummy:
    assume false;
    return;

  anon142_Then:
    assume {:partition} Tmp_2814 == 0;
    goto L343;

  L343:
    call {:si_unique_call 3536} FatMarkEaRangeDirty(IrpContext_193, VirtualEaFile_2, EaHeaderRange_2);
    goto anon116_Then, anon116_Else;

  anon116_Else:
    assume {:partition} AddedOffsetTableCluster != 0;
    call {:si_unique_call 3537} Count_2 := corral_nondet();
    NextEaOffset := EaOffsetTable;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    Mem_T.INT4[NextEaOffset] := 0;
    goto L355;

  L355:
    call {:si_unique_call 3538} Count_2, Tmp_2819 := FatAddEaSet_loop_L355(Count_2, Tmp_2819, NextEaOffset);
    goto L355_last;

  L355_last:
    Tmp_2819 := Count_2;
    Count_2 := Count_2 - 1;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:partition} Tmp_2819 != 0;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    Mem_T.INT4[NextEaOffset] := 65535;
    goto anon143_Else_dummy;

  anon143_Else_dummy:
    assume false;
    return;

  anon143_Then:
    assume {:partition} Tmp_2819 == 0;
    goto L351;

  L351:
    NextEaOffset := EaOffsetTable;
    Tmp_2829 := EaHeaderIndex;
    assume {:nonnull} EaHeader_2 != 0;
    assume EaHeader_2 > 0;
    havoc Tmp_2817;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    assume {:nonnull} Tmp_2817 != 0;
    assume Tmp_2817 > 0;
    Mem_T.INT4[NextEaOffset] := EaSetClusterOffset - Mem_T.INT4[Tmp_2817 + Tmp_2829 * 4];
    Count_2 := 128 - EaOffsetIndex_1 - 1;
    goto L359;

  L359:
    call {:si_unique_call 3539} Tmp_2815, Count_2 := FatAddEaSet_loop_L359(Tmp_2815, Count_2, EaSetClusterCount_1, NextEaOffset);
    goto L359_last;

  L359_last:
    Tmp_2815 := Count_2;
    Count_2 := Count_2 - 1;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume {:partition} Tmp_2815 != 0;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:partition} Mem_T.INT4[NextEaOffset] != 65535;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    Mem_T.INT4[NextEaOffset] := Mem_T.INT4[NextEaOffset] + EaSetClusterCount_1;
    goto L364;

  L364:
    goto L364_dummy;

  L364_dummy:
    assume false;
    return;

  anon117_Then:
    assume {:partition} Mem_T.INT4[NextEaOffset] == 65535;
    goto L364;

  anon144_Then:
    assume {:partition} Tmp_2815 == 0;
    call {:si_unique_call 3540} FatMarkEaRangeDirty(IrpContext_193, VirtualEaFile_2, EaOffsetRange_2);
    assume {:nonnull} EaHandle_7 != 0;
    assume EaHandle_7 > 0;
    Mem_T.INT4[EaHandle_7] := NewEaIndex;
    call {:si_unique_call 3541} sdv_1613 := sdv_AbnormalTermination();
    goto anon118_Then, anon118_Else;

  anon118_Else:
    assume {:partition} sdv_1613 != 0;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    assume {:partition} UnwindAllocatedNewAllocation != 0;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    assume {:partition} UnwindPrevFileSize_1 != 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    assume {:nonnull} EaDirent_7 != 0;
    assume EaDirent_7 > 0;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:partition} UnwindCacheValues_1 != 0;
    goto L376;

  L376:
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} UnwindMergedTail != 0;
    NewTailPosition := EaSetVbo_2 + EaSetLength_1;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3542} FatSplitAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), NewTailPosition, EaTailMcb);
    goto L384;

  L384:
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:partition} UnwindMergedNewEaSet != 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3543} FatSplitAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaSetVbo_2, EaSetMcb);
    goto L390;

  L390:
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:partition} UnwindMergedInitialEa != 0;
    Tmp_2827 := EaNewOffsetVbo + BytesPerCluster_10;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3544} FatSplitAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), Tmp_2827, EaInitialEaMcb);
    goto L394;

  L394:
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume {:partition} UnwindMergedNewOffset != 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3545} FatSplitAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaNewOffsetVbo, EaOffsetMcb);
    goto L399;

  L399:
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume {:partition} UnwindSplitInitialEa != 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3546} FatMergeAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaInitialEaMcb);
    goto L403;

  L403:
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume {:partition} UnwindSplitTail_1 != 0;
    assume {:nonnull} EaFcb_4 != 0;
    assume EaFcb_4 > 0;
    call {:si_unique_call 3547} FatMergeAllocation(IrpContext_193, Vcb_106, Mcb__FCB(EaFcb_4), EaTailMcb);
    goto L407;

  L407:
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:partition} UnwindPurgeCacheMap != 0;
    assume {:nonnull} Vcb_106 != 0;
    assume Vcb_106 > 0;
    call {:si_unique_call 3548} vslice_dummy_var_497 := sdv_ObDereferenceObject(0);
    goto L411;

  L411:
    goto anon128_Then, anon128_Else;

  anon128_Else:
    assume {:partition} UnwindSplitNewAllocation != 0;
    call {:si_unique_call 3549} FatDeallocateDiskSpace(IrpContext_193, Vcb_106, EaOffsetMcb);
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume {:partition} yogi_error != 1;
    goto L416;

  L416:
    call {:si_unique_call 3550} FatDeallocateDiskSpace(IrpContext_193, Vcb_106, EaSetMcb);
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} yogi_error != 1;
    goto L371;

  L371:
    call {:si_unique_call 3551} FatUnpinEaRange(IrpContext_193, EaHeaderRange_2);
    call {:si_unique_call 3552} FatUnpinEaRange(IrpContext_193, EaOffsetRange_2);
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} UnwindInitializedEaSetMcb != 0;
    goto L426;

  L426:
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} UnwindInitializedOffsetMcb != 0;
    goto L430;

  L430:
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:partition} UnwindInitializedTailMcb != 0;
    goto L434;

  L434:
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:partition} UnwindInitializedInitialEaMcb != 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon132_Then:
    assume {:partition} UnwindInitializedInitialEaMcb == 0;
    goto L1;

  anon131_Then:
    assume {:partition} UnwindInitializedTailMcb == 0;
    goto L434;

  anon130_Then:
    assume {:partition} UnwindInitializedOffsetMcb == 0;
    goto L430;

  anon129_Then:
    assume {:partition} UnwindInitializedEaSetMcb == 0;
    goto L426;

  anon147_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon146_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon128_Then:
    assume {:partition} UnwindSplitNewAllocation == 0;
    goto L416;

  anon127_Then:
    assume {:partition} UnwindPurgeCacheMap == 0;
    goto L411;

  anon126_Then:
    assume {:partition} UnwindSplitTail_1 == 0;
    goto L407;

  anon125_Then:
    assume {:partition} UnwindSplitInitialEa == 0;
    goto L403;

  anon124_Then:
    assume {:partition} UnwindMergedNewOffset == 0;
    goto L399;

  anon123_Then:
    assume {:partition} UnwindMergedInitialEa == 0;
    goto L394;

  anon122_Then:
    assume {:partition} UnwindMergedNewEaSet == 0;
    goto L390;

  anon121_Then:
    assume {:partition} UnwindMergedTail == 0;
    goto L384;

  anon145_Then:
    assume {:partition} UnwindCacheValues_1 == 0;
    goto L376;

  anon120_Then:
    assume {:partition} UnwindPrevFileSize_1 == 0;
    goto L376;

  anon119_Then:
    assume {:partition} UnwindAllocatedNewAllocation == 0;
    goto L371;

  anon118_Then:
    assume {:partition} sdv_1613 == 0;
    goto L371;

  anon116_Then:
    assume {:partition} AddedOffsetTableCluster == 0;
    goto L351;

  anon115_Then:
    assume {:partition} AddedOffsetTableCluster == 0;
    goto L343;

  anon140_Then:
    assume {:partition} UnwindInitializedTailMcb == 0;
    goto L293;

  anon114_Then:
    assume {:partition} AddedOffsetTableCluster == 0;
    goto L280;

  anon113_Then:
    assume {:partition} UnwindInitializedInitialEaMcb == 0;
    goto L269;

  anon111_Then:
    assume {:partition} AddedOffsetTableCluster == 0;
    goto L258;

  anon112_Then:
    assume {:partition} EaSetVbo_2 == EaNewOffsetVbo;
    goto L248;

  anon110_Then:
    assume {:partition} AddedOffsetTableCluster == 0;
    goto L248;

  anon139_Then:
    assume {:partition} TailExists == 0;
    goto L239;

  anon108_Then:
    assume {:partition} PurgeCount_1 == 0;
    assume {:nonnull} IrpContext_193 != 0;
    assume IrpContext_193 > 0;
    call {:si_unique_call 3553} ExRaiseStatus(-1073741797);
    goto L236;

  anon109_Then:
    assume {:partition} sdv_1611 == 0;
    goto anon109_Then_dummy;

  anon109_Then_dummy:
    assume false;
    return;

  anon138_Then:
    assume {:partition} PurgeCount_1 == 0;
    goto L225;

  anon107_Then:
    assume {:partition} AddedOffsetTableCluster == 0;
    assume {:nonnull} FileOffset_6 != 0;
    assume FileOffset_6 > 0;
    goto L219;

  anon137_Then:
    assume {:partition} AddedOffsetTableCluster == 0;
    goto L202;

  anon136_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon135_Then:
    goto L188;

  anon134_Then:
    assume {:partition} AddedOffsetTableCluster == 0;
    Tmp_2823 := 0;
    goto L186;

  anon106_Then:
    assume {:partition} 30719 >= NewEaIndex;
    goto L175;

  anon103_Then:
    assume {:partition} NewEaIndex == 0;
    assume {:nonnull} NextEaOffset != 0;
    assume NextEaOffset > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} Mem_T.INT4[NextEaOffset] == 65535;
    NewEaIndex := 1;
    goto L174;

  anon105_Then:
    assume {:partition} Mem_T.INT4[NextEaOffset] != 65535;
    call {:si_unique_call 3554} NewEaIndex := corral_nondet();
    AddedOffsetTableCluster := 1;
    goto L174;

  anon99_Then:
    assume {:partition} NewEaIndex == 0;
    goto L168;

  anon102_Then:
    assume {:partition} NewEaIndex == 1;
    goto L162;

  anon101_Then:
    assume {:partition} Mem_T.INT4[NextEaOffset] != 65535;
    NewEaIndex := NewEaIndex - 1;
    goto anon101_Then_dummy;

  anon101_Then_dummy:
    assume false;
    return;

  anon100_Then:
    assume {:partition} NewEaIndex == 0;
    goto L157;

  anon133_Then:
    assume {:partition} Mem_T.INT4[NextEaOffset] == 65535;
    goto L157;
}



procedure {:origName "FatLocateEaByName"} FatLocateEaByName(actual_IrpContext_194: int, actual_FirstPackedEa_1: int, actual_PackedEasLength_4: int, actual_EaName_2: int, actual_Offset_7: int) returns (Tmp_2833: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_2833 == 1 || Tmp_2833 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLocateEaByName"} FatLocateEaByName(actual_IrpContext_194: int, actual_FirstPackedEa_1: int, actual_PackedEasLength_4: int, actual_EaName_2: int, actual_Offset_7: int) returns (Tmp_2833: int)
{
  var {:pointer} Tmp_2834: int;
  var {:pointer} PackedEa_2: int;
  var {:scalar} sdv_1614: int;
  var {:scalar} Name_6: int;
  var {:pointer} IrpContext_194: int;
  var {:pointer} FirstPackedEa_1: int;
  var {:scalar} PackedEasLength_4: int;
  var {:pointer} Offset_7: int;
  var boogieTmp: int;

  anon0:
    call {:si_unique_call 3555} Name_6 := __HAVOC_malloc(12);
    IrpContext_194 := actual_IrpContext_194;
    FirstPackedEa_1 := actual_FirstPackedEa_1;
    PackedEasLength_4 := actual_PackedEasLength_4;
    Offset_7 := actual_Offset_7;
    call {:si_unique_call 3556} Tmp_2834 := __HAVOC_malloc(4);
    assume {:nonnull} Offset_7 != 0;
    assume Offset_7 > 0;
    Mem_T.INT4[Offset_7] := 0;
    goto L6;

  L6:
    call {:si_unique_call 3557} Tmp_2834, PackedEa_2, sdv_1614, boogieTmp := FatLocateEaByName_loop_L6(Tmp_2834, PackedEa_2, sdv_1614, Name_6, IrpContext_194, FirstPackedEa_1, PackedEasLength_4, Offset_7, boogieTmp);
    goto L6_last;

  L6_last:
    assume {:nonnull} Offset_7 != 0;
    assume Offset_7 > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} PackedEasLength_4 > Mem_T.INT4[Offset_7];
    PackedEa_2 := FirstPackedEa_1;
    assume {:nonnull} PackedEa_2 != 0;
    assume PackedEa_2 > 0;
    havoc Tmp_2834;
    assume {:nonnull} Name_6 != 0;
    assume Name_6 > 0;
    assume {:nonnull} Name_6 != 0;
    assume Name_6 > 0;
    assume {:nonnull} PackedEa_2 != 0;
    assume PackedEa_2 > 0;
    assume {:nonnull} Name_6 != 0;
    assume Name_6 > 0;
    assume {:nonnull} PackedEa_2 != 0;
    assume PackedEa_2 > 0;
    call {:si_unique_call 3558} sdv_1614 := corral_nondet();
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} sdv_1614 != 0;
    assume {:nonnull} Offset_7 != 0;
    assume Offset_7 > 0;
    call {:si_unique_call 3559} boogieTmp := FatLocateNextEa(IrpContext_194, FirstPackedEa_1, PackedEasLength_4, Mem_T.INT4[Offset_7]);
    Mem_T.INT4[Offset_7] := boogieTmp;
    goto anon6_Else_dummy;

  anon6_Else_dummy:
    assume false;
    return;

  anon6_Then:
    assume {:partition} sdv_1614 == 0;
    Tmp_2833 := 1;
    goto L1;

  L1:
    return;

  anon5_Then:
    assume {:partition} Mem_T.INT4[Offset_7] >= PackedEasLength_4;
    Tmp_2833 := 0;
    goto L1;
}



procedure {:origName "FatMarkEaRangeDirty"} FatMarkEaRangeDirty(actual_IrpContext_195: int, actual_EaFileObject_2: int, actual_EaRange_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMarkEaRangeDirty"} FatMarkEaRangeDirty(actual_IrpContext_195: int, actual_EaFileObject_2: int, actual_EaRange_2: int)
{
  var {:scalar} LargeVbo_1: int;
  var {:scalar} Tmp_2837: int;
  var {:scalar} BcbCount_1: int;
  var {:pointer} NextBcb_2: int;
  var {:pointer} EaRange_2: int;
  var vslice_dummy_var_498: int;
  var vslice_dummy_var_499: int;

  anon0:
    call {:si_unique_call 3560} LargeVbo_1 := __HAVOC_malloc(20);
    call {:si_unique_call 3561} vslice_dummy_var_498 := __HAVOC_malloc(4);
    EaRange_2 := actual_EaRange_2;
    assume {:nonnull} EaRange_2 != 0;
    assume EaRange_2 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:nonnull} EaRange_2 != 0;
    assume EaRange_2 > 0;
    assume {:nonnull} LargeVbo_1 != 0;
    assume LargeVbo_1 > 0;
    call {:si_unique_call 3562} vslice_dummy_var_499 := corral_nondet();
    goto L6;

  L6:
    assume {:nonnull} EaRange_2 != 0;
    assume EaRange_2 > 0;
    havoc BcbCount_1;
    assume {:nonnull} EaRange_2 != 0;
    assume EaRange_2 > 0;
    havoc NextBcb_2;
    goto L13;

  L13:
    call {:si_unique_call 3563} Tmp_2837, BcbCount_1 := FatMarkEaRangeDirty_loop_L13(Tmp_2837, BcbCount_1, NextBcb_2);
    goto L13_last;

  L13_last:
    Tmp_2837 := BcbCount_1;
    BcbCount_1 := BcbCount_1 - 1;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Tmp_2837 != 0;
    assume {:nonnull} NextBcb_2 != 0;
    assume NextBcb_2 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    goto L16;

  L16:
    goto L16_dummy;

  L16_dummy:
    assume false;
    return;

  anon8_Then:
    goto L16;

  anon9_Then:
    assume {:partition} Tmp_2837 == 0;
    return;

  anon7_Then:
    goto L6;
}



procedure {:origName "_sdv_init4"} _sdv_init4();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init4"} _sdv_init4()
{
  var vslice_dummy_var_500: int;

  anon0:
    call {:si_unique_call 3564} vslice_dummy_var_500 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "_sdv_init25"} _sdv_init25();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init25"} _sdv_init25()
{
  var vslice_dummy_var_501: int;

  anon0:
    call {:si_unique_call 3565} vslice_dummy_var_501 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatMarkDevForVerifyIfVcbMounted"} FatMarkDevForVerifyIfVcbMounted(actual_Vcb_107: int) returns (Tmp_2843: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} Tmp_2843 == 1 || Tmp_2843 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMarkDevForVerifyIfVcbMounted"} FatMarkDevForVerifyIfVcbMounted(actual_Vcb_107: int) returns (Tmp_2843: int)
{
  var {:scalar} SavedIrql_7: int;
  var {:pointer} Tmp_2844: int;
  var {:pointer} Tmp_2845: int;
  var {:pointer} Tmp_2846: int;
  var {:pointer} Tmp_2847: int;
  var {:scalar} Marked: int;
  var {:pointer} Tmp_2848: int;
  var {:pointer} Tmp_2849: int;
  var {:pointer} Tmp_2850: int;
  var {:pointer} Vcb_107: int;

  anon0:
    Vcb_107 := actual_Vcb_107;
    Marked := 0;
    call {:si_unique_call 3566} Tmp_2844 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2844 != 0;
    assume Tmp_2844 > 0;
    Mem_T.INT4[Tmp_2844] := SavedIrql_7;
    call {:si_unique_call 3567} IoAcquireVpbSpinLock(Tmp_2844);
    assume {:nonnull} Tmp_2844 != 0;
    assume Tmp_2844 > 0;
    SavedIrql_7 := Mem_T.INT4[Tmp_2844];
    assume {:nonnull} Vcb_107 != 0;
    assume Vcb_107 > 0;
    havoc Tmp_2846;
    assume {:nonnull} Tmp_2846 != 0;
    assume Tmp_2846 > 0;
    havoc Tmp_2850;
    assume {:nonnull} Tmp_2850 != 0;
    assume Tmp_2850 > 0;
    assume {:nonnull} Vcb_107 != 0;
    assume Vcb_107 > 0;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:nonnull} Vcb_107 != 0;
    assume Vcb_107 > 0;
    havoc Tmp_2848;
    assume {:nonnull} Tmp_2848 != 0;
    assume Tmp_2848 > 0;
    havoc Tmp_2845;
    assume {:nonnull} Vcb_107 != 0;
    assume Vcb_107 > 0;
    havoc Tmp_2847;
    assume {:nonnull} Tmp_2847 != 0;
    assume Tmp_2847 > 0;
    havoc Tmp_2849;
    assume {:nonnull} Tmp_2845 != 0;
    assume Tmp_2845 > 0;
    assume {:nonnull} Tmp_2849 != 0;
    assume Tmp_2849 > 0;
    Marked := 1;
    goto L13;

  L13:
    call {:si_unique_call 3568} IoReleaseVpbSpinLock(SavedIrql_7);
    Tmp_2843 := Marked;
    return;

  anon3_Then:
    assume {:nonnull} Vcb_107 != 0;
    assume Vcb_107 > 0;
    goto L13;
}



procedure {:origName "FatVerifyOperationIsLegal"} FatVerifyOperationIsLegal(actual_IrpContext_196: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatVerifyOperationIsLegal"} FatVerifyOperationIsLegal(actual_IrpContext_196: int)
{
  var {:pointer} Irp_78: int;
  var {:pointer} sdv_1617: int;
  var {:pointer} FileObject_41: int;
  var {:pointer} IrpSp_41: int;
  var {:pointer} IrpContext_196: int;
  var vslice_dummy_var_502: int;

  anon0:
    call {:si_unique_call 3569} vslice_dummy_var_502 := __HAVOC_malloc(4);
    IrpContext_196 := actual_IrpContext_196;
    assume {:nonnull} IrpContext_196 != 0;
    assume IrpContext_196 > 0;
    havoc Irp_78;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} Irp_78 != 0;
    call {:si_unique_call 3570} sdv_1617 := sdv_IoGetCurrentIrpStackLocation(Irp_78);
    assume {:nonnull} sdv_1617 != 0;
    assume sdv_1617 > 0;
    havoc FileObject_41;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} FileObject_41 != 0;
    assume {:nonnull} FileObject_41 != 0;
    assume FileObject_41 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    call {:si_unique_call 3571} IrpSp_41 := sdv_IoGetCurrentIrpStackLocation(Irp_78);
    assume {:nonnull} Irp_78 != 0;
    assume Irp_78 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} IrpSp_41 != 0;
    assume IrpSp_41 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} IrpSp_41 != 0;
    assume IrpSp_41 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} IrpSp_41 != 0;
    assume IrpSp_41 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:nonnull} IrpSp_41 != 0;
    assume IrpSp_41 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    goto L27;

  L27:
    assume {:nonnull} IrpSp_41 != 0;
    assume IrpSp_41 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    goto L28;

  L28:
    assume {:nonnull} IrpContext_196 != 0;
    assume IrpContext_196 > 0;
    call {:si_unique_call 3572} ExRaiseStatus(-1073741528);
    goto L1;

  L1:
    return;

  anon28_Then:
    goto L1;

  anon26_Then:
    assume {:nonnull} IrpSp_41 != 0;
    assume IrpSp_41 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    goto L28;

  anon27_Then:
    goto L27;

  anon25_Then:
    goto L1;

  anon24_Then:
    goto L1;

  anon23_Then:
    goto L1;

  anon22_Then:
    goto L1;

  anon21_Then:
    goto L1;

  anon30_Then:
    assume {:partition} FileObject_41 == 0;
    goto L1;

  anon29_Then:
    assume {:partition} Irp_78 == 0;
    goto L1;
}



procedure {:origName "FatVerifyVcb"} FatVerifyVcb(actual_IrpContext_197: int, actual_Vcb_108: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatVerifyVcb"} FatVerifyVcb(actual_IrpContext_197: int, actual_Vcb_108: int)
{
  var {:scalar} DevMarkedForVerify: int;
  var {:scalar} Tmp_2853: int;
  var {:pointer} Tmp_2854: int;
  var {:scalar} Status_75: int;
  var {:scalar} Iosb_27: int;
  var {:dopa} {:scalar} ChangeCount_2: int;
  var {:pointer} IrpSp_42: int;
  var {:scalar} Tmp_2858: int;
  var {:scalar} sdv_1621: int;
  var {:pointer} Tmp_2860: int;
  var {:pointer} Tmp_2861: int;
  var {:scalar} Tmp_2862: int;
  var {:pointer} Tmp_2863: int;
  var {:pointer} Tmp_2864: int;
  var {:pointer} IrpContext_197: int;
  var {:pointer} Vcb_108: int;
  var vslice_dummy_var_503: int;
  var vslice_dummy_var_435: int;
  var vslice_dummy_var_436: int;

  anon0:
    call {:si_unique_call 3573} Iosb_27 := __HAVOC_malloc(12);
    call {:si_unique_call 3574} ChangeCount_2 := __HAVOC_malloc(4);
    call {:si_unique_call 3575} vslice_dummy_var_503 := __HAVOC_malloc(4);
    IrpContext_197 := actual_IrpContext_197;
    Vcb_108 := actual_Vcb_108;
    assume {:nonnull} ChangeCount_2 != 0;
    assume ChangeCount_2 > 0;
    Mem_T.INT4[ChangeCount_2] := 0;
    Status_75 := 0;
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    havoc Tmp_2860;
    assume {:nonnull} Tmp_2860 != 0;
    assume Tmp_2860 > 0;
    havoc Tmp_2864;
    assume {:nonnull} Tmp_2864 != 0;
    assume Tmp_2864 > 0;
    havoc Tmp_2853;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} Tmp_2853 == 0;
    DevMarkedForVerify := 0;
    goto L91;

  L91:
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    havoc Tmp_2863;
    assume {:nonnull} Tmp_2863 != 0;
    assume Tmp_2863 > 0;
    havoc Tmp_2854;
    assume {:nonnull} Tmp_2854 != 0;
    assume Tmp_2854 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    Tmp_2858 := 149504;
    goto L16;

  L16:
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    havoc vslice_dummy_var_435;
    call {:si_unique_call 3576} Status_75 := FatPerformDevIoCtrl(IrpContext_197, Tmp_2858, vslice_dummy_var_435, ChangeCount_2, 4, 0, 1, Iosb_27);
    assume {:nonnull} Iosb_27 != 0;
    assume Iosb_27 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:nonnull} ChangeCount_2 != 0;
    assume ChangeCount_2 > 0;
    Mem_T.INT4[ChangeCount_2] := 0;
    goto L21;

  L21:
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} Status_75 == -1073741661;
    goto L26;

  L26:
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} DevMarkedForVerify == 0;
    call {:si_unique_call 3577} DevMarkedForVerify := FatMarkDevForVerifyIfVcbMounted(Vcb_108);
    goto L12;

  L12:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} DevMarkedForVerify != 0;
    goto L35;

  L35:
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} Status_75 >= 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} DevMarkedForVerify == 0;
    goto L40;

  L40:
    call {:si_unique_call 3578} FatQuickVerifyVcb(IrpContext_197, Vcb_108);
    return;

  anon53_Then:
    assume {:partition} DevMarkedForVerify != 0;
    goto L36;

  L36:
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    call {:si_unique_call 3579} IoSetHardErrorOrVerifyDevice(0, 0);
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} DevMarkedForVerify != 0;
    Tmp_2862 := 22;
    goto L46;

  L46:
    assume {:nonnull} IrpContext_197 != 0;
    assume IrpContext_197 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} DevMarkedForVerify != 0;
    goto L50;

  L50:
    call {:si_unique_call 3580} sdv_1621 := corral_nondet();
    call {:si_unique_call 3581} ExRaiseStatus(sdv_1621);
    goto L40;

  anon59_Then:
    assume {:partition} DevMarkedForVerify == 0;
    goto L50;

  anon54_Then:
    assume {:partition} DevMarkedForVerify == 0;
    Tmp_2862 := Status_75;
    goto L46;

  anon52_Then:
    assume {:partition} 0 > Status_75;
    goto L36;

  anon41_Then:
    assume {:partition} DevMarkedForVerify == 0;
    assume {:nonnull} IrpContext_197 != 0;
    assume IrpContext_197 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} IrpContext_197 != 0;
    assume IrpContext_197 > 0;
    havoc vslice_dummy_var_436;
    call {:si_unique_call 3582} IrpSp_42 := sdv_IoGetCurrentIrpStackLocation(vslice_dummy_var_436);
    assume {:nonnull} IrpSp_42 != 0;
    assume IrpSp_42 > 0;
    havoc Tmp_2861;
    assume {:nonnull} Tmp_2861 != 0;
    assume Tmp_2861 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    DevMarkedForVerify := 1;
    goto L35;

  anon55_Then:
    goto L35;

  anon60_Then:
    goto L35;

  anon51_Then:
    goto L35;

  anon48_Then:
    assume {:partition} DevMarkedForVerify != 0;
    goto L12;

  anon47_Then:
    goto L12;

  anon45_Then:
    assume {:partition} Status_75 != -1073741661;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} Status_75 == -1073741805;
    goto L26;

  anon46_Then:
    assume {:partition} Status_75 != -1073741805;
    goto L23;

  L23:
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} Status_75 != 22;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} Status_75 >= 0;
    assume {:nonnull} ChangeCount_2 != 0;
    assume ChangeCount_2 > 0;
    assume {:nonnull} Vcb_108 != 0;
    assume Vcb_108 > 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    goto L26;

  anon50_Then:
    goto L12;

  anon49_Then:
    assume {:partition} 0 > Status_75;
    goto L12;

  anon44_Then:
    assume {:partition} Status_75 == 22;
    goto L26;

  anon43_Then:
    goto L23;

  anon42_Then:
    goto L21;

  anon58_Then:
    Tmp_2858 := 477184;
    goto L16;

  anon57_Then:
    goto L12;

  anon56_Then:
    assume {:partition} Tmp_2853 != 0;
    DevMarkedForVerify := 1;
    goto L91;
}



procedure {:origName "FatDetermineAndMarkFcbCondition"} FatDetermineAndMarkFcbCondition(actual_IrpContext_198: int, actual_Fcb_66: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDetermineAndMarkFcbCondition"} FatDetermineAndMarkFcbCondition(actual_IrpContext_198: int, actual_Fcb_66: int)
{
  var {:scalar} sdv_1623: int;
  var {:pointer} Tmp_2866: int;
  var {:pointer} Dirent_41: int;
  var {:pointer} Buffer_34: int;
  var {:pointer} DirentBcb_16: int;
  var {:scalar} FirstClusterOfFile: int;
  var {:pointer} Tmp_2868: int;
  var {:scalar} Name_7: int;
  var {:pointer} Tmp_2869: int;
  var {:pointer} IrpContext_198: int;
  var {:pointer} Fcb_66: int;
  var vslice_dummy_var_504: int;
  var vslice_dummy_var_437: int;

  anon0:
    call {:si_unique_call 3583} Dirent_41 := __HAVOC_malloc(4);
    call {:si_unique_call 3584} DirentBcb_16 := __HAVOC_malloc(4);
    call {:si_unique_call 3585} vslice_dummy_var_504 := __HAVOC_malloc(4);
    call {:si_unique_call 3586} Name_7 := __HAVOC_malloc(12);
    IrpContext_198 := actual_IrpContext_198;
    Fcb_66 := actual_Fcb_66;
    call {:si_unique_call 3587} Buffer_34 := __HAVOC_malloc(64);
    Tmp_2868 := Fcb_66;
    assume {:nonnull} Tmp_2868 != 0;
    assume Tmp_2868 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Mem_T.INT4[Tmp_2868] == 1284;
    call {:si_unique_call 3588} FatResetFcb(IrpContext_198, Fcb_66);
    call {:si_unique_call 3589} FatMarkFcbCondition(IrpContext_198, Fcb_66, 1, 0);
    goto L1;

  L1:
    return;

  anon25_Then:
    assume {:partition} Mem_T.INT4[Tmp_2868] != 1284;
    call {:si_unique_call 3590} FatGetDirentFromFcbOrDcb(IrpContext_198, Fcb_66, Dirent_41, DirentBcb_16);
    assume {:nonnull} DirentBcb_16 != 0;
    assume DirentBcb_16 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} Name_7 != 0;
    assume Name_7 > 0;
    assume {:nonnull} Name_7 != 0;
    assume Name_7 > 0;
    assume {:nonnull} Dirent_41 != 0;
    assume Dirent_41 > 0;
    havoc vslice_dummy_var_437;
    call {:si_unique_call 3591} Fat8dot3ToString(IrpContext_198, vslice_dummy_var_437, 0, Name_7);
    assume {:nonnull} Dirent_41 != 0;
    assume Dirent_41 > 0;
    havoc FirstClusterOfFile;
    assume {:nonnull} Fcb_66 != 0;
    assume Fcb_66 > 0;
    havoc Tmp_2869;
    assume {:nonnull} Tmp_2869 != 0;
    assume Tmp_2869 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    call {:si_unique_call 3592} FirstClusterOfFile := corral_nondet();
    goto L35;

  L35:
    call {:si_unique_call 3593} sdv_1623 := corral_nondet();
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} sdv_1623 != 0;
    Tmp_2866 := Fcb_66;
    assume {:nonnull} Tmp_2866 != 0;
    assume Tmp_2866 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Mem_T.INT4[Tmp_2866] == 1282;
    assume {:nonnull} Dirent_41 != 0;
    assume Dirent_41 > 0;
    assume {:nonnull} Fcb_66 != 0;
    assume Fcb_66 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    goto L44;

  L44:
    assume {:nonnull} Fcb_66 != 0;
    assume Fcb_66 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:nonnull} Dirent_41 != 0;
    assume Dirent_41 > 0;
    assume {:nonnull} Fcb_66 != 0;
    assume Fcb_66 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    call {:si_unique_call 3594} FatResetFcb(IrpContext_198, Fcb_66);
    call {:si_unique_call 3595} FatMarkFcbCondition(IrpContext_198, Fcb_66, 1, 0);
    goto L53;

  L53:
    assume {:nonnull} DirentBcb_16 != 0;
    assume DirentBcb_16 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} DirentBcb_16 != 0;
    assume DirentBcb_16 > 0;
    goto L1;

  anon24_Then:
    goto L1;

  anon23_Then:
    goto L40;

  L40:
    call {:si_unique_call 3596} FatMarkFcbCondition(IrpContext_198, Fcb_66, 2, 1);
    goto L53;

  anon21_Then:
    goto L40;

  anon22_Then:
    goto L40;

  anon27_Then:
    assume {:partition} Mem_T.INT4[Tmp_2866] != 1282;
    goto L44;

  anon20_Then:
    assume {:partition} sdv_1623 == 0;
    goto L40;

  anon26_Then:
    goto L35;

  anon19_Then:
    call {:si_unique_call 3597} FatMarkFcbCondition(IrpContext_198, Fcb_66, 2, 1);
    goto L1;
}



procedure {:origName "FatVerifyFcb"} FatVerifyFcb(actual_IrpContext_199: int, actual_Fcb_67: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_current == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatVerifyFcb"} FatVerifyFcb(actual_IrpContext_199: int, actual_Fcb_67: int)
{
  var {:pointer} Tmp_2870: int;
  var {:pointer} Tmp_2871: int;
  var {:pointer} sdv_1624: int;
  var {:pointer} Tmp_2872: int;
  var {:pointer} CurrentFcb: int;
  var {:pointer} Tmp_2873: int;
  var {:pointer} Tmp_2874: int;
  var {:pointer} Tmp_2875: int;
  var {:pointer} IrpContext_199: int;
  var {:pointer} Fcb_67: int;
  var vslice_dummy_var_505: int;
  var vslice_dummy_var_438: int;
  var vslice_dummy_var_439: int;

  anon0:
    call {:si_unique_call 3598} vslice_dummy_var_505 := __HAVOC_malloc(4);
    IrpContext_199 := actual_IrpContext_199;
    Fcb_67 := actual_Fcb_67;
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    havoc Tmp_2873;
    assume {:nonnull} Tmp_2873 != 0;
    assume Tmp_2873 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} IrpContext_199 != 0;
    assume IrpContext_199 > 0;
    call {:si_unique_call 3599} ExRaiseStatus(-1073741202);
    goto L5;

  L5:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    goto L10;

  L10:
    Tmp_2871 := Fcb_67;
    assume {:nonnull} Tmp_2871 != 0;
    assume Tmp_2871 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} Mem_T.INT4[Tmp_2871] != 1284;
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    havoc Tmp_2874;
    assume {:nonnull} Tmp_2874 != 0;
    assume Tmp_2874 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    havoc Tmp_2875;
    assume {:nonnull} Tmp_2875 != 0;
    assume Tmp_2875 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    goto L13;

  L13:
    call {:si_unique_call 3600} sdv_1624 := sdv_KeGetCurrentThread();
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    havoc Tmp_2870;
    assume {:nonnull} Tmp_2870 != 0;
    assume Tmp_2870 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    havoc vslice_dummy_var_438;
    call {:si_unique_call 3601} FatQuickVerifyVcb(IrpContext_199, vslice_dummy_var_438);
    goto L19;

  L19:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    CurrentFcb := Fcb_67;
    goto L29;

  L29:
    call {:si_unique_call 3602} Tmp_2872, CurrentFcb := FatVerifyFcb_loop_L29(Tmp_2872, CurrentFcb, IrpContext_199);
    goto L29_last;

  L29_last:
    assume {:nonnull} CurrentFcb != 0;
    assume CurrentFcb > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    call {:si_unique_call 3603} FatDetermineAndMarkFcbCondition(IrpContext_199, CurrentFcb);
    assume {:nonnull} CurrentFcb != 0;
    assume CurrentFcb > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    Tmp_2872 := CurrentFcb;
    assume {:nonnull} Tmp_2872 != 0;
    assume Tmp_2872 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} Mem_T.INT4[Tmp_2872] != 1284;
    assume {:nonnull} CurrentFcb != 0;
    assume CurrentFcb > 0;
    havoc CurrentFcb;
    goto anon42_Else_dummy;

  anon42_Else_dummy:
    assume false;
    return;

  anon42_Then:
    assume {:partition} Mem_T.INT4[Tmp_2872] == 1284;
    goto L30;

  L30:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:nonnull} IrpContext_199 != 0;
    assume IrpContext_199 > 0;
    call {:si_unique_call 3604} ExRaiseStatus(-1073741672);
    goto L1;

  L1:
    return;

  anon33_Then:
    goto L1;

  anon34_Then:
    goto L30;

  anon32_Then:
    goto L30;

  anon35_Then:
    assume {:nonnull} Fcb_67 != 0;
    assume Fcb_67 > 0;
    havoc vslice_dummy_var_439;
    call {:si_unique_call 3605} KeBugCheckEx(35, 1966584, vslice_dummy_var_439, 0, 0);
    goto L1;

  anon36_Then:
    assume {:nonnull} IrpContext_199 != 0;
    assume IrpContext_199 > 0;
    call {:si_unique_call 3606} ExRaiseStatus(-1073741672);
    goto L1;

  anon31_Then:
    goto L1;

  anon41_Then:
    goto L19;

  anon40_Then:
    goto L1;

  anon39_Then:
    goto L13;

  anon38_Then:
    assume {:partition} Mem_T.INT4[Tmp_2871] == 1284;
    goto L13;

  anon30_Then:
    goto L1;

  anon29_Then:
    goto L10;

  anon37_Then:
    goto L5;
}



procedure {:origName "FatMarkFcbCondition"} FatMarkFcbCondition(actual_IrpContext_200: int, actual_Fcb_68: int, actual_FcbCondition: int, actual_Recursive: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMarkFcbCondition"} FatMarkFcbCondition(actual_IrpContext_200: int, actual_Fcb_68: int, actual_FcbCondition: int, actual_Recursive: int)
{
  var {:pointer} Tmp_2879: int;
  var {:scalar} sdv_1625: int;
  var {:scalar} Tmp_2880: int;
  var {:pointer} Tmp_2881: int;
  var {:pointer} OriginalFcb_1: int;
  var {:pointer} Tmp_2883: int;
  var {:scalar} Tmp_2885: int;
  var {:pointer} IrpContext_200: int;
  var {:pointer} Fcb_68: int;
  var {:scalar} FcbCondition: int;
  var {:scalar} Recursive: int;
  var vslice_dummy_var_506: int;

  anon0:
    call {:si_unique_call 3607} vslice_dummy_var_506 := __HAVOC_malloc(4);
    IrpContext_200 := actual_IrpContext_200;
    Fcb_68 := actual_Fcb_68;
    FcbCondition := actual_FcbCondition;
    Recursive := actual_Recursive;
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    goto L1;

  L1:
    return;

  anon27_Then:
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    goto L13;

  L13:
    Tmp_2885 := 0;
    goto L14;

  L14:
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    goto L8;

  L8:
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} FcbCondition == 3;
    goto L23;

  L23:
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} Recursive != 0;
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    goto L28;

  L28:
    OriginalFcb_1 := Fcb_68;
    goto L29;

  L29:
    call {:si_unique_call 3608} Fcb_68 := FatMarkFcbCondition_loop_L29(OriginalFcb_1, IrpContext_200, Fcb_68, FcbCondition);
    goto L29_last;

  L29_last:
    call {:si_unique_call 3610} Fcb_68 := FatGetNextFcbTopDown(IrpContext_200, Fcb_68, OriginalFcb_1);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} Fcb_68 != 0;
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    goto anon35_Else_dummy;

  anon35_Else_dummy:
    assume false;
    return;

  anon35_Then:
    assume {:partition} Fcb_68 == 0;
    goto L1;

  anon33_Then:
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    goto L28;

  anon34_Then:
    goto L1;

  anon32_Then:
    assume {:partition} Recursive == 0;
    goto L1;

  anon28_Then:
    assume {:partition} FcbCondition != 3;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:partition} FcbCondition == 2;
    goto L23;

  anon31_Then:
    assume {:partition} FcbCondition != 2;
    goto L1;

  anon29_Then:
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    call {:si_unique_call 3609} sdv_1625 := corral_nondet();
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} sdv_1625 != 0;
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    Tmp_2881 := FileLock_unnamed_tag_69(Fcb_unnamed_tag_67(Specific__FCB(Fcb_68)));
    assume {:nonnull} Tmp_2881 != 0;
    assume Tmp_2881 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    goto L18;

  L18:
    Tmp_2880 := 2;
    goto L19;

  L19:
    Tmp_2885 := Tmp_2880;
    goto L14;

  anon37_Then:
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    havoc Tmp_2883;
    assume {:nonnull} Tmp_2883 != 0;
    assume Tmp_2883 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:nonnull} Fcb_68 != 0;
    assume Fcb_68 > 0;
    havoc Tmp_2879;
    assume {:nonnull} Tmp_2879 != 0;
    assume Tmp_2879 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    Tmp_2880 := 1;
    goto L19;

  anon39_Then:
    goto L18;

  anon38_Then:
    goto L18;

  anon30_Then:
    assume {:partition} sdv_1625 == 0;
    goto L13;

  anon36_Then:
    goto L8;
}



procedure {:origName "_sdv_init23"} _sdv_init23();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init23"} _sdv_init23()
{
  var vslice_dummy_var_507: int;

  anon0:
    call {:si_unique_call 3611} vslice_dummy_var_507 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatQuickVerifyVcb"} FatQuickVerifyVcb(actual_IrpContext_202: int, actual_Vcb_110: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_current == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQuickVerifyVcb"} FatQuickVerifyVcb(actual_IrpContext_202: int, actual_Vcb_110: int)
{
  var {:pointer} Tmp_2903: int;
  var {:pointer} sdv_1634: int;
  var {:pointer} Tmp_2907: int;
  var {:pointer} IrpContext_202: int;
  var {:pointer} Vcb_110: int;
  var vslice_dummy_var_508: int;
  var vslice_dummy_var_509: int;
  var vslice_dummy_var_440: int;
  var vslice_dummy_var_441: int;

  anon0:
    call {:si_unique_call 3612} vslice_dummy_var_508 := __HAVOC_malloc(4);
    IrpContext_202 := actual_IrpContext_202;
    Vcb_110 := actual_Vcb_110;
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    havoc Tmp_2907;
    assume {:nonnull} Tmp_2907 != 0;
    assume Tmp_2907 > 0;
    havoc Tmp_2903;
    assume {:nonnull} Tmp_2903 != 0;
    assume Tmp_2903 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    call {:si_unique_call 3613} IoSetHardErrorOrVerifyDevice(0, 0);
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    call {:si_unique_call 3614} ExRaiseStatus(22);
    goto L4;

  L4:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    call {:si_unique_call 3615} ExRaiseStatus(-1073741202);
    goto L1;

  L1:
    return;

  anon31_Then:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    call {:si_unique_call 3616} ExRaiseStatus(-1073741672);
    goto L1;

  anon40_Then:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    havoc vslice_dummy_var_440;
    call {:si_unique_call 3617} KeBugCheckEx(35, 1967806, vslice_dummy_var_440, 0, 0);
    goto L1;

  anon41_Then:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    call {:si_unique_call 3618} IoSetHardErrorOrVerifyDevice(0, 0);
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    call {:si_unique_call 3619} ExRaiseStatus(-1073741806);
    goto L1;

  anon29_Then:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    goto L37;

  L37:
    assume {:nonnull} Vcb_110 != 0;
    assume Vcb_110 > 0;
    call {:si_unique_call 3620} IoSetHardErrorOrVerifyDevice(0, 0);
    call {:si_unique_call 3621} vslice_dummy_var_509 := FatMarkDevForVerifyIfVcbMounted(Vcb_110);
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    call {:si_unique_call 3622} ExRaiseStatus(-1073741662);
    goto L1;

  anon32_Then:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:nonnull} IrpContext_202 != 0;
    assume IrpContext_202 > 0;
    havoc vslice_dummy_var_441;
    call {:si_unique_call 3623} sdv_1634 := sdv_IoGetCurrentIrpStackLocation(vslice_dummy_var_441);
    assume {:nonnull} sdv_1634 != 0;
    assume sdv_1634 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    goto L37;

  anon39_Then:
    goto L1;

  anon38_Then:
    goto L1;

  anon37_Then:
    goto L1;

  anon36_Then:
    goto L37;

  anon35_Then:
    goto L37;

  anon34_Then:
    goto L37;

  anon33_Then:
    goto L37;

  anon30_Then:
    goto L1;

  anon42_Then:
    goto L4;
}



procedure {:origName "FatResetFcb"} FatResetFcb(actual_IrpContext_203: int, actual_Fcb_69: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatResetFcb"} FatResetFcb(actual_IrpContext_203: int, actual_Fcb_69: int)
{
  var {:pointer} Tmp_2910: int;
  var {:pointer} Tmp_2911: int;
  var {:pointer} Tmp_2912: int;
  var {:pointer} Fcb_69: int;
  var vslice_dummy_var_510: int;

  anon0:
    call {:si_unique_call 3624} vslice_dummy_var_510 := __HAVOC_malloc(4);
    Fcb_69 := actual_Fcb_69;
    Tmp_2911 := Fcb_69;
    assume {:nonnull} Tmp_2911 != 0;
    assume Tmp_2911 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} Mem_T.INT4[Tmp_2911] != 1284;
    assume {:nonnull} Fcb_69 != 0;
    assume Fcb_69 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} Fcb_69 != 0;
    assume Fcb_69 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:nonnull} Fcb_69 != 0;
    assume Fcb_69 > 0;
    goto L4;

  L4:
    Tmp_2912 := Fcb_69;
    assume {:nonnull} Tmp_2912 != 0;
    assume Tmp_2912 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} Mem_T.INT4[Tmp_2912] == 1283;
    goto L13;

  L13:
    assume {:nonnull} Fcb_69 != 0;
    assume Fcb_69 > 0;
    assume {:nonnull} Fcb_69 != 0;
    assume Fcb_69 > 0;
    goto L1;

  L1:
    return;

  anon14_Then:
    assume {:partition} Mem_T.INT4[Tmp_2912] != 1283;
    Tmp_2910 := Fcb_69;
    assume {:nonnull} Tmp_2910 != 0;
    assume Tmp_2910 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Mem_T.INT4[Tmp_2910] == 1284;
    goto L13;

  anon15_Then:
    assume {:partition} Mem_T.INT4[Tmp_2910] != 1284;
    goto L1;

  anon12_Then:
    assume {:nonnull} Fcb_69 != 0;
    assume Fcb_69 > 0;
    goto L4;

  anon11_Then:
    goto L4;

  anon13_Then:
    assume {:partition} Mem_T.INT4[Tmp_2911] == 1284;
    goto L4;
}



procedure {:origName "FatCheckDirtyBit"} FatCheckDirtyBit(actual_IrpContext_204: int, actual_Vcb_111: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCheckDirtyBit"} FatCheckDirtyBit(actual_IrpContext_204: int, actual_Vcb_111: int)
{
  var {:scalar} Dirty: int;
  var {:pointer} Tmp_2914: int;
  var {:scalar} Tmp_2915: int;
  var {:scalar} VolumeLabel: int;
  var {:pointer} Tmp_2917: int;
  var {:pointer} Tmp_2918: int;
  var {:pointer} BootSectorBcb: int;
  var {:pointer} Tmp_2919: int;
  var {:pointer} Tmp_2920: int;
  var {:pointer} BootSector_3: int;
  var {:pointer} Tmp_2921: int;
  var {:scalar} Tmp_2922: int;
  var {:pointer} IrpContext_204: int;
  var {:pointer} Vcb_111: int;
  var vslice_dummy_var_511: int;
  var vslice_dummy_var_512: int;

  anon0:
    call {:si_unique_call 3625} VolumeLabel := __HAVOC_malloc(12);
    call {:si_unique_call 3626} vslice_dummy_var_511 := __HAVOC_malloc(4);
    call {:si_unique_call 3627} BootSectorBcb := __HAVOC_malloc(4);
    call {:si_unique_call 3628} BootSector_3 := __HAVOC_malloc(4);
    IrpContext_204 := actual_IrpContext_204;
    Vcb_111 := actual_Vcb_111;
    call {:si_unique_call 3629} Tmp_2917 := __HAVOC_malloc(128);
    call {:si_unique_call 3630} FatReadVolumeFile(IrpContext_204, Vcb_111, 0, 62, BootSectorBcb, BootSector_3);
    assume {:nonnull} BootSector_3 != 0;
    assume BootSector_3 > 0;
    havoc Tmp_2920;
    assume {:nonnull} Tmp_2920 != 0;
    assume Tmp_2920 > 0;
    Tmp_2921 := SectorsPerFat__PACKED_BIOS_PARAMETER_BLOCK(Tmp_2920);
    assume {:nonnull} Tmp_2921 != 0;
    assume Tmp_2921 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} Mem_T.INT4[Tmp_2921] != 0;
    assume {:nonnull} BootSector_3 != 0;
    assume BootSector_3 > 0;
    havoc Tmp_2915;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Tmp_2915 == 0;
    Dirty := 0;
    goto L49;

  L49:
    goto L14;

  L14:
    assume {:nonnull} Vcb_111 != 0;
    assume Vcb_111 > 0;
    havoc Tmp_2918;
    assume {:nonnull} Tmp_2918 != 0;
    assume Tmp_2918 > 0;
    assume {:nonnull} VolumeLabel != 0;
    assume VolumeLabel > 0;
    assume {:nonnull} VolumeLabel != 0;
    assume VolumeLabel > 0;
    assume {:nonnull} Vcb_111 != 0;
    assume Vcb_111 > 0;
    havoc Tmp_2919;
    assume {:nonnull} Tmp_2919 != 0;
    assume Tmp_2919 > 0;
    havoc Tmp_2917;
    assume {:nonnull} VolumeLabel != 0;
    assume VolumeLabel > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} Dirty != 0;
    assume {:nonnull} IrpContext_204 != 0;
    assume IrpContext_204 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:nonnull} IrpContext_204 != 0;
    assume IrpContext_204 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:nonnull} Vcb_111 != 0;
    assume Vcb_111 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    goto L23;

  L23:
    assume {:nonnull} BootSectorBcb != 0;
    assume BootSectorBcb > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} BootSectorBcb != 0;
    assume BootSectorBcb > 0;
    goto L1;

  L1:
    return;

  anon23_Then:
    goto L1;

  anon22_Then:
    goto L20;

  L20:
    assume {:nonnull} Vcb_111 != 0;
    assume Vcb_111 > 0;
    goto L23;

  anon21_Then:
    goto L20;

  anon20_Then:
    goto L20;

  anon26_Then:
    assume {:partition} Dirty == 0;
    assume {:nonnull} Vcb_111 != 0;
    assume Vcb_111 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} Vcb_111 != 0;
    assume Vcb_111 > 0;
    goto L23;

  anon19_Then:
    call {:si_unique_call 3631} vslice_dummy_var_512 := FsRtlBalanceReads(0);
    goto L23;

  anon25_Then:
    assume {:partition} Tmp_2915 != 0;
    Dirty := 1;
    goto L49;

  anon24_Then:
    assume {:partition} Mem_T.INT4[Tmp_2921] == 0;
    assume {:nonnull} BootSector_3 != 0;
    assume BootSector_3 > 0;
    havoc Tmp_2914;
    assume {:nonnull} Tmp_2914 != 0;
    assume Tmp_2914 > 0;
    Tmp_2922 := BAND(Mem_T.INT4[CurrentHead__PACKED_BOOT_SECTOR_EX(Tmp_2914)], 1);
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Tmp_2922 == 0;
    Dirty := 0;
    goto L63;

  L63:
    goto L14;

  anon27_Then:
    assume {:partition} Tmp_2922 != 0;
    Dirty := 1;
    goto L63;
}



procedure {:origName "_sdv_init28"} _sdv_init28();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init28"} _sdv_init28()
{
  var vslice_dummy_var_513: int;

  anon0:
    call {:si_unique_call 3632} vslice_dummy_var_513 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatQueueClose"} FatQueueClose(actual_CloseContext_2: int, actual_DelayClose: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatQueueClose"} FatQueueClose(actual_CloseContext_2: int, actual_DelayClose: int)
{
  var {:pointer} Tmp_2929: int;
  var {:scalar} StartWorker: int;
  var {:pointer} Tmp_2930: int;
  var {:pointer} CloseContext_2: int;
  var {:scalar} DelayClose: int;
  var vslice_dummy_var_514: int;
  var vslice_dummy_var_515: int;
  var vslice_dummy_var_516: int;
  var vslice_dummy_var_517: int;
  var vslice_dummy_var_518: int;

  anon0:
    call {:si_unique_call 3633} vslice_dummy_var_514 := __HAVOC_malloc(4);
    CloseContext_2 := actual_CloseContext_2;
    DelayClose := actual_DelayClose;
    StartWorker := 0;
    call {:si_unique_call 3634} ExAcquireFastMutexUnsafe(0);
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} DelayClose != 0;
    assume {:nonnull} CloseContext_2 != 0;
    assume CloseContext_2 > 0;
    call {:si_unique_call 3635} vslice_dummy_var_516 := sdv_InsertTailList(DelayedCloseList__FAT_DATA(FatData), GlobalLinks_CLOSE_CONTEXT(CloseContext_2));
    assume {:nonnull} CloseContext_2 != 0;
    assume CloseContext_2 > 0;
    havoc Tmp_2929;
    assume {:nonnull} CloseContext_2 != 0;
    assume CloseContext_2 > 0;
    assume {:nonnull} Tmp_2929 != 0;
    assume Tmp_2929 > 0;
    call {:si_unique_call 3636} vslice_dummy_var_517 := sdv_InsertTailList(DelayedCloseList__VCB(Tmp_2929), VcbLinks_CLOSE_CONTEXT(CloseContext_2));
    goto anon14_Then, anon14_Else;

  anon14_Else:
    goto anon12_Then, anon12_Else;

  anon12_Else:
    StartWorker := 1;
    goto L20;

  L20:
    call {:si_unique_call 3637} ExReleaseFastMutexUnsafe(0);
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} StartWorker != 0;
    call {:si_unique_call 3638} IoQueueWorkItem(0, li2bplFunctionConstant674, 0, 0);
    goto L1;

  L1:
    return;

  anon13_Then:
    assume {:partition} StartWorker == 0;
    goto L1;

  anon12_Then:
    goto L20;

  anon14_Then:
    goto L20;

  anon11_Then:
    assume {:partition} DelayClose == 0;
    assume {:nonnull} CloseContext_2 != 0;
    assume CloseContext_2 > 0;
    call {:si_unique_call 3639} vslice_dummy_var_515 := sdv_InsertTailList(AsyncCloseList__FAT_DATA(FatData), GlobalLinks_CLOSE_CONTEXT(CloseContext_2));
    assume {:nonnull} CloseContext_2 != 0;
    assume CloseContext_2 > 0;
    havoc Tmp_2930;
    assume {:nonnull} CloseContext_2 != 0;
    assume CloseContext_2 > 0;
    assume {:nonnull} Tmp_2930 != 0;
    assume Tmp_2930 > 0;
    call {:si_unique_call 3640} vslice_dummy_var_518 := sdv_InsertTailList(AsyncCloseList__VCB(Tmp_2930), VcbLinks_CLOSE_CONTEXT(CloseContext_2));
    goto anon15_Then, anon15_Else;

  anon15_Else:
    StartWorker := 1;
    goto L20;

  anon15_Then:
    goto L20;
}



procedure {:origName "FatRemoveClose"} FatRemoveClose(actual_Vcb_114: int, actual_LastVcbHint: int) returns (Tmp_2941: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatRemoveClose"} FatRemoveClose(actual_Vcb_114: int, actual_LastVcbHint: int) returns (Tmp_2941: int)
{
  var {:scalar} WorkerThread: int;
  var {:pointer} sdv_1667: int;
  var {:scalar} sdv_1668: int;
  var {:pointer} sdv_1669: int;
  var {:pointer} sdv_1671: int;
  var {:scalar} sdv_1672: int;
  var {:scalar} sdv_1673: int;
  var {:scalar} sdv_1676: int;
  var {:pointer} sdv_1678: int;
  var {:pointer} Entry_2: int;
  var {:pointer} CloseContext_3: int;
  var {:pointer} Vcb_114: int;
  var {:pointer} LastVcbHint: int;
  var vslice_dummy_var_519: int;
  var vslice_dummy_var_520: int;
  var vslice_dummy_var_521: int;
  var vslice_dummy_var_522: int;

  anon0:
    Vcb_114 := actual_Vcb_114;
    LastVcbHint := actual_LastVcbHint;
    call {:si_unique_call 3641} ExAcquireFastMutexUnsafe(0);
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} Vcb_114 != 0;
    WorkerThread := 0;
    goto L127;

  L127:
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} Vcb_114 != 0;
    goto L12;

  L12:
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} Vcb_114 != 0;
    call {:si_unique_call 3642} sdv_1672 := sdv_IsListEmpty(0);
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} sdv_1672 != 0;
    call {:si_unique_call 3643} sdv_1676 := sdv_IsListEmpty(0);
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} sdv_1676 != 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} LastVcbHint == 0;
    CloseContext_3 := 0;
    goto L33;

  L33:
    call {:si_unique_call 3644} ExReleaseFastMutexUnsafe(0);
    Tmp_2941 := CloseContext_3;
    return;

  anon50_Then:
    assume {:partition} LastVcbHint != 0;
    goto L13;

  L13:
    call {:si_unique_call 3645} sdv_1668 := sdv_IsListEmpty(0);
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} sdv_1668 != 0;
    call {:si_unique_call 3646} sdv_1673 := sdv_IsListEmpty(0);
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} sdv_1673 != 0;
    goto L64;

  L64:
    CloseContext_3 := 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} WorkerThread != 0;
    goto L33;

  anon66_Then:
    assume {:partition} WorkerThread == 0;
    goto L33;

  anon52_Then:
    assume {:partition} sdv_1673 == 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    goto L68;

  L68:
    call {:si_unique_call 3647} Entry_2 := RemoveHeadList(DelayedCloseList__FAT_DATA(FatData));
    call {:si_unique_call 3648} sdv_1667 := sdv_containing_record(Entry_2, 0);
    CloseContext_3 := sdv_1667;
    call {:si_unique_call 3649} vslice_dummy_var_519 := sdv_RemoveEntryList(0);
    goto L33;

  anon53_Then:
    goto anon54_Then, anon54_Else;

  anon54_Else:
    goto L68;

  anon54_Then:
    goto L64;

  anon51_Then:
    assume {:partition} sdv_1668 == 0;
    call {:si_unique_call 3650} Entry_2 := RemoveHeadList(AsyncCloseList__FAT_DATA(FatData));
    call {:si_unique_call 3651} sdv_1678 := sdv_containing_record(Entry_2, 0);
    CloseContext_3 := sdv_1678;
    call {:si_unique_call 3652} vslice_dummy_var_520 := sdv_RemoveEntryList(0);
    goto L33;

  anon49_Then:
    assume {:partition} sdv_1676 == 0;
    assume {:nonnull} Vcb_114 != 0;
    assume Vcb_114 > 0;
    call {:si_unique_call 3653} Entry_2 := RemoveHeadList(DelayedCloseList__VCB(Vcb_114));
    call {:si_unique_call 3654} sdv_1669 := sdv_containing_record(Entry_2, 8);
    CloseContext_3 := sdv_1669;
    call {:si_unique_call 3655} vslice_dummy_var_521 := sdv_RemoveEntryList(0);
    goto L33;

  anon48_Then:
    assume {:partition} sdv_1672 == 0;
    assume {:nonnull} Vcb_114 != 0;
    assume Vcb_114 > 0;
    call {:si_unique_call 3656} Entry_2 := RemoveHeadList(AsyncCloseList__VCB(Vcb_114));
    call {:si_unique_call 3657} sdv_1671 := sdv_containing_record(Entry_2, 8);
    CloseContext_3 := sdv_1671;
    call {:si_unique_call 3658} vslice_dummy_var_522 := sdv_RemoveEntryList(0);
    goto L33;

  anon47_Then:
    assume {:partition} Vcb_114 == 0;
    goto L13;

  anon65_Then:
    assume {:partition} Vcb_114 == 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} LastVcbHint != 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    goto L91;

  L91:
    goto anon57_Then, anon57_Else;

  anon57_Else:
    goto anon59_Then, anon59_Else;

  anon59_Else:
    goto L92;

  L92:
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L96;

  L96:
    goto anon61_Then, anon61_Else;

  anon61_Else:
    goto anon63_Then, anon63_Else;

  anon63_Else:
    goto L97;

  L97:
    goto anon62_Then, anon62_Else;

  anon62_Else:
    goto L101;

  L101:
    Vcb_114 := LastVcbHint;
    goto L12;

  anon62_Then:
    goto anon64_Then, anon64_Else;

  anon64_Else:
    goto L101;

  anon64_Then:
    goto L12;

  anon63_Then:
    goto L97;

  anon61_Then:
    goto L97;

  anon58_Then:
    goto anon60_Then, anon60_Else;

  anon60_Else:
    goto L97;

  anon60_Then:
    goto L96;

  anon59_Then:
    goto L92;

  anon57_Then:
    goto L92;

  anon55_Then:
    goto anon56_Then, anon56_Else;

  anon56_Else:
    goto L92;

  anon56_Then:
    goto L91;

  anon46_Then:
    assume {:partition} LastVcbHint == 0;
    goto L12;

  anon45_Then:
    assume {:partition} Vcb_114 == 0;
    WorkerThread := 1;
    goto L127;
}



procedure {:origName "FatFsdClose"} FatFsdClose(actual_VolumeDeviceObject_20: int, actual_Irp_80: int) returns (Tmp_2943: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdClose"} FatFsdClose(actual_VolumeDeviceObject_20: int, actual_Irp_80: int) returns (Tmp_2943: int)
{
  var {:scalar} Tmp_2944: int;
  var {:pointer} Ccb_40: int;
  var {:pointer} Fcb_71: int;
  var {:scalar} TopLevel_10: int;
  var {:scalar} Status_78: int;
  var {:pointer} FileObject_42: int;
  var {:scalar} TypeOfOpen_13: int;
  var {:scalar} Wait_13: int;
  var {:pointer} IrpSp_43: int;
  var {:scalar} sdv_1684: int;
  var {:scalar} Tmp_2945: int;
  var {:scalar} Tmp_2946: int;
  var {:pointer} sdv_1689: int;
  var {:pointer} VolumeDeviceObject_21: int;
  var {:pointer} Vcb_115: int;
  var {:dopa} {:scalar} VcbDeleted_6: int;
  var {:pointer} CloseContext_4: int;
  var {:pointer} VolumeDeviceObject_20: int;
  var {:pointer} Irp_80: int;
  var vslice_dummy_var_442: int;
  var vslice_dummy_var_443: int;
  var vslice_dummy_var_444: int;
  var vslice_dummy_var_445: int;
  var vslice_dummy_var_446: int;
  var vslice_dummy_var_447: int;

  anon0:
    call {:si_unique_call 3659} Ccb_40 := __HAVOC_malloc(4);
    call {:si_unique_call 3660} Fcb_71 := __HAVOC_malloc(4);
    call {:si_unique_call 3661} Vcb_115 := __HAVOC_malloc(4);
    call {:si_unique_call 3662} VcbDeleted_6 := __HAVOC_malloc(4);
    VolumeDeviceObject_20 := actual_VolumeDeviceObject_20;
    Irp_80 := actual_Irp_80;
    Status_78 := 0;
    assume {:nonnull} VcbDeleted_6 != 0;
    assume VcbDeleted_6 > 0;
    Mem_T.INT4[VcbDeleted_6] := 0;
    VolumeDeviceObject_21 := VolumeDeviceObject_20;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    goto L18;

  L18:
    assume {:nonnull} Irp_80 != 0;
    assume Irp_80 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_80))] := 0;
    assume {:nonnull} Irp_80 != 0;
    assume Irp_80 > 0;
    call {:si_unique_call 3663} sdv_IoCompleteRequest(0, 1);
    Tmp_2943 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon68_Then:
    goto anon49_Then, anon49_Else;

  anon49_Else:
    call {:si_unique_call 3664} KeEnterCriticalRegion();
    call {:si_unique_call 3665} TopLevel_10 := FatIsIrpTopLevel(Irp_80);
    call {:si_unique_call 3666} IrpSp_43 := sdv_IoGetCurrentIrpStackLocation(Irp_80);
    assume {:nonnull} IrpSp_43 != 0;
    assume IrpSp_43 > 0;
    havoc FileObject_42;
    call {:si_unique_call 3667} TypeOfOpen_13 := FatDecodeFileObject(FileObject_42, Vcb_115, Fcb_71, Ccb_40);
    assume {:nonnull} Ccb_40 != 0;
    assume Ccb_40 > 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    goto L44;

  L44:
    CloseContext_4 := 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} TopLevel_10 != 0;
    call {:si_unique_call 3668} sdv_1689 := IoGetCurrentProcess();
    goto anon53_Then, anon53_Else;

  anon53_Else:
    Tmp_2944 := 1;
    goto L75;

  L75:
    Wait_13 := Tmp_2944;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} TypeOfOpen_13 == 2;
    goto L78;

  L78:
    assume {:nonnull} Fcb_71 != 0;
    assume Fcb_71 > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    goto anon56_Then, anon56_Else;

  anon56_Else:
    goto L83;

  L83:
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:partition} TypeOfOpen_13 == 5;
    assume {:nonnull} Vcb_115 != 0;
    assume Vcb_115 > 0;
    havoc CloseContext_4;
    assume {:nonnull} Vcb_115 != 0;
    assume Vcb_115 > 0;
    assume {:nonnull} CloseContext_4 != 0;
    assume CloseContext_4 > 0;
    goto L88;

  L88:
    assume {:nonnull} CloseContext_4 != 0;
    assume CloseContext_4 > 0;
    assume {:nonnull} Vcb_115 != 0;
    assume Vcb_115 > 0;
    assume {:nonnull} CloseContext_4 != 0;
    assume CloseContext_4 > 0;
    assume {:nonnull} Fcb_71 != 0;
    assume Fcb_71 > 0;
    assume {:nonnull} CloseContext_4 != 0;
    assume CloseContext_4 > 0;
    assume {:nonnull} Fcb_71 != 0;
    assume Fcb_71 > 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:nonnull} Fcb_71 != 0;
    assume Fcb_71 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    Tmp_2945 := 1;
    goto L95;

  L95:
    Tmp_2946 := Tmp_2945;
    call {:si_unique_call 3669} FatQueueClose(CloseContext_4, Tmp_2946);
    goto L99;

  L99:
    call {:si_unique_call 3670} FatCompleteRequest_Real(0, Irp_80, Status_78);
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} TopLevel_10 != 0;
    goto L66;

  L66:
    call {:si_unique_call 3671} KeLeaveCriticalRegion();
    Tmp_2943 := Status_78;
    goto L1;

  anon52_Then:
    assume {:partition} TopLevel_10 == 0;
    goto L66;

  anon59_Then:
    goto L92;

  L92:
    Tmp_2945 := 0;
    goto L95;

  anon72_Then:
    goto L92;

  anon57_Then:
    assume {:partition} TypeOfOpen_13 != 5;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} TypeOfOpen_13 == 6;
    goto L103;

  L103:
    assume {:nonnull} Vcb_115 != 0;
    assume Vcb_115 > 0;
    havoc vslice_dummy_var_442;
    call {:si_unique_call 3672} CloseContext_4 := FatAllocateCloseContext(vslice_dummy_var_442);
    assume {:nonnull} CloseContext_4 != 0;
    assume CloseContext_4 > 0;
    goto L88;

  anon58_Then:
    assume {:partition} TypeOfOpen_13 != 6;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} TypeOfOpen_13 != 7;
    assume {:nonnull} Ccb_40 != 0;
    assume Ccb_40 > 0;
    havoc vslice_dummy_var_443;
    call {:si_unique_call 3673} FatDeallocateCcbStrings(vslice_dummy_var_443);
    assume {:nonnull} Ccb_40 != 0;
    assume Ccb_40 > 0;
    havoc CloseContext_4;
    assume {:nonnull} CloseContext_4 != 0;
    assume CloseContext_4 > 0;
    assume {:nonnull} Ccb_40 != 0;
    assume Ccb_40 > 0;
    goto L88;

  anon60_Then:
    assume {:partition} TypeOfOpen_13 == 7;
    goto L103;

  anon56_Then:
    goto L79;

  L79:
    assume {:nonnull} Ccb_40 != 0;
    assume Ccb_40 > 0;
    assume {:nonnull} Fcb_71 != 0;
    assume Fcb_71 > 0;
    assume {:nonnull} Vcb_115 != 0;
    assume Vcb_115 > 0;
    havoc vslice_dummy_var_444;
    havoc vslice_dummy_var_445;
    havoc vslice_dummy_var_446;
    call {:si_unique_call 3674} sdv_1684 := FatCommonClose#1(vslice_dummy_var_444, vslice_dummy_var_445, vslice_dummy_var_446, TypeOfOpen_13, Wait_13, VcbDeleted_6);
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} yogi_error != 1;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} sdv_1684 != 259;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} TypeOfOpen_13 == 5;
    goto L117;

  L117:
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} TypeOfOpen_13 == 5;
    assume {:nonnull} VcbDeleted_6 != 0;
    assume VcbDeleted_6 > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} Mem_T.INT4[VcbDeleted_6] != 0;
    CloseContext_4 := 0;
    goto L124;

  L124:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} CloseContext_4 != 0;
    call {:si_unique_call 3675} sdv_ExFreePool(0);
    goto L99;

  anon66_Then:
    assume {:partition} CloseContext_4 == 0;
    goto L99;

  anon65_Then:
    assume {:partition} Mem_T.INT4[VcbDeleted_6] == 0;
    assume {:nonnull} Vcb_115 != 0;
    assume Vcb_115 > 0;
    havoc CloseContext_4;
    assume {:nonnull} Vcb_115 != 0;
    assume Vcb_115 > 0;
    goto L124;

  anon64_Then:
    assume {:partition} TypeOfOpen_13 != 5;
    assume {:nonnull} Vcb_115 != 0;
    assume Vcb_115 > 0;
    havoc vslice_dummy_var_447;
    call {:si_unique_call 3676} CloseContext_4 := FatAllocateCloseContext(vslice_dummy_var_447);
    goto L124;

  anon62_Then:
    assume {:partition} TypeOfOpen_13 != 5;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} TypeOfOpen_13 != 6;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} TypeOfOpen_13 == 7;
    goto L117;

  anon67_Then:
    assume {:partition} TypeOfOpen_13 != 7;
    goto L99;

  anon63_Then:
    assume {:partition} TypeOfOpen_13 == 6;
    goto L117;

  anon61_Then:
    assume {:partition} sdv_1684 == 259;
    goto L83;

  anon71_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon55_Then:
    goto L79;

  anon70_Then:
    assume {:partition} TypeOfOpen_13 != 2;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} TypeOfOpen_13 != 3;
    goto L79;

  anon54_Then:
    assume {:partition} TypeOfOpen_13 == 3;
    goto L78;

  anon53_Then:
    goto L47;

  L47:
    Tmp_2944 := 0;
    goto L75;

  anon69_Then:
    assume {:partition} TopLevel_10 == 0;
    goto L47;

  anon50_Then:
    assume {:nonnull} FileObject_42 != 0;
    assume FileObject_42 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    goto L44;

  anon51_Then:
    assume {:nonnull} Ccb_40 != 0;
    assume Ccb_40 > 0;
    goto L44;

  anon49_Then:
    goto L18;
}



procedure {:origName "FatIsNameLongUnicodeValid"} FatIsNameLongUnicodeValid(actual_IrpContext_206: int, actual_Name_8: int, actual_CanContainWildcards: int, actual_PathNameOk: int, actual_LeadingBackslashOk: int) returns (Tmp_2948: int);
  free ensures {:va_keep} Tmp_2948 == 0 || Tmp_2948 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsNameLongUnicodeValid"} FatIsNameLongUnicodeValid(actual_IrpContext_206: int, actual_Name_8: int, actual_CanContainWildcards: int, actual_PathNameOk: int, actual_LeadingBackslashOk: int) returns (Tmp_2948: int)
{
  var {:scalar} i_23: int;
  var {:pointer} Tmp_2949: int;
  var {:scalar} Tmp_2950: int;
  var {:scalar} Tmp_2952: int;
  var {:pointer} Tmp_2953: int;
  var {:scalar} Tmp_2954: int;
  var {:pointer} Tmp_2955: int;
  var {:pointer} Tmp_2956: int;
  var {:scalar} Tmp_2957: int;
  var {:scalar} Tmp_2958: int;
  var {:scalar} Tmp_2959: int;
  var {:pointer} Name_8: int;
  var {:scalar} CanContainWildcards: int;

  anon0:
    Name_8 := actual_Name_8;
    CanContainWildcards := actual_CanContainWildcards;
    i_23 := 0;
    goto L5;

  L5:
    call {:si_unique_call 3677} i_23, Tmp_2949, Tmp_2950, Tmp_2952, Tmp_2953, Tmp_2954, Tmp_2955, Tmp_2956, Tmp_2957, Tmp_2958, Tmp_2959 := FatIsNameLongUnicodeValid_loop_L5(i_23, Tmp_2949, Tmp_2950, Tmp_2952, Tmp_2953, Tmp_2954, Tmp_2955, Tmp_2956, Tmp_2957, Tmp_2958, Tmp_2959, Name_8, CanContainWildcards);
    goto L5_last;

  L5_last:
    assume {:nonnull} Name_8 != 0;
    assume Name_8 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    Tmp_2954 := i_23;
    assume {:nonnull} Name_8 != 0;
    assume Name_8 > 0;
    havoc Tmp_2955;
    assume {:nonnull} Tmp_2955 != 0;
    assume Tmp_2955 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} 128 > Mem_T.INT4[Tmp_2955 + Tmp_2954 * 4];
    Tmp_2958 := i_23;
    assume {:nonnull} Name_8 != 0;
    assume Name_8 > 0;
    havoc Tmp_2949;
    assume {:nonnull} Tmp_2949 != 0;
    assume Tmp_2949 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} 0 > Mem_T.INT4[Tmp_2949 + Tmp_2958 * 4];
    Tmp_2952 := 1;
    goto L12;

  L12:
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} Tmp_2952 == 0;
    Tmp_2948 := 0;
    goto L1;

  L1:
    return;

  anon13_Then:
    assume {:partition} Tmp_2952 != 0;
    goto L8;

  L8:
    i_23 := i_23 + 1;
    goto L8_dummy;

  L8_dummy:
    assume false;
    return;

  anon15_Then:
    assume {:partition} Mem_T.INT4[Tmp_2949 + Tmp_2958 * 4] >= 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} CanContainWildcards != 0;
    Tmp_2957 := 8;
    goto L16;

  L16:
    Tmp_2959 := i_23;
    assume {:nonnull} Name_8 != 0;
    assume Name_8 > 0;
    havoc Tmp_2956;
    assume {:nonnull} Tmp_2956 != 0;
    assume Tmp_2956 > 0;
    Tmp_2950 := Mem_T.INT4[Tmp_2956 + Tmp_2959 * 4];
    assume {:nonnull} FsRtlLegalAnsiCharacterArray != 0;
    assume FsRtlLegalAnsiCharacterArray > 0;
    havoc Tmp_2953;
    assume {:nonnull} Tmp_2953 != 0;
    assume Tmp_2953 > 0;
    Tmp_2952 := BAND(Mem_T.INT4[Tmp_2953 + Tmp_2950 * 4], BOR(2, Tmp_2957));
    goto L12;

  anon12_Then:
    assume {:partition} CanContainWildcards == 0;
    Tmp_2957 := 0;
    goto L16;

  anon14_Then:
    assume {:partition} Mem_T.INT4[Tmp_2955 + Tmp_2954 * 4] >= 128;
    goto L8;

  anon11_Then:
    Tmp_2948 := 1;
    goto L1;
}



procedure {:origName "ExFreeToNPagedLookasideList"} ExFreeToNPagedLookasideList(actual_Lookaside_1: int, actual_Entry_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "ExFreeToNPagedLookasideList"} ExFreeToNPagedLookasideList(actual_Lookaside_1: int, actual_Entry_3: int)
{
  var {:pointer} Tmp_2962: int;
  var {:pointer} Lookaside_1: int;
  var vslice_dummy_var_523: int;
  var vslice_dummy_var_524: int;

  anon0:
    call {:si_unique_call 3678} vslice_dummy_var_523 := __HAVOC_malloc(4);
    Lookaside_1 := actual_Lookaside_1;
    assume {:nonnull} Lookaside_1 != 0;
    assume Lookaside_1 > 0;
    assume {:nonnull} Lookaside_1 != 0;
    assume Lookaside_1 > 0;
    Tmp_2962 := ListHead__GENERAL_LOOKASIDE(L__NPAGED_LOOKASIDE_LIST(Lookaside_1));
    assume {:nonnull} Lookaside_1 != 0;
    assume Lookaside_1 > 0;
    assume {:nonnull} Tmp_2962 != 0;
    assume Tmp_2962 > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:nonnull} Lookaside_1 != 0;
    assume Lookaside_1 > 0;
    assume {:nonnull} Lookaside_1 != 0;
    assume Lookaside_1 > 0;
    goto L1;

  L1:
    return;

  anon6_Then:
    goto anon5_Then, anon5_Else;

  anon5_Else:
    goto L1;

  anon5_Then:
    call {:si_unique_call 3679} vslice_dummy_var_524 := __HAVOC_malloc(1);
    goto L1;
}



procedure {:origName "PsGetCurrentThread"} PsGetCurrentThread() returns (Tmp_2963: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "PsGetCurrentThread"} PsGetCurrentThread() returns (Tmp_2963: int)
{

  anon0:
    goto anon3_Then, anon3_Else;

  anon3_Else:
    Tmp_2963 := 0;
    goto L1;

  L1:
    return;

  anon3_Then:
    call {:si_unique_call 3680} Tmp_2963 := __HAVOC_malloc(1);
    goto L1;
}



procedure {:origName "InitializeListHead"} InitializeListHead(actual_ListHead_3: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "InitializeListHead"} InitializeListHead(actual_ListHead_3: int)
{
  var {:pointer} ListHead_3: int;
  var vslice_dummy_var_525: int;

  anon0:
    call {:si_unique_call 3681} vslice_dummy_var_525 := __HAVOC_malloc(4);
    ListHead_3 := actual_ListHead_3;
    assume {:nonnull} ListHead_3 != 0;
    assume ListHead_3 > 0;
    assume {:nonnull} ListHead_3 != 0;
    assume ListHead_3 > 0;
    return;
}



procedure {:origName "RtlConvertLongToLuid"} RtlConvertLongToLuid(actual_Long: int) returns (SD2_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RtlConvertLongToLuid"} RtlConvertLongToLuid(actual_Long: int) returns (SD2_1: int)
{
  var {:scalar} Tmp_2: int;
  var {:scalar} TempLi: int;
  var {:scalar} TempLuid: int;
  var {:scalar} Long: int;

  anon0:
    call {:si_unique_call 3682} Tmp_2 := __HAVOC_malloc(8);
    call {:si_unique_call 3683} TempLi := __HAVOC_malloc(20);
    call {:si_unique_call 3684} TempLuid := __HAVOC_malloc(8);
    Long := actual_Long;
    assume {:nonnull} TempLi != 0;
    assume TempLi > 0;
    assume {:nonnull} TempLi != 0;
    assume TempLi > 0;
    assume {:nonnull} TempLuid != 0;
    assume TempLuid > 0;
    assume {:nonnull} TempLi != 0;
    assume TempLi > 0;
    assume {:nonnull} TempLuid != 0;
    assume TempLuid > 0;
    assume {:nonnull} TempLuid != 0;
    assume TempLuid > 0;
    assume {:nonnull} Tmp_2 != 0;
    assume Tmp_2 > 0;
    assume {:nonnull} TempLuid != 0;
    assume TempLuid > 0;
    assume {:nonnull} Tmp_2 != 0;
    assume Tmp_2 > 0;
    SD2_1 := Tmp_2;
    return;
}



procedure {:origName "RemoveHeadList"} RemoveHeadList(actual_ListHead_4: int) returns (Tmp_2968: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "RemoveHeadList"} RemoveHeadList(actual_ListHead_4: int) returns (Tmp_2968: int)
{
  var {:pointer} Entry_4: int;
  var {:pointer} Flink: int;
  var {:pointer} ListHead_4: int;

  anon0:
    ListHead_4 := actual_ListHead_4;
    assume {:nonnull} ListHead_4 != 0;
    assume ListHead_4 > 0;
    havoc Entry_4;
    assume {:nonnull} Entry_4 != 0;
    assume Entry_4 > 0;
    havoc Flink;
    assume {:nonnull} ListHead_4 != 0;
    assume ListHead_4 > 0;
    assume {:nonnull} Flink != 0;
    assume Flink > 0;
    Tmp_2968 := Entry_4;
    return;
}



procedure {:origName "FatExplicitDeviceAccessGranted"} FatExplicitDeviceAccessGranted(actual_IrpContext_207: int, actual_DeviceObject_11: int, actual_AccessState_1: int, actual_ProcessorMode: int) returns (Tmp_2970: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatExplicitDeviceAccessGranted"} FatExplicitDeviceAccessGranted(actual_IrpContext_207: int, actual_DeviceObject_11: int, actual_AccessState_1: int, actual_ProcessorMode: int) returns (Tmp_2970: int)
{
  var {:scalar} Status_79: int;
  var {:scalar} PrivilegeSet: int;
  var {:scalar} sdv_1697: int;
  var {:pointer} EffectiveToken: int;
  var {:pointer} OriginalAccessToken: int;
  var {:pointer} RestrictedAccessToken: int;
  var {:pointer} AccessState_1: int;
  var {:scalar} ProcessorMode: int;
  var boogieTmp: int;
  var vslice_dummy_var_526: int;
  var vslice_dummy_var_527: int;
  var vslice_dummy_var_528: int;
  var vslice_dummy_var_529: int;
  var vslice_dummy_var_448: int;

  anon0:
    call {:si_unique_call 3685} vslice_dummy_var_526 := __HAVOC_malloc(8);
    call {:si_unique_call 3686} PrivilegeSet := __HAVOC_malloc(12);
    call {:si_unique_call 3687} RestrictedAccessToken := __HAVOC_malloc(4);
    AccessState_1 := actual_AccessState_1;
    ProcessorMode := actual_ProcessorMode;
    assume {:nonnull} AccessState_1 != 0;
    assume AccessState_1 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    Tmp_2970 := 0;
    goto L1;

  L1:
    return;

  anon9_Then:
    assume {:nonnull} PrivilegeSet != 0;
    assume PrivilegeSet > 0;
    assume {:nonnull} PrivilegeSet != 0;
    assume PrivilegeSet > 0;
    assume {:nonnull} PrivilegeSet != 0;
    assume PrivilegeSet > 0;
    call {:si_unique_call 3688} boogieTmp := RtlConvertLongToLuid(28);
    assume {:nonnull} PrivilegeSet != 0;
    assume PrivilegeSet > 0;
    call {:si_unique_call 3689} sdv_1697 := corral_nondet();
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} sdv_1697 != 0;
    Tmp_2970 := 0;
    goto L1;

  anon10_Then:
    assume {:partition} sdv_1697 == 0;
    call {:si_unique_call 3690} SeLockSubjectContext(0);
    assume {:nonnull} AccessState_1 != 0;
    assume AccessState_1 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} AccessState_1 != 0;
    assume AccessState_1 > 0;
    EffectiveToken := ClientToken__SECURITY_SUBJECT_CONTEXT(SubjectSecurityContext__ACCESS_STATE(AccessState_1));
    goto L30;

  L30:
    assume {:nonnull} EffectiveToken != 0;
    assume EffectiveToken > 0;
    havoc OriginalAccessToken;
    call {:si_unique_call 3691} Status_79 := FatCreateRestrictEveryoneToken(OriginalAccessToken, RestrictedAccessToken);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Status_79 >= 0;
    assume {:nonnull} EffectiveToken != 0;
    assume EffectiveToken > 0;
    assume {:nonnull} RestrictedAccessToken != 0;
    assume RestrictedAccessToken > 0;
    call {:si_unique_call 3692} vslice_dummy_var_529 := IoGetFileObjectGenericMapping();
    assume {:nonnull} AccessState_1 != 0;
    assume AccessState_1 > 0;
    havoc vslice_dummy_var_448;
    call {:si_unique_call 3693} vslice_dummy_var_527 := SeAccessCheck(0, 0, 0, vslice_dummy_var_448, 0, 0, 0, ProcessorMode, 0, 0);
    assume {:nonnull} EffectiveToken != 0;
    assume EffectiveToken > 0;
    call {:si_unique_call 3694} SeUnlockSubjectContext(0);
    call {:si_unique_call 3695} vslice_dummy_var_528 := sdv_ObDereferenceObject(0);
    Tmp_2970 := Status_79;
    goto L1;

  anon12_Then:
    assume {:partition} 0 > Status_79;
    call {:si_unique_call 3696} SeReleaseSubjectContext(0);
    Tmp_2970 := Status_79;
    goto L1;

  anon11_Then:
    assume {:nonnull} AccessState_1 != 0;
    assume AccessState_1 > 0;
    EffectiveToken := PrimaryToken__SECURITY_SUBJECT_CONTEXT(SubjectSecurityContext__ACCESS_STATE(AccessState_1));
    goto L30;
}



procedure {:origName "FsRtlSetupAdvancedHeader"} FsRtlSetupAdvancedHeader(actual_AdvHdr: int, actual_FMutex: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FsRtlSetupAdvancedHeader"} FsRtlSetupAdvancedHeader(actual_AdvHdr: int, actual_FMutex: int)
{
  var {:pointer} localAdvHdr: int;
  var {:pointer} AdvHdr: int;
  var {:pointer} FMutex: int;
  var vslice_dummy_var_530: int;

  anon0:
    call {:si_unique_call 3697} vslice_dummy_var_530 := __HAVOC_malloc(4);
    AdvHdr := actual_AdvHdr;
    FMutex := actual_FMutex;
    localAdvHdr := AdvHdr;
    assume {:nonnull} localAdvHdr != 0;
    assume localAdvHdr > 0;
    assume {:nonnull} localAdvHdr != 0;
    assume localAdvHdr > 0;
    assume {:nonnull} localAdvHdr != 0;
    assume localAdvHdr > 0;
    assume {:nonnull} localAdvHdr != 0;
    assume localAdvHdr > 0;
    call {:si_unique_call 3698} InitializeListHead(FilterContexts__FSRTL_ADVANCED_FCB_HEADER(localAdvHdr));
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:partition} FMutex != 0;
    assume {:nonnull} localAdvHdr != 0;
    assume localAdvHdr > 0;
    goto L12;

  L12:
    assume {:nonnull} localAdvHdr != 0;
    assume localAdvHdr > 0;
    assume {:nonnull} localAdvHdr != 0;
    assume localAdvHdr > 0;
    return;

  anon3_Then:
    assume {:partition} FMutex == 0;
    goto L12;
}



procedure {:origName "KeGetCurrentProcessorNumber"} KeGetCurrentProcessorNumber() returns (Tmp_2974: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "KeGetCurrentProcessorNumber"} KeGetCurrentProcessorNumber() returns (Tmp_2974: int)
{
  var {:scalar} sdv_1701: int;

  anon0:
    Tmp_2974 := sdv_1701;
    return;
}



procedure {:origName "FatIsIoRangeValid"} FatIsIoRangeValid(actual_Vcb_116: int, actual_structPtr888Start: int, actual_Length_21: int) returns (Tmp_2976: int);
  modifies alloc;
  free ensures {:va_keep} Tmp_2976 == 1 || Tmp_2976 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatIsIoRangeValid"} FatIsIoRangeValid(actual_Vcb_116: int, actual_structPtr888Start: int, actual_Length_21: int) returns (Tmp_2976: int)
{
  var {:scalar} Start: int;
  var {:scalar} Tmp_2977: int;
  var {:pointer} structPtr888Start: int;
  var {:scalar} Length_21: int;

  anon0:
    call {:si_unique_call 3699} Start := __HAVOC_malloc(20);
    structPtr888Start := actual_structPtr888Start;
    Length_21 := actual_Length_21;
    assume {:nonnull} Start != 0;
    assume Start > 0;
    assume {:nonnull} structPtr888Start != 0;
    assume structPtr888Start > 0;
    assume {:nonnull} Start != 0;
    assume Start > 0;
    assume {:nonnull} structPtr888Start != 0;
    assume structPtr888Start > 0;
    assume {:nonnull} Start != 0;
    assume Start > 0;
    assume {:nonnull} structPtr888Start != 0;
    assume structPtr888Start > 0;
    assume {:nonnull} Start != 0;
    assume Start > 0;
    assume {:nonnull} structPtr888Start != 0;
    assume structPtr888Start > 0;
    assume {:nonnull} Start != 0;
    assume Start > 0;
    assume {:nonnull} structPtr888Start != 0;
    assume structPtr888Start > 0;
    assume {:nonnull} Start != 0;
    assume Start > 0;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    goto L5;

  L5:
    Tmp_2977 := 0;
    goto L6;

  L6:
    Tmp_2976 := Tmp_2977;
    return;

  anon5_Then:
    assume {:nonnull} Start != 0;
    assume Start > 0;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    Tmp_2977 := 1;
    goto L6;

  anon6_Then:
    goto L5;
}



procedure {:origName "_sdv_init1"} _sdv_init1();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init1"} _sdv_init1()
{
  var vslice_dummy_var_531: int;

  anon0:
    call {:si_unique_call 3700} vslice_dummy_var_531 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatCreateRestrictEveryoneToken"} FatCreateRestrictEveryoneToken(actual_Token: int, actual_RestrictedToken: int) returns (Tmp_2981: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCreateRestrictEveryoneToken"} FatCreateRestrictEveryoneToken(actual_Token: int, actual_RestrictedToken: int) returns (Tmp_2981: int)
{
  var {:scalar} Status_80: int;
  var {:scalar} SidsToDisable: int;
  var {:pointer} RestrictedToken: int;

  anon0:
    call {:si_unique_call 3701} SidsToDisable := __HAVOC_malloc(8);
    RestrictedToken := actual_RestrictedToken;
    Status_80 := 0;
    assume {:nonnull} RestrictedToken != 0;
    assume RestrictedToken > 0;
    assume {:nonnull} SidsToDisable != 0;
    assume SidsToDisable > 0;
    assume {:nonnull} SidsToDisable != 0;
    assume SidsToDisable > 0;
    assume {:nonnull} SeExports != 0;
    assume SeExports > 0;
    assume {:nonnull} SidsToDisable != 0;
    assume SidsToDisable > 0;
    call {:si_unique_call 3702} Status_80 := corral_nondet();
    Tmp_2981 := Status_80;
    return;
}



procedure {:origName "FatCheckFileAccess"} FatCheckFileAccess(actual_IrpContext_208: int, actual_DirentAttributes: int, actual_DesiredAccess_14: int) returns (Tmp_2983: int);
  free ensures {:va_keep} Tmp_2983 == 0 || Tmp_2983 == 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCheckFileAccess"} FatCheckFileAccess(actual_IrpContext_208: int, actual_DirentAttributes: int, actual_DesiredAccess_14: int) returns (Tmp_2983: int)
{
  var {:scalar} AccessMask: int;
  var {:scalar} Result_7: int;
  var {:scalar} DirentAttributes: int;
  var {:pointer} DesiredAccess_14: int;

  anon0:
    DirentAttributes := actual_DirentAttributes;
    DesiredAccess_14 := actual_DesiredAccess_14;
    Result_7 := 1;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} BAND(DirentAttributes, 8) != 0;
    goto L7;

  L7:
    Result_7 := 0;
    goto L9;

  L9:
    Tmp_2983 := Result_7;
    return;

  anon17_Then:
    assume {:partition} BAND(DirentAttributes, 8) == 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} BAND(DirentAttributes, 64) == 0;
    assume {:nonnull} DesiredAccess_14 != 0;
    assume DesiredAccess_14 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_14], -18809344) != 0;
    Result_7 := 0;
    goto L9;

  anon14_Then:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_14], -18809344) == 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} BAND(DirentAttributes, 1) != 0;
    AccessMask := 18809273;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} BAND(DirentAttributes, 16) != 0;
    AccessMask := BOR(AccessMask, BOR(BOR(2, 4), 64));
    goto L17;

  L17:
    assume {:nonnull} DesiredAccess_14 != 0;
    assume DesiredAccess_14 > 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_14], BNOT(AccessMask)) != 0;
    Result_7 := 0;
    goto L9;

  anon16_Then:
    assume {:partition} BAND(Mem_T.INT4[DesiredAccess_14], BNOT(AccessMask)) == 0;
    goto L9;

  anon18_Then:
    assume {:partition} BAND(DirentAttributes, 16) == 0;
    goto L17;

  anon15_Then:
    assume {:partition} BAND(DirentAttributes, 1) == 0;
    goto L9;

  anon13_Then:
    assume {:partition} BAND(DirentAttributes, 64) != 0;
    goto L7;
}



procedure {:origName "InsertHeadList"} InsertHeadList(actual_ListHead_5: int, actual_Entry_5: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "InsertHeadList"} InsertHeadList(actual_ListHead_5: int, actual_Entry_5: int)
{
  var {:pointer} Flink_1: int;
  var {:pointer} ListHead_5: int;
  var {:pointer} Entry_5: int;
  var vslice_dummy_var_532: int;

  anon0:
    call {:si_unique_call 3703} vslice_dummy_var_532 := __HAVOC_malloc(4);
    ListHead_5 := actual_ListHead_5;
    Entry_5 := actual_Entry_5;
    assume {:nonnull} ListHead_5 != 0;
    assume ListHead_5 > 0;
    havoc Flink_1;
    assume {:nonnull} Entry_5 != 0;
    assume Entry_5 > 0;
    assume {:nonnull} Entry_5 != 0;
    assume Entry_5 > 0;
    assume {:nonnull} Flink_1 != 0;
    assume Flink_1 > 0;
    assume {:nonnull} ListHead_5 != 0;
    assume ListHead_5 > 0;
    return;
}



procedure {:origName "FatPostStackOverflowRead"} FatPostStackOverflowRead(actual_IrpContext_209: int, actual_Irp_81: int, actual_Fcb_72: int) returns (Tmp_2987: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPostStackOverflowRead"} FatPostStackOverflowRead(actual_IrpContext_209: int, actual_Irp_81: int, actual_Fcb_72: int) returns (Tmp_2987: int)
{
  var {:pointer} Tmp_2988: int;
  var {:scalar} Event_14: int;
  var {:pointer} sdv_1704: int;
  var {:pointer} Vcb_117: int;
  var {:pointer} Resource_14: int;
  var {:pointer} IrpContext_209: int;
  var {:pointer} Irp_81: int;
  var {:pointer} Fcb_72: int;
  var vslice_dummy_var_533: int;
  var vslice_dummy_var_534: int;

  anon0:
    call {:si_unique_call 3704} Event_14 := __HAVOC_malloc(124);
    IrpContext_209 := actual_IrpContext_209;
    Irp_81 := actual_Irp_81;
    Fcb_72 := actual_Fcb_72;
    call {:si_unique_call 3705} KeInitializeEvent(Event_14, 0, 0);
    assume {:nonnull} Irp_81 != 0;
    assume Irp_81 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} Fcb_72 != 0;
    assume Fcb_72 > 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:nonnull} Fcb_72 != 0;
    assume Fcb_72 > 0;
    havoc Resource_14;
    goto L13;

  L13:
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} Resource_14 != 0;
    call {:si_unique_call 3706} vslice_dummy_var_533 := ExAcquireResourceSharedLite(0, 1);
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} yogi_error != 1;
    goto L14;

  L14:
    Tmp_2988 := Fcb_72;
    assume {:nonnull} Tmp_2988 != 0;
    assume Tmp_2988 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Mem_T.INT4[Tmp_2988] == 1281;
    Vcb_117 := Fcb_72;
    goto L20;

  L20:
    call {:si_unique_call 3707} FatPrePostIrp(IrpContext_209, Irp_81);
    call {:si_unique_call 3708} sdv_1704 := sdv_KeGetCurrentThread();
    assume {:nonnull} Vcb_117 != 0;
    assume Vcb_117 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:nonnull} IrpContext_209 != 0;
    assume IrpContext_209 > 0;
    goto L31;

  L31:
    call {:si_unique_call 3709} vslice_dummy_var_534 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Resource_14 != 0;
    call {:si_unique_call 3710} ExReleaseResourceLite(0);
    goto L39;

  L39:
    Tmp_2987 := 259;
    goto LM2;

  LM2:
    return;

  anon19_Then:
    assume {:partition} Resource_14 == 0;
    goto L39;

  anon18_Then:
    goto L31;

  anon21_Then:
    assume {:partition} Mem_T.INT4[Tmp_2988] != 1281;
    assume {:nonnull} Fcb_72 != 0;
    assume Fcb_72 > 0;
    havoc Vcb_117;
    goto L20;

  anon20_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon17_Then:
    assume {:partition} Resource_14 == 0;
    goto L14;

  anon16_Then:
    goto L10;

  L10:
    assume {:nonnull} Fcb_72 != 0;
    assume Fcb_72 > 0;
    havoc Resource_14;
    goto L13;

  anon15_Then:
    goto L10;
}



procedure {:origName "FatCommonRead"} FatCommonRead(actual_IrpContext_210: int, actual_Irp_82: int) returns (Tmp_2990: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonRead"} FatCommonRead(actual_IrpContext_210: int, actual_Irp_82: int) returns (Tmp_2990: int)
{
  var {:scalar} VolumeSize_1: int;
  var {:scalar} Tmp_2991: int;
  var {:scalar} Tmp_2992: int;
  var {:pointer} SystemBuffer_1: int;
  var {:pointer} Ccb_41: int;
  var {:scalar} sdv_1707: int;
  var {:scalar} NonCachedIo_1: int;
  var {:scalar} Tmp_2993: int;
  var {:pointer} Tmp_2994: int;
  var {:scalar} sdv_1710: int;
  var {:scalar} Tmp_2996: int;
  var {:scalar} Tmp_2997: int;
  var {:scalar} sdv_1711: int;
  var {:pointer} Tmp_2999: int;
  var {:scalar} ActualBytesRead: int;
  var {:scalar} ValidDataLength_3: int;
  var {:scalar} Tmp_3000: int;
  var {:pointer} Tmp_3001: int;
  var {:scalar} FileSize_1: int;
  var {:scalar} Status_81: int;
  var {:pointer} FileObject_43: int;
  var {:scalar} Tmp_3003: int;
  var {:scalar} BytesToRead: int;
  var {:scalar} sdv_1714: int;
  var {:pointer} Tmp_3004: int;
  var {:scalar} Tmp_3005: int;
  var {:scalar} StartingLbo_1: int;
  var {:pointer} Tmp_3006: int;
  var {:scalar} TypeOfOpen_14: int;
  var {:pointer} Tmp_3007: int;
  var {:scalar} sdv_1715: int;
  var {:scalar} Wait_14: int;
  var {:pointer} IrpSp_44: int;
  var {:scalar} StartingVbo_9: int;
  var {:scalar} sdv_1717: int;
  var {:scalar} Tmp_3009: int;
  var {:scalar} PostIrp_2: int;
  var {:pointer} Tmp_3010: int;
  var {:pointer} Tmp_3011: int;
  var {:pointer} Tmp_3012: int;
  var {:scalar} sdv_1720: int;
  var {:scalar} sdv_1721: int;
  var {:scalar} FcbOrDcbAcquired_1: int;
  var {:pointer} sdv_1722: int;
  var {:pointer} sdv_1723: int;
  var {:scalar} RequestedByteCount: int;
  var {:pointer} Tmp_3013: int;
  var {:scalar} Tmp_3014: int;
  var {:scalar} sdv_1724: int;
  var {:pointer} Vcb_118: int;
  var {:scalar} sdv_1725: int;
  var {:pointer} Tmp_3015: int;
  var {:scalar} Tmp_3017: int;
  var {:scalar} SectorSize_8: int;
  var {:scalar} StackFatIoContext_1: int;
  var {:scalar} OplockPostIrp_4: int;
  var {:pointer} Stats_11: int;
  var {:pointer} Tmp_3018: int;
  var {:scalar} sdv_1728: int;
  var {:scalar} PagingIo_1: int;
  var {:scalar} StartingByte_1: int;
  var {:scalar} sdv_1729: int;
  var {:pointer} FcbOrDcb_16: int;
  var {:pointer} Tmp_3019: int;
  var {:scalar} sdv_1730: int;
  var {:scalar} ZeroingOffset: int;
  var {:pointer} Tmp_3020: int;
  var {:scalar} SynchronousIo_1: int;
  var {:scalar} sdv_1731: int;
  var {:scalar} sdv_1732: int;
  var {:pointer} Tmp_3021: int;
  var {:scalar} ByteCount_22: int;
  var {:pointer} Tmp_3023: int;
  var {:scalar} Tmp_3024: int;
  var {:pointer} IrpContext_210: int;
  var {:pointer} Irp_82: int;
  var vslice_dummy_var_535: int;
  var vslice_dummy_var_536: int;
  var vslice_dummy_var_537: int;
  var vslice_dummy_var_449: int;
  var vslice_dummy_var_450: int;
  var vslice_dummy_var_451: int;
  var vslice_dummy_var_452: int;
  var vslice_dummy_var_453: int;
  var vslice_dummy_var_454: int;
  var vslice_dummy_var_455: int;
  var vslice_dummy_var_456: int;
  var vslice_dummy_var_457: int;
  var vslice_dummy_var_458: int;
  var vslice_dummy_var_459: int;
  var vslice_dummy_var_460: int;
  var vslice_dummy_var_461: int;

  anon0:
    call {:si_unique_call 3711} Ccb_41 := __HAVOC_malloc(4);
    call {:si_unique_call 3712} Vcb_118 := __HAVOC_malloc(4);
    call {:si_unique_call 3713} StackFatIoContext_1 := __HAVOC_malloc(160);
    call {:si_unique_call 3714} StartingByte_1 := __HAVOC_malloc(20);
    call {:si_unique_call 3715} FcbOrDcb_16 := __HAVOC_malloc(4);
    IrpContext_210 := actual_IrpContext_210;
    Irp_82 := actual_Irp_82;
    PostIrp_2 := 0;
    OplockPostIrp_4 := 0;
    FcbOrDcbAcquired_1 := 0;
    SystemBuffer_1 := 0;
    call {:si_unique_call 3716} IrpSp_44 := sdv_IoGetCurrentIrpStackLocation(Irp_82);
    assume {:nonnull} IrpSp_44 != 0;
    assume IrpSp_44 > 0;
    havoc FileObject_43;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_2992;
    goto anon272_Then, anon272_Else;

  anon272_Else:
    assume {:partition} Tmp_2992 == 0;
    Wait_14 := 0;
    goto L548;

  L548:
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    havoc Tmp_3009;
    goto anon273_Then, anon273_Else;

  anon273_Else:
    assume {:partition} Tmp_3009 == 0;
    PagingIo_1 := 0;
    goto L552;

  L552:
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    havoc Tmp_3014;
    goto anon274_Then, anon274_Else;

  anon274_Else:
    assume {:partition} Tmp_3014 == 0;
    NonCachedIo_1 := 0;
    goto L556;

  L556:
    assume {:nonnull} FileObject_43 != 0;
    assume FileObject_43 > 0;
    havoc Tmp_2991;
    goto anon275_Then, anon275_Else;

  anon275_Else:
    assume {:partition} Tmp_2991 == 0;
    SynchronousIo_1 := 0;
    goto L560;

  L560:
    assume {:nonnull} IrpSp_44 != 0;
    assume IrpSp_44 > 0;
    assume {:nonnull} StartingByte_1 != 0;
    assume StartingByte_1 > 0;
    assume {:nonnull} IrpSp_44 != 0;
    assume IrpSp_44 > 0;
    assume {:nonnull} StartingByte_1 != 0;
    assume StartingByte_1 > 0;
    assume {:nonnull} IrpSp_44 != 0;
    assume IrpSp_44 > 0;
    assume {:nonnull} StartingByte_1 != 0;
    assume StartingByte_1 > 0;
    assume {:nonnull} IrpSp_44 != 0;
    assume IrpSp_44 > 0;
    assume {:nonnull} StartingByte_1 != 0;
    assume StartingByte_1 > 0;
    assume {:nonnull} IrpSp_44 != 0;
    assume IrpSp_44 > 0;
    assume {:nonnull} StartingByte_1 != 0;
    assume StartingByte_1 > 0;
    assume {:nonnull} StartingByte_1 != 0;
    assume StartingByte_1 > 0;
    havoc StartingVbo_9;
    assume {:nonnull} IrpSp_44 != 0;
    assume IrpSp_44 > 0;
    havoc ByteCount_22;
    RequestedByteCount := ByteCount_22;
    goto anon276_Then, anon276_Else;

  anon276_Else:
    assume {:partition} ByteCount_22 != 0;
    call {:si_unique_call 3717} TypeOfOpen_14 := FatDecodeFileObject(FileObject_43, Vcb_118, FcbOrDcb_16, Ccb_41);
    goto anon203_Then, anon203_Else;

  anon203_Else:
    assume {:partition} TypeOfOpen_14 == 4;
    NonCachedIo_1 := 1;
    goto L51;

  L51:
    goto anon204_Then, anon204_Else;

  anon204_Else:
    assume {:partition} PagingIo_1 != 0;
    call {:si_unique_call 3718} sdv_1721 := KeGetCurrentProcessorNumber();
    Tmp_3003 := sdv_1721;
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc Tmp_3019;
    assume {:nonnull} Tmp_3019 != 0;
    assume Tmp_3019 > 0;
    Stats_11 := Common__FILE_SYSTEM_STATISTICS(Tmp_3019 + Tmp_3003 * 240);
    goto anon277_Then, anon277_Else;

  anon277_Else:
    assume {:partition} TypeOfOpen_14 == 2;
    assume {:nonnull} Stats_11 != 0;
    assume Stats_11 > 0;
    assume {:nonnull} Stats_11 != 0;
    assume Stats_11 > 0;
    goto L63;

  L63:
    goto anon207_Then, anon207_Else;

  anon207_Else:
    assume {:partition} TypeOfOpen_14 == 2;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    goto L53;

  L53:
    goto anon205_Then, anon205_Else;

  anon205_Else:
    assume {:partition} NonCachedIo_1 != 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    goto anon210_Then, anon210_Else;

  anon210_Else:
    goto L72;

  L72:
    call {:si_unique_call 3719} sdv_RtlZeroMemory(0, 36);
    goto anon212_Then, anon212_Else;

  anon212_Else:
    assume {:partition} Wait_14 != 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_3013;
    assume {:nonnull} Tmp_3013 != 0;
    assume Tmp_3013 > 0;
    call {:si_unique_call 3720} KeInitializeEvent(SyncEvent_unnamed_tag_63(Wait__FAT_IO_CONTEXT(Tmp_3013)), 0, 0);
    goto L69;

  L69:
    goto anon209_Then, anon209_Else;

  anon209_Else:
    assume {:partition} TypeOfOpen_14 == 5;
    goto L93;

  L93:
    assume {:nonnull} StartingByte_1 != 0;
    assume StartingByte_1 > 0;
    havoc StartingLbo_1;
    goto anon278_Then, anon278_Else;

  anon278_Else:
    assume {:partition} TypeOfOpen_14 == 4;
    assume {:nonnull} Ccb_41 != 0;
    assume Ccb_41 > 0;
    goto anon214_Then, anon214_Else;

  anon214_Else:
    goto L102;

  L102:
    assume {:nonnull} Ccb_41 != 0;
    assume Ccb_41 > 0;
    goto anon215_Then, anon215_Else;

  anon215_Else:
    goto L106;

  L106:
    assume {:nonnull} Ccb_41 != 0;
    assume Ccb_41 > 0;
    goto anon216_Then, anon216_Else;

  anon216_Else:
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    goto anon220_Then, anon220_Else;

  anon220_Else:
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc Tmp_2997;
    goto L142;

  L142:
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc VolumeSize_1;
    goto anon280_Then, anon280_Else;

  anon280_Else:
    assume {:partition} StartingLbo_1 >= VolumeSize_1;
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    call {:si_unique_call 3721} FatCompleteRequest_Real(IrpContext_210, Irp_82, -1073741807);
    Tmp_2990 := -1073741807;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon280_Then:
    assume {:partition} VolumeSize_1 > StartingLbo_1;
    goto anon221_Then, anon221_Else;

  anon221_Else:
    assume {:partition} ByteCount_22 > VolumeSize_1 - StartingLbo_1;
    RequestedByteCount := VolumeSize_1 - StartingLbo_1;
    ByteCount_22 := RequestedByteCount;
    goto anon281_Then, anon281_Else;

  anon281_Else:
    assume {:partition} Wait_14 == 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_3021;
    assume {:nonnull} Tmp_3021 != 0;
    assume Tmp_3021 > 0;
    goto L108;

  L108:
    call {:si_unique_call 3722} FatLockUserBuffer(IrpContext_210, Irp_82, 1, ByteCount_22);
    goto L111;

  L111:
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc vslice_dummy_var_449;
    call {:si_unique_call 3723} FatSingleAsync(IrpContext_210, vslice_dummy_var_449, StartingLbo_1, ByteCount_22, Irp_82);
    goto anon217_Then, anon217_Else;

  anon217_Else:
    assume {:partition} Wait_14 != 0;
    call {:si_unique_call 3724} FatWaitSync(IrpContext_210);
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    Status_81 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_82))];
    goto anon279_Then, anon279_Else;

  anon279_Else:
    assume {:partition} Status_81 >= 0;
    goto L122;

  L122:
    goto anon218_Then, anon218_Else;

  anon218_Else:
    assume {:partition} SynchronousIo_1 != 0;
    goto anon219_Then, anon219_Else;

  anon219_Else:
    assume {:partition} PagingIo_1 == 0;
    assume {:nonnull} FileObject_43 != 0;
    assume FileObject_43 > 0;
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    goto L123;

  L123:
    call {:si_unique_call 3725} FatCompleteRequest_Real(IrpContext_210, Irp_82, Status_81);
    Tmp_2990 := Status_81;
    goto L1;

  anon219_Then:
    assume {:partition} PagingIo_1 != 0;
    goto L123;

  anon218_Then:
    assume {:partition} SynchronousIo_1 == 0;
    goto L123;

  anon279_Then:
    assume {:partition} 0 > Status_81;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    call {:si_unique_call 3726} sdv_1717 := corral_nondet();
    call {:si_unique_call 3727} ExRaiseStatus(sdv_1717);
    goto L122;

  anon217_Then:
    assume {:partition} Wait_14 == 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    call {:si_unique_call 3728} FatDeleteIrpContext_Real(IrpContext_210);
    Tmp_2990 := 259;
    goto L1;

  anon281_Then:
    assume {:partition} Wait_14 != 0;
    goto L108;

  anon221_Then:
    assume {:partition} VolumeSize_1 - StartingLbo_1 >= ByteCount_22;
    goto L108;

  anon220_Then:
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc Tmp_2997;
    goto L142;

  anon216_Then:
    goto L108;

  anon215_Then:
    call {:si_unique_call 3729} vslice_dummy_var_535 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon282_Then, anon282_Else;

  anon282_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    goto anon222_Then, anon222_Else;

  anon222_Else:
    goto L158;

  L158:
    call {:si_unique_call 3730} ExReleaseResourceLite(0);
    assume {:nonnull} Ccb_41 != 0;
    assume Ccb_41 > 0;
    goto L106;

  anon222_Then:
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc vslice_dummy_var_450;
    call {:si_unique_call 3731} vslice_dummy_var_536 := FatFlushVolume(IrpContext_210, vslice_dummy_var_450, 1);
    goto anon283_Then, anon283_Else;

  anon283_Else:
    assume {:partition} yogi_error != 1;
    goto L158;

  anon283_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon282_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon214_Then:
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc vslice_dummy_var_451;
    call {:si_unique_call 3732} FatQuickVerifyVcb(IrpContext_210, vslice_dummy_var_451);
    goto L102;

  anon278_Then:
    assume {:partition} TypeOfOpen_14 != 4;
    call {:si_unique_call 3733} sdv_1714 := KeGetCurrentProcessorNumber();
    Tmp_2996 := sdv_1714;
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc Tmp_3015;
    Tmp_3005 := sdv_1714;
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc Tmp_3001;
    assume {:nonnull} Tmp_3001 != 0;
    assume Tmp_3001 > 0;
    assume {:nonnull} Tmp_3015 != 0;
    assume Tmp_3015 > 0;
    goto L111;

  anon209_Then:
    assume {:partition} TypeOfOpen_14 != 5;
    goto anon213_Then, anon213_Else;

  anon213_Else:
    assume {:partition} TypeOfOpen_14 != 4;
    assume {:nonnull} StartingByte_1 != 0;
    assume StartingByte_1 > 0;
    goto anon223_Then, anon223_Else;

  anon223_Else:
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    call {:si_unique_call 3734} FatCompleteRequest_Real(IrpContext_210, Irp_82, -1073741807);
    Tmp_2990 := -1073741807;
    goto L1;

  anon223_Then:
    goto anon224_Then, anon224_Else;

  anon224_Else:
    assume {:partition} TypeOfOpen_14 == 2;
    goto anon226_Then, anon226_Else;

  anon226_Else:
    assume {:partition} PagingIo_1 != 0;
    goto L178;

  L178:
    goto anon228_Then, anon228_Else;

  anon228_Else:
    assume {:partition} PagingIo_1 != 0;
    call {:si_unique_call 3735} sdv_1731 := ExAcquireResourceSharedLite(0, Wait_14);
    goto anon284_Then, anon284_Else;

  anon284_Else:
    assume {:partition} yogi_error != 1;
    goto anon230_Then, anon230_Else;

  anon230_Else:
    assume {:partition} sdv_1731 != 0;
    goto anon231_Then, anon231_Else;

  anon231_Else:
    assume {:partition} Wait_14 != 0;
    goto L211;

  L211:
    FcbOrDcbAcquired_1 := 1;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_452;
    call {:si_unique_call 3736} FatVerifyFcb(IrpContext_210, vslice_dummy_var_452);
    goto anon232_Then, anon232_Else;

  anon232_Else:
    assume {:partition} PagingIo_1 != 0;
    goto L219;

  L219:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc FileSize_1;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc ValidDataLength_3;
    goto anon285_Then, anon285_Else;

  anon285_Else:
    assume {:partition} StartingVbo_9 >= FileSize_1;
    Status_81 := -1073741807;
    goto L225;

  L225:
    goto anon234_Then, anon234_Else;

  anon234_Else:
    assume {:partition} Irp_82 != 0;
    goto anon236_Then, anon236_Else;

  anon236_Else:
    assume {:partition} PostIrp_2 == 0;
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    havoc ActualBytesRead;
    goto anon287_Then, anon287_Else;

  anon287_Else:
    assume {:partition} SynchronousIo_1 != 0;
    goto anon239_Then, anon239_Else;

  anon239_Else:
    assume {:partition} PagingIo_1 == 0;
    assume {:nonnull} FileObject_43 != 0;
    assume FileObject_43 > 0;
    goto L236;

  L236:
    goto anon238_Then, anon238_Else;

  anon238_Else:
    assume {:partition} Status_81 >= 0;
    goto anon240_Then, anon240_Else;

  anon240_Else:
    assume {:partition} PagingIo_1 == 0;
    assume {:nonnull} FileObject_43 != 0;
    assume FileObject_43 > 0;
    goto L226;

  L226:
    goto anon235_Then, anon235_Else;

  anon235_Else:
    assume {:partition} FcbOrDcbAcquired_1 != 0;
    goto anon242_Then, anon242_Else;

  anon242_Else:
    assume {:partition} Irp_82 != 0;
    goto anon243_Then, anon243_Else;

  anon243_Else:
    assume {:partition} PagingIo_1 != 0;
    call {:si_unique_call 3737} ExReleaseResourceLite(0);
    goto L241;

  L241:
    goto anon241_Then, anon241_Else;

  anon241_Else:
    assume {:partition} PostIrp_2 != 0;
    goto L251;

  L251:
    Tmp_2990 := Status_81;
    goto L1;

  anon241_Then:
    assume {:partition} PostIrp_2 == 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    goto anon244_Then, anon244_Else;

  anon244_Else:
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_3010;
    assume {:nonnull} Tmp_3010 != 0;
    assume Tmp_3010 > 0;
    goto anon286_Then, anon286_Else;

  anon286_Else:
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    call {:si_unique_call 3738} IoFreeMdl(0);
    goto L256;

  L256:
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    goto L252;

  L252:
    call {:si_unique_call 3739} sdv_1724 := sdv_AbnormalTermination();
    goto anon245_Then, anon245_Else;

  anon245_Else:
    assume {:partition} sdv_1724 == 0;
    call {:si_unique_call 3740} FatCompleteRequest_Real(IrpContext_210, Irp_82, Status_81);
    goto L251;

  anon245_Then:
    assume {:partition} sdv_1724 != 0;
    goto L251;

  anon286_Then:
    goto L256;

  anon244_Then:
    goto L252;

  anon243_Then:
    assume {:partition} PagingIo_1 == 0;
    call {:si_unique_call 3741} ExReleaseResourceLite(0);
    goto L241;

  anon242_Then:
    assume {:partition} Irp_82 == 0;
    goto L241;

  anon235_Then:
    assume {:partition} FcbOrDcbAcquired_1 == 0;
    goto L241;

  anon240_Then:
    assume {:partition} PagingIo_1 != 0;
    goto L226;

  anon238_Then:
    assume {:partition} 0 > Status_81;
    goto L226;

  anon239_Then:
    assume {:partition} PagingIo_1 != 0;
    goto L236;

  anon287_Then:
    assume {:partition} SynchronousIo_1 == 0;
    goto L236;

  anon236_Then:
    assume {:partition} PostIrp_2 != 0;
    goto anon237_Then, anon237_Else;

  anon237_Else:
    assume {:partition} OplockPostIrp_4 == 0;
    call {:si_unique_call 3742} Status_81 := FatFsdPostRequest(IrpContext_210, Irp_82);
    goto L226;

  anon237_Then:
    assume {:partition} OplockPostIrp_4 != 0;
    goto L226;

  anon234_Then:
    assume {:partition} Irp_82 == 0;
    goto L226;

  anon285_Then:
    assume {:partition} FileSize_1 > StartingVbo_9;
    goto anon233_Then, anon233_Else;

  anon233_Else:
    assume {:partition} ByteCount_22 > FileSize_1 - StartingVbo_9;
    RequestedByteCount := FileSize_1 - StartingVbo_9;
    ByteCount_22 := RequestedByteCount;
    goto anon288_Then, anon288_Else;

  anon288_Else:
    assume {:partition} NonCachedIo_1 != 0;
    goto anon247_Then, anon247_Else;

  anon247_Else:
    assume {:partition} Wait_14 == 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_3012;
    assume {:nonnull} Tmp_3012 != 0;
    assume Tmp_3012 > 0;
    goto L265;

  L265:
    goto anon246_Then, anon246_Else;

  anon246_Else:
    assume {:partition} NonCachedIo_1 != 0;
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    havoc SectorSize_8;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    goto anon289_Then, anon289_Else;

  anon289_Else:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc ValidDataLength_3;
    goto L276;

  L276:
    goto anon249_Then, anon249_Else;

  anon249_Else:
    assume {:partition} StartingVbo_9 + ByteCount_22 > ValidDataLength_3;
    call {:si_unique_call 3743} SystemBuffer_1 := FatMapUserBuffer(IrpContext_210, Irp_82);
    goto anon251_Then, anon251_Else;

  anon251_Else:
    assume {:partition} ValidDataLength_3 > StartingVbo_9;
    ZeroingOffset := BAND(ValidDataLength_3 - StartingVbo_9 + SectorSize_8 - 1, BNOT(SectorSize_8 - 1));
    goto anon290_Then, anon290_Else;

  anon290_Else:
    assume {:partition} ByteCount_22 > ZeroingOffset;
    Tmp_3000 := ByteCount_22 - ZeroingOffset;
    call {:si_unique_call 3744} sdv_RtlZeroMemory(0, Tmp_3000);
    goto L278;

  L278:
    goto anon250_Then, anon250_Else;

  anon250_Else:
    assume {:partition} ByteCount_22 > ValidDataLength_3 - StartingVbo_9;
    Tmp_3017 := ValidDataLength_3 - StartingVbo_9;
    goto L311;

  L311:
    ByteCount_22 := Tmp_3017;
    BytesToRead := BAND(ByteCount_22 + SectorSize_8 - 1, BNOT(SectorSize_8 - 1));
    goto anon291_Then, anon291_Else;

  anon291_Else:
    assume {:partition} BAND(StartingVbo_9, SectorSize_8 - 1) != 0;
    goto L315;

  L315:
    goto anon253_Then, anon253_Else;

  anon253_Else:
    assume {:partition} Wait_14 != 0;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_453;
    call {:si_unique_call 3745} FatNonCachedNonAlignedRead(IrpContext_210, Irp_82, vslice_dummy_var_453, StartingVbo_9, ByteCount_22);
    BytesToRead := ByteCount_22;
    goto L321;

  L321:
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    Status_81 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_82))];
    goto anon292_Then, anon292_Else;

  anon292_Else:
    assume {:partition} Status_81 >= 0;
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    goto L225;

  anon292_Then:
    assume {:partition} 0 > Status_81;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    call {:si_unique_call 3746} sdv_1729 := corral_nondet();
    call {:si_unique_call 3747} ExRaiseStatus(sdv_1729);
    goto L225;

  anon253_Then:
    assume {:partition} Wait_14 == 0;
    PostIrp_2 := 1;
    goto L225;

  anon291_Then:
    assume {:partition} BAND(StartingVbo_9, SectorSize_8 - 1) == 0;
    assume {:nonnull} IrpSp_44 != 0;
    assume IrpSp_44 > 0;
    goto anon252_Then, anon252_Else;

  anon252_Else:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_454;
    call {:si_unique_call 3748} sdv_1707 := FatNonCachedIo(IrpContext_210, Irp_82, vslice_dummy_var_454, StartingVbo_9, BytesToRead, ByteCount_22);
    goto anon254_Then, anon254_Else;

  anon254_Else:
    assume {:partition} sdv_1707 == 259;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    Irp_82 := 0;
    Status_81 := 259;
    goto L225;

  anon254_Then:
    assume {:partition} sdv_1707 != 259;
    goto L321;

  anon252_Then:
    goto L315;

  anon250_Then:
    assume {:partition} ValidDataLength_3 - StartingVbo_9 >= ByteCount_22;
    Tmp_3017 := ByteCount_22;
    goto L311;

  anon290_Then:
    assume {:partition} ZeroingOffset >= ByteCount_22;
    goto L278;

  anon251_Then:
    assume {:partition} StartingVbo_9 >= ValidDataLength_3;
    call {:si_unique_call 3749} sdv_RtlZeroMemory(0, ByteCount_22);
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    Status_81 := 0;
    goto L225;

  anon249_Then:
    assume {:partition} ValidDataLength_3 >= StartingVbo_9 + ByteCount_22;
    goto L278;

  anon289_Then:
    goto L276;

  anon246_Then:
    assume {:partition} NonCachedIo_1 == 0;
    assume {:nonnull} FileObject_43 != 0;
    assume FileObject_43 > 0;
    goto anon248_Then, anon248_Else;

  anon248_Else:
    goto L342;

  L342:
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    goto anon256_Then, anon256_Else;

  anon256_Else:
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    Status_81 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_82))];
    goto L225;

  anon256_Then:
    call {:si_unique_call 3750} SystemBuffer_1 := FatMapUserBuffer(IrpContext_210, Irp_82);
    call {:si_unique_call 3751} sdv_1720 := corral_nondet();
    goto anon257_Then, anon257_Else;

  anon257_Else:
    assume {:partition} sdv_1720 != 0;
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    Status_81 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_82))];
    goto L225;

  anon257_Then:
    assume {:partition} sdv_1720 == 0;
    PostIrp_2 := 1;
    goto L225;

  anon248_Then:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    goto anon255_Then, anon255_Else;

  anon255_Else:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_455;
    call {:si_unique_call 3752} FatLookupFileAllocationSize#1(IrpContext_210, vslice_dummy_var_455);
    goto L360;

  L360:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    goto anon258_Then, anon258_Else;

  anon258_Else:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_456;
    call {:si_unique_call 3753} FatPopUpFileCorrupt#1(IrpContext_210, vslice_dummy_var_456);
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    call {:si_unique_call 3754} ExRaiseStatus(-1073741566);
    goto L364;

  L364:
    goto L342;

  anon258_Then:
    goto L364;

  anon255_Then:
    goto L360;

  anon247_Then:
    assume {:partition} Wait_14 != 0;
    goto L265;

  anon288_Then:
    assume {:partition} NonCachedIo_1 == 0;
    goto L265;

  anon233_Then:
    assume {:partition} FileSize_1 - StartingVbo_9 >= ByteCount_22;
    goto L265;

  anon232_Then:
    assume {:partition} PagingIo_1 == 0;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    call {:si_unique_call 3755} Status_81 := corral_nondet();
    goto anon259_Then, anon259_Else;

  anon259_Else:
    assume {:partition} Status_81 != 0;
    OplockPostIrp_4 := 1;
    PostIrp_2 := 1;
    goto L225;

  anon259_Then:
    assume {:partition} Status_81 == 0;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    goto anon260_Then, anon260_Else;

  anon260_Else:
    goto L386;

  L386:
    Tmp_2993 := 0;
    goto L387;

  L387:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    goto anon293_Then, anon293_Else;

  anon293_Else:
    assume {:partition} PagingIo_1 == 0;
    call {:si_unique_call 3756} sdv_1710 := FsRtlCheckLockForReadAccess(0, 0);
    goto anon261_Then, anon261_Else;

  anon261_Else:
    assume {:partition} sdv_1710 == 0;
    Status_81 := -1073741740;
    goto L225;

  anon261_Then:
    assume {:partition} sdv_1710 != 0;
    goto L219;

  anon293_Then:
    assume {:partition} PagingIo_1 != 0;
    goto L219;

  anon260_Then:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    call {:si_unique_call 3757} sdv_1715 := corral_nondet();
    goto anon262_Then, anon262_Else;

  anon262_Else:
    assume {:partition} sdv_1715 != 0;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc Tmp_3004;
    assume {:nonnull} Tmp_3004 != 0;
    assume Tmp_3004 > 0;
    goto anon294_Then, anon294_Else;

  anon294_Else:
    goto L398;

  L398:
    Tmp_3024 := 2;
    goto L399;

  L399:
    Tmp_2993 := Tmp_3024;
    goto L387;

  anon294_Then:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc Tmp_3023;
    assume {:nonnull} Tmp_3023 != 0;
    assume Tmp_3023 > 0;
    goto anon295_Then, anon295_Else;

  anon295_Else:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc Tmp_2999;
    assume {:nonnull} Tmp_2999 != 0;
    assume Tmp_2999 > 0;
    goto anon296_Then, anon296_Else;

  anon296_Else:
    Tmp_3024 := 1;
    goto L399;

  anon296_Then:
    goto L398;

  anon295_Then:
    goto L398;

  anon262_Then:
    assume {:partition} sdv_1715 == 0;
    goto L386;

  anon231_Then:
    assume {:partition} Wait_14 == 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_3020;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    assume {:nonnull} Tmp_3020 != 0;
    assume Tmp_3020 > 0;
    goto L211;

  anon230_Then:
    assume {:partition} sdv_1731 == 0;
    PostIrp_2 := 1;
    goto L225;

  anon284_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon228_Then:
    assume {:partition} PagingIo_1 == 0;
    goto anon229_Then, anon229_Else;

  anon229_Else:
    assume {:partition} Wait_14 != 0;
    goto L404;

  L404:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_457;
    call {:si_unique_call 3758} sdv_1730 := FatAcquireSharedFcb(IrpContext_210, vslice_dummy_var_457);
    goto anon297_Then, anon297_Else;

  anon297_Else:
    assume {:partition} yogi_error != 1;
    goto anon264_Then, anon264_Else;

  anon264_Else:
    assume {:partition} sdv_1730 == 0;
    PostIrp_2 := 1;
    goto L225;

  anon264_Then:
    assume {:partition} sdv_1730 != 0;
    goto L211;

  anon297_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon229_Then:
    assume {:partition} Wait_14 == 0;
    goto anon263_Then, anon263_Else;

  anon263_Else:
    assume {:partition} NonCachedIo_1 != 0;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_458;
    call {:si_unique_call 3759} sdv_1711 := FatAcquireSharedFcbWaitForEx(IrpContext_210, vslice_dummy_var_458);
    goto anon298_Then, anon298_Else;

  anon298_Else:
    assume {:partition} yogi_error != 1;
    goto anon265_Then, anon265_Else;

  anon265_Else:
    assume {:partition} sdv_1711 != 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_2994;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    assume {:nonnull} Tmp_2994 != 0;
    assume Tmp_2994 > 0;
    goto L211;

  anon265_Then:
    assume {:partition} sdv_1711 == 0;
    PostIrp_2 := 1;
    goto L225;

  anon298_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon263_Then:
    assume {:partition} NonCachedIo_1 == 0;
    goto L404;

  anon226_Then:
    assume {:partition} PagingIo_1 == 0;
    goto anon227_Then, anon227_Else;

  anon227_Else:
    assume {:partition} NonCachedIo_1 != 0;
    assume {:nonnull} FileObject_43 != 0;
    assume FileObject_43 > 0;
    havoc Tmp_3018;
    assume {:nonnull} Tmp_3018 != 0;
    assume Tmp_3018 > 0;
    goto anon299_Then, anon299_Else;

  anon299_Else:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_459;
    call {:si_unique_call 3760} sdv_1732 := FatAcquireExclusiveFcb(IrpContext_210, vslice_dummy_var_459);
    goto anon300_Then, anon300_Else;

  anon300_Else:
    assume {:partition} yogi_error != 1;
    goto anon266_Then, anon266_Else;

  anon266_Else:
    assume {:partition} sdv_1732 != 0;
    call {:si_unique_call 3761} vslice_dummy_var_537 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon301_Then, anon301_Else;

  anon301_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 3762} ExReleaseResourceLite(0);
    call {:si_unique_call 3763} ExReleaseResourceLite(0);
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    goto anon267_Then, anon267_Else;

  anon267_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_82))] < 0;
    goto L225;

  anon267_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_82))];
    goto L178;

  anon301_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon266_Then:
    assume {:partition} sdv_1732 == 0;
    PostIrp_2 := 1;
    goto L225;

  anon300_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon299_Then:
    goto L178;

  anon227_Then:
    assume {:partition} NonCachedIo_1 == 0;
    goto L178;

  anon224_Then:
    assume {:partition} TypeOfOpen_14 != 2;
    goto anon225_Then, anon225_Else;

  anon225_Else:
    assume {:partition} TypeOfOpen_14 == 6;
    goto L441;

  L441:
    assume {:nonnull} Vcb_118 != 0;
    assume Vcb_118 > 0;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    goto anon302_Then, anon302_Else;

  anon302_Else:
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    Status_81 := 0;
    goto L225;

  anon302_Then:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    goto anon269_Then, anon269_Else;

  anon269_Else:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc ByteCount_22;
    goto L447;

  L447:
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_460;
    call {:si_unique_call 3764} sdv_1725 := FatNonCachedIo(IrpContext_210, Irp_82, vslice_dummy_var_460, StartingVbo_9, ByteCount_22, ByteCount_22);
    goto anon270_Then, anon270_Else;

  anon270_Else:
    assume {:partition} sdv_1725 == 259;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    Irp_82 := 0;
    Status_81 := 259;
    goto L225;

  anon270_Then:
    assume {:partition} sdv_1725 != 259;
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    Status_81 := Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(Irp_82))];
    goto anon303_Then, anon303_Else;

  anon303_Else:
    assume {:partition} Status_81 < 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    call {:si_unique_call 3765} sdv_1728 := corral_nondet();
    call {:si_unique_call 3766} ExRaiseStatus(sdv_1728);
    goto L225;

  anon303_Then:
    assume {:partition} 0 <= Status_81;
    goto L225;

  anon269_Then:
    goto L447;

  anon225_Then:
    assume {:partition} TypeOfOpen_14 != 6;
    goto anon268_Then, anon268_Else;

  anon268_Else:
    assume {:partition} TypeOfOpen_14 != 7;
    goto anon271_Then, anon271_Else;

  anon271_Else:
    assume {:partition} TypeOfOpen_14 == 3;
    Status_81 := -1073741811;
    goto L225;

  anon271_Then:
    assume {:partition} TypeOfOpen_14 != 3;
    assume {:nonnull} FcbOrDcb_16 != 0;
    assume FcbOrDcb_16 > 0;
    havoc vslice_dummy_var_461;
    call {:si_unique_call 3767} KeBugCheckEx(35, 1574353, TypeOfOpen_14, vslice_dummy_var_461, 0);
    goto L225;

  anon268_Then:
    assume {:partition} TypeOfOpen_14 == 7;
    goto L441;

  anon213_Then:
    assume {:partition} TypeOfOpen_14 == 4;
    goto L93;

  anon212_Then:
    assume {:partition} Wait_14 == 0;
    call {:si_unique_call 3768} sdv_1722 := PsGetCurrentThread();
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_3007;
    assume {:nonnull} Tmp_3007 != 0;
    assume Tmp_3007 > 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_3011;
    assume {:nonnull} Tmp_3011 != 0;
    assume Tmp_3011 > 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    havoc Tmp_3006;
    assume {:nonnull} Tmp_3006 != 0;
    assume Tmp_3006 > 0;
    goto L69;

  anon210_Then:
    goto anon211_Then, anon211_Else;

  anon211_Else:
    assume {:partition} Wait_14 != 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    goto L72;

  anon211_Then:
    assume {:partition} Wait_14 == 0;
    call {:si_unique_call 3769} sdv_1723 := ExAllocatePoolWithTag(16, 36, -663461562);
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    goto L72;

  anon205_Then:
    assume {:partition} NonCachedIo_1 == 0;
    goto L69;

  anon207_Then:
    assume {:partition} TypeOfOpen_14 != 2;
    assume {:nonnull} IrpContext_210 != 0;
    assume IrpContext_210 > 0;
    goto L53;

  anon277_Then:
    assume {:partition} TypeOfOpen_14 != 2;
    goto anon206_Then, anon206_Else;

  anon206_Else:
    assume {:partition} TypeOfOpen_14 == 5;
    goto L67;

  L67:
    assume {:nonnull} Stats_11 != 0;
    assume Stats_11 > 0;
    assume {:nonnull} Stats_11 != 0;
    assume Stats_11 > 0;
    goto L63;

  anon206_Then:
    assume {:partition} TypeOfOpen_14 != 5;
    goto anon208_Then, anon208_Else;

  anon208_Else:
    assume {:partition} TypeOfOpen_14 == 6;
    goto L67;

  anon208_Then:
    assume {:partition} TypeOfOpen_14 != 6;
    goto L63;

  anon204_Then:
    assume {:partition} PagingIo_1 == 0;
    goto L53;

  anon203_Then:
    assume {:partition} TypeOfOpen_14 != 4;
    goto L51;

  anon276_Then:
    assume {:partition} ByteCount_22 == 0;
    assume {:nonnull} Irp_82 != 0;
    assume Irp_82 > 0;
    call {:si_unique_call 3770} FatCompleteRequest_Real(IrpContext_210, Irp_82, 0);
    Tmp_2990 := 0;
    goto L1;

  anon275_Then:
    assume {:partition} Tmp_2991 != 0;
    SynchronousIo_1 := 1;
    goto L560;

  anon274_Then:
    assume {:partition} Tmp_3014 != 0;
    NonCachedIo_1 := 1;
    goto L556;

  anon273_Then:
    assume {:partition} Tmp_3009 != 0;
    PagingIo_1 := 1;
    goto L552;

  anon272_Then:
    assume {:partition} Tmp_2992 != 0;
    Wait_14 := 1;
    goto L548;
}



procedure {:origName "_sdv_init17"} _sdv_init17();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init17"} _sdv_init17()
{
  var vslice_dummy_var_538: int;

  anon0:
    call {:si_unique_call 3771} vslice_dummy_var_538 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatFsdRead"} FatFsdRead(actual_VolumeDeviceObject_22: int, actual_Irp_83: int) returns (Tmp_3027: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdRead"} FatFsdRead(actual_VolumeDeviceObject_22: int, actual_Irp_83: int) returns (Tmp_3027: int)
{
  var {:pointer} Fcb_73: int;
  var {:scalar} TopLevel_11: int;
  var {:pointer} sdv_1735: int;
  var {:scalar} Status_82: int;
  var {:scalar} Event_15: int;
  var {:scalar} sdv_1738: int;
  var {:pointer} sdv_1739: int;
  var {:pointer} IrpContext_211: int;
  var {:pointer} sdv_1744: int;
  var {:pointer} Tmp_3029: int;
  var {:scalar} sdv_1745: int;
  var {:scalar} Packet: int;
  var {:scalar} sdv_1748: int;
  var {:pointer} Tmp_3030: int;
  var {:pointer} VolumeDeviceObject_22: int;
  var {:pointer} Irp_83: int;
  var vslice_dummy_var_539: int;

  anon0:
    call {:si_unique_call 3772} Event_15 := __HAVOC_malloc(124);
    call {:si_unique_call 3773} Packet := __HAVOC_malloc(8);
    VolumeDeviceObject_22 := actual_VolumeDeviceObject_22;
    Irp_83 := actual_Irp_83;
    Fcb_73 := 0;
    IrpContext_211 := 0;
    call {:si_unique_call 3774} KeEnterCriticalRegion();
    call {:si_unique_call 3775} sdv_1735 := sdv_IoGetCurrentIrpStackLocation(Irp_83);
    assume {:nonnull} sdv_1735 != 0;
    assume sdv_1735 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    goto L21;

  L21:
    call {:si_unique_call 3776} TopLevel_11 := FatIsIrpTopLevel(Irp_83);
    call {:si_unique_call 3777} sdv_1738 := corral_nondet();
    call {:si_unique_call 3778} IrpContext_211 := FatCreateIrpContext(Irp_83, sdv_1738);
    assume {:nonnull} IrpContext_211 != 0;
    assume IrpContext_211 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    call {:si_unique_call 3779} Status_82 := FatCompleteMdl(IrpContext_211, Irp_83);
    goto L38;

  L38:
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} TopLevel_11 != 0;
    goto L39;

  L39:
    call {:si_unique_call 3780} KeLeaveCriticalRegion();
    Tmp_3027 := Status_82;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon22_Then:
    assume {:partition} TopLevel_11 == 0;
    goto L39;

  anon23_Then:
    call {:si_unique_call 3781} sdv_1748 := sdv_IoGetRemainingStackSize();
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} 3584 > sdv_1748;
    call {:si_unique_call 3782} Status_82 := FatPostStackOverflowRead(IrpContext_211, Irp_83, Fcb_73);
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} yogi_error != 1;
    goto L38;

  anon28_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon24_Then:
    assume {:partition} sdv_1748 >= 3584;
    call {:si_unique_call 3783} Status_82 := FatCommonRead(IrpContext_211, Irp_83);
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} yogi_error != 1;
    goto L38;

  anon29_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon21_Then:
    call {:si_unique_call 3784} sdv_1739 := sdv_IoGetCurrentIrpStackLocation(Irp_83);
    assume {:nonnull} sdv_1739 != 0;
    assume sdv_1739 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    call {:si_unique_call 3785} sdv_1744 := sdv_IoGetCurrentIrpStackLocation(Irp_83);
    assume {:nonnull} sdv_1744 != 0;
    assume sdv_1744 > 0;
    havoc Tmp_3030;
    assume {:nonnull} Tmp_3030 != 0;
    assume Tmp_3030 > 0;
    havoc Fcb_73;
    Tmp_3029 := Fcb_73;
    assume {:nonnull} Tmp_3029 != 0;
    assume Tmp_3029 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Mem_T.INT4[Tmp_3029] == 1282;
    assume {:nonnull} Fcb_73 != 0;
    assume Fcb_73 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    call {:si_unique_call 3786} sdv_IoMarkIrpPending(0);
    call {:si_unique_call 3787} sdv_1745 := sdv_IoGetRemainingStackSize();
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} 3584 > sdv_1745;
    assume {:nonnull} Packet != 0;
    assume Packet > 0;
    assume {:nonnull} Packet != 0;
    assume Packet > 0;
    call {:si_unique_call 3788} KeInitializeEvent(Event_15, 0, 0);
    call {:si_unique_call 3789} vslice_dummy_var_539 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    goto L103;

  L103:
    call {:si_unique_call 3790} KeLeaveCriticalRegion();
    Tmp_3027 := 259;
    goto L1;

  anon27_Then:
    assume {:partition} sdv_1745 >= 3584;
    call {:si_unique_call 3791} FatPagingFileIo(Irp_83, Fcb_73);
    goto L103;

  anon26_Then:
    goto L21;

  anon30_Then:
    assume {:partition} Mem_T.INT4[Tmp_3029] != 1282;
    goto L21;

  anon25_Then:
    goto L21;
}



procedure {:origName "_sdv_init32"} _sdv_init32();
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init32"} _sdv_init32()
{
  var vslice_dummy_var_540: int;

  anon0:
    call {:si_unique_call 3792} vslice_dummy_var_540 := __HAVOC_malloc(4);
    havoc Mem_T.INT4;
    return;
}



procedure {:origName "FatCommonShutdown"} FatCommonShutdown(actual_IrpContext_212: int, actual_Irp_84: int) returns (Tmp_3033: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonShutdown"} FatCommonShutdown(actual_IrpContext_212: int, actual_Irp_84: int) returns (Tmp_3033: int)
{
  var {:pointer} Fcb_74: int;
  var {:pointer} Links_9: int;
  var {:pointer} Fcb_75: int;
  var {:pointer} sdv_1751: int;
  var {:scalar} Iosb_28: int;
  var {:pointer} Event_16: int;
  var {:scalar} sdv_1756: int;
  var {:pointer} NewIrp: int;
  var {:pointer} sdv_1757: int;
  var {:scalar} Tmp_3034: int;
  var {:pointer} Vcb_119: int;
  var {:scalar} Tmp_3036: int;
  var {:scalar} VcbDeleted_7: int;
  var {:pointer} IrpContext_212: int;
  var {:pointer} Irp_84: int;
  var vslice_dummy_var_541: int;
  var vslice_dummy_var_542: int;
  var vslice_dummy_var_543: int;
  var vslice_dummy_var_544: int;
  var vslice_dummy_var_545: int;
  var vslice_dummy_var_546: int;
  var vslice_dummy_var_462: int;
  var vslice_dummy_var_463: int;
  var vslice_dummy_var_464: int;

  anon0:
    call {:si_unique_call 3793} Iosb_28 := __HAVOC_malloc(12);
    IrpContext_212 := actual_IrpContext_212;
    Irp_84 := actual_Irp_84;
    assume {:nonnull} IrpContext_212 != 0;
    assume IrpContext_212 > 0;
    call {:si_unique_call 3794} sdv_1751 := ExAllocatePoolWithTag(16, 16, -160145082);
    Event_16 := sdv_1751;
    call {:si_unique_call 3795} KeInitializeEvent(Event_16, 0, 0);
    assume {:nonnull} IrpContext_212 != 0;
    assume IrpContext_212 > 0;
    havoc Tmp_3034;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} Tmp_3034 == 0;
    Tmp_3036 := 0;
    goto L150;

  L150:
    call {:si_unique_call 3796} vslice_dummy_var_545 := ExAcquireResourceExclusiveLite(0, Tmp_3036);
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} yogi_error != 1;
    havoc Links_9;
    goto L24;

  L24:
    call {:si_unique_call 3797} Fcb_74, Links_9, Fcb_75, sdv_1756, NewIrp, sdv_1757, Vcb_119, VcbDeleted_7, vslice_dummy_var_541, vslice_dummy_var_542, vslice_dummy_var_543, vslice_dummy_var_544, vslice_dummy_var_546 := FatCommonShutdown_loop_L24(Fcb_74, Links_9, Fcb_75, Iosb_28, Event_16, sdv_1756, NewIrp, sdv_1757, Vcb_119, VcbDeleted_7, IrpContext_212, vslice_dummy_var_541, vslice_dummy_var_542, vslice_dummy_var_543, vslice_dummy_var_544, vslice_dummy_var_546);
    goto L24_last;

  L24_last:
    goto anon31_Then, anon31_Else;

  anon31_Else:
    call {:si_unique_call 3798} sdv_1757 := sdv_containing_record(Links_9, 64);
    Vcb_119 := sdv_1757;
    assume {:nonnull} Links_9 != 0;
    assume Links_9 > 0;
    havoc Links_9;
    assume {:nonnull} Vcb_119 != 0;
    assume Vcb_119 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} Vcb_119 != 0;
    assume Vcb_119 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    Fcb_75 := 0;
    call {:si_unique_call 3799} vslice_dummy_var_546 := FatAcquireExclusiveVcb(IrpContext_212, Vcb_119);
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} yogi_error != 1;
    goto L62;

  L62:
    call {:si_unique_call 3800} Fcb_75, vslice_dummy_var_542 := FatCommonShutdown_loop_L62(Fcb_75, Vcb_119, IrpContext_212, vslice_dummy_var_542);
    goto L62_last;

  L62_last:
    assume {:nonnull} Vcb_119 != 0;
    assume Vcb_119 > 0;
    havoc vslice_dummy_var_464;
    call {:si_unique_call 3819} Fcb_75 := FatGetNextFcbBottomUp(IrpContext_212, Fcb_75, vslice_dummy_var_464);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} Fcb_75 != 0;
    call {:si_unique_call 3801} vslice_dummy_var_542 := FatAcquireExclusiveFcb(IrpContext_212, Fcb_75);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} yogi_error != 1;
    goto anon43_Else_dummy;

  anon43_Else_dummy:
    assume false;
    return;

  anon43_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon33_Then:
    assume {:partition} Fcb_75 == 0;
    call {:si_unique_call 3802} vslice_dummy_var_541 := FatFlushVolume(IrpContext_212, Vcb_119, 1);
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_119 != 0;
    assume Vcb_119 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    call {:si_unique_call 3803} vslice_dummy_var_544 := corral_nondet();
    call {:si_unique_call 3804} FatMarkVolume#1(IrpContext_212, Vcb_119, 0);
    goto L75;

  L75:
    call {:si_unique_call 3805} NewIrp := IoBuildSynchronousFsdRequest(16, 0, 0, 0, 0, 0, Iosb_28);
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} NewIrp != 0;
    assume {:nonnull} Vcb_119 != 0;
    assume Vcb_119 > 0;
    havoc vslice_dummy_var_462;
    call {:si_unique_call 3806} sdv_1756 := sdv_IoCallDriver(vslice_dummy_var_462, NewIrp);
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} sdv_1756 >= 0;
    call {:si_unique_call 3807} vslice_dummy_var_543 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    call {:si_unique_call 3808} KeClearEvent(Event_16);
    goto L80;

  L80:
    assume {:nonnull} Vcb_119 != 0;
    assume Vcb_119 > 0;
    call {:si_unique_call 3809} VcbDeleted_7 := FatCheckForDismount#1(IrpContext_212, Vcb_119, 0);
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} yogi_error != 1;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} VcbDeleted_7 == 0;
    Fcb_74 := 0;
    goto L88;

  L88:
    call {:si_unique_call 3810} Fcb_74 := FatCommonShutdown_loop_L88(Fcb_74, Vcb_119, IrpContext_212);
    goto L88_last;

  L88_last:
    assume {:nonnull} Vcb_119 != 0;
    assume Vcb_119 > 0;
    havoc vslice_dummy_var_463;
    call {:si_unique_call 3818} Fcb_74 := FatGetNextFcbBottomUp(IrpContext_212, Fcb_74, vslice_dummy_var_463);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} Fcb_74 != 0;
    call {:si_unique_call 3811} ExReleaseResourceLite(0);
    goto anon35_Else_dummy;

  anon35_Else_dummy:
    assume false;
    return;

  anon35_Then:
    assume {:partition} Fcb_74 == 0;
    call {:si_unique_call 3812} ExReleaseResourceLite(0);
    goto anon35_Then_dummy;

  anon35_Then_dummy:
    assume false;
    return;

  anon34_Then:
    assume {:partition} VcbDeleted_7 != 0;
    goto anon34_Then_dummy;

  anon34_Then_dummy:
    assume false;
    return;

  anon45_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon37_Then:
    assume {:partition} 0 > sdv_1756;
    goto L80;

  anon36_Then:
    assume {:partition} NewIrp == 0;
    goto L80;

  anon38_Then:
    goto L75;

  anon44_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon42_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon32_Then:
    goto anon32_Then_dummy;

  anon32_Then_dummy:
    assume false;
    return;

  anon41_Then:
    goto anon41_Then_dummy;

  anon41_Then_dummy:
    assume false;
    return;

  anon31_Then:
    call {:si_unique_call 3813} sdv_ExFreePool(0);
    call {:si_unique_call 3814} ExReleaseResourceLite(0);
    call {:si_unique_call 3815} IoDeleteDevice(0);
    call {:si_unique_call 3816} IoDeleteDevice(0);
    call {:si_unique_call 3817} FatCompleteRequest_Real(IrpContext_212, Irp_84, 0);
    Tmp_3033 := 0;
    goto LM2;

  anon40_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon39_Then:
    assume {:partition} Tmp_3034 != 0;
    Tmp_3036 := 1;
    goto L150;
}



procedure {:origName "_sdv_init19"} _sdv_init19();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init19"} _sdv_init19()
{
  var vslice_dummy_var_547: int;

  anon0:
    call {:si_unique_call 3820} vslice_dummy_var_547 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatFsdShutdown"} FatFsdShutdown(actual_VolumeDeviceObject_24: int, actual_Irp_85: int) returns (Tmp_3039: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFsdShutdown"} FatFsdShutdown(actual_VolumeDeviceObject_24: int, actual_Irp_85: int) returns (Tmp_3039: int)
{
  var {:scalar} TopLevel_12: int;
  var {:scalar} Status_83: int;
  var {:pointer} IrpContext_213: int;
  var {:pointer} VolumeDeviceObject_24: int;
  var {:pointer} Irp_85: int;

  anon0:
    VolumeDeviceObject_24 := actual_VolumeDeviceObject_24;
    Irp_85 := actual_Irp_85;
    IrpContext_213 := 0;
    call {:si_unique_call 3821} KeEnterCriticalRegion();
    call {:si_unique_call 3822} TopLevel_12 := FatIsIrpTopLevel(Irp_85);
    call {:si_unique_call 3823} IrpContext_213 := FatCreateIrpContext(Irp_85, 1);
    call {:si_unique_call 3824} Status_83 := FatCommonShutdown(IrpContext_213, Irp_85);
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} yogi_error != 1;
    goto anon5_Then, anon5_Else;

  anon5_Else:
    assume {:partition} TopLevel_12 != 0;
    goto L34;

  L34:
    call {:si_unique_call 3825} KeLeaveCriticalRegion();
    Tmp_3039 := Status_83;
    goto LM2;

  LM2:
    return;

  anon5_Then:
    assume {:partition} TopLevel_12 == 0;
    goto L34;

  anon6_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "_sdv_init18"} _sdv_init18();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init18"} _sdv_init18()
{
  var vslice_dummy_var_548: int;

  anon0:
    call {:si_unique_call 3826} vslice_dummy_var_548 := __HAVOC_malloc(4);
    return;
}



procedure {:origName "FatAcquireExclusiveVcb"} FatAcquireExclusiveVcb(actual_IrpContext_214: int, actual_Vcb_120: int) returns (Tmp_3043: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAcquireExclusiveVcb"} FatAcquireExclusiveVcb(actual_IrpContext_214: int, actual_Vcb_120: int) returns (Tmp_3043: int)
{
  var {:scalar} Tmp_3044: int;
  var {:scalar} sdv_1769: int;
  var {:scalar} sdv_1771: int;
  var {:scalar} Tmp_3046: int;
  var {:pointer} IrpContext_214: int;

  anon0:
    IrpContext_214 := actual_IrpContext_214;
    assume {:nonnull} IrpContext_214 != 0;
    assume IrpContext_214 > 0;
    havoc Tmp_3044;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} Tmp_3044 == 0;
    Tmp_3046 := 0;
    goto L33;

  L33:
    call {:si_unique_call 3827} sdv_1769 := ExAcquireResourceExclusiveLite(0, Tmp_3046);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} yogi_error != 1;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} sdv_1769 != 0;
    call {:si_unique_call 3828} FatVerifyOperationIsLegal(IrpContext_214);
    call {:si_unique_call 3829} sdv_1771 := sdv_AbnormalTermination();
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} sdv_1771 != 0;
    call {:si_unique_call 3830} ExReleaseResourceLite(0);
    goto L24;

  L24:
    Tmp_3043 := 1;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon10_Then:
    assume {:partition} sdv_1771 == 0;
    goto L24;

  anon9_Then:
    assume {:partition} sdv_1769 == 0;
    Tmp_3043 := 0;
    goto L1;

  anon12_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon11_Then:
    assume {:partition} Tmp_3044 != 0;
    Tmp_3046 := 1;
    goto L33;
}



procedure {:origName "FatAcquireExclusiveFcb"} FatAcquireExclusiveFcb(actual_IrpContext_215: int, actual_Fcb_76: int) returns (Tmp_3047: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAcquireExclusiveFcb"} FatAcquireExclusiveFcb(actual_IrpContext_215: int, actual_Fcb_76: int) returns (Tmp_3047: int)
{
  var {:pointer} Tmp_3049: int;
  var {:scalar} sdv_1772: int;
  var {:scalar} sdv_1773: int;
  var {:scalar} Tmp_3050: int;
  var {:scalar} Tmp_3051: int;
  var {:scalar} sdv_1775: int;
  var {:scalar} sdv_1777: int;
  var {:pointer} Tmp_3053: int;
  var {:pointer} IrpContext_215: int;
  var {:pointer} Fcb_76: int;
  var vslice_dummy_var_549: int;

  anon0:
    IrpContext_215 := actual_IrpContext_215;
    Fcb_76 := actual_Fcb_76;
    goto L3;

  L3:
    call {:si_unique_call 3831} Tmp_3049, sdv_1772, Tmp_3050, Tmp_3051, sdv_1775, sdv_1777, Tmp_3053, vslice_dummy_var_549 := FatAcquireExclusiveFcb_loop_L3(Tmp_3049, sdv_1772, Tmp_3050, Tmp_3051, sdv_1775, sdv_1777, Tmp_3053, IrpContext_215, Fcb_76, vslice_dummy_var_549);
    goto L3_last;

  L3_last:
    assume {:nonnull} IrpContext_215 != 0;
    assume IrpContext_215 > 0;
    havoc Tmp_3050;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} Tmp_3050 == 0;
    Tmp_3051 := 0;
    goto L57;

  L57:
    call {:si_unique_call 3832} sdv_1772 := ExAcquireResourceExclusiveLite(0, Tmp_3051);
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} yogi_error != 1;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} sdv_1772 != 0;
    assume {:nonnull} Fcb_76 != 0;
    assume Fcb_76 > 0;
    havoc Tmp_3053;
    assume {:nonnull} Tmp_3053 != 0;
    assume Tmp_3053 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:nonnull} IrpContext_215 != 0;
    assume IrpContext_215 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    goto L16;

  L16:
    assume {:nonnull} Fcb_76 != 0;
    assume Fcb_76 > 0;
    call {:si_unique_call 3833} vslice_dummy_var_549 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    call {:si_unique_call 3834} ExReleaseResourceLite(0);
    goto L16_dummy;

  L16_dummy:
    assume false;
    return;

  anon20_Then:
    assume {:nonnull} IrpContext_215 != 0;
    assume IrpContext_215 > 0;
    havoc Tmp_3049;
    assume {:nonnull} Tmp_3049 != 0;
    assume Tmp_3049 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    call {:si_unique_call 3835} sdv_1775 := ExGetSharedWaiterCount(0);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} sdv_1775 == 0;
    call {:si_unique_call 3836} sdv_1777 := ExGetExclusiveWaiterCount(0);
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} sdv_1777 != 0;
    goto L16;

  anon22_Then:
    assume {:partition} sdv_1777 == 0;
    goto L11;

  L11:
    call {:si_unique_call 3837} FatVerifyOperationIsLegal(IrpContext_215);
    call {:si_unique_call 3838} sdv_1773 := sdv_AbnormalTermination();
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} sdv_1773 != 0;
    call {:si_unique_call 3839} ExReleaseResourceLite(0);
    goto L42;

  L42:
    Tmp_3047 := 1;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon23_Then:
    assume {:partition} sdv_1773 == 0;
    goto L42;

  anon21_Then:
    assume {:partition} sdv_1775 != 0;
    goto L16;

  anon27_Then:
    goto L16;

  anon26_Then:
    goto L11;

  anon19_Then:
    assume {:partition} sdv_1772 == 0;
    Tmp_3047 := 0;
    goto L1;

  anon25_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon24_Then:
    assume {:partition} Tmp_3050 != 0;
    Tmp_3051 := 1;
    goto L57;
}



procedure {:origName "FatAcquireSharedFcb"} FatAcquireSharedFcb(actual_IrpContext_216: int, actual_Fcb_77: int) returns (Tmp_3054: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAcquireSharedFcb"} FatAcquireSharedFcb(actual_IrpContext_216: int, actual_Fcb_77: int) returns (Tmp_3054: int)
{
  var {:scalar} Tmp_3055: int;
  var {:scalar} Tmp_3057: int;
  var {:scalar} sdv_1778: int;
  var {:scalar} sdv_1779: int;
  var {:pointer} Tmp_3058: int;
  var {:scalar} sdv_1781: int;
  var {:scalar} sdv_1783: int;
  var {:pointer} Tmp_3060: int;
  var {:pointer} IrpContext_216: int;
  var {:pointer} Fcb_77: int;
  var vslice_dummy_var_550: int;

  anon0:
    IrpContext_216 := actual_IrpContext_216;
    Fcb_77 := actual_Fcb_77;
    goto L3;

  L3:
    call {:si_unique_call 3840} Tmp_3055, Tmp_3057, sdv_1778, Tmp_3058, sdv_1781, sdv_1783, Tmp_3060, vslice_dummy_var_550 := FatAcquireSharedFcb_loop_L3(Tmp_3055, Tmp_3057, sdv_1778, Tmp_3058, sdv_1781, sdv_1783, Tmp_3060, IrpContext_216, Fcb_77, vslice_dummy_var_550);
    goto L3_last;

  L3_last:
    assume {:nonnull} IrpContext_216 != 0;
    assume IrpContext_216 > 0;
    havoc Tmp_3057;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} Tmp_3057 == 0;
    Tmp_3055 := 0;
    goto L57;

  L57:
    call {:si_unique_call 3841} sdv_1778 := ExAcquireResourceSharedLite(0, Tmp_3055);
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} yogi_error != 1;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} sdv_1778 != 0;
    assume {:nonnull} Fcb_77 != 0;
    assume Fcb_77 > 0;
    havoc Tmp_3058;
    assume {:nonnull} Tmp_3058 != 0;
    assume Tmp_3058 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:nonnull} IrpContext_216 != 0;
    assume IrpContext_216 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    goto L16;

  L16:
    assume {:nonnull} Fcb_77 != 0;
    assume Fcb_77 > 0;
    call {:si_unique_call 3842} vslice_dummy_var_550 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    call {:si_unique_call 3843} ExReleaseResourceLite(0);
    goto L16_dummy;

  L16_dummy:
    assume false;
    return;

  anon20_Then:
    assume {:nonnull} IrpContext_216 != 0;
    assume IrpContext_216 > 0;
    havoc Tmp_3060;
    assume {:nonnull} Tmp_3060 != 0;
    assume Tmp_3060 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    call {:si_unique_call 3844} sdv_1781 := ExGetSharedWaiterCount(0);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} sdv_1781 == 0;
    call {:si_unique_call 3845} sdv_1783 := ExGetExclusiveWaiterCount(0);
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} sdv_1783 != 0;
    goto L16;

  anon22_Then:
    assume {:partition} sdv_1783 == 0;
    goto L11;

  L11:
    call {:si_unique_call 3846} FatVerifyOperationIsLegal(IrpContext_216);
    call {:si_unique_call 3847} sdv_1779 := sdv_AbnormalTermination();
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} sdv_1779 != 0;
    call {:si_unique_call 3848} ExReleaseResourceLite(0);
    goto L42;

  L42:
    Tmp_3054 := 1;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon23_Then:
    assume {:partition} sdv_1779 == 0;
    goto L42;

  anon21_Then:
    assume {:partition} sdv_1781 != 0;
    goto L16;

  anon27_Then:
    goto L16;

  anon26_Then:
    goto L11;

  anon19_Then:
    assume {:partition} sdv_1778 == 0;
    Tmp_3054 := 0;
    goto L1;

  anon25_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon24_Then:
    assume {:partition} Tmp_3057 != 0;
    Tmp_3055 := 1;
    goto L57;
}



procedure {:origName "FatAcquireSharedFcbWaitForEx"} FatAcquireSharedFcbWaitForEx(actual_IrpContext_217: int, actual_Fcb_78: int) returns (Tmp_3061: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAcquireSharedFcbWaitForEx"} FatAcquireSharedFcbWaitForEx(actual_IrpContext_217: int, actual_Fcb_78: int) returns (Tmp_3061: int)
{
  var {:scalar} sdv_1784: int;
  var {:pointer} Tmp_3062: int;
  var {:scalar} sdv_1787: int;
  var {:pointer} IrpContext_217: int;
  var {:pointer} Fcb_78: int;
  var vslice_dummy_var_551: int;

  anon0:
    IrpContext_217 := actual_IrpContext_217;
    Fcb_78 := actual_Fcb_78;
    goto L3;

  L3:
    call {:si_unique_call 3849} sdv_1784, Tmp_3062, vslice_dummy_var_551 := FatAcquireSharedFcbWaitForEx_loop_L3(sdv_1784, Tmp_3062, IrpContext_217, Fcb_78, vslice_dummy_var_551);
    goto L3_last;

  L3_last:
    call {:si_unique_call 3855} sdv_1784 := ExAcquireSharedWaitForExclusive(0, 0);
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} yogi_error != 1;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} sdv_1784 != 0;
    assume {:nonnull} Fcb_78 != 0;
    assume Fcb_78 > 0;
    havoc Tmp_3062;
    assume {:nonnull} Tmp_3062 != 0;
    assume Tmp_3062 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} IrpContext_217 != 0;
    assume IrpContext_217 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:nonnull} Fcb_78 != 0;
    assume Fcb_78 > 0;
    call {:si_unique_call 3850} vslice_dummy_var_551 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    call {:si_unique_call 3851} ExReleaseResourceLite(0);
    goto anon12_Else_dummy;

  anon12_Else_dummy:
    assume false;
    return;

  anon12_Then:
    goto L9;

  L9:
    call {:si_unique_call 3852} FatVerifyOperationIsLegal(IrpContext_217);
    call {:si_unique_call 3853} sdv_1787 := sdv_AbnormalTermination();
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} sdv_1787 != 0;
    call {:si_unique_call 3854} ExReleaseResourceLite(0);
    goto L31;

  L31:
    Tmp_3061 := 1;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon13_Then:
    assume {:partition} sdv_1787 == 0;
    goto L31;

  anon15_Then:
    goto L9;

  anon11_Then:
    assume {:partition} sdv_1784 == 0;
    Tmp_3061 := 0;
    goto L1;

  anon14_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatAcquireSharedVcb"} FatAcquireSharedVcb(actual_IrpContext_218: int, actual_Vcb_121: int) returns (Tmp_3065: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatAcquireSharedVcb"} FatAcquireSharedVcb(actual_IrpContext_218: int, actual_Vcb_121: int) returns (Tmp_3065: int)
{
  var {:scalar} sdv_1788: int;
  var {:scalar} sdv_1790: int;
  var {:scalar} Tmp_3067: int;
  var {:scalar} Tmp_3068: int;
  var {:pointer} IrpContext_218: int;

  anon0:
    IrpContext_218 := actual_IrpContext_218;
    assume {:nonnull} IrpContext_218 != 0;
    assume IrpContext_218 > 0;
    havoc Tmp_3067;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} Tmp_3067 == 0;
    Tmp_3068 := 0;
    goto L33;

  L33:
    call {:si_unique_call 3856} sdv_1788 := ExAcquireResourceSharedLite(0, Tmp_3068);
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} yogi_error != 1;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} sdv_1788 != 0;
    call {:si_unique_call 3857} FatVerifyOperationIsLegal(IrpContext_218);
    call {:si_unique_call 3858} sdv_1790 := sdv_AbnormalTermination();
    goto anon10_Then, anon10_Else;

  anon10_Else:
    assume {:partition} sdv_1790 != 0;
    call {:si_unique_call 3859} ExReleaseResourceLite(0);
    goto L24;

  L24:
    Tmp_3065 := 1;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon10_Then:
    assume {:partition} sdv_1790 == 0;
    goto L24;

  anon9_Then:
    assume {:partition} sdv_1788 == 0;
    Tmp_3065 := 0;
    goto L1;

  anon12_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon11_Then:
    assume {:partition} Tmp_3067 != 0;
    Tmp_3068 := 1;
    goto L33;
}



procedure {:origName "FatFatDateToNtTime"} FatFatDateToNtTime(actual_IrpContext_219: int, actual_structPtr888FatDate: int) returns (SD1_2: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFatDateToNtTime"} FatFatDateToNtTime(actual_IrpContext_219: int, actual_structPtr888FatDate: int) returns (SD1_2: int)
{
  var {:scalar} FatDate: int;
  var {:scalar} Time_1: int;
  var {:scalar} TimeFields: int;
  var {:scalar} sdv_1791: int;
  var {:scalar} Tmp_1: int;
  var {:pointer} structPtr888FatDate: int;

  anon0:
    call {:si_unique_call 3860} FatDate := __HAVOC_malloc(12);
    call {:si_unique_call 3861} Time_1 := __HAVOC_malloc(20);
    call {:si_unique_call 3862} TimeFields := __HAVOC_malloc(32);
    call {:si_unique_call 3863} Tmp_1 := __HAVOC_malloc(20);
    structPtr888FatDate := actual_structPtr888FatDate;
    assume {:nonnull} FatDate != 0;
    assume FatDate > 0;
    assume {:nonnull} structPtr888FatDate != 0;
    assume structPtr888FatDate > 0;
    assume {:nonnull} FatDate != 0;
    assume FatDate > 0;
    assume {:nonnull} structPtr888FatDate != 0;
    assume structPtr888FatDate > 0;
    assume {:nonnull} FatDate != 0;
    assume FatDate > 0;
    assume {:nonnull} structPtr888FatDate != 0;
    assume structPtr888FatDate > 0;
    assume {:nonnull} FatDate != 0;
    assume FatDate > 0;
    assume {:nonnull} TimeFields != 0;
    assume TimeFields > 0;
    assume {:nonnull} FatDate != 0;
    assume FatDate > 0;
    assume {:nonnull} TimeFields != 0;
    assume TimeFields > 0;
    assume {:nonnull} FatDate != 0;
    assume FatDate > 0;
    assume {:nonnull} TimeFields != 0;
    assume TimeFields > 0;
    assume {:nonnull} TimeFields != 0;
    assume TimeFields > 0;
    assume {:nonnull} TimeFields != 0;
    assume TimeFields > 0;
    assume {:nonnull} TimeFields != 0;
    assume TimeFields > 0;
    assume {:nonnull} TimeFields != 0;
    assume TimeFields > 0;
    call {:si_unique_call 3864} sdv_1791 := corral_nondet();
    goto anon3_Then, anon3_Else;

  anon3_Else:
    assume {:partition} sdv_1791 != 0;
    goto L20;

  L20:
    assume {:nonnull} Time_1 != 0;
    assume Time_1 > 0;
    assume {:nonnull} Tmp_1 != 0;
    assume Tmp_1 > 0;
    assume {:nonnull} Time_1 != 0;
    assume Time_1 > 0;
    assume {:nonnull} Tmp_1 != 0;
    assume Tmp_1 > 0;
    assume {:nonnull} Time_1 != 0;
    assume Time_1 > 0;
    assume {:nonnull} Tmp_1 != 0;
    assume Tmp_1 > 0;
    assume {:nonnull} Time_1 != 0;
    assume Time_1 > 0;
    assume {:nonnull} Tmp_1 != 0;
    assume Tmp_1 > 0;
    assume {:nonnull} Time_1 != 0;
    assume Time_1 > 0;
    assume {:nonnull} Tmp_1 != 0;
    assume Tmp_1 > 0;
    SD1_2 := Tmp_1;
    return;

  anon3_Then:
    assume {:partition} sdv_1791 == 0;
    assume {:nonnull} Time_1 != 0;
    assume Time_1 > 0;
    assume {:nonnull} Time_1 != 0;
    assume Time_1 > 0;
    goto L20;
}



procedure {:origName "FatNtTimeToFatTime"} FatNtTimeToFatTime(actual_IrpContext_220: int, actual_NtTime: int, actual_Rounding: int, actual_FatTime_1: int, actual_TenMsecs: int) returns (Tmp_3070: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} Tmp_3070 == 1 || Tmp_3070 == 0;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatNtTimeToFatTime"} FatNtTimeToFatTime(actual_IrpContext_220: int, actual_NtTime: int, actual_Rounding: int, actual_FatTime_1: int, actual_TenMsecs: int) returns (Tmp_3070: int)
{
  var {:scalar} TimeFields_1: int;
  var {:scalar} Tmp_3072: int;
  var {:pointer} NtTime: int;
  var {:scalar} Rounding: int;
  var {:pointer} FatTime_1: int;
  var {:pointer} TenMsecs: int;
  var vslice_dummy_var_552: int;
  var vslice_dummy_var_465: int;

  anon0:
    call {:si_unique_call 3865} TimeFields_1 := __HAVOC_malloc(32);
    NtTime := actual_NtTime;
    Rounding := actual_Rounding;
    FatTime_1 := actual_FatTime_1;
    TenMsecs := actual_TenMsecs;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} Rounding != 0;
    assume {:nonnull} NtTime != 0;
    assume NtTime > 0;
    goto L5;

  L5:
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    goto L14;

  L14:
    Tmp_3070 := 0;
    goto L1;

  L1:
    return;

  anon14_Then:
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} FatTime_1 != 0;
    assume FatTime_1 > 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    assume {:nonnull} FatTime_1 != 0;
    assume FatTime_1 > 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    assume {:nonnull} FatTime_1 != 0;
    assume FatTime_1 > 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    assume {:nonnull} FatTime_1 != 0;
    assume FatTime_1 > 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    assume {:nonnull} FatTime_1 != 0;
    assume FatTime_1 > 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    assume {:nonnull} FatTime_1 != 0;
    assume FatTime_1 > 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} TenMsecs != 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} Rounding != 0;
    assume {:nonnull} TenMsecs != 0;
    assume TenMsecs > 0;
    Mem_T.INT4[TenMsecs] := 0;
    goto L25;

  L25:
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} Rounding != 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    goto L33;

  L33:
    call {:si_unique_call 3866} vslice_dummy_var_552 := corral_nondet();
    Tmp_3070 := 1;
    goto L1;

  anon16_Then:
    assume {:partition} Rounding == 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    goto L33;

  anon17_Then:
    assume {:partition} Rounding == 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    havoc Tmp_3072;
    assume {:nonnull} TenMsecs != 0;
    assume TenMsecs > 0;
    assume {:nonnull} TimeFields_1 != 0;
    assume TimeFields_1 > 0;
    havoc vslice_dummy_var_465;
    Mem_T.INT4[TenMsecs] := vslice_dummy_var_465;
    goto L25;

  anon18_Then:
    assume {:partition} TenMsecs == 0;
    goto L25;

  anon15_Then:
    goto L14;

  anon13_Then:
    assume {:partition} Rounding == 0;
    goto L5;
}



procedure {:origName "FatFatTimeToNtTime"} FatFatTimeToNtTime(actual_IrpContext_221: int, actual_structPtr888FatTime: int, actual_TenMilliSeconds: int) returns (structPtr888Tmp: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFatTimeToNtTime"} FatFatTimeToNtTime(actual_IrpContext_221: int, actual_structPtr888FatTime: int, actual_TenMilliSeconds: int) returns (structPtr888Tmp: int)
{
  var {:scalar} FatTime: int;
  var {:scalar} Time_2: int;
  var {:scalar} TimeFields_2: int;
  var {:scalar} sdv_1793: int;
  var {:scalar} Tmp_3073: int;
  var {:scalar} Tmp: int;
  var {:pointer} structPtr888FatTime: int;
  var {:scalar} TenMilliSeconds: int;

  anon0:
    call {:si_unique_call 3867} FatTime := __HAVOC_malloc(24);
    call {:si_unique_call 3868} Time_2 := __HAVOC_malloc(20);
    call {:si_unique_call 3869} TimeFields_2 := __HAVOC_malloc(32);
    call {:si_unique_call 3870} Tmp := __HAVOC_malloc(20);
    structPtr888FatTime := actual_structPtr888FatTime;
    TenMilliSeconds := actual_TenMilliSeconds;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} structPtr888FatTime != 0;
    assume structPtr888FatTime > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} structPtr888FatTime != 0;
    assume structPtr888FatTime > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} structPtr888FatTime != 0;
    assume structPtr888FatTime > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} structPtr888FatTime != 0;
    assume structPtr888FatTime > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} structPtr888FatTime != 0;
    assume structPtr888FatTime > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} structPtr888FatTime != 0;
    assume structPtr888FatTime > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    assume {:nonnull} FatTime != 0;
    assume FatTime > 0;
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} TenMilliSeconds != 0;
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    Tmp_3073 := INTMOD(TenMilliSeconds, 100);
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    goto L16;

  L16:
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    goto L17;

  L17:
    call {:si_unique_call 3871} sdv_1793 := corral_nondet();
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} sdv_1793 != 0;
    goto L26;

  L26:
    assume {:nonnull} Time_2 != 0;
    assume Time_2 > 0;
    assume {:nonnull} Tmp != 0;
    assume Tmp > 0;
    assume {:nonnull} Time_2 != 0;
    assume Time_2 > 0;
    assume {:nonnull} Tmp != 0;
    assume Tmp > 0;
    assume {:nonnull} Time_2 != 0;
    assume Time_2 > 0;
    assume {:nonnull} Tmp != 0;
    assume Tmp > 0;
    assume {:nonnull} Time_2 != 0;
    assume Time_2 > 0;
    assume {:nonnull} Tmp != 0;
    assume Tmp > 0;
    assume {:nonnull} Time_2 != 0;
    assume Time_2 > 0;
    assume {:nonnull} Tmp != 0;
    assume Tmp > 0;
    structPtr888Tmp := Tmp;
    return;

  anon8_Then:
    assume {:partition} sdv_1793 == 0;
    assume {:nonnull} Time_2 != 0;
    assume Time_2 > 0;
    assume {:nonnull} Time_2 != 0;
    assume Time_2 > 0;
    goto L26;

  anon7_Then:
    goto L17;

  anon9_Then:
    assume {:partition} TenMilliSeconds == 0;
    assume {:nonnull} TimeFields_2 != 0;
    assume TimeFields_2 > 0;
    goto L16;
}



procedure {:origName "_sdv_init22"} _sdv_init22();
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "_sdv_init22"} _sdv_init22()
{
  var vslice_dummy_var_553: int;

  anon0:
    call {:si_unique_call 3872} vslice_dummy_var_553 := __HAVOC_malloc(4);
    return;
}



procedure {:dopa "Mem_T.INT4"} dummy_for_pa();



procedure corralExplainErrorInit();



procedure corralExtraInit();
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation corralExtraInit()
{

  anon0:
    assume 0 < alloc_init;
    assume alloc_init < alloc;
    return;
}



function {:inline true} {:fieldmap "Mem_T.AccessState__IO_SECURITY_CONTEXT"} {:fieldname "AccessState"} AccessState__IO_SECURITY_CONTEXT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.AdvanceOnly_unnamed_tag_14"} {:fieldname "AdvanceOnly"} AdvanceOnly_unnamed_tag_14(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T._FAST_MUTEX"} {:fieldname "AdvancedFcbHeaderMutex"} AdvancedFcbHeaderMutex__NON_PAGED_FCB(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T._FAST_MUTEX"} {:fieldname "AdvancedFcbHeaderMutex"} AdvancedFcbHeaderMutex__VCB(x: int) : int
{
  x + 1248
}

function {:inline true} {:fieldmap "Mem_T.AlignmentRequirement__DEVICE_OBJECT"} {:fieldname "AlignmentRequirement"} AlignmentRequirement__DEVICE_OBJECT(x: int) : int
{
  x + 104
}

function {:inline true} {:fieldmap "Mem_T.AllocatedResourcesTranslated_unnamed_tag_38"} {:fieldname "AllocatedResourcesTranslated"} AllocatedResourcesTranslated_unnamed_tag_38(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.AllocatedResources_unnamed_tag_38"} {:fieldname "AllocatedResources"} AllocatedResources_unnamed_tag_38(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.AllocationSize__FILE_ALLOCATION_INFORMATION"} {:fieldname "AllocationSize"} AllocationSize__FILE_ALLOCATION_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.AllocationSize__FILE_NETWORK_OPEN_INFORMATION"} {:fieldname "AllocationSize"} AllocationSize__FILE_NETWORK_OPEN_INFORMATION(x: int) : int
{
  x + 80
}

function {:inline true} {:fieldmap "Mem_T.AllocationSize__FSRTL_COMMON_FCB_HEADER"} {:fieldname "AllocationSize"} AllocationSize__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.AllocationSize_unnamed_tag_4"} {:fieldname "AllocationSize"} AllocationSize_unnamed_tag_4(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.AllocationSupport__VCB"} {:fieldname "AllocationSupport"} AllocationSupport__VCB(x: int) : int
{
  x + 296
}

function {:inline true} {:fieldmap "Mem_T.Argument1_unnamed_tag_40"} {:fieldname "Argument1"} Argument1_unnamed_tag_40(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Argument2_unnamed_tag_40"} {:fieldname "Argument2"} Argument2_unnamed_tag_40(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Argument3_unnamed_tag_40"} {:fieldname "Argument3"} Argument3_unnamed_tag_40(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Argument4_unnamed_tag_40"} {:fieldname "Argument4"} Argument4_unnamed_tag_40(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.AssociatedIrp__IRP"} {:fieldname "AssociatedIrp"} AssociatedIrp__IRP(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.AsyncCloseActive__FAT_DATA"} {:fieldname "AsyncCloseActive"} AsyncCloseActive__FAT_DATA(x: int) : int
{
  x + 120
}

function {:inline true} {:fieldmap "Mem_T.AsyncCloseCount__FAT_DATA"} {:fieldname "AsyncCloseCount"} AsyncCloseCount__FAT_DATA(x: int) : int
{
  x + 140
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "AsyncCloseList"} AsyncCloseList__FAT_DATA(x: int) : int
{
  x + 144
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "AsyncCloseList"} AsyncCloseList__VCB(x: int) : int
{
  x + 1232
}

function {:inline true} {:fieldmap "Mem_T.Async_unnamed_tag_63"} {:fieldname "Async"} Async_unnamed_tag_63(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Attributes__LUID_AND_ATTRIBUTES"} {:fieldname "Attributes"} Attributes__LUID_AND_ATTRIBUTES(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Attributes__PACKED_DIRENT"} {:fieldname "Attributes"} Attributes__PACKED_DIRENT(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.Attributes__PACKED_LFN_DIRENT"} {:fieldname "Attributes"} Attributes__PACKED_LFN_DIRENT(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.Attributes__SID_AND_ATTRIBUTES"} {:fieldname "Attributes"} Attributes__SID_AND_ATTRIBUTES(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.AuxilaryBuffer__EA_RANGE"} {:fieldname "AuxilaryBuffer"} AuxilaryBuffer__EA_RANGE(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.BackupBootSector_BIOS_PARAMETER_BLOCK"} {:fieldname "BackupBootSector"} BackupBootSector_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 84
}

function {:inline true} {:fieldmap "Mem_T.BackupBootSector__PACKED_BIOS_PARAMETER_BLOCK_EX"} {:fieldname "BackupBootSector"} BackupBootSector__PACKED_BIOS_PARAMETER_BLOCK_EX(x: int) : int
{
  x + 156
}

function {:inline true} {:fieldmap "Mem_T._FILE_BASIC_INFORMATION"} {:fieldname "BasicInformation"} BasicInformation__FILE_ALL_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.PPVOID"} {:fieldname "BcbArray"} BcbArray__EA_RANGE(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.BcbChainLength__EA_RANGE"} {:fieldname "BcbChainLength"} BcbChainLength__EA_RANGE(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.BcbChain__EA_RANGE"} {:fieldname "BcbChain"} BcbChain__EA_RANGE(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.PVOID"} {:fieldname "Bcb"} Bcb__FAT_ENUMERATION_CONTEXT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Bcb__REPINNED_BCBS"} {:fieldname "Bcb"} Bcb__REPINNED_BCBS(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.BitmapSize_VOLUME_BITMAP_BUFFER"} {:fieldname "BitmapSize"} BitmapSize_VOLUME_BITMAP_BUFFER(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.Blink__LIST_ENTRY"} {:fieldname "Blink"} Blink__LIST_ENTRY(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.BIOS_PARAMETER_BLOCK"} {:fieldname "Bpb"} Bpb__VCB(x: int) : int
{
  x + 204
}

function {:inline true} {:fieldmap "Mem_T.BufferSize_unnamed_tag_39"} {:fieldname "BufferSize"} BufferSize_unnamed_tag_39(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Buffer_VOLUME_BITMAP_BUFFER"} {:fieldname "Buffer"} Buffer_VOLUME_BITMAP_BUFFER(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.Buffer__RTL_BITMAP"} {:fieldname "Buffer"} Buffer__RTL_BITMAP(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Buffer__STRING"} {:fieldname "Buffer"} Buffer__STRING(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Buffer_unnamed_tag_30"} {:fieldname "Buffer"} Buffer_unnamed_tag_30(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Buffer_unnamed_tag_39"} {:fieldname "Buffer"} Buffer_unnamed_tag_39(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.ByteCount__IO_RUNS"} {:fieldname "ByteCount"} ByteCount__IO_RUNS(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.ByteOffset_unnamed_tag_10"} {:fieldname "ByteOffset"} ByteOffset_unnamed_tag_10(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.ByteOffset_unnamed_tag_19"} {:fieldname "ByteOffset"} ByteOffset_unnamed_tag_19(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.BytesPerSector_BIOS_PARAMETER_BLOCK"} {:fieldname "BytesPerSector"} BytesPerSector_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.BytesPerSector__DISK_GEOMETRY"} {:fieldname "BytesPerSector"} BytesPerSector__DISK_GEOMETRY(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.BytesPerSector__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "BytesPerSector"} BytesPerSector__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.CancelRoutine__IRP"} {:fieldname "CancelRoutine"} CancelRoutine__IRP(x: int) : int
{
  x + 120
}

function {:inline true} {:fieldmap "Mem_T.Cancel__IRP"} {:fieldname "Cancel"} Cancel__IRP(x: int) : int
{
  x + 64
}

function {:inline true} {:fieldmap "Mem_T.Capabilities_unnamed_tag_28"} {:fieldname "Capabilities"} Capabilities_unnamed_tag_28(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.CdromFileSystemDeviceObject__FAT_DATA"} {:fieldname "CdromFileSystemDeviceObject"} CdromFileSystemDeviceObject__FAT_DATA(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T._ERESOURCE"} {:fieldname "ChangeBitMapResource"} ChangeBitMapResource__VCB(x: int) : int
{
  x + 576
}

function {:inline true} {:fieldmap "Mem_T.ChangeCount__VCB"} {:fieldname "ChangeCount"} ChangeCount__VCB(x: int) : int
{
  x + 1224
}

function {:inline true} {:fieldmap "Mem_T.Characteristics__DEVICE_OBJECT"} {:fieldname "Characteristics"} Characteristics__DEVICE_OBJECT(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.Checksum__PACKED_LFN_DIRENT"} {:fieldname "Checksum"} Checksum__PACKED_LFN_DIRENT(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T.ChicagoMode__FAT_DATA"} {:fieldname "ChicagoMode"} ChicagoMode__FAT_DATA(x: int) : int
{
  x + 112
}

function {:inline true} {:fieldmap "Mem_T._KDPC"} {:fieldname "CleanVolumeDpc"} CleanVolumeDpc__VCB(x: int) : int
{
  x + 844
}

function {:inline true} {:fieldmap "Mem_T.PVOID"} {:fieldname "ClientToken"} ClientToken__SECURITY_SUBJECT_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.CLOSE_CONTEXT"} {:fieldname "CloseContext"} CloseContext__CCB(x: int) : int
{
  x + 96
}

function {:inline true} {:fieldmap "Mem_T.CloseContext__VCB"} {:fieldname "CloseContext"} CloseContext__VCB(x: int) : int
{
  x + 1388
}

function {:inline true} {:fieldmap "Mem_T.ClusterCount_MOVE_FILE_DATA"} {:fieldname "ClusterCount"} ClusterCount_MOVE_FILE_DATA(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.ClusterCount_unnamed_tag_14"} {:fieldname "ClusterCount"} ClusterCount_unnamed_tag_14(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.ClusterHint__VCB"} {:fieldname "ClusterHint"} ClusterHint__VCB(x: int) : int
{
  x + 668
}

function {:inline true} {:fieldmap "Mem_T.ClustersFree__FAT_WINDOW"} {:fieldname "ClustersFree"} ClustersFree__FAT_WINDOW(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.CodePageInvariant__FAT_DATA"} {:fieldname "CodePageInvariant"} CodePageInvariant__FAT_DATA(x: int) : int
{
  x + 128
}

function {:inline true} {:fieldmap "Mem_T._FILESYSTEM_STATISTICS"} {:fieldname "Common"} Common__FILE_SYSTEM_STATISTICS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.CompletionFilter_unnamed_tag_12"} {:fieldname "CompletionFilter"} CompletionFilter_unnamed_tag_12(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.CompletionRoutine__IO_STACK_LOCATION"} {:fieldname "CompletionRoutine"} CompletionRoutine__IO_STACK_LOCATION(x: int) : int
{
  x + 496
}

function {:inline true} {:fieldmap "Mem_T.PINT4"} {:fieldname "Constant"} Constant_unnamed_tag_72(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.ContainsWildCards__CCB"} {:fieldname "ContainsWildCards"} ContainsWildCards__CCB(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.ContextAsUlong__SYSTEM_POWER_STATE_CONTEXT"} {:fieldname "ContextAsUlong"} ContextAsUlong__SYSTEM_POWER_STATE_CONTEXT(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.Context__IO_STACK_LOCATION"} {:fieldname "Context"} Context__IO_STACK_LOCATION(x: int) : int
{
  x + 500
}

function {:inline true} {:fieldmap "Mem_T.Control__INITIAL_PRIVILEGE_SET"} {:fieldname "Control"} Control__INITIAL_PRIVILEGE_SET(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Control__IO_STACK_LOCATION"} {:fieldname "Control"} Control__IO_STACK_LOCATION(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Control__TRACK_DATA"} {:fieldname "Control"} Control__TRACK_DATA(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.CreateHits__FAT_STATISTICS"} {:fieldname "CreateHits"} CreateHits__FAT_STATISTICS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.unnamed_tag_9"} {:fieldname "Create"} Create_unnamed_tag_8(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.INT4"} {:fieldname "CreationMSec"} CreationMSec__PACKED_DIRENT(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T.CreationTime__FCB"} {:fieldname "CreationTime"} CreationTime__FCB(x: int) : int
{
  x + 196
}

function {:inline true} {:fieldmap "Mem_T.CreationTime__FILE_BASIC_INFORMATION"} {:fieldname "CreationTime"} CreationTime__FILE_BASIC_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.CreationTime__FILE_NETWORK_OPEN_INFORMATION"} {:fieldname "CreationTime"} CreationTime__FILE_NETWORK_OPEN_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T._FAT_TIME_STAMP"} {:fieldname "CreationTime"} CreationTime__PACKED_DIRENT(x: int) : int
{
  x + 56
}

function {:inline true} {:fieldmap "Mem_T.CurrentByteOffset__FILE_OBJECT"} {:fieldname "CurrentByteOffset"} CurrentByteOffset__FILE_OBJECT(x: int) : int
{
  x + 88
}

function {:inline true} {:fieldmap "Mem_T.CurrentByteOffset__FILE_POSITION_INFORMATION"} {:fieldname "CurrentByteOffset"} CurrentByteOffset__FILE_POSITION_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.CurrentDevice__VCB"} {:fieldname "CurrentDevice"} CurrentDevice__VCB(x: int) : int
{
  x + 672
}

function {:inline true} {:fieldmap "Mem_T.INT4"} {:fieldname "CurrentHead"} CurrentHead__PACKED_BOOT_SECTOR(x: int) : int
{
  x + 148
}

function {:inline true} {:fieldmap "Mem_T.INT4"} {:fieldname "CurrentHead"} CurrentHead__PACKED_BOOT_SECTOR_EX(x: int) : int
{
  x + 260
}

function {:inline true} {:fieldmap "Mem_T.CurrentStackLocation_unnamed_tag_7"} {:fieldname "CurrentStackLocation"} CurrentStackLocation_unnamed_tag_7(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.CurrentSystemState__SYSTEM_POWER_STATE_CONTEXT"} {:fieldname "CurrentSystemState"} CurrentSystemState__SYSTEM_POWER_STATE_CONTEXT(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.CurrentWindow__VCB"} {:fieldname "CurrentWindow"} CurrentWindow__VCB(x: int) : int
{
  x + 152
}

function {:inline true} {:fieldmap "Mem_T.DataPath_unnamed_tag_39"} {:fieldname "DataPath"} DataPath_unnamed_tag_39(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.DataSectionObject__SECTION_OBJECT_POINTERS"} {:fieldname "DataSectionObject"} DataSectionObject__SECTION_OBJECT_POINTERS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Data_unnamed_tag_47"} {:fieldname "Data"} Data_unnamed_tag_47(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Date__FAT_TIME_STAMP"} {:fieldname "Date"} Date__FAT_TIME_STAMP(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Day__FAT_DATE"} {:fieldname "Day"} Day__FAT_DATE(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Day__TIME_FIELDS"} {:fieldname "Day"} Day__TIME_FIELDS(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Dcb_unnamed_tag_67"} {:fieldname "Dcb"} Dcb_unnamed_tag_67(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.DeferredRoutine__KDPC"} {:fieldname "DeferredRoutine"} DeferredRoutine__KDPC(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.DelayedCloseCount__FAT_DATA"} {:fieldname "DelayedCloseCount"} DelayedCloseCount__FAT_DATA(x: int) : int
{
  x + 152
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "DelayedCloseList"} DelayedCloseList__FAT_DATA(x: int) : int
{
  x + 156
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "DelayedCloseList"} DelayedCloseList__VCB(x: int) : int
{
  x + 1240
}

function {:inline true} {:fieldmap "Mem_T.DeleteAccess__FILE_OBJECT"} {:fieldname "DeleteAccess"} DeleteAccess__FILE_OBJECT(x: int) : int
{
  x + 56
}

function {:inline true} {:fieldmap "Mem_T.DeleteFile__FILE_DISPOSITION_INFORMATION"} {:fieldname "DeleteFile"} DeleteFile__FILE_DISPOSITION_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.DeleteHandle_unnamed_tag_14"} {:fieldname "DeleteHandle"} DeleteHandle_unnamed_tag_14(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.DeletePending__FILE_OBJECT"} {:fieldname "DeletePending"} DeletePending__FILE_OBJECT(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.DeletePending__FILE_STANDARD_INFORMATION"} {:fieldname "DeletePending"} DeletePending__FILE_STANDARD_INFORMATION(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.DeletedDirentHint_unnamed_tag_68"} {:fieldname "DeletedDirentHint"} DeletedDirentHint_unnamed_tag_68(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.Depth__GENERAL_LOOKASIDE"} {:fieldname "Depth"} Depth__GENERAL_LOOKASIDE(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.Depth__SLIST_HEADER"} {:fieldname "Depth"} Depth__SLIST_HEADER(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.INT4"} {:fieldname "DesiredAccess"} DesiredAccess__IO_SECURITY_CONTEXT(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.DeviceCapabilities_unnamed_tag_8"} {:fieldname "DeviceCapabilities"} DeviceCapabilities_unnamed_tag_8(x: int) : int
{
  x + 312
}

function {:inline true} {:fieldmap "Mem_T.DeviceExtension__DEVICE_OBJECT"} {:fieldname "DeviceExtension"} DeviceExtension__DEVICE_OBJECT(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.DeviceHotplug__STORAGE_HOTPLUG_INFO"} {:fieldname "DeviceHotplug"} DeviceHotplug__STORAGE_HOTPLUG_INFO(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.DeviceIoControl_unnamed_tag_8"} {:fieldname "DeviceIoControl"} DeviceIoControl_unnamed_tag_8(x: int) : int
{
  x + 216
}

function {:inline true} {:fieldmap "Mem_T.DeviceObject__DEVOBJ_EXTENSION"} {:fieldname "DeviceObject"} DeviceObject__DEVOBJ_EXTENSION(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.DeviceObject__IO_STACK_LOCATION"} {:fieldname "DeviceObject"} DeviceObject__IO_STACK_LOCATION(x: int) : int
{
  x + 488
}

function {:inline true} {:fieldmap "Mem_T.DeviceObject__VOLUME_DEVICE_OBJECT"} {:fieldname "DeviceObject"} DeviceObject__VOLUME_DEVICE_OBJECT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.DeviceObject__VPB"} {:fieldname "DeviceObject"} DeviceObject__VPB(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.DeviceObject_unnamed_tag_23"} {:fieldname "DeviceObject"} DeviceObject_unnamed_tag_23(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.DeviceState__POWER_STATE"} {:fieldname "DeviceState"} DeviceState__POWER_STATE(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.DeviceTextType_unnamed_tag_33"} {:fieldname "DeviceTextType"} DeviceTextType_unnamed_tag_33(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.DeviceType__DEVICE_OBJECT"} {:fieldname "DeviceType"} DeviceType__DEVICE_OBJECT(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "DirNotifyList"} DirNotifyList__VCB(x: int) : int
{
  x + 688
}

function {:inline true} {:fieldmap "Mem_T.DirectAccessOpenCount__VCB"} {:fieldname "DirectAccessOpenCount"} DirectAccessOpenCount__VCB(x: int) : int
{
  x + 156
}

function {:inline true} {:fieldmap "Mem_T.DirectoryFileOpenCount_unnamed_tag_68"} {:fieldname "DirectoryFileOpenCount"} DirectoryFileOpenCount_unnamed_tag_68(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.DirectoryFile_unnamed_tag_68"} {:fieldname "DirectoryFile"} DirectoryFile_unnamed_tag_68(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Directory__FILE_STANDARD_INFORMATION"} {:fieldname "Directory"} Directory__FILE_STANDARD_INFORMATION(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.DirentFatFlags__FCB"} {:fieldname "DirentFatFlags"} DirentFatFlags__FCB(x: int) : int
{
  x + 512
}

function {:inline true} {:fieldmap "Mem_T.DirentOffsetWithinDirectory__FCB"} {:fieldname "DirentOffsetWithinDirectory"} DirentOffsetWithinDirectory__FCB(x: int) : int
{
  x + 188
}

function {:inline true} {:fieldmap "Mem_T._LARGE_MCB"} {:fieldname "DirtyFatMcb"} DirtyFatMcb__VCB(x: int) : int
{
  x + 328
}

function {:inline true} {:fieldmap "Mem_T.DiskFileSystemDeviceObject__FAT_DATA"} {:fieldname "DiskFileSystemDeviceObject"} DiskFileSystemDeviceObject__FAT_DATA(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.DoubleSeconds__FAT_TIME"} {:fieldname "DoubleSeconds"} DoubleSeconds__FAT_TIME(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T._KDPC"} {:fieldname "Dpc"} Dpc__DEFERRED_FLUSH_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.EaBaseTable__EA_FILE_HEADER"} {:fieldname "EaBaseTable"} EaBaseTable__EA_FILE_HEADER(x: int) : int
{
  x + 84
}

function {:inline true} {:fieldmap "Mem_T.EaFcb__VCB"} {:fieldname "EaFcb"} EaFcb__VCB(x: int) : int
{
  x + 680
}

function {:inline true} {:fieldmap "Mem_T.EaIndex_unnamed_tag_15"} {:fieldname "EaIndex"} EaIndex_unnamed_tag_15(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T._FILE_EA_INFORMATION"} {:fieldname "EaInformation"} EaInformation__FILE_ALL_INFORMATION(x: int) : int
{
  x + 156
}

function {:inline true} {:fieldmap "Mem_T.EaLength_unnamed_tag_9"} {:fieldname "EaLength"} EaLength_unnamed_tag_9(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.EaListLength_unnamed_tag_15"} {:fieldname "EaListLength"} EaListLength_unnamed_tag_15(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.EaList_unnamed_tag_15"} {:fieldname "EaList"} EaList_unnamed_tag_15(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.EaModificationCount__CCB"} {:fieldname "EaModificationCount"} EaModificationCount__CCB(x: int) : int
{
  x + 88
}

function {:inline true} {:fieldmap "Mem_T.EaModificationCount__FCB"} {:fieldname "EaModificationCount"} EaModificationCount__FCB(x: int) : int
{
  x + 448
}

function {:inline true} {:fieldmap "Mem_T.EaNameLength__FILE_FULL_EA_INFORMATION"} {:fieldname "EaNameLength"} EaNameLength__FILE_FULL_EA_INFORMATION(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.INT4"} {:fieldname "EaNameLength"} EaNameLength__PACKED_EA(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.EaName__FILE_FULL_EA_INFORMATION"} {:fieldname "EaName"} EaName__FILE_FULL_EA_INFORMATION(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.EaName__PACKED_EA"} {:fieldname "EaName"} EaName__PACKED_EA(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.INT4"} {:fieldname "EaSize"} EaSize__FILE_EA_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.EaValueLength__FILE_FULL_EA_INFORMATION"} {:fieldname "EaValueLength"} EaValueLength__FILE_FULL_EA_INFORMATION(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.PINT4"} {:fieldname "EaValueLength"} EaValueLength__PACKED_EA(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.EffectiveSystemState__SYSTEM_POWER_STATE_CONTEXT"} {:fieldname "EffectiveSystemState"} EffectiveSystemState__SYSTEM_POWER_STATE_CONTEXT(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.EndOfFile__FILE_END_OF_FILE_INFORMATION"} {:fieldname "EndOfFile"} EndOfFile__FILE_END_OF_FILE_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.EndOfFile__FILE_NETWORK_OPEN_INFORMATION"} {:fieldname "EndOfFile"} EndOfFile__FILE_NETWORK_OPEN_INFORMATION(x: int) : int
{
  x + 100
}

function {:inline true} {:fieldmap "Mem_T.EndOfFile__FILE_STANDARD_INFORMATION"} {:fieldname "EndOfFile"} EndOfFile__FILE_STANDARD_INFORMATION(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.VOID"} {:fieldname "Event"} Event_FAT_PAGING_FILE_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.VOID"} {:fieldname "Event"} Event__CACHE_UNINITIALIZE_EVENT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T._UNICODE_STRING"} {:fieldname "ExactCaseLongName"} ExactCaseLongName__FCB(x: int) : int
{
  x + 516
}

function {:inline true} {:fieldmap "Mem_T.ExceptionStatus__IRP_CONTEXT"} {:fieldname "ExceptionStatus"} ExceptionStatus__IRP_CONTEXT(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T.ExtendedAttributes__PACKED_DIRENT"} {:fieldname "ExtendedAttributes"} ExtendedAttributes__PACKED_DIRENT(x: int) : int
{
  x + 92
}

function {:inline true} {:fieldmap "Mem_T.ExtendedFlags_BIOS_PARAMETER_BLOCK"} {:fieldname "ExtendedFlags"} ExtendedFlags_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T.ExtendedFlags__PACKED_BIOS_PARAMETER_BLOCK_EX"} {:fieldname "ExtendedFlags"} ExtendedFlags__PACKED_BIOS_PARAMETER_BLOCK_EX(x: int) : int
{
  x + 116
}

function {:inline true} {:fieldmap "Mem_T.ExtentCount_RETRIEVAL_POINTERS_BUFFER"} {:fieldname "ExtentCount"} ExtentCount_RETRIEVAL_POINTERS_BUFFER(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Extents_RETRIEVAL_POINTERS_BUFFER"} {:fieldname "Extents"} Extents_RETRIEVAL_POINTERS_BUFFER(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.FailedCreates__FAT_STATISTICS"} {:fieldname "FailedCreates"} FailedCreates__FAT_STATISTICS(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.FastIoIsQuestionable__FILE_LOCK"} {:fieldname "FastIoIsQuestionable"} FastIoIsQuestionable__FILE_LOCK(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.FastMutex__FSRTL_ADVANCED_FCB_HEADER"} {:fieldname "FastMutex"} FastMutex__FSRTL_ADVANCED_FCB_HEADER(x: int) : int
{
  x + 96
}

function {:inline true} {:fieldmap "Mem_T.FatIndexBitSize_unnamed_tag_65"} {:fieldname "FatIndexBitSize"} FatIndexBitSize_unnamed_tag_65(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.FatIoContext__IRP_CONTEXT"} {:fieldname "FatIoContext"} FatIoContext__IRP_CONTEXT(x: int) : int
{
  x + 56
}

function {:inline true} {:fieldmap "Mem_T.Fat__FILE_SYSTEM_STATISTICS"} {:fieldname "Fat"} Fat__FILE_SYSTEM_STATISTICS(x: int) : int
{
  x + 60
}

function {:inline true} {:fieldmap "Mem_T.Fats_BIOS_PARAMETER_BLOCK"} {:fieldname "Fats"} Fats_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Fats__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "Fats"} Fats__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.FcbCondition__FCB"} {:fieldname "FcbCondition"} FcbCondition__FCB(x: int) : int
{
  x + 144
}

function {:inline true} {:fieldmap "Mem_T.FcbState__FCB"} {:fieldname "FcbState"} FcbState__FCB(x: int) : int
{
  x + 140
}

function {:inline true} {:fieldmap "Mem_T.Fcb_CLOSE_CONTEXT"} {:fieldname "Fcb"} Fcb_CLOSE_CONTEXT(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.Fcb__FILE_NAME_NODE"} {:fieldname "Fcb"} Fcb__FILE_NAME_NODE(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Fcb__PAGING_FILE_OVERFLOW_PACKET"} {:fieldname "Fcb"} Fcb__PAGING_FILE_OVERFLOW_PACKET(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.unnamed_tag_69"} {:fieldname "Fcb"} Fcb_unnamed_tag_67(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.FileAreaLbo_unnamed_tag_65"} {:fieldname "FileAreaLbo"} FileAreaLbo_unnamed_tag_65(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.FileAttributes__FILE_BASIC_INFORMATION"} {:fieldname "FileAttributes"} FileAttributes__FILE_BASIC_INFORMATION(x: int) : int
{
  x + 80
}

function {:inline true} {:fieldmap "Mem_T.FileAttributes__FILE_NETWORK_OPEN_INFORMATION"} {:fieldname "FileAttributes"} FileAttributes__FILE_NETWORK_OPEN_INFORMATION(x: int) : int
{
  x + 120
}

function {:inline true} {:fieldmap "Mem_T.FileAttributes_unnamed_tag_9"} {:fieldname "FileAttributes"} FileAttributes_unnamed_tag_9(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.FileContextSupportPointer__FSRTL_ADVANCED_FCB_HEADER"} {:fieldname "FileContextSupportPointer"} FileContextSupportPointer__FSRTL_ADVANCED_FCB_HEADER(x: int) : int
{
  x + 112
}

function {:inline true} {:fieldmap "Mem_T.FileIndex_unnamed_tag_11"} {:fieldname "FileIndex"} FileIndex_unnamed_tag_11(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.FileInformationClass_unnamed_tag_11"} {:fieldname "FileInformationClass"} FileInformationClass_unnamed_tag_11(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.FileInformationClass_unnamed_tag_13"} {:fieldname "FileInformationClass"} FileInformationClass_unnamed_tag_13(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T._FILE_LOCK"} {:fieldname "FileLock"} FileLock_unnamed_tag_69(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.FileNameDos__FILE_NAME_NODE"} {:fieldname "FileNameDos"} FileNameDos__FILE_NAME_NODE(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.FileNameLength__FILE_NAME_INFORMATION"} {:fieldname "FileNameLength"} FileNameLength__FILE_NAME_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.FileNameLength__FILE_RENAME_INFORMATION"} {:fieldname "FileNameLength"} FileNameLength__FILE_RENAME_INFORMATION(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.FileName__FILE_NAME_INFORMATION"} {:fieldname "FileName"} FileName__FILE_NAME_INFORMATION(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.FileName__FILE_OBJECT"} {:fieldname "FileName"} FileName__FILE_OBJECT(x: int) : int
{
  x + 76
}

function {:inline true} {:fieldmap "Mem_T.PINT4"} {:fieldname "FileName"} FileName__FILE_RENAME_INFORMATION(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.FileName__PACKED_DIRENT"} {:fieldname "FileName"} FileName__PACKED_DIRENT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.FileName_unnamed_tag_11"} {:fieldname "FileName"} FileName_unnamed_tag_11(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.FileObjectWithVcbLocked__VCB"} {:fieldname "FileObjectWithVcbLocked"} FileObjectWithVcbLocked__VCB(x: int) : int
{
  x + 684
}

function {:inline true} {:fieldmap "Mem_T.FileObject__IO_STACK_LOCATION"} {:fieldname "FileObject"} FileObject__IO_STACK_LOCATION(x: int) : int
{
  x + 492
}

function {:inline true} {:fieldmap "Mem_T.FileObject_unnamed_tag_14"} {:fieldname "FileObject"} FileObject_unnamed_tag_14(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.FileObject_unnamed_tag_64"} {:fieldname "FileObject"} FileObject_unnamed_tag_64(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.FileSize__CC_FILE_SIZES"} {:fieldname "FileSize"} FileSize__CC_FILE_SIZES(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.FileSize__DELETE_CONTEXT"} {:fieldname "FileSize"} FileSize__DELETE_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T._LARGE_INTEGER"} {:fieldname "FileSize"} FileSize__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 56
}

function {:inline true} {:fieldmap "Mem_T.FileSize__PACKED_DIRENT"} {:fieldname "FileSize"} FileSize__PACKED_DIRENT(x: int) : int
{
  x + 128
}

function {:inline true} {:fieldmap "Mem_T.FileSystemControl_unnamed_tag_8"} {:fieldname "FileSystemControl"} FileSystemControl_unnamed_tag_8(x: int) : int
{
  x + 172
}

function {:inline true} {:fieldmap "Mem_T.FileSystemType__FILESYSTEM_STATISTICS"} {:fieldname "FileSystemType"} FileSystemType__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.File__DEFERRED_FLUSH_CONTEXT"} {:fieldname "File"} File__DEFERRED_FLUSH_CONTEXT(x: int) : int
{
  x + 216
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "FilterContexts"} FilterContexts__FSRTL_ADVANCED_FCB_HEADER(x: int) : int
{
  x + 100
}

function {:inline true} {:fieldmap "Mem_T.FilterResourceRequirements_unnamed_tag_8"} {:fieldname "FilterResourceRequirements"} FilterResourceRequirements_unnamed_tag_8(x: int) : int
{
  x + 316
}

function {:inline true} {:fieldmap "Mem_T.FinalNameLength__FCB"} {:fieldname "FinalNameLength"} FinalNameLength__FCB(x: int) : int
{
  x + 508
}

function {:inline true} {:fieldmap "Mem_T.First0x24BytesOfBootSector__VCB"} {:fieldname "First0x24BytesOfBootSector"} First0x24BytesOfBootSector__VCB(x: int) : int
{
  x + 292
}

function {:inline true} {:fieldmap "Mem_T.FirstClusterOfFileHi__PACKED_DIRENT"} {:fieldname "FirstClusterOfFileHi"} FirstClusterOfFileHi__PACKED_DIRENT(x: int) : int
{
  x + 96
}

function {:inline true} {:fieldmap "Mem_T.FirstClusterOfFile__DELETE_CONTEXT"} {:fieldname "FirstClusterOfFile"} FirstClusterOfFile__DELETE_CONTEXT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.FirstClusterOfFile__FCB"} {:fieldname "FirstClusterOfFile"} FirstClusterOfFile__FCB(x: int) : int
{
  x + 120
}

function {:inline true} {:fieldmap "Mem_T.FirstClusterOfFile__PACKED_DIRENT"} {:fieldname "FirstClusterOfFile"} FirstClusterOfFile__PACKED_DIRENT(x: int) : int
{
  x + 124
}

function {:inline true} {:fieldmap "Mem_T.FirstCluster__FAT_WINDOW"} {:fieldname "FirstCluster"} FirstCluster__FAT_WINDOW(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.FirstTrack__CDROM_TOC"} {:fieldname "FirstTrack"} FirstTrack__CDROM_TOC(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Flags2__FSRTL_COMMON_FCB_HEADER"} {:fieldname "Flags2"} Flags2__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.Flags__CCB"} {:fieldname "Flags"} Flags__CCB(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Flags__DEVICE_OBJECT"} {:fieldname "Flags"} Flags__DEVICE_OBJECT(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.Flags__FILE_FULL_EA_INFORMATION"} {:fieldname "Flags"} Flags__FILE_FULL_EA_INFORMATION(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Flags__FILE_OBJECT"} {:fieldname "Flags"} Flags__FILE_OBJECT(x: int) : int
{
  x + 72
}

function {:inline true} {:fieldmap "Mem_T.Flags__FSRTL_COMMON_FCB_HEADER"} {:fieldname "Flags"} Flags__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Flags__IO_STACK_LOCATION"} {:fieldname "Flags"} Flags__IO_STACK_LOCATION(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Flags__IRP"} {:fieldname "Flags"} Flags__IRP(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Flags__IRP_CONTEXT"} {:fieldname "Flags"} Flags__IRP_CONTEXT(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.Flags__PACKED_EA"} {:fieldname "Flags"} Flags__PACKED_EA(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Flags__VPB"} {:fieldname "Flags"} Flags__VPB(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Flink__LIST_ENTRY"} {:fieldname "Flink"} Flink__LIST_ENTRY(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.ForceAlignment__UCHAR2"} {:fieldname "ForceAlignment"} ForceAlignment__UCHAR2(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.ForceAlignment__UCHAR4"} {:fieldname "ForceAlignment"} ForceAlignment__UCHAR4(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T._RTL_BITMAP"} {:fieldname "FreeClusterBitMap"} FreeClusterBitMap__VCB(x: int) : int
{
  x + 352
}

function {:inline true} {:fieldmap "Mem_T.FreeClusterCount__FSINFO_SECTOR"} {:fieldname "FreeClusterCount"} FreeClusterCount__FSINFO_SECTOR(x: int) : int
{
  x + 1928
}

function {:inline true} {:fieldmap "Mem_T.FreeDirentBitmapBuffer_unnamed_tag_68"} {:fieldname "FreeDirentBitmapBuffer"} FreeDirentBitmapBuffer_unnamed_tag_68(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T._RTL_BITMAP"} {:fieldname "FreeDirentBitmap"} FreeDirentBitmap_unnamed_tag_68(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.FreeMisses__GENERAL_LOOKASIDE"} {:fieldname "FreeMisses"} FreeMisses__GENERAL_LOOKASIDE(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.Free_CLOSE_CONTEXT"} {:fieldname "Free"} Free_CLOSE_CONTEXT(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.Free__GENERAL_LOOKASIDE"} {:fieldname "Free"} Free__GENERAL_LOOKASIDE(x: int) : int
{
  x + 76
}

function {:inline true} {:fieldmap "Mem_T.FsContext2__FILE_OBJECT"} {:fieldname "FsContext2"} FsContext2__FILE_OBJECT(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.FsContext__FILE_OBJECT"} {:fieldname "FsContext"} FsContext__FILE_OBJECT(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.FsControlCode_unnamed_tag_18"} {:fieldname "FsControlCode"} FsControlCode_unnamed_tag_18(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.FsInfoSector_BIOS_PARAMETER_BLOCK"} {:fieldname "FsInfoSector"} FsInfoSector_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 80
}

function {:inline true} {:fieldmap "Mem_T.FsInfoSector__PACKED_BIOS_PARAMETER_BLOCK_EX"} {:fieldname "FsInfoSector"} FsInfoSector__PACKED_BIOS_PARAMETER_BLOCK_EX(x: int) : int
{
  x + 148
}

function {:inline true} {:fieldmap "Mem_T.FsInfoSignature__FSINFO_SECTOR"} {:fieldname "FsInfoSignature"} FsInfoSignature__FSINFO_SECTOR(x: int) : int
{
  x + 1924
}

function {:inline true} {:fieldmap "Mem_T.FsInformationClass_unnamed_tag_17"} {:fieldname "FsInformationClass"} FsInformationClass_unnamed_tag_17(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.FsVersion_BIOS_PARAMETER_BLOCK"} {:fieldname "FsVersion"} FsVersion_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 72
}

function {:inline true} {:fieldmap "Mem_T.FsVersion__PACKED_BIOS_PARAMETER_BLOCK_EX"} {:fieldname "FsVersion"} FsVersion__PACKED_BIOS_PARAMETER_BLOCK_EX(x: int) : int
{
  x + 124
}

function {:inline true} {:fieldmap "Mem_T.FujitsuFMR__FAT_DATA"} {:fieldname "FujitsuFMR"} FujitsuFMR__FAT_DATA(x: int) : int
{
  x + 116
}

function {:inline true} {:fieldmap "Mem_T._UNICODE_STRING"} {:fieldname "FullFileName"} FullFileName__FCB(x: int) : int
{
  x + 496
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "GlobalLinks"} GlobalLinks_CLOSE_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.GroupCount__TOKEN_GROUPS"} {:fieldname "GroupCount"} GroupCount__TOKEN_GROUPS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Groups__TOKEN_GROUPS"} {:fieldname "Groups"} Groups__TOKEN_GROUPS(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T._FSRTL_ADVANCED_FCB_HEADER"} {:fieldname "Header"} Header__FCB(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Header__KEVENT"} {:fieldname "Header"} Header__KEVENT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Heads_BIOS_PARAMETER_BLOCK"} {:fieldname "Heads"} Heads_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.Heads__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "Heads"} Heads__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 60
}

function {:inline true} {:fieldmap "Mem_T.HiddenSectors_BIOS_PARAMETER_BLOCK"} {:fieldname "HiddenSectors"} HiddenSectors_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.HiddenSectors__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "HiddenSectors"} HiddenSectors__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 68
}

function {:inline true} {:fieldmap "Mem_T.HighAsync__FAT_DATA"} {:fieldname "HighAsync"} HighAsync__FAT_DATA(x: int) : int
{
  x + 132
}

function {:inline true} {:fieldmap "Mem_T.HighDelayed__FAT_DATA"} {:fieldname "HighDelayed"} HighDelayed__FAT_DATA(x: int) : int
{
  x + 136
}

function {:inline true} {:fieldmap "Mem_T.HighPart__LUID"} {:fieldname "HighPart"} HighPart__LUID(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Hour__FAT_TIME"} {:fieldname "Hour"} Hour__FAT_TIME(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Hour__TIME_FIELDS"} {:fieldname "Hour"} Hour__TIME_FIELDS(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.IdType_unnamed_tag_32"} {:fieldname "IdType"} IdType_unnamed_tag_32(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.PINT4"} {:fieldname "Id"} Id__PACKED_BOOT_SECTOR(x: int) : int
{
  x + 156
}

function {:inline true} {:fieldmap "Mem_T.PINT4"} {:fieldname "Id"} Id__PACKED_BOOT_SECTOR_EX(x: int) : int
{
  x + 268
}

function {:inline true} {:fieldmap "Mem_T.IgnoreHibernationPath__SYSTEM_POWER_STATE_CONTEXT"} {:fieldname "IgnoreHibernationPath"} IgnoreHibernationPath__SYSTEM_POWER_STATE_CONTEXT(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.ImageSectionObject__SECTION_OBJECT_POINTERS"} {:fieldname "ImageSectionObject"} ImageSectionObject__SECTION_OBJECT_POINTERS(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.InPath_unnamed_tag_34"} {:fieldname "InPath"} InPath_unnamed_tag_34(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.IndexNumber__FILE_INTERNAL_INFORMATION"} {:fieldname "IndexNumber"} IndexNumber__FILE_INTERNAL_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Information__IO_STATUS_BLOCK"} {:fieldname "Information"} Information__IO_STATUS_BLOCK(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.InputBufferLength_unnamed_tag_18"} {:fieldname "InputBufferLength"} InputBufferLength_unnamed_tag_18(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.InputBufferLength_unnamed_tag_20"} {:fieldname "InputBufferLength"} InputBufferLength_unnamed_tag_20(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.InterfaceSpecificData_unnamed_tag_27"} {:fieldname "InterfaceSpecificData"} InterfaceSpecificData_unnamed_tag_27(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.InterfaceType_unnamed_tag_27"} {:fieldname "InterfaceType"} InterfaceType_unnamed_tag_27(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Interface_unnamed_tag_27"} {:fieldname "Interface"} Interface_unnamed_tag_27(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T._FILE_INTERNAL_INFORMATION"} {:fieldname "InternalInformation"} InternalInformation__FILE_ALL_INFORMATION(x: int) : int
{
  x + 136
}

function {:inline true} {:fieldmap "Mem_T.InternalOpenCount__VCB"} {:fieldname "InternalOpenCount"} InternalOpenCount__VCB(x: int) : int
{
  x + 196
}

function {:inline true} {:fieldmap "Mem_T.IoControlCode_unnamed_tag_20"} {:fieldname "IoControlCode"} IoControlCode_unnamed_tag_20(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.IoResourceRequirementList_unnamed_tag_29"} {:fieldname "IoResourceRequirementList"} IoResourceRequirementList_unnamed_tag_29(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.IoStatus__IRP"} {:fieldname "IoStatus"} IoStatus__IRP(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.IrpCount__FAT_IO_CONTEXT"} {:fieldname "IrpCount"} IrpCount__FAT_IO_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.IrpCount_unnamed_tag_3"} {:fieldname "IrpCount"} IrpCount_unnamed_tag_3(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Irp__PAGING_FILE_OVERFLOW_PACKET"} {:fieldname "Irp"} Irp__PAGING_FILE_OVERFLOW_PACKET(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.IsFastIoPossible__FSRTL_COMMON_FCB_HEADER"} {:fieldname "IsFastIoPossible"} IsFastIoPossible__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Jump__PACKED_BOOT_SECTOR"} {:fieldname "Jump"} Jump__PACKED_BOOT_SECTOR(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Key_unnamed_tag_10"} {:fieldname "Key"} Key_unnamed_tag_10(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Key_unnamed_tag_19"} {:fieldname "Key"} Key_unnamed_tag_19(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.L__NPAGED_LOOKASIDE_LIST"} {:fieldname "L"} L__NPAGED_LOOKASIDE_LIST(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.LargeSectorsPerFat_BIOS_PARAMETER_BLOCK"} {:fieldname "LargeSectorsPerFat"} LargeSectorsPerFat_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.LargeSectorsPerFat__PACKED_BIOS_PARAMETER_BLOCK_EX"} {:fieldname "LargeSectorsPerFat"} LargeSectorsPerFat__PACKED_BIOS_PARAMETER_BLOCK_EX(x: int) : int
{
  x + 100
}

function {:inline true} {:fieldmap "Mem_T.LargeSectors_BIOS_PARAMETER_BLOCK"} {:fieldname "LargeSectors"} LargeSectors_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.LargeSectors__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "LargeSectors"} LargeSectors__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 84
}

function {:inline true} {:fieldmap "Mem_T.LastAccessDate__PACKED_DIRENT"} {:fieldname "LastAccessDate"} LastAccessDate__PACKED_DIRENT(x: int) : int
{
  x + 80
}

function {:inline true} {:fieldmap "Mem_T.LastAccessTime__FCB"} {:fieldname "LastAccessTime"} LastAccessTime__FCB(x: int) : int
{
  x + 216
}

function {:inline true} {:fieldmap "Mem_T.LastAccessTime__FILE_BASIC_INFORMATION"} {:fieldname "LastAccessTime"} LastAccessTime__FILE_BASIC_INFORMATION(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.LastAccessTime__FILE_NETWORK_OPEN_INFORMATION"} {:fieldname "LastAccessTime"} LastAccessTime__FILE_NETWORK_OPEN_INFORMATION(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.LastCluster__FAT_WINDOW"} {:fieldname "LastCluster"} LastCluster__FAT_WINDOW(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.LastFatMarkVolumeDirtyCall__VCB"} {:fieldname "LastFatMarkVolumeDirtyCall"} LastFatMarkVolumeDirtyCall__VCB(x: int) : int
{
  x + 1044
}

function {:inline true} {:fieldmap "Mem_T.LastTrack__CDROM_TOC"} {:fieldname "LastTrack"} LastTrack__CDROM_TOC(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T._LARGE_INTEGER"} {:fieldname "LastWriteTime"} LastWriteTime__FCB(x: int) : int
{
  x + 236
}

function {:inline true} {:fieldmap "Mem_T.LastWriteTime__FILE_BASIC_INFORMATION"} {:fieldname "LastWriteTime"} LastWriteTime__FILE_BASIC_INFORMATION(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.LastWriteTime__FILE_NETWORK_OPEN_INFORMATION"} {:fieldname "LastWriteTime"} LastWriteTime__FILE_NETWORK_OPEN_INFORMATION(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T._FAT_TIME_STAMP"} {:fieldname "LastWriteTime"} LastWriteTime__PACKED_DIRENT(x: int) : int
{
  x + 100
}

function {:inline true} {:fieldmap "Mem_T.LazyWriteThread_unnamed_tag_69"} {:fieldname "LazyWriteThread"} LazyWriteThread_unnamed_tag_69(x: int) : int
{
  x + 116
}

function {:inline true} {:fieldmap "Mem_T.Lbo__IO_RUNS"} {:fieldname "Lbo"} Lbo__IO_RUNS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Lcn_unnamed_tag_73"} {:fieldname "Lcn"} Lcn_unnamed_tag_73(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.LeftChild__RTL_SPLAY_LINKS"} {:fieldname "LeftChild"} LeftChild__RTL_SPLAY_LINKS(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Length__EA_RANGE"} {:fieldname "Length"} Length__EA_RANGE(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Length_unnamed_tag_16"} {:fieldname "Length"} Length_unnamed_tag_16(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Length_unnamed_tag_19"} {:fieldname "Length"} Length_unnamed_tag_19(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Length_unnamed_tag_21"} {:fieldname "Length"} Length_unnamed_tag_21(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Length_unnamed_tag_30"} {:fieldname "Length"} Length_unnamed_tag_30(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.LfnOffsetWithinDirectory__FCB"} {:fieldname "LfnOffsetWithinDirectory"} LfnOffsetWithinDirectory__FCB(x: int) : int
{
  x + 192
}

function {:inline true} {:fieldmap "Mem_T._RTL_SPLAY_LINKS"} {:fieldname "Links"} Links__FILE_NAME_NODE(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T._SLIST_HEADER"} {:fieldname "ListHead"} ListHead__GENERAL_LOOKASIDE(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "List"} List__WORK_QUEUE_ITEM(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.LocaleId_unnamed_tag_33"} {:fieldname "LocaleId"} LocaleId_unnamed_tag_33(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.LockControl_unnamed_tag_8"} {:fieldname "LockControl"} LockControl_unnamed_tag_8(x: int) : int
{
  x + 188
}

function {:inline true} {:fieldmap "Mem_T.Lock_unnamed_tag_31"} {:fieldname "Lock"} Lock_unnamed_tag_31(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.LogOfBytesPerCluster_unnamed_tag_65"} {:fieldname "LogOfBytesPerCluster"} LogOfBytesPerCluster_unnamed_tag_65(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.LogOfBytesPerSector_unnamed_tag_65"} {:fieldname "LogOfBytesPerSector"} LogOfBytesPerSector_unnamed_tag_65(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.LongName__FCB"} {:fieldname "LongName"} LongName__FCB(x: int) : int
{
  x + 528
}

function {:inline true} {:fieldmap "Mem_T.LowPart__LUID"} {:fieldname "LowPart"} LowPart__LUID(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Luid__LUID_AND_ATTRIBUTES"} {:fieldname "Luid"} Luid__LUID_AND_ATTRIBUTES(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.MajorFunction__IO_STACK_LOCATION"} {:fieldname "MajorFunction"} MajorFunction__IO_STACK_LOCATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.MajorFunction__IRP_CONTEXT"} {:fieldname "MajorFunction"} MajorFunction__IRP_CONTEXT(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.MasterIrp__FAT_IO_CONTEXT"} {:fieldname "MasterIrp"} MasterIrp__FAT_IO_CONTEXT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.MaximumLength__STRING"} {:fieldname "MaximumLength"} MaximumLength__STRING(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Mbr__PARTITION_INFORMATION_EX"} {:fieldname "Mbr"} Mbr__PARTITION_INFORMATION_EX(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T._LARGE_MCB"} {:fieldname "Mcb"} Mcb__FCB(x: int) : int
{
  x + 260
}

function {:inline true} {:fieldmap "Mem_T.MdlAddress__IRP"} {:fieldname "MdlAddress"} MdlAddress__IRP(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.MediaHotplug__STORAGE_HOTPLUG_INFO"} {:fieldname "MediaHotplug"} MediaHotplug__STORAGE_HOTPLUG_INFO(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.MediaRemovable__STORAGE_HOTPLUG_INFO"} {:fieldname "MediaRemovable"} MediaRemovable__STORAGE_HOTPLUG_INFO(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Media_BIOS_PARAMETER_BLOCK"} {:fieldname "Media"} Media_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.Media__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "Media"} Media__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.MetaDataDiskReads__FILESYSTEM_STATISTICS"} {:fieldname "MetaDataDiskReads"} MetaDataDiskReads__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.MetaDataDiskWrites__FILESYSTEM_STATISTICS"} {:fieldname "MetaDataDiskWrites"} MetaDataDiskWrites__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 56
}

function {:inline true} {:fieldmap "Mem_T.MetaDataReadBytes__FILESYSTEM_STATISTICS"} {:fieldname "MetaDataReadBytes"} MetaDataReadBytes__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.MetaDataReads__FILESYSTEM_STATISTICS"} {:fieldname "MetaDataReads"} MetaDataReads__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.MetaDataWriteBytes__FILESYSTEM_STATISTICS"} {:fieldname "MetaDataWriteBytes"} MetaDataWriteBytes__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T.MetaDataWrites__FILESYSTEM_STATISTICS"} {:fieldname "MetaDataWrites"} MetaDataWrites__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.Milliseconds__TIME_FIELDS"} {:fieldname "Milliseconds"} Milliseconds__TIME_FIELDS(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.MinorFunction__IO_STACK_LOCATION"} {:fieldname "MinorFunction"} MinorFunction__IO_STACK_LOCATION(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.MinorFunction__IRP_CONTEXT"} {:fieldname "MinorFunction"} MinorFunction__IRP_CONTEXT(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.Minute__FAT_TIME"} {:fieldname "Minute"} Minute__FAT_TIME(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Minute__TIME_FIELDS"} {:fieldname "Minute"} Minute__TIME_FIELDS(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.MirrorDisabled_BIOS_PARAMETER_BLOCK"} {:fieldname "MirrorDisabled"} MirrorDisabled_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 64
}

function {:inline true} {:fieldmap "Mem_T.Month__FAT_DATE"} {:fieldname "Month"} Month__FAT_DATE(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Month__TIME_FIELDS"} {:fieldname "Month"} Month__TIME_FIELDS(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.MountVolume_unnamed_tag_8"} {:fieldname "MountVolume"} MountVolume_unnamed_tag_8(x: int) : int
{
  x + 248
}

function {:inline true} {:fieldmap "Mem_T.MoveFileEvent__FCB"} {:fieldname "MoveFileEvent"} MoveFileEvent__FCB(x: int) : int
{
  x + 616
}

function {:inline true} {:fieldmap "Mem_T.MustBeZero__PACKED_LFN_DIRENT"} {:fieldname "MustBeZero"} MustBeZero__PACKED_LFN_DIRENT(x: int) : int
{
  x + 80
}

function {:inline true} {:fieldmap "Mem_T.Name1__PACKED_LFN_DIRENT"} {:fieldname "Name1"} Name1__PACKED_LFN_DIRENT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Name2__PACKED_LFN_DIRENT"} {:fieldname "Name2"} Name2__PACKED_LFN_DIRENT(x: int) : int
{
  x + 56
}

function {:inline true} {:fieldmap "Mem_T.Name3__PACKED_LFN_DIRENT"} {:fieldname "Name3"} Name3__PACKED_LFN_DIRENT(x: int) : int
{
  x + 84
}

function {:inline true} {:fieldmap "Mem_T._FILE_NAME_INFORMATION"} {:fieldname "NameInformation"} NameInformation__FILE_ALL_INFORMATION(x: int) : int
{
  x + 192
}

function {:inline true} {:fieldmap "Mem_T.Name__FILE_NAME_NODE"} {:fieldname "Name"} Name__FILE_NAME_NODE(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.NeedEaCount__EA_SET_HEADER"} {:fieldname "NeedEaCount"} NeedEaCount__EA_SET_HEADER(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.NextEntryOffset__FILE_FULL_EA_INFORMATION"} {:fieldname "NextEntryOffset"} NextEntryOffset__FILE_FULL_EA_INFORMATION(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.NextFreeCluster__FSINFO_SECTOR"} {:fieldname "NextFreeCluster"} NextFreeCluster__FSINFO_SECTOR(x: int) : int
{
  x + 1932
}

function {:inline true} {:fieldmap "Mem_T.NextVcn_unnamed_tag_73"} {:fieldname "NextVcn"} NextVcn_unnamed_tag_73(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Next__MDL"} {:fieldname "Next"} Next__MDL(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Next__REPINNED_BCBS"} {:fieldname "Next"} Next__REPINNED_BCBS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.NodeByteSize__CCB"} {:fieldname "NodeByteSize"} NodeByteSize__CCB(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.NodeByteSize__FSRTL_COMMON_FCB_HEADER"} {:fieldname "NodeByteSize"} NodeByteSize__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.NodeByteSize__IRP_CONTEXT"} {:fieldname "NodeByteSize"} NodeByteSize__IRP_CONTEXT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.NodeTypeCode__CCB"} {:fieldname "NodeTypeCode"} NodeTypeCode__CCB(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.NodeTypeCode__FSRTL_COMMON_FCB_HEADER"} {:fieldname "NodeTypeCode"} NodeTypeCode__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.NodeTypeCode__IRP_CONTEXT"} {:fieldname "NodeTypeCode"} NodeTypeCode__IRP_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.NonCachedDiskReads__FAT_STATISTICS"} {:fieldname "NonCachedDiskReads"} NonCachedDiskReads__FAT_STATISTICS(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.NonCachedDiskWrites__FAT_STATISTICS"} {:fieldname "NonCachedDiskWrites"} NonCachedDiskWrites__FAT_STATISTICS(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.NonCachedReadBytes__FAT_STATISTICS"} {:fieldname "NonCachedReadBytes"} NonCachedReadBytes__FAT_STATISTICS(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.NonCachedReads__FAT_STATISTICS"} {:fieldname "NonCachedReads"} NonCachedReads__FAT_STATISTICS(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.NonCachedUncleanCount__FCB"} {:fieldname "NonCachedUncleanCount"} NonCachedUncleanCount__FCB(x: int) : int
{
  x + 184
}

function {:inline true} {:fieldmap "Mem_T.NonCachedWriteBytes__FAT_STATISTICS"} {:fieldname "NonCachedWriteBytes"} NonCachedWriteBytes__FAT_STATISTICS(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.NonCachedWrites__FAT_STATISTICS"} {:fieldname "NonCachedWrites"} NonCachedWrites__FAT_STATISTICS(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.NonPagedFcb_unnamed_tag_64"} {:fieldname "NonPagedFcb"} NonPagedFcb_unnamed_tag_64(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.NonPaged__FCB"} {:fieldname "NonPaged"} NonPaged__FCB(x: int) : int
{
  x + 116
}

function {:inline true} {:fieldmap "Mem_T.NotifyDirectory_unnamed_tag_8"} {:fieldname "NotifyDirectory"} NotifyDirectory_unnamed_tag_8(x: int) : int
{
  x + 92
}

function {:inline true} {:fieldmap "Mem_T.NtByte__PACKED_DIRENT"} {:fieldname "NtByte"} NtByte__PACKED_DIRENT(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.NumberOfClusters_unnamed_tag_65"} {:fieldname "NumberOfClusters"} NumberOfClusters_unnamed_tag_65(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.INT4"} {:fieldname "NumberOfFreeClusters"} NumberOfFreeClusters_unnamed_tag_65(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.NumberOfLinks__FILE_STANDARD_INFORMATION"} {:fieldname "NumberOfLinks"} NumberOfLinks__FILE_STANDARD_INFORMATION(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.NumberOfWindows__VCB"} {:fieldname "NumberOfWindows"} NumberOfWindows__VCB(x: int) : int
{
  x + 144
}

function {:inline true} {:fieldmap "Mem_T.OemQueryTemplate__CCB"} {:fieldname "OemQueryTemplate"} OemQueryTemplate__CCB(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T._STRING"} {:fieldname "Oem"} Oem_unnamed_tag_70(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T._FILE_NAME_NODE"} {:fieldname "Oem"} Oem_unnamed_tag_71(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Offset__IO_RUNS"} {:fieldname "Offset"} Offset__IO_RUNS(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Offset_unnamed_tag_30"} {:fieldname "Offset"} Offset_unnamed_tag_30(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.OpenCount__FCB"} {:fieldname "OpenCount"} OpenCount__FCB(x: int) : int
{
  x + 180
}

function {:inline true} {:fieldmap "Mem_T.OpenFileCount__VCB"} {:fieldname "OpenFileCount"} OpenFileCount__VCB(x: int) : int
{
  x + 188
}

function {:inline true} {:fieldmap "Mem_T.PVOID"} {:fieldname "Oplock"} Oplock_unnamed_tag_69(x: int) : int
{
  x + 112
}

function {:inline true} {:fieldmap "Mem_T.Options_unnamed_tag_9"} {:fieldname "Options"} Options_unnamed_tag_9(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Ordinal__PACKED_LFN_DIRENT"} {:fieldname "Ordinal"} Ordinal__PACKED_LFN_DIRENT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.OriginalDesiredAccess__ACCESS_STATE"} {:fieldname "OriginalDesiredAccess"} OriginalDesiredAccess__ACCESS_STATE(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.OriginatingIrp__IRP_CONTEXT"} {:fieldname "OriginatingIrp"} OriginatingIrp__IRP_CONTEXT(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.Others_unnamed_tag_8"} {:fieldname "Others"} Others_unnamed_tag_8(x: int) : int
{
  x + 456
}

function {:inline true} {:fieldmap "Mem_T.OurProcess__FAT_DATA"} {:fieldname "OurProcess"} OurProcess__FAT_DATA(x: int) : int
{
  x + 108
}

function {:inline true} {:fieldmap "Mem_T.OutputBufferLength_unnamed_tag_18"} {:fieldname "OutputBufferLength"} OutputBufferLength_unnamed_tag_18(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.OutputBufferLength_unnamed_tag_20"} {:fieldname "OutputBufferLength"} OutputBufferLength_unnamed_tag_20(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.OutstandingAsyncEvent__NON_PAGED_FCB"} {:fieldname "OutstandingAsyncEvent"} OutstandingAsyncEvent__NON_PAGED_FCB(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.OutstandingAsyncWrites__NON_PAGED_FCB"} {:fieldname "OutstandingAsyncWrites"} OutstandingAsyncWrites__NON_PAGED_FCB(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.OverflowQueueCount__VOLUME_DEVICE_OBJECT"} {:fieldname "OverflowQueueCount"} OverflowQueueCount__VOLUME_DEVICE_OBJECT(x: int) : int
{
  x + 324
}

function {:inline true} {:fieldmap "Mem_T.OverflowQueueSpinLock__VOLUME_DEVICE_OBJECT"} {:fieldname "OverflowQueueSpinLock"} OverflowQueueSpinLock__VOLUME_DEVICE_OBJECT(x: int) : int
{
  x + 336
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "OverflowQueue"} OverflowQueue__VOLUME_DEVICE_OBJECT(x: int) : int
{
  x + 328
}

function {:inline true} {:fieldmap "Mem_T.Overlay__IRP"} {:fieldname "Overlay"} Overlay__IRP(x: int) : int
{
  x + 88
}

function {:inline true} {:fieldmap "Mem_T.Overlay_unnamed_tag_6"} {:fieldname "Overlay"} Overlay_unnamed_tag_6(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.OwnEaHandle__EA_SET_HEADER"} {:fieldname "OwnEaHandle"} OwnEaHandle__EA_SET_HEADER(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T._PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "PackedBpb"} PackedBpb__PACKED_BOOT_SECTOR(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.PINT4"} {:fieldname "PackedEas"} PackedEas__EA_SET_HEADER(x: int) : int
{
  x + 100
}

function {:inline true} {:fieldmap "Mem_T.PagingIoResource__FSRTL_COMMON_FCB_HEADER"} {:fieldname "PagingIoResource"} PagingIoResource__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.Parameter__WORK_QUEUE_ITEM"} {:fieldname "Parameter"} Parameter__WORK_QUEUE_ITEM(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Parameters__IO_STACK_LOCATION"} {:fieldname "Parameters"} Parameters__IO_STACK_LOCATION(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "ParentDcbLinks"} ParentDcbLinks__FCB(x: int) : int
{
  x + 124
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "ParentDcbQueue"} ParentDcbQueue_unnamed_tag_68(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.ParentDcb__FCB"} {:fieldname "ParentDcb"} ParentDcb__FCB(x: int) : int
{
  x + 132
}

function {:inline true} {:fieldmap "Mem_T.Parent__RTL_SPLAY_LINKS"} {:fieldname "Parent"} Parent__RTL_SPLAY_LINKS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.PartitionStyle__PARTITION_INFORMATION_EX"} {:fieldname "PartitionStyle"} PartitionStyle__PARTITION_INFORMATION_EX(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.PartitionType__PARTITION_INFORMATION_MBR"} {:fieldname "PartitionType"} PartitionType__PARTITION_INFORMATION_MBR(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.PendingReturned__IRP"} {:fieldname "PendingReturned"} PendingReturned__IRP(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T.PVOID"} {:fieldname "PinnedPage"} PinnedPage__FAT_ENUMERATION_CONTEXT(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Pointer__IO_STATUS_BLOCK"} {:fieldname "Pointer"} Pointer__IO_STATUS_BLOCK(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T._FILE_POSITION_INFORMATION"} {:fieldname "PositionInformation"} PositionInformation__FILE_ALL_INFORMATION(x: int) : int
{
  x + 164
}

function {:inline true} {:fieldmap "Mem_T.PostedRequestCount__VOLUME_DEVICE_OBJECT"} {:fieldname "PostedRequestCount"} PostedRequestCount__VOLUME_DEVICE_OBJECT(x: int) : int
{
  x + 320
}

function {:inline true} {:fieldmap "Mem_T.PowerSequence_unnamed_tag_36"} {:fieldname "PowerSequence"} PowerSequence_unnamed_tag_36(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.PowerSequence_unnamed_tag_8"} {:fieldname "PowerSequence"} PowerSequence_unnamed_tag_8(x: int) : int
{
  x + 376
}

function {:inline true} {:fieldmap "Mem_T.PowerState_unnamed_tag_35"} {:fieldname "PowerState"} PowerState_unnamed_tag_35(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Power_unnamed_tag_8"} {:fieldname "Power"} Power_unnamed_tag_8(x: int) : int
{
  x + 380
}

function {:inline true} {:fieldmap "Mem_T.PreventMediaRemoval__PREVENT_MEDIA_REMOVAL"} {:fieldname "PreventMediaRemoval"} PreventMediaRemoval__PREVENT_MEDIA_REMOVAL(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.PreviouslyGrantedAccess__ACCESS_STATE"} {:fieldname "PreviouslyGrantedAccess"} PreviouslyGrantedAccess__ACCESS_STATE(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.PVOID"} {:fieldname "PrimaryToken"} PrimaryToken__SECURITY_SUBJECT_CONTEXT(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.PrivateCacheMap__FILE_OBJECT"} {:fieldname "PrivateCacheMap"} PrivateCacheMap__FILE_OBJECT(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.PrivilegeCount__INITIAL_PRIVILEGE_SET"} {:fieldname "PrivilegeCount"} PrivilegeCount__INITIAL_PRIVILEGE_SET(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Privilege__INITIAL_PRIVILEGE_SET"} {:fieldname "Privilege"} Privilege__INITIAL_PRIVILEGE_SET(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.ProviderId_unnamed_tag_39"} {:fieldname "ProviderId"} ProviderId_unnamed_tag_39(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.PseudoTransition__SYSTEM_POWER_STATE_CONTEXT"} {:fieldname "PseudoTransition"} PseudoTransition__SYSTEM_POWER_STATE_CONTEXT(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.PushLock__FSRTL_ADVANCED_FCB_HEADER"} {:fieldname "PushLock"} PushLock__FSRTL_ADVANCED_FCB_HEADER(x: int) : int
{
  x + 108
}

function {:inline true} {:fieldmap "Mem_T.QuadPart__LARGE_INTEGER"} {:fieldname "QuadPart"} QuadPart__LARGE_INTEGER(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.QuadPart__ULARGE_INTEGER"} {:fieldname "QuadPart"} QuadPart__ULARGE_INTEGER(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.QueryDeviceRelations_unnamed_tag_8"} {:fieldname "QueryDeviceRelations"} QueryDeviceRelations_unnamed_tag_8(x: int) : int
{
  x + 288
}

function {:inline true} {:fieldmap "Mem_T.QueryDeviceText_unnamed_tag_8"} {:fieldname "QueryDeviceText"} QueryDeviceText_unnamed_tag_8(x: int) : int
{
  x + 344
}

function {:inline true} {:fieldmap "Mem_T.QueryDirectory_unnamed_tag_8"} {:fieldname "QueryDirectory"} QueryDirectory_unnamed_tag_8(x: int) : int
{
  x + 76
}

function {:inline true} {:fieldmap "Mem_T.QueryEa_unnamed_tag_8"} {:fieldname "QueryEa"} QueryEa_unnamed_tag_8(x: int) : int
{
  x + 136
}

function {:inline true} {:fieldmap "Mem_T.QueryFile_unnamed_tag_8"} {:fieldname "QueryFile"} QueryFile_unnamed_tag_8(x: int) : int
{
  x + 100
}

function {:inline true} {:fieldmap "Mem_T.QueryId_unnamed_tag_8"} {:fieldname "QueryId"} QueryId_unnamed_tag_8(x: int) : int
{
  x + 340
}

function {:inline true} {:fieldmap "Mem_T.QueryInterface_unnamed_tag_8"} {:fieldname "QueryInterface"} QueryInterface_unnamed_tag_8(x: int) : int
{
  x + 292
}

function {:inline true} {:fieldmap "Mem_T.QueryQuota_unnamed_tag_8"} {:fieldname "QueryQuota"} QueryQuota_unnamed_tag_8(x: int) : int
{
  x + 268
}

function {:inline true} {:fieldmap "Mem_T.QuerySecurity_unnamed_tag_8"} {:fieldname "QuerySecurity"} QuerySecurity_unnamed_tag_8(x: int) : int
{
  x + 232
}

function {:inline true} {:fieldmap "Mem_T.QueryVolume_unnamed_tag_8"} {:fieldname "QueryVolume"} QueryVolume_unnamed_tag_8(x: int) : int
{
  x + 156
}

function {:inline true} {:fieldmap "Mem_T.ReadAccess__FILE_OBJECT"} {:fieldname "ReadAccess"} ReadAccess__FILE_OBJECT(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.ReadOnlyCount__VCB"} {:fieldname "ReadOnlyCount"} ReadOnlyCount__VCB(x: int) : int
{
  x + 192
}

function {:inline true} {:fieldmap "Mem_T.ReadWriteConfig_unnamed_tag_8"} {:fieldname "ReadWriteConfig"} ReadWriteConfig_unnamed_tag_8(x: int) : int
{
  x + 320
}

function {:inline true} {:fieldmap "Mem_T.Read_unnamed_tag_8"} {:fieldname "Read"} Read_unnamed_tag_8(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.RealDevice__IRP_CONTEXT"} {:fieldname "RealDevice"} RealDevice__IRP_CONTEXT(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.RealDevice__VPB"} {:fieldname "RealDevice"} RealDevice__VPB(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.ReferenceCount__VPB"} {:fieldname "ReferenceCount"} ReferenceCount__VPB(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.RelatedFileObject__FILE_OBJECT"} {:fieldname "RelatedFileObject"} RelatedFileObject__FILE_OBJECT(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.RemainingDesiredAccess__ACCESS_STATE"} {:fieldname "RemainingDesiredAccess"} RemainingDesiredAccess__ACCESS_STATE(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T._REPINNED_BCBS"} {:fieldname "Repinned"} Repinned__IRP_CONTEXT(x: int) : int
{
  x + 60
}

function {:inline true} {:fieldmap "Mem_T.ReplaceIfExists_unnamed_tag_14"} {:fieldname "ReplaceIfExists"} ReplaceIfExists_unnamed_tag_14(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.RequestedByteCount_unnamed_tag_64"} {:fieldname "RequestedByteCount"} RequestedByteCount_unnamed_tag_64(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.RequestorMode__IRP"} {:fieldname "RequestorMode"} RequestorMode__IRP(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.Reserved1__SYSTEM_POWER_STATE_CONTEXT"} {:fieldname "Reserved1"} Reserved1__SYSTEM_POWER_STATE_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Reserved2__SYSTEM_POWER_STATE_CONTEXT"} {:fieldname "Reserved2"} Reserved2__SYSTEM_POWER_STATE_CONTEXT(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.ReservedSectors_BIOS_PARAMETER_BLOCK"} {:fieldname "ReservedSectors"} ReservedSectors_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.ReservedSectors__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "ReservedSectors"} ReservedSectors__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Reserved_unnamed_tag_34"} {:fieldname "Reserved"} Reserved_unnamed_tag_34(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.ResidualOpenCount__VCB"} {:fieldname "ResidualOpenCount"} ResidualOpenCount__VCB(x: int) : int
{
  x + 200
}

function {:inline true} {:fieldmap "Mem_T.Resource2_unnamed_tag_64"} {:fieldname "Resource2"} Resource2_unnamed_tag_64(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.ResourceThreadId_unnamed_tag_64"} {:fieldname "ResourceThreadId"} ResourceThreadId_unnamed_tag_64(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Resource__FSRTL_COMMON_FCB_HEADER"} {:fieldname "Resource"} Resource__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T._ERESOURCE"} {:fieldname "Resource"} Resource__VCB(x: int) : int
{
  x + 500
}

function {:inline true} {:fieldmap "Mem_T.Resource_unnamed_tag_64"} {:fieldname "Resource"} Resource_unnamed_tag_64(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.RestoreMdl_FAT_PAGING_FILE_CONTEXT"} {:fieldname "RestoreMdl"} RestoreMdl_FAT_PAGING_FILE_CONTEXT(x: int) : int
{
  x + 124
}

function {:inline true} {:fieldmap "Mem_T.RightChild__RTL_SPLAY_LINKS"} {:fieldname "RightChild"} RightChild__RTL_SPLAY_LINKS(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.RootDcb__VCB"} {:fieldname "RootDcb"} RootDcb__VCB(x: int) : int
{
  x + 140
}

function {:inline true} {:fieldmap "Mem_T.RootDirFirstCluster_BIOS_PARAMETER_BLOCK"} {:fieldname "RootDirFirstCluster"} RootDirFirstCluster_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 76
}

function {:inline true} {:fieldmap "Mem_T.RootDirFirstCluster__PACKED_BIOS_PARAMETER_BLOCK_EX"} {:fieldname "RootDirFirstCluster"} RootDirFirstCluster__PACKED_BIOS_PARAMETER_BLOCK_EX(x: int) : int
{
  x + 132
}

function {:inline true} {:fieldmap "Mem_T.RootDirectoryLbo_unnamed_tag_65"} {:fieldname "RootDirectoryLbo"} RootDirectoryLbo_unnamed_tag_65(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.RootDirectorySize_unnamed_tag_65"} {:fieldname "RootDirectorySize"} RootDirectorySize_unnamed_tag_65(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.RootEntries_BIOS_PARAMETER_BLOCK"} {:fieldname "RootEntries"} RootEntries_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.RootEntries__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "RootEntries"} RootEntries__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.P_RTL_SPLAY_LINKS"} {:fieldname "RootOemNode"} RootOemNode_unnamed_tag_68(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.P_RTL_SPLAY_LINKS"} {:fieldname "RootUnicodeNode"} RootUnicodeNode_unnamed_tag_68(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.SavedIrp__IO_RUNS"} {:fieldname "SavedIrp"} SavedIrp__IO_RUNS(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.Scsi_unnamed_tag_8"} {:fieldname "Scsi"} Scsi_unnamed_tag_8(x: int) : int
{
  x + 264
}

function {:inline true} {:fieldmap "Mem_T.SeWorldSid__SE_EXPORTS"} {:fieldname "SeWorldSid"} SeWorldSid__SE_EXPORTS(x: int) : int
{
  x + 188
}

function {:inline true} {:fieldmap "Mem_T.Second__TIME_FIELDS"} {:fieldname "Second"} Second__TIME_FIELDS(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.SectionObjectPointer__FILE_OBJECT"} {:fieldname "SectionObjectPointer"} SectionObjectPointer__FILE_OBJECT(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T._SECTION_OBJECT_POINTERS"} {:fieldname "SectionObjectPointers"} SectionObjectPointers__NON_PAGED_FCB(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T._SECTION_OBJECT_POINTERS"} {:fieldname "SectionObjectPointers"} SectionObjectPointers__VCB(x: int) : int
{
  x + 656
}

function {:inline true} {:fieldmap "Mem_T.SectorBeginSignature__FSINFO_SECTOR"} {:fieldname "SectorBeginSignature"} SectorBeginSignature__FSINFO_SECTOR(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SectorEndSignature__FSINFO_SECTOR"} {:fieldname "SectorEndSignature"} SectorEndSignature__FSINFO_SECTOR(x: int) : int
{
  x + 1984
}

function {:inline true} {:fieldmap "Mem_T.SectorSize__DEVICE_OBJECT"} {:fieldname "SectorSize"} SectorSize__DEVICE_OBJECT(x: int) : int
{
  x + 304
}

function {:inline true} {:fieldmap "Mem_T.SectorsPerCluster_BIOS_PARAMETER_BLOCK"} {:fieldname "SectorsPerCluster"} SectorsPerCluster_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.SectorsPerCluster__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "SectorsPerCluster"} SectorsPerCluster__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.SectorsPerFat_BIOS_PARAMETER_BLOCK"} {:fieldname "SectorsPerFat"} SectorsPerFat_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.PINT4"} {:fieldname "SectorsPerFat"} SectorsPerFat__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.SectorsPerTrack_BIOS_PARAMETER_BLOCK"} {:fieldname "SectorsPerTrack"} SectorsPerTrack_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.SectorsPerTrack__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "SectorsPerTrack"} SectorsPerTrack__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T.Sectors_BIOS_PARAMETER_BLOCK"} {:fieldname "Sectors"} Sectors_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.Sectors__PACKED_BIOS_PARAMETER_BLOCK"} {:fieldname "Sectors"} Sectors__PACKED_BIOS_PARAMETER_BLOCK(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.SecurityContext_unnamed_tag_9"} {:fieldname "SecurityContext"} SecurityContext_unnamed_tag_9(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SecurityDescriptor_unnamed_tag_22"} {:fieldname "SecurityDescriptor"} SecurityDescriptor_unnamed_tag_22(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.SecurityInformation_unnamed_tag_21"} {:fieldname "SecurityInformation"} SecurityInformation_unnamed_tag_21(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SecurityInformation_unnamed_tag_22"} {:fieldname "SecurityInformation"} SecurityInformation_unnamed_tag_22(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SerialNumber__VPB"} {:fieldname "SerialNumber"} SerialNumber__VPB(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.SetEa_unnamed_tag_8"} {:fieldname "SetEa"} SetEa_unnamed_tag_8(x: int) : int
{
  x + 152
}

function {:inline true} {:fieldmap "Mem_T.SetFile_unnamed_tag_8"} {:fieldname "SetFile"} SetFile_unnamed_tag_8(x: int) : int
{
  x + 108
}

function {:inline true} {:fieldmap "Mem_T.SetLock_unnamed_tag_8"} {:fieldname "SetLock"} SetLock_unnamed_tag_8(x: int) : int
{
  x + 336
}

function {:inline true} {:fieldmap "Mem_T.SetQuota_unnamed_tag_8"} {:fieldname "SetQuota"} SetQuota_unnamed_tag_8(x: int) : int
{
  x + 284
}

function {:inline true} {:fieldmap "Mem_T.SetSecurity_unnamed_tag_8"} {:fieldname "SetSecurity"} SetSecurity_unnamed_tag_8(x: int) : int
{
  x + 240
}

function {:inline true} {:fieldmap "Mem_T.SetVolume_unnamed_tag_8"} {:fieldname "SetVolume"} SetVolume_unnamed_tag_8(x: int) : int
{
  x + 164
}

function {:inline true} {:fieldmap "Mem_T._SHARE_ACCESS"} {:fieldname "ShareAccess"} ShareAccess__FCB(x: int) : int
{
  x + 148
}

function {:inline true} {:fieldmap "Mem_T._SHARE_ACCESS"} {:fieldname "ShareAccess"} ShareAccess__VCB(x: int) : int
{
  x + 160
}

function {:inline true} {:fieldmap "Mem_T.ShareAccess_unnamed_tag_9"} {:fieldname "ShareAccess"} ShareAccess_unnamed_tag_9(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.SharedCacheMap__SECTION_OBJECT_POINTERS"} {:fieldname "SharedCacheMap"} SharedCacheMap__SECTION_OBJECT_POINTERS(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T._FILE_NAME_NODE"} {:fieldname "ShortName"} ShortName__FCB(x: int) : int
{
  x + 452
}

function {:inline true} {:fieldmap "Mem_T.ShutdownStarted__FAT_DATA"} {:fieldname "ShutdownStarted"} ShutdownStarted__FAT_DATA(x: int) : int
{
  x + 124
}

function {:inline true} {:fieldmap "Mem_T.ShutdownType_unnamed_tag_37"} {:fieldname "ShutdownType"} ShutdownType_unnamed_tag_37(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.SidListLength_unnamed_tag_25"} {:fieldname "SidListLength"} SidListLength_unnamed_tag_25(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.SidList_unnamed_tag_25"} {:fieldname "SidList"} SidList_unnamed_tag_25(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Sid__SID_AND_ATTRIBUTES"} {:fieldname "Sid"} Sid__SID_AND_ATTRIBUTES(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SignalState__DISPATCHER_HEADER"} {:fieldname "SignalState"} SignalState__DISPATCHER_HEADER(x: int) : int
{
  x + 112
}

function {:inline true} {:fieldmap "Mem_T.Signalling__DISPATCHER_HEADER"} {:fieldname "Signalling"} Signalling__DISPATCHER_HEADER(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.Signature__DRIVE_LAYOUT_INFORMATION_MBR"} {:fieldname "Signature"} Signature__DRIVE_LAYOUT_INFORMATION_MBR(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SizeOfBitMap__RTL_BITMAP"} {:fieldname "SizeOfBitMap"} SizeOfBitMap__RTL_BITMAP(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SizeOfCompleteStructure__FILESYSTEM_STATISTICS"} {:fieldname "SizeOfCompleteStructure"} SizeOfCompleteStructure__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Size__DEVICE_OBJECT"} {:fieldname "Size"} Size__DEVICE_OBJECT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Size__DISPATCHER_HEADER"} {:fieldname "Size"} Size__DISPATCHER_HEADER(x: int) : int
{
  x + 56
}

function {:inline true} {:fieldmap "Mem_T.Size__VPB"} {:fieldname "Size"} Size__VPB(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Size_unnamed_tag_27"} {:fieldname "Size"} Size_unnamed_tag_27(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Specific__FCB"} {:fieldname "Specific"} Specific__FCB(x: int) : int
{
  x + 284
}

function {:inline true} {:fieldmap "Mem_T.Srb_unnamed_tag_24"} {:fieldname "Srb"} Srb_unnamed_tag_24(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.StackSize__DEVICE_OBJECT"} {:fieldname "StackSize"} StackSize__DEVICE_OBJECT(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T._FILE_STANDARD_INFORMATION"} {:fieldname "StandardInformation"} StandardInformation__FILE_ALL_INFORMATION(x: int) : int
{
  x + 84
}

function {:inline true} {:fieldmap "Mem_T.StartDevice_unnamed_tag_8"} {:fieldname "StartDevice"} StartDevice_unnamed_tag_8(x: int) : int
{
  x + 432
}

function {:inline true} {:fieldmap "Mem_T.StartSid_unnamed_tag_25"} {:fieldname "StartSid"} StartSid_unnamed_tag_25(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.StartingLcn_MOVE_FILE_DATA"} {:fieldname "StartingLcn"} StartingLcn_MOVE_FILE_DATA(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.StartingLcn_STARTING_LCN_INPUT_BUFFER"} {:fieldname "StartingLcn"} StartingLcn_STARTING_LCN_INPUT_BUFFER(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.StartingVbo__EA_RANGE"} {:fieldname "StartingVbo"} StartingVbo__EA_RANGE(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.StartingVcn_MOVE_FILE_DATA"} {:fieldname "StartingVcn"} StartingVcn_MOVE_FILE_DATA(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.StartingVcn_RETRIEVAL_POINTERS_BUFFER"} {:fieldname "StartingVcn"} StartingVcn_RETRIEVAL_POINTERS_BUFFER(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.StartingVcn_STARTING_VCN_INPUT_BUFFER"} {:fieldname "StartingVcn"} StartingVcn_STARTING_VCN_INPUT_BUFFER(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.State_unnamed_tag_37"} {:fieldname "State"} State_unnamed_tag_37(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.Statistics__VCB"} {:fieldname "Statistics"} Statistics__VCB(x: int) : int
{
  x + 1064
}

function {:inline true} {:fieldmap "Mem_T.INT4"} {:fieldname "Status"} Status__IO_STATUS_BLOCK(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SubjectSecurityContext__ACCESS_STATE"} {:fieldname "SubjectSecurityContext"} SubjectSecurityContext__ACCESS_STATE(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.SuccessfulCreates__FAT_STATISTICS"} {:fieldname "SuccessfulCreates"} SuccessfulCreates__FAT_STATISTICS(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.SwapVpb__VCB"} {:fieldname "SwapVpb"} SwapVpb__VCB(x: int) : int
{
  x + 1228
}

function {:inline true} {:fieldmap "Mem_T.VOID"} {:fieldname "SyncEvent"} SyncEvent_unnamed_tag_63(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.SystemBuffer_unnamed_tag_3"} {:fieldname "SystemBuffer"} SystemBuffer_unnamed_tag_3(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.SystemContext_unnamed_tag_37"} {:fieldname "SystemContext"} SystemContext_unnamed_tag_37(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.SystemPowerStateContext_unnamed_tag_37"} {:fieldname "SystemPowerStateContext"} SystemPowerStateContext_unnamed_tag_37(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.SystemState__POWER_STATE"} {:fieldname "SystemState"} SystemState__POWER_STATE(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Tail__IRP"} {:fieldname "Tail"} Tail__IRP(x: int) : int
{
  x + 128
}

function {:inline true} {:fieldmap "Mem_T.TargetDeviceObject__VCB"} {:fieldname "TargetDeviceObject"} TargetDeviceObject__VCB(x: int) : int
{
  x + 124
}

function {:inline true} {:fieldmap "Mem_T.TargetSystemState__SYSTEM_POWER_STATE_CONTEXT"} {:fieldname "TargetSystemState"} TargetSystemState__SYSTEM_POWER_STATE_CONTEXT(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Thread_unnamed_tag_7"} {:fieldname "Thread"} Thread_unnamed_tag_7(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.Time__FAT_TIME_STAMP"} {:fieldname "Time"} Time__FAT_TIME_STAMP(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.TotalFrees__GENERAL_LOOKASIDE"} {:fieldname "TotalFrees"} TotalFrees__GENERAL_LOOKASIDE(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.TrackData__CDROM_TOC"} {:fieldname "TrackData"} TrackData__CDROM_TOC(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.Type3InputBuffer_unnamed_tag_18"} {:fieldname "Type3InputBuffer"} Type3InputBuffer_unnamed_tag_18(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Type3InputBuffer_unnamed_tag_20"} {:fieldname "Type3InputBuffer"} Type3InputBuffer_unnamed_tag_20(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.TypeOfOpen_CLOSE_CONTEXT"} {:fieldname "TypeOfOpen"} TypeOfOpen_CLOSE_CONTEXT(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.Type__PACKED_LFN_DIRENT"} {:fieldname "Type"} Type__PACKED_LFN_DIRENT(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.Type_unnamed_tag_26"} {:fieldname "Type"} Type_unnamed_tag_26(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Type_unnamed_tag_34"} {:fieldname "Type"} Type_unnamed_tag_34(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.Type_unnamed_tag_37"} {:fieldname "Type"} Type_unnamed_tag_37(x: int) : int
{
  x + 36
}

function {:inline true} {:fieldmap "Mem_T.Uchar__UCHAR2"} {:fieldname "Uchar"} Uchar__UCHAR2(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Uchar__UCHAR4"} {:fieldname "Uchar"} Uchar__UCHAR4(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.UncleanCount__FCB"} {:fieldname "UncleanCount"} UncleanCount__FCB(x: int) : int
{
  x + 176
}

function {:inline true} {:fieldmap "Mem_T.UnicodeQueryTemplate__CCB"} {:fieldname "UnicodeQueryTemplate"} UnicodeQueryTemplate__CCB(x: int) : int
{
  x + 76
}

function {:inline true} {:fieldmap "Mem_T._UNICODE_STRING"} {:fieldname "Unicode"} Unicode_unnamed_tag_70(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T._FILE_NAME_NODE"} {:fieldname "Unicode"} Unicode_unnamed_tag_71(x: int) : int
{
  x + 44
}

function {:inline true} {:fieldmap "Mem_T.UnusedDirentVbo_unnamed_tag_68"} {:fieldname "UnusedDirentVbo"} UnusedDirentVbo_unnamed_tag_68(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.UsageNotification_unnamed_tag_8"} {:fieldname "UsageNotification"} UsageNotification_unnamed_tag_8(x: int) : int
{
  x + 352
}

function {:inline true} {:fieldmap "Mem_T.UserBuffer__IRP"} {:fieldname "UserBuffer"} UserBuffer__IRP(x: int) : int
{
  x + 124
}

function {:inline true} {:fieldmap "Mem_T.UserDiskReads__FILESYSTEM_STATISTICS"} {:fieldname "UserDiskReads"} UserDiskReads__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 20
}

function {:inline true} {:fieldmap "Mem_T.UserDiskWrites__FILESYSTEM_STATISTICS"} {:fieldname "UserDiskWrites"} UserDiskWrites__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.UserFileReadBytes__FILESYSTEM_STATISTICS"} {:fieldname "UserFileReadBytes"} UserFileReadBytes__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.UserFileReads__FILESYSTEM_STATISTICS"} {:fieldname "UserFileReads"} UserFileReads__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.UserFileWriteBytes__FILESYSTEM_STATISTICS"} {:fieldname "UserFileWriteBytes"} UserFileWriteBytes__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 28
}

function {:inline true} {:fieldmap "Mem_T.UserFileWrites__FILESYSTEM_STATISTICS"} {:fieldname "UserFileWrites"} UserFileWrites__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.ValidDataLength__CC_FILE_SIZES"} {:fieldname "ValidDataLength"} ValidDataLength__CC_FILE_SIZES(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.ValidDataLength__FSRTL_COMMON_FCB_HEADER"} {:fieldname "ValidDataLength"} ValidDataLength__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 76
}

function {:inline true} {:fieldmap "Mem_T.ValidDataToDisk__FCB"} {:fieldname "ValidDataToDisk"} ValidDataToDisk__FCB(x: int) : int
{
  x + 256
}

function {:inline true} {:fieldmap "Mem_T.VboOfPinnedPage__FAT_ENUMERATION_CONTEXT"} {:fieldname "VboOfPinnedPage"} VboOfPinnedPage__FAT_ENUMERATION_CONTEXT(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Vbo__IO_RUNS"} {:fieldname "Vbo"} Vbo__IO_RUNS(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.VcbCondition__VCB"} {:fieldname "VcbCondition"} VcbCondition__VCB(x: int) : int
{
  x + 136
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "VcbLinks"} VcbLinks_CLOSE_CONTEXT(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "VcbLinks"} VcbLinks__VCB(x: int) : int
{
  x + 116
}

function {:inline true} {:fieldmap "Mem_T._LIST_ENTRY"} {:fieldname "VcbQueue"} VcbQueue__FAT_DATA(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.VcbState__VCB"} {:fieldname "VcbState"} VcbState__VCB(x: int) : int
{
  x + 132
}

function {:inline true} {:fieldmap "Mem_T.Vcb_CLOSE_CONTEXT"} {:fieldname "Vcb"} Vcb_CLOSE_CONTEXT(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.Vcb__FCB"} {:fieldname "Vcb"} Vcb__FCB(x: int) : int
{
  x + 136
}

function {:inline true} {:fieldmap "Mem_T.Vcb__IRP_CONTEXT"} {:fieldname "Vcb"} Vcb__IRP_CONTEXT(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T._VCB"} {:fieldname "Vcb"} Vcb__VOLUME_DEVICE_OBJECT(x: int) : int
{
  x + 436
}

function {:inline true} {:fieldmap "Mem_T.VerifyThread__VCB"} {:fieldname "VerifyThread"} VerifyThread__VCB(x: int) : int
{
  x + 840
}

function {:inline true} {:fieldmap "Mem_T.VerifyVolume_unnamed_tag_8"} {:fieldname "VerifyVolume"} VerifyVolume_unnamed_tag_8(x: int) : int
{
  x + 256
}

function {:inline true} {:fieldmap "Mem_T.Version__FILESYSTEM_STATISTICS"} {:fieldname "Version"} Version__FILESYSTEM_STATISTICS(x: int) : int
{
  x + 4
}

function {:inline true} {:fieldmap "Mem_T.Version__FSRTL_COMMON_FCB_HEADER"} {:fieldname "Version"} Version__FSRTL_COMMON_FCB_HEADER(x: int) : int
{
  x + 24
}

function {:inline true} {:fieldmap "Mem_T.Version_unnamed_tag_27"} {:fieldname "Version"} Version_unnamed_tag_27(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.VirtualEaFile__VCB"} {:fieldname "VirtualEaFile"} VirtualEaFile__VCB(x: int) : int
{
  x + 676
}

function {:inline true} {:fieldmap "Mem_T.VirtualVolumeFile__VCB"} {:fieldname "VirtualVolumeFile"} VirtualVolumeFile__VCB(x: int) : int
{
  x + 652
}

function {:inline true} {:fieldmap "Mem_T._FSRTL_ADVANCED_FCB_HEADER"} {:fieldname "VolumeFileHeader"} VolumeFileHeader__VCB(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.VolumeLabelLength__VPB"} {:fieldname "VolumeLabelLength"} VolumeLabelLength__VPB(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.VolumeLabel__VPB"} {:fieldname "VolumeLabel"} VolumeLabel__VPB(x: int) : int
{
  x + 32
}

function {:inline true} {:fieldmap "Mem_T.Vpb__DEVICE_OBJECT"} {:fieldname "Vpb"} Vpb__DEVICE_OBJECT(x: int) : int
{
  x + 40
}

function {:inline true} {:fieldmap "Mem_T.Vpb__FILE_OBJECT"} {:fieldname "Vpb"} Vpb__FILE_OBJECT(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.Vpb__VCB"} {:fieldname "Vpb"} Vpb__VCB(x: int) : int
{
  x + 128
}

function {:inline true} {:fieldmap "Mem_T.P_VPB"} {:fieldname "Vpb"} Vpb_unnamed_tag_23(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.WMI_unnamed_tag_8"} {:fieldname "WMI"} WMI_unnamed_tag_8(x: int) : int
{
  x + 440
}

function {:inline true} {:fieldmap "Mem_T.WaitWake_unnamed_tag_8"} {:fieldname "WaitWake"} WaitWake_unnamed_tag_8(x: int) : int
{
  x + 372
}

function {:inline true} {:fieldmap "Mem_T.Wait__FAT_IO_CONTEXT"} {:fieldname "Wait"} Wait__FAT_IO_CONTEXT(x: int) : int
{
  x + 12
}

function {:inline true} {:fieldmap "Mem_T.WhichSpace_unnamed_tag_30"} {:fieldname "WhichSpace"} WhichSpace_unnamed_tag_30(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Wild_unnamed_tag_72"} {:fieldname "Wild"} Wild_unnamed_tag_72(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.Windows__VCB"} {:fieldname "Windows"} Windows__VCB(x: int) : int
{
  x + 148
}

function {:inline true} {:fieldmap "Mem_T.WorkQueueItem__IRP_CONTEXT"} {:fieldname "WorkQueueItem"} WorkQueueItem__IRP_CONTEXT(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.WorkerRoutine__WORK_QUEUE_ITEM"} {:fieldname "WorkerRoutine"} WorkerRoutine__WORK_QUEUE_ITEM(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.WriteAccess__FILE_OBJECT"} {:fieldname "WriteAccess"} WriteAccess__FILE_OBJECT(x: int) : int
{
  x + 52
}

function {:inline true} {:fieldmap "Mem_T.WriteCacheEnableOverride__STORAGE_HOTPLUG_INFO"} {:fieldname "WriteCacheEnableOverride"} WriteCacheEnableOverride__STORAGE_HOTPLUG_INFO(x: int) : int
{
  x + 16
}

function {:inline true} {:fieldmap "Mem_T.Write_unnamed_tag_8"} {:fieldname "Write"} Write_unnamed_tag_8(x: int) : int
{
  x + 48
}

function {:inline true} {:fieldmap "Mem_T.Year__FAT_DATE"} {:fieldname "Year"} Year__FAT_DATE(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.Year__TIME_FIELDS"} {:fieldname "Year"} Year__TIME_FIELDS(x: int) : int
{
  x + 0
}

function {:inline true} {:fieldmap "Mem_T.ZeroMdl__FAT_IO_CONTEXT"} {:fieldname "ZeroMdl"} ZeroMdl__FAT_IO_CONTEXT(x: int) : int
{
  x + 8
}

function {:inline true} {:fieldmap "Mem_T.PINT4"} {:fieldname "cbList"} cbList__EA_SET_HEADER(x: int) : int
{
  x + 84
}

function {:inline true} {:fieldmap "Mem_T.u__LARGE_INTEGER"} {:fieldname "u"} u__LARGE_INTEGER(x: int) : int
{
  x + 8
}

const {:string ""} unique strConst__li2bpl1: int;

const {:string ".          "} unique strConst__li2bpl10: int;

const {:string "..         "} unique strConst__li2bpl11: int;

const {:string "EA DATA  SF"} unique strConst__li2bpl3: int;

const {:string "EA DATA. SF"} unique strConst__li2bpl12: int;

const {:string "ExAcquireResourceExclusiveLite should only be called at IRQL <= APC_LEVEL."} unique strConst__li2bpl8: int;

const {:string "ExAcquireResourceSharedLite should only be called at IRQL <= APC_LEVEL."} unique strConst__li2bpl5: int;

const {:string "ExAcquireSharedStarveExclusive should only be called at IRQL <= APC_LEVEL."} unique strConst__li2bpl9: int;

const {:string "ExAcquireSharedWaitForExclusive should only be called at IRQL <= APC_LEVEL."} unique strConst__li2bpl7: int;

const {:string "ExConvertExclusiveToSharedLite should only be called at IRQL <= APC_LEVEL."} unique strConst__li2bpl4: int;

const {:string "ExDeleteResourceLite should only be called at IRQL <= APC_LEVEL."} unique strConst__li2bpl6: int;

const {:string "\\"} unique strConst__li2bpl0: int;

const {:string "callee"} unique strConst__li2bpl2: int;

const {:allocated} li2bplFunctionConstant332: int;

axiom li2bplFunctionConstant332 == 332;

const {:allocated} li2bplFunctionConstant338: int;

axiom li2bplFunctionConstant338 == 338;

const {:allocated} li2bplFunctionConstant397: int;

axiom li2bplFunctionConstant397 == 397;

const {:allocated} li2bplFunctionConstant466: int;

axiom li2bplFunctionConstant466 == 466;

const {:allocated} li2bplFunctionConstant532: int;

axiom li2bplFunctionConstant532 == 532;

const {:allocated} li2bplFunctionConstant600: int;

axiom li2bplFunctionConstant600 == 600;

const {:allocated} li2bplFunctionConstant662: int;

axiom li2bplFunctionConstant662 == 662;

const {:allocated} li2bplFunctionConstant674: int;

axiom li2bplFunctionConstant674 == 674;

const {:allocated} li2bplFunctionConstant714: int;

axiom li2bplFunctionConstant714 == 714;

const {:allocated} li2bplFunctionConstant726: int;

axiom li2bplFunctionConstant726 == 726;

const {:allocated} li2bplFunctionConstant727: int;

axiom li2bplFunctionConstant727 == 727;

const {:allocated} li2bplFunctionConstant731: int;

axiom li2bplFunctionConstant731 == 731;

const {:allocated} li2bplFunctionConstant732: int;

axiom li2bplFunctionConstant732 == 732;

const {:allocated} li2bplFunctionConstant734: int;

axiom li2bplFunctionConstant734 == 734;

const {:allocated} li2bplFunctionConstant735: int;

axiom li2bplFunctionConstant735 == 735;

const {:allocated} li2bplFunctionConstant739: int;

axiom li2bplFunctionConstant739 == 739;

const {:allocated} li2bplFunctionConstant835: int;

axiom li2bplFunctionConstant835 == 835;

const {:allocated} li2bplFunctionConstant837: int;

axiom li2bplFunctionConstant837 == 837;

const {:allocated} li2bplFunctionConstant840: int;

axiom li2bplFunctionConstant840 == 840;

implementation {:origName "SdvExit"} {:osmodel} SdvExit#0()
{
  var vslice_dummy_var_554: int;

  anon0:
    call {:si_unique_call 3873} vslice_dummy_var_554 := __HAVOC_malloc(4);
    assume false;
    assume false;
    return;
}



procedure {:origName "SdvExit"} {:osmodel} SdvExit#0();
  modifies alloc;
  free ensures {:va_keep} false;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "SdvExit"} {:osmodel} SdvExit#1()
{
  var vslice_dummy_var_555: int;

  anon0:
    call {:si_unique_call 3874} vslice_dummy_var_555 := __HAVOC_malloc(4);
    assume false;
    call {:si_unique_call 3875} SdvExit#0();
    return;
}



procedure {:origName "SdvExit"} {:osmodel} SdvExit#1();
  modifies alloc;
  free ensures {:va_keep} false;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetFatEntry"} FatSetFatEntry#0(actual_IrpContext_24: int, actual_Vcb_17: int, actual_FatIndex_1: int, actual_FatEntry_2: int)
{
  var {:pointer} Tmp_270: int;
  var {:pointer} Tmp_271: int;
  var {:scalar} Tmp_272: int;
  var {:scalar} RegularOperation: int;
  var {:pointer} PinnedFatEntry: int;
  var {:pointer} Tmp_273: int;
  var {:pointer} Tmp_274: int;
  var {:pointer} Tmp_275: int;
  var {:scalar} OffsetIntoVolumeFile: int;
  var {:scalar} Lbo_3: int;
  var {:pointer} Tmp_276: int;
  var {:scalar} Tmp_278: int;
  var {:pointer} Tmp_279: int;
  var {:pointer} PinnedFat: int;
  var {:scalar} WasWait: int;
  var {:scalar} Tmp_282: int;
  var {:scalar} CleaningOperation: int;
  var {:pointer} Tmp_283: int;
  var {:pointer} Tmp_284: int;
  var {:pointer} Tmp_285: int;
  var {:pointer} Bcb_1: int;
  var {:pointer} Tmp_286: int;
  var {:scalar} Tmp_287: int;
  var {:pointer} Tmp_288: int;
  var {:scalar} Tmp_289: int;
  var {:scalar} Tmp_290: int;
  var {:pointer} PinnedFatEntry32: int;
  var {:scalar} Tmp_291: int;
  var {:scalar} Tmp_292: int;
  var {:scalar} SectorSize: int;
  var {:scalar} Tmp_293: int;
  var {:pointer} Tmp_294: int;
  var {:pointer} Tmp_295: int;
  var {:dopa} {:scalar} TmpFatEntry: int;
  var {:pointer} Tmp_296: int;
  var {:scalar} Tmp_297: int;
  var {:pointer} Tmp_298: int;
  var {:scalar} ReleaseMutex: int;
  var {:pointer} IrpContext_24: int;
  var {:pointer} Vcb_17: int;
  var {:scalar} FatIndex_1: int;
  var {:scalar} FatEntry_2: int;
  var vslice_dummy_var_556: int;
  var vslice_dummy_var_557: int;
  var vslice_dummy_var_558: int;
  var vslice_dummy_var_559: int;
  var vslice_dummy_var_560: int;
  var vslice_dummy_var_561: int;
  var vslice_dummy_var_466: int;

  anon0:
    call {:si_unique_call 3876} PinnedFatEntry := __HAVOC_malloc(4);
    call {:si_unique_call 3877} vslice_dummy_var_556 := __HAVOC_malloc(4);
    call {:si_unique_call 3878} PinnedFat := __HAVOC_malloc(4);
    call {:si_unique_call 3879} Bcb_1 := __HAVOC_malloc(4);
    call {:si_unique_call 3880} vslice_dummy_var_557 := __HAVOC_malloc(12);
    call {:si_unique_call 3881} PinnedFatEntry32 := __HAVOC_malloc(4);
    call {:si_unique_call 3882} TmpFatEntry := __HAVOC_malloc(4);
    IrpContext_24 := actual_IrpContext_24;
    Vcb_17 := actual_Vcb_17;
    FatIndex_1 := actual_FatIndex_1;
    FatEntry_2 := actual_FatEntry_2;
    assume {:nonnull} Bcb_1 != 0;
    assume Bcb_1 > 0;
    WasWait := 1;
    RegularOperation := 1;
    CleaningOperation := 0;
    ReleaseMutex := 0;
    call {:si_unique_call 3883} sdv_do_paged_code_check();
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} FatIndex_1 == 1;
    RegularOperation := 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} FatEntry_2 != -268435456;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} FatEntry_2 == -268435455;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    FatEntry_2 := -1;
    goto L31;

  L31:
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    havoc WasWait;
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    goto L33;

  L33:
    call {:si_unique_call 3884} SectorSize := corral_nondet();
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    FatEntry_2 := BAND(FatEntry_2, BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048));
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_283 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_298 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_283 != 0;
    assume Tmp_283 > 0;
    assume {:nonnull} Tmp_298 != 0;
    assume Tmp_298 > 0;
    havoc OffsetIntoVolumeFile;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_279 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_279 != 0;
    assume Tmp_279 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_271 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_296 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_271 != 0;
    assume Tmp_271 > 0;
    assume {:nonnull} Tmp_296 != 0;
    assume Tmp_296 > 0;
    havoc Tmp_292;
    goto L42;

  L42:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_295 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_285 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_285 != 0;
    assume Tmp_285 > 0;
    assume {:nonnull} Tmp_295 != 0;
    assume Tmp_295 > 0;
    havoc Tmp_278;
    call {:si_unique_call 3885} FatPrepareWriteVolumeFile#0(IrpContext_24, Vcb_17, Tmp_278, Tmp_292, Bcb_1, PinnedFat, RegularOperation, 0);
    Lbo_3 := BAND(OffsetIntoVolumeFile, BNOT(SectorSize - 1));
    Tmp_291 := Lbo_3;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    call {:si_unique_call 3886} vslice_dummy_var_558 := FatAddMcbEntry(Vcb_17, DirtyFatMcb__VCB(Vcb_17), Tmp_291, Lbo_3, SectorSize);
    Tmp_282 := BAND(OffsetIntoVolumeFile, SectorSize - 1);
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} Tmp_282 == SectorSize - 1;
    Lbo_3 := Lbo_3 + SectorSize;
    Tmp_290 := Lbo_3;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    call {:si_unique_call 3887} vslice_dummy_var_559 := FatAddMcbEntry(Vcb_17, DirtyFatMcb__VCB(Vcb_17), Tmp_290, Lbo_3, SectorSize);
    goto L77;

  L77:
    call {:si_unique_call 3888} ExAcquireFastMutexUnsafe(0);
    ReleaseMutex := 1;
    assume {:nonnull} PinnedFat != 0;
    assume PinnedFat > 0;
    havoc Tmp_275;
    assume {:nonnull} TmpFatEntry != 0;
    assume TmpFatEntry > 0;
    assume {:nonnull} Tmp_275 != 0;
    assume Tmp_275 > 0;
    havoc vslice_dummy_var_466;
    Mem_T.INT4[TmpFatEntry] := vslice_dummy_var_466;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} BAND(FatIndex_1, 1) != 0;
    assume {:nonnull} TmpFatEntry != 0;
    assume TmpFatEntry > 0;
    call {:si_unique_call 3889} Tmp_297 := corral_nondet();
    goto L92;

  L92:
    assume {:nonnull} TmpFatEntry != 0;
    assume TmpFatEntry > 0;
    Mem_T.INT4[TmpFatEntry] := Tmp_297;
    assume {:nonnull} PinnedFat != 0;
    assume PinnedFat > 0;
    havoc Tmp_274;
    Tmp_273 := TmpFatEntry;
    assume {:nonnull} Tmp_273 != 0;
    assume Tmp_273 > 0;
    assume {:nonnull} Tmp_274 != 0;
    assume Tmp_274 > 0;
    assume {:nonnull} Tmp_273 != 0;
    assume Tmp_273 > 0;
    assume {:nonnull} Tmp_274 != 0;
    assume Tmp_274 > 0;
    call {:si_unique_call 3890} ExReleaseFastMutexUnsafe(0);
    ReleaseMutex := 0;
    goto L98;

  L98:
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} WasWait != 0;
    goto L101;

  L101:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} ReleaseMutex != 0;
    call {:si_unique_call 3891} ExReleaseFastMutexUnsafe(0);
    goto L102;

  L102:
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} CleaningOperation != 0;
    assume {:nonnull} Bcb_1 != 0;
    assume Bcb_1 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    goto L1;

  L1:
    return;

  anon44_Then:
    goto L106;

  L106:
    assume {:nonnull} Bcb_1 != 0;
    assume Bcb_1 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:nonnull} Bcb_1 != 0;
    assume Bcb_1 > 0;
    goto L1;

  anon43_Then:
    goto L1;

  anon42_Then:
    assume {:partition} CleaningOperation == 0;
    goto L106;

  anon41_Then:
    assume {:partition} ReleaseMutex == 0;
    goto L102;

  anon54_Then:
    assume {:partition} WasWait == 0;
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    goto L101;

  anon53_Then:
    assume {:partition} BAND(FatIndex_1, 1) == 0;
    assume {:nonnull} TmpFatEntry != 0;
    assume TmpFatEntry > 0;
    Tmp_272 := BAND(Mem_T.INT4[TmpFatEntry], BOR(BOR(BOR(4096, 8192), 16384), 32768));
    Tmp_297 := BOR(FatEntry_2, Tmp_272);
    goto L92;

  anon52_Then:
    assume {:partition} Tmp_282 != SectorSize - 1;
    goto L77;

  anon51_Then:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_284 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_270 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_270 != 0;
    assume Tmp_270 > 0;
    assume {:nonnull} Tmp_284 != 0;
    assume Tmp_284 > 0;
    havoc Tmp_292;
    goto L42;

  anon50_Then:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_286 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_294 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_286 != 0;
    assume Tmp_286 > 0;
    assume {:nonnull} Tmp_294 != 0;
    assume Tmp_294 > 0;
    havoc OffsetIntoVolumeFile;
    call {:si_unique_call 3892} FatPrepareWriteVolumeFile#0(IrpContext_24, Vcb_17, OffsetIntoVolumeFile, 2, Bcb_1, PinnedFatEntry, RegularOperation, 0);
    Lbo_3 := BAND(OffsetIntoVolumeFile, BNOT(SectorSize - 1));
    Tmp_287 := Lbo_3;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    call {:si_unique_call 3893} vslice_dummy_var_561 := FatAddMcbEntry(Vcb_17, DirtyFatMcb__VCB(Vcb_17), Tmp_287, Lbo_3, SectorSize);
    assume {:nonnull} PinnedFatEntry != 0;
    assume PinnedFatEntry > 0;
    havoc Mem_T.INT4;
    goto L98;

  anon40_Then:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_276 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_288 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_276 != 0;
    assume Tmp_276 > 0;
    assume {:nonnull} Tmp_288 != 0;
    assume Tmp_288 > 0;
    havoc OffsetIntoVolumeFile;
    call {:si_unique_call 3894} FatPrepareWriteVolumeFile#0(IrpContext_24, Vcb_17, OffsetIntoVolumeFile, 4, Bcb_1, PinnedFatEntry32, RegularOperation, 0);
    Lbo_3 := BAND(OffsetIntoVolumeFile, BNOT(SectorSize - 1));
    Tmp_293 := Lbo_3;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    call {:si_unique_call 3895} vslice_dummy_var_560 := FatAddMcbEntry(Vcb_17, DirtyFatMcb__VCB(Vcb_17), Tmp_293, Lbo_3, SectorSize);
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} FatIndex_1 != 1;
    assume {:nonnull} PinnedFatEntry32 != 0;
    assume PinnedFatEntry32 > 0;
    havoc Tmp_289;
    assume {:nonnull} PinnedFatEntry32 != 0;
    assume PinnedFatEntry32 > 0;
    havoc Mem_T.INT4;
    goto L98;

  anon45_Then:
    assume {:partition} FatIndex_1 == 1;
    assume {:nonnull} PinnedFatEntry32 != 0;
    assume PinnedFatEntry32 > 0;
    havoc Mem_T.INT4;
    goto L98;

  anon48_Then:
    FatEntry_2 := 32767;
    goto L31;

  anon39_Then:
    FatEntry_2 := 2047;
    goto L31;

  anon47_Then:
    assume {:partition} FatEntry_2 != -268435455;
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    call {:si_unique_call 3896} ExRaiseStatus(-1073741566);
    goto L31;

  anon49_Then:
    assume {:partition} FatEntry_2 == -268435456;
    FatEntry_2 := -1;
    CleaningOperation := 1;
    goto L31;

  anon37_Then:
    assume {:partition} FatIndex_1 != 1;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} 2 > FatIndex_1;
    goto L158;

  L158:
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    call {:si_unique_call 3897} ExRaiseStatus(-1073741566);
    goto L33;

  anon38_Then:
    assume {:partition} FatIndex_1 >= 2;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    goto L158;

  anon46_Then:
    goto L33;
}



procedure {:origName "FatSetFatEntry"} FatSetFatEntry#0(actual_IrpContext_24: int, actual_Vcb_17: int, actual_FatIndex_1: int, actual_FatEntry_2: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetFatEntry"} FatSetFatEntry#1(actual_IrpContext_24: int, actual_Vcb_17: int, actual_FatIndex_1: int, actual_FatEntry_2: int)
{
  var {:pointer} Tmp_270: int;
  var {:pointer} Tmp_271: int;
  var {:scalar} Tmp_272: int;
  var {:scalar} RegularOperation: int;
  var {:pointer} PinnedFatEntry: int;
  var {:pointer} Tmp_273: int;
  var {:pointer} Tmp_274: int;
  var {:pointer} Tmp_275: int;
  var {:scalar} OffsetIntoVolumeFile: int;
  var {:scalar} Lbo_3: int;
  var {:pointer} Tmp_276: int;
  var {:scalar} Tmp_278: int;
  var {:pointer} Tmp_279: int;
  var {:pointer} PinnedFat: int;
  var {:scalar} WasWait: int;
  var {:scalar} Tmp_282: int;
  var {:scalar} CleaningOperation: int;
  var {:pointer} Tmp_283: int;
  var {:pointer} Tmp_284: int;
  var {:pointer} Tmp_285: int;
  var {:pointer} Bcb_1: int;
  var {:pointer} Tmp_286: int;
  var {:scalar} Tmp_287: int;
  var {:pointer} Tmp_288: int;
  var {:scalar} Tmp_289: int;
  var {:scalar} Tmp_290: int;
  var {:pointer} PinnedFatEntry32: int;
  var {:scalar} Tmp_291: int;
  var {:scalar} Tmp_292: int;
  var {:scalar} SectorSize: int;
  var {:scalar} Tmp_293: int;
  var {:pointer} Tmp_294: int;
  var {:pointer} Tmp_295: int;
  var {:dopa} {:scalar} TmpFatEntry: int;
  var {:pointer} Tmp_296: int;
  var {:scalar} Tmp_297: int;
  var {:pointer} Tmp_298: int;
  var {:scalar} ReleaseMutex: int;
  var {:pointer} IrpContext_24: int;
  var {:pointer} Vcb_17: int;
  var {:scalar} FatIndex_1: int;
  var {:scalar} FatEntry_2: int;
  var vslice_dummy_var_562: int;
  var vslice_dummy_var_563: int;
  var vslice_dummy_var_564: int;
  var vslice_dummy_var_565: int;
  var vslice_dummy_var_566: int;
  var vslice_dummy_var_567: int;
  var vslice_dummy_var_467: int;

  anon0:
    call {:si_unique_call 3898} PinnedFatEntry := __HAVOC_malloc(4);
    call {:si_unique_call 3899} vslice_dummy_var_562 := __HAVOC_malloc(4);
    call {:si_unique_call 3900} PinnedFat := __HAVOC_malloc(4);
    call {:si_unique_call 3901} Bcb_1 := __HAVOC_malloc(4);
    call {:si_unique_call 3902} vslice_dummy_var_563 := __HAVOC_malloc(12);
    call {:si_unique_call 3903} PinnedFatEntry32 := __HAVOC_malloc(4);
    call {:si_unique_call 3904} TmpFatEntry := __HAVOC_malloc(4);
    IrpContext_24 := actual_IrpContext_24;
    Vcb_17 := actual_Vcb_17;
    FatIndex_1 := actual_FatIndex_1;
    FatEntry_2 := actual_FatEntry_2;
    assume {:nonnull} Bcb_1 != 0;
    assume Bcb_1 > 0;
    WasWait := 1;
    RegularOperation := 1;
    CleaningOperation := 0;
    ReleaseMutex := 0;
    call {:si_unique_call 3905} sdv_do_paged_code_check();
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} FatIndex_1 == 1;
    RegularOperation := 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} FatEntry_2 != -268435456;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} FatEntry_2 == -268435455;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    FatEntry_2 := -1;
    goto L31;

  L31:
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    havoc WasWait;
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    goto L33;

  L33:
    call {:si_unique_call 3906} SectorSize := corral_nondet();
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    FatEntry_2 := BAND(FatEntry_2, BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048));
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_283 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_298 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_283 != 0;
    assume Tmp_283 > 0;
    assume {:nonnull} Tmp_298 != 0;
    assume Tmp_298 > 0;
    havoc OffsetIntoVolumeFile;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_279 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_279 != 0;
    assume Tmp_279 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_271 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_296 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_271 != 0;
    assume Tmp_271 > 0;
    assume {:nonnull} Tmp_296 != 0;
    assume Tmp_296 > 0;
    havoc Tmp_292;
    goto L42;

  L42:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_295 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_285 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_285 != 0;
    assume Tmp_285 > 0;
    assume {:nonnull} Tmp_295 != 0;
    assume Tmp_295 > 0;
    havoc Tmp_278;
    call {:si_unique_call 3907} FatPrepareWriteVolumeFile#1(IrpContext_24, Vcb_17, Tmp_278, Tmp_292, Bcb_1, PinnedFat, RegularOperation, 0);
    Lbo_3 := BAND(OffsetIntoVolumeFile, BNOT(SectorSize - 1));
    Tmp_291 := Lbo_3;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    call {:si_unique_call 3908} vslice_dummy_var_564 := FatAddMcbEntry(Vcb_17, DirtyFatMcb__VCB(Vcb_17), Tmp_291, Lbo_3, SectorSize);
    Tmp_282 := BAND(OffsetIntoVolumeFile, SectorSize - 1);
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} Tmp_282 == SectorSize - 1;
    Lbo_3 := Lbo_3 + SectorSize;
    Tmp_290 := Lbo_3;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    call {:si_unique_call 3909} vslice_dummy_var_565 := FatAddMcbEntry(Vcb_17, DirtyFatMcb__VCB(Vcb_17), Tmp_290, Lbo_3, SectorSize);
    goto L77;

  L77:
    call {:si_unique_call 3910} ExAcquireFastMutexUnsafe(0);
    ReleaseMutex := 1;
    assume {:nonnull} PinnedFat != 0;
    assume PinnedFat > 0;
    havoc Tmp_275;
    assume {:nonnull} TmpFatEntry != 0;
    assume TmpFatEntry > 0;
    assume {:nonnull} Tmp_275 != 0;
    assume Tmp_275 > 0;
    havoc vslice_dummy_var_467;
    Mem_T.INT4[TmpFatEntry] := vslice_dummy_var_467;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} BAND(FatIndex_1, 1) != 0;
    assume {:nonnull} TmpFatEntry != 0;
    assume TmpFatEntry > 0;
    call {:si_unique_call 3911} Tmp_297 := corral_nondet();
    goto L92;

  L92:
    assume {:nonnull} TmpFatEntry != 0;
    assume TmpFatEntry > 0;
    Mem_T.INT4[TmpFatEntry] := Tmp_297;
    assume {:nonnull} PinnedFat != 0;
    assume PinnedFat > 0;
    havoc Tmp_274;
    Tmp_273 := TmpFatEntry;
    assume {:nonnull} Tmp_273 != 0;
    assume Tmp_273 > 0;
    assume {:nonnull} Tmp_274 != 0;
    assume Tmp_274 > 0;
    assume {:nonnull} Tmp_273 != 0;
    assume Tmp_273 > 0;
    assume {:nonnull} Tmp_274 != 0;
    assume Tmp_274 > 0;
    call {:si_unique_call 3912} ExReleaseFastMutexUnsafe(0);
    ReleaseMutex := 0;
    goto L98;

  L98:
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} WasWait != 0;
    goto L101;

  L101:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} ReleaseMutex != 0;
    call {:si_unique_call 3913} ExReleaseFastMutexUnsafe(0);
    goto L102;

  L102:
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} CleaningOperation != 0;
    assume {:nonnull} Bcb_1 != 0;
    assume Bcb_1 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    goto L1;

  L1:
    return;

  anon44_Then:
    goto L106;

  L106:
    assume {:nonnull} Bcb_1 != 0;
    assume Bcb_1 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:nonnull} Bcb_1 != 0;
    assume Bcb_1 > 0;
    goto L1;

  anon43_Then:
    goto L1;

  anon42_Then:
    assume {:partition} CleaningOperation == 0;
    goto L106;

  anon41_Then:
    assume {:partition} ReleaseMutex == 0;
    goto L102;

  anon54_Then:
    assume {:partition} WasWait == 0;
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    goto L101;

  anon53_Then:
    assume {:partition} BAND(FatIndex_1, 1) == 0;
    assume {:nonnull} TmpFatEntry != 0;
    assume TmpFatEntry > 0;
    Tmp_272 := BAND(Mem_T.INT4[TmpFatEntry], BOR(BOR(BOR(4096, 8192), 16384), 32768));
    Tmp_297 := BOR(FatEntry_2, Tmp_272);
    goto L92;

  anon52_Then:
    assume {:partition} Tmp_282 != SectorSize - 1;
    goto L77;

  anon51_Then:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_284 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_270 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_270 != 0;
    assume Tmp_270 > 0;
    assume {:nonnull} Tmp_284 != 0;
    assume Tmp_284 > 0;
    havoc Tmp_292;
    goto L42;

  anon50_Then:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_286 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_294 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_286 != 0;
    assume Tmp_286 > 0;
    assume {:nonnull} Tmp_294 != 0;
    assume Tmp_294 > 0;
    havoc OffsetIntoVolumeFile;
    call {:si_unique_call 3914} FatPrepareWriteVolumeFile#1(IrpContext_24, Vcb_17, OffsetIntoVolumeFile, 2, Bcb_1, PinnedFatEntry, RegularOperation, 0);
    Lbo_3 := BAND(OffsetIntoVolumeFile, BNOT(SectorSize - 1));
    Tmp_287 := Lbo_3;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    call {:si_unique_call 3915} vslice_dummy_var_567 := FatAddMcbEntry(Vcb_17, DirtyFatMcb__VCB(Vcb_17), Tmp_287, Lbo_3, SectorSize);
    assume {:nonnull} PinnedFatEntry != 0;
    assume PinnedFatEntry > 0;
    havoc Mem_T.INT4;
    goto L98;

  anon40_Then:
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_276 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    Tmp_288 := Bpb__VCB(Vcb_17);
    assume {:nonnull} Tmp_276 != 0;
    assume Tmp_276 > 0;
    assume {:nonnull} Tmp_288 != 0;
    assume Tmp_288 > 0;
    havoc OffsetIntoVolumeFile;
    call {:si_unique_call 3916} FatPrepareWriteVolumeFile#1(IrpContext_24, Vcb_17, OffsetIntoVolumeFile, 4, Bcb_1, PinnedFatEntry32, RegularOperation, 0);
    Lbo_3 := BAND(OffsetIntoVolumeFile, BNOT(SectorSize - 1));
    Tmp_293 := Lbo_3;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    call {:si_unique_call 3917} vslice_dummy_var_566 := FatAddMcbEntry(Vcb_17, DirtyFatMcb__VCB(Vcb_17), Tmp_293, Lbo_3, SectorSize);
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} FatIndex_1 != 1;
    assume {:nonnull} PinnedFatEntry32 != 0;
    assume PinnedFatEntry32 > 0;
    havoc Tmp_289;
    assume {:nonnull} PinnedFatEntry32 != 0;
    assume PinnedFatEntry32 > 0;
    havoc Mem_T.INT4;
    goto L98;

  anon45_Then:
    assume {:partition} FatIndex_1 == 1;
    assume {:nonnull} PinnedFatEntry32 != 0;
    assume PinnedFatEntry32 > 0;
    havoc Mem_T.INT4;
    goto L98;

  anon48_Then:
    FatEntry_2 := 32767;
    goto L31;

  anon39_Then:
    FatEntry_2 := 2047;
    goto L31;

  anon47_Then:
    assume {:partition} FatEntry_2 != -268435455;
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    call {:si_unique_call 3918} ExRaiseStatus(-1073741566);
    goto L31;

  anon49_Then:
    assume {:partition} FatEntry_2 == -268435456;
    FatEntry_2 := -1;
    CleaningOperation := 1;
    goto L31;

  anon37_Then:
    assume {:partition} FatIndex_1 != 1;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:partition} 2 > FatIndex_1;
    goto L158;

  L158:
    assume {:nonnull} IrpContext_24 != 0;
    assume IrpContext_24 > 0;
    call {:si_unique_call 3919} ExRaiseStatus(-1073741566);
    goto L33;

  anon38_Then:
    assume {:partition} FatIndex_1 >= 2;
    assume {:nonnull} Vcb_17 != 0;
    assume Vcb_17 > 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    goto L158;

  anon46_Then:
    goto L33;
}



procedure {:origName "FatSetFatEntry"} FatSetFatEntry#1(actual_IrpContext_24: int, actual_Vcb_17: int, actual_FatIndex_1: int, actual_FatEntry_2: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPrepareWriteVolumeFile"} FatPrepareWriteVolumeFile#0(actual_IrpContext_68: int, actual_Vcb_42: int, actual_StartingVbo: int, actual_ByteCount_6: int, actual_Bcb_6: int, actual_Buffer_17: int, actual_Reversible: int, actual_Zero: int)
{
  var {:scalar} Vbo_2: int;
  var {:scalar} sdv_885: int;
  var {:scalar} Tmp_1487: int;
  var {:scalar} sdv_887: int;
  var {:pointer} IrpContext_68: int;
  var {:pointer} Vcb_42: int;
  var {:scalar} StartingVbo: int;
  var {:scalar} ByteCount_6: int;
  var {:pointer} Bcb_6: int;
  var {:scalar} Reversible: int;
  var {:scalar} Zero: int;
  var vslice_dummy_var_568: int;
  var vslice_dummy_var_468: int;

  anon0:
    call {:si_unique_call 3920} Vbo_2 := __HAVOC_malloc(20);
    call {:si_unique_call 3921} vslice_dummy_var_568 := __HAVOC_malloc(4);
    IrpContext_68 := actual_IrpContext_68;
    Vcb_42 := actual_Vcb_42;
    StartingVbo := actual_StartingVbo;
    ByteCount_6 := actual_ByteCount_6;
    Bcb_6 := actual_Bcb_6;
    Reversible := actual_Reversible;
    Zero := actual_Zero;
    call {:si_unique_call 3922} sdv_do_paged_code_check();
    assume {:nonnull} Vbo_2 != 0;
    assume Vbo_2 > 0;
    assume {:nonnull} IrpContext_68 != 0;
    assume IrpContext_68 > 0;
    havoc Tmp_1487;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Tmp_1487 == 0;
    goto L53;

  L53:
    call {:si_unique_call 3923} sdv_885 := corral_nondet();
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} sdv_885 != 0;
    goto L15;

  L15:
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Zero != 0;
    call {:si_unique_call 3924} sdv_RtlZeroMemory(0, ByteCount_6);
    goto L16;

  L16:
    assume {:nonnull} Bcb_6 != 0;
    assume Bcb_6 > 0;
    havoc vslice_dummy_var_468;
    call {:si_unique_call 3925} FatSetDirtyBcb#0(IrpContext_68, vslice_dummy_var_468, Vcb_42, Reversible);
    call {:si_unique_call 3926} sdv_887 := sdv_AbnormalTermination();
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} sdv_887 != 0;
    assume {:nonnull} Bcb_6 != 0;
    assume Bcb_6 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:nonnull} Bcb_6 != 0;
    assume Bcb_6 > 0;
    goto L1;

  L1:
    return;

  anon14_Then:
    goto L1;

  anon13_Then:
    assume {:partition} sdv_887 == 0;
    goto L1;

  anon12_Then:
    assume {:partition} Zero == 0;
    goto L16;

  anon11_Then:
    assume {:partition} sdv_885 == 0;
    assume {:nonnull} IrpContext_68 != 0;
    assume IrpContext_68 > 0;
    call {:si_unique_call 3927} ExRaiseStatus(-1073741608);
    goto L15;

  anon15_Then:
    assume {:partition} Tmp_1487 != 0;
    goto L53;
}



procedure {:origName "FatPrepareWriteVolumeFile"} FatPrepareWriteVolumeFile#0(actual_IrpContext_68: int, actual_Vcb_42: int, actual_StartingVbo: int, actual_ByteCount_6: int, actual_Bcb_6: int, actual_Buffer_17: int, actual_Reversible: int, actual_Zero: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPrepareWriteVolumeFile"} FatPrepareWriteVolumeFile#1(actual_IrpContext_68: int, actual_Vcb_42: int, actual_StartingVbo: int, actual_ByteCount_6: int, actual_Bcb_6: int, actual_Buffer_17: int, actual_Reversible: int, actual_Zero: int)
{
  var {:scalar} Vbo_2: int;
  var {:scalar} sdv_885: int;
  var {:scalar} Tmp_1487: int;
  var {:scalar} sdv_887: int;
  var {:pointer} IrpContext_68: int;
  var {:pointer} Vcb_42: int;
  var {:scalar} StartingVbo: int;
  var {:scalar} ByteCount_6: int;
  var {:pointer} Bcb_6: int;
  var {:scalar} Reversible: int;
  var {:scalar} Zero: int;
  var vslice_dummy_var_569: int;
  var vslice_dummy_var_469: int;

  anon0:
    call {:si_unique_call 3928} Vbo_2 := __HAVOC_malloc(20);
    call {:si_unique_call 3929} vslice_dummy_var_569 := __HAVOC_malloc(4);
    IrpContext_68 := actual_IrpContext_68;
    Vcb_42 := actual_Vcb_42;
    StartingVbo := actual_StartingVbo;
    ByteCount_6 := actual_ByteCount_6;
    Bcb_6 := actual_Bcb_6;
    Reversible := actual_Reversible;
    Zero := actual_Zero;
    call {:si_unique_call 3930} sdv_do_paged_code_check();
    assume {:nonnull} Vbo_2 != 0;
    assume Vbo_2 > 0;
    assume {:nonnull} IrpContext_68 != 0;
    assume IrpContext_68 > 0;
    havoc Tmp_1487;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} Tmp_1487 == 0;
    goto L53;

  L53:
    call {:si_unique_call 3931} sdv_885 := corral_nondet();
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} sdv_885 != 0;
    goto L15;

  L15:
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} Zero != 0;
    call {:si_unique_call 3932} sdv_RtlZeroMemory(0, ByteCount_6);
    goto L16;

  L16:
    assume {:nonnull} Bcb_6 != 0;
    assume Bcb_6 > 0;
    havoc vslice_dummy_var_469;
    call {:si_unique_call 3933} FatSetDirtyBcb#1(IrpContext_68, vslice_dummy_var_469, Vcb_42, Reversible);
    call {:si_unique_call 3934} sdv_887 := sdv_AbnormalTermination();
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} sdv_887 != 0;
    assume {:nonnull} Bcb_6 != 0;
    assume Bcb_6 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:nonnull} Bcb_6 != 0;
    assume Bcb_6 > 0;
    goto L1;

  L1:
    return;

  anon14_Then:
    goto L1;

  anon13_Then:
    assume {:partition} sdv_887 == 0;
    goto L1;

  anon12_Then:
    assume {:partition} Zero == 0;
    goto L16;

  anon11_Then:
    assume {:partition} sdv_885 == 0;
    assume {:nonnull} IrpContext_68 != 0;
    assume IrpContext_68 > 0;
    call {:si_unique_call 3935} ExRaiseStatus(-1073741608);
    goto L15;

  anon15_Then:
    assume {:partition} Tmp_1487 != 0;
    goto L53;
}



procedure {:origName "FatPrepareWriteVolumeFile"} FatPrepareWriteVolumeFile#1(actual_IrpContext_68: int, actual_Vcb_42: int, actual_StartingVbo: int, actual_ByteCount_6: int, actual_Bcb_6: int, actual_Buffer_17: int, actual_Reversible: int, actual_Zero: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetDirtyBcb"} FatSetDirtyBcb#0(actual_IrpContext_75: int, actual_Bcb_11: int, actual_Vcb_44: int, actual_Reversible_2: int)
{
  var {:scalar} SavedIrql_1: int;
  var {:scalar} CurrentTime: int;
  var {:scalar} Tmp_1547: int;
  var {:scalar} CleanVolumeTimer: int;
  var {:scalar} TimeSincePreviousCall: int;
  var {:pointer} Tmp_1549: int;
  var {:scalar} SetTimer: int;
  var {:pointer} IrpContext_75: int;
  var {:pointer} Bcb_11: int;
  var {:pointer} Vcb_44: int;
  var {:scalar} Reversible_2: int;
  var vslice_dummy_var_570: int;
  var vslice_dummy_var_571: int;
  var vslice_dummy_var_572: int;
  var vslice_dummy_var_573: int;
  var vslice_dummy_var_574: int;

  anon0:
    call {:si_unique_call 3936} CurrentTime := __HAVOC_malloc(20);
    call {:si_unique_call 3937} CleanVolumeTimer := __HAVOC_malloc(20);
    call {:si_unique_call 3938} TimeSincePreviousCall := __HAVOC_malloc(20);
    call {:si_unique_call 3939} vslice_dummy_var_570 := __HAVOC_malloc(4);
    IrpContext_75 := actual_IrpContext_75;
    Bcb_11 := actual_Bcb_11;
    Vcb_44 := actual_Vcb_44;
    Reversible_2 := actual_Reversible_2;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Reversible_2 != 0;
    call {:si_unique_call 3940} FatRepinBcb(IrpContext_75, Bcb_11);
    goto L4;

  L4:
    assume {:nonnull} IrpContext_75 != 0;
    assume IrpContext_75 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Vcb_44 != 0;
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    call {:si_unique_call 3941} Tmp_1549 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1549 != 0;
    assume Tmp_1549 > 0;
    Mem_T.INT4[Tmp_1549] := SavedIrql_1;
    call {:si_unique_call 3942} sdv_KeAcquireSpinLock(0, Tmp_1549);
    assume {:nonnull} Tmp_1549 != 0;
    assume Tmp_1549 > 0;
    SavedIrql_1 := Mem_T.INT4[Tmp_1549];
    assume {:nonnull} CurrentTime != 0;
    assume CurrentTime > 0;
    assume {:nonnull} TimeSincePreviousCall != 0;
    assume TimeSincePreviousCall > 0;
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    assume {:nonnull} TimeSincePreviousCall != 0;
    assume TimeSincePreviousCall > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    goto L26;

  L26:
    SetTimer := 1;
    goto L27;

  L27:
    call {:si_unique_call 3943} sdv_KeReleaseSpinLock(0, SavedIrql_1);
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} SetTimer != 0;
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    Tmp_1547 := -15000000;
    goto L35;

  L35:
    assume {:nonnull} CleanVolumeTimer != 0;
    assume CleanVolumeTimer > 0;
    call {:si_unique_call 3944} vslice_dummy_var_574 := KeCancelTimer(0);
    call {:si_unique_call 3945} vslice_dummy_var_571 := KeRemoveQueueDpc(0);
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    goto L44;

  L44:
    call {:si_unique_call 3946} Tmp_1549 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1549 != 0;
    assume Tmp_1549 > 0;
    Mem_T.INT4[Tmp_1549] := SavedIrql_1;
    call {:si_unique_call 3947} sdv_KeAcquireSpinLock(0, Tmp_1549);
    assume {:nonnull} Tmp_1549 != 0;
    assume Tmp_1549 > 0;
    SavedIrql_1 := Mem_T.INT4[Tmp_1549];
    call {:si_unique_call 3948} sdv_KeReleaseSpinLock(0, SavedIrql_1);
    call {:si_unique_call 3949} vslice_dummy_var_572 := KeSetTimer(0, CleanVolumeTimer, 0);
    goto L1;

  L1:
    return;

  anon30_Then:
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    goto L59;

  L59:
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    call {:si_unique_call 3950} vslice_dummy_var_573 := FatToggleMediaEjectDisable(IrpContext_75, Vcb_44, 1);
    goto L44;

  anon33_Then:
    goto L44;

  anon31_Then:
    call {:si_unique_call 3951} FatMarkVolume#0(IrpContext_75, Vcb_44, 1);
    goto L59;

  anon29_Then:
    Tmp_1547 := -80000000;
    goto L35;

  anon28_Then:
    assume {:partition} SetTimer == 0;
    goto L1;

  anon32_Then:
    assume {:nonnull} TimeSincePreviousCall != 0;
    assume TimeSincePreviousCall > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    SetTimer := 0;
    goto L27;

  anon27_Then:
    goto L26;

  anon26_Then:
    goto L1;

  anon25_Then:
    assume {:partition} Vcb_44 == 0;
    goto L1;

  anon24_Then:
    goto L1;

  anon23_Then:
    assume {:partition} Reversible_2 == 0;
    goto L4;
}



procedure {:origName "FatSetDirtyBcb"} FatSetDirtyBcb#0(actual_IrpContext_75: int, actual_Bcb_11: int, actual_Vcb_44: int, actual_Reversible_2: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetDirtyBcb"} FatSetDirtyBcb#1(actual_IrpContext_75: int, actual_Bcb_11: int, actual_Vcb_44: int, actual_Reversible_2: int)
{
  var {:scalar} SavedIrql_1: int;
  var {:scalar} CurrentTime: int;
  var {:scalar} Tmp_1547: int;
  var {:scalar} CleanVolumeTimer: int;
  var {:scalar} TimeSincePreviousCall: int;
  var {:pointer} Tmp_1549: int;
  var {:scalar} SetTimer: int;
  var {:pointer} IrpContext_75: int;
  var {:pointer} Bcb_11: int;
  var {:pointer} Vcb_44: int;
  var {:scalar} Reversible_2: int;
  var vslice_dummy_var_575: int;
  var vslice_dummy_var_576: int;
  var vslice_dummy_var_577: int;
  var vslice_dummy_var_578: int;
  var vslice_dummy_var_579: int;

  anon0:
    call {:si_unique_call 3952} CurrentTime := __HAVOC_malloc(20);
    call {:si_unique_call 3953} CleanVolumeTimer := __HAVOC_malloc(20);
    call {:si_unique_call 3954} TimeSincePreviousCall := __HAVOC_malloc(20);
    call {:si_unique_call 3955} vslice_dummy_var_575 := __HAVOC_malloc(4);
    IrpContext_75 := actual_IrpContext_75;
    Bcb_11 := actual_Bcb_11;
    Vcb_44 := actual_Vcb_44;
    Reversible_2 := actual_Reversible_2;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Reversible_2 != 0;
    call {:si_unique_call 3956} FatRepinBcb(IrpContext_75, Bcb_11);
    goto L4;

  L4:
    assume {:nonnull} IrpContext_75 != 0;
    assume IrpContext_75 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Vcb_44 != 0;
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    call {:si_unique_call 3957} Tmp_1549 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1549 != 0;
    assume Tmp_1549 > 0;
    Mem_T.INT4[Tmp_1549] := SavedIrql_1;
    call {:si_unique_call 3958} sdv_KeAcquireSpinLock(0, Tmp_1549);
    assume {:nonnull} Tmp_1549 != 0;
    assume Tmp_1549 > 0;
    SavedIrql_1 := Mem_T.INT4[Tmp_1549];
    assume {:nonnull} CurrentTime != 0;
    assume CurrentTime > 0;
    assume {:nonnull} TimeSincePreviousCall != 0;
    assume TimeSincePreviousCall > 0;
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    assume {:nonnull} TimeSincePreviousCall != 0;
    assume TimeSincePreviousCall > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    goto L26;

  L26:
    SetTimer := 1;
    goto L27;

  L27:
    call {:si_unique_call 3959} sdv_KeReleaseSpinLock(0, SavedIrql_1);
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} SetTimer != 0;
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    Tmp_1547 := -15000000;
    goto L35;

  L35:
    assume {:nonnull} CleanVolumeTimer != 0;
    assume CleanVolumeTimer > 0;
    call {:si_unique_call 3960} vslice_dummy_var_579 := KeCancelTimer(0);
    call {:si_unique_call 3961} vslice_dummy_var_576 := KeRemoveQueueDpc(0);
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    goto L44;

  L44:
    call {:si_unique_call 3962} Tmp_1549 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1549 != 0;
    assume Tmp_1549 > 0;
    Mem_T.INT4[Tmp_1549] := SavedIrql_1;
    call {:si_unique_call 3963} sdv_KeAcquireSpinLock(0, Tmp_1549);
    assume {:nonnull} Tmp_1549 != 0;
    assume Tmp_1549 > 0;
    SavedIrql_1 := Mem_T.INT4[Tmp_1549];
    call {:si_unique_call 3964} sdv_KeReleaseSpinLock(0, SavedIrql_1);
    call {:si_unique_call 3965} vslice_dummy_var_577 := KeSetTimer(0, CleanVolumeTimer, 0);
    goto L1;

  L1:
    return;

  anon30_Then:
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    goto L59;

  L59:
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    assume {:nonnull} Vcb_44 != 0;
    assume Vcb_44 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    call {:si_unique_call 3966} vslice_dummy_var_578 := FatToggleMediaEjectDisable(IrpContext_75, Vcb_44, 1);
    goto L44;

  anon33_Then:
    goto L44;

  anon31_Then:
    call {:si_unique_call 3967} FatMarkVolume#1(IrpContext_75, Vcb_44, 1);
    goto L59;

  anon29_Then:
    Tmp_1547 := -80000000;
    goto L35;

  anon28_Then:
    assume {:partition} SetTimer == 0;
    goto L1;

  anon32_Then:
    assume {:nonnull} TimeSincePreviousCall != 0;
    assume TimeSincePreviousCall > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    SetTimer := 0;
    goto L27;

  anon27_Then:
    goto L26;

  anon26_Then:
    goto L1;

  anon25_Then:
    assume {:partition} Vcb_44 == 0;
    goto L1;

  anon24_Then:
    goto L1;

  anon23_Then:
    assume {:partition} Reversible_2 == 0;
    goto L4;
}



procedure {:origName "FatSetDirtyBcb"} FatSetDirtyBcb#1(actual_IrpContext_75: int, actual_Bcb_11: int, actual_Vcb_44: int, actual_Reversible_2: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMarkVolume"} FatMarkVolume#0(actual_IrpContext_201: int, actual_Vcb_109: int, actual_VolumeState_1: int)
{
  var {:pointer} Tmp_2888: int;
  var {:scalar} Offset_8: int;
  var {:pointer} Irp_79: int;
  var {:scalar} abort: int;
  var {:scalar} Tmp_2889: int;
  var {:pointer} Tmp_2890: int;
  var {:scalar} PinLength: int;
  var {:pointer} NextMdl: int;
  var {:scalar} Status_76: int;
  var {:pointer} Tmp_2891: int;
  var {:scalar} sdv_1628: int;
  var {:pointer} Bcb_25: int;
  var {:scalar} ThisPass: int;
  var {:pointer} Tmp_2892: int;
  var {:scalar} Event_13: int;
  var {:pointer} Tmp_2893: int;
  var {:pointer} Tmp_2894: int;
  var {:pointer} Tmp_2895: int;
  var {:pointer} sdv_1630: int;
  var {:pointer} Tmp_2897: int;
  var {:scalar} WriteLength_1: int;
  var {:scalar} FsInfoUpdate: int;
  var {:pointer} Tmp_2898: int;
  var {:pointer} FsInfoSector: int;
  var {:pointer} Tmp_2899: int;
  var {:pointer} CurrentHead: int;
  var {:pointer} Sector: int;
  var {:pointer} IrpContext_201: int;
  var {:pointer} Vcb_109: int;
  var {:scalar} VolumeState_1: int;
  var vslice_dummy_var_580: int;
  var vslice_dummy_var_581: int;
  var vslice_dummy_var_582: int;
  var vslice_dummy_var_470: int;

  anon0:
    call {:si_unique_call 3968} Offset_8 := __HAVOC_malloc(20);
    call {:si_unique_call 3969} Event_13 := __HAVOC_malloc(124);
    call {:si_unique_call 3970} vslice_dummy_var_580 := __HAVOC_malloc(4);
    IrpContext_201 := actual_IrpContext_201;
    Vcb_109 := actual_Vcb_109;
    VolumeState_1 := actual_VolumeState_1;
    Bcb_25 := 0;
    Irp_79 := 0;
    FsInfoUpdate := 0;
    abort := 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    ThisPass := 0;
    goto L22;

  L22:
    call {:si_unique_call 3971} Tmp_2888, Irp_79, abort, Tmp_2889, Tmp_2890, PinLength, NextMdl, Status_76, Tmp_2891, sdv_1628, Bcb_25, ThisPass, Tmp_2892, Tmp_2893, Tmp_2894, Tmp_2895, sdv_1630, Tmp_2897, WriteLength_1, FsInfoUpdate, Tmp_2898, FsInfoSector, Tmp_2899, CurrentHead, vslice_dummy_var_581, vslice_dummy_var_582 := FatMarkVolume#0_loop_L22(Tmp_2888, Offset_8, Irp_79, abort, Tmp_2889, Tmp_2890, PinLength, NextMdl, Status_76, Tmp_2891, sdv_1628, Bcb_25, ThisPass, Tmp_2892, Event_13, Tmp_2893, Tmp_2894, Tmp_2895, sdv_1630, Tmp_2897, WriteLength_1, FsInfoUpdate, Tmp_2898, FsInfoSector, Tmp_2899, CurrentHead, Sector, Vcb_109, VolumeState_1, vslice_dummy_var_581, vslice_dummy_var_582);
    goto L22_last;

  L22_last:
    assume {:CounterLoop 2} {:Counter "ThisPass"} true;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} 2 > ThisPass;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} ThisPass != 1;
    goto L32;

  L32:
    assume {:nonnull} Offset_8 != 0;
    assume Offset_8 > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2890 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Tmp_2890 != 0;
    assume Tmp_2890 > 0;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2893 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2895 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Tmp_2893 != 0;
    assume Tmp_2893 > 0;
    assume {:nonnull} Tmp_2895 != 0;
    assume Tmp_2895 > 0;
    havoc Tmp_2889;
    goto L38;

  L38:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2897 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2898 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Tmp_2897 != 0;
    assume Tmp_2897 > 0;
    assume {:nonnull} Tmp_2898 != 0;
    assume Tmp_2898 > 0;
    havoc PinLength;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    havoc WriteLength_1;
    goto L40;

  L40:
    call {:si_unique_call 3972} vslice_dummy_var_581 := corral_nondet();
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} ThisPass == 0;
    call {:si_unique_call 3973} sdv_1628 := FatIsBootSectorFat(Sector);
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} sdv_1628 != 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    Tmp_2888 := Sector;
    assume {:nonnull} Tmp_2888 != 0;
    assume Tmp_2888 > 0;
    CurrentHead := CurrentHead__PACKED_BOOT_SECTOR_EX(Tmp_2888);
    goto L126;

  L126:
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} VolumeState_1 != 0;
    assume {:nonnull} CurrentHead != 0;
    assume CurrentHead > 0;
    Mem_T.INT4[CurrentHead] := BOR(Mem_T.INT4[CurrentHead], 1);
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} VolumeState_1 == 2;
    assume {:nonnull} CurrentHead != 0;
    assume CurrentHead > 0;
    Mem_T.INT4[CurrentHead] := BOR(Mem_T.INT4[CurrentHead], 2);
    goto L65;

  L65:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} FsInfoUpdate != 0;
    FsInfoSector := Sector;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    goto L66;

  L66:
    call {:si_unique_call 3974} KeInitializeEvent(Event_13, 0, 0);
    call {:si_unique_call 3975} Irp_79 := IoBuildAsynchronousFsdRequest(4, 0, 0, WriteLength_1, 0, 0);
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} Irp_79 == 0;
    goto L94;

  L94:
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} Irp_79 != 0;
    goto L99;

  L99:
    call {:si_unique_call 3976} NextMdl, Tmp_2891 := FatMarkVolume#0_loop_L99(Irp_79, NextMdl, Tmp_2891);
    goto L99_last;

  L99_last:
    assume {:nonnull} Irp_79 != 0;
    assume Irp_79 > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:nonnull} Irp_79 != 0;
    assume Irp_79 > 0;
    havoc Tmp_2891;
    assume {:nonnull} Tmp_2891 != 0;
    assume Tmp_2891 > 0;
    havoc NextMdl;
    call {:si_unique_call 3977} MmUnlockPages(0);
    call {:si_unique_call 3978} IoFreeMdl(0);
    assume {:nonnull} Irp_79 != 0;
    assume Irp_79 > 0;
    goto anon71_Else_dummy;

  anon71_Else_dummy:
    assume false;
    return;

  anon71_Then:
    call {:si_unique_call 3979} IoFreeIrp(0);
    goto L98;

  L98:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} Bcb_25 != 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} Bcb_25 != 0;
    Bcb_25 := 0;
    goto L112;

  L112:
    ThisPass := ThisPass + 1;
    goto L112_dummy;

  L112_dummy:
    assume false;
    return;

  anon72_Then:
    assume {:partition} Bcb_25 == 0;
    goto L112;

  anon70_Then:
    assume {:partition} Bcb_25 == 0;
    goto L112;

  anon69_Then:
    assume {:partition} Irp_79 == 0;
    goto L98;

  anon67_Then:
    assume {:partition} Irp_79 != 0;
    call {:si_unique_call 3980} sdv_1630 := sdv_IoGetNextIrpStackLocation(Irp_79);
    assume {:nonnull} sdv_1630 != 0;
    assume sdv_1630 > 0;
    call {:si_unique_call 3981} sdv_IoSetCompletionRoutine(Irp_79, li2bplFunctionConstant600, Event_13, 1, 1, 1);
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    havoc vslice_dummy_var_470;
    call {:si_unique_call 3982} Status_76 := sdv_IoCallDriver(vslice_dummy_var_470, Irp_79);
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} Status_76 == 259;
    call {:si_unique_call 3983} vslice_dummy_var_582 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    goto L94;

  anon68_Then:
    assume {:partition} Status_76 != 259;
    goto L94;

  anon66_Then:
    assume {:partition} FsInfoUpdate == 0;
    goto L66;

  anon83_Then:
    assume {:partition} VolumeState_1 != 2;
    goto L65;

  anon75_Then:
    assume {:partition} VolumeState_1 == 0;
    assume {:nonnull} CurrentHead != 0;
    assume CurrentHead > 0;
    Mem_T.INT4[CurrentHead] := BAND(Mem_T.INT4[CurrentHead], BNOT(1));
    goto L65;

  anon74_Then:
    Tmp_2899 := Sector;
    assume {:nonnull} Tmp_2899 != 0;
    assume Tmp_2899 > 0;
    CurrentHead := CurrentHead__PACKED_BOOT_SECTOR(Tmp_2899);
    goto L126;

  anon73_Then:
    assume {:partition} sdv_1628 == 0;
    abort := 1;
    goto L94;

  anon65_Then:
    assume {:partition} ThisPass != 0;
    goto L65;

  anon82_Then:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2894 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2892 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Tmp_2892 != 0;
    assume Tmp_2892 > 0;
    assume {:nonnull} Tmp_2894 != 0;
    assume Tmp_2894 > 0;
    havoc Tmp_2889;
    goto L38;

  anon81_Then:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    havoc PinLength;
    WriteLength_1 := PinLength;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} VolumeState_1 == 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    FsInfoUpdate := 1;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    havoc PinLength;
    WriteLength_1 := PinLength;
    goto L40;

  anon77_Then:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} ThisPass == 1;
    FsInfoUpdate := 1;
    assume {:nonnull} Offset_8 != 0;
    assume Offset_8 > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto L40;

  anon78_Then:
    assume {:partition} ThisPass != 1;
    goto L40;

  anon76_Then:
    assume {:partition} VolumeState_1 != 0;
    goto L40;

  anon84_Then:
    goto L40;

  anon60_Then:
    assume {:partition} ThisPass == 1;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} VolumeState_1 == 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} FsInfoUpdate == 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    goto L32;

  anon64_Then:
    goto L23;

  L23:
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} abort == 0;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} VolumeState_1 == 1;
    assume false;
    return;

  anon79_Then:
    assume {:partition} VolumeState_1 != 1;
    assume false;
    return;

  anon59_Then:
    assume {:partition} abort != 0;
    goto L1;

  L1:
    return;

  anon63_Then:
    assume {:partition} FsInfoUpdate != 0;
    goto L23;

  anon62_Then:
    assume {:partition} VolumeState_1 != 0;
    goto L23;

  anon61_Then:
    goto L23;

  anon58_Then:
    assume {:partition} ThisPass >= 2;
    goto L23;

  anon57_Then:
    goto L1;

  anon80_Then:
    goto L1;
}



procedure {:origName "FatMarkVolume"} FatMarkVolume#0(actual_IrpContext_201: int, actual_Vcb_109: int, actual_VolumeState_1: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatMarkVolume"} FatMarkVolume#1(actual_IrpContext_201: int, actual_Vcb_109: int, actual_VolumeState_1: int)
{
  var {:pointer} Tmp_2888: int;
  var {:scalar} Offset_8: int;
  var {:pointer} Irp_79: int;
  var {:scalar} abort: int;
  var {:scalar} Tmp_2889: int;
  var {:pointer} Tmp_2890: int;
  var {:scalar} PinLength: int;
  var {:pointer} NextMdl: int;
  var {:scalar} Status_76: int;
  var {:pointer} Tmp_2891: int;
  var {:scalar} sdv_1628: int;
  var {:pointer} Bcb_25: int;
  var {:scalar} ThisPass: int;
  var {:pointer} Tmp_2892: int;
  var {:scalar} Event_13: int;
  var {:pointer} Tmp_2893: int;
  var {:pointer} Tmp_2894: int;
  var {:pointer} Tmp_2895: int;
  var {:pointer} sdv_1630: int;
  var {:pointer} Tmp_2897: int;
  var {:scalar} WriteLength_1: int;
  var {:scalar} FsInfoUpdate: int;
  var {:pointer} Tmp_2898: int;
  var {:pointer} FsInfoSector: int;
  var {:pointer} Tmp_2899: int;
  var {:pointer} CurrentHead: int;
  var {:pointer} Sector: int;
  var {:pointer} IrpContext_201: int;
  var {:pointer} Vcb_109: int;
  var {:scalar} VolumeState_1: int;
  var vslice_dummy_var_583: int;
  var vslice_dummy_var_584: int;
  var vslice_dummy_var_585: int;
  var vslice_dummy_var_471: int;

  anon0:
    call {:si_unique_call 3984} Offset_8 := __HAVOC_malloc(20);
    call {:si_unique_call 3985} Event_13 := __HAVOC_malloc(124);
    call {:si_unique_call 3986} vslice_dummy_var_583 := __HAVOC_malloc(4);
    IrpContext_201 := actual_IrpContext_201;
    Vcb_109 := actual_Vcb_109;
    VolumeState_1 := actual_VolumeState_1;
    Bcb_25 := 0;
    Irp_79 := 0;
    FsInfoUpdate := 0;
    abort := 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    ThisPass := 0;
    goto L22;

  L22:
    call {:si_unique_call 3987} Tmp_2888, Irp_79, abort, Tmp_2889, Tmp_2890, PinLength, NextMdl, Status_76, Tmp_2891, sdv_1628, Bcb_25, ThisPass, Tmp_2892, Tmp_2893, Tmp_2894, Tmp_2895, sdv_1630, Tmp_2897, WriteLength_1, FsInfoUpdate, Tmp_2898, FsInfoSector, Tmp_2899, CurrentHead, vslice_dummy_var_584, vslice_dummy_var_585 := FatMarkVolume#1_loop_L22(Tmp_2888, Offset_8, Irp_79, abort, Tmp_2889, Tmp_2890, PinLength, NextMdl, Status_76, Tmp_2891, sdv_1628, Bcb_25, ThisPass, Tmp_2892, Event_13, Tmp_2893, Tmp_2894, Tmp_2895, sdv_1630, Tmp_2897, WriteLength_1, FsInfoUpdate, Tmp_2898, FsInfoSector, Tmp_2899, CurrentHead, Sector, Vcb_109, VolumeState_1, vslice_dummy_var_584, vslice_dummy_var_585);
    goto L22_last;

  L22_last:
    assume {:CounterLoop 2} {:Counter "ThisPass"} true;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} 2 > ThisPass;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} ThisPass != 1;
    goto L32;

  L32:
    assume {:nonnull} Offset_8 != 0;
    assume Offset_8 > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2890 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Tmp_2890 != 0;
    assume Tmp_2890 > 0;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2893 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2895 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Tmp_2893 != 0;
    assume Tmp_2893 > 0;
    assume {:nonnull} Tmp_2895 != 0;
    assume Tmp_2895 > 0;
    havoc Tmp_2889;
    goto L38;

  L38:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2897 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2898 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Tmp_2897 != 0;
    assume Tmp_2897 > 0;
    assume {:nonnull} Tmp_2898 != 0;
    assume Tmp_2898 > 0;
    havoc PinLength;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    havoc WriteLength_1;
    goto L40;

  L40:
    call {:si_unique_call 3988} vslice_dummy_var_584 := corral_nondet();
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} ThisPass == 0;
    call {:si_unique_call 3989} sdv_1628 := FatIsBootSectorFat(Sector);
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} sdv_1628 != 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    Tmp_2888 := Sector;
    assume {:nonnull} Tmp_2888 != 0;
    assume Tmp_2888 > 0;
    CurrentHead := CurrentHead__PACKED_BOOT_SECTOR_EX(Tmp_2888);
    goto L126;

  L126:
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} VolumeState_1 != 0;
    assume {:nonnull} CurrentHead != 0;
    assume CurrentHead > 0;
    Mem_T.INT4[CurrentHead] := BOR(Mem_T.INT4[CurrentHead], 1);
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} VolumeState_1 == 2;
    assume {:nonnull} CurrentHead != 0;
    assume CurrentHead > 0;
    Mem_T.INT4[CurrentHead] := BOR(Mem_T.INT4[CurrentHead], 2);
    goto L65;

  L65:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} FsInfoUpdate != 0;
    FsInfoSector := Sector;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    assume {:nonnull} FsInfoSector != 0;
    assume FsInfoSector > 0;
    goto L66;

  L66:
    call {:si_unique_call 3990} KeInitializeEvent(Event_13, 0, 0);
    call {:si_unique_call 3991} Irp_79 := IoBuildAsynchronousFsdRequest(4, 0, 0, WriteLength_1, 0, 0);
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} Irp_79 == 0;
    goto L94;

  L94:
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} Irp_79 != 0;
    goto L99;

  L99:
    call {:si_unique_call 3992} NextMdl, Tmp_2891 := FatMarkVolume#1_loop_L99(Irp_79, NextMdl, Tmp_2891);
    goto L99_last;

  L99_last:
    assume {:nonnull} Irp_79 != 0;
    assume Irp_79 > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:nonnull} Irp_79 != 0;
    assume Irp_79 > 0;
    havoc Tmp_2891;
    assume {:nonnull} Tmp_2891 != 0;
    assume Tmp_2891 > 0;
    havoc NextMdl;
    call {:si_unique_call 3993} MmUnlockPages(0);
    call {:si_unique_call 3994} IoFreeMdl(0);
    assume {:nonnull} Irp_79 != 0;
    assume Irp_79 > 0;
    goto anon71_Else_dummy;

  anon71_Else_dummy:
    assume false;
    return;

  anon71_Then:
    call {:si_unique_call 3995} IoFreeIrp(0);
    goto L98;

  L98:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} Bcb_25 != 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} Bcb_25 != 0;
    Bcb_25 := 0;
    goto L112;

  L112:
    ThisPass := ThisPass + 1;
    goto L112_dummy;

  L112_dummy:
    assume false;
    return;

  anon72_Then:
    assume {:partition} Bcb_25 == 0;
    goto L112;

  anon70_Then:
    assume {:partition} Bcb_25 == 0;
    goto L112;

  anon69_Then:
    assume {:partition} Irp_79 == 0;
    goto L98;

  anon67_Then:
    assume {:partition} Irp_79 != 0;
    call {:si_unique_call 3996} sdv_1630 := sdv_IoGetNextIrpStackLocation(Irp_79);
    assume {:nonnull} sdv_1630 != 0;
    assume sdv_1630 > 0;
    call {:si_unique_call 3997} sdv_IoSetCompletionRoutine(Irp_79, li2bplFunctionConstant600, Event_13, 1, 1, 1);
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    havoc vslice_dummy_var_471;
    call {:si_unique_call 3998} Status_76 := sdv_IoCallDriver(vslice_dummy_var_471, Irp_79);
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} Status_76 == 259;
    call {:si_unique_call 3999} vslice_dummy_var_585 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    goto L94;

  anon68_Then:
    assume {:partition} Status_76 != 259;
    goto L94;

  anon66_Then:
    assume {:partition} FsInfoUpdate == 0;
    goto L66;

  anon83_Then:
    assume {:partition} VolumeState_1 != 2;
    goto L65;

  anon75_Then:
    assume {:partition} VolumeState_1 == 0;
    assume {:nonnull} CurrentHead != 0;
    assume CurrentHead > 0;
    Mem_T.INT4[CurrentHead] := BAND(Mem_T.INT4[CurrentHead], BNOT(1));
    goto L65;

  anon74_Then:
    Tmp_2899 := Sector;
    assume {:nonnull} Tmp_2899 != 0;
    assume Tmp_2899 > 0;
    CurrentHead := CurrentHead__PACKED_BOOT_SECTOR(Tmp_2899);
    goto L126;

  anon73_Then:
    assume {:partition} sdv_1628 == 0;
    abort := 1;
    goto L94;

  anon65_Then:
    assume {:partition} ThisPass != 0;
    goto L65;

  anon82_Then:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2894 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    Tmp_2892 := Bpb__VCB(Vcb_109);
    assume {:nonnull} Tmp_2892 != 0;
    assume Tmp_2892 > 0;
    assume {:nonnull} Tmp_2894 != 0;
    assume Tmp_2894 > 0;
    havoc Tmp_2889;
    goto L38;

  anon81_Then:
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    havoc PinLength;
    WriteLength_1 := PinLength;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} VolumeState_1 == 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    FsInfoUpdate := 1;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    havoc PinLength;
    WriteLength_1 := PinLength;
    goto L40;

  anon77_Then:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} ThisPass == 1;
    FsInfoUpdate := 1;
    assume {:nonnull} Offset_8 != 0;
    assume Offset_8 > 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto L40;

  anon78_Then:
    assume {:partition} ThisPass != 1;
    goto L40;

  anon76_Then:
    assume {:partition} VolumeState_1 != 0;
    goto L40;

  anon84_Then:
    goto L40;

  anon60_Then:
    assume {:partition} ThisPass == 1;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} VolumeState_1 == 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} FsInfoUpdate == 0;
    assume {:nonnull} Vcb_109 != 0;
    assume Vcb_109 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    goto L32;

  anon64_Then:
    goto L23;

  L23:
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} abort == 0;
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} VolumeState_1 == 1;
    call {:si_unique_call 4000} FatSetFatEntry#0(IrpContext_201, Vcb_109, 1, -268435455);
    goto L1;

  L1:
    return;

  anon79_Then:
    assume {:partition} VolumeState_1 != 1;
    call {:si_unique_call 4001} FatSetFatEntry#0(IrpContext_201, Vcb_109, 1, -268435456);
    goto L1;

  anon59_Then:
    assume {:partition} abort != 0;
    goto L1;

  anon63_Then:
    assume {:partition} FsInfoUpdate != 0;
    goto L23;

  anon62_Then:
    assume {:partition} VolumeState_1 != 0;
    goto L23;

  anon61_Then:
    goto L23;

  anon58_Then:
    assume {:partition} ThisPass >= 2;
    goto L23;

  anon57_Then:
    goto L1;

  anon80_Then:
    goto L1;
}



procedure {:origName "FatMarkVolume"} FatMarkVolume#1(actual_IrpContext_201: int, actual_Vcb_109: int, actual_VolumeState_1: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenDirectoryFile"} FatOpenDirectoryFile#0(actual_IrpContext_77: int, actual_Dcb_10: int)
{
  var {:pointer} DirectoryFileObject_5: int;
  var {:pointer} Tmp_1556: int;
  var {:pointer} Tmp_1557: int;
  var {:pointer} Tmp_1558: int;
  var {:pointer} Tmp_1559: int;
  var {:pointer} Tmp_1561: int;
  var {:pointer} Tmp_1562: int;
  var {:pointer} Tmp_1564: int;
  var {:pointer} IrpContext_77: int;
  var {:pointer} Dcb_10: int;
  var vslice_dummy_var_586: int;
  var vslice_dummy_var_587: int;
  var vslice_dummy_var_588: int;
  var vslice_dummy_var_589: int;
  var vslice_dummy_var_590: int;
  var vslice_dummy_var_472: int;
  var vslice_dummy_var_473: int;
  var vslice_dummy_var_474: int;
  var vslice_dummy_var_475: int;

  anon0:
    call {:si_unique_call 4002} vslice_dummy_var_586 := __HAVOC_malloc(4);
    IrpContext_77 := actual_IrpContext_77;
    Dcb_10 := actual_Dcb_10;
    call {:si_unique_call 4003} sdv_do_paged_code_check();
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    call {:si_unique_call 4004} FatLookupFileAllocationSize#0(IrpContext_77, Dcb_10);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto L7;

  L7:
    call {:si_unique_call 4005} FatCheckFreeDirentBitmap(IrpContext_77, Dcb_10);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    DirectoryFileObject_5 := 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    call {:si_unique_call 4006} ExAcquireFastMutexUnsafe(0);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1556;
    assume {:nonnull} Tmp_1556 != 0;
    assume Tmp_1556 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    DirectoryFileObject_5 := 0;
    goto L48;

  L48:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc vslice_dummy_var_472;
    call {:si_unique_call 4007} FatPreallocateCloseContext(vslice_dummy_var_472);
    call {:si_unique_call 4008} FatSetFileObject(DirectoryFileObject_5, 6, Dcb_10, 0);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1564;
    call {:si_unique_call 4009} Tmp_1562 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    assume {:nonnull} Tmp_1564 != 0;
    assume Tmp_1564 > 0;
    havoc vslice_dummy_var_473;
    Mem_T.INT4[Tmp_1562] := vslice_dummy_var_473;
    call {:si_unique_call 4010} vslice_dummy_var_588 := sdv_InterlockedIncrement(Tmp_1562);
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    assume {:nonnull} Tmp_1564 != 0;
    assume Tmp_1564 > 0;
    Tmp_1557 := Dcb_10;
    assume {:nonnull} Tmp_1557 != 0;
    assume Tmp_1557 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Mem_T.INT4[Tmp_1557] == 1284;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1558;
    call {:si_unique_call 4011} Tmp_1562 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1558 != 0;
    assume Tmp_1558 > 0;
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    havoc vslice_dummy_var_474;
    Mem_T.INT4[Tmp_1562] := vslice_dummy_var_474;
    call {:si_unique_call 4012} vslice_dummy_var_589 := sdv_InterlockedIncrement(Tmp_1562);
    assume {:nonnull} Tmp_1558 != 0;
    assume Tmp_1558 > 0;
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    goto L58;

  L58:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1559;
    assume {:nonnull} DirectoryFileObject_5 != 0;
    assume DirectoryFileObject_5 > 0;
    assume {:nonnull} Tmp_1559 != 0;
    assume Tmp_1559 > 0;
    assume {:nonnull} DirectoryFileObject_5 != 0;
    assume DirectoryFileObject_5 > 0;
    assume {:nonnull} DirectoryFileObject_5 != 0;
    assume DirectoryFileObject_5 > 0;
    assume {:nonnull} DirectoryFileObject_5 != 0;
    assume DirectoryFileObject_5 > 0;
    call {:si_unique_call 4013} Tmp_1562 := __HAVOC_malloc(4);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    havoc vslice_dummy_var_475;
    Mem_T.INT4[Tmp_1562] := vslice_dummy_var_475;
    call {:si_unique_call 4014} vslice_dummy_var_590 := sdv_InterlockedIncrement(Tmp_1562);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    DirectoryFileObject_5 := 0;
    goto L29;

  L29:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    call {:si_unique_call 4015} ExReleaseFastMutexUnsafe(0);
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} DirectoryFileObject_5 != 0;
    call {:si_unique_call 4016} vslice_dummy_var_587 := sdv_ObDereferenceObject(0);
    goto L16;

  L16:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1561;
    assume {:nonnull} Tmp_1561 != 0;
    assume Tmp_1561 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto L1;

  L1:
    return;

  anon19_Then:
    goto L1;

  anon18_Then:
    assume {:partition} DirectoryFileObject_5 == 0;
    goto L16;

  anon21_Then:
    assume {:partition} Mem_T.INT4[Tmp_1557] != 1284;
    goto L58;

  anon20_Then:
    call {:si_unique_call 4017} DirectoryFileObject_5 := __HAVOC_malloc(1);
    goto L48;

  anon17_Then:
    goto L29;

  anon16_Then:
    goto L16;

  anon15_Then:
    goto L7;
}



procedure {:origName "FatOpenDirectoryFile"} FatOpenDirectoryFile#0(actual_IrpContext_77: int, actual_Dcb_10: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatOpenDirectoryFile"} FatOpenDirectoryFile#1(actual_IrpContext_77: int, actual_Dcb_10: int)
{
  var {:pointer} DirectoryFileObject_5: int;
  var {:pointer} Tmp_1556: int;
  var {:pointer} Tmp_1557: int;
  var {:pointer} Tmp_1558: int;
  var {:pointer} Tmp_1559: int;
  var {:pointer} Tmp_1561: int;
  var {:pointer} Tmp_1562: int;
  var {:pointer} Tmp_1564: int;
  var {:pointer} IrpContext_77: int;
  var {:pointer} Dcb_10: int;
  var vslice_dummy_var_591: int;
  var vslice_dummy_var_592: int;
  var vslice_dummy_var_593: int;
  var vslice_dummy_var_594: int;
  var vslice_dummy_var_595: int;
  var vslice_dummy_var_476: int;
  var vslice_dummy_var_477: int;
  var vslice_dummy_var_478: int;
  var vslice_dummy_var_479: int;

  anon0:
    call {:si_unique_call 4018} vslice_dummy_var_591 := __HAVOC_malloc(4);
    IrpContext_77 := actual_IrpContext_77;
    Dcb_10 := actual_Dcb_10;
    call {:si_unique_call 4019} sdv_do_paged_code_check();
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    call {:si_unique_call 4020} FatLookupFileAllocationSize#1(IrpContext_77, Dcb_10);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto L7;

  L7:
    call {:si_unique_call 4021} FatCheckFreeDirentBitmap(IrpContext_77, Dcb_10);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    DirectoryFileObject_5 := 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    call {:si_unique_call 4022} ExAcquireFastMutexUnsafe(0);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1556;
    assume {:nonnull} Tmp_1556 != 0;
    assume Tmp_1556 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    DirectoryFileObject_5 := 0;
    goto L48;

  L48:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc vslice_dummy_var_476;
    call {:si_unique_call 4023} FatPreallocateCloseContext(vslice_dummy_var_476);
    call {:si_unique_call 4024} FatSetFileObject(DirectoryFileObject_5, 6, Dcb_10, 0);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1564;
    call {:si_unique_call 4025} Tmp_1562 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    assume {:nonnull} Tmp_1564 != 0;
    assume Tmp_1564 > 0;
    havoc vslice_dummy_var_477;
    Mem_T.INT4[Tmp_1562] := vslice_dummy_var_477;
    call {:si_unique_call 4026} vslice_dummy_var_593 := sdv_InterlockedIncrement(Tmp_1562);
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    assume {:nonnull} Tmp_1564 != 0;
    assume Tmp_1564 > 0;
    Tmp_1557 := Dcb_10;
    assume {:nonnull} Tmp_1557 != 0;
    assume Tmp_1557 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} Mem_T.INT4[Tmp_1557] == 1284;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1558;
    call {:si_unique_call 4027} Tmp_1562 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_1558 != 0;
    assume Tmp_1558 > 0;
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    havoc vslice_dummy_var_478;
    Mem_T.INT4[Tmp_1562] := vslice_dummy_var_478;
    call {:si_unique_call 4028} vslice_dummy_var_594 := sdv_InterlockedIncrement(Tmp_1562);
    assume {:nonnull} Tmp_1558 != 0;
    assume Tmp_1558 > 0;
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    goto L58;

  L58:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1559;
    assume {:nonnull} DirectoryFileObject_5 != 0;
    assume DirectoryFileObject_5 > 0;
    assume {:nonnull} Tmp_1559 != 0;
    assume Tmp_1559 > 0;
    assume {:nonnull} DirectoryFileObject_5 != 0;
    assume DirectoryFileObject_5 > 0;
    assume {:nonnull} DirectoryFileObject_5 != 0;
    assume DirectoryFileObject_5 > 0;
    assume {:nonnull} DirectoryFileObject_5 != 0;
    assume DirectoryFileObject_5 > 0;
    call {:si_unique_call 4029} Tmp_1562 := __HAVOC_malloc(4);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    havoc vslice_dummy_var_479;
    Mem_T.INT4[Tmp_1562] := vslice_dummy_var_479;
    call {:si_unique_call 4030} vslice_dummy_var_595 := sdv_InterlockedIncrement(Tmp_1562);
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Tmp_1562 != 0;
    assume Tmp_1562 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    DirectoryFileObject_5 := 0;
    goto L29;

  L29:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    call {:si_unique_call 4031} ExReleaseFastMutexUnsafe(0);
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} DirectoryFileObject_5 != 0;
    call {:si_unique_call 4032} vslice_dummy_var_592 := sdv_ObDereferenceObject(0);
    goto L16;

  L16:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    havoc Tmp_1561;
    assume {:nonnull} Tmp_1561 != 0;
    assume Tmp_1561 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    assume {:nonnull} Dcb_10 != 0;
    assume Dcb_10 > 0;
    goto L1;

  L1:
    return;

  anon19_Then:
    goto L1;

  anon18_Then:
    assume {:partition} DirectoryFileObject_5 == 0;
    goto L16;

  anon21_Then:
    assume {:partition} Mem_T.INT4[Tmp_1557] != 1284;
    goto L58;

  anon20_Then:
    call {:si_unique_call 4033} DirectoryFileObject_5 := __HAVOC_malloc(1);
    goto L48;

  anon17_Then:
    goto L29;

  anon16_Then:
    goto L16;

  anon15_Then:
    goto L7;
}



procedure {:origName "FatOpenDirectoryFile"} FatOpenDirectoryFile#1(actual_IrpContext_77: int, actual_Dcb_10: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLookupFileAllocationSize"} FatLookupFileAllocationSize#0(actual_IrpContext_23: int, actual_FcbOrDcb_1: int)
{
  var {:dopa} {:scalar} Lbo_2: int;
  var {:dopa} {:scalar} DontCare_1: int;
  var {:dopa} {:scalar} ByteCount_2: int;
  var {:pointer} IrpContext_23: int;
  var {:pointer} FcbOrDcb_1: int;
  var vslice_dummy_var_596: int;

  anon0:
    call {:si_unique_call 4034} Lbo_2 := __HAVOC_malloc(4);
    call {:si_unique_call 4035} DontCare_1 := __HAVOC_malloc(4);
    call {:si_unique_call 4036} vslice_dummy_var_596 := __HAVOC_malloc(4);
    call {:si_unique_call 4037} ByteCount_2 := __HAVOC_malloc(4);
    IrpContext_23 := actual_IrpContext_23;
    FcbOrDcb_1 := actual_FcbOrDcb_1;
    call {:si_unique_call 4038} sdv_do_paged_code_check();
    call {:si_unique_call 4039} FatLookupFileAllocation#0(IrpContext_23, FcbOrDcb_1, -2, Lbo_2, ByteCount_2, DontCare_1, DontCare_1, 0);
    assume {:nonnull} FcbOrDcb_1 != 0;
    assume FcbOrDcb_1 > 0;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    call {:si_unique_call 4040} FatPopUpFileCorrupt#0(IrpContext_23, FcbOrDcb_1);
    assume {:nonnull} IrpContext_23 != 0;
    assume IrpContext_23 > 0;
    call {:si_unique_call 4041} ExRaiseStatus(-1073741566);
    goto L1;

  L1:
    return;

  anon3_Then:
    goto L1;
}



procedure {:origName "FatLookupFileAllocationSize"} FatLookupFileAllocationSize#0(actual_IrpContext_23: int, actual_FcbOrDcb_1: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLookupFileAllocationSize"} FatLookupFileAllocationSize#1(actual_IrpContext_23: int, actual_FcbOrDcb_1: int)
{
  var {:dopa} {:scalar} Lbo_2: int;
  var {:dopa} {:scalar} DontCare_1: int;
  var {:dopa} {:scalar} ByteCount_2: int;
  var {:pointer} IrpContext_23: int;
  var {:pointer} FcbOrDcb_1: int;
  var vslice_dummy_var_597: int;

  anon0:
    call {:si_unique_call 4042} Lbo_2 := __HAVOC_malloc(4);
    call {:si_unique_call 4043} DontCare_1 := __HAVOC_malloc(4);
    call {:si_unique_call 4044} vslice_dummy_var_597 := __HAVOC_malloc(4);
    call {:si_unique_call 4045} ByteCount_2 := __HAVOC_malloc(4);
    IrpContext_23 := actual_IrpContext_23;
    FcbOrDcb_1 := actual_FcbOrDcb_1;
    call {:si_unique_call 4046} sdv_do_paged_code_check();
    call {:si_unique_call 4047} FatLookupFileAllocation#1(IrpContext_23, FcbOrDcb_1, -2, Lbo_2, ByteCount_2, DontCare_1, DontCare_1, 0);
    assume {:nonnull} FcbOrDcb_1 != 0;
    assume FcbOrDcb_1 > 0;
    goto anon3_Then, anon3_Else;

  anon3_Else:
    call {:si_unique_call 4048} FatPopUpFileCorrupt#1(IrpContext_23, FcbOrDcb_1);
    assume {:nonnull} IrpContext_23 != 0;
    assume IrpContext_23 > 0;
    call {:si_unique_call 4049} ExRaiseStatus(-1073741566);
    goto L1;

  L1:
    return;

  anon3_Then:
    goto L1;
}



procedure {:origName "FatLookupFileAllocationSize"} FatLookupFileAllocationSize#1(actual_IrpContext_23: int, actual_FcbOrDcb_1: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLookupFileAllocation"} FatLookupFileAllocation#0(actual_IrpContext_22: int, actual_FcbOrDcb: int, actual_Vbo: int, actual_Lbo_1: int, actual_ByteCount_1: int, actual_Allocated: int, actual_EndOnMax: int, actual_Index: int)
{
  var {:scalar} BytesOnVolume: int;
  var {:scalar} sdv_122: int;
  var {:scalar} Tmp_257: int;
  var {:dopa} {:scalar} CurrentLbo: int;
  var {:scalar} Tmp_258: int;
  var {:scalar} sdv_123: int;
  var {:dopa} {:scalar} Runs: int;
  var {:scalar} Context: int;
  var {:scalar} sdv_124: int;
  var {:scalar} LastCluster: int;
  var {:pointer} Vcb_15: int;
  var {:dopa} {:scalar} FatEntry_1: int;
  var {:scalar} FirstLboOfCurrentRun: int;
  var {:scalar} FirstVboOfCurrentRun: int;
  var {:dopa} {:scalar} CurrentVbo: int;
  var {:scalar} BytesPerCluster_1: int;
  var {:scalar} PriorLbo: int;
  var {:pointer} IrpContext_22: int;
  var {:pointer} FcbOrDcb: int;
  var {:scalar} Vbo: int;
  var {:pointer} Lbo_1: int;
  var {:pointer} ByteCount_1: int;
  var {:pointer} Allocated: int;
  var {:pointer} EndOnMax: int;
  var {:pointer} Index: int;
  var boogieTmp: int;
  var vslice_dummy_var_598: int;
  var vslice_dummy_var_599: int;
  var vslice_dummy_var_600: int;

  anon0:
    call {:si_unique_call 4050} BytesOnVolume := __HAVOC_malloc(20);
    call {:si_unique_call 4051} vslice_dummy_var_598 := __HAVOC_malloc(4);
    call {:si_unique_call 4052} CurrentLbo := __HAVOC_malloc(4);
    call {:si_unique_call 4053} Runs := __HAVOC_malloc(4);
    call {:si_unique_call 4054} Context := __HAVOC_malloc(12);
    call {:si_unique_call 4055} FatEntry_1 := __HAVOC_malloc(4);
    call {:si_unique_call 4056} CurrentVbo := __HAVOC_malloc(4);
    IrpContext_22 := actual_IrpContext_22;
    FcbOrDcb := actual_FcbOrDcb;
    Vbo := actual_Vbo;
    Lbo_1 := actual_Lbo_1;
    ByteCount_1 := actual_ByteCount_1;
    Allocated := actual_Allocated;
    EndOnMax := actual_EndOnMax;
    Index := actual_Index;
    call {:si_unique_call 4057} sdv_do_paged_code_check();
    assume {:nonnull} Context != 0;
    assume Context > 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    havoc Vcb_15;
    assume {:nonnull} EndOnMax != 0;
    assume EndOnMax > 0;
    Mem_T.INT4[EndOnMax] := 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    call {:si_unique_call 4058} sdv_122 := FatLookupMcbEntry(Vcb_15, Mcb__FCB(FcbOrDcb), Vbo, Lbo_1, ByteCount_1, Index);
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} sdv_122 != 0;
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 1;
    assume {:nonnull} ByteCount_1 != 0;
    assume ByteCount_1 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} Vbo + Mem_T.INT4[ByteCount_1] == 0;
    assume {:nonnull} EndOnMax != 0;
    assume EndOnMax > 0;
    Mem_T.INT4[EndOnMax] := 1;
    goto L1;

  L1:
    return;

  anon69_Then:
    assume {:partition} Vbo + Mem_T.INT4[ByteCount_1] != 0;
    goto L1;

  anon49_Then:
    assume {:partition} sdv_122 == 0;
    call {:si_unique_call 4059} BytesPerCluster_1 := corral_nondet();
    assume {:nonnull} BytesOnVolume != 0;
    assume BytesOnVolume > 0;
    assume {:nonnull} Vcb_15 != 0;
    assume Vcb_15 > 0;
    LastCluster := 0;
    FirstLboOfCurrentRun := 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    goto L1;

  anon70_Then:
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    call {:si_unique_call 4060} sdv_123 := FatLookupLastMcbEntry(Vcb_15, Mcb__FCB(FcbOrDcb), CurrentVbo, CurrentLbo, Runs);
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} sdv_123 != 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[CurrentVbo] := Mem_T.INT4[CurrentVbo] - (BytesPerCluster_1 - 1);
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    Mem_T.INT4[CurrentLbo] := Mem_T.INT4[CurrentLbo] - (BytesPerCluster_1 - 1);
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Runs] := Mem_T.INT4[Runs] + 1;
    goto L44;

  L44:
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    assume {:nonnull} FatEntry_1 != 0;
    assume FatEntry_1 > 0;
    call {:si_unique_call 4061} boogieTmp := corral_nondet();
    Mem_T.INT4[FatEntry_1] := boogieTmp;
    goto L46;

  L46:
    call {:si_unique_call 4062} Tmp_257, Tmp_258, sdv_124, LastCluster, FirstLboOfCurrentRun, FirstVboOfCurrentRun, PriorLbo, boogieTmp, vslice_dummy_var_599, vslice_dummy_var_600 := FatLookupFileAllocation#0_loop_L46(BytesOnVolume, Tmp_257, CurrentLbo, Tmp_258, Runs, Context, sdv_124, LastCluster, Vcb_15, FatEntry_1, FirstLboOfCurrentRun, FirstVboOfCurrentRun, CurrentVbo, BytesPerCluster_1, PriorLbo, IrpContext_22, FcbOrDcb, Vbo, EndOnMax, boogieTmp, vslice_dummy_var_599, vslice_dummy_var_600);
    goto L46_last;

  L46_last:
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} LastCluster != 0;
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 1;
    assume {:nonnull} Lbo_1 != 0;
    assume Lbo_1 > 0;
    Mem_T.INT4[Lbo_1] := FirstLboOfCurrentRun + Vbo - FirstVboOfCurrentRun;
    assume {:nonnull} ByteCount_1 != 0;
    assume ByteCount_1 > 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[ByteCount_1] := Mem_T.INT4[CurrentVbo] - Vbo;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} Index != 0;
    assume {:nonnull} Index != 0;
    assume Index > 0;
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Index] := Mem_T.INT4[Runs] - 1;
    goto L54;

  L54:
    assume {:nonnull} Context != 0;
    assume Context > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:nonnull} Context != 0;
    assume Context > 0;
    goto L1;

  anon53_Then:
    goto L1;

  anon71_Then:
    assume {:partition} Index == 0;
    goto L54;

  anon52_Then:
    assume {:partition} LastCluster == 0;
    assume {:nonnull} FatEntry_1 != 0;
    assume FatEntry_1 > 0;
    call {:si_unique_call 4063} FatLookupFatEntry(IrpContext_22, Vcb_15, Mem_T.INT4[FatEntry_1], FatEntry_1, Context);
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    PriorLbo := Mem_T.INT4[CurrentLbo];
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    call {:si_unique_call 4064} boogieTmp := corral_nondet();
    Mem_T.INT4[CurrentLbo] := boogieTmp;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[CurrentVbo] := Mem_T.INT4[CurrentVbo] + BytesPerCluster_1;
    assume {:nonnull} FatEntry_1 != 0;
    assume FatEntry_1 > 0;
    call {:si_unique_call 4065} sdv_124 := FatInterpretClusterType(Vcb_15, Mem_T.INT4[FatEntry_1]);
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} sdv_124 != 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} sdv_124 != 1;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} sdv_124 != 2;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} sdv_124 != 3;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} sdv_124 == 4;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} Mem_T.INT4[CurrentVbo] != 0;
    assume {:nonnull} BytesOnVolume != 0;
    assume BytesOnVolume > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    goto L86;

  L86:
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} PriorLbo + BytesPerCluster_1 != Mem_T.INT4[CurrentLbo];
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} FirstLboOfCurrentRun != 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Tmp_258 := Mem_T.INT4[CurrentVbo] - FirstVboOfCurrentRun;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    call {:si_unique_call 4066} vslice_dummy_var_600 := FatAddMcbEntry(Vcb_15, Mcb__FCB(FcbOrDcb), FirstVboOfCurrentRun, FirstLboOfCurrentRun, Tmp_258);
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Runs] := Mem_T.INT4[Runs] + 1;
    goto L89;

  L89:
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} Mem_T.INT4[CurrentVbo] > Vbo;
    LastCluster := 1;
    goto anon61_Else_dummy;

  anon61_Else_dummy:
    assume false;
    return;

  anon61_Then:
    assume {:partition} Vbo >= Mem_T.INT4[CurrentVbo];
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    FirstVboOfCurrentRun := Mem_T.INT4[CurrentVbo];
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    FirstLboOfCurrentRun := Mem_T.INT4[CurrentLbo];
    goto anon61_Then_dummy;

  anon61_Then_dummy:
    assume false;
    return;

  anon60_Then:
    assume {:partition} FirstLboOfCurrentRun == 0;
    goto L89;

  anon59_Then:
    assume {:partition} PriorLbo + BytesPerCluster_1 == Mem_T.INT4[CurrentLbo];
    goto anon59_Then_dummy;

  anon59_Then_dummy:
    assume false;
    return;

  anon57_Then:
    assume {:nonnull} BytesOnVolume != 0;
    assume BytesOnVolume > 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L86;

  anon58_Then:
    goto L81;

  L81:
    call {:si_unique_call 4067} FatPopUpFileCorrupt#0(IrpContext_22, FcbOrDcb);
    assume {:nonnull} IrpContext_22 != 0;
    assume IrpContext_22 > 0;
    call {:si_unique_call 4068} ExRaiseStatus(-1073741566);
    goto L86;

  anon56_Then:
    assume {:partition} Mem_T.INT4[CurrentVbo] == 0;
    goto L81;

  anon65_Then:
    assume {:partition} sdv_124 != 4;
    call {:si_unique_call 4069} KeBugCheckEx(35, 132170, 0, 0, 0);
    goto anon65_Then_dummy;

  anon65_Then_dummy:
    assume false;
    return;

  anon66_Then:
    assume {:partition} sdv_124 == 3;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} Mem_T.INT4[CurrentVbo] != 0;
    goto L103;

  L103:
    LastCluster := 1;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} FirstLboOfCurrentRun != 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Tmp_257 := Mem_T.INT4[CurrentVbo] - FirstVboOfCurrentRun;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    call {:si_unique_call 4070} vslice_dummy_var_599 := FatAddMcbEntry(Vcb_15, Mcb__FCB(FcbOrDcb), FirstVboOfCurrentRun, FirstLboOfCurrentRun, Tmp_257);
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Runs] := Mem_T.INT4[Runs] + 1;
    goto L105;

  L105:
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} Vbo == -2;
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    goto L54;

  anon62_Then:
    assume {:partition} Vbo != -2;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} Vbo >= Mem_T.INT4[CurrentVbo];
    assume {:nonnull} EndOnMax != 0;
    assume EndOnMax > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} Mem_T.INT4[EndOnMax] == 0;
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    goto L54;

  anon64_Then:
    assume {:partition} Mem_T.INT4[EndOnMax] != 0;
    goto anon64_Then_dummy;

  anon64_Then_dummy:
    assume false;
    return;

  anon63_Then:
    assume {:partition} Mem_T.INT4[CurrentVbo] > Vbo;
    goto anon63_Then_dummy;

  anon63_Then_dummy:
    assume false;
    return;

  anon72_Then:
    assume {:partition} FirstLboOfCurrentRun == 0;
    goto L105;

  anon55_Then:
    assume {:partition} Mem_T.INT4[CurrentVbo] == 0;
    assume {:nonnull} EndOnMax != 0;
    assume EndOnMax > 0;
    Mem_T.INT4[EndOnMax] := 1;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[CurrentVbo] := Mem_T.INT4[CurrentVbo] - 1;
    goto L103;

  anon67_Then:
    assume {:partition} sdv_124 == 2;
    goto L76;

  L76:
    call {:si_unique_call 4071} FatPopUpFileCorrupt#0(IrpContext_22, FcbOrDcb);
    assume {:nonnull} IrpContext_22 != 0;
    assume IrpContext_22 > 0;
    call {:si_unique_call 4072} ExRaiseStatus(-1073741566);
    goto L76_dummy;

  L76_dummy:
    assume false;
    return;

  anon68_Then:
    assume {:partition} sdv_124 == 1;
    goto L76;

  anon54_Then:
    assume {:partition} sdv_124 == 0;
    goto L76;

  anon50_Then:
    assume {:partition} sdv_123 == 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[CurrentVbo] := 0;
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    call {:si_unique_call 4073} boogieTmp := corral_nondet();
    Mem_T.INT4[CurrentLbo] := boogieTmp;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    FirstVboOfCurrentRun := Mem_T.INT4[CurrentVbo];
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    FirstLboOfCurrentRun := Mem_T.INT4[CurrentLbo];
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Runs] := 0;
    goto L44;

  anon51_Then:
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    goto L1;
}



procedure {:origName "FatLookupFileAllocation"} FatLookupFileAllocation#0(actual_IrpContext_22: int, actual_FcbOrDcb: int, actual_Vbo: int, actual_Lbo_1: int, actual_ByteCount_1: int, actual_Allocated: int, actual_EndOnMax: int, actual_Index: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLookupFileAllocation"} FatLookupFileAllocation#1(actual_IrpContext_22: int, actual_FcbOrDcb: int, actual_Vbo: int, actual_Lbo_1: int, actual_ByteCount_1: int, actual_Allocated: int, actual_EndOnMax: int, actual_Index: int)
{
  var {:scalar} BytesOnVolume: int;
  var {:scalar} sdv_122: int;
  var {:scalar} Tmp_257: int;
  var {:dopa} {:scalar} CurrentLbo: int;
  var {:scalar} Tmp_258: int;
  var {:scalar} sdv_123: int;
  var {:dopa} {:scalar} Runs: int;
  var {:scalar} Context: int;
  var {:scalar} sdv_124: int;
  var {:scalar} LastCluster: int;
  var {:pointer} Vcb_15: int;
  var {:dopa} {:scalar} FatEntry_1: int;
  var {:scalar} FirstLboOfCurrentRun: int;
  var {:scalar} FirstVboOfCurrentRun: int;
  var {:dopa} {:scalar} CurrentVbo: int;
  var {:scalar} BytesPerCluster_1: int;
  var {:scalar} PriorLbo: int;
  var {:pointer} IrpContext_22: int;
  var {:pointer} FcbOrDcb: int;
  var {:scalar} Vbo: int;
  var {:pointer} Lbo_1: int;
  var {:pointer} ByteCount_1: int;
  var {:pointer} Allocated: int;
  var {:pointer} EndOnMax: int;
  var {:pointer} Index: int;
  var boogieTmp: int;
  var vslice_dummy_var_601: int;
  var vslice_dummy_var_602: int;
  var vslice_dummy_var_603: int;

  anon0:
    call {:si_unique_call 4074} BytesOnVolume := __HAVOC_malloc(20);
    call {:si_unique_call 4075} vslice_dummy_var_601 := __HAVOC_malloc(4);
    call {:si_unique_call 4076} CurrentLbo := __HAVOC_malloc(4);
    call {:si_unique_call 4077} Runs := __HAVOC_malloc(4);
    call {:si_unique_call 4078} Context := __HAVOC_malloc(12);
    call {:si_unique_call 4079} FatEntry_1 := __HAVOC_malloc(4);
    call {:si_unique_call 4080} CurrentVbo := __HAVOC_malloc(4);
    IrpContext_22 := actual_IrpContext_22;
    FcbOrDcb := actual_FcbOrDcb;
    Vbo := actual_Vbo;
    Lbo_1 := actual_Lbo_1;
    ByteCount_1 := actual_ByteCount_1;
    Allocated := actual_Allocated;
    EndOnMax := actual_EndOnMax;
    Index := actual_Index;
    call {:si_unique_call 4081} sdv_do_paged_code_check();
    assume {:nonnull} Context != 0;
    assume Context > 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    havoc Vcb_15;
    assume {:nonnull} EndOnMax != 0;
    assume EndOnMax > 0;
    Mem_T.INT4[EndOnMax] := 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    call {:si_unique_call 4082} sdv_122 := FatLookupMcbEntry(Vcb_15, Mcb__FCB(FcbOrDcb), Vbo, Lbo_1, ByteCount_1, Index);
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} sdv_122 != 0;
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 1;
    assume {:nonnull} ByteCount_1 != 0;
    assume ByteCount_1 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} Vbo + Mem_T.INT4[ByteCount_1] == 0;
    assume {:nonnull} EndOnMax != 0;
    assume EndOnMax > 0;
    Mem_T.INT4[EndOnMax] := 1;
    goto L1;

  L1:
    return;

  anon69_Then:
    assume {:partition} Vbo + Mem_T.INT4[ByteCount_1] != 0;
    goto L1;

  anon49_Then:
    assume {:partition} sdv_122 == 0;
    call {:si_unique_call 4083} BytesPerCluster_1 := corral_nondet();
    assume {:nonnull} BytesOnVolume != 0;
    assume BytesOnVolume > 0;
    assume {:nonnull} Vcb_15 != 0;
    assume Vcb_15 > 0;
    LastCluster := 0;
    FirstLboOfCurrentRun := 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    goto L1;

  anon70_Then:
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    call {:si_unique_call 4084} sdv_123 := FatLookupLastMcbEntry(Vcb_15, Mcb__FCB(FcbOrDcb), CurrentVbo, CurrentLbo, Runs);
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} sdv_123 != 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[CurrentVbo] := Mem_T.INT4[CurrentVbo] - (BytesPerCluster_1 - 1);
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    Mem_T.INT4[CurrentLbo] := Mem_T.INT4[CurrentLbo] - (BytesPerCluster_1 - 1);
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Runs] := Mem_T.INT4[Runs] + 1;
    goto L44;

  L44:
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    assume {:nonnull} FatEntry_1 != 0;
    assume FatEntry_1 > 0;
    call {:si_unique_call 4085} boogieTmp := corral_nondet();
    Mem_T.INT4[FatEntry_1] := boogieTmp;
    goto L46;

  L46:
    call {:si_unique_call 4086} Tmp_257, Tmp_258, sdv_124, LastCluster, FirstLboOfCurrentRun, FirstVboOfCurrentRun, PriorLbo, boogieTmp, vslice_dummy_var_602, vslice_dummy_var_603 := FatLookupFileAllocation#1_loop_L46(BytesOnVolume, Tmp_257, CurrentLbo, Tmp_258, Runs, Context, sdv_124, LastCluster, Vcb_15, FatEntry_1, FirstLboOfCurrentRun, FirstVboOfCurrentRun, CurrentVbo, BytesPerCluster_1, PriorLbo, IrpContext_22, FcbOrDcb, Vbo, EndOnMax, boogieTmp, vslice_dummy_var_602, vslice_dummy_var_603);
    goto L46_last;

  L46_last:
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} LastCluster != 0;
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 1;
    assume {:nonnull} Lbo_1 != 0;
    assume Lbo_1 > 0;
    Mem_T.INT4[Lbo_1] := FirstLboOfCurrentRun + Vbo - FirstVboOfCurrentRun;
    assume {:nonnull} ByteCount_1 != 0;
    assume ByteCount_1 > 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[ByteCount_1] := Mem_T.INT4[CurrentVbo] - Vbo;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} Index != 0;
    assume {:nonnull} Index != 0;
    assume Index > 0;
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Index] := Mem_T.INT4[Runs] - 1;
    goto L54;

  L54:
    assume {:nonnull} Context != 0;
    assume Context > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:nonnull} Context != 0;
    assume Context > 0;
    goto L1;

  anon53_Then:
    goto L1;

  anon71_Then:
    assume {:partition} Index == 0;
    goto L54;

  anon52_Then:
    assume {:partition} LastCluster == 0;
    assume {:nonnull} FatEntry_1 != 0;
    assume FatEntry_1 > 0;
    call {:si_unique_call 4087} FatLookupFatEntry(IrpContext_22, Vcb_15, Mem_T.INT4[FatEntry_1], FatEntry_1, Context);
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    PriorLbo := Mem_T.INT4[CurrentLbo];
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    call {:si_unique_call 4088} boogieTmp := corral_nondet();
    Mem_T.INT4[CurrentLbo] := boogieTmp;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[CurrentVbo] := Mem_T.INT4[CurrentVbo] + BytesPerCluster_1;
    assume {:nonnull} FatEntry_1 != 0;
    assume FatEntry_1 > 0;
    call {:si_unique_call 4089} sdv_124 := FatInterpretClusterType(Vcb_15, Mem_T.INT4[FatEntry_1]);
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} sdv_124 != 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} sdv_124 != 1;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} sdv_124 != 2;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} sdv_124 != 3;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} sdv_124 == 4;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} Mem_T.INT4[CurrentVbo] != 0;
    assume {:nonnull} BytesOnVolume != 0;
    assume BytesOnVolume > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    goto L86;

  L86:
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} PriorLbo + BytesPerCluster_1 != Mem_T.INT4[CurrentLbo];
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} FirstLboOfCurrentRun != 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Tmp_258 := Mem_T.INT4[CurrentVbo] - FirstVboOfCurrentRun;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    call {:si_unique_call 4090} vslice_dummy_var_603 := FatAddMcbEntry(Vcb_15, Mcb__FCB(FcbOrDcb), FirstVboOfCurrentRun, FirstLboOfCurrentRun, Tmp_258);
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Runs] := Mem_T.INT4[Runs] + 1;
    goto L89;

  L89:
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} Mem_T.INT4[CurrentVbo] > Vbo;
    LastCluster := 1;
    goto anon61_Else_dummy;

  anon61_Else_dummy:
    assume false;
    return;

  anon61_Then:
    assume {:partition} Vbo >= Mem_T.INT4[CurrentVbo];
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    FirstVboOfCurrentRun := Mem_T.INT4[CurrentVbo];
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    FirstLboOfCurrentRun := Mem_T.INT4[CurrentLbo];
    goto anon61_Then_dummy;

  anon61_Then_dummy:
    assume false;
    return;

  anon60_Then:
    assume {:partition} FirstLboOfCurrentRun == 0;
    goto L89;

  anon59_Then:
    assume {:partition} PriorLbo + BytesPerCluster_1 == Mem_T.INT4[CurrentLbo];
    goto anon59_Then_dummy;

  anon59_Then_dummy:
    assume false;
    return;

  anon57_Then:
    assume {:nonnull} BytesOnVolume != 0;
    assume BytesOnVolume > 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L86;

  anon58_Then:
    goto L81;

  L81:
    call {:si_unique_call 4091} FatPopUpFileCorrupt#1(IrpContext_22, FcbOrDcb);
    assume {:nonnull} IrpContext_22 != 0;
    assume IrpContext_22 > 0;
    call {:si_unique_call 4092} ExRaiseStatus(-1073741566);
    goto L86;

  anon56_Then:
    assume {:partition} Mem_T.INT4[CurrentVbo] == 0;
    goto L81;

  anon65_Then:
    assume {:partition} sdv_124 != 4;
    call {:si_unique_call 4093} KeBugCheckEx(35, 132170, 0, 0, 0);
    goto anon65_Then_dummy;

  anon65_Then_dummy:
    assume false;
    return;

  anon66_Then:
    assume {:partition} sdv_124 == 3;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} Mem_T.INT4[CurrentVbo] != 0;
    goto L103;

  L103:
    LastCluster := 1;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} FirstLboOfCurrentRun != 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Tmp_257 := Mem_T.INT4[CurrentVbo] - FirstVboOfCurrentRun;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    call {:si_unique_call 4094} vslice_dummy_var_602 := FatAddMcbEntry(Vcb_15, Mcb__FCB(FcbOrDcb), FirstVboOfCurrentRun, FirstLboOfCurrentRun, Tmp_257);
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Runs] := Mem_T.INT4[Runs] + 1;
    goto L105;

  L105:
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} Vbo == -2;
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    goto L54;

  anon62_Then:
    assume {:partition} Vbo != -2;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} Vbo >= Mem_T.INT4[CurrentVbo];
    assume {:nonnull} EndOnMax != 0;
    assume EndOnMax > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} Mem_T.INT4[EndOnMax] == 0;
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    goto L54;

  anon64_Then:
    assume {:partition} Mem_T.INT4[EndOnMax] != 0;
    goto anon64_Then_dummy;

  anon64_Then_dummy:
    assume false;
    return;

  anon63_Then:
    assume {:partition} Mem_T.INT4[CurrentVbo] > Vbo;
    goto anon63_Then_dummy;

  anon63_Then_dummy:
    assume false;
    return;

  anon72_Then:
    assume {:partition} FirstLboOfCurrentRun == 0;
    goto L105;

  anon55_Then:
    assume {:partition} Mem_T.INT4[CurrentVbo] == 0;
    assume {:nonnull} EndOnMax != 0;
    assume EndOnMax > 0;
    Mem_T.INT4[EndOnMax] := 1;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[CurrentVbo] := Mem_T.INT4[CurrentVbo] - 1;
    goto L103;

  anon67_Then:
    assume {:partition} sdv_124 == 2;
    goto L76;

  L76:
    call {:si_unique_call 4095} FatPopUpFileCorrupt#1(IrpContext_22, FcbOrDcb);
    assume {:nonnull} IrpContext_22 != 0;
    assume IrpContext_22 > 0;
    call {:si_unique_call 4096} ExRaiseStatus(-1073741566);
    goto L76_dummy;

  L76_dummy:
    assume false;
    return;

  anon68_Then:
    assume {:partition} sdv_124 == 1;
    goto L76;

  anon54_Then:
    assume {:partition} sdv_124 == 0;
    goto L76;

  anon50_Then:
    assume {:partition} sdv_123 == 0;
    assume {:nonnull} FcbOrDcb != 0;
    assume FcbOrDcb > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    Mem_T.INT4[CurrentVbo] := 0;
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    call {:si_unique_call 4097} boogieTmp := corral_nondet();
    Mem_T.INT4[CurrentLbo] := boogieTmp;
    assume {:nonnull} CurrentVbo != 0;
    assume CurrentVbo > 0;
    FirstVboOfCurrentRun := Mem_T.INT4[CurrentVbo];
    assume {:nonnull} CurrentLbo != 0;
    assume CurrentLbo > 0;
    FirstLboOfCurrentRun := Mem_T.INT4[CurrentLbo];
    assume {:nonnull} Runs != 0;
    assume Runs > 0;
    Mem_T.INT4[Runs] := 0;
    goto L44;

  anon51_Then:
    assume {:nonnull} Allocated != 0;
    assume Allocated > 0;
    Mem_T.INT4[Allocated] := 0;
    goto L1;
}



procedure {:origName "FatLookupFileAllocation"} FatLookupFileAllocation#1(actual_IrpContext_22: int, actual_FcbOrDcb: int, actual_Vbo: int, actual_Lbo_1: int, actual_ByteCount_1: int, actual_Allocated: int, actual_EndOnMax: int, actual_Index: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPopUpFileCorrupt"} FatPopUpFileCorrupt#0(actual_IrpContext_148: int, actual_Fcb_57: int)
{
  var {:pointer} Tmp_2319: int;
  var {:pointer} Tmp_2320: int;
  var {:scalar} sdv_1417: int;
  var {:pointer} IrpContext_148: int;
  var {:pointer} Fcb_57: int;
  var vslice_dummy_var_604: int;
  var vslice_dummy_var_605: int;

  anon0:
    call {:si_unique_call 4098} vslice_dummy_var_604 := __HAVOC_malloc(4);
    IrpContext_148 := actual_IrpContext_148;
    Fcb_57 := actual_Fcb_57;
    Tmp_2319 := Fcb_57;
    assume {:nonnull} Tmp_2319 != 0;
    assume Tmp_2319 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Mem_T.INT4[Tmp_2319] != 1284;
    assume {:nonnull} Fcb_57 != 0;
    assume Fcb_57 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    goto L10;

  L10:
    assume {:nonnull} IrpContext_148 != 0;
    assume IrpContext_148 > 0;
    call {:si_unique_call 4099} sdv_1417 := corral_nondet();
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} sdv_1417 != 0;
    goto L16;

  L16:
    call {:si_unique_call 4100} vslice_dummy_var_605 := IoRaiseInformationalHardError(-1073741566, 0, 0);
    goto L1;

  L1:
    return;

  anon8_Then:
    assume {:partition} sdv_1417 == 0;
    assume {:nonnull} IrpContext_148 != 0;
    assume IrpContext_148 > 0;
    havoc Tmp_2320;
    assume {:nonnull} Tmp_2320 != 0;
    assume Tmp_2320 > 0;
    goto L16;

  anon7_Then:
    call {:si_unique_call 4101} FatSetFullFileNameInFcb#0(IrpContext_148, Fcb_57);
    goto L10;

  anon9_Then:
    assume {:partition} Mem_T.INT4[Tmp_2319] == 1284;
    goto L1;
}



procedure {:origName "FatPopUpFileCorrupt"} FatPopUpFileCorrupt#0(actual_IrpContext_148: int, actual_Fcb_57: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatPopUpFileCorrupt"} FatPopUpFileCorrupt#1(actual_IrpContext_148: int, actual_Fcb_57: int)
{
  var {:pointer} Tmp_2319: int;
  var {:pointer} Tmp_2320: int;
  var {:scalar} sdv_1417: int;
  var {:pointer} IrpContext_148: int;
  var {:pointer} Fcb_57: int;
  var vslice_dummy_var_606: int;
  var vslice_dummy_var_607: int;

  anon0:
    call {:si_unique_call 4102} vslice_dummy_var_606 := __HAVOC_malloc(4);
    IrpContext_148 := actual_IrpContext_148;
    Fcb_57 := actual_Fcb_57;
    Tmp_2319 := Fcb_57;
    assume {:nonnull} Tmp_2319 != 0;
    assume Tmp_2319 > 0;
    goto anon9_Then, anon9_Else;

  anon9_Else:
    assume {:partition} Mem_T.INT4[Tmp_2319] != 1284;
    assume {:nonnull} Fcb_57 != 0;
    assume Fcb_57 > 0;
    goto anon7_Then, anon7_Else;

  anon7_Else:
    goto L10;

  L10:
    assume {:nonnull} IrpContext_148 != 0;
    assume IrpContext_148 > 0;
    call {:si_unique_call 4103} sdv_1417 := corral_nondet();
    goto anon8_Then, anon8_Else;

  anon8_Else:
    assume {:partition} sdv_1417 != 0;
    goto L16;

  L16:
    call {:si_unique_call 4104} vslice_dummy_var_607 := IoRaiseInformationalHardError(-1073741566, 0, 0);
    goto L1;

  L1:
    return;

  anon8_Then:
    assume {:partition} sdv_1417 == 0;
    assume {:nonnull} IrpContext_148 != 0;
    assume IrpContext_148 > 0;
    havoc Tmp_2320;
    assume {:nonnull} Tmp_2320 != 0;
    assume Tmp_2320 > 0;
    goto L16;

  anon7_Then:
    call {:si_unique_call 4105} FatSetFullFileNameInFcb#1(IrpContext_148, Fcb_57);
    goto L10;

  anon9_Then:
    assume {:partition} Mem_T.INT4[Tmp_2319] == 1284;
    goto L1;
}



procedure {:origName "FatPopUpFileCorrupt"} FatPopUpFileCorrupt#1(actual_IrpContext_148: int, actual_Fcb_57: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetFullFileNameInFcb"} FatSetFullFileNameInFcb#0(actual_IrpContext_140: int, actual_Fcb_56: int)
{
  var {:scalar} PathLength: int;
  var {:pointer} TmpFcb: int;
  var {:scalar} Lfn_8: int;
  var {:pointer} sdv_1403: int;
  var {:scalar} Tmp_2233: int;
  var {:scalar} Tmp_2234: int;
  var {:pointer} sdv_1404: int;
  var {:pointer} Tmp_2235: int;
  var {:scalar} sdv_1406: int;
  var {:pointer} sdv_1407: int;
  var {:pointer} StopFcb: int;
  var {:pointer} TmpBuffer: int;
  var {:pointer} IrpContext_140: int;
  var {:pointer} Fcb_56: int;
  var vslice_dummy_var_608: int;

  anon0:
    call {:si_unique_call 4106} vslice_dummy_var_608 := __HAVOC_malloc(4);
    call {:si_unique_call 4107} Lfn_8 := __HAVOC_malloc(12);
    IrpContext_140 := actual_IrpContext_140;
    Fcb_56 := actual_Fcb_56;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    TmpFcb := Fcb_56;
    PathLength := 0;
    assume {:nonnull} Lfn_8 != 0;
    assume Lfn_8 > 0;
    assume {:nonnull} Lfn_8 != 0;
    assume Lfn_8 > 0;
    call {:si_unique_call 4108} sdv_1403 := ExAllocatePoolWithTag(17, 520, -294362810);
    assume {:nonnull} Lfn_8 != 0;
    assume Lfn_8 > 0;
    goto L17;

  L17:
    call {:si_unique_call 4109} PathLength, TmpFcb, Tmp_2235 := FatSetFullFileNameInFcb#0_loop_L17(PathLength, TmpFcb, Tmp_2235, Fcb_56);
    goto L17_last;

  L17_last:
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    havoc Tmp_2235;
    assume {:nonnull} Tmp_2235 != 0;
    assume Tmp_2235 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} TmpFcb != Fcb_56;
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc PathLength;
    call {:si_unique_call 4110} sdv_1404 := ExAllocatePoolWithTag(17, PathLength, -294362810);
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc Tmp_2234;
    call {:si_unique_call 4111} sdv_RtlCopyMemory(0, 0, Tmp_2234);
    goto L18;

  L18:
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    goto L48;

  L48:
    StopFcb := TmpFcb;
    TmpFcb := Fcb_56;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    havoc TmpBuffer;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto L53;

  L53:
    call {:si_unique_call 4112} TmpFcb, Tmp_2233 := FatSetFullFileNameInFcb#0_loop_L53(TmpFcb, Lfn_8, Tmp_2233, StopFcb, TmpBuffer, IrpContext_140);
    goto L53_last;

  L53_last:
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} TmpFcb != StopFcb;
    call {:si_unique_call 4113} FatGetUnicodeNameFromFcb#0(IrpContext_140, TmpFcb, Lfn_8);
    assume {:nonnull} Lfn_8 != 0;
    assume Lfn_8 > 0;
    havoc Tmp_2233;
    call {:si_unique_call 4114} sdv_RtlCopyMemory(0, 0, Tmp_2233);
    assume {:nonnull} TmpBuffer != 0;
    assume TmpBuffer > 0;
    Mem_T.INT4[TmpBuffer] := 92;
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc TmpFcb;
    goto anon21_Else_dummy;

  anon21_Else_dummy:
    assume false;
    return;

  anon21_Then:
    assume {:partition} TmpFcb == StopFcb;
    call {:si_unique_call 4115} sdv_1406 := sdv_AbnormalTermination();
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} sdv_1406 != 0;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    call {:si_unique_call 4116} sdv_ExFreePool(0);
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto L69;

  L69:
    call {:si_unique_call 4117} sdv_ExFreePool(0);
    goto L1;

  L1:
    return;

  anon23_Then:
    goto L69;

  anon22_Then:
    assume {:partition} sdv_1406 == 0;
    goto L69;

  anon18_Then:
    call {:si_unique_call 4118} sdv_1407 := ExAllocatePoolWithTag(17, PathLength, -294362810);
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto L48;

  anon20_Then:
    goto L20;

  L20:
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc PathLength;
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc TmpFcb;
    goto L20_dummy;

  L20_dummy:
    assume false;
    return;

  anon19_Then:
    assume {:partition} TmpFcb == Fcb_56;
    goto L20;

  anon24_Then:
    goto L18;

  anon17_Then:
    goto L1;
}



procedure {:origName "FatSetFullFileNameInFcb"} FatSetFullFileNameInFcb#0(actual_IrpContext_140: int, actual_Fcb_56: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatSetFullFileNameInFcb"} FatSetFullFileNameInFcb#1(actual_IrpContext_140: int, actual_Fcb_56: int)
{
  var {:scalar} PathLength: int;
  var {:pointer} TmpFcb: int;
  var {:scalar} Lfn_8: int;
  var {:pointer} sdv_1403: int;
  var {:scalar} Tmp_2233: int;
  var {:scalar} Tmp_2234: int;
  var {:pointer} sdv_1404: int;
  var {:pointer} Tmp_2235: int;
  var {:scalar} sdv_1406: int;
  var {:pointer} sdv_1407: int;
  var {:pointer} StopFcb: int;
  var {:pointer} TmpBuffer: int;
  var {:pointer} IrpContext_140: int;
  var {:pointer} Fcb_56: int;
  var vslice_dummy_var_609: int;

  anon0:
    call {:si_unique_call 4119} vslice_dummy_var_609 := __HAVOC_malloc(4);
    call {:si_unique_call 4120} Lfn_8 := __HAVOC_malloc(12);
    IrpContext_140 := actual_IrpContext_140;
    Fcb_56 := actual_Fcb_56;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    TmpFcb := Fcb_56;
    PathLength := 0;
    assume {:nonnull} Lfn_8 != 0;
    assume Lfn_8 > 0;
    assume {:nonnull} Lfn_8 != 0;
    assume Lfn_8 > 0;
    call {:si_unique_call 4121} sdv_1403 := ExAllocatePoolWithTag(17, 520, -294362810);
    assume {:nonnull} Lfn_8 != 0;
    assume Lfn_8 > 0;
    goto L17;

  L17:
    call {:si_unique_call 4122} PathLength, TmpFcb, Tmp_2235 := FatSetFullFileNameInFcb#1_loop_L17(PathLength, TmpFcb, Tmp_2235, Fcb_56);
    goto L17_last;

  L17_last:
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    havoc Tmp_2235;
    assume {:nonnull} Tmp_2235 != 0;
    assume Tmp_2235 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} TmpFcb != Fcb_56;
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc PathLength;
    call {:si_unique_call 4123} sdv_1404 := ExAllocatePoolWithTag(17, PathLength, -294362810);
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc Tmp_2234;
    call {:si_unique_call 4124} sdv_RtlCopyMemory(0, 0, Tmp_2234);
    goto L18;

  L18:
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    goto L48;

  L48:
    StopFcb := TmpFcb;
    TmpFcb := Fcb_56;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    havoc TmpBuffer;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto L53;

  L53:
    call {:si_unique_call 4125} TmpFcb, Tmp_2233 := FatSetFullFileNameInFcb#1_loop_L53(TmpFcb, Lfn_8, Tmp_2233, StopFcb, TmpBuffer, IrpContext_140);
    goto L53_last;

  L53_last:
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} TmpFcb != StopFcb;
    call {:si_unique_call 4126} FatGetUnicodeNameFromFcb#1(IrpContext_140, TmpFcb, Lfn_8);
    assume {:nonnull} Lfn_8 != 0;
    assume Lfn_8 > 0;
    havoc Tmp_2233;
    call {:si_unique_call 4127} sdv_RtlCopyMemory(0, 0, Tmp_2233);
    assume {:nonnull} TmpBuffer != 0;
    assume TmpBuffer > 0;
    Mem_T.INT4[TmpBuffer] := 92;
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc TmpFcb;
    goto anon21_Else_dummy;

  anon21_Else_dummy:
    assume false;
    return;

  anon21_Then:
    assume {:partition} TmpFcb == StopFcb;
    call {:si_unique_call 4128} sdv_1406 := sdv_AbnormalTermination();
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} sdv_1406 != 0;
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    call {:si_unique_call 4129} sdv_ExFreePool(0);
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto L69;

  L69:
    call {:si_unique_call 4130} sdv_ExFreePool(0);
    goto L1;

  L1:
    return;

  anon23_Then:
    goto L69;

  anon22_Then:
    assume {:partition} sdv_1406 == 0;
    goto L69;

  anon18_Then:
    call {:si_unique_call 4131} sdv_1407 := ExAllocatePoolWithTag(17, PathLength, -294362810);
    assume {:nonnull} Fcb_56 != 0;
    assume Fcb_56 > 0;
    goto L48;

  anon20_Then:
    goto L20;

  L20:
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc PathLength;
    assume {:nonnull} TmpFcb != 0;
    assume TmpFcb > 0;
    havoc TmpFcb;
    goto L20_dummy;

  L20_dummy:
    assume false;
    return;

  anon19_Then:
    assume {:partition} TmpFcb == Fcb_56;
    goto L20;

  anon24_Then:
    goto L18;

  anon17_Then:
    goto L1;
}



procedure {:origName "FatSetFullFileNameInFcb"} FatSetFullFileNameInFcb#1(actual_IrpContext_140: int, actual_Fcb_56: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetUnicodeNameFromFcb"} FatGetUnicodeNameFromFcb#0(actual_IrpContext_139: int, actual_Fcb_55: int, actual_Lfn_7: int)
{
  var {:pointer} Dirent_22: int;
  var {:pointer} DirentBcb_12: int;
  var {:scalar} ShortName_5: int;
  var {:scalar} LocalCcb_2: int;
  var {:pointer} ShortNameBuffer_4: int;
  var {:dopa} {:scalar} DirentByteOffset_5: int;
  var {:pointer} IrpContext_139: int;
  var {:pointer} Fcb_55: int;
  var {:pointer} Lfn_7: int;
  var vslice_dummy_var_610: int;
  var vslice_dummy_var_611: int;
  var vslice_dummy_var_480: int;
  var vslice_dummy_var_481: int;
  var vslice_dummy_var_482: int;
  var vslice_dummy_var_483: int;

  anon0:
    call {:si_unique_call 4132} Dirent_22 := __HAVOC_malloc(4);
    call {:si_unique_call 4133} DirentBcb_12 := __HAVOC_malloc(4);
    call {:si_unique_call 4134} ShortName_5 := __HAVOC_malloc(12);
    call {:si_unique_call 4135} LocalCcb_2 := __HAVOC_malloc(88);
    call {:si_unique_call 4136} vslice_dummy_var_610 := __HAVOC_malloc(4);
    call {:si_unique_call 4137} DirentByteOffset_5 := __HAVOC_malloc(4);
    IrpContext_139 := actual_IrpContext_139;
    Fcb_55 := actual_Fcb_55;
    Lfn_7 := actual_Lfn_7;
    call {:si_unique_call 4138} ShortNameBuffer_4 := __HAVOC_malloc(48);
    assume {:nonnull} DirentBcb_12 != 0;
    assume DirentBcb_12 > 0;
    assume {:nonnull} Fcb_55 != 0;
    assume Fcb_55 > 0;
    assume {:nonnull} LocalCcb_2 != 0;
    assume LocalCcb_2 > 0;
    havoc vslice_dummy_var_480;
    call {:si_unique_call 4139} FatStringTo8dot3(IrpContext_139, vslice_dummy_var_480, Constant_unnamed_tag_72(OemQueryTemplate__CCB(LocalCcb_2)));
    assume {:nonnull} LocalCcb_2 != 0;
    assume LocalCcb_2 > 0;
    assume {:nonnull} LocalCcb_2 != 0;
    assume LocalCcb_2 > 0;
    assume {:nonnull} LocalCcb_2 != 0;
    assume LocalCcb_2 > 0;
    assume {:nonnull} Fcb_55 != 0;
    assume Fcb_55 > 0;
    havoc vslice_dummy_var_481;
    havoc vslice_dummy_var_482;
    call {:si_unique_call 4140} FatLocateDirent#0(IrpContext_139, vslice_dummy_var_481, LocalCcb_2, vslice_dummy_var_482, Dirent_22, DirentBcb_12, DirentByteOffset_5, 0, Lfn_7);
    assume {:nonnull} DirentBcb_12 != 0;
    assume DirentBcb_12 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} DirentByteOffset_5 != 0;
    assume DirentByteOffset_5 > 0;
    assume {:nonnull} Fcb_55 != 0;
    assume Fcb_55 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    goto L20;

  L20:
    assume {:nonnull} Lfn_7 != 0;
    assume Lfn_7 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:nonnull} Fcb_55 != 0;
    assume Fcb_55 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} IrpContext_139 != 0;
    assume IrpContext_139 > 0;
    call {:si_unique_call 4141} ExRaiseStatus(-1073741672);
    goto L30;

  L30:
    assume {:nonnull} ShortName_5 != 0;
    assume ShortName_5 > 0;
    assume {:nonnull} ShortName_5 != 0;
    assume ShortName_5 > 0;
    assume {:nonnull} ShortName_5 != 0;
    assume ShortName_5 > 0;
    assume {:nonnull} Dirent_22 != 0;
    assume Dirent_22 > 0;
    havoc vslice_dummy_var_483;
    call {:si_unique_call 4142} Fat8dot3ToString(IrpContext_139, vslice_dummy_var_483, 1, ShortName_5);
    call {:si_unique_call 4143} vslice_dummy_var_611 := RtlOemStringToCountedUnicodeString(0, 0, 0);
    goto L22;

  L22:
    assume {:nonnull} DirentBcb_12 != 0;
    assume DirentBcb_12 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:nonnull} DirentBcb_12 != 0;
    assume DirentBcb_12 > 0;
    goto L1;

  L1:
    return;

  anon14_Then:
    goto L1;

  anon15_Then:
    goto L30;

  anon13_Then:
    goto L22;

  anon12_Then:
    goto L18;

  L18:
    assume {:nonnull} IrpContext_139 != 0;
    assume IrpContext_139 > 0;
    call {:si_unique_call 4144} ExRaiseStatus(-1073741672);
    goto L20;

  anon11_Then:
    goto L18;
}



procedure {:origName "FatGetUnicodeNameFromFcb"} FatGetUnicodeNameFromFcb#0(actual_IrpContext_139: int, actual_Fcb_55: int, actual_Lfn_7: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetUnicodeNameFromFcb"} FatGetUnicodeNameFromFcb#1(actual_IrpContext_139: int, actual_Fcb_55: int, actual_Lfn_7: int)
{
  var {:pointer} Dirent_22: int;
  var {:pointer} DirentBcb_12: int;
  var {:scalar} ShortName_5: int;
  var {:scalar} LocalCcb_2: int;
  var {:pointer} ShortNameBuffer_4: int;
  var {:dopa} {:scalar} DirentByteOffset_5: int;
  var {:pointer} IrpContext_139: int;
  var {:pointer} Fcb_55: int;
  var {:pointer} Lfn_7: int;
  var vslice_dummy_var_612: int;
  var vslice_dummy_var_613: int;
  var vslice_dummy_var_484: int;
  var vslice_dummy_var_485: int;
  var vslice_dummy_var_486: int;
  var vslice_dummy_var_487: int;

  anon0:
    call {:si_unique_call 4145} Dirent_22 := __HAVOC_malloc(4);
    call {:si_unique_call 4146} DirentBcb_12 := __HAVOC_malloc(4);
    call {:si_unique_call 4147} ShortName_5 := __HAVOC_malloc(12);
    call {:si_unique_call 4148} LocalCcb_2 := __HAVOC_malloc(88);
    call {:si_unique_call 4149} vslice_dummy_var_612 := __HAVOC_malloc(4);
    call {:si_unique_call 4150} DirentByteOffset_5 := __HAVOC_malloc(4);
    IrpContext_139 := actual_IrpContext_139;
    Fcb_55 := actual_Fcb_55;
    Lfn_7 := actual_Lfn_7;
    call {:si_unique_call 4151} ShortNameBuffer_4 := __HAVOC_malloc(48);
    assume {:nonnull} DirentBcb_12 != 0;
    assume DirentBcb_12 > 0;
    assume {:nonnull} Fcb_55 != 0;
    assume Fcb_55 > 0;
    assume {:nonnull} LocalCcb_2 != 0;
    assume LocalCcb_2 > 0;
    havoc vslice_dummy_var_484;
    call {:si_unique_call 4152} FatStringTo8dot3(IrpContext_139, vslice_dummy_var_484, Constant_unnamed_tag_72(OemQueryTemplate__CCB(LocalCcb_2)));
    assume {:nonnull} LocalCcb_2 != 0;
    assume LocalCcb_2 > 0;
    assume {:nonnull} LocalCcb_2 != 0;
    assume LocalCcb_2 > 0;
    assume {:nonnull} LocalCcb_2 != 0;
    assume LocalCcb_2 > 0;
    assume {:nonnull} Fcb_55 != 0;
    assume Fcb_55 > 0;
    havoc vslice_dummy_var_485;
    havoc vslice_dummy_var_486;
    call {:si_unique_call 4153} FatLocateDirent#1(IrpContext_139, vslice_dummy_var_485, LocalCcb_2, vslice_dummy_var_486, Dirent_22, DirentBcb_12, DirentByteOffset_5, 0, Lfn_7);
    assume {:nonnull} DirentBcb_12 != 0;
    assume DirentBcb_12 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:nonnull} DirentByteOffset_5 != 0;
    assume DirentByteOffset_5 > 0;
    assume {:nonnull} Fcb_55 != 0;
    assume Fcb_55 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    goto L20;

  L20:
    assume {:nonnull} Lfn_7 != 0;
    assume Lfn_7 > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:nonnull} Fcb_55 != 0;
    assume Fcb_55 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:nonnull} IrpContext_139 != 0;
    assume IrpContext_139 > 0;
    call {:si_unique_call 4154} ExRaiseStatus(-1073741672);
    goto L30;

  L30:
    assume {:nonnull} ShortName_5 != 0;
    assume ShortName_5 > 0;
    assume {:nonnull} ShortName_5 != 0;
    assume ShortName_5 > 0;
    assume {:nonnull} ShortName_5 != 0;
    assume ShortName_5 > 0;
    assume {:nonnull} Dirent_22 != 0;
    assume Dirent_22 > 0;
    havoc vslice_dummy_var_487;
    call {:si_unique_call 4155} Fat8dot3ToString(IrpContext_139, vslice_dummy_var_487, 1, ShortName_5);
    call {:si_unique_call 4156} vslice_dummy_var_613 := RtlOemStringToCountedUnicodeString(0, 0, 0);
    goto L22;

  L22:
    assume {:nonnull} DirentBcb_12 != 0;
    assume DirentBcb_12 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:nonnull} DirentBcb_12 != 0;
    assume DirentBcb_12 > 0;
    goto L1;

  L1:
    return;

  anon14_Then:
    goto L1;

  anon15_Then:
    goto L30;

  anon13_Then:
    goto L22;

  anon12_Then:
    goto L18;

  L18:
    assume {:nonnull} IrpContext_139 != 0;
    assume IrpContext_139 > 0;
    call {:si_unique_call 4157} ExRaiseStatus(-1073741672);
    goto L20;

  anon11_Then:
    goto L18;
}



procedure {:origName "FatGetUnicodeNameFromFcb"} FatGetUnicodeNameFromFcb#1(actual_IrpContext_139: int, actual_Fcb_55: int, actual_Lfn_7: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLocateDirent"} FatLocateDirent#0(actual_IrpContext_153: int, actual_ParentDirectory: int, actual_Ccb_32: int, actual_OffsetToStartSearchFrom: int, actual_Dirent_29: int, actual_Bcb_17: int, actual_ByteOffset_3: int, actual_FileNameDos: int, actual_LongFileName: int)
{
  var {:scalar} LfnInProgress: int;
  var {:pointer} Tmp_2387: int;
  var {:scalar} Ordinal: int;
  var {:scalar} LfnByteOffset_4: int;
  var {:pointer} Tmp_2388: int;
  var {:pointer} Tmp_2389: int;
  var {:scalar} Tmp_2390: int;
  var {:pointer} Tmp_2391: int;
  var {:pointer} Tmp_2392: int;
  var {:pointer} Tmp_2394: int;
  var {:pointer} Tmp_2395: int;
  var {:scalar} LfnChecksum: int;
  var {:pointer} Tmp_2396: int;
  var {:pointer} Tmp_2399: int;
  var {:scalar} Tmp_2400: int;
  var {:scalar} Tmp_2401: int;
  var {:pointer} Tmp_2402: int;
  var {:pointer} Tmp_2403: int;
  var {:scalar} LfnIndex: int;
  var {:pointer} Tmp_2404: int;
  var {:pointer} Tmp_2405: int;
  var {:scalar} LfnSize: int;
  var {:pointer} Lfn_11: int;
  var {:scalar} sdv_1441: int;
  var {:pointer} Tmp_2406: int;
  var {:pointer} Tmp_2407: int;
  var {:scalar} Tmp_2409: int;
  var {:scalar} Tmp_2410: int;
  var {:dopa} {:scalar} Status_57: int;
  var {:pointer} Tmp_2411: int;
  var {:pointer} Tmp_2412: int;
  var {:scalar} Tmp_2413: int;
  var {:scalar} sdv_1442: int;
  var {:pointer} Tmp_2414: int;
  var {:pointer} Tmp_2415: int;
  var {:pointer} NameBuffer: int;
  var {:scalar} Tmp_2418: int;
  var {:pointer} Tmp_2420: int;
  var {:scalar} CheckTail: int;
  var {:scalar} Tmp_2421: int;
  var {:pointer} Tmp_2423: int;
  var {:scalar} UpcasedLfn: int;
  var {:pointer} Tmp_2424: int;
  var {:pointer} Tmp_2425: int;
  var {:scalar} sdv_1444: int;
  var {:pointer} Tmp_2426: int;
  var {:pointer} Tmp_2427: int;
  var {:pointer} Tmp_2428: int;
  var {:scalar} FoundValidLfn: int;
  var {:pointer} Tmp_2429: int;
  var {:scalar} sdv_1445: int;
  var {:scalar} sdv_1446: int;
  var {:pointer} Tmp_2430: int;
  var {:pointer} Tmp_2431: int;
  var {:pointer} Tmp_2432: int;
  var {:scalar} Tmp_2435: int;
  var {:scalar} Tmp_2437: int;
  var {:pointer} Tmp_2438: int;
  var {:pointer} Tmp_2439: int;
  var {:pointer} Tmp_2440: int;
  var {:pointer} LocalLfnBuffer: int;
  var {:scalar} Tmp_2441: int;
  var {:pointer} Tmp_2443: int;
  var {:pointer} Tmp_2445: int;
  var {:scalar} Name_3: int;
  var {:pointer} Tmp_2446: int;
  var {:scalar} Tmp_2447: int;
  var {:pointer} Tmp_2448: int;
  var {:pointer} Tmp_2449: int;
  var {:scalar} Tmp_2451: int;
  var {:pointer} Tmp_2452: int;
  var {:pointer} IrpContext_153: int;
  var {:pointer} ParentDirectory: int;
  var {:pointer} Ccb_32: int;
  var {:scalar} OffsetToStartSearchFrom: int;
  var {:pointer} Dirent_29: int;
  var {:pointer} Bcb_17: int;
  var {:pointer} ByteOffset_3: int;
  var {:pointer} FileNameDos: int;
  var {:pointer} LongFileName: int;
  var boogieTmp: int;
  var vslice_dummy_var_614: int;
  var vslice_dummy_var_488: int;
  var vslice_dummy_var_489: int;
  var vslice_dummy_var_490: int;
  var vslice_dummy_var_491: int;

  anon0:
    call {:si_unique_call 4158} Status_57 := __HAVOC_malloc(4);
    call {:si_unique_call 4159} UpcasedLfn := __HAVOC_malloc(12);
    call {:si_unique_call 4160} vslice_dummy_var_614 := __HAVOC_malloc(4);
    call {:si_unique_call 4161} Name_3 := __HAVOC_malloc(12);
    IrpContext_153 := actual_IrpContext_153;
    ParentDirectory := actual_ParentDirectory;
    Ccb_32 := actual_Ccb_32;
    OffsetToStartSearchFrom := actual_OffsetToStartSearchFrom;
    Dirent_29 := actual_Dirent_29;
    Bcb_17 := actual_Bcb_17;
    ByteOffset_3 := actual_ByteOffset_3;
    FileNameDos := actual_FileNameDos;
    LongFileName := actual_LongFileName;
    call {:si_unique_call 4162} Tmp_2389 := __HAVOC_malloc(44);
    call {:si_unique_call 4163} Tmp_2395 := __HAVOC_malloc(44);
    call {:si_unique_call 4164} Tmp_2405 := __HAVOC_malloc(24);
    call {:si_unique_call 4165} Tmp_2411 := __HAVOC_malloc(8);
    call {:si_unique_call 4166} Tmp_2412 := __HAVOC_malloc(40);
    call {:si_unique_call 4167} Tmp_2415 := __HAVOC_malloc(44);
    call {:si_unique_call 4168} NameBuffer := __HAVOC_malloc(48);
    call {:si_unique_call 4169} Tmp_2420 := __HAVOC_malloc(44);
    call {:si_unique_call 4170} Tmp_2423 := __HAVOC_malloc(44);
    call {:si_unique_call 4171} Tmp_2424 := __HAVOC_malloc(44);
    call {:si_unique_call 4172} Tmp_2425 := __HAVOC_malloc(40);
    call {:si_unique_call 4173} Tmp_2428 := __HAVOC_malloc(8);
    call {:si_unique_call 4174} Tmp_2432 := __HAVOC_malloc(44);
    call {:si_unique_call 4175} Tmp_2438 := __HAVOC_malloc(44);
    call {:si_unique_call 4176} Tmp_2439 := __HAVOC_malloc(44);
    call {:si_unique_call 4177} LocalLfnBuffer := __HAVOC_malloc(128);
    call {:si_unique_call 4178} Tmp_2448 := __HAVOC_malloc(44);
    call {:si_unique_call 4179} Tmp_2449 := __HAVOC_malloc(24);
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    Mem_T.INT4[Status_57] := 0;
    LfnInProgress := 0;
    call {:si_unique_call 4180} sdv_do_paged_code_check();
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    assume {:nonnull} UpcasedLfn != 0;
    assume UpcasedLfn > 0;
    assume {:nonnull} UpcasedLfn != 0;
    assume UpcasedLfn > 0;
    assume {:nonnull} UpcasedLfn != 0;
    assume UpcasedLfn > 0;
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon176_Then, anon176_Else;

  anon176_Else:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} INTDIV(OffsetToStartSearchFrom, 4096) == INTDIV(Mem_T.INT4[ByteOffset_3], 4096);
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    goto L25;

  L25:
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} LongFileName != 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    goto L33;

  L33:
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:partition} FileNameDos != 0;
    assume {:nonnull} FileNameDos != 0;
    assume FileNameDos > 0;
    Mem_T.INT4[FileNameDos] := 0;
    goto L35;

  L35:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    Mem_T.INT4[ByteOffset_3] := BAND(OffsetToStartSearchFrom + 31, BNOT(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16)));
    goto L42;

  L42:
    call {:si_unique_call 4181} LfnInProgress, Tmp_2387, Ordinal, LfnByteOffset_4, Tmp_2388, Tmp_2389, Tmp_2390, Tmp_2391, Tmp_2392, Tmp_2394, Tmp_2395, LfnChecksum, Tmp_2396, Tmp_2399, Tmp_2400, Tmp_2401, Tmp_2402, Tmp_2403, LfnIndex, Tmp_2404, Tmp_2405, LfnSize, Lfn_11, sdv_1441, Tmp_2406, Tmp_2407, Tmp_2409, Tmp_2410, Tmp_2411, Tmp_2412, Tmp_2413, sdv_1442, Tmp_2414, Tmp_2415, Tmp_2418, Tmp_2420, CheckTail, Tmp_2421, Tmp_2423, Tmp_2424, Tmp_2425, sdv_1444, Tmp_2426, Tmp_2427, Tmp_2428, FoundValidLfn, Tmp_2429, sdv_1445, sdv_1446, Tmp_2430, Tmp_2431, Tmp_2432, Tmp_2435, Tmp_2437, Tmp_2438, Tmp_2439, Tmp_2440, Tmp_2441, Tmp_2443, Tmp_2445, Tmp_2446, Tmp_2447, Tmp_2448, Tmp_2449, Tmp_2451, Tmp_2452, boogieTmp := FatLocateDirent#0_loop_L42(LfnInProgress, Tmp_2387, Ordinal, LfnByteOffset_4, Tmp_2388, Tmp_2389, Tmp_2390, Tmp_2391, Tmp_2392, Tmp_2394, Tmp_2395, LfnChecksum, Tmp_2396, Tmp_2399, Tmp_2400, Tmp_2401, Tmp_2402, Tmp_2403, LfnIndex, Tmp_2404, Tmp_2405, LfnSize, Lfn_11, sdv_1441, Tmp_2406, Tmp_2407, Tmp_2409, Tmp_2410, Status_57, Tmp_2411, Tmp_2412, Tmp_2413, sdv_1442, Tmp_2414, Tmp_2415, Tmp_2418, Tmp_2420, CheckTail, Tmp_2421, Tmp_2423, UpcasedLfn, Tmp_2424, Tmp_2425, sdv_1444, Tmp_2426, Tmp_2427, Tmp_2428, FoundValidLfn, Tmp_2429, sdv_1445, sdv_1446, Tmp_2430, Tmp_2431, Tmp_2432, Tmp_2435, Tmp_2437, Tmp_2438, Tmp_2439, Tmp_2440, Tmp_2441, Tmp_2443, Tmp_2445, Name_3, Tmp_2446, Tmp_2447, Tmp_2448, Tmp_2449, Tmp_2451, Tmp_2452, IrpContext_153, ParentDirectory, Ccb_32, Dirent_29, Bcb_17, ByteOffset_3, LongFileName, boogieTmp);
    goto L42_last;

  L42_last:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    assume {:nonnull} ParentDirectory != 0;
    assume ParentDirectory > 0;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    Mem_T.INT4[Status_57] := -1073741807;
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon177_Then, anon177_Else;

  anon177_Else:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto L46;

  L46:
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:partition} Mem_T.INT4[Status_57] == -1073741807;
    goto L55;

  L55:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto L56;

  L56:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    Mem_T.INT4[ByteOffset_3] := 0;
    goto L38;

  L38:
    call {:si_unique_call 4182} FatFreeStringBuffer(UpcasedLfn);
    return;

  anon136_Then:
    goto L56;

  anon135_Then:
    assume {:partition} Mem_T.INT4[Status_57] != -1073741807;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2388;
    assume {:nonnull} Tmp_2388 != 0;
    assume Tmp_2388 > 0;
    havoc Tmp_2439;
    assume {:nonnull} Tmp_2439 != 0;
    assume Tmp_2439 > 0;
    goto anon178_Then, anon178_Else;

  anon178_Else:
    assume {:partition} Mem_T.INT4[Tmp_2439] != 0;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2407;
    assume {:nonnull} Tmp_2407 != 0;
    assume Tmp_2407 > 0;
    havoc Tmp_2423;
    assume {:nonnull} Tmp_2423 != 0;
    assume Tmp_2423 > 0;
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:partition} Mem_T.INT4[Tmp_2423] == 229;
    LfnInProgress := 0;
    goto L67;

  L67:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    Mem_T.INT4[ByteOffset_3] := Mem_T.INT4[ByteOffset_3] + 32;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    goto L67_dummy;

  L67_dummy:
    assume false;
    return;

  anon179_Then:
    assume {:partition} Mem_T.INT4[Tmp_2423] != 229;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} LongFileName != 0;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2430;
    assume {:nonnull} Tmp_2430 != 0;
    assume Tmp_2430 > 0;
    goto anon180_Then, anon180_Else;

  anon180_Else:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Lfn_11;
    goto anon181_Then, anon181_Else;

  anon181_Else:
    assume {:partition} LfnInProgress != 0;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    goto L78;

  L78:
    LfnInProgress := 0;
    goto L75;

  L75:
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:partition} LfnInProgress == 0;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2390;
    goto anon182_Then, anon182_Else;

  anon182_Else:
    assume {:partition} 20 >= Tmp_2390;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    CheckTail := 0;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Ordinal;
    goto anon183_Then, anon183_Else;

  anon183_Else:
    assume {:partition} Ordinal != 0;
    goto L112;

  L112:
    LfnIndex := (Ordinal - 1) * 13;
    call {:si_unique_call 4183} Tmp_2400 := corral_nondet();
    call {:si_unique_call 4184} FatEnsureStringBufferEnough(LongFileName, Tmp_2400);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2425;
    Tmp_2401 := LfnIndex + 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2429;
    call {:si_unique_call 4185} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2449;
    Tmp_2437 := LfnIndex + 5;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2392;
    call {:si_unique_call 4186} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2411;
    Tmp_2441 := LfnIndex + 11;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2446;
    call {:si_unique_call 4187} sdv_RtlCopyMemory(0, 0, 4);
    goto L132;

  L132:
    call {:si_unique_call 4188} LfnIndex, Tmp_2404, LfnSize, Tmp_2410, CheckTail, Tmp_2435, Tmp_2440 := FatLocateDirent#0_loop_L132(Ordinal, LfnIndex, Tmp_2404, LfnSize, Tmp_2410, CheckTail, Tmp_2435, Tmp_2440, LongFileName);
    goto L132_last;

  L132_last:
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} LfnIndex != Ordinal * 13;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} CheckTail != 0;
    Tmp_2435 := LfnIndex;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2440;
    assume {:nonnull} Tmp_2440 != 0;
    assume Tmp_2440 > 0;
    goto anon184_Then, anon184_Else;

  anon184_Else:
    assume {:partition} Mem_T.INT4[Tmp_2440 + Tmp_2435 * 4] == 65535;
    goto L137;

  L137:
    LfnIndex := LfnIndex + 1;
    goto L137_dummy;

  L137_dummy:
    assume false;
    return;

  anon184_Then:
    assume {:partition} Mem_T.INT4[Tmp_2440 + Tmp_2435 * 4] != 65535;
    goto L133;

  L133:
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:partition} LfnIndex == Ordinal * 13;
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} CheckTail != 0;
    goto L143;

  L143:
    LfnIndex := LfnIndex - 13;
    LfnInProgress := 1;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc LfnChecksum;
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    LfnByteOffset_4 := Mem_T.INT4[ByteOffset_3];
    goto L67;

  anon150_Then:
    assume {:partition} CheckTail == 0;
    LfnSize := LfnIndex;
    goto L143;

  anon148_Then:
    assume {:partition} LfnIndex != Ordinal * 13;
    goto L67;

  anon149_Then:
    assume {:partition} CheckTail == 0;
    Tmp_2410 := LfnIndex;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2404;
    assume {:nonnull} Tmp_2404 != 0;
    assume Tmp_2404 > 0;
    goto anon185_Then, anon185_Else;

  anon185_Else:
    assume {:partition} Mem_T.INT4[Tmp_2404 + Tmp_2410 * 4] == 0;
    LfnSize := LfnIndex;
    CheckTail := 1;
    goto L137;

  anon185_Then:
    assume {:partition} Mem_T.INT4[Tmp_2404 + Tmp_2410 * 4] != 0;
    goto L137;

  anon147_Then:
    assume {:partition} LfnIndex == Ordinal * 13;
    goto L133;

  anon183_Then:
    assume {:partition} Ordinal == 0;
    assume false;
    assume {:nonnull} IrpContext_153 != 0;
    assume IrpContext_153 > 0;
    call {:si_unique_call 4189} ExRaiseStatus(-1073741566);
    return;

  anon146_Then:
    goto L67;

  anon182_Then:
    assume {:partition} Tmp_2390 > 20;
    goto L67;

  anon145_Then:
    goto L67;

  anon139_Then:
    assume {:partition} LfnInProgress != 0;
    goto L67;

  anon140_Then:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    LfnIndex := LfnIndex - 13;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2412;
    Tmp_2409 := LfnIndex + 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2391;
    call {:si_unique_call 4190} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2405;
    Tmp_2451 := LfnIndex + 5;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2414;
    call {:si_unique_call 4191} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2428;
    Tmp_2413 := LfnIndex + 11;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2396;
    call {:si_unique_call 4192} sdv_RtlCopyMemory(0, 0, 4);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Ordinal;
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    LfnByteOffset_4 := Mem_T.INT4[ByteOffset_3];
    goto L75;

  anon144_Then:
    goto L78;

  anon143_Then:
    goto L78;

  anon142_Then:
    goto L78;

  anon141_Then:
    goto L78;

  anon181_Then:
    assume {:partition} LfnInProgress == 0;
    goto L75;

  anon180_Then:
    goto L69;

  L69:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2394;
    assume {:nonnull} Tmp_2394 != 0;
    assume Tmp_2394 > 0;
    goto anon186_Then, anon186_Else;

  anon186_Else:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon152_Then, anon152_Else;

  anon152_Else:
    goto L67;

  anon152_Then:
    goto L38;

  anon186_Then:
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:partition} LfnInProgress != 0;
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:partition} Mem_T.INT4[ByteOffset_3] == LfnByteOffset_4 + 32;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} LfnIndex == 0;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc vslice_dummy_var_488;
    call {:si_unique_call 4193} sdv_1441 := FatComputeLfnChecksum(vslice_dummy_var_488);
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} sdv_1441 == LfnChecksum;
    FoundValidLfn := 1;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    goto L164;

  L164:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon157_Then, anon157_Else;

  anon157_Else:
    goto L168;

  L168:
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} FoundValidLfn != 0;
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon161_Then, anon161_Else;

  anon161_Else:
    goto L172;

  L172:
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc vslice_dummy_var_489;
    call {:si_unique_call 4194} FatEnsureStringBufferEnough(UpcasedLfn, vslice_dummy_var_489);
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    call {:si_unique_call 4195} boogieTmp := RtlUpcaseUnicodeString(0, 0, 0);
    Mem_T.INT4[Status_57] := boogieTmp;
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:partition} Mem_T.INT4[Status_57] >= 0;
    goto L181;

  L181:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon164_Then, anon164_Else;

  anon164_Else:
    call {:si_unique_call 4196} sdv_1444 := FsRtlIsNameInExpression(0, 0, 1, 0);
    goto anon165_Then, anon165_Else;

  anon165_Else:
    assume {:partition} sdv_1444 == 0;
    goto L169;

  L169:
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} FoundValidLfn != 0;
    FoundValidLfn := 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    goto L67;

  anon160_Then:
    assume {:partition} FoundValidLfn == 0;
    goto L67;

  anon165_Then:
    assume {:partition} sdv_1444 != 0;
    goto L38;

  anon164_Then:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2421;
    goto anon187_Then, anon187_Else;

  anon187_Else:
    assume {:partition} Tmp_2421 == 0;
    Tmp_2418 := 0;
    goto L387;

  L387:
    call {:si_unique_call 4197} sdv_1446 := FsRtlAreNamesEqual(0, 0, Tmp_2418, 0);
    goto anon166_Then, anon166_Else;

  anon166_Else:
    assume {:partition} sdv_1446 == 0;
    goto L169;

  anon166_Then:
    assume {:partition} sdv_1446 != 0;
    goto L38;

  anon187_Then:
    assume {:partition} Tmp_2421 != 0;
    Tmp_2418 := 1;
    goto L387;

  anon163_Then:
    assume {:partition} 0 > Mem_T.INT4[Status_57];
    assume {:nonnull} IrpContext_153 != 0;
    assume IrpContext_153 > 0;
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    call {:si_unique_call 4198} sdv_1445 := corral_nondet();
    call {:si_unique_call 4199} ExRaiseStatus(sdv_1445);
    goto L181;

  anon161_Then:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon162_Then, anon162_Else;

  anon162_Else:
    FoundValidLfn := 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    goto L67;

  anon162_Then:
    goto L172;

  anon159_Then:
    assume {:partition} FoundValidLfn == 0;
    goto L169;

  anon157_Then:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc vslice_dummy_var_490;
    call {:si_unique_call 4200} Fat8dot3ToString(IrpContext_153, vslice_dummy_var_490, 0, Name_3);
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    goto anon169_Then, anon169_Else;

  anon169_Else:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    goto L210;

  L210:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc vslice_dummy_var_491;
    call {:si_unique_call 4201} sdv_1442 := FatIsNameInExpression(IrpContext_153, vslice_dummy_var_491, Name_3);
    goto anon171_Then, anon171_Else;

  anon171_Else:
    assume {:partition} sdv_1442 != 0;
    goto anon172_Then, anon172_Else;

  anon172_Else:
    assume {:partition} FileNameDos != 0;
    assume {:nonnull} FileNameDos != 0;
    assume FileNameDos > 0;
    Mem_T.INT4[FileNameDos] := 1;
    goto L38;

  anon172_Then:
    assume {:partition} FileNameDos == 0;
    goto L38;

  anon171_Then:
    assume {:partition} sdv_1442 == 0;
    goto L168;

  anon170_Then:
    goto L210;

  anon169_Then:
    goto L210;

  anon168_Then:
    goto L210;

  anon167_Then:
    goto L210;

  anon158_Then:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2427;
    assume {:nonnull} Tmp_2427 != 0;
    assume Tmp_2427 > 0;
    goto anon188_Then, anon188_Else;

  anon188_Else:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2432;
    Tmp_2403 := Tmp_2432;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2445;
    assume {:nonnull} Tmp_2445 != 0;
    assume Tmp_2445 > 0;
    havoc Tmp_2448;
    Tmp_2402 := Tmp_2448;
    assume {:nonnull} Tmp_2402 != 0;
    assume Tmp_2402 > 0;
    assume {:nonnull} Tmp_2403 != 0;
    assume Tmp_2403 > 0;
    goto anon189_Then, anon189_Else;

  anon189_Else:
    assume {:partition} Mem_T.INT4[Tmp_2403] == Mem_T.INT4[Tmp_2402];
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2438;
    Tmp_2387 := Tmp_2438 + 4 * 4;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2406;
    assume {:nonnull} Tmp_2406 != 0;
    assume Tmp_2406 > 0;
    havoc Tmp_2415;
    Tmp_2426 := Tmp_2415 + 4 * 4;
    assume {:nonnull} Tmp_2387 != 0;
    assume Tmp_2387 > 0;
    assume {:nonnull} Tmp_2426 != 0;
    assume Tmp_2426 > 0;
    goto anon190_Then, anon190_Else;

  anon190_Else:
    assume {:partition} Mem_T.INT4[Tmp_2387] == Mem_T.INT4[Tmp_2426];
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2420;
    Tmp_2431 := Tmp_2420 + 8 * 4;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2443;
    assume {:nonnull} Tmp_2443 != 0;
    assume Tmp_2443 > 0;
    havoc Tmp_2395;
    Tmp_2399 := Tmp_2395 + 8 * 4;
    assume {:nonnull} Tmp_2399 != 0;
    assume Tmp_2399 > 0;
    assume {:nonnull} Tmp_2431 != 0;
    assume Tmp_2431 > 0;
    goto anon191_Then, anon191_Else;

  anon191_Else:
    assume {:partition} Mem_T.INT4[Tmp_2431] == Mem_T.INT4[Tmp_2399];
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2389;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2452;
    assume {:nonnull} Tmp_2452 != 0;
    assume Tmp_2452 > 0;
    havoc Tmp_2424;
    assume {:nonnull} Tmp_2389 != 0;
    assume Tmp_2389 > 0;
    assume {:nonnull} Tmp_2424 != 0;
    assume Tmp_2424 > 0;
    goto anon192_Then, anon192_Else;

  anon192_Else:
    assume {:partition} Mem_T.INT4[Tmp_2389 + 10 * 4] == Mem_T.INT4[Tmp_2424 + 10 * 4];
    goto anon173_Then, anon173_Else;

  anon173_Else:
    assume {:partition} FileNameDos != 0;
    assume {:nonnull} FileNameDos != 0;
    assume FileNameDos > 0;
    Mem_T.INT4[FileNameDos] := 1;
    goto L38;

  anon173_Then:
    assume {:partition} FileNameDos == 0;
    goto L38;

  anon192_Then:
    assume {:partition} Mem_T.INT4[Tmp_2389 + 10 * 4] != Mem_T.INT4[Tmp_2424 + 10 * 4];
    goto L168;

  anon191_Then:
    assume {:partition} Mem_T.INT4[Tmp_2431] != Mem_T.INT4[Tmp_2399];
    goto L168;

  anon190_Then:
    assume {:partition} Mem_T.INT4[Tmp_2387] != Mem_T.INT4[Tmp_2426];
    goto L168;

  anon189_Then:
    assume {:partition} Mem_T.INT4[Tmp_2403] != Mem_T.INT4[Tmp_2402];
    goto L168;

  anon188_Then:
    goto L168;

  anon156_Then:
    goto L38;

  anon155_Then:
    assume {:partition} sdv_1441 != LfnChecksum;
    goto L155;

  L155:
    FoundValidLfn := 0;
    goto L164;

  anon154_Then:
    assume {:partition} LfnIndex != 0;
    goto L155;

  anon153_Then:
    assume {:partition} Mem_T.INT4[ByteOffset_3] != LfnByteOffset_4 + 32;
    goto L155;

  anon151_Then:
    assume {:partition} LfnInProgress == 0;
    goto L155;

  anon138_Then:
    assume {:partition} LongFileName == 0;
    goto L69;

  anon137_Then:
    goto L69;

  anon178_Then:
    assume {:partition} Mem_T.INT4[Tmp_2439] == 0;
    goto L55;

  anon177_Then:
    goto L46;

  anon133_Then:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} INTMOD(Mem_T.INT4[ByteOffset_3], 4096) != 0;
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon175_Then, anon175_Else;

  anon175_Else:
    goto L228;

  L228:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto L230;

  L230:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    Tmp_2447 := BAND(Mem_T.INT4[ByteOffset_3], BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 4202} FatReadDirectoryFile#0(IrpContext_153, ParentDirectory, Tmp_2447, 4096, 0, Bcb_17, Dirent_29, Status_57);
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    goto L46;

  anon174_Then:
    goto L230;

  anon175_Then:
    goto L46;

  anon134_Then:
    assume {:partition} INTMOD(Mem_T.INT4[ByteOffset_3], 4096) == 0;
    goto L228;

  anon132_Then:
    assume {:partition} FileNameDos == 0;
    goto L35;

  anon129_Then:
    assume {:partition} LongFileName == 0;
    goto L33;

  anon130_Then:
    assume {:partition} INTDIV(OffsetToStartSearchFrom, 4096) != INTDIV(Mem_T.INT4[ByteOffset_3], 4096);
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto L25;

  anon131_Then:
    goto L25;

  anon176_Then:
    goto L25;
}



procedure {:origName "FatLocateDirent"} FatLocateDirent#0(actual_IrpContext_153: int, actual_ParentDirectory: int, actual_Ccb_32: int, actual_OffsetToStartSearchFrom: int, actual_Dirent_29: int, actual_Bcb_17: int, actual_ByteOffset_3: int, actual_FileNameDos: int, actual_LongFileName: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatLocateDirent"} FatLocateDirent#1(actual_IrpContext_153: int, actual_ParentDirectory: int, actual_Ccb_32: int, actual_OffsetToStartSearchFrom: int, actual_Dirent_29: int, actual_Bcb_17: int, actual_ByteOffset_3: int, actual_FileNameDos: int, actual_LongFileName: int)
{
  var {:scalar} LfnInProgress: int;
  var {:pointer} Tmp_2387: int;
  var {:scalar} Ordinal: int;
  var {:scalar} LfnByteOffset_4: int;
  var {:pointer} Tmp_2388: int;
  var {:pointer} Tmp_2389: int;
  var {:scalar} Tmp_2390: int;
  var {:pointer} Tmp_2391: int;
  var {:pointer} Tmp_2392: int;
  var {:pointer} Tmp_2394: int;
  var {:pointer} Tmp_2395: int;
  var {:scalar} LfnChecksum: int;
  var {:pointer} Tmp_2396: int;
  var {:pointer} Tmp_2399: int;
  var {:scalar} Tmp_2400: int;
  var {:scalar} Tmp_2401: int;
  var {:pointer} Tmp_2402: int;
  var {:pointer} Tmp_2403: int;
  var {:scalar} LfnIndex: int;
  var {:pointer} Tmp_2404: int;
  var {:pointer} Tmp_2405: int;
  var {:scalar} LfnSize: int;
  var {:pointer} Lfn_11: int;
  var {:scalar} sdv_1441: int;
  var {:pointer} Tmp_2406: int;
  var {:pointer} Tmp_2407: int;
  var {:scalar} Tmp_2409: int;
  var {:scalar} Tmp_2410: int;
  var {:dopa} {:scalar} Status_57: int;
  var {:pointer} Tmp_2411: int;
  var {:pointer} Tmp_2412: int;
  var {:scalar} Tmp_2413: int;
  var {:scalar} sdv_1442: int;
  var {:pointer} Tmp_2414: int;
  var {:pointer} Tmp_2415: int;
  var {:pointer} NameBuffer: int;
  var {:scalar} Tmp_2418: int;
  var {:pointer} Tmp_2420: int;
  var {:scalar} CheckTail: int;
  var {:scalar} Tmp_2421: int;
  var {:pointer} Tmp_2423: int;
  var {:scalar} UpcasedLfn: int;
  var {:pointer} Tmp_2424: int;
  var {:pointer} Tmp_2425: int;
  var {:scalar} sdv_1444: int;
  var {:pointer} Tmp_2426: int;
  var {:pointer} Tmp_2427: int;
  var {:pointer} Tmp_2428: int;
  var {:scalar} FoundValidLfn: int;
  var {:pointer} Tmp_2429: int;
  var {:scalar} sdv_1445: int;
  var {:scalar} sdv_1446: int;
  var {:pointer} Tmp_2430: int;
  var {:pointer} Tmp_2431: int;
  var {:pointer} Tmp_2432: int;
  var {:scalar} Tmp_2435: int;
  var {:scalar} Tmp_2437: int;
  var {:pointer} Tmp_2438: int;
  var {:pointer} Tmp_2439: int;
  var {:pointer} Tmp_2440: int;
  var {:pointer} LocalLfnBuffer: int;
  var {:scalar} Tmp_2441: int;
  var {:pointer} Tmp_2443: int;
  var {:pointer} Tmp_2445: int;
  var {:scalar} Name_3: int;
  var {:pointer} Tmp_2446: int;
  var {:scalar} Tmp_2447: int;
  var {:pointer} Tmp_2448: int;
  var {:pointer} Tmp_2449: int;
  var {:scalar} Tmp_2451: int;
  var {:pointer} Tmp_2452: int;
  var {:pointer} IrpContext_153: int;
  var {:pointer} ParentDirectory: int;
  var {:pointer} Ccb_32: int;
  var {:scalar} OffsetToStartSearchFrom: int;
  var {:pointer} Dirent_29: int;
  var {:pointer} Bcb_17: int;
  var {:pointer} ByteOffset_3: int;
  var {:pointer} FileNameDos: int;
  var {:pointer} LongFileName: int;
  var boogieTmp: int;
  var vslice_dummy_var_615: int;
  var vslice_dummy_var_492: int;
  var vslice_dummy_var_493: int;
  var vslice_dummy_var_494: int;
  var vslice_dummy_var_495: int;

  anon0:
    call {:si_unique_call 4203} Status_57 := __HAVOC_malloc(4);
    call {:si_unique_call 4204} UpcasedLfn := __HAVOC_malloc(12);
    call {:si_unique_call 4205} vslice_dummy_var_615 := __HAVOC_malloc(4);
    call {:si_unique_call 4206} Name_3 := __HAVOC_malloc(12);
    IrpContext_153 := actual_IrpContext_153;
    ParentDirectory := actual_ParentDirectory;
    Ccb_32 := actual_Ccb_32;
    OffsetToStartSearchFrom := actual_OffsetToStartSearchFrom;
    Dirent_29 := actual_Dirent_29;
    Bcb_17 := actual_Bcb_17;
    ByteOffset_3 := actual_ByteOffset_3;
    FileNameDos := actual_FileNameDos;
    LongFileName := actual_LongFileName;
    call {:si_unique_call 4207} Tmp_2389 := __HAVOC_malloc(44);
    call {:si_unique_call 4208} Tmp_2395 := __HAVOC_malloc(44);
    call {:si_unique_call 4209} Tmp_2405 := __HAVOC_malloc(24);
    call {:si_unique_call 4210} Tmp_2411 := __HAVOC_malloc(8);
    call {:si_unique_call 4211} Tmp_2412 := __HAVOC_malloc(40);
    call {:si_unique_call 4212} Tmp_2415 := __HAVOC_malloc(44);
    call {:si_unique_call 4213} NameBuffer := __HAVOC_malloc(48);
    call {:si_unique_call 4214} Tmp_2420 := __HAVOC_malloc(44);
    call {:si_unique_call 4215} Tmp_2423 := __HAVOC_malloc(44);
    call {:si_unique_call 4216} Tmp_2424 := __HAVOC_malloc(44);
    call {:si_unique_call 4217} Tmp_2425 := __HAVOC_malloc(40);
    call {:si_unique_call 4218} Tmp_2428 := __HAVOC_malloc(8);
    call {:si_unique_call 4219} Tmp_2432 := __HAVOC_malloc(44);
    call {:si_unique_call 4220} Tmp_2438 := __HAVOC_malloc(44);
    call {:si_unique_call 4221} Tmp_2439 := __HAVOC_malloc(44);
    call {:si_unique_call 4222} LocalLfnBuffer := __HAVOC_malloc(128);
    call {:si_unique_call 4223} Tmp_2448 := __HAVOC_malloc(44);
    call {:si_unique_call 4224} Tmp_2449 := __HAVOC_malloc(24);
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    Mem_T.INT4[Status_57] := 0;
    LfnInProgress := 0;
    call {:si_unique_call 4225} sdv_do_paged_code_check();
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    assume {:nonnull} UpcasedLfn != 0;
    assume UpcasedLfn > 0;
    assume {:nonnull} UpcasedLfn != 0;
    assume UpcasedLfn > 0;
    assume {:nonnull} UpcasedLfn != 0;
    assume UpcasedLfn > 0;
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon176_Then, anon176_Else;

  anon176_Else:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} INTDIV(OffsetToStartSearchFrom, 4096) == INTDIV(Mem_T.INT4[ByteOffset_3], 4096);
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    goto L25;

  L25:
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} LongFileName != 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    goto L33;

  L33:
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:partition} FileNameDos != 0;
    assume {:nonnull} FileNameDos != 0;
    assume FileNameDos > 0;
    Mem_T.INT4[FileNameDos] := 0;
    goto L35;

  L35:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    Mem_T.INT4[ByteOffset_3] := BAND(OffsetToStartSearchFrom + 31, BNOT(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16)));
    goto L42;

  L42:
    call {:si_unique_call 4226} LfnInProgress, Tmp_2387, Ordinal, LfnByteOffset_4, Tmp_2388, Tmp_2389, Tmp_2390, Tmp_2391, Tmp_2392, Tmp_2394, Tmp_2395, LfnChecksum, Tmp_2396, Tmp_2399, Tmp_2400, Tmp_2401, Tmp_2402, Tmp_2403, LfnIndex, Tmp_2404, Tmp_2405, LfnSize, Lfn_11, sdv_1441, Tmp_2406, Tmp_2407, Tmp_2409, Tmp_2410, Tmp_2411, Tmp_2412, Tmp_2413, sdv_1442, Tmp_2414, Tmp_2415, Tmp_2418, Tmp_2420, CheckTail, Tmp_2421, Tmp_2423, Tmp_2424, Tmp_2425, sdv_1444, Tmp_2426, Tmp_2427, Tmp_2428, FoundValidLfn, Tmp_2429, sdv_1445, sdv_1446, Tmp_2430, Tmp_2431, Tmp_2432, Tmp_2435, Tmp_2437, Tmp_2438, Tmp_2439, Tmp_2440, Tmp_2441, Tmp_2443, Tmp_2445, Tmp_2446, Tmp_2447, Tmp_2448, Tmp_2449, Tmp_2451, Tmp_2452, boogieTmp := FatLocateDirent#1_loop_L42(LfnInProgress, Tmp_2387, Ordinal, LfnByteOffset_4, Tmp_2388, Tmp_2389, Tmp_2390, Tmp_2391, Tmp_2392, Tmp_2394, Tmp_2395, LfnChecksum, Tmp_2396, Tmp_2399, Tmp_2400, Tmp_2401, Tmp_2402, Tmp_2403, LfnIndex, Tmp_2404, Tmp_2405, LfnSize, Lfn_11, sdv_1441, Tmp_2406, Tmp_2407, Tmp_2409, Tmp_2410, Status_57, Tmp_2411, Tmp_2412, Tmp_2413, sdv_1442, Tmp_2414, Tmp_2415, Tmp_2418, Tmp_2420, CheckTail, Tmp_2421, Tmp_2423, UpcasedLfn, Tmp_2424, Tmp_2425, sdv_1444, Tmp_2426, Tmp_2427, Tmp_2428, FoundValidLfn, Tmp_2429, sdv_1445, sdv_1446, Tmp_2430, Tmp_2431, Tmp_2432, Tmp_2435, Tmp_2437, Tmp_2438, Tmp_2439, Tmp_2440, Tmp_2441, Tmp_2443, Tmp_2445, Name_3, Tmp_2446, Tmp_2447, Tmp_2448, Tmp_2449, Tmp_2451, Tmp_2452, IrpContext_153, ParentDirectory, Ccb_32, Dirent_29, Bcb_17, ByteOffset_3, LongFileName, boogieTmp);
    goto L42_last;

  L42_last:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    assume {:nonnull} ParentDirectory != 0;
    assume ParentDirectory > 0;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    Mem_T.INT4[Status_57] := -1073741807;
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon177_Then, anon177_Else;

  anon177_Else:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto L46;

  L46:
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:partition} Mem_T.INT4[Status_57] == -1073741807;
    goto L55;

  L55:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto L56;

  L56:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    Mem_T.INT4[ByteOffset_3] := 0;
    goto L38;

  L38:
    call {:si_unique_call 4227} FatFreeStringBuffer(UpcasedLfn);
    return;

  anon136_Then:
    goto L56;

  anon135_Then:
    assume {:partition} Mem_T.INT4[Status_57] != -1073741807;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2388;
    assume {:nonnull} Tmp_2388 != 0;
    assume Tmp_2388 > 0;
    havoc Tmp_2439;
    assume {:nonnull} Tmp_2439 != 0;
    assume Tmp_2439 > 0;
    goto anon178_Then, anon178_Else;

  anon178_Else:
    assume {:partition} Mem_T.INT4[Tmp_2439] != 0;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2407;
    assume {:nonnull} Tmp_2407 != 0;
    assume Tmp_2407 > 0;
    havoc Tmp_2423;
    assume {:nonnull} Tmp_2423 != 0;
    assume Tmp_2423 > 0;
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:partition} Mem_T.INT4[Tmp_2423] == 229;
    LfnInProgress := 0;
    goto L67;

  L67:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    Mem_T.INT4[ByteOffset_3] := Mem_T.INT4[ByteOffset_3] + 32;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    goto L67_dummy;

  L67_dummy:
    assume false;
    return;

  anon179_Then:
    assume {:partition} Mem_T.INT4[Tmp_2423] != 229;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} LongFileName != 0;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2430;
    assume {:nonnull} Tmp_2430 != 0;
    assume Tmp_2430 > 0;
    goto anon180_Then, anon180_Else;

  anon180_Else:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Lfn_11;
    goto anon181_Then, anon181_Else;

  anon181_Else:
    assume {:partition} LfnInProgress != 0;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    goto L78;

  L78:
    LfnInProgress := 0;
    goto L75;

  L75:
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:partition} LfnInProgress == 0;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2390;
    goto anon182_Then, anon182_Else;

  anon182_Else:
    assume {:partition} 20 >= Tmp_2390;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    CheckTail := 0;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Ordinal;
    goto anon183_Then, anon183_Else;

  anon183_Else:
    assume {:partition} Ordinal != 0;
    goto L112;

  L112:
    LfnIndex := (Ordinal - 1) * 13;
    call {:si_unique_call 4228} Tmp_2400 := corral_nondet();
    call {:si_unique_call 4229} FatEnsureStringBufferEnough(LongFileName, Tmp_2400);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2425;
    Tmp_2401 := LfnIndex + 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2429;
    call {:si_unique_call 4230} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2449;
    Tmp_2437 := LfnIndex + 5;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2392;
    call {:si_unique_call 4231} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2411;
    Tmp_2441 := LfnIndex + 11;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2446;
    call {:si_unique_call 4232} sdv_RtlCopyMemory(0, 0, 4);
    goto L132;

  L132:
    call {:si_unique_call 4233} LfnIndex, Tmp_2404, LfnSize, Tmp_2410, CheckTail, Tmp_2435, Tmp_2440 := FatLocateDirent#1_loop_L132(Ordinal, LfnIndex, Tmp_2404, LfnSize, Tmp_2410, CheckTail, Tmp_2435, Tmp_2440, LongFileName);
    goto L132_last;

  L132_last:
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} LfnIndex != Ordinal * 13;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} CheckTail != 0;
    Tmp_2435 := LfnIndex;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2440;
    assume {:nonnull} Tmp_2440 != 0;
    assume Tmp_2440 > 0;
    goto anon184_Then, anon184_Else;

  anon184_Else:
    assume {:partition} Mem_T.INT4[Tmp_2440 + Tmp_2435 * 4] == 65535;
    goto L137;

  L137:
    LfnIndex := LfnIndex + 1;
    goto L137_dummy;

  L137_dummy:
    assume false;
    return;

  anon184_Then:
    assume {:partition} Mem_T.INT4[Tmp_2440 + Tmp_2435 * 4] != 65535;
    goto L133;

  L133:
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:partition} LfnIndex == Ordinal * 13;
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} CheckTail != 0;
    goto L143;

  L143:
    LfnIndex := LfnIndex - 13;
    LfnInProgress := 1;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc LfnChecksum;
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    LfnByteOffset_4 := Mem_T.INT4[ByteOffset_3];
    goto L67;

  anon150_Then:
    assume {:partition} CheckTail == 0;
    LfnSize := LfnIndex;
    goto L143;

  anon148_Then:
    assume {:partition} LfnIndex != Ordinal * 13;
    goto L67;

  anon149_Then:
    assume {:partition} CheckTail == 0;
    Tmp_2410 := LfnIndex;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2404;
    assume {:nonnull} Tmp_2404 != 0;
    assume Tmp_2404 > 0;
    goto anon185_Then, anon185_Else;

  anon185_Else:
    assume {:partition} Mem_T.INT4[Tmp_2404 + Tmp_2410 * 4] == 0;
    LfnSize := LfnIndex;
    CheckTail := 1;
    goto L137;

  anon185_Then:
    assume {:partition} Mem_T.INT4[Tmp_2404 + Tmp_2410 * 4] != 0;
    goto L137;

  anon147_Then:
    assume {:partition} LfnIndex == Ordinal * 13;
    goto L133;

  anon183_Then:
    assume {:partition} Ordinal == 0;
    call {:si_unique_call 4234} FatPopUpFileCorrupt#0(IrpContext_153, ParentDirectory);
    assume {:nonnull} IrpContext_153 != 0;
    assume IrpContext_153 > 0;
    call {:si_unique_call 4235} ExRaiseStatus(-1073741566);
    goto L112;

  anon146_Then:
    goto L67;

  anon182_Then:
    assume {:partition} Tmp_2390 > 20;
    goto L67;

  anon145_Then:
    goto L67;

  anon139_Then:
    assume {:partition} LfnInProgress != 0;
    goto L67;

  anon140_Then:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    LfnIndex := LfnIndex - 13;
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2412;
    Tmp_2409 := LfnIndex + 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2391;
    call {:si_unique_call 4236} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2405;
    Tmp_2451 := LfnIndex + 5;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2414;
    call {:si_unique_call 4237} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Tmp_2428;
    Tmp_2413 := LfnIndex + 11;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc Tmp_2396;
    call {:si_unique_call 4238} sdv_RtlCopyMemory(0, 0, 4);
    assume {:nonnull} Lfn_11 != 0;
    assume Lfn_11 > 0;
    havoc Ordinal;
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    LfnByteOffset_4 := Mem_T.INT4[ByteOffset_3];
    goto L75;

  anon144_Then:
    goto L78;

  anon143_Then:
    goto L78;

  anon142_Then:
    goto L78;

  anon141_Then:
    goto L78;

  anon181_Then:
    assume {:partition} LfnInProgress == 0;
    goto L75;

  anon180_Then:
    goto L69;

  L69:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2394;
    assume {:nonnull} Tmp_2394 != 0;
    assume Tmp_2394 > 0;
    goto anon186_Then, anon186_Else;

  anon186_Else:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon152_Then, anon152_Else;

  anon152_Else:
    goto L67;

  anon152_Then:
    goto L38;

  anon186_Then:
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:partition} LfnInProgress != 0;
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:partition} Mem_T.INT4[ByteOffset_3] == LfnByteOffset_4 + 32;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} LfnIndex == 0;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc vslice_dummy_var_492;
    call {:si_unique_call 4239} sdv_1441 := FatComputeLfnChecksum(vslice_dummy_var_492);
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} sdv_1441 == LfnChecksum;
    FoundValidLfn := 1;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    goto L164;

  L164:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon157_Then, anon157_Else;

  anon157_Else:
    goto L168;

  L168:
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} FoundValidLfn != 0;
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon161_Then, anon161_Else;

  anon161_Else:
    goto L172;

  L172:
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    havoc vslice_dummy_var_493;
    call {:si_unique_call 4240} FatEnsureStringBufferEnough(UpcasedLfn, vslice_dummy_var_493);
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    call {:si_unique_call 4241} boogieTmp := RtlUpcaseUnicodeString(0, 0, 0);
    Mem_T.INT4[Status_57] := boogieTmp;
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:partition} Mem_T.INT4[Status_57] >= 0;
    goto L181;

  L181:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon164_Then, anon164_Else;

  anon164_Else:
    call {:si_unique_call 4242} sdv_1444 := FsRtlIsNameInExpression(0, 0, 1, 0);
    goto anon165_Then, anon165_Else;

  anon165_Else:
    assume {:partition} sdv_1444 == 0;
    goto L169;

  L169:
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} FoundValidLfn != 0;
    FoundValidLfn := 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    goto L67;

  anon160_Then:
    assume {:partition} FoundValidLfn == 0;
    goto L67;

  anon165_Then:
    assume {:partition} sdv_1444 != 0;
    goto L38;

  anon164_Then:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2421;
    goto anon187_Then, anon187_Else;

  anon187_Else:
    assume {:partition} Tmp_2421 == 0;
    Tmp_2418 := 0;
    goto L387;

  L387:
    call {:si_unique_call 4243} sdv_1446 := FsRtlAreNamesEqual(0, 0, Tmp_2418, 0);
    goto anon166_Then, anon166_Else;

  anon166_Else:
    assume {:partition} sdv_1446 == 0;
    goto L169;

  anon166_Then:
    assume {:partition} sdv_1446 != 0;
    goto L38;

  anon187_Then:
    assume {:partition} Tmp_2421 != 0;
    Tmp_2418 := 1;
    goto L387;

  anon163_Then:
    assume {:partition} 0 > Mem_T.INT4[Status_57];
    assume {:nonnull} IrpContext_153 != 0;
    assume IrpContext_153 > 0;
    assume {:nonnull} Status_57 != 0;
    assume Status_57 > 0;
    call {:si_unique_call 4244} sdv_1445 := corral_nondet();
    call {:si_unique_call 4245} ExRaiseStatus(sdv_1445);
    goto L181;

  anon161_Then:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon162_Then, anon162_Else;

  anon162_Else:
    FoundValidLfn := 0;
    assume {:nonnull} LongFileName != 0;
    assume LongFileName > 0;
    goto L67;

  anon162_Then:
    goto L172;

  anon159_Then:
    assume {:partition} FoundValidLfn == 0;
    goto L169;

  anon157_Then:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc vslice_dummy_var_494;
    call {:si_unique_call 4246} Fat8dot3ToString(IrpContext_153, vslice_dummy_var_494, 0, Name_3);
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    goto anon169_Then, anon169_Else;

  anon169_Else:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:nonnull} Name_3 != 0;
    assume Name_3 > 0;
    goto L210;

  L210:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc vslice_dummy_var_495;
    call {:si_unique_call 4247} sdv_1442 := FatIsNameInExpression(IrpContext_153, vslice_dummy_var_495, Name_3);
    goto anon171_Then, anon171_Else;

  anon171_Else:
    assume {:partition} sdv_1442 != 0;
    goto anon172_Then, anon172_Else;

  anon172_Else:
    assume {:partition} FileNameDos != 0;
    assume {:nonnull} FileNameDos != 0;
    assume FileNameDos > 0;
    Mem_T.INT4[FileNameDos] := 1;
    goto L38;

  anon172_Then:
    assume {:partition} FileNameDos == 0;
    goto L38;

  anon171_Then:
    assume {:partition} sdv_1442 == 0;
    goto L168;

  anon170_Then:
    goto L210;

  anon169_Then:
    goto L210;

  anon168_Then:
    goto L210;

  anon167_Then:
    goto L210;

  anon158_Then:
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2427;
    assume {:nonnull} Tmp_2427 != 0;
    assume Tmp_2427 > 0;
    goto anon188_Then, anon188_Else;

  anon188_Else:
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2432;
    Tmp_2403 := Tmp_2432;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2445;
    assume {:nonnull} Tmp_2445 != 0;
    assume Tmp_2445 > 0;
    havoc Tmp_2448;
    Tmp_2402 := Tmp_2448;
    assume {:nonnull} Tmp_2402 != 0;
    assume Tmp_2402 > 0;
    assume {:nonnull} Tmp_2403 != 0;
    assume Tmp_2403 > 0;
    goto anon189_Then, anon189_Else;

  anon189_Else:
    assume {:partition} Mem_T.INT4[Tmp_2403] == Mem_T.INT4[Tmp_2402];
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2438;
    Tmp_2387 := Tmp_2438 + 4 * 4;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2406;
    assume {:nonnull} Tmp_2406 != 0;
    assume Tmp_2406 > 0;
    havoc Tmp_2415;
    Tmp_2426 := Tmp_2415 + 4 * 4;
    assume {:nonnull} Tmp_2387 != 0;
    assume Tmp_2387 > 0;
    assume {:nonnull} Tmp_2426 != 0;
    assume Tmp_2426 > 0;
    goto anon190_Then, anon190_Else;

  anon190_Else:
    assume {:partition} Mem_T.INT4[Tmp_2387] == Mem_T.INT4[Tmp_2426];
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2420;
    Tmp_2431 := Tmp_2420 + 8 * 4;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2443;
    assume {:nonnull} Tmp_2443 != 0;
    assume Tmp_2443 > 0;
    havoc Tmp_2395;
    Tmp_2399 := Tmp_2395 + 8 * 4;
    assume {:nonnull} Tmp_2399 != 0;
    assume Tmp_2399 > 0;
    assume {:nonnull} Tmp_2431 != 0;
    assume Tmp_2431 > 0;
    goto anon191_Then, anon191_Else;

  anon191_Else:
    assume {:partition} Mem_T.INT4[Tmp_2431] == Mem_T.INT4[Tmp_2399];
    assume {:nonnull} Ccb_32 != 0;
    assume Ccb_32 > 0;
    havoc Tmp_2389;
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    havoc Tmp_2452;
    assume {:nonnull} Tmp_2452 != 0;
    assume Tmp_2452 > 0;
    havoc Tmp_2424;
    assume {:nonnull} Tmp_2389 != 0;
    assume Tmp_2389 > 0;
    assume {:nonnull} Tmp_2424 != 0;
    assume Tmp_2424 > 0;
    goto anon192_Then, anon192_Else;

  anon192_Else:
    assume {:partition} Mem_T.INT4[Tmp_2389 + 10 * 4] == Mem_T.INT4[Tmp_2424 + 10 * 4];
    goto anon173_Then, anon173_Else;

  anon173_Else:
    assume {:partition} FileNameDos != 0;
    assume {:nonnull} FileNameDos != 0;
    assume FileNameDos > 0;
    Mem_T.INT4[FileNameDos] := 1;
    goto L38;

  anon173_Then:
    assume {:partition} FileNameDos == 0;
    goto L38;

  anon192_Then:
    assume {:partition} Mem_T.INT4[Tmp_2389 + 10 * 4] != Mem_T.INT4[Tmp_2424 + 10 * 4];
    goto L168;

  anon191_Then:
    assume {:partition} Mem_T.INT4[Tmp_2431] != Mem_T.INT4[Tmp_2399];
    goto L168;

  anon190_Then:
    assume {:partition} Mem_T.INT4[Tmp_2387] != Mem_T.INT4[Tmp_2426];
    goto L168;

  anon189_Then:
    assume {:partition} Mem_T.INT4[Tmp_2403] != Mem_T.INT4[Tmp_2402];
    goto L168;

  anon188_Then:
    goto L168;

  anon156_Then:
    goto L38;

  anon155_Then:
    assume {:partition} sdv_1441 != LfnChecksum;
    goto L155;

  L155:
    FoundValidLfn := 0;
    goto L164;

  anon154_Then:
    assume {:partition} LfnIndex != 0;
    goto L155;

  anon153_Then:
    assume {:partition} Mem_T.INT4[ByteOffset_3] != LfnByteOffset_4 + 32;
    goto L155;

  anon151_Then:
    assume {:partition} LfnInProgress == 0;
    goto L155;

  anon138_Then:
    assume {:partition} LongFileName == 0;
    goto L69;

  anon137_Then:
    goto L69;

  anon178_Then:
    assume {:partition} Mem_T.INT4[Tmp_2439] == 0;
    goto L55;

  anon177_Then:
    goto L46;

  anon133_Then:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} INTMOD(Mem_T.INT4[ByteOffset_3], 4096) != 0;
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon175_Then, anon175_Else;

  anon175_Else:
    goto L228;

  L228:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto L230;

  L230:
    assume {:nonnull} ByteOffset_3 != 0;
    assume ByteOffset_3 > 0;
    Tmp_2447 := BAND(Mem_T.INT4[ByteOffset_3], BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 4248} FatReadDirectoryFile#1(IrpContext_153, ParentDirectory, Tmp_2447, 4096, 0, Bcb_17, Dirent_29, Status_57);
    assume {:nonnull} Dirent_29 != 0;
    assume Dirent_29 > 0;
    goto L46;

  anon174_Then:
    goto L230;

  anon175_Then:
    goto L46;

  anon134_Then:
    assume {:partition} INTMOD(Mem_T.INT4[ByteOffset_3], 4096) == 0;
    goto L228;

  anon132_Then:
    assume {:partition} FileNameDos == 0;
    goto L35;

  anon129_Then:
    assume {:partition} LongFileName == 0;
    goto L33;

  anon130_Then:
    assume {:partition} INTDIV(OffsetToStartSearchFrom, 4096) != INTDIV(Mem_T.INT4[ByteOffset_3], 4096);
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:nonnull} Bcb_17 != 0;
    assume Bcb_17 > 0;
    goto L25;

  anon131_Then:
    goto L25;

  anon176_Then:
    goto L25;
}



procedure {:origName "FatLocateDirent"} FatLocateDirent#1(actual_IrpContext_153: int, actual_ParentDirectory: int, actual_Ccb_32: int, actual_OffsetToStartSearchFrom: int, actual_Dirent_29: int, actual_Bcb_17: int, actual_ByteOffset_3: int, actual_FileNameDos: int, actual_LongFileName: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatReadDirectoryFile"} FatReadDirectoryFile#0(actual_IrpContext_69: int, actual_Dcb_7: int, actual_StartingVbo_1: int, actual_ByteCount_7: int, actual_Pin: int, actual_Bcb_7: int, actual_Buffer_18: int, actual_Status_19: int)
{
  var {:scalar} Vbo_3: int;
  var {:scalar} sdv_888: int;
  var {:scalar} Tmp_1491: int;
  var {:scalar} Tmp_1492: int;
  var {:scalar} sdv_889: int;
  var {:scalar} Tmp_1493: int;
  var {:scalar} Tmp_1494: int;
  var {:pointer} IrpContext_69: int;
  var {:pointer} Dcb_7: int;
  var {:scalar} StartingVbo_1: int;
  var {:scalar} ByteCount_7: int;
  var {:scalar} Pin: int;
  var {:pointer} Bcb_7: int;
  var {:pointer} Buffer_18: int;
  var {:pointer} Status_19: int;
  var vslice_dummy_var_616: int;

  anon0:
    call {:si_unique_call 4249} Vbo_3 := __HAVOC_malloc(20);
    call {:si_unique_call 4250} vslice_dummy_var_616 := __HAVOC_malloc(4);
    IrpContext_69 := actual_IrpContext_69;
    Dcb_7 := actual_Dcb_7;
    StartingVbo_1 := actual_StartingVbo_1;
    ByteCount_7 := actual_ByteCount_7;
    Pin := actual_Pin;
    Bcb_7 := actual_Bcb_7;
    Buffer_18 := actual_Buffer_18;
    Status_19 := actual_Status_19;
    call {:si_unique_call 4251} sdv_do_paged_code_check();
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} ByteCount_7 != 0;
    assume false;
    assume {:nonnull} Dcb_7 != 0;
    assume Dcb_7 > 0;
    return;

  anon19_Then:
    assume {:partition} ByteCount_7 == 0;
    assume {:nonnull} Bcb_7 != 0;
    assume Bcb_7 > 0;
    assume {:nonnull} Buffer_18 != 0;
    assume Buffer_18 > 0;
    assume {:nonnull} Status_19 != 0;
    assume Status_19 > 0;
    Mem_T.INT4[Status_19] := 0;
    goto L1;

  L1:
    return;
}



procedure {:origName "FatReadDirectoryFile"} FatReadDirectoryFile#0(actual_IrpContext_69: int, actual_Dcb_7: int, actual_StartingVbo_1: int, actual_ByteCount_7: int, actual_Pin: int, actual_Bcb_7: int, actual_Buffer_18: int, actual_Status_19: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatReadDirectoryFile"} FatReadDirectoryFile#1(actual_IrpContext_69: int, actual_Dcb_7: int, actual_StartingVbo_1: int, actual_ByteCount_7: int, actual_Pin: int, actual_Bcb_7: int, actual_Buffer_18: int, actual_Status_19: int)
{
  var {:scalar} Vbo_3: int;
  var {:scalar} sdv_888: int;
  var {:scalar} Tmp_1491: int;
  var {:scalar} Tmp_1492: int;
  var {:scalar} sdv_889: int;
  var {:scalar} Tmp_1493: int;
  var {:scalar} Tmp_1494: int;
  var {:pointer} IrpContext_69: int;
  var {:pointer} Dcb_7: int;
  var {:scalar} StartingVbo_1: int;
  var {:scalar} ByteCount_7: int;
  var {:scalar} Pin: int;
  var {:pointer} Bcb_7: int;
  var {:pointer} Buffer_18: int;
  var {:pointer} Status_19: int;
  var vslice_dummy_var_617: int;

  anon0:
    call {:si_unique_call 4252} Vbo_3 := __HAVOC_malloc(20);
    call {:si_unique_call 4253} vslice_dummy_var_617 := __HAVOC_malloc(4);
    IrpContext_69 := actual_IrpContext_69;
    Dcb_7 := actual_Dcb_7;
    StartingVbo_1 := actual_StartingVbo_1;
    ByteCount_7 := actual_ByteCount_7;
    Pin := actual_Pin;
    Bcb_7 := actual_Bcb_7;
    Buffer_18 := actual_Buffer_18;
    Status_19 := actual_Status_19;
    call {:si_unique_call 4254} sdv_do_paged_code_check();
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} ByteCount_7 != 0;
    call {:si_unique_call 4255} FatOpenDirectoryFile#0(IrpContext_69, Dcb_7);
    assume {:nonnull} Dcb_7 != 0;
    assume Dcb_7 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:nonnull} Bcb_7 != 0;
    assume Bcb_7 > 0;
    assume {:nonnull} Buffer_18 != 0;
    assume Buffer_18 > 0;
    assume {:nonnull} Status_19 != 0;
    assume Status_19 > 0;
    Mem_T.INT4[Status_19] := -1073741807;
    goto L1;

  L1:
    return;

  anon20_Then:
    assume {:nonnull} Dcb_7 != 0;
    assume Dcb_7 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:nonnull} Dcb_7 != 0;
    assume Dcb_7 > 0;
    havoc Tmp_1492;
    goto L20;

  L20:
    ByteCount_7 := Tmp_1492;
    assume {:nonnull} Vbo_3 != 0;
    assume Vbo_3 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} Pin != 0;
    assume {:nonnull} IrpContext_69 != 0;
    assume IrpContext_69 > 0;
    havoc Tmp_1491;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} Tmp_1491 == 0;
    goto L58;

  L58:
    call {:si_unique_call 4256} sdv_888 := corral_nondet();
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} sdv_888 != 0;
    Tmp_1494 := 0;
    goto L61;

  L61:
    goto L30;

  L30:
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Tmp_1494 != 0;
    assume {:nonnull} Bcb_7 != 0;
    assume Bcb_7 > 0;
    assume {:nonnull} Buffer_18 != 0;
    assume Buffer_18 > 0;
    assume {:nonnull} IrpContext_69 != 0;
    assume IrpContext_69 > 0;
    call {:si_unique_call 4257} ExRaiseStatus(-1073741608);
    goto L31;

  L31:
    assume {:nonnull} Status_19 != 0;
    assume Status_19 > 0;
    Mem_T.INT4[Status_19] := 0;
    goto L1;

  anon23_Then:
    assume {:partition} Tmp_1494 == 0;
    goto L31;

  anon22_Then:
    assume {:partition} sdv_888 == 0;
    Tmp_1494 := 1;
    goto L61;

  anon26_Then:
    assume {:partition} Tmp_1491 != 0;
    goto L58;

  anon25_Then:
    assume {:partition} Pin == 0;
    assume {:nonnull} IrpContext_69 != 0;
    assume IrpContext_69 > 0;
    havoc Tmp_1493;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Tmp_1493 == 0;
    goto L69;

  L69:
    call {:si_unique_call 4258} sdv_889 := corral_nondet();
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} sdv_889 != 0;
    Tmp_1494 := 0;
    goto L72;

  L72:
    goto L30;

  anon24_Then:
    assume {:partition} sdv_889 == 0;
    Tmp_1494 := 1;
    goto L72;

  anon27_Then:
    assume {:partition} Tmp_1493 != 0;
    goto L69;

  anon21_Then:
    Tmp_1492 := ByteCount_7;
    goto L20;

  anon19_Then:
    assume {:partition} ByteCount_7 == 0;
    assume {:nonnull} Bcb_7 != 0;
    assume Bcb_7 > 0;
    assume {:nonnull} Buffer_18 != 0;
    assume Buffer_18 > 0;
    assume {:nonnull} Status_19 != 0;
    assume Status_19 > 0;
    Mem_T.INT4[Status_19] := 0;
    goto L1;
}



procedure {:origName "FatReadDirectoryFile"} FatReadDirectoryFile#1(actual_IrpContext_69: int, actual_Dcb_7: int, actual_StartingVbo_1: int, actual_ByteCount_7: int, actual_Pin: int, actual_Bcb_7: int, actual_Buffer_18: int, actual_Status_19: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetEaFile"} FatGetEaFile#0(actual_IrpContext_181: int, actual_Vcb_100: int, actual_EaDirent_2: int, actual_EaBcb_2: int, actual_CreateFile: int, actual_ExclusiveFcb: int)
{
  var {:pointer} Tmp_2681: int;
  var {:pointer} Tmp_2682: int;
  var {:pointer} EaStreamFile: int;
  var {:scalar} sdv_1585: int;
  var {:pointer} Tmp_2683: int;
  var {:pointer} Tmp_2684: int;
  var {:pointer} Tmp_2685: int;
  var {:pointer} Tmp_2686: int;
  var {:dopa} {:scalar} FirstLboOfFile_1: int;
  var {:pointer} CurrentIndex_2: int;
  var {:pointer} Tmp_2689: int;
  var {:pointer} Tmp_2690: int;
  var {:scalar} sdv_1586: int;
  var {:dopa} {:scalar} Status_74: int;
  var {:pointer} Tmp_2692: int;
  var {:scalar} EaFileRange: int;
  var {:pointer} Tmp_2694: int;
  var {:scalar} UnwindEaDirentCreated: int;
  var {:scalar} UnwindUpdatedSizes: int;
  var {:scalar} AllocatedClusters: int;
  var {:pointer} Tmp_2695: int;
  var {:scalar} UnwindLockedRootDcb: int;
  var {:pointer} Tmp_2696: int;
  var {:scalar} sdv_1590: int;
  var {:dopa} {:scalar} ByteOffset_8: int;
  var {:pointer} Tmp_2698: int;
  var {:scalar} sdv_1594: int;
  var {:pointer} Tmp_2699: int;
  var {:scalar} EaFileName: int;
  var {:scalar} sdv_1595: int;
  var {:pointer} Tmp_2700: int;
  var {:pointer} Tmp_2701: int;
  var {:pointer} Tmp_2702: int;
  var {:pointer} Tmp_2703: int;
  var {:pointer} FileHeader: int;
  var {:pointer} Tmp_2704: int;
  var {:pointer} Tmp_2705: int;
  var {:scalar} SectionSize: int;
  var {:pointer} Tmp_2706: int;
  var {:scalar} UnwindAllocatedDiskSpace: int;
  var {:dopa} {:scalar} AllocationSize_7: int;
  var {:pointer} Tmp_2707: int;
  var {:scalar} Index_7: int;
  var {:pointer} Tmp_2709: int;
  var {:scalar} UnwindLockedEaFcb: int;
  var {:scalar} BytesPerCluster_5: int;
  var {:pointer} Tmp_2710: int;
  var {:pointer} Tmp_2711: int;
  var {:scalar} sdv_1597: int;
  var {:pointer} Tmp_2712: int;
  var {:pointer} IrpContext_181: int;
  var {:pointer} Vcb_100: int;
  var {:pointer} EaDirent_2: int;
  var {:pointer} EaBcb_2: int;
  var {:scalar} CreateFile: int;
  var {:scalar} ExclusiveFcb: int;
  var boogieTmp: int;
  var vslice_dummy_var_618: int;
  var vslice_dummy_var_619: int;
  var vslice_dummy_var_620: int;
  var vslice_dummy_var_621: int;
  var vslice_dummy_var_622: int;
  var vslice_dummy_var_496: int;
  var vslice_dummy_var_497: int;
  var vslice_dummy_var_498: int;
  var vslice_dummy_var_499: int;
  var vslice_dummy_var_500: int;
  var vslice_dummy_var_501: int;
  var vslice_dummy_var_502: int;
  var vslice_dummy_var_503: int;
  var vslice_dummy_var_504: int;
  var vslice_dummy_var_505: int;
  var vslice_dummy_var_506: int;
  var vslice_dummy_var_507: int;
  var vslice_dummy_var_508: int;
  var vslice_dummy_var_509: int;
  var vslice_dummy_var_510: int;
  var vslice_dummy_var_511: int;
  var vslice_dummy_var_512: int;

  anon0:
    call {:si_unique_call 4259} FirstLboOfFile_1 := __HAVOC_malloc(4);
    call {:si_unique_call 4260} vslice_dummy_var_618 := __HAVOC_malloc(4);
    call {:si_unique_call 4261} Status_74 := __HAVOC_malloc(4);
    call {:si_unique_call 4262} EaFileRange := __HAVOC_malloc(28);
    call {:si_unique_call 4263} ByteOffset_8 := __HAVOC_malloc(4);
    call {:si_unique_call 4264} EaFileName := __HAVOC_malloc(12);
    call {:si_unique_call 4265} SectionSize := __HAVOC_malloc(20);
    call {:si_unique_call 4266} AllocationSize_7 := __HAVOC_malloc(4);
    IrpContext_181 := actual_IrpContext_181;
    Vcb_100 := actual_Vcb_100;
    EaDirent_2 := actual_EaDirent_2;
    EaBcb_2 := actual_EaBcb_2;
    CreateFile := actual_CreateFile;
    ExclusiveFcb := actual_ExclusiveFcb;
    EaStreamFile := 0;
    UnwindLockedEaFcb := 0;
    UnwindLockedRootDcb := 0;
    UnwindAllocatedDiskSpace := 0;
    UnwindEaDirentCreated := 0;
    UnwindUpdatedSizes := 0;
    call {:si_unique_call 4267} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} ExclusiveFcb != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_496;
    call {:si_unique_call 4268} sdv_1590 := FatAcquireExclusiveFcb(IrpContext_181, vslice_dummy_var_496);
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} yogi_error != 1;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} sdv_1590 == 0;
    goto L66;

  L66:
    assume {:nonnull} IrpContext_181 != 0;
    assume IrpContext_181 > 0;
    call {:si_unique_call 4269} ExRaiseStatus(-1073741608);
    goto L70;

  L70:
    UnwindLockedEaFcb := 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    goto L73;

  L73:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2690;
    assume {:nonnull} Tmp_2690 != 0;
    assume Tmp_2690 > 0;
    assume {:nonnull} EaFileName != 0;
    assume EaFileName > 0;
    assume {:nonnull} EaFileName != 0;
    assume EaFileName > 0;
    assume {:nonnull} EaFileName != 0;
    assume EaFileName > 0;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} CreateFile != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4270} vslice_dummy_var_620 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:partition} yogi_error != 1;
    goto L129;

  L129:
    UnwindLockedRootDcb := 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2702;
    assume {:nonnull} Tmp_2702 != 0;
    assume Tmp_2702 > 0;
    havoc vslice_dummy_var_497;
    call {:si_unique_call 4271} FatLocateSimpleOemDirent(IrpContext_181, vslice_dummy_var_497, EaFileName, EaDirent_2, EaBcb_2, ByteOffset_8);
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2682;
    assume {:nonnull} ByteOffset_8 != 0;
    assume ByteOffset_8 > 0;
    assume {:nonnull} Tmp_2682 != 0;
    assume Tmp_2682 > 0;
    havoc vslice_dummy_var_498;
    call {:si_unique_call 4272} FatPinMappedData(IrpContext_181, vslice_dummy_var_498, Mem_T.INT4[ByteOffset_8], 32, EaBcb_2);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2695;
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2711;
    assume {:nonnull} Tmp_2695 != 0;
    assume Tmp_2695 > 0;
    assume {:nonnull} Tmp_2711 != 0;
    assume Tmp_2711 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2707;
    assume {:nonnull} ByteOffset_8 != 0;
    assume ByteOffset_8 > 0;
    assume {:nonnull} Tmp_2707 != 0;
    assume Tmp_2707 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2704;
    assume {:nonnull} Tmp_2704 != 0;
    assume Tmp_2704 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_499;
    call {:si_unique_call 4273} FatLookupFileAllocationSize#1(IrpContext_181, vslice_dummy_var_499);
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2698;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2698 != 0;
    assume Tmp_2698 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2686;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2700;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_500;
    call {:si_unique_call 4274} EaStreamFile := FatOpenEaFile(IrpContext_181, vslice_dummy_var_500);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto L82;

  L82:
    call {:si_unique_call 4275} sdv_1594 := sdv_AbnormalTermination();
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} sdv_1594 != 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} UnwindAllocatedDiskSpace != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2701;
    assume {:nonnull} Tmp_2701 != 0;
    assume Tmp_2701 > 0;
    call {:si_unique_call 4276} FatDeallocateDiskSpace(IrpContext_181, Vcb_100, Mcb__FCB(Tmp_2701));
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} yogi_error != 1;
    goto L88;

  L88:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} UnwindEaDirentCreated != 0;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} UnwindUpdatedSizes != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2681;
    assume {:nonnull} Tmp_2681 != 0;
    assume Tmp_2681 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2696;
    assume {:nonnull} Tmp_2696 != 0;
    assume Tmp_2696 > 0;
    goto L94;

  L94:
    assume {:nonnull} EaBcb_2 != 0;
    assume EaBcb_2 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:nonnull} EaBcb_2 != 0;
    assume EaBcb_2 > 0;
    goto L97;

  L97:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_501;
    call {:si_unique_call 4277} FatDeleteDirent#0(IrpContext_181, vslice_dummy_var_501, 0, 1);
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} yogi_error != 1;
    goto L92;

  L92:
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} UnwindLockedEaFcb != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4278} ExReleaseResourceLite(0);
    goto L104;

  L104:
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} EaStreamFile != 0;
    call {:si_unique_call 4279} vslice_dummy_var_619 := sdv_ObDereferenceObject(0);
    goto L86;

  L86:
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} UnwindLockedRootDcb != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4280} ExReleaseResourceLite(0);
    goto L111;

  L111:
    call {:si_unique_call 4281} FatUnpinEaRange(IrpContext_181, EaFileRange);
    goto LM2;

  LM2:
    return;

  anon76_Then:
    assume {:partition} UnwindLockedRootDcb == 0;
    goto L111;

  anon82_Then:
    assume {:partition} EaStreamFile == 0;
    goto L86;

  anon79_Then:
    assume {:partition} UnwindLockedEaFcb == 0;
    goto L104;

  anon93_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon81_Then:
    goto L97;

  anon80_Then:
    assume {:partition} UnwindUpdatedSizes == 0;
    goto L94;

  anon78_Then:
    assume {:partition} UnwindEaDirentCreated == 0;
    goto L92;

  anon92_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon77_Then:
    assume {:partition} UnwindAllocatedDiskSpace == 0;
    goto L88;

  anon75_Then:
    assume {:partition} sdv_1594 == 0;
    goto L86;

  anon83_Then:
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} CreateFile != 0;
    call {:si_unique_call 4282} BytesPerCluster_5 := corral_nondet();
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    Mem_T.INT4[AllocationSize_7] := BAND(1024 + BytesPerCluster_5 - 1, BNOT(BytesPerCluster_5 - 1));
    call {:si_unique_call 4283} AllocatedClusters := corral_nondet();
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2703;
    assume {:nonnull} Tmp_2703 != 0;
    assume Tmp_2703 > 0;
    call {:si_unique_call 4284} FatAllocateDiskSpace(IrpContext_181, Vcb_100, 0, AllocationSize_7, 0, Mcb__FCB(Tmp_2703));
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:partition} yogi_error != 1;
    UnwindAllocatedDiskSpace := 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2705;
    assume {:nonnull} Tmp_2705 != 0;
    assume Tmp_2705 > 0;
    havoc vslice_dummy_var_502;
    call {:si_unique_call 4285} sdv_1597 := FatCreateNewDirent(IrpContext_181, vslice_dummy_var_502, 1);
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2712;
    assume {:nonnull} Tmp_2712 != 0;
    assume Tmp_2712 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2685;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2699;
    assume {:nonnull} Tmp_2685 != 0;
    assume Tmp_2685 > 0;
    assume {:nonnull} Tmp_2699 != 0;
    assume Tmp_2699 > 0;
    havoc vslice_dummy_var_503;
    havoc vslice_dummy_var_504;
    call {:si_unique_call 4286} FatPrepareWriteDirectoryFile(IrpContext_181, vslice_dummy_var_503, vslice_dummy_var_504, 32, EaBcb_2, EaDirent_2, 0, 1, Status_74);
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:partition} yogi_error != 1;
    UnwindEaDirentCreated := 1;
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc vslice_dummy_var_505;
    call {:si_unique_call 4287} FatConstructDirent(IrpContext_181, vslice_dummy_var_505, EaFileName, 0, 0, 0, 39, 1, 0);
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2692;
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    assume {:nonnull} Tmp_2692 != 0;
    assume Tmp_2692 > 0;
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2689;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2689 != 0;
    assume Tmp_2689 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2683;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2706;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    UnwindUpdatedSizes := 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_506;
    call {:si_unique_call 4288} EaStreamFile := FatOpenEaFile(IrpContext_181, vslice_dummy_var_506);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2694;
    assume {:nonnull} Tmp_2694 != 0;
    assume Tmp_2694 > 0;
    call {:si_unique_call 4289} vslice_dummy_var_621 := FatLookupMcbEntry(Vcb_100, Mcb__FCB(Tmp_2694), 0, FirstLboOfFile_1, 0, 0);
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2684;
    assume {:nonnull} Tmp_2684 != 0;
    assume Tmp_2684 > 0;
    call {:si_unique_call 4290} boogieTmp := corral_nondet();
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2709;
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2710;
    assume {:nonnull} Tmp_2709 != 0;
    assume Tmp_2709 > 0;
    assume {:nonnull} Tmp_2710 != 0;
    assume Tmp_2710 > 0;
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_507;
    call {:si_unique_call 4291} FatPinEaRange(IrpContext_181, EaStreamFile, vslice_dummy_var_507, EaFileRange, 0, Mem_T.INT4[AllocationSize_7], -1073741762);
    assume {:nonnull} EaFileRange != 0;
    assume EaFileRange > 0;
    havoc FileHeader;
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    call {:si_unique_call 4292} sdv_RtlZeroMemory(0, Mem_T.INT4[AllocationSize_7]);
    assume {:nonnull} FileHeader != 0;
    assume FileHeader > 0;
    Index_7 := 240;
    assume {:nonnull} FileHeader != 0;
    assume FileHeader > 0;
    havoc CurrentIndex_2;
    goto L204;

  L204:
    call {:si_unique_call 4293} Index_7 := FatGetEaFile#0_loop_L204(CurrentIndex_2, AllocatedClusters, Index_7);
    goto L204_last;

  L204_last:
    assume {:CounterLoop 240} {:Counter "Index_7"} true;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} Index_7 != 0;
    assume {:nonnull} CurrentIndex_2 != 0;
    assume CurrentIndex_2 > 0;
    Mem_T.INT4[CurrentIndex_2] := AllocatedClusters;
    Index_7 := Index_7 - 1;
    goto anon85_Else_dummy;

  anon85_Else_dummy:
    assume false;
    return;

  anon85_Then:
    assume {:partition} Index_7 == 0;
    call {:si_unique_call 4294} Index_7 := corral_nondet();
    CurrentIndex_2 := FileHeader;
    goto L210;

  L210:
    call {:si_unique_call 4295} Index_7 := FatGetEaFile#0_loop_L210(CurrentIndex_2, Index_7);
    goto L210_last;

  L210_last:
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:partition} Index_7 != 0;
    assume {:nonnull} CurrentIndex_2 != 0;
    assume CurrentIndex_2 > 0;
    Mem_T.INT4[CurrentIndex_2] := 65535;
    Index_7 := Index_7 - 1;
    goto anon86_Else_dummy;

  anon86_Else_dummy:
    assume false;
    return;

  anon86_Then:
    assume {:partition} Index_7 == 0;
    call {:si_unique_call 4296} FatMarkEaRangeDirty(IrpContext_181, EaStreamFile, EaFileRange);
    call {:si_unique_call 4297} FatUnpinEaRange(IrpContext_181, EaFileRange);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto L82;

  anon98_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon97_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon96_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon84_Then:
    assume {:partition} CreateFile == 0;
    goto L82;

  anon95_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon94_Then:
    assume {:partition} CreateFile == 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4298} vslice_dummy_var_622 := ExAcquireResourceSharedLite(0, 1);
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} yogi_error != 1;
    goto L129;

  anon99_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon74_Then:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_508;
    call {:si_unique_call 4299} FatVerifyFcb(IrpContext_181, vslice_dummy_var_508);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_509;
    call {:si_unique_call 4300} FatGetDirentFromFcbOrDcb(IrpContext_181, vslice_dummy_var_509, EaDirent_2, EaBcb_2);
    goto L82;

  anon91_Then:
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} ExclusiveFcb == 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4301} ExReleaseResourceLite(0);
    UnwindLockedEaFcb := 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_510;
    call {:si_unique_call 4302} sdv_1585 := FatAcquireExclusiveFcb(IrpContext_181, vslice_dummy_var_510);
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} yogi_error != 1;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} sdv_1585 != 0;
    goto L233;

  L233:
    UnwindLockedEaFcb := 1;
    goto L73;

  anon87_Then:
    assume {:partition} sdv_1585 == 0;
    assume {:nonnull} IrpContext_181 != 0;
    assume IrpContext_181 > 0;
    call {:si_unique_call 4303} ExRaiseStatus(-1073741608);
    goto L233;

  anon100_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon73_Then:
    assume {:partition} ExclusiveFcb != 0;
    goto L73;

  anon72_Then:
    assume {:partition} sdv_1590 != 0;
    goto L26;

  L26:
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} ExclusiveFcb == 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_511;
    call {:si_unique_call 4304} sdv_1595 := FatAcquireSharedFcb(IrpContext_181, vslice_dummy_var_511);
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} yogi_error != 1;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} sdv_1595 != 0;
    goto L70;

  anon88_Then:
    assume {:partition} sdv_1595 == 0;
    goto L66;

  anon101_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon71_Then:
    assume {:partition} ExclusiveFcb != 0;
    goto L70;

  anon90_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon70_Then:
    assume {:partition} ExclusiveFcb == 0;
    goto L26;

  anon69_Then:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_512;
    call {:si_unique_call 4305} sdv_1586 := FatAcquireExclusiveFcb(IrpContext_181, vslice_dummy_var_512);
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} yogi_error != 1;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} sdv_1586 != 0;
    goto L243;

  L243:
    UnwindLockedEaFcb := 1;
    goto L73;

  anon89_Then:
    assume {:partition} sdv_1586 == 0;
    assume {:nonnull} IrpContext_181 != 0;
    assume IrpContext_181 > 0;
    call {:si_unique_call 4306} ExRaiseStatus(-1073741608);
    goto L243;

  anon102_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatGetEaFile"} FatGetEaFile#0(actual_IrpContext_181: int, actual_Vcb_100: int, actual_EaDirent_2: int, actual_EaBcb_2: int, actual_CreateFile: int, actual_ExclusiveFcb: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatGetEaFile"} FatGetEaFile#1(actual_IrpContext_181: int, actual_Vcb_100: int, actual_EaDirent_2: int, actual_EaBcb_2: int, actual_CreateFile: int, actual_ExclusiveFcb: int)
{
  var {:pointer} Tmp_2681: int;
  var {:pointer} Tmp_2682: int;
  var {:pointer} EaStreamFile: int;
  var {:scalar} sdv_1585: int;
  var {:pointer} Tmp_2683: int;
  var {:pointer} Tmp_2684: int;
  var {:pointer} Tmp_2685: int;
  var {:pointer} Tmp_2686: int;
  var {:dopa} {:scalar} FirstLboOfFile_1: int;
  var {:pointer} CurrentIndex_2: int;
  var {:pointer} Tmp_2689: int;
  var {:pointer} Tmp_2690: int;
  var {:scalar} sdv_1586: int;
  var {:dopa} {:scalar} Status_74: int;
  var {:pointer} Tmp_2692: int;
  var {:scalar} EaFileRange: int;
  var {:pointer} Tmp_2694: int;
  var {:scalar} UnwindEaDirentCreated: int;
  var {:scalar} UnwindUpdatedSizes: int;
  var {:scalar} AllocatedClusters: int;
  var {:pointer} Tmp_2695: int;
  var {:scalar} UnwindLockedRootDcb: int;
  var {:pointer} Tmp_2696: int;
  var {:scalar} sdv_1590: int;
  var {:dopa} {:scalar} ByteOffset_8: int;
  var {:pointer} Tmp_2698: int;
  var {:scalar} sdv_1594: int;
  var {:pointer} Tmp_2699: int;
  var {:scalar} EaFileName: int;
  var {:scalar} sdv_1595: int;
  var {:pointer} Tmp_2700: int;
  var {:pointer} Tmp_2701: int;
  var {:pointer} Tmp_2702: int;
  var {:pointer} Tmp_2703: int;
  var {:pointer} FileHeader: int;
  var {:pointer} Tmp_2704: int;
  var {:pointer} Tmp_2705: int;
  var {:scalar} SectionSize: int;
  var {:pointer} Tmp_2706: int;
  var {:scalar} UnwindAllocatedDiskSpace: int;
  var {:dopa} {:scalar} AllocationSize_7: int;
  var {:pointer} Tmp_2707: int;
  var {:scalar} Index_7: int;
  var {:pointer} Tmp_2709: int;
  var {:scalar} UnwindLockedEaFcb: int;
  var {:scalar} BytesPerCluster_5: int;
  var {:pointer} Tmp_2710: int;
  var {:pointer} Tmp_2711: int;
  var {:scalar} sdv_1597: int;
  var {:pointer} Tmp_2712: int;
  var {:pointer} IrpContext_181: int;
  var {:pointer} Vcb_100: int;
  var {:pointer} EaDirent_2: int;
  var {:pointer} EaBcb_2: int;
  var {:scalar} CreateFile: int;
  var {:scalar} ExclusiveFcb: int;
  var boogieTmp: int;
  var vslice_dummy_var_623: int;
  var vslice_dummy_var_624: int;
  var vslice_dummy_var_625: int;
  var vslice_dummy_var_626: int;
  var vslice_dummy_var_627: int;
  var vslice_dummy_var_513: int;
  var vslice_dummy_var_514: int;
  var vslice_dummy_var_515: int;
  var vslice_dummy_var_516: int;
  var vslice_dummy_var_517: int;
  var vslice_dummy_var_518: int;
  var vslice_dummy_var_519: int;
  var vslice_dummy_var_520: int;
  var vslice_dummy_var_521: int;
  var vslice_dummy_var_522: int;
  var vslice_dummy_var_523: int;
  var vslice_dummy_var_524: int;
  var vslice_dummy_var_525: int;
  var vslice_dummy_var_526: int;
  var vslice_dummy_var_527: int;
  var vslice_dummy_var_528: int;
  var vslice_dummy_var_529: int;

  anon0:
    call {:si_unique_call 4307} FirstLboOfFile_1 := __HAVOC_malloc(4);
    call {:si_unique_call 4308} vslice_dummy_var_623 := __HAVOC_malloc(4);
    call {:si_unique_call 4309} Status_74 := __HAVOC_malloc(4);
    call {:si_unique_call 4310} EaFileRange := __HAVOC_malloc(28);
    call {:si_unique_call 4311} ByteOffset_8 := __HAVOC_malloc(4);
    call {:si_unique_call 4312} EaFileName := __HAVOC_malloc(12);
    call {:si_unique_call 4313} SectionSize := __HAVOC_malloc(20);
    call {:si_unique_call 4314} AllocationSize_7 := __HAVOC_malloc(4);
    IrpContext_181 := actual_IrpContext_181;
    Vcb_100 := actual_Vcb_100;
    EaDirent_2 := actual_EaDirent_2;
    EaBcb_2 := actual_EaBcb_2;
    CreateFile := actual_CreateFile;
    ExclusiveFcb := actual_ExclusiveFcb;
    EaStreamFile := 0;
    UnwindLockedEaFcb := 0;
    UnwindLockedRootDcb := 0;
    UnwindAllocatedDiskSpace := 0;
    UnwindEaDirentCreated := 0;
    UnwindUpdatedSizes := 0;
    call {:si_unique_call 4315} sdv_RtlZeroMemory(0, 52);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} ExclusiveFcb != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_513;
    call {:si_unique_call 4316} sdv_1590 := FatAcquireExclusiveFcb(IrpContext_181, vslice_dummy_var_513);
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} yogi_error != 1;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} sdv_1590 == 0;
    goto L66;

  L66:
    assume {:nonnull} IrpContext_181 != 0;
    assume IrpContext_181 > 0;
    call {:si_unique_call 4317} ExRaiseStatus(-1073741608);
    goto L70;

  L70:
    UnwindLockedEaFcb := 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    goto L73;

  L73:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2690;
    assume {:nonnull} Tmp_2690 != 0;
    assume Tmp_2690 > 0;
    assume {:nonnull} EaFileName != 0;
    assume EaFileName > 0;
    assume {:nonnull} EaFileName != 0;
    assume EaFileName > 0;
    assume {:nonnull} EaFileName != 0;
    assume EaFileName > 0;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} CreateFile != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4318} vslice_dummy_var_625 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:partition} yogi_error != 1;
    goto L129;

  L129:
    UnwindLockedRootDcb := 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2702;
    assume {:nonnull} Tmp_2702 != 0;
    assume Tmp_2702 > 0;
    havoc vslice_dummy_var_514;
    call {:si_unique_call 4319} FatLocateSimpleOemDirent(IrpContext_181, vslice_dummy_var_514, EaFileName, EaDirent_2, EaBcb_2, ByteOffset_8);
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2682;
    assume {:nonnull} ByteOffset_8 != 0;
    assume ByteOffset_8 > 0;
    assume {:nonnull} Tmp_2682 != 0;
    assume Tmp_2682 > 0;
    havoc vslice_dummy_var_515;
    call {:si_unique_call 4320} FatPinMappedData(IrpContext_181, vslice_dummy_var_515, Mem_T.INT4[ByteOffset_8], 32, EaBcb_2);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2695;
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2711;
    assume {:nonnull} Tmp_2695 != 0;
    assume Tmp_2695 > 0;
    assume {:nonnull} Tmp_2711 != 0;
    assume Tmp_2711 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2707;
    assume {:nonnull} ByteOffset_8 != 0;
    assume ByteOffset_8 > 0;
    assume {:nonnull} Tmp_2707 != 0;
    assume Tmp_2707 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2704;
    assume {:nonnull} Tmp_2704 != 0;
    assume Tmp_2704 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_516;
    call {:si_unique_call 4321} FatLookupFileAllocationSize#1(IrpContext_181, vslice_dummy_var_516);
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2698;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2698 != 0;
    assume Tmp_2698 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2686;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2686 != 0;
    assume Tmp_2686 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2700;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2700 != 0;
    assume Tmp_2700 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_517;
    call {:si_unique_call 4322} EaStreamFile := FatOpenEaFile(IrpContext_181, vslice_dummy_var_517);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto L82;

  L82:
    call {:si_unique_call 4323} sdv_1594 := sdv_AbnormalTermination();
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} sdv_1594 != 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} UnwindAllocatedDiskSpace != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2701;
    assume {:nonnull} Tmp_2701 != 0;
    assume Tmp_2701 > 0;
    call {:si_unique_call 4324} FatDeallocateDiskSpace(IrpContext_181, Vcb_100, Mcb__FCB(Tmp_2701));
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} yogi_error != 1;
    goto L88;

  L88:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} UnwindEaDirentCreated != 0;
    goto anon80_Then, anon80_Else;

  anon80_Else:
    assume {:partition} UnwindUpdatedSizes != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2681;
    assume {:nonnull} Tmp_2681 != 0;
    assume Tmp_2681 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2696;
    assume {:nonnull} Tmp_2696 != 0;
    assume Tmp_2696 > 0;
    goto L94;

  L94:
    assume {:nonnull} EaBcb_2 != 0;
    assume EaBcb_2 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:nonnull} EaBcb_2 != 0;
    assume EaBcb_2 > 0;
    goto L97;

  L97:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_518;
    call {:si_unique_call 4325} FatDeleteDirent#1(IrpContext_181, vslice_dummy_var_518, 0, 1);
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} yogi_error != 1;
    goto L92;

  L92:
    goto anon79_Then, anon79_Else;

  anon79_Else:
    assume {:partition} UnwindLockedEaFcb != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4326} ExReleaseResourceLite(0);
    goto L104;

  L104:
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} EaStreamFile != 0;
    call {:si_unique_call 4327} vslice_dummy_var_624 := sdv_ObDereferenceObject(0);
    goto L86;

  L86:
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} UnwindLockedRootDcb != 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4328} ExReleaseResourceLite(0);
    goto L111;

  L111:
    call {:si_unique_call 4329} FatUnpinEaRange(IrpContext_181, EaFileRange);
    goto LM2;

  LM2:
    return;

  anon76_Then:
    assume {:partition} UnwindLockedRootDcb == 0;
    goto L111;

  anon82_Then:
    assume {:partition} EaStreamFile == 0;
    goto L86;

  anon79_Then:
    assume {:partition} UnwindLockedEaFcb == 0;
    goto L104;

  anon93_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon81_Then:
    goto L97;

  anon80_Then:
    assume {:partition} UnwindUpdatedSizes == 0;
    goto L94;

  anon78_Then:
    assume {:partition} UnwindEaDirentCreated == 0;
    goto L92;

  anon92_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon77_Then:
    assume {:partition} UnwindAllocatedDiskSpace == 0;
    goto L88;

  anon75_Then:
    assume {:partition} sdv_1594 == 0;
    goto L86;

  anon83_Then:
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} CreateFile != 0;
    call {:si_unique_call 4330} BytesPerCluster_5 := corral_nondet();
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    Mem_T.INT4[AllocationSize_7] := BAND(1024 + BytesPerCluster_5 - 1, BNOT(BytesPerCluster_5 - 1));
    call {:si_unique_call 4331} AllocatedClusters := corral_nondet();
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2703;
    assume {:nonnull} Tmp_2703 != 0;
    assume Tmp_2703 > 0;
    call {:si_unique_call 4332} FatAllocateDiskSpace(IrpContext_181, Vcb_100, 0, AllocationSize_7, 0, Mcb__FCB(Tmp_2703));
    goto anon96_Then, anon96_Else;

  anon96_Else:
    assume {:partition} yogi_error != 1;
    UnwindAllocatedDiskSpace := 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2705;
    assume {:nonnull} Tmp_2705 != 0;
    assume Tmp_2705 > 0;
    havoc vslice_dummy_var_519;
    call {:si_unique_call 4333} sdv_1597 := FatCreateNewDirent(IrpContext_181, vslice_dummy_var_519, 1);
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2712;
    assume {:nonnull} Tmp_2712 != 0;
    assume Tmp_2712 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2685;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2699;
    assume {:nonnull} Tmp_2685 != 0;
    assume Tmp_2685 > 0;
    assume {:nonnull} Tmp_2699 != 0;
    assume Tmp_2699 > 0;
    havoc vslice_dummy_var_520;
    havoc vslice_dummy_var_521;
    call {:si_unique_call 4334} FatPrepareWriteDirectoryFile(IrpContext_181, vslice_dummy_var_520, vslice_dummy_var_521, 32, EaBcb_2, EaDirent_2, 0, 1, Status_74);
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:partition} yogi_error != 1;
    UnwindEaDirentCreated := 1;
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc vslice_dummy_var_522;
    call {:si_unique_call 4335} FatConstructDirent(IrpContext_181, vslice_dummy_var_522, EaFileName, 0, 0, 0, 39, 1, 0);
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2692;
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    assume {:nonnull} Tmp_2692 != 0;
    assume Tmp_2692 > 0;
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2689;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2689 != 0;
    assume Tmp_2689 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2683;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2683 != 0;
    assume Tmp_2683 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2706;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    assume {:nonnull} SectionSize != 0;
    assume SectionSize > 0;
    assume {:nonnull} Tmp_2706 != 0;
    assume Tmp_2706 > 0;
    UnwindUpdatedSizes := 1;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_523;
    call {:si_unique_call 4336} EaStreamFile := FatOpenEaFile(IrpContext_181, vslice_dummy_var_523);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2694;
    assume {:nonnull} Tmp_2694 != 0;
    assume Tmp_2694 > 0;
    call {:si_unique_call 4337} vslice_dummy_var_626 := FatLookupMcbEntry(Vcb_100, Mcb__FCB(Tmp_2694), 0, FirstLboOfFile_1, 0, 0);
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2684;
    assume {:nonnull} Tmp_2684 != 0;
    assume Tmp_2684 > 0;
    call {:si_unique_call 4338} boogieTmp := corral_nondet();
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc Tmp_2709;
    assume {:nonnull} EaDirent_2 != 0;
    assume EaDirent_2 > 0;
    havoc Tmp_2710;
    assume {:nonnull} Tmp_2709 != 0;
    assume Tmp_2709 > 0;
    assume {:nonnull} Tmp_2710 != 0;
    assume Tmp_2710 > 0;
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_524;
    call {:si_unique_call 4339} FatPinEaRange(IrpContext_181, EaStreamFile, vslice_dummy_var_524, EaFileRange, 0, Mem_T.INT4[AllocationSize_7], -1073741762);
    assume {:nonnull} EaFileRange != 0;
    assume EaFileRange > 0;
    havoc FileHeader;
    assume {:nonnull} AllocationSize_7 != 0;
    assume AllocationSize_7 > 0;
    call {:si_unique_call 4340} sdv_RtlZeroMemory(0, Mem_T.INT4[AllocationSize_7]);
    assume {:nonnull} FileHeader != 0;
    assume FileHeader > 0;
    Index_7 := 240;
    assume {:nonnull} FileHeader != 0;
    assume FileHeader > 0;
    havoc CurrentIndex_2;
    goto L204;

  L204:
    call {:si_unique_call 4341} Index_7 := FatGetEaFile#1_loop_L204(CurrentIndex_2, AllocatedClusters, Index_7);
    goto L204_last;

  L204_last:
    assume {:CounterLoop 240} {:Counter "Index_7"} true;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} Index_7 != 0;
    assume {:nonnull} CurrentIndex_2 != 0;
    assume CurrentIndex_2 > 0;
    Mem_T.INT4[CurrentIndex_2] := AllocatedClusters;
    Index_7 := Index_7 - 1;
    goto anon85_Else_dummy;

  anon85_Else_dummy:
    assume false;
    return;

  anon85_Then:
    assume {:partition} Index_7 == 0;
    call {:si_unique_call 4342} Index_7 := corral_nondet();
    CurrentIndex_2 := FileHeader;
    goto L210;

  L210:
    call {:si_unique_call 4343} Index_7 := FatGetEaFile#1_loop_L210(CurrentIndex_2, Index_7);
    goto L210_last;

  L210_last:
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:partition} Index_7 != 0;
    assume {:nonnull} CurrentIndex_2 != 0;
    assume CurrentIndex_2 > 0;
    Mem_T.INT4[CurrentIndex_2] := 65535;
    Index_7 := Index_7 - 1;
    goto anon86_Else_dummy;

  anon86_Else_dummy:
    assume false;
    return;

  anon86_Then:
    assume {:partition} Index_7 == 0;
    call {:si_unique_call 4344} FatMarkEaRangeDirty(IrpContext_181, EaStreamFile, EaFileRange);
    call {:si_unique_call 4345} FatUnpinEaRange(IrpContext_181, EaFileRange);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    goto L82;

  anon98_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon97_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon96_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon84_Then:
    assume {:partition} CreateFile == 0;
    goto L82;

  anon95_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon94_Then:
    assume {:partition} CreateFile == 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4346} vslice_dummy_var_627 := ExAcquireResourceSharedLite(0, 1);
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} yogi_error != 1;
    goto L129;

  anon99_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon74_Then:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_525;
    call {:si_unique_call 4347} FatVerifyFcb(IrpContext_181, vslice_dummy_var_525);
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_526;
    call {:si_unique_call 4348} FatGetDirentFromFcbOrDcb(IrpContext_181, vslice_dummy_var_526, EaDirent_2, EaBcb_2);
    goto L82;

  anon91_Then:
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} ExclusiveFcb == 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    call {:si_unique_call 4349} ExReleaseResourceLite(0);
    UnwindLockedEaFcb := 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_527;
    call {:si_unique_call 4350} sdv_1585 := FatAcquireExclusiveFcb(IrpContext_181, vslice_dummy_var_527);
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} yogi_error != 1;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} sdv_1585 != 0;
    goto L233;

  L233:
    UnwindLockedEaFcb := 1;
    goto L73;

  anon87_Then:
    assume {:partition} sdv_1585 == 0;
    assume {:nonnull} IrpContext_181 != 0;
    assume IrpContext_181 > 0;
    call {:si_unique_call 4351} ExRaiseStatus(-1073741608);
    goto L233;

  anon100_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon73_Then:
    assume {:partition} ExclusiveFcb != 0;
    goto L73;

  anon72_Then:
    assume {:partition} sdv_1590 != 0;
    goto L26;

  L26:
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:partition} ExclusiveFcb == 0;
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_528;
    call {:si_unique_call 4352} sdv_1595 := FatAcquireSharedFcb(IrpContext_181, vslice_dummy_var_528);
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} yogi_error != 1;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} sdv_1595 != 0;
    goto L70;

  anon88_Then:
    assume {:partition} sdv_1595 == 0;
    goto L66;

  anon101_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon71_Then:
    assume {:partition} ExclusiveFcb != 0;
    goto L70;

  anon90_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon70_Then:
    assume {:partition} ExclusiveFcb == 0;
    goto L26;

  anon69_Then:
    assume {:nonnull} Vcb_100 != 0;
    assume Vcb_100 > 0;
    havoc vslice_dummy_var_529;
    call {:si_unique_call 4353} sdv_1586 := FatAcquireExclusiveFcb(IrpContext_181, vslice_dummy_var_529);
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} yogi_error != 1;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} sdv_1586 != 0;
    goto L243;

  L243:
    UnwindLockedEaFcb := 1;
    goto L73;

  anon89_Then:
    assume {:partition} sdv_1586 == 0;
    assume {:nonnull} IrpContext_181 != 0;
    assume IrpContext_181 > 0;
    call {:si_unique_call 4354} ExRaiseStatus(-1073741608);
    goto L243;

  anon102_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatGetEaFile"} FatGetEaFile#1(actual_IrpContext_181: int, actual_Vcb_100: int, actual_EaDirent_2: int, actual_EaBcb_2: int, actual_CreateFile: int, actual_ExclusiveFcb: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteDirent"} FatDeleteDirent#0(actual_IrpContext_163: int, actual_FcbOrDcb_15: int, actual_DeleteContext: int, actual_DeleteEa: int)
{
  var {:scalar} Offset_4: int;
  var {:pointer} Dirent_38: int;
  var {:pointer} Bcb_24: int;
  var {:dopa} {:scalar} DontCare_7: int;
  var {:pointer} Tmp_2558: int;
  var {:pointer} Tmp_2559: int;
  var {:pointer} Tmp_2560: int;
  var {:pointer} Tmp_2561: int;
  var {:pointer} Tmp_2563: int;
  var {:pointer} IrpContext_163: int;
  var {:pointer} FcbOrDcb_15: int;
  var {:pointer} DeleteContext: int;
  var {:scalar} DeleteEa: int;
  var vslice_dummy_var_628: int;
  var vslice_dummy_var_629: int;
  var vslice_dummy_var_530: int;
  var vslice_dummy_var_531: int;
  var vslice_dummy_var_532: int;

  anon0:
    call {:si_unique_call 4355} vslice_dummy_var_628 := __HAVOC_malloc(4);
    call {:si_unique_call 4356} Dirent_38 := __HAVOC_malloc(4);
    call {:si_unique_call 4357} Bcb_24 := __HAVOC_malloc(4);
    call {:si_unique_call 4358} DontCare_7 := __HAVOC_malloc(4);
    IrpContext_163 := actual_IrpContext_163;
    FcbOrDcb_15 := actual_FcbOrDcb_15;
    DeleteContext := actual_DeleteContext;
    DeleteEa := actual_DeleteEa;
    call {:si_unique_call 4359} Tmp_2561 := __HAVOC_malloc(44);
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    call {:si_unique_call 4360} sdv_do_paged_code_check();
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} DeleteEa != 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    goto L18;

  L18:
    call {:si_unique_call 4361} KeBugCheckEx(35, 656216, 0, 0, 0);
    goto L13;

  L13:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    call {:si_unique_call 4362} vslice_dummy_var_629 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc Offset_4;
    goto L31;

  L31:
    call {:si_unique_call 4363} Offset_4, Tmp_2561 := FatDeleteDirent#0_loop_L31(Offset_4, Dirent_38, Bcb_24, DontCare_7, Tmp_2561, IrpContext_163, FcbOrDcb_15);
    goto L31_last;

  L31_last:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    goto L35;

  L35:
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    goto L36;

  L36:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc vslice_dummy_var_530;
    call {:si_unique_call 4364} FatPrepareWriteDirectoryFile(IrpContext_163, vslice_dummy_var_530, Offset_4, 32, Bcb_24, Dirent_38, 0, 1, DontCare_7);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto L43;

  L43:
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    havoc Tmp_2561;
    assume {:nonnull} Tmp_2561 != 0;
    assume Tmp_2561 > 0;
    Mem_T.INT4[Tmp_2561] := 229;
    Offset_4 := Offset_4 + 32;
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    goto L43_dummy;

  L43_dummy:
    assume false;
    return;

  anon47_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon41_Then:
    goto L36;

  anon39_Then:
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} BAND(Offset_4, 4095) != 0;
    goto L43;

  anon40_Then:
    assume {:partition} BAND(Offset_4, 4095) == 0;
    goto L35;

  anon38_Then:
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc Tmp_2558;
    assume {:nonnull} Tmp_2558 != 0;
    assume Tmp_2558 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    goto L48;

  L48:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} DeleteContext != 0;
    assume {:nonnull} DeleteContext != 0;
    assume DeleteContext > 0;
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    assume {:nonnull} DeleteContext != 0;
    assume DeleteContext > 0;
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    goto L54;

  L54:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc Tmp_2563;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    assume {:nonnull} Tmp_2563 != 0;
    assume Tmp_2563 > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc Tmp_2559;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    assume {:nonnull} Tmp_2559 != 0;
    assume Tmp_2559 > 0;
    goto L57;

  L57:
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    goto L59;

  L59:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    call {:si_unique_call 4365} ExReleaseResourceLite(0);
    goto LM2;

  anon44_Then:
    goto L59;

  anon49_Then:
    goto L57;

  anon43_Then:
    assume {:partition} DeleteContext == 0;
    goto L54;

  anon48_Then:
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} DeleteEa != 0;
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc vslice_dummy_var_531;
    havoc vslice_dummy_var_532;
    call {:si_unique_call 4366} FatDeleteEa#0(IrpContext_163, vslice_dummy_var_531, vslice_dummy_var_532, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(FcbOrDcb_15))));
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} yogi_error != 1;
    goto L48;

  anon50_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon45_Then:
    goto L48;

  anon42_Then:
    assume {:partition} DeleteEa == 0;
    goto L48;

  anon46_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon36_Then:
    Tmp_2560 := FcbOrDcb_15;
    assume {:nonnull} Tmp_2560 != 0;
    assume Tmp_2560 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} Mem_T.INT4[Tmp_2560] == 1282;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    goto L18;

  anon37_Then:
    goto L13;

  anon51_Then:
    assume {:partition} Mem_T.INT4[Tmp_2560] != 1282;
    goto L13;

  anon35_Then:
    assume {:partition} DeleteEa == 0;
    goto L13;
}



procedure {:origName "FatDeleteDirent"} FatDeleteDirent#0(actual_IrpContext_163: int, actual_FcbOrDcb_15: int, actual_DeleteContext: int, actual_DeleteEa: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteDirent"} FatDeleteDirent#1(actual_IrpContext_163: int, actual_FcbOrDcb_15: int, actual_DeleteContext: int, actual_DeleteEa: int)
{
  var {:scalar} Offset_4: int;
  var {:pointer} Dirent_38: int;
  var {:pointer} Bcb_24: int;
  var {:dopa} {:scalar} DontCare_7: int;
  var {:pointer} Tmp_2558: int;
  var {:pointer} Tmp_2559: int;
  var {:pointer} Tmp_2560: int;
  var {:pointer} Tmp_2561: int;
  var {:pointer} Tmp_2563: int;
  var {:pointer} IrpContext_163: int;
  var {:pointer} FcbOrDcb_15: int;
  var {:pointer} DeleteContext: int;
  var {:scalar} DeleteEa: int;
  var vslice_dummy_var_630: int;
  var vslice_dummy_var_631: int;
  var vslice_dummy_var_533: int;
  var vslice_dummy_var_534: int;
  var vslice_dummy_var_535: int;

  anon0:
    call {:si_unique_call 4367} vslice_dummy_var_630 := __HAVOC_malloc(4);
    call {:si_unique_call 4368} Dirent_38 := __HAVOC_malloc(4);
    call {:si_unique_call 4369} Bcb_24 := __HAVOC_malloc(4);
    call {:si_unique_call 4370} DontCare_7 := __HAVOC_malloc(4);
    IrpContext_163 := actual_IrpContext_163;
    FcbOrDcb_15 := actual_FcbOrDcb_15;
    DeleteContext := actual_DeleteContext;
    DeleteEa := actual_DeleteEa;
    call {:si_unique_call 4371} Tmp_2561 := __HAVOC_malloc(44);
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    call {:si_unique_call 4372} sdv_do_paged_code_check();
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} DeleteEa != 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    goto L18;

  L18:
    call {:si_unique_call 4373} KeBugCheckEx(35, 656216, 0, 0, 0);
    goto L13;

  L13:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    call {:si_unique_call 4374} vslice_dummy_var_631 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc Offset_4;
    goto L31;

  L31:
    call {:si_unique_call 4375} Offset_4, Tmp_2561 := FatDeleteDirent#1_loop_L31(Offset_4, Dirent_38, Bcb_24, DontCare_7, Tmp_2561, IrpContext_163, FcbOrDcb_15);
    goto L31_last;

  L31_last:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    goto L35;

  L35:
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    goto L36;

  L36:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc vslice_dummy_var_533;
    call {:si_unique_call 4376} FatPrepareWriteDirectoryFile(IrpContext_163, vslice_dummy_var_533, Offset_4, 32, Bcb_24, Dirent_38, 0, 1, DontCare_7);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto L43;

  L43:
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    havoc Tmp_2561;
    assume {:nonnull} Tmp_2561 != 0;
    assume Tmp_2561 > 0;
    Mem_T.INT4[Tmp_2561] := 229;
    Offset_4 := Offset_4 + 32;
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    goto L43_dummy;

  L43_dummy:
    assume false;
    return;

  anon47_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon41_Then:
    goto L36;

  anon39_Then:
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} BAND(Offset_4, 4095) != 0;
    goto L43;

  anon40_Then:
    assume {:partition} BAND(Offset_4, 4095) == 0;
    goto L35;

  anon38_Then:
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc Tmp_2558;
    assume {:nonnull} Tmp_2558 != 0;
    assume Tmp_2558 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    goto L48;

  L48:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} DeleteContext != 0;
    assume {:nonnull} DeleteContext != 0;
    assume DeleteContext > 0;
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    assume {:nonnull} DeleteContext != 0;
    assume DeleteContext > 0;
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    goto L54;

  L54:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc Tmp_2563;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    assume {:nonnull} Tmp_2563 != 0;
    assume Tmp_2563 > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc Tmp_2559;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    assume {:nonnull} Tmp_2559 != 0;
    assume Tmp_2559 > 0;
    goto L57;

  L57:
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:nonnull} Bcb_24 != 0;
    assume Bcb_24 > 0;
    goto L59;

  L59:
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    call {:si_unique_call 4377} ExReleaseResourceLite(0);
    goto LM2;

  anon44_Then:
    goto L59;

  anon49_Then:
    goto L57;

  anon43_Then:
    assume {:partition} DeleteContext == 0;
    goto L54;

  anon48_Then:
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} DeleteEa != 0;
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:nonnull} Dirent_38 != 0;
    assume Dirent_38 > 0;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    havoc vslice_dummy_var_534;
    havoc vslice_dummy_var_535;
    call {:si_unique_call 4378} FatDeleteEa#1(IrpContext_163, vslice_dummy_var_534, vslice_dummy_var_535, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(FcbOrDcb_15))));
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} yogi_error != 1;
    goto L48;

  anon50_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon45_Then:
    goto L48;

  anon42_Then:
    assume {:partition} DeleteEa == 0;
    goto L48;

  anon46_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon36_Then:
    Tmp_2560 := FcbOrDcb_15;
    assume {:nonnull} Tmp_2560 != 0;
    assume Tmp_2560 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} Mem_T.INT4[Tmp_2560] == 1282;
    assume {:nonnull} FcbOrDcb_15 != 0;
    assume FcbOrDcb_15 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    goto L18;

  anon37_Then:
    goto L13;

  anon51_Then:
    assume {:partition} Mem_T.INT4[Tmp_2560] != 1282;
    goto L13;

  anon35_Then:
    assume {:partition} DeleteEa == 0;
    goto L13;
}



procedure {:origName "FatDeleteDirent"} FatDeleteDirent#1(actual_IrpContext_163: int, actual_FcbOrDcb_15: int, actual_DeleteContext: int, actual_DeleteEa: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteEa"} FatDeleteEa#0(actual_IrpContext_185: int, actual_Vcb_104: int, actual_EaHandle_5: int, actual_FileName_5: int)
{
  var {:pointer} EaDirent_5: int;
  var {:scalar} LockedEaFcb_4: int;
  var {:pointer} EaBcb_5: int;
  var {:pointer} IrpContext_185: int;
  var {:pointer} Vcb_104: int;
  var {:scalar} EaHandle_5: int;
  var {:pointer} FileName_5: int;
  var vslice_dummy_var_632: int;

  anon0:
    call {:si_unique_call 4379} EaDirent_5 := __HAVOC_malloc(4);
    call {:si_unique_call 4380} EaBcb_5 := __HAVOC_malloc(4);
    call {:si_unique_call 4381} vslice_dummy_var_632 := __HAVOC_malloc(4);
    IrpContext_185 := actual_IrpContext_185;
    Vcb_104 := actual_Vcb_104;
    EaHandle_5 := actual_EaHandle_5;
    FileName_5 := actual_FileName_5;
    assume {:nonnull} EaBcb_5 != 0;
    assume EaBcb_5 > 0;
    LockedEaFcb_4 := 0;
    assume false;
    return;
}



procedure {:origName "FatDeleteEa"} FatDeleteEa#0(actual_IrpContext_185: int, actual_Vcb_104: int, actual_EaHandle_5: int, actual_FileName_5: int);
  modifies alloc;
  free ensures {:va_keep} false;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatDeleteEa"} FatDeleteEa#1(actual_IrpContext_185: int, actual_Vcb_104: int, actual_EaHandle_5: int, actual_FileName_5: int)
{
  var {:pointer} EaDirent_5: int;
  var {:scalar} LockedEaFcb_4: int;
  var {:pointer} EaBcb_5: int;
  var {:pointer} IrpContext_185: int;
  var {:pointer} Vcb_104: int;
  var {:scalar} EaHandle_5: int;
  var {:pointer} FileName_5: int;
  var vslice_dummy_var_633: int;
  var vslice_dummy_var_536: int;
  var vslice_dummy_var_537: int;

  anon0:
    call {:si_unique_call 4382} EaDirent_5 := __HAVOC_malloc(4);
    call {:si_unique_call 4383} EaBcb_5 := __HAVOC_malloc(4);
    call {:si_unique_call 4384} vslice_dummy_var_633 := __HAVOC_malloc(4);
    IrpContext_185 := actual_IrpContext_185;
    Vcb_104 := actual_Vcb_104;
    EaHandle_5 := actual_EaHandle_5;
    FileName_5 := actual_FileName_5;
    assume {:nonnull} EaBcb_5 != 0;
    assume EaBcb_5 > 0;
    LockedEaFcb_4 := 0;
    call {:si_unique_call 4385} FatGetEaFile#0(IrpContext_185, Vcb_104, EaDirent_5, EaBcb_5, 0, 1);
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:partition} yogi_error != 1;
    LockedEaFcb_4 := 1;
    assume {:nonnull} EaBcb_5 != 0;
    assume EaBcb_5 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    goto L23;

  L23:
    assume {:nonnull} EaBcb_5 != 0;
    assume EaBcb_5 > 0;
    assume {:nonnull} EaDirent_5 != 0;
    assume EaDirent_5 > 0;
    havoc vslice_dummy_var_536;
    havoc vslice_dummy_var_537;
    call {:si_unique_call 4386} FatDeleteEaSet(IrpContext_185, Vcb_104, vslice_dummy_var_536, vslice_dummy_var_537, EaHandle_5, FileName_5);
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_104 != 0;
    assume Vcb_104 > 0;
    goto anon11_Then, anon11_Else;

  anon11_Else:
    assume {:partition} LockedEaFcb_4 != 0;
    assume {:nonnull} Vcb_104 != 0;
    assume Vcb_104 > 0;
    call {:si_unique_call 4387} ExReleaseResourceLite(0);
    goto L30;

  L30:
    assume {:nonnull} EaBcb_5 != 0;
    assume EaBcb_5 > 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:nonnull} EaBcb_5 != 0;
    assume EaBcb_5 > 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon12_Then:
    goto L1;

  anon11_Then:
    assume {:partition} LockedEaFcb_4 == 0;
    goto L30;

  anon15_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon14_Then:
    assume {:nonnull} IrpContext_185 != 0;
    assume IrpContext_185 > 0;
    call {:si_unique_call 4388} ExRaiseStatus(-1073741742);
    goto L23;

  anon13_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;
}



procedure {:origName "FatDeleteEa"} FatDeleteEa#1(actual_IrpContext_185: int, actual_Vcb_104: int, actual_EaHandle_5: int, actual_FileName_5: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_4) || sdv_irql_previous_5 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCheckForDismount"} FatCheckForDismount#0(actual_IrpContext_15: int, actual_Vcb_7: int, actual_Force: int) returns (Tmp_170: int)
{
  var {:scalar} SavedIrql: int;
  var {:pointer} Vpb_1: int;
  var {:pointer} Tmp_171: int;
  var {:pointer} sdv_95: int;
  var {:pointer} Tmp_172: int;
  var {:pointer} Tmp_174: int;
  var {:scalar} VcbDeleted: int;
  var {:pointer} IrpContext_15: int;
  var {:pointer} Vcb_7: int;
  var {:scalar} Force: int;
  var vslice_dummy_var_634: int;
  var vslice_dummy_var_635: int;

  anon0:
    IrpContext_15 := actual_IrpContext_15;
    Vcb_7 := actual_Vcb_7;
    Force := actual_Force;
    VcbDeleted := 0;
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Force == 0;
    Tmp_170 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon19_Then:
    assume {:partition} Force != 0;
    goto L8;

  L8:
    call {:si_unique_call 4389} Tmp_172 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_172 != 0;
    assume Tmp_172 > 0;
    Mem_T.INT4[Tmp_172] := SavedIrql;
    call {:si_unique_call 4390} IoAcquireVpbSpinLock(Tmp_172);
    assume {:nonnull} Tmp_172 != 0;
    assume Tmp_172 > 0;
    SavedIrql := Mem_T.INT4[Tmp_172];
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    havoc Tmp_174;
    assume {:nonnull} Tmp_174 != 0;
    assume Tmp_174 > 0;
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    havoc Vpb_1;
    call {:si_unique_call 4391} vslice_dummy_var_635 := FatSwapVpb(IrpContext_15, Vcb_7);
    assume {:nonnull} Vpb_1 != 0;
    assume Vpb_1 > 0;
    assume {:nonnull} Vpb_1 != 0;
    assume Vpb_1 > 0;
    call {:si_unique_call 4392} IoReleaseVpbSpinLock(SavedIrql);
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    call {:si_unique_call 4393} FatTearDownVcb(IrpContext_15, Vcb_7);
    call {:si_unique_call 4394} FatFspClose#0(Vcb_7);
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 4395} Tmp_172 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_172 != 0;
    assume Tmp_172 > 0;
    Mem_T.INT4[Tmp_172] := SavedIrql;
    call {:si_unique_call 4396} IoAcquireVpbSpinLock(Tmp_172);
    assume {:nonnull} Tmp_172 != 0;
    assume Tmp_172 > 0;
    SavedIrql := Mem_T.INT4[Tmp_172];
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    havoc Tmp_171;
    assume {:nonnull} Tmp_171 != 0;
    assume Tmp_171 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    goto L38;

  L38:
    call {:si_unique_call 4397} IoReleaseVpbSpinLock(SavedIrql);
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto L42;

  L42:
    Tmp_170 := VcbDeleted;
    goto L1;

  anon26_Then:
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} Vpb_1 != 0;
    assume Vpb_1 > 0;
    call {:si_unique_call 4398} IoReleaseVpbSpinLock(SavedIrql);
    call {:si_unique_call 4399} FatDeleteVcb(IrpContext_15, Vcb_7);
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 4400} sdv_95 := sdv_containing_record(Vcb_7, 248);
    call {:si_unique_call 4401} IoDeleteDevice(0);
    VcbDeleted := 1;
    goto L42;

  anon27_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon22_Then:
    goto L38;

  anon25_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon21_Then:
    goto L14;

  L14:
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Force != 0;
    call {:si_unique_call 4402} vslice_dummy_var_634 := FatSwapVpb(IrpContext_15, Vcb_7);
    call {:si_unique_call 4403} IoReleaseVpbSpinLock(SavedIrql);
    goto L42;

  anon20_Then:
    assume {:partition} Force == 0;
    call {:si_unique_call 4404} IoReleaseVpbSpinLock(SavedIrql);
    goto L42;

  anon24_Then:
    goto L14;

  anon23_Then:
    goto L8;
}



procedure {:origName "FatCheckForDismount"} FatCheckForDismount#0(actual_IrpContext_15: int, actual_Vcb_7: int, actual_Force: int) returns (Tmp_170: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCheckForDismount"} FatCheckForDismount#1(actual_IrpContext_15: int, actual_Vcb_7: int, actual_Force: int) returns (Tmp_170: int)
{
  var {:scalar} SavedIrql: int;
  var {:pointer} Vpb_1: int;
  var {:pointer} Tmp_171: int;
  var {:pointer} sdv_95: int;
  var {:pointer} Tmp_172: int;
  var {:pointer} Tmp_174: int;
  var {:scalar} VcbDeleted: int;
  var {:pointer} IrpContext_15: int;
  var {:pointer} Vcb_7: int;
  var {:scalar} Force: int;
  var vslice_dummy_var_636: int;
  var vslice_dummy_var_637: int;

  anon0:
    IrpContext_15 := actual_IrpContext_15;
    Vcb_7 := actual_Vcb_7;
    Force := actual_Force;
    VcbDeleted := 0;
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Force == 0;
    Tmp_170 := 0;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon19_Then:
    assume {:partition} Force != 0;
    goto L8;

  L8:
    call {:si_unique_call 4405} Tmp_172 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_172 != 0;
    assume Tmp_172 > 0;
    Mem_T.INT4[Tmp_172] := SavedIrql;
    call {:si_unique_call 4406} IoAcquireVpbSpinLock(Tmp_172);
    assume {:nonnull} Tmp_172 != 0;
    assume Tmp_172 > 0;
    SavedIrql := Mem_T.INT4[Tmp_172];
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    havoc Tmp_174;
    assume {:nonnull} Tmp_174 != 0;
    assume Tmp_174 > 0;
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    havoc Vpb_1;
    call {:si_unique_call 4407} vslice_dummy_var_637 := FatSwapVpb(IrpContext_15, Vcb_7);
    assume {:nonnull} Vpb_1 != 0;
    assume Vpb_1 > 0;
    assume {:nonnull} Vpb_1 != 0;
    assume Vpb_1 > 0;
    call {:si_unique_call 4408} IoReleaseVpbSpinLock(SavedIrql);
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    call {:si_unique_call 4409} FatTearDownVcb(IrpContext_15, Vcb_7);
    call {:si_unique_call 4410} FatFspClose#1(Vcb_7);
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 4411} Tmp_172 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_172 != 0;
    assume Tmp_172 > 0;
    Mem_T.INT4[Tmp_172] := SavedIrql;
    call {:si_unique_call 4412} IoAcquireVpbSpinLock(Tmp_172);
    assume {:nonnull} Tmp_172 != 0;
    assume Tmp_172 > 0;
    SavedIrql := Mem_T.INT4[Tmp_172];
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    havoc Tmp_171;
    assume {:nonnull} Tmp_171 != 0;
    assume Tmp_171 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    goto L38;

  L38:
    call {:si_unique_call 4413} IoReleaseVpbSpinLock(SavedIrql);
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto L42;

  L42:
    Tmp_170 := VcbDeleted;
    goto L1;

  anon26_Then:
    assume {:nonnull} Vcb_7 != 0;
    assume Vcb_7 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} Vpb_1 != 0;
    assume Vpb_1 > 0;
    call {:si_unique_call 4414} IoReleaseVpbSpinLock(SavedIrql);
    call {:si_unique_call 4415} FatDeleteVcb(IrpContext_15, Vcb_7);
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 4416} sdv_95 := sdv_containing_record(Vcb_7, 248);
    call {:si_unique_call 4417} IoDeleteDevice(0);
    VcbDeleted := 1;
    goto L42;

  anon27_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon22_Then:
    goto L38;

  anon25_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon21_Then:
    goto L14;

  L14:
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Force != 0;
    call {:si_unique_call 4418} vslice_dummy_var_636 := FatSwapVpb(IrpContext_15, Vcb_7);
    call {:si_unique_call 4419} IoReleaseVpbSpinLock(SavedIrql);
    goto L42;

  anon20_Then:
    assume {:partition} Force == 0;
    call {:si_unique_call 4420} IoReleaseVpbSpinLock(SavedIrql);
    goto L42;

  anon24_Then:
    goto L14;

  anon23_Then:
    goto L8;
}



procedure {:origName "FatCheckForDismount"} FatCheckForDismount#1(actual_IrpContext_15: int, actual_Vcb_7: int, actual_Force: int) returns (Tmp_170: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_5) || sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFspClose"} FatFspClose#0(actual_Vcb_112: int)
{
  var {:scalar} sdv_1639: int;
  var {:pointer} sdv_1640: int;
  var {:pointer} LastVcb: int;
  var {:scalar} FreeContext: int;
  var {:pointer} CurrentVcb: int;
  var {:pointer} Tmp_2927: int;
  var {:scalar} sdv_1644: int;
  var {:scalar} LoopsWithVcbHeld: int;
  var {:pointer} CloseContext_1: int;
  var {:pointer} Vcb_112: int;
  var vslice_dummy_var_638: int;
  var vslice_dummy_var_639: int;
  var vslice_dummy_var_640: int;
  var vslice_dummy_var_641: int;
  var vslice_dummy_var_538: int;
  var vslice_dummy_var_539: int;
  var vslice_dummy_var_540: int;

  anon0:
    call {:si_unique_call 4421} vslice_dummy_var_638 := __HAVOC_malloc(4);
    Vcb_112 := actual_Vcb_112;
    CurrentVcb := 0;
    LastVcb := 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} Vcb_112 != 0;
    goto L14;

  L14:
    call {:si_unique_call 4422} sdv_1639, sdv_1640, LastVcb, FreeContext, CurrentVcb, Tmp_2927, sdv_1644, LoopsWithVcbHeld, CloseContext_1, vslice_dummy_var_639, vslice_dummy_var_640, vslice_dummy_var_641 := FatFspClose#0_loop_L14(sdv_1639, sdv_1640, LastVcb, FreeContext, CurrentVcb, Tmp_2927, sdv_1644, LoopsWithVcbHeld, CloseContext_1, Vcb_112, vslice_dummy_var_639, vslice_dummy_var_640, vslice_dummy_var_641);
    goto L14_last;

  L14_last:
    call {:si_unique_call 4435} CloseContext_1 := FatRemoveClose(Vcb_112, LastVcb);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} CloseContext_1 != 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} Vcb_112 != 0;
    goto L22;

  L22:
    LastVcb := CurrentVcb;
    assume {:nonnull} CloseContext_1 != 0;
    assume CloseContext_1 > 0;
    havoc FreeContext;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} FreeContext != 0;
    Tmp_2927 := 0;
    goto L29;

  L29:
    assume {:nonnull} CloseContext_1 != 0;
    assume CloseContext_1 > 0;
    havoc vslice_dummy_var_538;
    havoc vslice_dummy_var_539;
    havoc vslice_dummy_var_540;
    call {:si_unique_call 4423} vslice_dummy_var_639 := FatCommonClose#0(vslice_dummy_var_538, vslice_dummy_var_539, Tmp_2927, vslice_dummy_var_540, 1, 0);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} FreeContext != 0;
    call {:si_unique_call 4424} sdv_ExFreePool(0);
    goto anon39_Else_dummy;

  anon39_Else_dummy:
    assume false;
    return;

  anon39_Then:
    assume {:partition} FreeContext == 0;
    goto anon39_Then_dummy;

  anon39_Then_dummy:
    assume false;
    return;

  anon47_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon46_Then:
    assume {:partition} FreeContext == 0;
    call {:si_unique_call 4425} sdv_1640 := sdv_containing_record(CloseContext_1, 12);
    Tmp_2927 := sdv_1640;
    goto L29;

  anon37_Then:
    assume {:partition} Vcb_112 == 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} CurrentVcb != 0;
    call {:si_unique_call 4426} ExReleaseResourceLite(0);
    CurrentVcb := 0;
    goto L22;

  anon41_Then:
    assume {:partition} CurrentVcb == 0;
    goto L22;

  anon38_Then:
    assume {:nonnull} CloseContext_1 != 0;
    assume CloseContext_1 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    LoopsWithVcbHeld := 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} CurrentVcb != 0;
    call {:si_unique_call 4427} ExReleaseResourceLite(0);
    goto L53;

  L53:
    assume {:nonnull} CloseContext_1 != 0;
    assume CloseContext_1 > 0;
    havoc CurrentVcb;
    call {:si_unique_call 4428} vslice_dummy_var_641 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} yogi_error != 1;
    goto L60;

  L60:
    assume {:nonnull} CurrentVcb != 0;
    assume CurrentVcb > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    call {:si_unique_call 4429} ExReleaseResourceLite(0);
    CurrentVcb := 0;
    goto L22;

  anon42_Then:
    goto L22;

  anon49_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon48_Then:
    assume {:partition} CurrentVcb == 0;
    goto L53;

  anon40_Then:
    LoopsWithVcbHeld := LoopsWithVcbHeld + 1;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} LoopsWithVcbHeld >= 20;
    call {:si_unique_call 4430} sdv_1644 := ExGetSharedWaiterCount(0);
    call {:si_unique_call 4431} sdv_1639 := ExGetExclusiveWaiterCount(0);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} sdv_1644 + sdv_1639 != 0;
    call {:si_unique_call 4432} ExReleaseResourceLite(0);
    call {:si_unique_call 4433} vslice_dummy_var_640 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} yogi_error != 1;
    goto L72;

  L72:
    LoopsWithVcbHeld := 0;
    goto L60;

  anon51_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon43_Then:
    assume {:partition} sdv_1644 + sdv_1639 == 0;
    goto L72;

  anon50_Then:
    assume {:partition} 20 > LoopsWithVcbHeld;
    goto L60;

  anon35_Then:
    assume {:partition} CloseContext_1 == 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} CurrentVcb != 0;
    call {:si_unique_call 4434} ExReleaseResourceLite(0);
    goto L79;

  L79:
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} Vcb_112 == 0;
    goto L1;

  L1:
    goto LM2;

  anon44_Then:
    assume {:partition} Vcb_112 != 0;
    goto L1;

  anon36_Then:
    assume {:partition} CurrentVcb == 0;
    goto L79;

  anon45_Then:
    assume {:partition} Vcb_112 == 0;
    goto L14;
}



procedure {:origName "FatFspClose"} FatFspClose#0(actual_Vcb_112: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatFspClose"} FatFspClose#1(actual_Vcb_112: int)
{
  var {:scalar} sdv_1639: int;
  var {:pointer} sdv_1640: int;
  var {:pointer} LastVcb: int;
  var {:scalar} FreeContext: int;
  var {:pointer} CurrentVcb: int;
  var {:pointer} Tmp_2927: int;
  var {:scalar} sdv_1644: int;
  var {:scalar} LoopsWithVcbHeld: int;
  var {:pointer} CloseContext_1: int;
  var {:pointer} Vcb_112: int;
  var vslice_dummy_var_642: int;
  var vslice_dummy_var_643: int;
  var vslice_dummy_var_644: int;
  var vslice_dummy_var_645: int;
  var vslice_dummy_var_541: int;
  var vslice_dummy_var_542: int;
  var vslice_dummy_var_543: int;

  anon0:
    call {:si_unique_call 4436} vslice_dummy_var_642 := __HAVOC_malloc(4);
    Vcb_112 := actual_Vcb_112;
    CurrentVcb := 0;
    LastVcb := 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} Vcb_112 != 0;
    goto L14;

  L14:
    call {:si_unique_call 4437} sdv_1639, sdv_1640, LastVcb, FreeContext, CurrentVcb, Tmp_2927, sdv_1644, LoopsWithVcbHeld, CloseContext_1, vslice_dummy_var_643, vslice_dummy_var_644, vslice_dummy_var_645 := FatFspClose#1_loop_L14(sdv_1639, sdv_1640, LastVcb, FreeContext, CurrentVcb, Tmp_2927, sdv_1644, LoopsWithVcbHeld, CloseContext_1, Vcb_112, vslice_dummy_var_643, vslice_dummy_var_644, vslice_dummy_var_645);
    goto L14_last;

  L14_last:
    call {:si_unique_call 4450} CloseContext_1 := FatRemoveClose(Vcb_112, LastVcb);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} CloseContext_1 != 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} Vcb_112 != 0;
    goto L22;

  L22:
    LastVcb := CurrentVcb;
    assume {:nonnull} CloseContext_1 != 0;
    assume CloseContext_1 > 0;
    havoc FreeContext;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} FreeContext != 0;
    Tmp_2927 := 0;
    goto L29;

  L29:
    assume {:nonnull} CloseContext_1 != 0;
    assume CloseContext_1 > 0;
    havoc vslice_dummy_var_541;
    havoc vslice_dummy_var_542;
    havoc vslice_dummy_var_543;
    call {:si_unique_call 4438} vslice_dummy_var_643 := FatCommonClose#1(vslice_dummy_var_541, vslice_dummy_var_542, Tmp_2927, vslice_dummy_var_543, 1, 0);
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} FreeContext != 0;
    call {:si_unique_call 4439} sdv_ExFreePool(0);
    goto anon39_Else_dummy;

  anon39_Else_dummy:
    assume false;
    return;

  anon39_Then:
    assume {:partition} FreeContext == 0;
    goto anon39_Then_dummy;

  anon39_Then_dummy:
    assume false;
    return;

  anon47_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  LM2:
    return;

  anon46_Then:
    assume {:partition} FreeContext == 0;
    call {:si_unique_call 4440} sdv_1640 := sdv_containing_record(CloseContext_1, 12);
    Tmp_2927 := sdv_1640;
    goto L29;

  anon37_Then:
    assume {:partition} Vcb_112 == 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} CurrentVcb != 0;
    call {:si_unique_call 4441} ExReleaseResourceLite(0);
    CurrentVcb := 0;
    goto L22;

  anon41_Then:
    assume {:partition} CurrentVcb == 0;
    goto L22;

  anon38_Then:
    assume {:nonnull} CloseContext_1 != 0;
    assume CloseContext_1 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    LoopsWithVcbHeld := 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} CurrentVcb != 0;
    call {:si_unique_call 4442} ExReleaseResourceLite(0);
    goto L53;

  L53:
    assume {:nonnull} CloseContext_1 != 0;
    assume CloseContext_1 > 0;
    havoc CurrentVcb;
    call {:si_unique_call 4443} vslice_dummy_var_645 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} yogi_error != 1;
    goto L60;

  L60:
    assume {:nonnull} CurrentVcb != 0;
    assume CurrentVcb > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    call {:si_unique_call 4444} ExReleaseResourceLite(0);
    CurrentVcb := 0;
    goto L22;

  anon42_Then:
    goto L22;

  anon49_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon48_Then:
    assume {:partition} CurrentVcb == 0;
    goto L53;

  anon40_Then:
    LoopsWithVcbHeld := LoopsWithVcbHeld + 1;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} LoopsWithVcbHeld >= 20;
    call {:si_unique_call 4445} sdv_1644 := ExGetSharedWaiterCount(0);
    call {:si_unique_call 4446} sdv_1639 := ExGetExclusiveWaiterCount(0);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} sdv_1644 + sdv_1639 != 0;
    call {:si_unique_call 4447} ExReleaseResourceLite(0);
    call {:si_unique_call 4448} vslice_dummy_var_644 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} yogi_error != 1;
    goto L72;

  L72:
    LoopsWithVcbHeld := 0;
    goto L60;

  anon51_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon43_Then:
    assume {:partition} sdv_1644 + sdv_1639 == 0;
    goto L72;

  anon50_Then:
    assume {:partition} 20 > LoopsWithVcbHeld;
    goto L60;

  anon35_Then:
    assume {:partition} CloseContext_1 == 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} CurrentVcb != 0;
    call {:si_unique_call 4449} ExReleaseResourceLite(0);
    goto L79;

  L79:
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} Vcb_112 == 0;
    goto L1;

  L1:
    goto LM2;

  anon44_Then:
    assume {:partition} Vcb_112 != 0;
    goto L1;

  anon36_Then:
    assume {:partition} CurrentVcb == 0;
    goto L79;

  anon45_Then:
    assume {:partition} Vcb_112 == 0;
    goto L14;
}



procedure {:origName "FatFspClose"} FatFspClose#1(actual_Vcb_112: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonClose"} FatCommonClose#0(actual_Vcb_113: int, actual_Fcb_70: int, actual_Ccb_39: int, actual_TypeOfOpen_12: int, actual_Wait_12: int, actual_VcbDeleted_5: int) returns (Tmp_2932: int)
{
  var {:pointer} ParentDcb_7: int;
  var {:pointer} CurrentDcb: int;
  var {:scalar} Tmp_2933: int;
  var {:scalar} sdv_1645: int;
  var {:pointer} Tmp_2934: int;
  var {:pointer} Tmp_2935: int;
  var {:scalar} sdv_1649: int;
  var {:scalar} Status_77: int;
  var {:pointer} Tmp_2936: int;
  var {:pointer} Tmp_2937: int;
  var {:pointer} Tmp_2938: int;
  var {:scalar} sdv_1657: int;
  var {:scalar} Tmp_2939: int;
  var {:scalar} IrpContext_205: int;
  var {:scalar} sdv_1661: int;
  var {:scalar} LocalVcbDeleted: int;
  var {:scalar} RecursiveClose: int;
  var {:pointer} Tmp_2940: int;
  var {:pointer} Vcb_113: int;
  var {:pointer} Fcb_70: int;
  var {:pointer} Ccb_39: int;
  var {:scalar} TypeOfOpen_12: int;
  var {:scalar} Wait_12: int;
  var {:pointer} VcbDeleted_5: int;
  var vslice_dummy_var_646: int;
  var vslice_dummy_var_647: int;
  var vslice_dummy_var_648: int;
  var vslice_dummy_var_649: int;
  var vslice_dummy_var_650: int;
  var vslice_dummy_var_651: int;
  var vslice_dummy_var_652: int;
  var vslice_dummy_var_653: int;
  var vslice_dummy_var_654: int;
  var vslice_dummy_var_655: int;
  var vslice_dummy_var_656: int;
  var vslice_dummy_var_657: int;
  var vslice_dummy_var_658: int;
  var vslice_dummy_var_544: int;
  var vslice_dummy_var_545: int;
  var vslice_dummy_var_546: int;
  var vslice_dummy_var_547: int;
  var vslice_dummy_var_548: int;
  var vslice_dummy_var_549: int;
  var vslice_dummy_var_550: int;

  anon0:
    call {:si_unique_call 4451} IrpContext_205 := __HAVOC_malloc(68);
    Vcb_113 := actual_Vcb_113;
    Fcb_70 := actual_Fcb_70;
    Ccb_39 := actual_Ccb_39;
    TypeOfOpen_12 := actual_TypeOfOpen_12;
    Wait_12 := actual_Wait_12;
    VcbDeleted_5 := actual_VcbDeleted_5;
    LocalVcbDeleted := 0;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:partition} VcbDeleted_5 != 0;
    assume {:nonnull} VcbDeleted_5 != 0;
    assume VcbDeleted_5 > 0;
    Mem_T.INT4[VcbDeleted_5] := LocalVcbDeleted;
    goto L10;

  L10:
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} TypeOfOpen_12 == 1;
    Status_77 := 0;
    Tmp_2932 := Status_77;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon93_Then:
    assume {:partition} TypeOfOpen_12 != 1;
    call {:si_unique_call 4452} sdv_RtlZeroMemory(0, 68);
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume {:partition} Wait_12 != 0;
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    goto L21;

  L21:
    call {:si_unique_call 4453} sdv_1649 := ExAcquireResourceExclusiveLite(0, Wait_12);
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume {:partition} yogi_error != 1;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} sdv_1649 != 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon97_Then, anon97_Else;

  anon97_Else:
    call {:si_unique_call 4454} ExReleaseResourceLite(0);
    Tmp_2932 := 259;
    goto L1;

  anon97_Then:
    goto L28;

  L28:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon96_Then, anon96_Else;

  anon96_Else:
    RecursiveClose := 1;
    goto L36;

  L36:
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:partition} TypeOfOpen_12 != 2;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:partition} TypeOfOpen_12 != 3;
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} TypeOfOpen_12 != 4;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    assume {:partition} TypeOfOpen_12 != 5;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    assume {:partition} TypeOfOpen_12 != 6;
    goto anon118_Then, anon118_Else;

  anon118_Else:
    assume {:partition} TypeOfOpen_12 == 7;
    call {:si_unique_call 4455} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_544;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_544;
    call {:si_unique_call 4456} vslice_dummy_var_657 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4457} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_545;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_545;
    call {:si_unique_call 4458} vslice_dummy_var_658 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    Status_77 := 0;
    goto L89;

  L89:
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} RecursiveClose != 0;
    goto L91;

  L91:
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} LocalVcbDeleted != 0;
    goto L95;

  L95:
    Tmp_2932 := Status_77;
    goto L1;

  anon101_Then:
    assume {:partition} LocalVcbDeleted == 0;
    call {:si_unique_call 4459} ExReleaseResourceLite(0);
    goto L95;

  anon99_Then:
    assume {:partition} RecursiveClose == 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} VcbDeleted_5 != 0;
    call {:si_unique_call 4460} ExReleaseResourceLite(0);
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    havoc Tmp_2933;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} Tmp_2933 == 0;
    Tmp_2939 := 0;
    goto L294;

  L294:
    call {:si_unique_call 4461} vslice_dummy_var_649 := ExAcquireResourceExclusiveLite(0, Tmp_2939);
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 4462} vslice_dummy_var_646 := FatAcquireExclusiveVcb(IrpContext_205, Vcb_113);
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    assume false;
    return;

  anon132_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon131_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon130_Then:
    assume {:partition} Tmp_2933 != 0;
    Tmp_2939 := 1;
    goto L294;

  anon103_Then:
    assume {:partition} VcbDeleted_5 == 0;
    goto L96;

  L96:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L120;

  L120:
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} LocalVcbDeleted == 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L91;

  anon105_Then:
    assume {:partition} LocalVcbDeleted != 0;
    goto L91;

  anon102_Then:
    goto L96;

  anon100_Then:
    goto L96;

  anon118_Then:
    assume {:partition} TypeOfOpen_12 != 7;
    call {:si_unique_call 4463} KeBugCheckEx(35, 328752, TypeOfOpen_12, 0, 0);
    goto L134;

  L134:
    Tmp_2937 := Fcb_70;
    assume {:nonnull} Tmp_2937 != 0;
    assume Tmp_2937 > 0;
    goto anon128_Then, anon128_Else;

  anon128_Else:
    assume {:partition} Mem_T.INT4[Tmp_2937] == 1282;
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    goto L137;

  L137:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    havoc ParentDcb_7;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4464} FatDeleteFcb_Real(IrpContext_205, Fcb_70);
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} yogi_error != 1;
    goto L142;

  L142:
    call {:si_unique_call 4465} ParentDcb_7, CurrentDcb, Tmp_2938, sdv_1661, vslice_dummy_var_650, vslice_dummy_var_651 := FatCommonClose#0_loop_L142(ParentDcb_7, CurrentDcb, Tmp_2938, IrpContext_205, sdv_1661, Vcb_113, vslice_dummy_var_650, vslice_dummy_var_651);
    goto L142_last;

  L142_last:
    Tmp_2938 := ParentDcb_7;
    assume {:nonnull} Tmp_2938 != 0;
    assume Tmp_2938 > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:partition} Mem_T.INT4[Tmp_2938] == 1283;
    call {:si_unique_call 4466} sdv_1661 := sdv_IsListEmpty(0);
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} sdv_1661 != 0;
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    call {:si_unique_call 4467} vslice_dummy_var_650 := corral_nondet();
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    call {:si_unique_call 4468} vslice_dummy_var_651 := sdv_ObDereferenceObject(0);
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    goto anon111_Then, anon111_Else;

  anon111_Else:
    CurrentDcb := ParentDcb_7;
    assume {:nonnull} CurrentDcb != 0;
    assume CurrentDcb > 0;
    havoc ParentDcb_7;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4469} FatDeleteFcb_Real(IrpContext_205, CurrentDcb);
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:partition} yogi_error != 1;
    goto anon136_Else_dummy;

  anon136_Else_dummy:
    assume false;
    return;

  anon136_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon111_Then:
    goto L143;

  L143:
    Status_77 := 0;
    goto L89;

  anon110_Then:
    goto L143;

  anon109_Then:
    goto L143;

  anon108_Then:
    assume {:partition} sdv_1661 == 0;
    goto L143;

  anon135_Then:
    assume {:partition} Mem_T.INT4[Tmp_2938] != 1283;
    goto L143;

  anon134_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon107_Then:
    goto L135;

  L135:
    Tmp_2935 := Fcb_70;
    assume {:nonnull} Tmp_2935 != 0;
    assume Tmp_2935 > 0;
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} Mem_T.INT4[Tmp_2935] == 1283;
    call {:si_unique_call 4470} sdv_1645 := sdv_IsListEmpty(0);
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} sdv_1645 != 0;
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon114_Then, anon114_Else;

  anon114_Else:
    goto L143;

  anon114_Then:
    goto L137;

  anon113_Then:
    goto L143;

  anon112_Then:
    assume {:partition} sdv_1645 == 0;
    goto L143;

  anon129_Then:
    assume {:partition} Mem_T.INT4[Tmp_2935] != 1283;
    goto L143;

  anon128_Then:
    assume {:partition} Mem_T.INT4[Tmp_2937] != 1282;
    goto L135;

  anon119_Then:
    assume {:partition} TypeOfOpen_12 == 6;
    call {:si_unique_call 4471} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    havoc vslice_dummy_var_546;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_546;
    call {:si_unique_call 4472} vslice_dummy_var_654 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    call {:si_unique_call 4473} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_547;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_547;
    call {:si_unique_call 4474} vslice_dummy_var_655 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    Tmp_2936 := Fcb_70;
    assume {:nonnull} Tmp_2936 != 0;
    assume Tmp_2936 > 0;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} Mem_T.INT4[Tmp_2936] == 1284;
    call {:si_unique_call 4475} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_548;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_548;
    call {:si_unique_call 4476} vslice_dummy_var_656 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L127;

  L127:
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} RecursiveClose == 0;
    goto L134;

  anon106_Then:
    assume {:partition} RecursiveClose != 0;
    Status_77 := 0;
    goto L89;

  anon138_Then:
    assume {:partition} Mem_T.INT4[Tmp_2936] != 1284;
    goto L127;

  anon120_Then:
    assume {:partition} TypeOfOpen_12 == 5;
    call {:si_unique_call 4477} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_549;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_549;
    call {:si_unique_call 4478} vslice_dummy_var_652 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4479} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_550;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_550;
    call {:si_unique_call 4480} vslice_dummy_var_653 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    Status_77 := 0;
    goto L89;

  anon121_Then:
    assume {:partition} TypeOfOpen_12 == 4;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    assume {:nonnull} Ccb_39 != 0;
    assume Ccb_39 > 0;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L181;

  L181:
    call {:si_unique_call 4481} FatDeleteCcb_Real(IrpContext_205, Ccb_39);
    Status_77 := 0;
    goto L89;

  anon137_Then:
    goto L181;

  anon122_Then:
    assume {:partition} TypeOfOpen_12 == 3;
    goto L40;

  L40:
    Tmp_2940 := Fcb_70;
    assume {:nonnull} Tmp_2940 != 0;
    assume Tmp_2940 > 0;
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume {:partition} Mem_T.INT4[Tmp_2940] == 1283;
    call {:si_unique_call 4482} sdv_1657 := sdv_IsListEmpty(0);
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:partition} sdv_1657 != 0;
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    call {:si_unique_call 4483} vslice_dummy_var_647 := corral_nondet();
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    call {:si_unique_call 4484} vslice_dummy_var_648 := sdv_ObDereferenceObject(0);
    goto L187;

  L187:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    assume {:nonnull} Ccb_39 != 0;
    assume Ccb_39 > 0;
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L205;

  L205:
    call {:si_unique_call 4485} FatDeleteCcb_Real(IrpContext_205, Ccb_39);
    goto L134;

  anon127_Then:
    goto L205;

  anon117_Then:
    goto L187;

  anon116_Then:
    goto L187;

  anon115_Then:
    assume {:partition} sdv_1657 == 0;
    goto L187;

  anon126_Then:
    assume {:partition} Mem_T.INT4[Tmp_2940] != 1283;
    goto L187;

  anon98_Then:
    assume {:partition} TypeOfOpen_12 == 2;
    goto L40;

  anon96_Then:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    RecursiveClose := 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L36;

  anon95_Then:
    goto L28;

  anon94_Then:
    assume {:partition} sdv_1649 == 0;
    Tmp_2932 := 259;
    goto L1;

  anon125_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon124_Then:
    assume {:partition} Wait_12 == 0;
    goto L21;

  anon123_Then:
    assume {:partition} VcbDeleted_5 == 0;
    goto L10;
}



procedure {:origName "FatCommonClose"} FatCommonClose#0(actual_Vcb_113: int, actual_Fcb_70: int, actual_Ccb_39: int, actual_TypeOfOpen_12: int, actual_Wait_12: int, actual_VcbDeleted_5: int) returns (Tmp_2932: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} old(sdv_irql_current) == 0 ==> yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == 1 ==> yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:origName "FatCommonClose"} FatCommonClose#1(actual_Vcb_113: int, actual_Fcb_70: int, actual_Ccb_39: int, actual_TypeOfOpen_12: int, actual_Wait_12: int, actual_VcbDeleted_5: int) returns (Tmp_2932: int)
{
  var {:pointer} ParentDcb_7: int;
  var {:pointer} CurrentDcb: int;
  var {:scalar} Tmp_2933: int;
  var {:scalar} sdv_1645: int;
  var {:pointer} Tmp_2934: int;
  var {:pointer} Tmp_2935: int;
  var {:scalar} sdv_1649: int;
  var {:scalar} Status_77: int;
  var {:pointer} Tmp_2936: int;
  var {:pointer} Tmp_2937: int;
  var {:pointer} Tmp_2938: int;
  var {:scalar} sdv_1657: int;
  var {:scalar} Tmp_2939: int;
  var {:scalar} IrpContext_205: int;
  var {:scalar} sdv_1661: int;
  var {:scalar} LocalVcbDeleted: int;
  var {:scalar} RecursiveClose: int;
  var {:pointer} Tmp_2940: int;
  var {:pointer} Vcb_113: int;
  var {:pointer} Fcb_70: int;
  var {:pointer} Ccb_39: int;
  var {:scalar} TypeOfOpen_12: int;
  var {:scalar} Wait_12: int;
  var {:pointer} VcbDeleted_5: int;
  var vslice_dummy_var_659: int;
  var vslice_dummy_var_660: int;
  var vslice_dummy_var_661: int;
  var vslice_dummy_var_662: int;
  var vslice_dummy_var_663: int;
  var vslice_dummy_var_664: int;
  var vslice_dummy_var_665: int;
  var vslice_dummy_var_666: int;
  var vslice_dummy_var_667: int;
  var vslice_dummy_var_668: int;
  var vslice_dummy_var_669: int;
  var vslice_dummy_var_670: int;
  var vslice_dummy_var_671: int;
  var vslice_dummy_var_551: int;
  var vslice_dummy_var_552: int;
  var vslice_dummy_var_553: int;
  var vslice_dummy_var_554: int;
  var vslice_dummy_var_555: int;
  var vslice_dummy_var_556: int;
  var vslice_dummy_var_557: int;

  anon0:
    call {:si_unique_call 4486} IrpContext_205 := __HAVOC_malloc(68);
    Vcb_113 := actual_Vcb_113;
    Fcb_70 := actual_Fcb_70;
    Ccb_39 := actual_Ccb_39;
    TypeOfOpen_12 := actual_TypeOfOpen_12;
    Wait_12 := actual_Wait_12;
    VcbDeleted_5 := actual_VcbDeleted_5;
    LocalVcbDeleted := 0;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume {:partition} VcbDeleted_5 != 0;
    assume {:nonnull} VcbDeleted_5 != 0;
    assume VcbDeleted_5 > 0;
    Mem_T.INT4[VcbDeleted_5] := LocalVcbDeleted;
    goto L10;

  L10:
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} TypeOfOpen_12 == 1;
    Status_77 := 0;
    Tmp_2932 := Status_77;
    goto L1;

  L1:
    goto LM2;

  LM2:
    return;

  anon93_Then:
    assume {:partition} TypeOfOpen_12 != 1;
    call {:si_unique_call 4487} sdv_RtlZeroMemory(0, 68);
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume {:partition} Wait_12 != 0;
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    goto L21;

  L21:
    call {:si_unique_call 4488} sdv_1649 := ExAcquireResourceExclusiveLite(0, Wait_12);
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume {:partition} yogi_error != 1;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} sdv_1649 != 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon97_Then, anon97_Else;

  anon97_Else:
    call {:si_unique_call 4489} ExReleaseResourceLite(0);
    Tmp_2932 := 259;
    goto L1;

  anon97_Then:
    goto L28;

  L28:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon96_Then, anon96_Else;

  anon96_Else:
    RecursiveClose := 1;
    goto L36;

  L36:
    goto anon98_Then, anon98_Else;

  anon98_Else:
    assume {:partition} TypeOfOpen_12 != 2;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume {:partition} TypeOfOpen_12 != 3;
    goto anon121_Then, anon121_Else;

  anon121_Else:
    assume {:partition} TypeOfOpen_12 != 4;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    assume {:partition} TypeOfOpen_12 != 5;
    goto anon119_Then, anon119_Else;

  anon119_Else:
    assume {:partition} TypeOfOpen_12 != 6;
    goto anon118_Then, anon118_Else;

  anon118_Else:
    assume {:partition} TypeOfOpen_12 == 7;
    call {:si_unique_call 4490} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_551;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_551;
    call {:si_unique_call 4491} vslice_dummy_var_670 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4492} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_552;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_552;
    call {:si_unique_call 4493} vslice_dummy_var_671 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    Status_77 := 0;
    goto L89;

  L89:
    goto anon99_Then, anon99_Else;

  anon99_Else:
    assume {:partition} RecursiveClose != 0;
    goto L91;

  L91:
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} LocalVcbDeleted != 0;
    goto L95;

  L95:
    Tmp_2932 := Status_77;
    goto L1;

  anon101_Then:
    assume {:partition} LocalVcbDeleted == 0;
    call {:si_unique_call 4494} ExReleaseResourceLite(0);
    goto L95;

  anon99_Then:
    assume {:partition} RecursiveClose == 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} VcbDeleted_5 != 0;
    call {:si_unique_call 4495} ExReleaseResourceLite(0);
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    assume {:nonnull} IrpContext_205 != 0;
    assume IrpContext_205 > 0;
    havoc Tmp_2933;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume {:partition} Tmp_2933 == 0;
    Tmp_2939 := 0;
    goto L294;

  L294:
    call {:si_unique_call 4496} vslice_dummy_var_662 := ExAcquireResourceExclusiveLite(0, Tmp_2939);
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 4497} vslice_dummy_var_659 := FatAcquireExclusiveVcb(IrpContext_205, Vcb_113);
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4498} LocalVcbDeleted := FatCheckForDismount#0(IrpContext_205, Vcb_113, 0);
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 4499} ExReleaseResourceLite(0);
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} VcbDeleted_5 != 0;
    assume {:nonnull} VcbDeleted_5 != 0;
    assume VcbDeleted_5 > 0;
    Mem_T.INT4[VcbDeleted_5] := LocalVcbDeleted;
    goto L120;

  L120:
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} LocalVcbDeleted == 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L91;

  anon105_Then:
    assume {:partition} LocalVcbDeleted != 0;
    goto L91;

  anon104_Then:
    assume {:partition} VcbDeleted_5 == 0;
    goto L120;

  anon133_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon132_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon131_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon130_Then:
    assume {:partition} Tmp_2933 != 0;
    Tmp_2939 := 1;
    goto L294;

  anon103_Then:
    assume {:partition} VcbDeleted_5 == 0;
    goto L96;

  L96:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L120;

  anon102_Then:
    goto L96;

  anon100_Then:
    goto L96;

  anon118_Then:
    assume {:partition} TypeOfOpen_12 != 7;
    call {:si_unique_call 4500} KeBugCheckEx(35, 328752, TypeOfOpen_12, 0, 0);
    goto L134;

  L134:
    Tmp_2937 := Fcb_70;
    assume {:nonnull} Tmp_2937 != 0;
    assume Tmp_2937 > 0;
    goto anon128_Then, anon128_Else;

  anon128_Else:
    assume {:partition} Mem_T.INT4[Tmp_2937] == 1282;
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    goto L137;

  L137:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    havoc ParentDcb_7;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4501} FatDeleteFcb_Real(IrpContext_205, Fcb_70);
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} yogi_error != 1;
    goto L142;

  L142:
    call {:si_unique_call 4502} ParentDcb_7, CurrentDcb, Tmp_2938, sdv_1661, vslice_dummy_var_663, vslice_dummy_var_664 := FatCommonClose#1_loop_L142(ParentDcb_7, CurrentDcb, Tmp_2938, IrpContext_205, sdv_1661, Vcb_113, vslice_dummy_var_663, vslice_dummy_var_664);
    goto L142_last;

  L142_last:
    Tmp_2938 := ParentDcb_7;
    assume {:nonnull} Tmp_2938 != 0;
    assume Tmp_2938 > 0;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume {:partition} Mem_T.INT4[Tmp_2938] == 1283;
    call {:si_unique_call 4503} sdv_1661 := sdv_IsListEmpty(0);
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} sdv_1661 != 0;
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    call {:si_unique_call 4504} vslice_dummy_var_663 := corral_nondet();
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    call {:si_unique_call 4505} vslice_dummy_var_664 := sdv_ObDereferenceObject(0);
    assume {:nonnull} ParentDcb_7 != 0;
    assume ParentDcb_7 > 0;
    goto anon111_Then, anon111_Else;

  anon111_Else:
    CurrentDcb := ParentDcb_7;
    assume {:nonnull} CurrentDcb != 0;
    assume CurrentDcb > 0;
    havoc ParentDcb_7;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4506} FatDeleteFcb_Real(IrpContext_205, CurrentDcb);
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume {:partition} yogi_error != 1;
    goto anon136_Else_dummy;

  anon136_Else_dummy:
    assume false;
    return;

  anon136_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon111_Then:
    goto L143;

  L143:
    Status_77 := 0;
    goto L89;

  anon110_Then:
    goto L143;

  anon109_Then:
    goto L143;

  anon108_Then:
    assume {:partition} sdv_1661 == 0;
    goto L143;

  anon135_Then:
    assume {:partition} Mem_T.INT4[Tmp_2938] != 1283;
    goto L143;

  anon134_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon107_Then:
    goto L135;

  L135:
    Tmp_2935 := Fcb_70;
    assume {:nonnull} Tmp_2935 != 0;
    assume Tmp_2935 > 0;
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume {:partition} Mem_T.INT4[Tmp_2935] == 1283;
    call {:si_unique_call 4507} sdv_1645 := sdv_IsListEmpty(0);
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} sdv_1645 != 0;
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon113_Then, anon113_Else;

  anon113_Else:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon114_Then, anon114_Else;

  anon114_Else:
    goto L143;

  anon114_Then:
    goto L137;

  anon113_Then:
    goto L143;

  anon112_Then:
    assume {:partition} sdv_1645 == 0;
    goto L143;

  anon129_Then:
    assume {:partition} Mem_T.INT4[Tmp_2935] != 1283;
    goto L143;

  anon128_Then:
    assume {:partition} Mem_T.INT4[Tmp_2937] != 1282;
    goto L135;

  anon119_Then:
    assume {:partition} TypeOfOpen_12 == 6;
    call {:si_unique_call 4508} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    havoc vslice_dummy_var_553;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_553;
    call {:si_unique_call 4509} vslice_dummy_var_667 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    call {:si_unique_call 4510} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_554;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_554;
    call {:si_unique_call 4511} vslice_dummy_var_668 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    Tmp_2936 := Fcb_70;
    assume {:nonnull} Tmp_2936 != 0;
    assume Tmp_2936 > 0;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} Mem_T.INT4[Tmp_2936] == 1284;
    call {:si_unique_call 4512} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_555;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_555;
    call {:si_unique_call 4513} vslice_dummy_var_669 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L127;

  L127:
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} RecursiveClose == 0;
    goto L134;

  anon106_Then:
    assume {:partition} RecursiveClose != 0;
    Status_77 := 0;
    goto L89;

  anon138_Then:
    assume {:partition} Mem_T.INT4[Tmp_2936] != 1284;
    goto L127;

  anon120_Then:
    assume {:partition} TypeOfOpen_12 == 5;
    call {:si_unique_call 4514} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_556;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_556;
    call {:si_unique_call 4515} vslice_dummy_var_665 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    call {:si_unique_call 4516} Tmp_2934 := __HAVOC_malloc(4);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    havoc vslice_dummy_var_557;
    Mem_T.INT4[Tmp_2934] := vslice_dummy_var_557;
    call {:si_unique_call 4517} vslice_dummy_var_666 := sdv_InterlockedDecrement(Tmp_2934);
    assume {:nonnull} Tmp_2934 != 0;
    assume Tmp_2934 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    Status_77 := 0;
    goto L89;

  anon121_Then:
    assume {:partition} TypeOfOpen_12 == 4;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    assume {:nonnull} Ccb_39 != 0;
    assume Ccb_39 > 0;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L181;

  L181:
    call {:si_unique_call 4518} FatDeleteCcb_Real(IrpContext_205, Ccb_39);
    Status_77 := 0;
    goto L89;

  anon137_Then:
    goto L181;

  anon122_Then:
    assume {:partition} TypeOfOpen_12 == 3;
    goto L40;

  L40:
    Tmp_2940 := Fcb_70;
    assume {:nonnull} Tmp_2940 != 0;
    assume Tmp_2940 > 0;
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume {:partition} Mem_T.INT4[Tmp_2940] == 1283;
    call {:si_unique_call 4519} sdv_1657 := sdv_IsListEmpty(0);
    goto anon115_Then, anon115_Else;

  anon115_Else:
    assume {:partition} sdv_1657 != 0;
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon116_Then, anon116_Else;

  anon116_Else:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    call {:si_unique_call 4520} vslice_dummy_var_660 := corral_nondet();
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    call {:si_unique_call 4521} vslice_dummy_var_661 := sdv_ObDereferenceObject(0);
    goto L187;

  L187:
    assume {:nonnull} Fcb_70 != 0;
    assume Fcb_70 > 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    assume {:nonnull} Ccb_39 != 0;
    assume Ccb_39 > 0;
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L205;

  L205:
    call {:si_unique_call 4522} FatDeleteCcb_Real(IrpContext_205, Ccb_39);
    goto L134;

  anon127_Then:
    goto L205;

  anon117_Then:
    goto L187;

  anon116_Then:
    goto L187;

  anon115_Then:
    assume {:partition} sdv_1657 == 0;
    goto L187;

  anon126_Then:
    assume {:partition} Mem_T.INT4[Tmp_2940] != 1283;
    goto L187;

  anon98_Then:
    assume {:partition} TypeOfOpen_12 == 2;
    goto L40;

  anon96_Then:
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    RecursiveClose := 0;
    assume {:nonnull} Vcb_113 != 0;
    assume Vcb_113 > 0;
    goto L36;

  anon95_Then:
    goto L28;

  anon94_Then:
    assume {:partition} sdv_1649 == 0;
    Tmp_2932 := 259;
    goto L1;

  anon125_Then:
    assume {:partition} yogi_error == 1;
    goto LM2;

  anon124_Then:
    assume {:partition} Wait_12 == 0;
    goto L21;

  anon123_Then:
    assume {:partition} VcbDeleted_5 == 0;
    goto L10;
}



procedure {:origName "FatCommonClose"} FatCommonClose#1(actual_Vcb_113: int, actual_Fcb_70: int, actual_Ccb_39: int, actual_TypeOfOpen_12: int, actual_Wait_12: int, actual_VcbDeleted_5: int) returns (Tmp_2932: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



function POW2(a: int) : bool;

axiom (forall x: int :: { POW2(x) } x == 0 || x == 1 || x == 2 || x == 4 || x == 8 || x == 16 || x == 32 || x == 64 || x == 128 || x == 256 || x == 512 || x == 1024 || x == 2048 || x == 4096 || x == 8192 || x == 16384 || x == 32768 || x == 65536 || x == 131072 || x == 262144 || x == 524288 || x == 1048576 || x == 2097152 || x == 4194304 || x == 8388608 || x == 16777216 || x == 33554432 || x == 67108864 || x == 134217728 || x == 268435456 || x == 536870912 || x == 1073741824 || x == 2147483648 || x == -2147483648 ==> POW2(x));

axiom (forall f: int :: { BAND(0, f) } BAND(0, f) == 0);

axiom (forall f: int :: { BAND(f, f) } BAND(f, f) == f);

axiom (forall f: int :: { BOR(0, f) } BOR(0, f) == f);

axiom (forall f: int :: { BOR(f, 0) } BOR(f, 0) == f);

axiom (forall x: int, f: int :: { BAND(x, f) } POW2(x) && POW2(f) && x != f ==> BAND(x, f) == 0);

axiom (forall a: int, b: int, c: int :: { BOR(a, BOR(b, c)) } BOR(a, BOR(b, c)) == BOR(BOR(a, b), c));

axiom (forall a: int, b: int, c: int :: { BAND(a, BOR(b, c)) } BAND(a, BOR(b, c)) == BAND(BOR(b, c), a));

axiom (forall x: int, f1: int, f2: int :: { BAND(BOR(x, f1), f2) } (f1 != f2 && POW2(f1) && POW2(f2) ==> BAND(BOR(x, f1), f2) == BAND(x, f2)) && (f1 == f2 ==> BAND(BOR(x, f1), f2) == f1));

axiom (forall x: int, f1: int, f2: int :: { BAND(BAND(x, BNOT(f1)), f2) } (f1 != f2 && POW2(f1) && POW2(f2) ==> BAND(BAND(x, BNOT(f1)), f2) == BAND(x, f2)) && (f1 == f2 && POW2(f1) && POW2(f2) ==> BAND(BAND(x, BNOT(f1)), f2) == 0));

axiom (forall x: int, f1: int, f2: int :: { BAND(BOR(f1, x), f2) } (f1 != f2 && POW2(f1) && POW2(f2) ==> BAND(BOR(f1, x), f2) == BAND(x, f2)) && (f1 == f2 ==> BAND(BOR(f1, x), f2) == f1));

axiom (forall x: int, y: int, f2: int :: { BAND(BAND(x, y), f2) } POW2(f2) ==> BAND(BAND(x, y), f2) == 0 || BAND(BAND(x, y), f2) == BAND(x, f2));

implementation FatDeleteVcb_loop_L36(in_Fcb: int, in_IrpContext: int, in_Vcb: int) returns (out_Fcb: int)
{
  var vslice_dummy_var_558: int;

  entry:
    out_Fcb := in_Fcb;
    goto L36, exit;

  exit:
    return;

  L36:
    assume {:nonnull} in_Vcb != 0;
    assume in_Vcb > 0;
    havoc vslice_dummy_var_558;
    call {:si_unique_call 4523} out_Fcb := FatGetNextFcbBottomUp(in_IrpContext, 0, vslice_dummy_var_558);
    assume {:nonnull} in_Vcb != 0;
    assume in_Vcb > 0;
    goto anon41_Else;

  anon41_Else:
    call {:si_unique_call 4524} FatDeleteFcb_Real(in_IrpContext, out_Fcb);
    goto anon45_Else;

  anon45_Else:
    assume {:partition} yogi_error != 1;
    goto anon45_Else_dummy;

  anon45_Else_dummy:
    call {:si_unique_call 4525} {:si_old_unique_call 1} out_Fcb := FatDeleteVcb_loop_L36(out_Fcb, in_IrpContext, in_Vcb);
    return;
}



procedure {:LoopProcedure} FatDeleteVcb_loop_L36(in_Fcb: int, in_IrpContext: int, in_Vcb: int) returns (out_Fcb: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatConstructNamesInFcb_loop_L81(in_i: int, in_LongOemName: int, in_Tmp_27: int, in_Tmp_32: int, in_Tmp_33: int, in_c: int, in_Tmp_41: int, in_Tmp_42: int, in_Tmp_44: int, in_Lfn: int) returns (out_i: int, out_Tmp_27: int, out_Tmp_32: int, out_Tmp_33: int, out_c: int, out_Tmp_41: int, out_Tmp_42: int, out_Tmp_44: int)
{

  entry:
    out_i, out_Tmp_27, out_Tmp_32, out_Tmp_33, out_c, out_Tmp_41, out_Tmp_42, out_Tmp_44 := in_i, in_Tmp_27, in_Tmp_32, in_Tmp_33, in_c, in_Tmp_41, in_Tmp_42, in_Tmp_44;
    goto L81, exit;

  exit:
    return;

  L81:
    assume {:nonnull} in_Lfn != 0;
    assume in_Lfn > 0;
    goto anon43_Else;

  anon43_Else:
    out_Tmp_33 := out_i;
    assume {:nonnull} in_Lfn != 0;
    assume in_Lfn > 0;
    havoc out_Tmp_32;
    assume {:nonnull} out_Tmp_32 != 0;
    assume out_Tmp_32 > 0;
    out_c := Mem_T.INT4[out_Tmp_32 + out_Tmp_33 * 4];
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} 97 > out_c;
    out_Tmp_41 := out_c;
    goto L88;

  L88:
    out_Tmp_42 := out_i;
    assume {:nonnull} in_LongOemName != 0;
    assume in_LongOemName > 0;
    havoc out_Tmp_44;
    assume {:nonnull} out_Tmp_44 != 0;
    assume out_Tmp_44 > 0;
    Mem_T.INT4[out_Tmp_44 + out_Tmp_42 * 4] := out_Tmp_41;
    out_i := out_i + 1;
    goto L88_dummy;

  L88_dummy:
    call {:si_unique_call 4526} {:si_old_unique_call 1} out_i, out_Tmp_27, out_Tmp_32, out_Tmp_33, out_c, out_Tmp_41, out_Tmp_42, out_Tmp_44 := FatConstructNamesInFcb_loop_L81(out_i, in_LongOemName, out_Tmp_27, out_Tmp_32, out_Tmp_33, out_c, out_Tmp_41, out_Tmp_42, out_Tmp_44, in_Lfn);
    return;

  anon52_Then:
    assume {:partition} out_c >= 97;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} 122 >= out_c;
    out_Tmp_27 := out_c - 32;
    goto L92;

  L92:
    out_Tmp_41 := out_Tmp_27;
    goto L88;

  anon45_Then:
    assume {:partition} out_c > 122;
    out_Tmp_27 := out_c;
    goto L92;
}



procedure {:LoopProcedure} FatConstructNamesInFcb_loop_L81(in_i: int, in_LongOemName: int, in_Tmp_27: int, in_Tmp_32: int, in_Tmp_33: int, in_c: int, in_Tmp_41: int, in_Tmp_42: int, in_Tmp_44: int, in_Lfn: int) returns (out_i: int, out_Tmp_27: int, out_Tmp_32: int, out_Tmp_33: int, out_c: int, out_Tmp_41: int, out_Tmp_42: int, out_Tmp_44: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatConstructNamesInFcb_loop_L66(in_i: int, in_Tmp_31: int, in_Tmp_38: int, in_Lfn: int) returns (out_i: int, out_Tmp_31: int, out_Tmp_38: int)
{

  entry:
    out_i, out_Tmp_31, out_Tmp_38 := in_i, in_Tmp_31, in_Tmp_38;
    goto L66, exit;

  exit:
    return;

  L66:
    assume {:nonnull} in_Lfn != 0;
    assume in_Lfn > 0;
    goto anon41_Else;

  anon41_Else:
    out_Tmp_31 := out_i;
    assume {:nonnull} in_Lfn != 0;
    assume in_Lfn > 0;
    havoc out_Tmp_38;
    assume {:nonnull} out_Tmp_38 != 0;
    assume out_Tmp_38 > 0;
    goto anon51_Else;

  anon51_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_38 + out_Tmp_31 * 4] < 128;
    out_i := out_i + 1;
    goto anon51_Else_dummy;

  anon51_Else_dummy:
    havoc out_i;
    return;
}



procedure {:LoopProcedure} FatConstructNamesInFcb_loop_L66(in_i: int, in_Tmp_31: int, in_Tmp_38: int, in_Lfn: int) returns (out_i: int, out_Tmp_31: int, out_Tmp_38: int);
  free ensures {:va_keep} out_Tmp_31 == in_i || out_Tmp_31 == in_Tmp_31;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatGetNextFcbBottomUp_loop_L16(in_Tmp_70: int, in_NextFcb: int, in_Tmp_72: int, in_sdv_26: int, in_Tmp_74: int, in_sdv_27: int, in_sdv_28: int, in_sdv_29: int) returns (out_Tmp_70: int, out_NextFcb: int, out_Tmp_72: int, out_sdv_26: int, out_Tmp_74: int, out_sdv_27: int, out_sdv_28: int, out_sdv_29: int)
{
  var vslice_dummy_var_559: int;
  var vslice_dummy_var_560: int;

  entry:
    out_Tmp_70, out_NextFcb, out_Tmp_72, out_sdv_26, out_Tmp_74, out_sdv_27, out_sdv_28, out_sdv_29 := in_Tmp_70, in_NextFcb, in_Tmp_72, in_sdv_26, in_Tmp_74, in_sdv_27, in_sdv_28, in_sdv_29;
    goto L16, exit;

  exit:
    return;

  L16:
    out_Tmp_70 := out_NextFcb;
    assume {:nonnull} out_Tmp_70 != 0;
    assume out_Tmp_70 > 0;
    goto anon24_Else;

  anon24_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_70] != 1282;
    call {:si_unique_call 4530} out_sdv_26 := sdv_IsListEmpty(0);
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} out_sdv_26 != 0;
    out_Tmp_74 := 0;
    goto L26;

  L26:
    goto anon20_Else;

  anon20_Else:
    assume {:partition} out_Tmp_74 != 0;
    call {:si_unique_call 4528} out_sdv_28 := sdv_IsListEmpty(0);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} out_sdv_28 != 0;
    out_Tmp_72 := 0;
    goto L35;

  L35:
    out_NextFcb := out_Tmp_72;
    goto L35_dummy;

  L35_dummy:
    call {:si_unique_call 4531} {:si_old_unique_call 1} out_Tmp_70, out_NextFcb, out_Tmp_72, out_sdv_26, out_Tmp_74, out_sdv_27, out_sdv_28, out_sdv_29 := FatGetNextFcbBottomUp_loop_L16(out_Tmp_70, out_NextFcb, out_Tmp_72, out_sdv_26, out_Tmp_74, out_sdv_27, out_sdv_28, out_sdv_29);
    return;

  anon21_Then:
    assume {:partition} out_sdv_28 == 0;
    assume {:nonnull} out_NextFcb != 0;
    assume out_NextFcb > 0;
    havoc vslice_dummy_var_559;
    call {:si_unique_call 4527} out_sdv_29 := sdv_containing_record(vslice_dummy_var_559, 72);
    out_Tmp_72 := out_sdv_29;
    goto L35;

  anon19_Then:
    assume {:partition} out_sdv_26 == 0;
    assume {:nonnull} out_NextFcb != 0;
    assume out_NextFcb > 0;
    havoc vslice_dummy_var_560;
    call {:si_unique_call 4529} out_sdv_27 := sdv_containing_record(vslice_dummy_var_560, 72);
    out_Tmp_74 := out_sdv_27;
    goto L26;
}



procedure {:LoopProcedure} FatGetNextFcbBottomUp_loop_L16(in_Tmp_70: int, in_NextFcb: int, in_Tmp_72: int, in_sdv_26: int, in_Tmp_74: int, in_sdv_27: int, in_sdv_28: int, in_sdv_29: int) returns (out_Tmp_70: int, out_NextFcb: int, out_Tmp_72: int, out_sdv_26: int, out_Tmp_74: int, out_sdv_27: int, out_sdv_28: int, out_sdv_29: int);
  free ensures {:va_keep} out_sdv_26 == 1 || out_sdv_26 == 0 || out_sdv_26 == in_sdv_26;
  free ensures {:va_keep} out_sdv_28 == 1 || out_sdv_28 == 0 || out_sdv_28 == in_sdv_28;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatGetNextFcbTopDown_loop_L22(in_Tmp_84: int, in_sdv_35: int, in_Sibling: int, in_Fcb_4: int, in_TerminationFcb_1: int) returns (out_Tmp_84: int, out_sdv_35: int, out_Sibling: int, out_Fcb_4: int)
{
  var vslice_dummy_var_561: int;

  entry:
    out_Tmp_84, out_sdv_35, out_Sibling, out_Fcb_4 := in_Tmp_84, in_sdv_35, in_Sibling, in_Fcb_4;
    goto L22, exit;

  exit:
    return;

  L22:
    goto anon23_Then;

  anon23_Then:
    assume {:partition} out_Sibling == 0;
    assume {:nonnull} out_Fcb_4 != 0;
    assume out_Fcb_4 > 0;
    goto anon24_Then;

  anon24_Then:
    assume {:nonnull} out_Fcb_4 != 0;
    assume out_Fcb_4 > 0;
    havoc out_Fcb_4;
    assume {:nonnull} out_Fcb_4 != 0;
    assume out_Fcb_4 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    out_Tmp_84 := 0;
    goto L35;

  L35:
    out_Sibling := out_Tmp_84;
    goto L35_dummy;

  L35_dummy:
    call {:si_unique_call 4533} {:si_old_unique_call 1} out_Tmp_84, out_sdv_35, out_Sibling, out_Fcb_4 := FatGetNextFcbTopDown_loop_L22(out_Tmp_84, out_sdv_35, out_Sibling, out_Fcb_4, in_TerminationFcb_1);
    return;

  anon29_Then:
    assume {:nonnull} out_Fcb_4 != 0;
    assume out_Fcb_4 > 0;
    havoc vslice_dummy_var_561;
    call {:si_unique_call 4532} out_sdv_35 := sdv_containing_record(vslice_dummy_var_561, 72);
    out_Tmp_84 := out_sdv_35;
    goto L35;
}



procedure {:LoopProcedure} FatGetNextFcbTopDown_loop_L22(in_Tmp_84: int, in_sdv_35: int, in_Sibling: int, in_Fcb_4: int, in_TerminationFcb_1: int) returns (out_Tmp_84: int, out_sdv_35: int, out_Sibling: int, out_Fcb_4: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatInitializeVcb_loop_L193(in_i_1: int, in_Tmp_101: int, in_Tmp_108: int, in_Tmp_109: int, in_Tmp_113: int, in_Tmp_115: int, in_Tmp_119: int, in_Vcb_3: int) returns (out_i_1: int, out_Tmp_101: int, out_Tmp_108: int, out_Tmp_109: int, out_Tmp_113: int, out_Tmp_115: int, out_Tmp_119: int)
{

  entry:
    out_i_1, out_Tmp_101, out_Tmp_108, out_Tmp_109, out_Tmp_113, out_Tmp_115, out_Tmp_119 := in_i_1, in_Tmp_101, in_Tmp_108, in_Tmp_109, in_Tmp_113, in_Tmp_115, in_Tmp_119;
    goto L193, exit;

  exit:
    return;

  L193:
    goto anon63_Else;

  anon63_Else:
    out_Tmp_119 := out_i_1;
    assume {:nonnull} in_Vcb_3 != 0;
    assume in_Vcb_3 > 0;
    havoc out_Tmp_108;
    assume {:nonnull} out_Tmp_108 != 0;
    assume out_Tmp_108 > 0;
    out_Tmp_113 := out_i_1;
    assume {:nonnull} in_Vcb_3 != 0;
    assume in_Vcb_3 > 0;
    havoc out_Tmp_115;
    assume {:nonnull} out_Tmp_115 != 0;
    assume out_Tmp_115 > 0;
    out_Tmp_101 := out_i_1;
    assume {:nonnull} in_Vcb_3 != 0;
    assume in_Vcb_3 > 0;
    havoc out_Tmp_109;
    assume {:nonnull} out_Tmp_109 != 0;
    assume out_Tmp_109 > 0;
    out_i_1 := out_i_1 + 1;
    goto anon63_Else_dummy;

  anon63_Else_dummy:
    havoc out_i_1;
    return;
}



procedure {:LoopProcedure} FatInitializeVcb_loop_L193(in_i_1: int, in_Tmp_101: int, in_Tmp_108: int, in_Tmp_109: int, in_Tmp_113: int, in_Tmp_115: int, in_Tmp_119: int, in_Vcb_3: int) returns (out_i_1: int, out_Tmp_101: int, out_Tmp_108: int, out_Tmp_109: int, out_Tmp_113: int, out_Tmp_115: int, out_Tmp_119: int);
  free ensures {:va_keep} out_Tmp_101 == in_i_1 || out_Tmp_101 == in_Tmp_101;
  free ensures {:va_keep} out_Tmp_113 == in_i_1 || out_Tmp_113 == in_Tmp_113;
  free ensures {:va_keep} out_Tmp_119 == in_i_1 || out_Tmp_119 == in_Tmp_119;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCreateDcb_loop_L153(in_i_2: int, in_UnwindStorage: int, in_Tmp_146: int, in_Tmp_147: int) returns (out_i_2: int, out_Tmp_146: int, out_Tmp_147: int)
{

  entry:
    out_i_2, out_Tmp_146, out_Tmp_147 := in_i_2, in_Tmp_146, in_Tmp_147;
    goto L153, exit;

  exit:
    return;

  L153:
    assume {:CounterLoop 2} {:Counter "i_2"} true;
    goto anon42_Else;

  anon42_Else:
    assume {:partition} 2 > out_i_2;
    out_Tmp_147 := out_i_2;
    assume {:nonnull} in_UnwindStorage != 0;
    assume in_UnwindStorage > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    out_Tmp_146 := out_i_2;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume out_Tmp_146 != 1;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume out_Tmp_146 != 0;
    goto L171;

  L171:
    call {:si_unique_call 4534} sdv_ExFreePool(0);
    goto L155;

  L155:
    out_i_2 := out_i_2 + 1;
    goto L155_dummy;

  L155_dummy:
    havoc out_i_2;
    return;

  anon51_Then:
    assume out_Tmp_146 == 0;
    out_Tmp_146 := 0;
    assume {:nonnull} in_UnwindStorage != 0;
    assume in_UnwindStorage > 0;
    goto L171;

  anon50_Then:
    assume out_Tmp_146 == 1;
    out_Tmp_146 := 1;
    assume {:nonnull} in_UnwindStorage != 0;
    assume in_UnwindStorage > 0;
    goto L171;

  anon49_Then:
    goto L155;
}



procedure {:LoopProcedure} FatCreateDcb_loop_L153(in_i_2: int, in_UnwindStorage: int, in_Tmp_146: int, in_Tmp_147: int) returns (out_i_2: int, out_Tmp_146: int, out_Tmp_147: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_146 == 0 || out_Tmp_146 == 1 || out_Tmp_146 == in_i_2 || out_Tmp_146 == in_Tmp_146;
  free ensures {:va_keep} out_Tmp_147 == in_i_2 || out_Tmp_147 == in_Tmp_147;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCreateFcb_loop_L185(in_i_3: int, in_UnwindStorage_1: int, in_Tmp_155: int, in_Tmp_163: int) returns (out_i_3: int, out_Tmp_155: int, out_Tmp_163: int)
{

  entry:
    out_i_3, out_Tmp_155, out_Tmp_163 := in_i_3, in_Tmp_155, in_Tmp_163;
    goto L185, exit;

  exit:
    return;

  L185:
    assume {:CounterLoop 2} {:Counter "i_3"} true;
    goto anon57_Else;

  anon57_Else:
    assume {:partition} 2 > out_i_3;
    out_Tmp_155 := out_i_3;
    assume {:nonnull} in_UnwindStorage_1 != 0;
    assume in_UnwindStorage_1 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    out_Tmp_163 := out_i_3;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume out_Tmp_163 != 1;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume out_Tmp_163 != 0;
    goto L213;

  L213:
    call {:si_unique_call 4535} sdv_ExFreePool(0);
    goto L187;

  L187:
    out_i_3 := out_i_3 + 1;
    goto L187_dummy;

  L187_dummy:
    havoc out_i_3;
    return;

  anon69_Then:
    assume out_Tmp_163 == 0;
    out_Tmp_163 := 0;
    assume {:nonnull} in_UnwindStorage_1 != 0;
    assume in_UnwindStorage_1 > 0;
    goto L213;

  anon68_Then:
    assume out_Tmp_163 == 1;
    out_Tmp_163 := 1;
    assume {:nonnull} in_UnwindStorage_1 != 0;
    assume in_UnwindStorage_1 > 0;
    goto L213;

  anon67_Then:
    goto L187;
}



procedure {:LoopProcedure} FatCreateFcb_loop_L185(in_i_3: int, in_UnwindStorage_1: int, in_Tmp_155: int, in_Tmp_163: int) returns (out_i_3: int, out_Tmp_155: int, out_Tmp_163: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_155 == in_i_3 || out_Tmp_155 == in_Tmp_155;
  free ensures {:va_keep} out_Tmp_163 == 0 || out_Tmp_163 == 1 || out_Tmp_163 == in_i_3 || out_Tmp_163 == in_Tmp_163;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCreateRootDcb_loop_L143(in_i_4: int, in_UnwindStorage_2: int, in_Tmp_185: int, in_Tmp_195: int) returns (out_i_4: int, out_Tmp_185: int, out_Tmp_195: int)
{

  entry:
    out_i_4, out_Tmp_185, out_Tmp_195 := in_i_4, in_Tmp_185, in_Tmp_195;
    goto L143, exit;

  exit:
    return;

  L143:
    assume {:CounterLoop 2} {:Counter "i_4"} true;
    goto anon37_Else;

  anon37_Else:
    assume {:partition} 2 > out_i_4;
    out_Tmp_195 := out_i_4;
    assume {:nonnull} in_UnwindStorage_2 != 0;
    assume in_UnwindStorage_2 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    out_Tmp_185 := out_i_4;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume out_Tmp_185 != 1;
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume out_Tmp_185 != 0;
    goto L167;

  L167:
    call {:si_unique_call 4536} sdv_ExFreePool(0);
    goto L146;

  L146:
    out_i_4 := out_i_4 + 1;
    goto L146_dummy;

  L146_dummy:
    havoc out_i_4;
    return;

  anon44_Then:
    assume out_Tmp_185 == 0;
    out_Tmp_185 := 0;
    assume {:nonnull} in_UnwindStorage_2 != 0;
    assume in_UnwindStorage_2 > 0;
    goto L167;

  anon43_Then:
    assume out_Tmp_185 == 1;
    out_Tmp_185 := 1;
    assume {:nonnull} in_UnwindStorage_2 != 0;
    assume in_UnwindStorage_2 > 0;
    goto L167;

  anon42_Then:
    goto L146;
}



procedure {:LoopProcedure} FatCreateRootDcb_loop_L143(in_i_4: int, in_UnwindStorage_2: int, in_Tmp_185: int, in_Tmp_195: int) returns (out_i_4: int, out_Tmp_185: int, out_Tmp_195: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_185 == 0 || out_Tmp_185 == 1 || out_Tmp_185 == in_i_4 || out_Tmp_185 == in_Tmp_185;
  free ensures {:va_keep} out_Tmp_195 == in_i_4 || out_Tmp_195 == in_Tmp_195;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatIsHandleCountZero_loop_L5(in_Fcb_7: int, in_IrpContext_19: int, in_Vcb_11: int) returns (out_Fcb_7: int)
{
  var vslice_dummy_var_562: int;

  entry:
    out_Fcb_7 := in_Fcb_7;
    goto L5, exit;

  exit:
    return;

  L5:
    goto anon5_Else;

  anon5_Else:
    assume {:partition} out_Fcb_7 != 0;
    assume {:nonnull} out_Fcb_7 != 0;
    assume out_Fcb_7 > 0;
    goto anon6_Then;

  anon6_Then:
    assume {:nonnull} in_Vcb_11 != 0;
    assume in_Vcb_11 > 0;
    havoc vslice_dummy_var_562;
    call {:si_unique_call 4537} out_Fcb_7 := FatGetNextFcbTopDown(in_IrpContext_19, out_Fcb_7, vslice_dummy_var_562);
    goto anon6_Then_dummy;

  anon6_Then_dummy:
    call {:si_unique_call 4538} {:si_old_unique_call 1} out_Fcb_7 := FatIsHandleCountZero_loop_L5(out_Fcb_7, in_IrpContext_19, in_Vcb_11);
    return;
}



procedure {:LoopProcedure} FatIsHandleCountZero_loop_L5(in_Fcb_7: int, in_IrpContext_19: int, in_Vcb_11: int) returns (out_Fcb_7: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSplitAllocation_loop_L62(in_Lbo: int, in_SourceVbo: int, in_sdv_115: int, in_TargetVbo: int, in_ByteCount: int, in_Vcb_12: int, in_Mcb: int, in_RemainingMcb: int, in_vslice_dummy_var_61: int) returns (out_SourceVbo: int, out_sdv_115: int, out_TargetVbo: int, out_vslice_dummy_var_61: int)
{

  entry:
    out_SourceVbo, out_sdv_115, out_TargetVbo, out_vslice_dummy_var_61 := in_SourceVbo, in_sdv_115, in_TargetVbo, in_vslice_dummy_var_61;
    goto L62, exit;

  exit:
    return;

  L62:
    call {:si_unique_call 4539} out_sdv_115 := FatLookupMcbEntry(in_Vcb_12, in_RemainingMcb, out_SourceVbo, in_Lbo, in_ByteCount, 0);
    goto anon14_Else;

  anon14_Else:
    assume {:partition} out_sdv_115 != 0;
    assume {:nonnull} in_ByteCount != 0;
    assume in_ByteCount > 0;
    assume {:nonnull} in_Lbo != 0;
    assume in_Lbo > 0;
    call {:si_unique_call 4540} out_vslice_dummy_var_61 := FatAddMcbEntry(in_Vcb_12, in_Mcb, out_TargetVbo, Mem_T.INT4[in_Lbo], Mem_T.INT4[in_ByteCount]);
    assume {:nonnull} in_ByteCount != 0;
    assume in_ByteCount > 0;
    call {:si_unique_call 4541} FatRemoveMcbEntry(in_Vcb_12, in_RemainingMcb, out_SourceVbo, Mem_T.INT4[in_ByteCount]);
    assume {:nonnull} in_ByteCount != 0;
    assume in_ByteCount > 0;
    out_TargetVbo := out_TargetVbo + Mem_T.INT4[in_ByteCount];
    assume {:nonnull} in_ByteCount != 0;
    assume in_ByteCount > 0;
    out_SourceVbo := out_SourceVbo + Mem_T.INT4[in_ByteCount];
    goto anon14_Else_dummy;

  anon14_Else_dummy:
    call {:si_unique_call 4542} {:si_old_unique_call 1} out_SourceVbo, out_sdv_115, out_TargetVbo, out_vslice_dummy_var_61 := FatSplitAllocation_loop_L62(in_Lbo, out_SourceVbo, out_sdv_115, out_TargetVbo, in_ByteCount, in_Vcb_12, in_Mcb, in_RemainingMcb, out_vslice_dummy_var_61);
    return;
}



procedure {:LoopProcedure} FatSplitAllocation_loop_L62(in_Lbo: int, in_SourceVbo: int, in_sdv_115: int, in_TargetVbo: int, in_ByteCount: int, in_Vcb_12: int, in_Mcb: int, in_RemainingMcb: int, in_vslice_dummy_var_61: int) returns (out_SourceVbo: int, out_sdv_115: int, out_TargetVbo: int, out_vslice_dummy_var_61: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSplitAllocation_loop_L15(in_Lbo: int, in_sdv_112: int, in_SourceVbo: int, in_TargetVbo: int, in_ByteCount: int, in_Vcb_12: int, in_Mcb: int, in_RemainingMcb: int, in_vslice_dummy_var_59: int) returns (out_sdv_112: int, out_SourceVbo: int, out_TargetVbo: int, out_vslice_dummy_var_59: int)
{

  entry:
    out_sdv_112, out_SourceVbo, out_TargetVbo, out_vslice_dummy_var_59 := in_sdv_112, in_SourceVbo, in_TargetVbo, in_vslice_dummy_var_59;
    goto L15, exit;

  exit:
    return;

  L15:
    call {:si_unique_call 4543} out_sdv_112 := FatLookupMcbEntry(in_Vcb_12, in_Mcb, out_SourceVbo, in_Lbo, in_ByteCount, 0);
    goto anon11_Else;

  anon11_Else:
    assume {:partition} out_sdv_112 != 0;
    assume {:nonnull} in_ByteCount != 0;
    assume in_ByteCount > 0;
    assume {:nonnull} in_Lbo != 0;
    assume in_Lbo > 0;
    call {:si_unique_call 4544} out_vslice_dummy_var_59 := FatAddMcbEntry(in_Vcb_12, in_RemainingMcb, out_TargetVbo, Mem_T.INT4[in_Lbo], Mem_T.INT4[in_ByteCount]);
    assume {:nonnull} in_ByteCount != 0;
    assume in_ByteCount > 0;
    call {:si_unique_call 4545} FatRemoveMcbEntry(in_Vcb_12, in_Mcb, out_SourceVbo, Mem_T.INT4[in_ByteCount]);
    assume {:nonnull} in_ByteCount != 0;
    assume in_ByteCount > 0;
    out_TargetVbo := out_TargetVbo + Mem_T.INT4[in_ByteCount];
    assume {:nonnull} in_ByteCount != 0;
    assume in_ByteCount > 0;
    out_SourceVbo := out_SourceVbo + Mem_T.INT4[in_ByteCount];
    goto anon15_Then;

  anon15_Then:
    assume {:partition} out_SourceVbo != 0;
    goto anon15_Then_dummy;

  anon15_Then_dummy:
    call {:si_unique_call 4546} {:si_old_unique_call 1} out_sdv_112, out_SourceVbo, out_TargetVbo, out_vslice_dummy_var_59 := FatSplitAllocation_loop_L15(in_Lbo, out_sdv_112, out_SourceVbo, out_TargetVbo, in_ByteCount, in_Vcb_12, in_Mcb, in_RemainingMcb, out_vslice_dummy_var_59);
    return;
}



procedure {:LoopProcedure} FatSplitAllocation_loop_L15(in_Lbo: int, in_sdv_112: int, in_SourceVbo: int, in_TargetVbo: int, in_ByteCount: int, in_Vcb_12: int, in_Mcb: int, in_RemainingMcb: int, in_vslice_dummy_var_59: int) returns (out_sdv_112: int, out_SourceVbo: int, out_TargetVbo: int, out_vslice_dummy_var_59: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLogOf_loop_L8(in_Log: int, in_Value: int) returns (out_Log: int, out_Value: int)
{

  entry:
    out_Log, out_Value := in_Log, in_Value;
    goto L8, exit;

  exit:
    return;

  L8:
    goto anon5_Else;

  anon5_Else:
    assume {:partition} BAND(out_Value, -2) != 0;
    out_Log := out_Log + 1;
    call {:si_unique_call 4547} out_Value := corral_nondet();
    goto anon5_Else_dummy;

  anon5_Else_dummy:
    havoc out_Log;
    return;
}



procedure {:LoopProcedure} FatLogOf_loop_L8(in_Log: int, in_Value: int) returns (out_Log: int, out_Value: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatExamineFatEntries_loop_L62(in_FatBuffer: int, in_Offset: int, in_Tmp_219: int, in_StartIndexOfThisRun: int, in_CurrentWindow: int, in_EntriesPerWindow: int, in_FatIndexBitSize: int, in_Bcb: int, in_Tmp_233: int, in_FatIndex: int, in_Tmp_237: int, in_FreeClusterCount: int, in_CurrentRun: int, in_Page: int, in_pv: int, in_FatEntry: int, in_BitMap: int, in_ClustersThisRun: int, in_Tmp_251: int, in_IrpContext_21: int, in_Vcb_13: int, in_StartIndex: int, in_EndIndex: int, in_SetupWindows: int) returns (out_Offset: int, out_Tmp_219: int, out_StartIndexOfThisRun: int, out_Tmp_233: int, out_FatIndex: int, out_Tmp_237: int, out_CurrentRun: int, out_Page: int, out_FatEntry: int, out_ClustersThisRun: int, out_Tmp_251: int)
{

  entry:
    out_Offset, out_Tmp_219, out_StartIndexOfThisRun, out_Tmp_233, out_FatIndex, out_Tmp_237, out_CurrentRun, out_Page, out_FatEntry, out_ClustersThisRun, out_Tmp_251 := in_Offset, in_Tmp_219, in_StartIndexOfThisRun, in_Tmp_233, in_FatIndex, in_Tmp_237, in_CurrentRun, in_Page, in_FatEntry, in_ClustersThisRun, in_Tmp_251;
    goto L62, exit;

  exit:
    return;

  L62:
    goto anon80_Else;

  anon80_Else:
    assume {:partition} in_EndIndex >= out_FatIndex;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:partition} in_FatIndexBitSize == 12;
    assume {:nonnull} in_FatBuffer != 0;
    assume in_FatBuffer > 0;
    havoc out_Tmp_251;
    assume {:nonnull} out_Tmp_251 != 0;
    assume out_Tmp_251 > 0;
    havoc out_FatEntry;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} BAND(out_FatIndex, 1) != 0;
    call {:si_unique_call 4549} out_Tmp_219 := corral_nondet();
    goto L70;

  L70:
    out_FatEntry := BAND(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048), out_Tmp_219);
    goto L71;

  L71:
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} out_CurrentRun == 2;
    goto anon85_Then, anon85_Else;

  anon85_Else:
    assume {:partition} out_FatEntry != 0;
    out_Tmp_237 := 1;
    goto L76;

  L76:
    out_CurrentRun := out_Tmp_237;
    goto L72;

  L72:
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} out_CurrentRun != 0;
    goto L78;

  L78:
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} out_CurrentRun == 1;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} out_FatEntry == 0;
    out_ClustersThisRun := out_FatIndex - out_StartIndexOfThisRun;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:partition} in_BitMap != 0;
    goto L83;

  L83:
    out_CurrentRun := 0;
    out_StartIndexOfThisRun := out_FatIndex;
    goto L79;

  L79:
    out_FatIndex := out_FatIndex + 1;
    goto L79_dummy;

  L79_dummy:
    call {:si_unique_call 4550} {:si_old_unique_call 1} out_Offset, out_Tmp_219, out_StartIndexOfThisRun, out_Tmp_233, out_FatIndex, out_Tmp_237, out_CurrentRun, out_Page, out_FatEntry, out_ClustersThisRun, out_Tmp_251 := FatExamineFatEntries_loop_L62(in_FatBuffer, out_Offset, out_Tmp_219, out_StartIndexOfThisRun, in_CurrentWindow, in_EntriesPerWindow, in_FatIndexBitSize, in_Bcb, out_Tmp_233, out_FatIndex, out_Tmp_237, in_FreeClusterCount, out_CurrentRun, out_Page, in_pv, out_FatEntry, in_BitMap, out_ClustersThisRun, out_Tmp_251, in_IrpContext_21, in_Vcb_13, in_StartIndex, in_EndIndex, in_SetupWindows);
    return;

  anon109_Then:
    assume {:partition} in_BitMap == 0;
    goto L83;

  anon88_Then:
    assume {:partition} out_FatEntry != 0;
    goto L79;

  anon87_Then:
    assume {:partition} out_CurrentRun != 1;
    goto L79;

  anon84_Then:
    assume {:partition} out_CurrentRun == 0;
    goto anon86_Then, anon86_Else;

  anon86_Else:
    assume {:partition} out_FatEntry != 0;
    out_ClustersThisRun := out_FatIndex - out_StartIndexOfThisRun;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    assume {:partition} in_FreeClusterCount != 0;
    assume {:nonnull} in_FreeClusterCount != 0;
    assume in_FreeClusterCount > 0;
    Mem_T.INT4[in_FreeClusterCount] := Mem_T.INT4[in_FreeClusterCount] + out_ClustersThisRun;
    assume {:nonnull} in_CurrentWindow != 0;
    assume in_CurrentWindow > 0;
    goto L100;

  L100:
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} in_BitMap != 0;
    goto L103;

  L103:
    out_CurrentRun := 1;
    out_StartIndexOfThisRun := out_FatIndex;
    goto L78;

  anon89_Then:
    assume {:partition} in_BitMap == 0;
    goto L103;

  anon110_Then:
    assume {:partition} in_FreeClusterCount == 0;
    goto L100;

  anon86_Then:
    assume {:partition} out_FatEntry == 0;
    goto L78;

  anon85_Then:
    assume {:partition} out_FatEntry == 0;
    out_Tmp_237 := 0;
    goto L76;

  anon83_Then:
    assume {:partition} out_CurrentRun != 2;
    goto L72;

  anon108_Then:
    assume {:partition} BAND(out_FatIndex, 1) == 0;
    out_Tmp_219 := out_FatEntry;
    goto L70;

  anon81_Then:
    assume {:partition} in_FatIndexBitSize != 12;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} in_SetupWindows != 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:partition} out_FatIndex > in_StartIndex;
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} INTMOD(out_FatIndex - 2, in_EntriesPerWindow) == 0;
    assume {:nonnull} in_CurrentWindow != 0;
    assume in_CurrentWindow > 0;
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} out_CurrentRun != 0;
    out_ClustersThisRun := out_FatIndex - out_StartIndexOfThisRun;
    goto L116;

  L116:
    out_StartIndexOfThisRun := out_FatIndex;
    out_CurrentRun := 2;
    assume {:nonnull} in_CurrentWindow != 0;
    assume in_CurrentWindow > 0;
    assume {:nonnull} in_CurrentWindow != 0;
    assume in_CurrentWindow > 0;
    goto L109;

  L109:
    assume {:nonnull} in_FatBuffer != 0;
    assume in_FatBuffer > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    goto L125;

  L125:
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:partition} in_FatIndexBitSize == 32;
    assume {:nonnull} in_FatBuffer != 0;
    assume in_FatBuffer > 0;
    havoc out_Tmp_233;
    assume {:nonnull} out_Tmp_233 != 0;
    assume out_Tmp_233 > 0;
    out_FatEntry := Mem_T.INT4[out_Tmp_233];
    out_FatEntry := BAND(out_FatEntry, BNOT(BOR(BOR(BOR(268435456, 536870912), 1073741824), -2147483648)));
    goto L71;

  anon94_Then:
    assume {:partition} in_FatIndexBitSize != 32;
    assume {:nonnull} in_FatBuffer != 0;
    assume in_FatBuffer > 0;
    havoc out_FatEntry;
    assume {:nonnull} in_FatBuffer != 0;
    assume in_FatBuffer > 0;
    goto L71;

  anon90_Then:
    assume {:nonnull} in_Bcb != 0;
    assume in_Bcb > 0;
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:nonnull} in_Bcb != 0;
    assume in_Bcb > 0;
    goto L130;

  L130:
    out_Page := out_Page + 1;
    out_Offset := out_Offset + 4096;
    call {:si_unique_call 4548} FatReadVolumeFile(in_IrpContext_21, in_Vcb_13, out_Offset, 4096, in_Bcb, in_pv);
    assume {:nonnull} in_FatBuffer != 0;
    assume in_FatBuffer > 0;
    assume {:nonnull} in_pv != 0;
    assume in_pv > 0;
    goto L125;

  anon93_Then:
    goto L130;

  anon111_Then:
    assume {:partition} out_CurrentRun == 0;
    out_ClustersThisRun := out_FatIndex - out_StartIndexOfThisRun;
    assume {:nonnull} in_CurrentWindow != 0;
    assume in_CurrentWindow > 0;
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} in_FreeClusterCount != 0;
    assume {:nonnull} in_FreeClusterCount != 0;
    assume in_FreeClusterCount > 0;
    Mem_T.INT4[in_FreeClusterCount] := Mem_T.INT4[in_FreeClusterCount] + out_ClustersThisRun;
    goto L116;

  anon112_Then:
    assume {:partition} in_FreeClusterCount == 0;
    goto L116;

  anon92_Then:
    assume {:partition} INTMOD(out_FatIndex - 2, in_EntriesPerWindow) != 0;
    goto L109;

  anon91_Then:
    assume {:partition} in_StartIndex >= out_FatIndex;
    goto L109;

  anon82_Then:
    assume {:partition} in_SetupWindows == 0;
    goto L109;
}



procedure {:LoopProcedure} FatExamineFatEntries_loop_L62(in_FatBuffer: int, in_Offset: int, in_Tmp_219: int, in_StartIndexOfThisRun: int, in_CurrentWindow: int, in_EntriesPerWindow: int, in_FatIndexBitSize: int, in_Bcb: int, in_Tmp_233: int, in_FatIndex: int, in_Tmp_237: int, in_FreeClusterCount: int, in_CurrentRun: int, in_Page: int, in_pv: int, in_FatEntry: int, in_BitMap: int, in_ClustersThisRun: int, in_Tmp_251: int, in_IrpContext_21: int, in_Vcb_13: int, in_StartIndex: int, in_EndIndex: int, in_SetupWindows: int) returns (out_Offset: int, out_Tmp_219: int, out_StartIndexOfThisRun: int, out_Tmp_233: int, out_FatIndex: int, out_Tmp_237: int, out_CurrentRun: int, out_Page: int, out_FatEntry: int, out_ClustersThisRun: int, out_Tmp_251: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_237 == 1 || out_Tmp_237 == 0 || out_Tmp_237 == in_Tmp_237;
  free ensures {:va_keep} out_CurrentRun == 0 || out_CurrentRun == 1 || out_CurrentRun == 2 || out_CurrentRun == in_CurrentRun;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSelectBestWindow_loop_L13(in_MaxFree: int, in_i_5: int, in_Tmp_261: int, in_Tmp_263: int, in_FirstEmpty: int, in_Tmp_264: int, in_Fave: int, in_Tmp_265: int, in_ClustersPerWindow: int, in_Tmp_266: int, in_Tmp_267: int, in_Vcb_16: int) returns (out_MaxFree: int, out_i_5: int, out_Tmp_261: int, out_Tmp_263: int, out_FirstEmpty: int, out_Tmp_264: int, out_Fave: int, out_Tmp_265: int, out_Tmp_266: int, out_Tmp_267: int)
{

  entry:
    out_MaxFree, out_i_5, out_Tmp_261, out_Tmp_263, out_FirstEmpty, out_Tmp_264, out_Fave, out_Tmp_265, out_Tmp_266, out_Tmp_267 := in_MaxFree, in_i_5, in_Tmp_261, in_Tmp_263, in_FirstEmpty, in_Tmp_264, in_Fave, in_Tmp_265, in_Tmp_266, in_Tmp_267;
    goto L13, exit;

  exit:
    return;

  L13:
    assume {:nonnull} in_Vcb_16 != 0;
    assume in_Vcb_16 > 0;
    goto anon15_Else;

  anon15_Else:
    out_Tmp_267 := out_i_5;
    assume {:nonnull} in_Vcb_16 != 0;
    assume in_Vcb_16 > 0;
    havoc out_Tmp_264;
    assume {:nonnull} out_Tmp_264 != 0;
    assume out_Tmp_264 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} -1 == out_FirstEmpty;
    out_FirstEmpty := out_i_5;
    goto L18;

  L18:
    out_i_5 := out_i_5 + 1;
    goto L18_dummy;

  L18_dummy:
    call {:si_unique_call 4551} {:si_old_unique_call 1} out_MaxFree, out_i_5, out_Tmp_261, out_Tmp_263, out_FirstEmpty, out_Tmp_264, out_Fave, out_Tmp_265, out_Tmp_266, out_Tmp_267 := FatSelectBestWindow_loop_L13(out_MaxFree, out_i_5, out_Tmp_261, out_Tmp_263, out_FirstEmpty, out_Tmp_264, out_Fave, out_Tmp_265, in_ClustersPerWindow, out_Tmp_266, out_Tmp_267, in_Vcb_16);
    return;

  anon17_Then:
    assume {:partition} -1 != out_FirstEmpty;
    goto L18;

  anon19_Then:
    out_Tmp_266 := out_i_5;
    assume {:nonnull} in_Vcb_16 != 0;
    assume in_Vcb_16 > 0;
    havoc out_Tmp_261;
    assume {:nonnull} out_Tmp_261 != 0;
    assume out_Tmp_261 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    out_Tmp_263 := out_i_5;
    assume {:nonnull} in_Vcb_16 != 0;
    assume in_Vcb_16 > 0;
    havoc out_Tmp_265;
    assume {:nonnull} out_Tmp_265 != 0;
    assume out_Tmp_265 > 0;
    havoc out_MaxFree;
    out_Fave := out_i_5;
    goto anon21_Else;

  anon21_Else:
    goto L18;

  anon20_Then:
    goto L18;
}



procedure {:LoopProcedure} FatSelectBestWindow_loop_L13(in_MaxFree: int, in_i_5: int, in_Tmp_261: int, in_Tmp_263: int, in_FirstEmpty: int, in_Tmp_264: int, in_Fave: int, in_Tmp_265: int, in_ClustersPerWindow: int, in_Tmp_266: int, in_Tmp_267: int, in_Vcb_16: int) returns (out_MaxFree: int, out_i_5: int, out_Tmp_261: int, out_Tmp_263: int, out_FirstEmpty: int, out_Tmp_264: int, out_Fave: int, out_Tmp_265: int, out_Tmp_266: int, out_Tmp_267: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMergeAllocation_loop_L28(in_Lbo_4: int, in_SourceVbo_1: int, in_sdv_140: int, in_TargetVbo_1: int, in_ByteCount_3: int, in_Vcb_21: int, in_Mcb_1: int, in_SecondMcb: int, in_vslice_dummy_var_71: int) returns (out_SourceVbo_1: int, out_sdv_140: int, out_TargetVbo_1: int, out_vslice_dummy_var_71: int)
{

  entry:
    out_SourceVbo_1, out_sdv_140, out_TargetVbo_1, out_vslice_dummy_var_71 := in_SourceVbo_1, in_sdv_140, in_TargetVbo_1, in_vslice_dummy_var_71;
    goto L28, exit;

  exit:
    return;

  L28:
    call {:si_unique_call 4552} out_sdv_140 := FatLookupMcbEntry(in_Vcb_21, in_SecondMcb, out_SourceVbo_1, in_Lbo_4, in_ByteCount_3, 0);
    goto anon7_Else;

  anon7_Else:
    assume {:partition} out_sdv_140 != 0;
    assume {:nonnull} in_ByteCount_3 != 0;
    assume in_ByteCount_3 > 0;
    assume {:nonnull} in_Lbo_4 != 0;
    assume in_Lbo_4 > 0;
    call {:si_unique_call 4553} out_vslice_dummy_var_71 := FatAddMcbEntry(in_Vcb_21, in_Mcb_1, out_TargetVbo_1, Mem_T.INT4[in_Lbo_4], Mem_T.INT4[in_ByteCount_3]);
    assume {:nonnull} in_ByteCount_3 != 0;
    assume in_ByteCount_3 > 0;
    out_SourceVbo_1 := out_SourceVbo_1 + Mem_T.INT4[in_ByteCount_3];
    assume {:nonnull} in_ByteCount_3 != 0;
    assume in_ByteCount_3 > 0;
    out_TargetVbo_1 := out_TargetVbo_1 + Mem_T.INT4[in_ByteCount_3];
    goto anon7_Else_dummy;

  anon7_Else_dummy:
    call {:si_unique_call 4554} {:si_old_unique_call 1} out_SourceVbo_1, out_sdv_140, out_TargetVbo_1, out_vslice_dummy_var_71 := FatMergeAllocation_loop_L28(in_Lbo_4, out_SourceVbo_1, out_sdv_140, out_TargetVbo_1, in_ByteCount_3, in_Vcb_21, in_Mcb_1, in_SecondMcb, out_vslice_dummy_var_71);
    return;
}



procedure {:LoopProcedure} FatMergeAllocation_loop_L28(in_Lbo_4: int, in_SourceVbo_1: int, in_sdv_140: int, in_TargetVbo_1: int, in_ByteCount_3: int, in_Vcb_21: int, in_Mcb_1: int, in_SecondMcb: int, in_vslice_dummy_var_71: int) returns (out_SourceVbo_1: int, out_sdv_140: int, out_TargetVbo_1: int, out_vslice_dummy_var_71: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L141(in_SavedStartingFatIndex: int, in_Tmp_507: int, in_IrpContext_30: int, in_Vcb_23: int, in_StartingFatIndex: int, in_ChainTogether: int) returns (out_Tmp_507: int, out_StartingFatIndex: int)
{

  entry:
    out_Tmp_507, out_StartingFatIndex := in_Tmp_507, in_StartingFatIndex;
    goto L141, exit;

  exit:
    return;

  L141:
    goto anon223_Else;

  anon223_Else:
    assume {:partition} out_StartingFatIndex > in_SavedStartingFatIndex;
    out_StartingFatIndex := out_StartingFatIndex - 1;
    goto anon264_Then, anon264_Else;

  anon264_Else:
    assume {:partition} in_ChainTogether != 0;
    out_Tmp_507 := out_StartingFatIndex + 1;
    goto L146;

  L146:
    call {:si_unique_call 4555} FatSetFatEntry#1(in_IrpContext_30, in_Vcb_23, out_StartingFatIndex, out_Tmp_507);
    goto L146_dummy;

  L146_dummy:
    call {:si_unique_call 4556} {:si_old_unique_call 1} out_Tmp_507, out_StartingFatIndex := FatSetFatRun_loop_L141(in_SavedStartingFatIndex, out_Tmp_507, in_IrpContext_30, in_Vcb_23, out_StartingFatIndex, in_ChainTogether);
    return;

  anon264_Then:
    assume {:partition} in_ChainTogether == 0;
    out_Tmp_507 := 0;
    goto L146;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L141(in_SavedStartingFatIndex: int, in_Tmp_507: int, in_IrpContext_30: int, in_Vcb_23: int, in_StartingFatIndex: int, in_ChainTogether: int) returns (out_Tmp_507: int, out_StartingFatIndex: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L124(in_Tmp_424: int, in_Tmp_429: int, in_Tmp_431: int, in_Tmp_432: int, in_Tmp_439: int, in_i_6: int, in_Tmp_469: int, in_Tmp_470: int, in_Tmp_486: int, in_SavedBcbs: int) returns (out_Tmp_424: int, out_Tmp_429: int, out_Tmp_431: int, out_Tmp_432: int, out_Tmp_439: int, out_i_6: int, out_Tmp_469: int, out_Tmp_470: int, out_Tmp_486: int)
{

  entry:
    out_Tmp_424, out_Tmp_429, out_Tmp_431, out_Tmp_432, out_Tmp_439, out_i_6, out_Tmp_469, out_Tmp_470, out_Tmp_486 := in_Tmp_424, in_Tmp_429, in_Tmp_431, in_Tmp_432, in_Tmp_439, in_i_6, in_Tmp_469, in_Tmp_470, in_Tmp_486;
    goto L124, exit;

  exit:
    return;

  L124:
    out_Tmp_470 := out_i_6;
    goto anon251_Then, anon251_Else;

  anon251_Else:
    assume out_Tmp_470 <= 2;
    goto anon265_Then, anon265_Else;

  anon265_Else:
    assume out_Tmp_470 != 2;
    goto anon266_Then, anon266_Else;

  anon266_Else:
    assume out_Tmp_470 != 1;
    goto anon267_Then, anon267_Else;

  anon267_Else:
    assume out_Tmp_470 != 0;
    goto L308;

  L308:
    assume {:nonnull} out_Tmp_424 != 0;
    assume out_Tmp_424 > 0;
    goto anon242_Else;

  anon242_Else:
    out_Tmp_431 := out_i_6;
    goto anon252_Then, anon252_Else;

  anon252_Else:
    assume out_Tmp_431 <= 2;
    goto anon261_Then, anon261_Else;

  anon261_Else:
    assume out_Tmp_431 != 2;
    goto anon262_Then, anon262_Else;

  anon262_Else:
    assume out_Tmp_431 != 1;
    goto anon263_Then, anon263_Else;

  anon263_Else:
    assume out_Tmp_431 != 0;
    goto L318;

  L318:
    assume {:nonnull} out_Tmp_429 != 0;
    assume out_Tmp_429 > 0;
    goto anon243_Then, anon243_Else;

  anon243_Else:
    out_Tmp_439 := out_i_6;
    goto anon253_Then, anon253_Else;

  anon253_Else:
    assume out_Tmp_439 <= 2;
    goto anon258_Then, anon258_Else;

  anon258_Else:
    assume out_Tmp_439 != 2;
    goto anon259_Then, anon259_Else;

  anon259_Else:
    assume out_Tmp_439 != 1;
    goto anon260_Then, anon260_Else;

  anon260_Else:
    assume out_Tmp_439 != 0;
    goto L328;

  L328:
    assume {:nonnull} out_Tmp_469 != 0;
    assume out_Tmp_469 > 0;
    out_Tmp_432 := out_i_6;
    goto anon254_Then, anon254_Else;

  anon254_Else:
    assume out_Tmp_432 <= 2;
    goto anon255_Then, anon255_Else;

  anon255_Else:
    assume out_Tmp_432 != 2;
    goto anon256_Then, anon256_Else;

  anon256_Else:
    assume out_Tmp_432 != 1;
    goto anon257_Then, anon257_Else;

  anon257_Else:
    assume out_Tmp_432 != 0;
    goto L338;

  L338:
    assume {:nonnull} out_Tmp_486 != 0;
    assume out_Tmp_486 > 0;
    goto L132;

  L132:
    out_i_6 := out_i_6 + 1;
    goto L132_dummy;

  L132_dummy:
    call {:si_unique_call 4557} {:si_old_unique_call 1} out_Tmp_424, out_Tmp_429, out_Tmp_431, out_Tmp_432, out_Tmp_439, out_i_6, out_Tmp_469, out_Tmp_470, out_Tmp_486 := FatSetFatRun_loop_L124(out_Tmp_424, out_Tmp_429, out_Tmp_431, out_Tmp_432, out_Tmp_439, out_i_6, out_Tmp_469, out_Tmp_470, out_Tmp_486, in_SavedBcbs);
    return;

  anon257_Then:
    assume out_Tmp_432 == 0;
    out_Tmp_432 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_486;
    goto L338;

  anon256_Then:
    assume out_Tmp_432 == 1;
    out_Tmp_432 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_486;
    goto L338;

  anon255_Then:
    assume out_Tmp_432 == 2;
    out_Tmp_432 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_486;
    goto L338;

  anon254_Then:
    assume out_Tmp_432 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_486;
    goto L338;

  anon260_Then:
    assume out_Tmp_439 == 0;
    out_Tmp_439 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_469;
    goto L328;

  anon259_Then:
    assume out_Tmp_439 == 1;
    out_Tmp_439 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_469;
    goto L328;

  anon258_Then:
    assume out_Tmp_439 == 2;
    out_Tmp_439 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_469;
    goto L328;

  anon253_Then:
    assume out_Tmp_439 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_469;
    goto L328;

  anon243_Then:
    goto L132;

  anon263_Then:
    assume out_Tmp_431 == 0;
    out_Tmp_431 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_429;
    goto L318;

  anon262_Then:
    assume out_Tmp_431 == 1;
    out_Tmp_431 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_429;
    goto L318;

  anon261_Then:
    assume out_Tmp_431 == 2;
    out_Tmp_431 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_429;
    goto L318;

  anon252_Then:
    assume out_Tmp_431 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_429;
    goto L318;

  anon267_Then:
    assume out_Tmp_470 == 0;
    out_Tmp_470 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_424;
    goto L308;

  anon266_Then:
    assume out_Tmp_470 == 1;
    out_Tmp_470 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_424;
    goto L308;

  anon265_Then:
    assume out_Tmp_470 == 2;
    out_Tmp_470 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_424;
    goto L308;

  anon251_Then:
    assume out_Tmp_470 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_424;
    goto L308;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L124(in_Tmp_424: int, in_Tmp_429: int, in_Tmp_431: int, in_Tmp_432: int, in_Tmp_439: int, in_i_6: int, in_Tmp_469: int, in_Tmp_470: int, in_Tmp_486: int, in_SavedBcbs: int) returns (out_Tmp_424: int, out_Tmp_429: int, out_Tmp_431: int, out_Tmp_432: int, out_Tmp_439: int, out_i_6: int, out_Tmp_469: int, out_Tmp_470: int, out_Tmp_486: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L89(in_Tmp_426: int, in_Cluster: int, in_Tmp_466: int, in_Tmp_479: int, in_Tmp_481: int, in_PinnedFat_1: int, in_Tmp_492: int, in_Tmp_494: int, in_TmpFatEntry_2: int, in_StartingFatIndex: int, in_ClusterCount: int, in_ChainTogether: int) returns (out_Tmp_426: int, out_Cluster: int, out_Tmp_466: int, out_Tmp_479: int, out_Tmp_481: int, out_Tmp_492: int, out_Tmp_494: int)
{
  var vslice_dummy_var_563: int;

  entry:
    out_Tmp_426, out_Cluster, out_Tmp_466, out_Tmp_479, out_Tmp_481, out_Tmp_492, out_Tmp_494 := in_Tmp_426, in_Cluster, in_Tmp_466, in_Tmp_479, in_Tmp_481, in_Tmp_492, in_Tmp_494;
    goto L89, exit;

  exit:
    return;

  L89:
    goto anon216_Then;

  anon216_Then:
    assume {:partition} out_Cluster < in_StartingFatIndex + in_ClusterCount - 1;
    assume {:nonnull} in_PinnedFat_1 != 0;
    assume in_PinnedFat_1 > 0;
    havoc out_Tmp_466;
    assume {:nonnull} in_TmpFatEntry_2 != 0;
    assume in_TmpFatEntry_2 > 0;
    assume {:nonnull} out_Tmp_466 != 0;
    assume out_Tmp_466 > 0;
    havoc vslice_dummy_var_563;
    Mem_T.INT4[in_TmpFatEntry_2] := vslice_dummy_var_563;
    goto anon248_Then, anon248_Else;

  anon248_Else:
    assume {:partition} BAND(out_Cluster, 1) != 0;
    goto anon218_Then, anon218_Else;

  anon218_Else:
    assume {:partition} in_ChainTogether != 0;
    goto L98;

  L98:
    assume {:nonnull} in_TmpFatEntry_2 != 0;
    assume in_TmpFatEntry_2 > 0;
    call {:si_unique_call 4558} out_Tmp_479 := corral_nondet();
    goto L100;

  L100:
    assume {:nonnull} in_TmpFatEntry_2 != 0;
    assume in_TmpFatEntry_2 > 0;
    Mem_T.INT4[in_TmpFatEntry_2] := out_Tmp_479;
    assume {:nonnull} in_PinnedFat_1 != 0;
    assume in_PinnedFat_1 > 0;
    havoc out_Tmp_494;
    out_Tmp_481 := in_TmpFatEntry_2;
    assume {:nonnull} out_Tmp_481 != 0;
    assume out_Tmp_481 > 0;
    assume {:nonnull} out_Tmp_494 != 0;
    assume out_Tmp_494 > 0;
    assume {:nonnull} out_Tmp_481 != 0;
    assume out_Tmp_481 > 0;
    assume {:nonnull} out_Tmp_494 != 0;
    assume out_Tmp_494 > 0;
    out_Cluster := out_Cluster + 1;
    goto L100_dummy;

  L100_dummy:
    call {:si_unique_call 4559} {:si_old_unique_call 1} out_Tmp_426, out_Cluster, out_Tmp_466, out_Tmp_479, out_Tmp_481, out_Tmp_492, out_Tmp_494 := FatSetFatRun_loop_L89(out_Tmp_426, out_Cluster, out_Tmp_466, out_Tmp_479, out_Tmp_481, in_PinnedFat_1, out_Tmp_492, out_Tmp_494, in_TmpFatEntry_2, in_StartingFatIndex, in_ClusterCount, in_ChainTogether);
    return;

  anon218_Then:
    assume {:partition} in_ChainTogether == 0;
    goto L98;

  anon248_Then:
    assume {:partition} BAND(out_Cluster, 1) == 0;
    goto anon217_Then, anon217_Else;

  anon217_Else:
    assume {:partition} in_ChainTogether != 0;
    out_Tmp_426 := out_Cluster + 1;
    goto L105;

  L105:
    assume {:nonnull} in_TmpFatEntry_2 != 0;
    assume in_TmpFatEntry_2 > 0;
    out_Tmp_492 := BAND(Mem_T.INT4[in_TmpFatEntry_2], BOR(BOR(BOR(4096, 8192), 16384), 32768));
    out_Tmp_479 := BOR(out_Tmp_426, out_Tmp_492);
    goto L100;

  anon217_Then:
    assume {:partition} in_ChainTogether == 0;
    out_Tmp_426 := 0;
    goto L105;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L89(in_Tmp_426: int, in_Cluster: int, in_Tmp_466: int, in_Tmp_479: int, in_Tmp_481: int, in_PinnedFat_1: int, in_Tmp_492: int, in_Tmp_494: int, in_TmpFatEntry_2: int, in_StartingFatIndex: int, in_ClusterCount: int, in_ChainTogether: int) returns (out_Tmp_426: int, out_Cluster: int, out_Tmp_466: int, out_Tmp_479: int, out_Tmp_481: int, out_Tmp_492: int, out_Tmp_494: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_481 == in_Tmp_481 || out_Tmp_481 == in_TmpFatEntry_2;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L78(in_Lbo_5: int, in_FinalSectorLbo: int, in_Tmp_463: int, in_SectorSize_1: int, in_Vcb_23: int, in_vslice_dummy_var_74: int) returns (out_Lbo_5: int, out_Tmp_463: int, out_vslice_dummy_var_74: int)
{

  entry:
    out_Lbo_5, out_Tmp_463, out_vslice_dummy_var_74 := in_Lbo_5, in_Tmp_463, in_vslice_dummy_var_74;
    goto L78, exit;

  exit:
    return;

  L78:
    goto anon215_Else;

  anon215_Else:
    assume {:partition} in_FinalSectorLbo >= out_Lbo_5;
    out_Tmp_463 := out_Lbo_5;
    assume {:nonnull} in_Vcb_23 != 0;
    assume in_Vcb_23 > 0;
    call {:si_unique_call 4560} out_vslice_dummy_var_74 := FatAddMcbEntry(in_Vcb_23, DirtyFatMcb__VCB(in_Vcb_23), out_Tmp_463, out_Lbo_5, in_SectorSize_1);
    out_Lbo_5 := out_Lbo_5 + in_SectorSize_1;
    goto anon215_Else_dummy;

  anon215_Else_dummy:
    havoc out_Lbo_5;
    return;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L78(in_Lbo_5: int, in_FinalSectorLbo: int, in_Tmp_463: int, in_SectorSize_1: int, in_Vcb_23: int, in_vslice_dummy_var_74: int) returns (out_Lbo_5: int, out_Tmp_463: int, out_vslice_dummy_var_74: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_463 == in_Lbo_5 || out_Tmp_463 == in_Tmp_463;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L269(in_Cluster: int, in_FatEntry_3: int, in_Tmp_457: int, in_Tmp_467: int, in_Page_1: int, in_SavedBcbs: int, in_Tmp_508: int, in_FinalCluster_1: int, in_StartingFatIndex: int, in_ChainTogether: int) returns (out_Cluster: int, out_FatEntry_3: int, out_Tmp_457: int, out_Tmp_467: int, out_Page_1: int, out_Tmp_508: int)
{

  entry:
    out_Cluster, out_FatEntry_3, out_Tmp_457, out_Tmp_467, out_Page_1, out_Tmp_508 := in_Cluster, in_FatEntry_3, in_Tmp_457, in_Tmp_467, in_Page_1, in_Tmp_508;
    goto L269, exit;

  exit:
    return;

  L269:
    goto anon237_Else;

  anon237_Else:
    assume {:partition} in_FinalCluster_1 >= out_Cluster;
    goto anon239_Then, anon239_Else;

  anon239_Else:
    assume {:partition} BAND(out_FatEntry_3, 4095) != 0;
    goto L273;

  L273:
    goto anon241_Then, anon241_Else;

  anon241_Else:
    assume {:partition} in_ChainTogether != 0;
    out_Tmp_467 := out_Cluster + 1;
    goto L276;

  L276:
    assume {:nonnull} out_FatEntry_3 != 0;
    assume out_FatEntry_3 > 0;
    Mem_T.INT4[out_FatEntry_3] := out_Tmp_467;
    out_Cluster := out_Cluster + 1;
    goto L276_dummy;

  L276_dummy:
    call {:si_unique_call 4561} {:si_old_unique_call 1} out_Cluster, out_FatEntry_3, out_Tmp_457, out_Tmp_467, out_Page_1, out_Tmp_508 := FatSetFatRun_loop_L269(out_Cluster, out_FatEntry_3, out_Tmp_457, out_Tmp_467, out_Page_1, in_SavedBcbs, out_Tmp_508, in_FinalCluster_1, in_StartingFatIndex, in_ChainTogether);
    return;

  anon241_Then:
    assume {:partition} in_ChainTogether == 0;
    out_Tmp_467 := 0;
    goto L276;

  anon239_Then:
    assume {:partition} BAND(out_FatEntry_3, 4095) == 0;
    goto anon240_Then, anon240_Else;

  anon240_Else:
    assume {:partition} out_Cluster != in_StartingFatIndex;
    out_Page_1 := out_Page_1 + 1;
    out_Tmp_508 := out_Page_1;
    goto anon309_Then, anon309_Else;

  anon309_Else:
    assume out_Tmp_508 <= 2;
    goto anon310_Then, anon310_Else;

  anon310_Else:
    assume out_Tmp_508 != 2;
    goto anon311_Then, anon311_Else;

  anon311_Else:
    assume out_Tmp_508 != 1;
    goto anon312_Then, anon312_Else;

  anon312_Else:
    assume out_Tmp_508 != 0;
    goto L448;

  L448:
    assume {:nonnull} out_Tmp_457 != 0;
    assume out_Tmp_457 > 0;
    havoc out_FatEntry_3;
    goto L273;

  anon312_Then:
    assume out_Tmp_508 == 0;
    out_Tmp_508 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_457;
    goto L448;

  anon311_Then:
    assume out_Tmp_508 == 1;
    out_Tmp_508 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_457;
    goto L448;

  anon310_Then:
    assume out_Tmp_508 == 2;
    out_Tmp_508 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_457;
    goto L448;

  anon309_Then:
    assume out_Tmp_508 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_457;
    goto L448;

  anon240_Then:
    assume {:partition} out_Cluster == in_StartingFatIndex;
    goto L273;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L269(in_Cluster: int, in_FatEntry_3: int, in_Tmp_457: int, in_Tmp_467: int, in_Page_1: int, in_SavedBcbs: int, in_Tmp_508: int, in_FinalCluster_1: int, in_StartingFatIndex: int, in_ChainTogether: int) returns (out_Cluster: int, out_FatEntry_3: int, out_Tmp_457: int, out_Tmp_467: int, out_Page_1: int, out_Tmp_508: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L260(in_Lbo_5: int, in_FinalSectorLbo: int, in_Tmp_487: int, in_SectorSize_1: int, in_Vcb_23: int, in_vslice_dummy_var_76: int) returns (out_Lbo_5: int, out_Tmp_487: int, out_vslice_dummy_var_76: int)
{

  entry:
    out_Lbo_5, out_Tmp_487, out_vslice_dummy_var_76 := in_Lbo_5, in_Tmp_487, in_vslice_dummy_var_76;
    goto L260, exit;

  exit:
    return;

  L260:
    goto anon236_Else;

  anon236_Else:
    assume {:partition} in_FinalSectorLbo >= out_Lbo_5;
    out_Tmp_487 := out_Lbo_5;
    assume {:nonnull} in_Vcb_23 != 0;
    assume in_Vcb_23 > 0;
    call {:si_unique_call 4562} out_vslice_dummy_var_76 := FatAddMcbEntry(in_Vcb_23, DirtyFatMcb__VCB(in_Vcb_23), out_Tmp_487, out_Lbo_5, in_SectorSize_1);
    out_Lbo_5 := out_Lbo_5 + in_SectorSize_1;
    goto anon236_Else_dummy;

  anon236_Else_dummy:
    havoc out_Lbo_5;
    return;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L260(in_Lbo_5: int, in_FinalSectorLbo: int, in_Tmp_487: int, in_SectorSize_1: int, in_Vcb_23: int, in_vslice_dummy_var_76: int) returns (out_Lbo_5: int, out_Tmp_487: int, out_vslice_dummy_var_76: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_487 == in_Lbo_5 || out_Tmp_487 == in_Tmp_487;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L246(in_NumberOfPages: int, in_Tmp_445: int, in_Tmp_450: int, in_FatEntry_3: int, in_Tmp_459: int, in_Tmp_464: int, in_Offset_2: int, in_Tmp_480: int, in_Tmp_482: int, in_Tmp_489: int, in_Page_1: int, in_SavedBcbs: int, in_IrpContext_30: int, in_Vcb_23: int) returns (out_Tmp_445: int, out_Tmp_450: int, out_FatEntry_3: int, out_Tmp_459: int, out_Tmp_464: int, out_Offset_2: int, out_Tmp_480: int, out_Tmp_482: int, out_Tmp_489: int, out_Page_1: int)
{

  entry:
    out_Tmp_445, out_Tmp_450, out_FatEntry_3, out_Tmp_459, out_Tmp_464, out_Offset_2, out_Tmp_480, out_Tmp_482, out_Tmp_489, out_Page_1 := in_Tmp_445, in_Tmp_450, in_FatEntry_3, in_Tmp_459, in_Tmp_464, in_Offset_2, in_Tmp_480, in_Tmp_482, in_Tmp_489, in_Page_1;
    goto L246, exit;

  exit:
    return;

  L246:
    goto anon234_Else;

  anon234_Else:
    assume {:partition} in_NumberOfPages > out_Page_1;
    out_Tmp_459 := out_Page_1;
    goto anon301_Then, anon301_Else;

  anon301_Else:
    assume out_Tmp_459 <= 2;
    goto anon306_Then, anon306_Else;

  anon306_Else:
    assume out_Tmp_459 != 2;
    goto anon307_Then, anon307_Else;

  anon307_Else:
    assume out_Tmp_459 != 1;
    goto anon308_Then, anon308_Else;

  anon308_Else:
    assume out_Tmp_459 != 0;
    goto L428;

  L428:
    out_Tmp_445 := out_Tmp_464 + 1 * 4;
    out_Tmp_482 := out_Page_1;
    goto anon302_Then, anon302_Else;

  anon302_Else:
    assume out_Tmp_482 <= 2;
    goto anon303_Then, anon303_Else;

  anon303_Else:
    assume out_Tmp_482 != 2;
    goto anon304_Then, anon304_Else;

  anon304_Else:
    assume out_Tmp_482 != 1;
    goto anon305_Then, anon305_Else;

  anon305_Else:
    assume out_Tmp_482 != 0;
    goto L438;

  L438:
    out_Tmp_480 := out_Tmp_450;
    call {:si_unique_call 4563} FatPrepareWriteVolumeFile#1(in_IrpContext_30, in_Vcb_23, out_Offset_2, 4096, out_Tmp_480, out_Tmp_445, 1, 0);
    goto anon235_Then, anon235_Else;

  anon235_Else:
    assume {:partition} out_Page_1 == 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_489;
    assume {:nonnull} out_Tmp_489 != 0;
    assume out_Tmp_489 > 0;
    havoc out_FatEntry_3;
    goto L255;

  L255:
    out_Page_1 := out_Page_1 + 1;
    out_Offset_2 := out_Offset_2 + 4096;
    goto L255_dummy;

  L255_dummy:
    call {:si_unique_call 4564} {:si_old_unique_call 1} out_Tmp_445, out_Tmp_450, out_FatEntry_3, out_Tmp_459, out_Tmp_464, out_Offset_2, out_Tmp_480, out_Tmp_482, out_Tmp_489, out_Page_1 := FatSetFatRun_loop_L246(in_NumberOfPages, out_Tmp_445, out_Tmp_450, out_FatEntry_3, out_Tmp_459, out_Tmp_464, out_Offset_2, out_Tmp_480, out_Tmp_482, out_Tmp_489, out_Page_1, in_SavedBcbs, in_IrpContext_30, in_Vcb_23);
    return;

  anon235_Then:
    assume {:partition} out_Page_1 != 0;
    goto L255;

  anon305_Then:
    assume out_Tmp_482 == 0;
    out_Tmp_482 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_450;
    goto L438;

  anon304_Then:
    assume out_Tmp_482 == 1;
    out_Tmp_482 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_450;
    goto L438;

  anon303_Then:
    assume out_Tmp_482 == 2;
    out_Tmp_482 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_450;
    goto L438;

  anon302_Then:
    assume out_Tmp_482 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_450;
    goto L438;

  anon308_Then:
    assume out_Tmp_459 == 0;
    out_Tmp_459 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_464;
    goto L428;

  anon307_Then:
    assume out_Tmp_459 == 1;
    out_Tmp_459 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_464;
    goto L428;

  anon306_Then:
    assume out_Tmp_459 == 2;
    out_Tmp_459 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_464;
    goto L428;

  anon301_Then:
    assume out_Tmp_459 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_464;
    goto L428;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L246(in_NumberOfPages: int, in_Tmp_445: int, in_Tmp_450: int, in_FatEntry_3: int, in_Tmp_459: int, in_Tmp_464: int, in_Offset_2: int, in_Tmp_480: int, in_Tmp_482: int, in_Tmp_489: int, in_Page_1: int, in_SavedBcbs: int, in_IrpContext_30: int, in_Vcb_23: int) returns (out_Tmp_445: int, out_Tmp_450: int, out_FatEntry_3: int, out_Tmp_459: int, out_Tmp_464: int, out_Offset_2: int, out_Tmp_480: int, out_Tmp_482: int, out_Tmp_489: int, out_Page_1: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L216(in_Tmp_437: int, in_Tmp_442: int, in_Tmp_444: int, in_Tmp_454: int, in_Tmp_456: int, in_i_7: int, in_Tmp_476: int, in_Tmp_477: int, in_Tmp_478: int, in_Tmp_484: int, in_SavedBcbs: int, in_Tmp_503: int) returns (out_Tmp_437: int, out_Tmp_442: int, out_Tmp_444: int, out_Tmp_454: int, out_Tmp_456: int, out_i_7: int, out_Tmp_476: int, out_Tmp_477: int, out_Tmp_478: int, out_Tmp_484: int, out_Tmp_503: int)
{

  entry:
    out_Tmp_437, out_Tmp_442, out_Tmp_444, out_Tmp_454, out_Tmp_456, out_i_7, out_Tmp_476, out_Tmp_477, out_Tmp_478, out_Tmp_484, out_Tmp_503 := in_Tmp_437, in_Tmp_442, in_Tmp_444, in_Tmp_454, in_Tmp_456, in_i_7, in_Tmp_476, in_Tmp_477, in_Tmp_478, in_Tmp_484, in_Tmp_503;
    goto L216, exit;

  exit:
    return;

  L216:
    out_Tmp_484 := out_i_7;
    goto anon281_Then, anon281_Else;

  anon281_Else:
    assume out_Tmp_484 <= 2;
    goto anon298_Then, anon298_Else;

  anon298_Else:
    assume out_Tmp_484 != 2;
    goto anon299_Then, anon299_Else;

  anon299_Else:
    assume out_Tmp_484 != 1;
    goto anon300_Then, anon300_Else;

  anon300_Else:
    assume out_Tmp_484 != 0;
    goto L378;

  L378:
    assume {:nonnull} out_Tmp_442 != 0;
    assume out_Tmp_442 > 0;
    goto anon244_Else;

  anon244_Else:
    out_Tmp_444 := out_i_7;
    goto anon282_Then, anon282_Else;

  anon282_Else:
    assume out_Tmp_444 <= 2;
    goto anon295_Then, anon295_Else;

  anon295_Else:
    assume out_Tmp_444 != 2;
    goto anon296_Then, anon296_Else;

  anon296_Else:
    assume out_Tmp_444 != 1;
    goto anon297_Then, anon297_Else;

  anon297_Else:
    assume out_Tmp_444 != 0;
    goto L388;

  L388:
    assume {:nonnull} out_Tmp_437 != 0;
    assume out_Tmp_437 > 0;
    goto anon245_Then, anon245_Else;

  anon245_Else:
    out_Tmp_477 := out_i_7;
    goto anon283_Then, anon283_Else;

  anon283_Else:
    assume out_Tmp_477 <= 2;
    goto anon292_Then, anon292_Else;

  anon292_Else:
    assume out_Tmp_477 != 2;
    goto anon293_Then, anon293_Else;

  anon293_Else:
    assume out_Tmp_477 != 1;
    goto anon294_Then, anon294_Else;

  anon294_Else:
    assume out_Tmp_477 != 0;
    goto L398;

  L398:
    assume {:nonnull} out_Tmp_503 != 0;
    assume out_Tmp_503 > 0;
    out_Tmp_478 := out_i_7;
    goto anon284_Then, anon284_Else;

  anon284_Else:
    assume out_Tmp_478 <= 2;
    goto anon289_Then, anon289_Else;

  anon289_Else:
    assume out_Tmp_478 != 2;
    goto anon290_Then, anon290_Else;

  anon290_Else:
    assume out_Tmp_478 != 1;
    goto anon291_Then, anon291_Else;

  anon291_Else:
    assume out_Tmp_478 != 0;
    goto L408;

  L408:
    assume {:nonnull} out_Tmp_476 != 0;
    assume out_Tmp_476 > 0;
    goto L219;

  L219:
    out_Tmp_454 := out_i_7;
    goto anon285_Then, anon285_Else;

  anon285_Else:
    assume out_Tmp_454 <= 2;
    goto anon286_Then, anon286_Else;

  anon286_Else:
    assume out_Tmp_454 != 2;
    goto anon287_Then, anon287_Else;

  anon287_Else:
    assume out_Tmp_454 != 1;
    goto anon288_Then, anon288_Else;

  anon288_Else:
    assume out_Tmp_454 != 0;
    goto L418;

  L418:
    assume {:nonnull} out_Tmp_456 != 0;
    assume out_Tmp_456 > 0;
    out_i_7 := out_i_7 + 1;
    goto L418_dummy;

  L418_dummy:
    call {:si_unique_call 4565} {:si_old_unique_call 1} out_Tmp_437, out_Tmp_442, out_Tmp_444, out_Tmp_454, out_Tmp_456, out_i_7, out_Tmp_476, out_Tmp_477, out_Tmp_478, out_Tmp_484, out_Tmp_503 := FatSetFatRun_loop_L216(out_Tmp_437, out_Tmp_442, out_Tmp_444, out_Tmp_454, out_Tmp_456, out_i_7, out_Tmp_476, out_Tmp_477, out_Tmp_478, out_Tmp_484, in_SavedBcbs, out_Tmp_503);
    return;

  anon288_Then:
    assume out_Tmp_454 == 0;
    out_Tmp_454 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_456;
    goto L418;

  anon287_Then:
    assume out_Tmp_454 == 1;
    out_Tmp_454 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_456;
    goto L418;

  anon286_Then:
    assume out_Tmp_454 == 2;
    out_Tmp_454 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_456;
    goto L418;

  anon285_Then:
    assume out_Tmp_454 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_456;
    goto L418;

  anon291_Then:
    assume out_Tmp_478 == 0;
    out_Tmp_478 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_476;
    goto L408;

  anon290_Then:
    assume out_Tmp_478 == 1;
    out_Tmp_478 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_476;
    goto L408;

  anon289_Then:
    assume out_Tmp_478 == 2;
    out_Tmp_478 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_476;
    goto L408;

  anon284_Then:
    assume out_Tmp_478 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_476;
    goto L408;

  anon294_Then:
    assume out_Tmp_477 == 0;
    out_Tmp_477 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_503;
    goto L398;

  anon293_Then:
    assume out_Tmp_477 == 1;
    out_Tmp_477 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_503;
    goto L398;

  anon292_Then:
    assume out_Tmp_477 == 2;
    out_Tmp_477 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_503;
    goto L398;

  anon283_Then:
    assume out_Tmp_477 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_503;
    goto L398;

  anon245_Then:
    goto L219;

  anon297_Then:
    assume out_Tmp_444 == 0;
    out_Tmp_444 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_437;
    goto L388;

  anon296_Then:
    assume out_Tmp_444 == 1;
    out_Tmp_444 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_437;
    goto L388;

  anon295_Then:
    assume out_Tmp_444 == 2;
    out_Tmp_444 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_437;
    goto L388;

  anon282_Then:
    assume out_Tmp_444 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_437;
    goto L388;

  anon300_Then:
    assume out_Tmp_484 == 0;
    out_Tmp_484 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_442;
    goto L378;

  anon299_Then:
    assume out_Tmp_484 == 1;
    out_Tmp_484 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_442;
    goto L378;

  anon298_Then:
    assume out_Tmp_484 == 2;
    out_Tmp_484 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_442;
    goto L378;

  anon281_Then:
    assume out_Tmp_484 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_442;
    goto L378;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L216(in_Tmp_437: int, in_Tmp_442: int, in_Tmp_444: int, in_Tmp_454: int, in_Tmp_456: int, in_i_7: int, in_Tmp_476: int, in_Tmp_477: int, in_Tmp_478: int, in_Tmp_484: int, in_SavedBcbs: int, in_Tmp_503: int) returns (out_Tmp_437: int, out_Tmp_442: int, out_Tmp_444: int, out_Tmp_454: int, out_Tmp_456: int, out_i_7: int, out_Tmp_476: int, out_Tmp_477: int, out_Tmp_478: int, out_Tmp_484: int, out_Tmp_503: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L200(in_FinalCluster: int, in_Tmp_428: int, in_Cluster: int, in_FatEntry_4: int, in_Tmp_471: int, in_Tmp_474: int, in_SavedBcbs: int, in_Page_2: int, in_StartingFatIndex: int, in_ChainTogether: int) returns (out_Tmp_428: int, out_Cluster: int, out_FatEntry_4: int, out_Tmp_471: int, out_Tmp_474: int, out_Page_2: int)
{

  entry:
    out_Tmp_428, out_Cluster, out_FatEntry_4, out_Tmp_471, out_Tmp_474, out_Page_2 := in_Tmp_428, in_Cluster, in_FatEntry_4, in_Tmp_471, in_Tmp_474, in_Page_2;
    goto L200, exit;

  exit:
    return;

  L200:
    goto anon227_Else;

  anon227_Else:
    assume {:partition} in_FinalCluster >= out_Cluster;
    goto anon229_Then, anon229_Else;

  anon229_Else:
    assume {:partition} BAND(out_FatEntry_4, 4095) != 0;
    goto L204;

  L204:
    goto anon231_Then, anon231_Else;

  anon231_Else:
    assume {:partition} in_ChainTogether != 0;
    out_Tmp_428 := out_Cluster + 1;
    goto L207;

  L207:
    assume {:nonnull} out_FatEntry_4 != 0;
    assume out_FatEntry_4 > 0;
    Mem_T.INT4[out_FatEntry_4] := out_Tmp_428;
    out_Cluster := out_Cluster + 1;
    goto L207_dummy;

  L207_dummy:
    call {:si_unique_call 4566} {:si_old_unique_call 1} out_Tmp_428, out_Cluster, out_FatEntry_4, out_Tmp_471, out_Tmp_474, out_Page_2 := FatSetFatRun_loop_L200(in_FinalCluster, out_Tmp_428, out_Cluster, out_FatEntry_4, out_Tmp_471, out_Tmp_474, in_SavedBcbs, out_Page_2, in_StartingFatIndex, in_ChainTogether);
    return;

  anon231_Then:
    assume {:partition} in_ChainTogether == 0;
    out_Tmp_428 := 0;
    goto L207;

  anon229_Then:
    assume {:partition} BAND(out_FatEntry_4, 4095) == 0;
    goto anon230_Then, anon230_Else;

  anon230_Else:
    assume {:partition} out_Cluster != in_StartingFatIndex;
    out_Page_2 := out_Page_2 + 1;
    out_Tmp_474 := out_Page_2;
    goto anon277_Then, anon277_Else;

  anon277_Else:
    assume out_Tmp_474 <= 2;
    goto anon278_Then, anon278_Else;

  anon278_Else:
    assume out_Tmp_474 != 2;
    goto anon279_Then, anon279_Else;

  anon279_Else:
    assume out_Tmp_474 != 1;
    goto anon280_Then, anon280_Else;

  anon280_Else:
    assume out_Tmp_474 != 0;
    goto L368;

  L368:
    assume {:nonnull} out_Tmp_471 != 0;
    assume out_Tmp_471 > 0;
    havoc out_FatEntry_4;
    goto L204;

  anon280_Then:
    assume out_Tmp_474 == 0;
    out_Tmp_474 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_471;
    goto L368;

  anon279_Then:
    assume out_Tmp_474 == 1;
    out_Tmp_474 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_471;
    goto L368;

  anon278_Then:
    assume out_Tmp_474 == 2;
    out_Tmp_474 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_471;
    goto L368;

  anon277_Then:
    assume out_Tmp_474 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_471;
    goto L368;

  anon230_Then:
    assume {:partition} out_Cluster == in_StartingFatIndex;
    goto L204;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L200(in_FinalCluster: int, in_Tmp_428: int, in_Cluster: int, in_FatEntry_4: int, in_Tmp_471: int, in_Tmp_474: int, in_SavedBcbs: int, in_Page_2: int, in_StartingFatIndex: int, in_ChainTogether: int) returns (out_Tmp_428: int, out_Cluster: int, out_FatEntry_4: int, out_Tmp_471: int, out_Tmp_474: int, out_Page_2: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L191(in_Lbo_5: int, in_Tmp_446: int, in_FinalSectorLbo: int, in_SectorSize_1: int, in_Vcb_23: int, in_vslice_dummy_var_75: int) returns (out_Lbo_5: int, out_Tmp_446: int, out_vslice_dummy_var_75: int)
{

  entry:
    out_Lbo_5, out_Tmp_446, out_vslice_dummy_var_75 := in_Lbo_5, in_Tmp_446, in_vslice_dummy_var_75;
    goto L191, exit;

  exit:
    return;

  L191:
    goto anon226_Else;

  anon226_Else:
    assume {:partition} in_FinalSectorLbo >= out_Lbo_5;
    out_Tmp_446 := out_Lbo_5;
    assume {:nonnull} in_Vcb_23 != 0;
    assume in_Vcb_23 > 0;
    call {:si_unique_call 4567} out_vslice_dummy_var_75 := FatAddMcbEntry(in_Vcb_23, DirtyFatMcb__VCB(in_Vcb_23), out_Tmp_446, out_Lbo_5, in_SectorSize_1);
    out_Lbo_5 := out_Lbo_5 + in_SectorSize_1;
    goto anon226_Else_dummy;

  anon226_Else_dummy:
    call {:si_unique_call 4568} {:si_old_unique_call 1} out_Lbo_5, out_Tmp_446, out_vslice_dummy_var_75 := FatSetFatRun_loop_L191(out_Lbo_5, out_Tmp_446, in_FinalSectorLbo, in_SectorSize_1, in_Vcb_23, out_vslice_dummy_var_75);
    return;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L191(in_Lbo_5: int, in_Tmp_446: int, in_FinalSectorLbo: int, in_SectorSize_1: int, in_Vcb_23: int, in_vslice_dummy_var_75: int) returns (out_Lbo_5: int, out_Tmp_446: int, out_vslice_dummy_var_75: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L177(in_Tmp_430: int, in_Tmp_434: int, in_FatEntry_4: int, in_Tmp_465: int, in_Offset_1: int, in_Tmp_472: int, in_SavedBcbs: int, in_Page_2: int, in_Tmp_495: int, in_Tmp_497: int, in_Tmp_504: int, in_NumberOfPages_1: int, in_IrpContext_30: int, in_Vcb_23: int) returns (out_Tmp_430: int, out_Tmp_434: int, out_FatEntry_4: int, out_Tmp_465: int, out_Offset_1: int, out_Tmp_472: int, out_Page_2: int, out_Tmp_495: int, out_Tmp_497: int, out_Tmp_504: int)
{

  entry:
    out_Tmp_430, out_Tmp_434, out_FatEntry_4, out_Tmp_465, out_Offset_1, out_Tmp_472, out_Page_2, out_Tmp_495, out_Tmp_497, out_Tmp_504 := in_Tmp_430, in_Tmp_434, in_FatEntry_4, in_Tmp_465, in_Offset_1, in_Tmp_472, in_Page_2, in_Tmp_495, in_Tmp_497, in_Tmp_504;
    goto L177, exit;

  exit:
    return;

  L177:
    goto anon224_Else;

  anon224_Else:
    assume {:partition} in_NumberOfPages_1 > out_Page_2;
    out_Tmp_430 := out_Page_2;
    goto anon269_Then, anon269_Else;

  anon269_Else:
    assume out_Tmp_430 <= 2;
    goto anon274_Then, anon274_Else;

  anon274_Else:
    assume out_Tmp_430 != 2;
    goto anon275_Then, anon275_Else;

  anon275_Else:
    assume out_Tmp_430 != 1;
    goto anon276_Then, anon276_Else;

  anon276_Else:
    assume out_Tmp_430 != 0;
    goto L348;

  L348:
    out_Tmp_465 := out_Tmp_434 + 1 * 4;
    out_Tmp_495 := out_Page_2;
    goto anon270_Then, anon270_Else;

  anon270_Else:
    assume out_Tmp_495 <= 2;
    goto anon271_Then, anon271_Else;

  anon271_Else:
    assume out_Tmp_495 != 2;
    goto anon272_Then, anon272_Else;

  anon272_Else:
    assume out_Tmp_495 != 1;
    goto anon273_Then, anon273_Else;

  anon273_Else:
    assume out_Tmp_495 != 0;
    goto L358;

  L358:
    out_Tmp_504 := out_Tmp_472;
    call {:si_unique_call 4569} FatPrepareWriteVolumeFile#1(in_IrpContext_30, in_Vcb_23, out_Offset_1, 4096, out_Tmp_504, out_Tmp_465, 1, 0);
    goto anon225_Then, anon225_Else;

  anon225_Else:
    assume {:partition} out_Page_2 == 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_497;
    assume {:nonnull} out_Tmp_497 != 0;
    assume out_Tmp_497 > 0;
    havoc out_FatEntry_4;
    goto L186;

  L186:
    out_Page_2 := out_Page_2 + 1;
    out_Offset_1 := out_Offset_1 + 4096;
    goto L186_dummy;

  L186_dummy:
    call {:si_unique_call 4570} {:si_old_unique_call 1} out_Tmp_430, out_Tmp_434, out_FatEntry_4, out_Tmp_465, out_Offset_1, out_Tmp_472, out_Page_2, out_Tmp_495, out_Tmp_497, out_Tmp_504 := FatSetFatRun_loop_L177(out_Tmp_430, out_Tmp_434, out_FatEntry_4, out_Tmp_465, out_Offset_1, out_Tmp_472, in_SavedBcbs, out_Page_2, out_Tmp_495, out_Tmp_497, out_Tmp_504, in_NumberOfPages_1, in_IrpContext_30, in_Vcb_23);
    return;

  anon225_Then:
    assume {:partition} out_Page_2 != 0;
    goto L186;

  anon273_Then:
    assume out_Tmp_495 == 0;
    out_Tmp_495 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_472;
    goto L358;

  anon272_Then:
    assume out_Tmp_495 == 1;
    out_Tmp_495 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_472;
    goto L358;

  anon271_Then:
    assume out_Tmp_495 == 2;
    out_Tmp_495 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_472;
    goto L358;

  anon270_Then:
    assume out_Tmp_495 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_472;
    goto L358;

  anon276_Then:
    assume out_Tmp_430 == 0;
    out_Tmp_430 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_434;
    goto L348;

  anon275_Then:
    assume out_Tmp_430 == 1;
    out_Tmp_430 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_434;
    goto L348;

  anon274_Then:
    assume out_Tmp_430 == 2;
    out_Tmp_430 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_434;
    goto L348;

  anon269_Then:
    assume out_Tmp_430 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_434;
    goto L348;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L177(in_Tmp_430: int, in_Tmp_434: int, in_FatEntry_4: int, in_Tmp_465: int, in_Offset_1: int, in_Tmp_472: int, in_SavedBcbs: int, in_Page_2: int, in_Tmp_495: int, in_Tmp_497: int, in_Tmp_504: int, in_NumberOfPages_1: int, in_IrpContext_30: int, in_Vcb_23: int) returns (out_Tmp_430: int, out_Tmp_434: int, out_FatEntry_4: int, out_Tmp_465: int, out_Offset_1: int, out_Tmp_472: int, out_Page_2: int, out_Tmp_495: int, out_Tmp_497: int, out_Tmp_504: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFatRun_loop_L161(in_Lbo_5: int, in_FinalCluster: int, in_Tmp_428: int, in_StartSectorLbo: int, in_Tmp_430: int, in_Tmp_434: int, in_Tmp_437: int, in_Cluster: int, in_Tmp_442: int, in_FinalOffsetInVolume: int, in_Tmp_444: int, in_Tmp_446: int, in_Tmp_454: int, in_Tmp_456: int, in_FatEntry_4: int, in_FinalSectorLbo: int, in_Tmp_465: int, in_i_7: int, in_Offset_1: int, in_Tmp_471: int, in_Tmp_472: int, in_Tmp_474: int, in_Tmp_475: int, in_Tmp_476: int, in_Tmp_477: int, in_Tmp_478: int, in_StartOffsetInVolume_1: int, in_Tmp_484: int, in_SavedBcbs: int, in_Page_2: int, in_Tmp_495: int, in_Tmp_497: int, in_Tmp_500: int, in_SectorSize_1: int, in_Tmp_503: int, in_Tmp_504: int, in_NumberOfPages_1: int, in_ClusterCountThisRun: int, in_Tmp_509: int, in_Tmp_510: int, in_IrpContext_30: int, in_Vcb_23: int, in_StartingFatIndex: int, in_ClusterCount: int, in_ChainTogether: int, in_vslice_dummy_var_75: int) returns (out_Lbo_5: int, out_FinalCluster: int, out_Tmp_428: int, out_StartSectorLbo: int, out_Tmp_430: int, out_Tmp_434: int, out_Tmp_437: int, out_Cluster: int, out_Tmp_442: int, out_FinalOffsetInVolume: int, out_Tmp_444: int, out_Tmp_446: int, out_Tmp_454: int, out_Tmp_456: int, out_FatEntry_4: int, out_FinalSectorLbo: int, out_Tmp_465: int, out_i_7: int, out_Offset_1: int, out_Tmp_471: int, out_Tmp_472: int, out_Tmp_474: int, out_Tmp_475: int, out_Tmp_476: int, out_Tmp_477: int, out_Tmp_478: int, out_StartOffsetInVolume_1: int, out_Tmp_484: int, out_Page_2: int, out_Tmp_495: int, out_Tmp_497: int, out_Tmp_500: int, out_Tmp_503: int, out_Tmp_504: int, out_NumberOfPages_1: int, out_ClusterCountThisRun: int, out_Tmp_509: int, out_Tmp_510: int, out_StartingFatIndex: int, out_ClusterCount: int, out_vslice_dummy_var_75: int)
{

  entry:
    out_Lbo_5, out_FinalCluster, out_Tmp_428, out_StartSectorLbo, out_Tmp_430, out_Tmp_434, out_Tmp_437, out_Cluster, out_Tmp_442, out_FinalOffsetInVolume, out_Tmp_444, out_Tmp_446, out_Tmp_454, out_Tmp_456, out_FatEntry_4, out_FinalSectorLbo, out_Tmp_465, out_i_7, out_Offset_1, out_Tmp_471, out_Tmp_472, out_Tmp_474, out_Tmp_475, out_Tmp_476, out_Tmp_477, out_Tmp_478, out_StartOffsetInVolume_1, out_Tmp_484, out_Page_2, out_Tmp_495, out_Tmp_497, out_Tmp_500, out_Tmp_503, out_Tmp_504, out_NumberOfPages_1, out_ClusterCountThisRun, out_Tmp_509, out_Tmp_510, out_StartingFatIndex, out_ClusterCount, out_vslice_dummy_var_75 := in_Lbo_5, in_FinalCluster, in_Tmp_428, in_StartSectorLbo, in_Tmp_430, in_Tmp_434, in_Tmp_437, in_Cluster, in_Tmp_442, in_FinalOffsetInVolume, in_Tmp_444, in_Tmp_446, in_Tmp_454, in_Tmp_456, in_FatEntry_4, in_FinalSectorLbo, in_Tmp_465, in_i_7, in_Offset_1, in_Tmp_471, in_Tmp_472, in_Tmp_474, in_Tmp_475, in_Tmp_476, in_Tmp_477, in_Tmp_478, in_StartOffsetInVolume_1, in_Tmp_484, in_Page_2, in_Tmp_495, in_Tmp_497, in_Tmp_500, in_Tmp_503, in_Tmp_504, in_NumberOfPages_1, in_ClusterCountThisRun, in_Tmp_509, in_Tmp_510, in_StartingFatIndex, in_ClusterCount, in_vslice_dummy_var_75;
    goto L161, exit;

  exit:
    return;

  L161:
    assume {:nonnull} in_Vcb_23 != 0;
    assume in_Vcb_23 > 0;
    out_Tmp_509 := Bpb__VCB(in_Vcb_23);
    assume {:nonnull} in_Vcb_23 != 0;
    assume in_Vcb_23 > 0;
    out_Tmp_510 := Bpb__VCB(in_Vcb_23);
    assume {:nonnull} out_Tmp_509 != 0;
    assume out_Tmp_509 > 0;
    assume {:nonnull} out_Tmp_510 != 0;
    assume out_Tmp_510 > 0;
    havoc out_StartOffsetInVolume_1;
    goto anon268_Then, anon268_Else;

  anon268_Else:
    assume {:partition} out_ClusterCount > 65536;
    out_ClusterCountThisRun := 65536;
    goto L165;

  L165:
    out_FinalOffsetInVolume := out_StartOffsetInVolume_1 + (out_ClusterCountThisRun - 1) * 4;
    out_NumberOfPages_1 := INTDIV(out_FinalOffsetInVolume, 4096) - INTDIV(out_StartOffsetInVolume_1, 4096) + 1;
    out_Tmp_500 := (out_NumberOfPages_1 + 1) * 4 * 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_475;
    call {:si_unique_call 4576} sdv_RtlZeroMemory(0, out_Tmp_500);
    out_Page_2 := 0;
    out_Offset_1 := BAND(out_StartOffsetInVolume_1, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    goto L177;

  L177:
    call {:si_unique_call 4575} out_Tmp_430, out_Tmp_434, out_FatEntry_4, out_Tmp_465, out_Offset_1, out_Tmp_472, out_Page_2, out_Tmp_495, out_Tmp_497, out_Tmp_504 := FatSetFatRun_loop_L177(out_Tmp_430, out_Tmp_434, out_FatEntry_4, out_Tmp_465, out_Offset_1, out_Tmp_472, in_SavedBcbs, out_Page_2, out_Tmp_495, out_Tmp_497, out_Tmp_504, out_NumberOfPages_1, in_IrpContext_30, in_Vcb_23);
    goto L177_last;

  L177_last:
    goto anon224_Then, anon224_Else;

  anon224_Else:
    assume {:partition} out_NumberOfPages_1 > out_Page_2;
    out_Tmp_430 := out_Page_2;
    goto anon269_Then, anon269_Else;

  anon269_Else:
    assume out_Tmp_430 <= 2;
    goto anon274_Then, anon274_Else;

  anon274_Else:
    assume out_Tmp_430 != 2;
    goto anon275_Then, anon275_Else;

  anon275_Else:
    assume out_Tmp_430 != 1;
    goto anon276_Then, anon276_Else;

  anon276_Else:
    assume out_Tmp_430 != 0;
    goto L348;

  L348:
    out_Tmp_465 := out_Tmp_434 + 1 * 4;
    out_Tmp_495 := out_Page_2;
    goto anon270_Then, anon270_Else;

  anon270_Else:
    assume out_Tmp_495 <= 2;
    goto anon271_Then, anon271_Else;

  anon271_Else:
    assume out_Tmp_495 != 2;
    goto anon272_Then, anon272_Else;

  anon272_Else:
    assume out_Tmp_495 != 1;
    goto anon273_Then, anon273_Else;

  anon273_Else:
    assume out_Tmp_495 != 0;
    goto L358;

  L358:
    out_Tmp_504 := out_Tmp_472;
    call {:si_unique_call 4577} FatPrepareWriteVolumeFile#1(in_IrpContext_30, in_Vcb_23, out_Offset_1, 4096, out_Tmp_504, out_Tmp_465, 1, 0);
    goto anon225_Then, anon225_Else;

  anon225_Else:
    assume {:partition} out_Page_2 == 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_497;
    assume {:nonnull} out_Tmp_497 != 0;
    assume out_Tmp_497 > 0;
    havoc out_FatEntry_4;
    goto L186;

  L186:
    out_Page_2 := out_Page_2 + 1;
    out_Offset_1 := out_Offset_1 + 4096;
    assume false;
    return;

  anon225_Then:
    assume {:partition} out_Page_2 != 0;
    goto L186;

  anon273_Then:
    assume out_Tmp_495 == 0;
    out_Tmp_495 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_472;
    goto L358;

  anon272_Then:
    assume out_Tmp_495 == 1;
    out_Tmp_495 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_472;
    goto L358;

  anon271_Then:
    assume out_Tmp_495 == 2;
    out_Tmp_495 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_472;
    goto L358;

  anon270_Then:
    assume out_Tmp_495 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_472;
    goto L358;

  anon276_Then:
    assume out_Tmp_430 == 0;
    out_Tmp_430 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_434;
    goto L348;

  anon275_Then:
    assume out_Tmp_430 == 1;
    out_Tmp_430 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_434;
    goto L348;

  anon274_Then:
    assume out_Tmp_430 == 2;
    out_Tmp_430 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_434;
    goto L348;

  anon269_Then:
    assume out_Tmp_430 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_434;
    goto L348;

  anon224_Then:
    assume {:partition} out_Page_2 >= out_NumberOfPages_1;
    out_StartSectorLbo := BAND(out_StartOffsetInVolume_1, BNOT(in_SectorSize_1 - 1));
    out_FinalSectorLbo := BAND(out_FinalOffsetInVolume, BNOT(in_SectorSize_1 - 1));
    out_Lbo_5 := out_StartSectorLbo;
    goto L191;

  L191:
    call {:si_unique_call 4573} out_Lbo_5, out_Tmp_446, out_vslice_dummy_var_75 := FatSetFatRun_loop_L191(out_Lbo_5, out_Tmp_446, out_FinalSectorLbo, in_SectorSize_1, in_Vcb_23, out_vslice_dummy_var_75);
    goto L191_last;

  L191_last:
    goto anon226_Then, anon226_Else;

  anon226_Else:
    assume {:partition} out_FinalSectorLbo >= out_Lbo_5;
    out_Tmp_446 := out_Lbo_5;
    assume {:nonnull} in_Vcb_23 != 0;
    assume in_Vcb_23 > 0;
    call {:si_unique_call 4574} out_vslice_dummy_var_75 := FatAddMcbEntry(in_Vcb_23, DirtyFatMcb__VCB(in_Vcb_23), out_Tmp_446, out_Lbo_5, in_SectorSize_1);
    out_Lbo_5 := out_Lbo_5 + in_SectorSize_1;
    assume false;
    return;

  anon226_Then:
    assume {:partition} out_Lbo_5 > out_FinalSectorLbo;
    out_FinalCluster := out_StartingFatIndex + out_ClusterCountThisRun - 1;
    out_Page_2 := 0;
    out_Cluster := out_StartingFatIndex;
    goto L200;

  L200:
    call {:si_unique_call 4572} out_Tmp_428, out_Cluster, out_FatEntry_4, out_Tmp_471, out_Tmp_474, out_Page_2 := FatSetFatRun_loop_L200(out_FinalCluster, out_Tmp_428, out_Cluster, out_FatEntry_4, out_Tmp_471, out_Tmp_474, in_SavedBcbs, out_Page_2, out_StartingFatIndex, in_ChainTogether);
    goto L200_last;

  L200_last:
    goto anon227_Then, anon227_Else;

  anon227_Else:
    assume {:partition} out_FinalCluster >= out_Cluster;
    goto anon229_Then, anon229_Else;

  anon229_Else:
    assume {:partition} BAND(out_FatEntry_4, 4095) != 0;
    goto L204;

  L204:
    goto anon231_Then, anon231_Else;

  anon231_Else:
    assume {:partition} in_ChainTogether != 0;
    out_Tmp_428 := out_Cluster + 1;
    goto L207;

  L207:
    assume {:nonnull} out_FatEntry_4 != 0;
    assume out_FatEntry_4 > 0;
    Mem_T.INT4[out_FatEntry_4] := out_Tmp_428;
    out_Cluster := out_Cluster + 1;
    assume false;
    return;

  anon231_Then:
    assume {:partition} in_ChainTogether == 0;
    out_Tmp_428 := 0;
    goto L207;

  anon229_Then:
    assume {:partition} BAND(out_FatEntry_4, 4095) == 0;
    goto anon230_Then, anon230_Else;

  anon230_Else:
    assume {:partition} out_Cluster != out_StartingFatIndex;
    out_Page_2 := out_Page_2 + 1;
    out_Tmp_474 := out_Page_2;
    goto anon277_Then, anon277_Else;

  anon277_Else:
    assume out_Tmp_474 <= 2;
    goto anon278_Then, anon278_Else;

  anon278_Else:
    assume out_Tmp_474 != 2;
    goto anon279_Then, anon279_Else;

  anon279_Else:
    assume out_Tmp_474 != 1;
    goto anon280_Then, anon280_Else;

  anon280_Else:
    assume out_Tmp_474 != 0;
    goto L368;

  L368:
    assume {:nonnull} out_Tmp_471 != 0;
    assume out_Tmp_471 > 0;
    havoc out_FatEntry_4;
    goto L204;

  anon280_Then:
    assume out_Tmp_474 == 0;
    out_Tmp_474 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_471;
    goto L368;

  anon279_Then:
    assume out_Tmp_474 == 1;
    out_Tmp_474 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_471;
    goto L368;

  anon278_Then:
    assume out_Tmp_474 == 2;
    out_Tmp_474 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_471;
    goto L368;

  anon277_Then:
    assume out_Tmp_474 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_471;
    goto L368;

  anon230_Then:
    assume {:partition} out_Cluster == out_StartingFatIndex;
    goto L204;

  anon227_Then:
    assume {:partition} out_Cluster > out_FinalCluster;
    goto anon228_Then, anon228_Else;

  anon228_Else:
    assume {:partition} 65536 < out_ClusterCount;
    goto L215;

  L215:
    out_i_7 := 0;
    goto L216;

  L216:
    call {:si_unique_call 4571} out_Tmp_437, out_Tmp_442, out_Tmp_444, out_Tmp_454, out_Tmp_456, out_i_7, out_Tmp_476, out_Tmp_477, out_Tmp_478, out_Tmp_484, out_Tmp_503 := FatSetFatRun_loop_L216(out_Tmp_437, out_Tmp_442, out_Tmp_444, out_Tmp_454, out_Tmp_456, out_i_7, out_Tmp_476, out_Tmp_477, out_Tmp_478, out_Tmp_484, in_SavedBcbs, out_Tmp_503);
    goto L216_last;

  L216_last:
    out_Tmp_484 := out_i_7;
    goto anon281_Then, anon281_Else;

  anon281_Else:
    assume out_Tmp_484 <= 2;
    goto anon298_Then, anon298_Else;

  anon298_Else:
    assume out_Tmp_484 != 2;
    goto anon299_Then, anon299_Else;

  anon299_Else:
    assume out_Tmp_484 != 1;
    goto anon300_Then, anon300_Else;

  anon300_Else:
    assume out_Tmp_484 != 0;
    goto L378;

  L378:
    assume {:nonnull} out_Tmp_442 != 0;
    assume out_Tmp_442 > 0;
    goto anon244_Then, anon244_Else;

  anon244_Else:
    out_Tmp_444 := out_i_7;
    goto anon282_Then, anon282_Else;

  anon282_Else:
    assume out_Tmp_444 <= 2;
    goto anon295_Then, anon295_Else;

  anon295_Else:
    assume out_Tmp_444 != 2;
    goto anon296_Then, anon296_Else;

  anon296_Else:
    assume out_Tmp_444 != 1;
    goto anon297_Then, anon297_Else;

  anon297_Else:
    assume out_Tmp_444 != 0;
    goto L388;

  L388:
    assume {:nonnull} out_Tmp_437 != 0;
    assume out_Tmp_437 > 0;
    goto anon245_Then, anon245_Else;

  anon245_Else:
    out_Tmp_477 := out_i_7;
    goto anon283_Then, anon283_Else;

  anon283_Else:
    assume out_Tmp_477 <= 2;
    goto anon292_Then, anon292_Else;

  anon292_Else:
    assume out_Tmp_477 != 2;
    goto anon293_Then, anon293_Else;

  anon293_Else:
    assume out_Tmp_477 != 1;
    goto anon294_Then, anon294_Else;

  anon294_Else:
    assume out_Tmp_477 != 0;
    goto L398;

  L398:
    assume {:nonnull} out_Tmp_503 != 0;
    assume out_Tmp_503 > 0;
    out_Tmp_478 := out_i_7;
    goto anon284_Then, anon284_Else;

  anon284_Else:
    assume out_Tmp_478 <= 2;
    goto anon289_Then, anon289_Else;

  anon289_Else:
    assume out_Tmp_478 != 2;
    goto anon290_Then, anon290_Else;

  anon290_Else:
    assume out_Tmp_478 != 1;
    goto anon291_Then, anon291_Else;

  anon291_Else:
    assume out_Tmp_478 != 0;
    goto L408;

  L408:
    assume {:nonnull} out_Tmp_476 != 0;
    assume out_Tmp_476 > 0;
    goto L219;

  L219:
    out_Tmp_454 := out_i_7;
    goto anon285_Then, anon285_Else;

  anon285_Else:
    assume out_Tmp_454 <= 2;
    goto anon286_Then, anon286_Else;

  anon286_Else:
    assume out_Tmp_454 != 2;
    goto anon287_Then, anon287_Else;

  anon287_Else:
    assume out_Tmp_454 != 1;
    goto anon288_Then, anon288_Else;

  anon288_Else:
    assume out_Tmp_454 != 0;
    goto L418;

  L418:
    assume {:nonnull} out_Tmp_456 != 0;
    assume out_Tmp_456 > 0;
    out_i_7 := out_i_7 + 1;
    assume false;
    return;

  anon288_Then:
    assume out_Tmp_454 == 0;
    out_Tmp_454 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_456;
    goto L418;

  anon287_Then:
    assume out_Tmp_454 == 1;
    out_Tmp_454 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_456;
    goto L418;

  anon286_Then:
    assume out_Tmp_454 == 2;
    out_Tmp_454 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_456;
    goto L418;

  anon285_Then:
    assume out_Tmp_454 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_456;
    goto L418;

  anon291_Then:
    assume out_Tmp_478 == 0;
    out_Tmp_478 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_476;
    goto L408;

  anon290_Then:
    assume out_Tmp_478 == 1;
    out_Tmp_478 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_476;
    goto L408;

  anon289_Then:
    assume out_Tmp_478 == 2;
    out_Tmp_478 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_476;
    goto L408;

  anon284_Then:
    assume out_Tmp_478 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_476;
    goto L408;

  anon294_Then:
    assume out_Tmp_477 == 0;
    out_Tmp_477 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_503;
    goto L398;

  anon293_Then:
    assume out_Tmp_477 == 1;
    out_Tmp_477 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_503;
    goto L398;

  anon292_Then:
    assume out_Tmp_477 == 2;
    out_Tmp_477 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_503;
    goto L398;

  anon283_Then:
    assume out_Tmp_477 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_503;
    goto L398;

  anon245_Then:
    goto L219;

  anon297_Then:
    assume out_Tmp_444 == 0;
    out_Tmp_444 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_437;
    goto L388;

  anon296_Then:
    assume out_Tmp_444 == 1;
    out_Tmp_444 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_437;
    goto L388;

  anon295_Then:
    assume out_Tmp_444 == 2;
    out_Tmp_444 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_437;
    goto L388;

  anon282_Then:
    assume out_Tmp_444 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_437;
    goto L388;

  anon244_Then:
    goto anon233_Else;

  anon233_Else:
    assume {:partition} 65536 < out_ClusterCount;
    out_StartingFatIndex := out_StartingFatIndex + 65536;
    out_ClusterCount := out_ClusterCount - 65536;
    goto anon233_Else_dummy;

  anon233_Else_dummy:
    call {:si_unique_call 4578} {:si_old_unique_call 1} out_Lbo_5, out_FinalCluster, out_Tmp_428, out_StartSectorLbo, out_Tmp_430, out_Tmp_434, out_Tmp_437, out_Cluster, out_Tmp_442, out_FinalOffsetInVolume, out_Tmp_444, out_Tmp_446, out_Tmp_454, out_Tmp_456, out_FatEntry_4, out_FinalSectorLbo, out_Tmp_465, out_i_7, out_Offset_1, out_Tmp_471, out_Tmp_472, out_Tmp_474, out_Tmp_475, out_Tmp_476, out_Tmp_477, out_Tmp_478, out_StartOffsetInVolume_1, out_Tmp_484, out_Page_2, out_Tmp_495, out_Tmp_497, out_Tmp_500, out_Tmp_503, out_Tmp_504, out_NumberOfPages_1, out_ClusterCountThisRun, out_Tmp_509, out_Tmp_510, out_StartingFatIndex, out_ClusterCount, out_vslice_dummy_var_75 := FatSetFatRun_loop_L161(out_Lbo_5, out_FinalCluster, out_Tmp_428, out_StartSectorLbo, out_Tmp_430, out_Tmp_434, out_Tmp_437, out_Cluster, out_Tmp_442, out_FinalOffsetInVolume, out_Tmp_444, out_Tmp_446, out_Tmp_454, out_Tmp_456, out_FatEntry_4, out_FinalSectorLbo, out_Tmp_465, out_i_7, out_Offset_1, out_Tmp_471, out_Tmp_472, out_Tmp_474, out_Tmp_475, out_Tmp_476, out_Tmp_477, out_Tmp_478, out_StartOffsetInVolume_1, out_Tmp_484, in_SavedBcbs, out_Page_2, out_Tmp_495, out_Tmp_497, out_Tmp_500, in_SectorSize_1, out_Tmp_503, out_Tmp_504, out_NumberOfPages_1, out_ClusterCountThisRun, out_Tmp_509, out_Tmp_510, in_IrpContext_30, in_Vcb_23, out_StartingFatIndex, out_ClusterCount, in_ChainTogether, out_vslice_dummy_var_75);
    return;

  anon300_Then:
    assume out_Tmp_484 == 0;
    out_Tmp_484 := 0;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_442;
    goto L378;

  anon299_Then:
    assume out_Tmp_484 == 1;
    out_Tmp_484 := 1;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_442;
    goto L378;

  anon298_Then:
    assume out_Tmp_484 == 2;
    out_Tmp_484 := 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_442;
    goto L378;

  anon281_Then:
    assume out_Tmp_484 > 2;
    assume {:nonnull} in_SavedBcbs != 0;
    assume in_SavedBcbs > 0;
    havoc out_Tmp_442;
    goto L378;

  anon228_Then:
    assume {:partition} out_ClusterCount <= 65536;
    goto anon232_Then, anon232_Else;

  anon232_Else:
    assume {:partition} in_ChainTogether == 0;
    goto L215;

  anon232_Then:
    assume {:partition} in_ChainTogether != 0;
    assume {:nonnull} out_FatEntry_4 != 0;
    assume out_FatEntry_4 > 0;
    Mem_T.INT4[out_FatEntry_4] := 268435455;
    goto L215;

  anon268_Then:
    assume {:partition} 65536 >= out_ClusterCount;
    out_ClusterCountThisRun := out_ClusterCount;
    goto L165;
}



procedure {:LoopProcedure} FatSetFatRun_loop_L161(in_Lbo_5: int, in_FinalCluster: int, in_Tmp_428: int, in_StartSectorLbo: int, in_Tmp_430: int, in_Tmp_434: int, in_Tmp_437: int, in_Cluster: int, in_Tmp_442: int, in_FinalOffsetInVolume: int, in_Tmp_444: int, in_Tmp_446: int, in_Tmp_454: int, in_Tmp_456: int, in_FatEntry_4: int, in_FinalSectorLbo: int, in_Tmp_465: int, in_i_7: int, in_Offset_1: int, in_Tmp_471: int, in_Tmp_472: int, in_Tmp_474: int, in_Tmp_475: int, in_Tmp_476: int, in_Tmp_477: int, in_Tmp_478: int, in_StartOffsetInVolume_1: int, in_Tmp_484: int, in_SavedBcbs: int, in_Page_2: int, in_Tmp_495: int, in_Tmp_497: int, in_Tmp_500: int, in_SectorSize_1: int, in_Tmp_503: int, in_Tmp_504: int, in_NumberOfPages_1: int, in_ClusterCountThisRun: int, in_Tmp_509: int, in_Tmp_510: int, in_IrpContext_30: int, in_Vcb_23: int, in_StartingFatIndex: int, in_ClusterCount: int, in_ChainTogether: int, in_vslice_dummy_var_75: int) returns (out_Lbo_5: int, out_FinalCluster: int, out_Tmp_428: int, out_StartSectorLbo: int, out_Tmp_430: int, out_Tmp_434: int, out_Tmp_437: int, out_Cluster: int, out_Tmp_442: int, out_FinalOffsetInVolume: int, out_Tmp_444: int, out_Tmp_446: int, out_Tmp_454: int, out_Tmp_456: int, out_FatEntry_4: int, out_FinalSectorLbo: int, out_Tmp_465: int, out_i_7: int, out_Offset_1: int, out_Tmp_471: int, out_Tmp_472: int, out_Tmp_474: int, out_Tmp_475: int, out_Tmp_476: int, out_Tmp_477: int, out_Tmp_478: int, out_StartOffsetInVolume_1: int, out_Tmp_484: int, out_Page_2: int, out_Tmp_495: int, out_Tmp_497: int, out_Tmp_500: int, out_Tmp_503: int, out_Tmp_504: int, out_NumberOfPages_1: int, out_ClusterCountThisRun: int, out_Tmp_509: int, out_Tmp_510: int, out_StartingFatIndex: int, out_ClusterCount: int, out_vslice_dummy_var_75: int);
  modifies Mem_T.INT4, alloc, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} out_Tmp_509 == in_Tmp_509 || out_Tmp_509 == Bpb__VCB(in_Vcb_23);
  free ensures {:va_keep} out_Tmp_510 == in_Tmp_510 || out_Tmp_510 == Bpb__VCB(in_Vcb_23);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAllocateDiskSpace_loop_L258(in_SelectNextContigWindow: int, in_sdv_156: int, in_Window: int, in_Tmp_544: int, in_Tmp_545: int, in_Desired: int, in_ClustersRemaining: int, in_NextWindow: int, in_LockedBitMap: int, in_s_p_e_c_i_a_l_2: int, in_Tmp_553: int, in_Cluster_1: int, in_Tmp_555: int, in_Tmp_556: int, in_Wait_1: int, in_FaveWindow: int, in_Tmp_559: int, in_ClustersFound: int, in_BytesFound: int, in_Tmp_562: int, in_Tmp_564: int, in_SelectedWindow: int, in_sdv_169: int, in_WindowRelativeHint: int, in_Tmp_569: int, in_Tmp_571: int, in_Tmp_573: int, in_PriorLastCluster: int, in_CurrentVbo_1: int, in_Index_1: int, in_IrpContext_32: int, in_Vcb_25: int, in_ExactMatchRequired: int, in_Mcb_2: int, in_vslice_dummy_var_83: int) returns (out_SelectNextContigWindow: int, out_sdv_156: int, out_Window: int, out_Tmp_544: int, out_Tmp_545: int, out_Desired: int, out_ClustersRemaining: int, out_NextWindow: int, out_LockedBitMap: int, out_s_p_e_c_i_a_l_2: int, out_Tmp_553: int, out_Cluster_1: int, out_Tmp_555: int, out_Tmp_556: int, out_Wait_1: int, out_FaveWindow: int, out_Tmp_559: int, out_ClustersFound: int, out_BytesFound: int, out_Tmp_562: int, out_Tmp_564: int, out_SelectedWindow: int, out_sdv_169: int, out_WindowRelativeHint: int, out_Tmp_569: int, out_Tmp_571: int, out_Tmp_573: int, out_PriorLastCluster: int, out_CurrentVbo_1: int, out_Index_1: int, out_vslice_dummy_var_83: int)
{

  entry:
    out_SelectNextContigWindow, out_sdv_156, out_Window, out_Tmp_544, out_Tmp_545, out_Desired, out_ClustersRemaining, out_NextWindow, out_LockedBitMap, out_s_p_e_c_i_a_l_2, out_Tmp_553, out_Cluster_1, out_Tmp_555, out_Tmp_556, out_Wait_1, out_FaveWindow, out_Tmp_559, out_ClustersFound, out_BytesFound, out_Tmp_562, out_Tmp_564, out_SelectedWindow, out_sdv_169, out_WindowRelativeHint, out_Tmp_569, out_Tmp_571, out_Tmp_573, out_PriorLastCluster, out_CurrentVbo_1, out_Index_1, out_vslice_dummy_var_83 := in_SelectNextContigWindow, in_sdv_156, in_Window, in_Tmp_544, in_Tmp_545, in_Desired, in_ClustersRemaining, in_NextWindow, in_LockedBitMap, in_s_p_e_c_i_a_l_2, in_Tmp_553, in_Cluster_1, in_Tmp_555, in_Tmp_556, in_Wait_1, in_FaveWindow, in_Tmp_559, in_ClustersFound, in_BytesFound, in_Tmp_562, in_Tmp_564, in_SelectedWindow, in_sdv_169, in_WindowRelativeHint, in_Tmp_569, in_Tmp_571, in_Tmp_573, in_PriorLastCluster, in_CurrentVbo_1, in_Index_1, in_vslice_dummy_var_83;
    goto L258, exit;

  exit:
    return;

  L258:
    goto anon154_Else;

  anon154_Else:
    assume {:partition} out_ClustersRemaining != 0;
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} out_LockedBitMap != 0;
    goto L263;

  L263:
    out_ClustersFound := 0;
    goto anon188_Then, anon188_Else;

  anon188_Else:
    assume {:partition} out_SelectNextContigWindow != 0;
    goto L266;

  L266:
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:partition} out_ClustersFound == 0;
    out_FaveWindow := 0;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto anon191_Then, anon191_Else;

  anon191_Else:
    call {:si_unique_call 4582} KeBugCheckEx(35, 133472, 0, 5, 0);
    goto L355;

  L355:
    out_SelectedWindow := 0;
    goto anon192_Then, anon192_Else;

  anon192_Else:
    assume {:partition} out_SelectNextContigWindow != 0;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    havoc out_NextWindow;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto anon193_Then, anon193_Else;

  anon193_Else:
    out_Tmp_555 := out_NextWindow;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    havoc out_Tmp_569;
    assume {:nonnull} out_Tmp_569 != 0;
    assume out_Tmp_569 > 0;
    goto anon194_Then, anon194_Else;

  anon194_Else:
    out_FaveWindow := out_NextWindow;
    out_SelectedWindow := 1;
    goto L368;

  L368:
    out_SelectNextContigWindow := 0;
    goto L360;

  L360:
    goto anon161_Then, anon161_Else;

  anon161_Else:
    assume {:partition} out_SelectedWindow != 0;
    goto L375;

  L375:
    out_Tmp_544 := out_FaveWindow;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    havoc out_Tmp_571;
    assume {:nonnull} out_Tmp_571 != 0;
    assume out_Tmp_571 > 0;
    goto anon195_Then, anon195_Else;

  anon195_Else:
    goto L379;

  L379:
    assume {:nonnull} in_IrpContext_32 != 0;
    assume in_IrpContext_32 > 0;
    havoc out_Tmp_545;
    goto anon196_Then, anon196_Else;

  anon196_Else:
    assume {:partition} out_Tmp_545 == 0;
    out_Wait_1 := 0;
    goto L592;

  L592:
    assume {:nonnull} in_IrpContext_32 != 0;
    assume in_IrpContext_32 > 0;
    out_Tmp_573 := out_FaveWindow;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    havoc out_Tmp_562;
    out_Tmp_556 := out_Tmp_562 + out_Tmp_573 * 12;
    call {:si_unique_call 4579} FatExamineFatEntries(in_IrpContext_32, in_Vcb_25, 0, 0, 0, out_Tmp_556, 0);
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:partition} out_Wait_1 == 0;
    assume {:nonnull} in_IrpContext_32 != 0;
    assume in_IrpContext_32 > 0;
    goto anon163_Else_dummy;

  anon163_Else_dummy:
    goto L_BAF_0;

  L_BAF_0:
    call {:si_unique_call 4595} {:si_old_unique_call 1} out_SelectNextContigWindow, out_sdv_156, out_Window, out_Tmp_544, out_Tmp_545, out_Desired, out_ClustersRemaining, out_NextWindow, out_LockedBitMap, out_s_p_e_c_i_a_l_2, out_Tmp_553, out_Cluster_1, out_Tmp_555, out_Tmp_556, out_Wait_1, out_FaveWindow, out_Tmp_559, out_ClustersFound, out_BytesFound, out_Tmp_562, out_Tmp_564, out_SelectedWindow, out_sdv_169, out_WindowRelativeHint, out_Tmp_569, out_Tmp_571, out_Tmp_573, out_PriorLastCluster, out_CurrentVbo_1, out_Index_1, out_vslice_dummy_var_83 := FatAllocateDiskSpace_loop_L258(out_SelectNextContigWindow, out_sdv_156, out_Window, out_Tmp_544, out_Tmp_545, out_Desired, out_ClustersRemaining, out_NextWindow, out_LockedBitMap, out_s_p_e_c_i_a_l_2, out_Tmp_553, out_Cluster_1, out_Tmp_555, out_Tmp_556, out_Wait_1, out_FaveWindow, out_Tmp_559, out_ClustersFound, out_BytesFound, out_Tmp_562, out_Tmp_564, out_SelectedWindow, out_sdv_169, out_WindowRelativeHint, out_Tmp_569, out_Tmp_571, out_Tmp_573, out_PriorLastCluster, out_CurrentVbo_1, out_Index_1, in_IrpContext_32, in_Vcb_25, in_ExactMatchRequired, in_Mcb_2, out_vslice_dummy_var_83);
    return;

  anon163_Then:
    assume {:partition} out_Wait_1 != 0;
    goto anon163_Then_dummy;

  anon163_Then_dummy:
    goto L_BAF_0;

  anon196_Then:
    assume {:partition} out_Tmp_545 != 0;
    out_Wait_1 := 1;
    goto L592;

  anon195_Then:
    call {:si_unique_call 4580} KeBugCheckEx(35, 133531, 0, 5, 1);
    goto L379;

  anon161_Then:
    assume {:partition} out_SelectedWindow == 0;
    call {:si_unique_call 4581} out_FaveWindow := FatSelectBestWindow(in_Vcb_25);
    goto L375;

  anon194_Then:
    goto L364;

  L364:
    goto anon162_Then;

  anon162_Then:
    assume {:partition} in_ExactMatchRequired == 0;
    out_WindowRelativeHint := 0;
    goto L368;

  anon193_Then:
    goto L364;

  anon192_Then:
    assume {:partition} out_SelectNextContigWindow == 0;
    goto L360;

  anon191_Then:
    goto L355;

  anon157_Then:
    assume {:partition} out_ClustersFound != 0;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    havoc out_Window;
    out_s_p_e_c_i_a_l_2 := out_Index_1 + 2 + out_ClustersFound;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    out_s_p_e_c_i_a_l_2 := 2;
    goto L316;

  L316:
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    out_Tmp_559 := FreeClusterBitMap__VCB(in_Vcb_25);
    assume {:nonnull} out_Tmp_559 != 0;
    assume out_Tmp_559 > 0;
    goto anon189_Then, anon189_Else;

  anon189_Else:
    call {:si_unique_call 4594} out_sdv_156 := corral_nondet();
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto anon190_Then, anon190_Else;

  anon190_Else:
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto L326;

  L326:
    assume {:nonnull} out_Window != 0;
    assume out_Window > 0;
    havoc out_Cluster_1;
    assume {:nonnull} out_Window != 0;
    assume out_Window > 0;
    call {:si_unique_call 4590} ExReleaseFastMutexUnsafe(0);
    out_LockedBitMap := 0;
    call {:si_unique_call 4591} out_BytesFound := corral_nondet();
    call {:si_unique_call 4592} out_Tmp_553 := corral_nondet();
    call {:si_unique_call 4593} out_vslice_dummy_var_83 := FatAddMcbEntry(in_Vcb_25, in_Mcb_2, out_CurrentVbo_1, out_Tmp_553, out_BytesFound);
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} out_PriorLastCluster != 0;
    call {:si_unique_call 4589} FatSetFatEntry#1(in_IrpContext_32, in_Vcb_25, out_PriorLastCluster, out_Cluster_1);
    goto L339;

  L339:
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} out_ClustersFound == 1;
    call {:si_unique_call 4587} FatSetFatEntry#1(in_IrpContext_32, in_Vcb_25, out_Cluster_1, 268435455);
    goto L349;

  L349:
    out_CurrentVbo_1 := out_CurrentVbo_1 + out_BytesFound;
    out_ClustersRemaining := out_ClustersRemaining - out_ClustersFound;
    out_PriorLastCluster := out_Cluster_1 + out_ClustersFound - 1;
    goto L349_dummy;

  L349_dummy:
    goto L_BAF_0;

  anon160_Then:
    assume {:partition} out_ClustersFound != 1;
    call {:si_unique_call 4588} FatSetFatRun(in_IrpContext_32, in_Vcb_25, out_Cluster_1, out_ClustersFound, 1);
    goto L349;

  anon159_Then:
    assume {:partition} out_PriorLastCluster == 0;
    goto L339;

  anon190_Then:
    goto L326;

  anon189_Then:
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto L326;

  anon158_Then:
    goto L316;

  anon188_Then:
    assume {:partition} out_SelectNextContigWindow == 0;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:partition} out_WindowRelativeHint != 0;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    havoc out_Desired;
    goto anon197_Then, anon197_Else;

  anon197_Else:
    assume {:partition} out_Desired > out_ClustersRemaining;
    out_Desired := out_ClustersRemaining;
    goto L393;

  L393:
    call {:si_unique_call 4584} out_sdv_169 := corral_nondet();
    goto anon165_Then, anon165_Else;

  anon165_Else:
    assume {:partition} out_sdv_169 != 0;
    out_Index_1 := out_WindowRelativeHint - 2;
    out_ClustersFound := out_Desired;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto anon198_Then, anon198_Else;

  anon198_Else:
    out_SelectNextContigWindow := 1;
    out_WindowRelativeHint := 2;
    goto L389;

  L389:
    goto anon164_Then, anon164_Else;

  anon164_Else:
    assume {:partition} out_WindowRelativeHint == 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:partition} out_ClustersFound == 0;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    havoc out_Tmp_564;
    assume {:nonnull} out_Tmp_564 != 0;
    assume out_Tmp_564 > 0;
    goto anon199_Then, anon199_Else;

  anon199_Else:
    call {:si_unique_call 4586} out_Index_1 := corral_nondet();
    goto anon169_Then, anon169_Else;

  anon169_Else:
    assume {:partition} -1 != out_Index_1;
    out_ClustersFound := out_ClustersRemaining;
    goto L411;

  L411:
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:partition} out_ClustersFound != 0;
    goto L421;

  L421:
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:partition} out_ClustersFound >= out_ClustersRemaining;
    out_ClustersFound := out_ClustersRemaining;
    goto L266;

  anon170_Then:
    assume {:partition} out_ClustersRemaining > out_ClustersFound;
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto anon171_Then, anon171_Else;

  anon171_Else:
    assume {:nonnull} in_Vcb_25 != 0;
    assume in_Vcb_25 > 0;
    goto anon172_Then, anon172_Else;

  anon172_Else:
    out_SelectNextContigWindow := 1;
    out_WindowRelativeHint := 2;
    goto L266;

  anon172_Then:
    goto L266;

  anon171_Then:
    goto L266;

  anon168_Then:
    assume {:partition} out_ClustersFound == 0;
    call {:si_unique_call 4585} out_ClustersFound := corral_nondet();
    goto L421;

  anon169_Then:
    assume {:partition} -1 == out_Index_1;
    goto L411;

  anon199_Then:
    goto L411;

  anon167_Then:
    assume {:partition} out_ClustersFound != 0;
    goto L266;

  anon164_Then:
    assume {:partition} out_WindowRelativeHint != 0;
    goto L266;

  anon198_Then:
    out_WindowRelativeHint := 0;
    goto L389;

  anon165_Then:
    assume {:partition} out_sdv_169 == 0;
    goto anon166_Then;

  anon166_Then:
    assume {:partition} in_ExactMatchRequired == 0;
    out_WindowRelativeHint := 0;
    goto L389;

  anon197_Then:
    assume {:partition} out_ClustersRemaining >= out_Desired;
    goto L393;

  anon156_Then:
    assume {:partition} out_WindowRelativeHint == 0;
    goto L389;

  anon155_Then:
    assume {:partition} out_LockedBitMap == 0;
    call {:si_unique_call 4583} ExAcquireFastMutexUnsafe(0);
    out_LockedBitMap := 1;
    goto L263;
}



procedure {:LoopProcedure} FatAllocateDiskSpace_loop_L258(in_SelectNextContigWindow: int, in_sdv_156: int, in_Window: int, in_Tmp_544: int, in_Tmp_545: int, in_Desired: int, in_ClustersRemaining: int, in_NextWindow: int, in_LockedBitMap: int, in_s_p_e_c_i_a_l_2: int, in_Tmp_553: int, in_Cluster_1: int, in_Tmp_555: int, in_Tmp_556: int, in_Wait_1: int, in_FaveWindow: int, in_Tmp_559: int, in_ClustersFound: int, in_BytesFound: int, in_Tmp_562: int, in_Tmp_564: int, in_SelectedWindow: int, in_sdv_169: int, in_WindowRelativeHint: int, in_Tmp_569: int, in_Tmp_571: int, in_Tmp_573: int, in_PriorLastCluster: int, in_CurrentVbo_1: int, in_Index_1: int, in_IrpContext_32: int, in_Vcb_25: int, in_ExactMatchRequired: int, in_Mcb_2: int, in_vslice_dummy_var_83: int) returns (out_SelectNextContigWindow: int, out_sdv_156: int, out_Window: int, out_Tmp_544: int, out_Tmp_545: int, out_Desired: int, out_ClustersRemaining: int, out_NextWindow: int, out_LockedBitMap: int, out_s_p_e_c_i_a_l_2: int, out_Tmp_553: int, out_Cluster_1: int, out_Tmp_555: int, out_Tmp_556: int, out_Wait_1: int, out_FaveWindow: int, out_Tmp_559: int, out_ClustersFound: int, out_BytesFound: int, out_Tmp_562: int, out_Tmp_564: int, out_SelectedWindow: int, out_sdv_169: int, out_WindowRelativeHint: int, out_Tmp_569: int, out_Tmp_571: int, out_Tmp_573: int, out_PriorLastCluster: int, out_CurrentVbo_1: int, out_Index_1: int, out_vslice_dummy_var_83: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} out_SelectNextContigWindow == 0 || out_SelectNextContigWindow == 1 || out_SelectNextContigWindow == in_SelectNextContigWindow;
  free ensures {:va_keep} out_LockedBitMap == 1 || out_LockedBitMap == 0 || out_LockedBitMap == in_LockedBitMap;
  free ensures {:va_keep} out_Wait_1 == 0 || out_Wait_1 == 1 || out_Wait_1 == in_Wait_1;
  free ensures {:va_keep} out_Tmp_559 == in_Tmp_559 || out_Tmp_559 == FreeClusterBitMap__VCB(in_Vcb_25);
  free ensures {:va_keep} out_SelectedWindow == 1 || out_SelectedWindow == 0 || out_SelectedWindow == in_SelectedWindow;
  free ensures {:va_keep} out_WindowRelativeHint == 2 || out_WindowRelativeHint == 0 || out_WindowRelativeHint == in_WindowRelativeHint;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeallocateDiskSpace_loop_L107(in_count: int, in_Window_1: int, in_Tmp_582: int, in_MyLength: int, in_MyStart: int) returns (out_count: int, out_Tmp_582: int, out_MyLength: int, out_MyStart: int)
{

  entry:
    out_count, out_Tmp_582, out_MyLength, out_MyStart := in_count, in_Tmp_582, in_MyLength, in_MyStart;
    goto L107, exit;

  exit:
    return;

  L107:
    goto anon50_Else;

  anon50_Else:
    assume {:partition} out_MyLength > 0;
    assume {:nonnull} in_Window_1 != 0;
    assume in_Window_1 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} in_Window_1 != 0;
    assume in_Window_1 > 0;
    havoc out_Tmp_582;
    goto L112;

  L112:
    out_count := out_Tmp_582;
    assume {:nonnull} in_Window_1 != 0;
    assume in_Window_1 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} out_MyLength != out_count;
    assume {:nonnull} in_Window_1 != 0;
    assume in_Window_1 > 0;
    havoc out_MyStart;
    goto L115;

  L115:
    out_MyLength := out_MyLength - out_count;
    goto L115_dummy;

  L115_dummy:
    call {:si_unique_call 4596} {:si_old_unique_call 1} out_count, out_Tmp_582, out_MyLength, out_MyStart := FatDeallocateDiskSpace_loop_L107(out_count, in_Window_1, out_Tmp_582, out_MyLength, out_MyStart);
    return;

  anon64_Then:
    assume {:partition} out_MyLength == out_count;
    goto L115;

  anon51_Then:
    out_Tmp_582 := out_MyLength;
    goto L112;
}



procedure {:LoopProcedure} FatDeallocateDiskSpace_loop_L107(in_count: int, in_Window_1: int, in_Tmp_582: int, in_MyLength: int, in_MyStart: int) returns (out_count: int, out_Tmp_582: int, out_MyLength: int, out_MyStart: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeallocateDiskSpace_loop_L154(in_McbIndex: int, in_LocalLbo: int, in_Clusters: int, in_FatIndex_3: int, in_PriorLastIndex: int, in_Index_2: int, in_LocalVbo: int, in_ByteCount_5: int, in_IrpContext_33: int, in_Vcb_26: int, in_Mcb_3: int, in_vslice_dummy_var_88: int) returns (out_Clusters: int, out_FatIndex_3: int, out_PriorLastIndex: int, out_Index_2: int, out_vslice_dummy_var_88: int)
{

  entry:
    out_Clusters, out_FatIndex_3, out_PriorLastIndex, out_Index_2, out_vslice_dummy_var_88 := in_Clusters, in_FatIndex_3, in_PriorLastIndex, in_Index_2, in_vslice_dummy_var_88;
    goto L154, exit;

  exit:
    return;

  L154:
    goto anon58_Else;

  anon58_Else:
    assume {:partition} in_McbIndex >= out_Index_2;
    call {:si_unique_call 4598} out_vslice_dummy_var_88 := FatGetNextMcbEntry(in_Vcb_26, in_Mcb_3, out_Index_2, in_LocalVbo, in_LocalLbo, in_ByteCount_5);
    call {:si_unique_call 4599} out_FatIndex_3 := corral_nondet();
    call {:si_unique_call 4600} out_Clusters := corral_nondet();
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} out_PriorLastIndex != 0;
    call {:si_unique_call 4597} FatSetFatEntry#1(in_IrpContext_33, in_Vcb_26, out_PriorLastIndex, out_FatIndex_3);
    goto L161;

  L161:
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} in_McbIndex > out_Index_2;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} out_Clusters == 1;
    call {:si_unique_call 4601} FatSetFatEntry#1(in_IrpContext_33, in_Vcb_26, out_FatIndex_3, 268435455);
    goto L173;

  L173:
    out_PriorLastIndex := out_FatIndex_3 + out_Clusters - 1;
    goto L165;

  L165:
    out_Index_2 := out_Index_2 + 1;
    goto L165_dummy;

  L165_dummy:
    call {:si_unique_call 4603} {:si_old_unique_call 1} out_Clusters, out_FatIndex_3, out_PriorLastIndex, out_Index_2, out_vslice_dummy_var_88 := FatDeallocateDiskSpace_loop_L154(in_McbIndex, in_LocalLbo, out_Clusters, out_FatIndex_3, out_PriorLastIndex, out_Index_2, in_LocalVbo, in_ByteCount_5, in_IrpContext_33, in_Vcb_26, in_Mcb_3, out_vslice_dummy_var_88);
    return;

  anon60_Then:
    assume {:partition} out_Clusters != 1;
    call {:si_unique_call 4602} FatSetFatRun(in_IrpContext_33, in_Vcb_26, out_FatIndex_3, out_Clusters, 1);
    goto L173;

  anon59_Then:
    assume {:partition} out_Index_2 >= in_McbIndex;
    goto L165;

  anon66_Then:
    assume {:partition} out_PriorLastIndex == 0;
    goto L161;
}



procedure {:LoopProcedure} FatDeallocateDiskSpace_loop_L154(in_McbIndex: int, in_LocalLbo: int, in_Clusters: int, in_FatIndex_3: int, in_PriorLastIndex: int, in_Index_2: int, in_LocalVbo: int, in_ByteCount_5: int, in_IrpContext_33: int, in_Vcb_26: int, in_Mcb_3: int, in_vslice_dummy_var_88: int) returns (out_Clusters: int, out_FatIndex_3: int, out_PriorLastIndex: int, out_Index_2: int, out_vslice_dummy_var_88: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeallocateDiskSpace_loop_L85(in_count: int, in_McbIndex: int, in_Lbo_6: int, in_Vbo_1: int, in_Tmp_579: int, in_Window_1: int, in_RunsInMcb: int, in_ClusterEnd: int, in_Tmp_580: int, in_Tmp_582: int, in_Tmp_583: int, in_MyLength: int, in_MyStart: int, in_ClusterIndex: int, in_ClusterCount_2: int, in_ByteCount_5: int, in_Vcb_26: int, in_Mcb_3: int, in_vslice_dummy_var_87: int) returns (out_count: int, out_McbIndex: int, out_Tmp_579: int, out_Window_1: int, out_ClusterEnd: int, out_Tmp_580: int, out_Tmp_582: int, out_Tmp_583: int, out_MyLength: int, out_MyStart: int, out_ClusterIndex: int, out_ClusterCount_2: int, out_vslice_dummy_var_87: int)
{

  entry:
    out_count, out_McbIndex, out_Tmp_579, out_Window_1, out_ClusterEnd, out_Tmp_580, out_Tmp_582, out_Tmp_583, out_MyLength, out_MyStart, out_ClusterIndex, out_ClusterCount_2, out_vslice_dummy_var_87 := in_count, in_McbIndex, in_Tmp_579, in_Window_1, in_ClusterEnd, in_Tmp_580, in_Tmp_582, in_Tmp_583, in_MyLength, in_MyStart, in_ClusterIndex, in_ClusterCount_2, in_vslice_dummy_var_87;
    goto L85, exit;

  exit:
    return;

  L85:
    goto anon47_Else;

  anon47_Else:
    assume {:partition} in_RunsInMcb > out_McbIndex;
    call {:si_unique_call 4604} out_vslice_dummy_var_87 := FatGetNextMcbEntry(in_Vcb_26, in_Mcb_3, out_McbIndex, in_Vbo_1, in_Lbo_6, in_ByteCount_5);
    call {:si_unique_call 4605} out_ClusterCount_2 := corral_nondet();
    call {:si_unique_call 4606} out_ClusterIndex := corral_nondet();
    assume {:nonnull} in_Vcb_26 != 0;
    assume in_Vcb_26 > 0;
    havoc out_Window_1;
    out_ClusterEnd := out_ClusterIndex + out_ClusterCount_2 - 1;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    goto L102;

  L102:
    assume {:nonnull} in_Vcb_26 != 0;
    assume in_Vcb_26 > 0;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    out_Tmp_580 := INTDIV(out_ClusterIndex - 2, 65536);
    assume {:nonnull} in_Vcb_26 != 0;
    assume in_Vcb_26 > 0;
    havoc out_Tmp_583;
    out_Window_1 := out_Tmp_583 + out_Tmp_580 * 12;
    goto L105;

  L105:
    out_MyStart := out_ClusterIndex;
    out_MyLength := out_ClusterCount_2;
    goto L107;

  L107:
    call {:si_unique_call 4607} out_count, out_Tmp_582, out_MyLength, out_MyStart := FatDeallocateDiskSpace_loop_L107(out_count, out_Window_1, out_Tmp_582, out_MyLength, out_MyStart);
    goto L107_last;

  L107_last:
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} out_MyLength > 0;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    havoc out_Tmp_582;
    goto L112;

  L112:
    out_count := out_Tmp_582;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} out_MyLength != out_count;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    havoc out_MyStart;
    goto L115;

  L115:
    out_MyLength := out_MyLength - out_count;
    assume false;
    return;

  anon64_Then:
    assume {:partition} out_MyLength == out_count;
    goto L115;

  anon51_Then:
    out_Tmp_582 := out_MyLength;
    goto L112;

  anon50_Then:
    assume {:partition} 0 >= out_MyLength;
    assume {:nonnull} in_Vcb_26 != 0;
    assume in_Vcb_26 > 0;
    Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(in_Vcb_26))] := Mem_T.INT4[NumberOfFreeClusters_unnamed_tag_65(AllocationSupport__VCB(in_Vcb_26))] + out_ClusterCount_2;
    goto L118;

  L118:
    out_McbIndex := out_McbIndex + 1;
    goto L118_dummy;

  L118_dummy:
    call {:si_unique_call 4608} {:si_old_unique_call 1} out_count, out_McbIndex, out_Tmp_579, out_Window_1, out_ClusterEnd, out_Tmp_580, out_Tmp_582, out_Tmp_583, out_MyLength, out_MyStart, out_ClusterIndex, out_ClusterCount_2, out_vslice_dummy_var_87 := FatDeallocateDiskSpace_loop_L85(out_count, out_McbIndex, in_Lbo_6, in_Vbo_1, out_Tmp_579, out_Window_1, in_RunsInMcb, out_ClusterEnd, out_Tmp_580, out_Tmp_582, out_Tmp_583, out_MyLength, out_MyStart, out_ClusterIndex, out_ClusterCount_2, in_ByteCount_5, in_Vcb_26, in_Mcb_3, out_vslice_dummy_var_87);
    return;

  anon49_Then:
    assume {:nonnull} in_Vcb_26 != 0;
    assume in_Vcb_26 > 0;
    havoc out_Tmp_579;
    out_Window_1 := out_Tmp_579;
    goto L105;

  anon63_Then:
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    havoc out_MyStart;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    havoc out_MyLength;
    goto L124;

  L124:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} out_MyLength != 0;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    assume {:nonnull} in_Vcb_26 != 0;
    assume in_Vcb_26 > 0;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} in_Vcb_26 != 0;
    assume in_Vcb_26 > 0;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto L102;

  anon56_Then:
    goto L102;

  anon55_Then:
    assume {:partition} out_MyLength == 0;
    goto L118;

  anon54_Then:
    goto L120;

  L120:
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    havoc out_MyStart;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    havoc out_MyLength;
    goto L124;

  anon53_Then:
    out_MyStart := out_ClusterIndex;
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    out_MyLength := out_ClusterCount_2;
    goto L124;

  anon65_Then:
    assume {:nonnull} out_Window_1 != 0;
    assume out_Window_1 > 0;
    havoc out_MyLength;
    goto L124;

  anon52_Then:
    goto L120;

  anon48_Then:
    goto L102;
}



procedure {:LoopProcedure} FatDeallocateDiskSpace_loop_L85(in_count: int, in_McbIndex: int, in_Lbo_6: int, in_Vbo_1: int, in_Tmp_579: int, in_Window_1: int, in_RunsInMcb: int, in_ClusterEnd: int, in_Tmp_580: int, in_Tmp_582: int, in_Tmp_583: int, in_MyLength: int, in_MyStart: int, in_ClusterIndex: int, in_ClusterCount_2: int, in_ByteCount_5: int, in_Vcb_26: int, in_Mcb_3: int, in_vslice_dummy_var_87: int) returns (out_count: int, out_McbIndex: int, out_Tmp_579: int, out_Window_1: int, out_ClusterEnd: int, out_Tmp_580: int, out_Tmp_582: int, out_Tmp_583: int, out_MyLength: int, out_MyStart: int, out_ClusterIndex: int, out_ClusterCount_2: int, out_vslice_dummy_var_87: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeallocateDiskSpace_loop_L67(in_McbIndex: int, in_Lbo_6: int, in_Vbo_1: int, in_RunsInMcb: int, in_ClusterIndex: int, in_ClusterCount_2: int, in_ByteCount_5: int, in_IrpContext_33: int, in_Vcb_26: int, in_Mcb_3: int, in_vslice_dummy_var_86: int) returns (out_McbIndex: int, out_ClusterIndex: int, out_ClusterCount_2: int, out_vslice_dummy_var_86: int)
{

  entry:
    out_McbIndex, out_ClusterIndex, out_ClusterCount_2, out_vslice_dummy_var_86 := in_McbIndex, in_ClusterIndex, in_ClusterCount_2, in_vslice_dummy_var_86;
    goto L67, exit;

  exit:
    return;

  L67:
    goto anon46_Else;

  anon46_Else:
    assume {:partition} in_RunsInMcb > out_McbIndex;
    call {:si_unique_call 4611} out_vslice_dummy_var_86 := FatGetNextMcbEntry(in_Vcb_26, in_Mcb_3, out_McbIndex, in_Vbo_1, in_Lbo_6, in_ByteCount_5);
    call {:si_unique_call 4612} out_ClusterCount_2 := corral_nondet();
    call {:si_unique_call 4613} out_ClusterIndex := corral_nondet();
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} out_ClusterCount_2 == 1;
    call {:si_unique_call 4609} FatSetFatEntry#1(in_IrpContext_33, in_Vcb_26, out_ClusterIndex, 0);
    goto L83;

  L83:
    out_McbIndex := out_McbIndex + 1;
    goto L83_dummy;

  L83_dummy:
    call {:si_unique_call 4614} {:si_old_unique_call 1} out_McbIndex, out_ClusterIndex, out_ClusterCount_2, out_vslice_dummy_var_86 := FatDeallocateDiskSpace_loop_L67(out_McbIndex, in_Lbo_6, in_Vbo_1, in_RunsInMcb, out_ClusterIndex, out_ClusterCount_2, in_ByteCount_5, in_IrpContext_33, in_Vcb_26, in_Mcb_3, out_vslice_dummy_var_86);
    return;

  anon62_Then:
    assume {:partition} out_ClusterCount_2 != 1;
    call {:si_unique_call 4610} FatSetFatRun(in_IrpContext_33, in_Vcb_26, out_ClusterIndex, out_ClusterCount_2, 0);
    goto L83;
}



procedure {:LoopProcedure} FatDeallocateDiskSpace_loop_L67(in_McbIndex: int, in_Lbo_6: int, in_Vbo_1: int, in_RunsInMcb: int, in_ClusterIndex: int, in_ClusterCount_2: int, in_ByteCount_5: int, in_IrpContext_33: int, in_Vcb_26: int, in_Mcb_3: int, in_vslice_dummy_var_86: int) returns (out_McbIndex: int, out_ClusterIndex: int, out_ClusterCount_2: int, out_vslice_dummy_var_86: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonCreate_loop_L596(in_sdv_209: int, in_FirstLoop: int, in_LfnByteOffset_1: int, in_Tmp_640: int, in_OemFinalName: int, in_Lfn_4: int, in_Dirent_7: int, in_Status_4: int, in_Tmp_655: int, in_Vcb_28: int, in_RemainingPart: int, in_DirentByteOffset_1: int, in_ParentDcb_3: int, in_UpcasedFinalName: int, in_FileNameOpenedDos_1: int, in_FinalDcb: int, in_NextRemainingPart: int, in_DirentBcb_1: int, in_sdv_258: int, in_LocalCcb: int, in_FinalName_1: int, in_IrpContext_39: int) returns (out_sdv_209: int, out_FirstLoop: int, out_LfnByteOffset_1: int, out_Tmp_640: int, out_Status_4: int, out_ParentDcb_3: int, out_FinalDcb: int, out_sdv_258: int)
{
  var vslice_dummy_var_564: int;
  var vslice_dummy_var_565: int;
  var vslice_dummy_var_566: int;

  entry:
    out_sdv_209, out_FirstLoop, out_LfnByteOffset_1, out_Tmp_640, out_Status_4, out_ParentDcb_3, out_FinalDcb, out_sdv_258 := in_sdv_209, in_FirstLoop, in_LfnByteOffset_1, in_Tmp_640, in_Status_4, in_ParentDcb_3, in_FinalDcb, in_sdv_258;
    goto L596, exit;

  exit:
    return;

  L596:
    goto anon412_Then, anon412_Else;

  anon412_Else:
    assume {:partition} out_FirstLoop != 0;
    out_FirstLoop := 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_OemFinalName != 0;
    assume in_OemFinalName > 0;
    goto anon494_Then, anon494_Else;

  anon494_Else:
    out_Tmp_640 := 0;
    goto L605;

  L605:
    out_Status_4 := out_Tmp_640;
    goto L606;

  L606:
    goto anon413_Then, anon413_Else;

  anon413_Else:
    assume {:partition} out_Status_4 >= 0;
    assume {:nonnull} in_OemFinalName != 0;
    assume in_OemFinalName > 0;
    assume {:nonnull} in_Tmp_655 != 0;
    assume in_Tmp_655 > 0;
    assume {:nonnull} in_OemFinalName != 0;
    assume in_OemFinalName > 0;
    assume {:nonnull} in_Tmp_655 != 0;
    assume in_Tmp_655 > 0;
    assume {:nonnull} in_OemFinalName != 0;
    assume in_OemFinalName > 0;
    assume {:nonnull} in_Tmp_655 != 0;
    assume in_Tmp_655 > 0;
    call {:si_unique_call 4624} out_sdv_258 := corral_nondet();
    goto anon414_Then, anon414_Else;

  anon414_Else:
    assume {:partition} out_sdv_258 != 0;
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    call {:si_unique_call 4620} FatStringTo8dot3(in_IrpContext_39, in_OemFinalName, Constant_unnamed_tag_72(OemQueryTemplate__CCB(in_LocalCcb)));
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    goto L618;

  L618:
    goto anon415_Then, anon415_Else;

  anon415_Else:
    call {:si_unique_call 4625} out_sdv_209 := FatIsNameLongUnicodeValid(in_IrpContext_39, in_FinalName_1, 0, 0, 0);
    goto anon417_Else;

  anon417_Else:
    assume {:partition} out_sdv_209 != 0;
    goto L625;

  L625:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    havoc vslice_dummy_var_565;
    call {:si_unique_call 4618} FatEnsureStringBufferEnough(in_UpcasedFinalName, vslice_dummy_var_565);
    call {:si_unique_call 4619} out_Status_4 := RtlUpcaseUnicodeString(0, 0, 0);
    goto anon418_Else;

  anon418_Else:
    assume {:partition} out_Status_4 >= 0;
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    assume {:nonnull} in_UpcasedFinalName != 0;
    assume in_UpcasedFinalName > 0;
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    assume {:nonnull} in_UpcasedFinalName != 0;
    assume in_UpcasedFinalName > 0;
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    assume {:nonnull} in_UpcasedFinalName != 0;
    assume in_UpcasedFinalName > 0;
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    assume {:nonnull} in_Lfn_4 != 0;
    assume in_Lfn_4 > 0;
    call {:si_unique_call 4617} FatLocateDirent#1(in_IrpContext_39, out_ParentDcb_3, in_LocalCcb, 0, in_Dirent_7, in_DirentBcb_1, in_DirentByteOffset_1, in_FileNameOpenedDos_1, in_Lfn_4);
    out_FinalDcb := out_ParentDcb_3;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto anon495_Else;

  anon495_Else:
    assume {:nonnull} in_Dirent_7 != 0;
    assume in_Dirent_7 > 0;
    goto anon419_Else;

  anon419_Else:
    assume {:nonnull} in_Dirent_7 != 0;
    assume in_Dirent_7 > 0;
    goto anon420_Else;

  anon420_Else:
    assume {:nonnull} in_DirentByteOffset_1 != 0;
    assume in_DirentByteOffset_1 > 0;
    assume {:nonnull} in_Lfn_4 != 0;
    assume in_Lfn_4 > 0;
    havoc out_LfnByteOffset_1;
    assume {:nonnull} in_DirentByteOffset_1 != 0;
    assume in_DirentByteOffset_1 > 0;
    assume {:nonnull} in_Dirent_7 != 0;
    assume in_Dirent_7 > 0;
    havoc vslice_dummy_var_564;
    call {:si_unique_call 4616} out_ParentDcb_3 := FatCreateDcb(in_IrpContext_39, in_Vcb_28, out_ParentDcb_3, out_LfnByteOffset_1, Mem_T.INT4[in_DirentByteOffset_1], vslice_dummy_var_564, in_Lfn_4);
    goto anon496_Else;

  anon496_Else:
    assume {:partition} yogi_error != 1;
    out_FinalDcb := out_ParentDcb_3;
    call {:si_unique_call 4615} FatSetFullNameInFcb(in_IrpContext_39, out_ParentDcb_3, in_FinalName_1);
    goto anon496_Else_dummy;

  anon496_Else_dummy:
    call {:si_unique_call 4626} {:si_old_unique_call 1} out_sdv_209, out_FirstLoop, out_LfnByteOffset_1, out_Tmp_640, out_Status_4, out_ParentDcb_3, out_FinalDcb, out_sdv_258 := FatCommonCreate_loop_L596(out_sdv_209, out_FirstLoop, out_LfnByteOffset_1, out_Tmp_640, in_OemFinalName, in_Lfn_4, in_Dirent_7, out_Status_4, in_Tmp_655, in_Vcb_28, in_RemainingPart, in_DirentByteOffset_1, out_ParentDcb_3, in_UpcasedFinalName, in_FileNameOpenedDos_1, out_FinalDcb, in_NextRemainingPart, in_DirentBcb_1, out_sdv_258, in_LocalCcb, in_FinalName_1, in_IrpContext_39);
    return;

  anon415_Then:
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    goto anon416_Then;

  anon416_Then:
    goto L625;

  anon414_Then:
    assume {:partition} out_sdv_258 == 0;
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    goto L618;

  anon413_Then:
    assume {:partition} 0 > out_Status_4;
    assume {:nonnull} in_LocalCcb != 0;
    assume in_LocalCcb > 0;
    goto anon503_Then;

  anon503_Then:
    assume {:partition} out_Status_4 == -1073741470;
    goto L618;

  anon494_Then:
    out_Tmp_640 := -1073741470;
    goto L605;

  anon412_Then:
    assume {:partition} out_FirstLoop == 0;
    call {:si_unique_call 4623} FsRtlDissectName(in_RemainingPart, 0, 0);
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto anon421_Then, anon421_Else;

  anon421_Else:
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto anon423_Then;

  anon423_Then:
    goto L668;

  L668:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    goto anon422_Else;

  anon422_Else:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    havoc vslice_dummy_var_566;
    call {:si_unique_call 4621} FatEnsureStringBufferEnough(in_OemFinalName, vslice_dummy_var_566);
    call {:si_unique_call 4622} out_Status_4 := RtlUpcaseUnicodeStringToCountedOemString(0, 0, 0);
    goto L606;

  anon421_Then:
    goto L668;
}



procedure {:LoopProcedure} FatCommonCreate_loop_L596(in_sdv_209: int, in_FirstLoop: int, in_LfnByteOffset_1: int, in_Tmp_640: int, in_OemFinalName: int, in_Lfn_4: int, in_Dirent_7: int, in_Status_4: int, in_Tmp_655: int, in_Vcb_28: int, in_RemainingPart: int, in_DirentByteOffset_1: int, in_ParentDcb_3: int, in_UpcasedFinalName: int, in_FileNameOpenedDos_1: int, in_FinalDcb: int, in_NextRemainingPart: int, in_DirentBcb_1: int, in_sdv_258: int, in_LocalCcb: int, in_FinalName_1: int, in_IrpContext_39: int) returns (out_sdv_209: int, out_FirstLoop: int, out_LfnByteOffset_1: int, out_Tmp_640: int, out_Status_4: int, out_ParentDcb_3: int, out_FinalDcb: int, out_sdv_258: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_sdv_209 == 0 || out_sdv_209 == 1 || out_sdv_209 == in_sdv_209;
  free ensures {:va_keep} out_FirstLoop == 0 || out_FirstLoop == in_FirstLoop;
  free ensures {:va_keep} out_Tmp_640 == 0 || out_Tmp_640 == -1073741470 || out_Tmp_640 == in_Tmp_640;
  free ensures {:va_keep} out_Status_4 == -1073741675 || out_Status_4 == 0 || out_Status_4 == in_Status_4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonCreate_loop_L491(in_OemFinalName: int, in_Status_4: int, in_Tmp_658: int, in_RemainingPart: int, in_UpcasedFinalName: int, in_NextFcb_1: int, in_FileNameOpenedDos_1: int, in_Fcb_11: int, in_NextRemainingPart: int, in_FinalName_1: int, in_IrpContext_39: int) returns (out_Status_4: int, out_Tmp_658: int, out_NextFcb_1: int)
{
  var vslice_dummy_var_567: int;
  var vslice_dummy_var_568: int;
  var vslice_dummy_var_569: int;
  var vslice_dummy_var_570: int;

  entry:
    out_Status_4, out_Tmp_658, out_NextFcb_1 := in_Status_4, in_Tmp_658, in_NextFcb_1;
    goto L491, exit;

  exit:
    return;

  L491:
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto anon389_Else;

  anon389_Else:
    call {:si_unique_call 4634} FsRtlDissectName(in_RemainingPart, 0, 0);
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    goto anon391_Then, anon391_Else;

  anon391_Else:
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    goto anon393_Then;

  anon393_Then:
    goto L498;

  L498:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    goto anon392_Else;

  anon392_Else:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    havoc vslice_dummy_var_570;
    call {:si_unique_call 4632} FatEnsureStringBufferEnough(in_OemFinalName, vslice_dummy_var_570);
    call {:si_unique_call 4633} out_Status_4 := RtlUpcaseUnicodeStringToCountedOemString(0, 0, 0);
    goto anon394_Then, anon394_Else;

  anon394_Else:
    assume {:partition} out_Status_4 >= 0;
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    havoc vslice_dummy_var_569;
    call {:si_unique_call 4631} out_NextFcb_1 := FatFindFcb(in_IrpContext_39, vslice_dummy_var_569, in_OemFinalName, in_FileNameOpenedDos_1);
    goto L515;

  L515:
    goto anon395_Then, anon395_Else;

  anon395_Else:
    assume {:partition} out_NextFcb_1 != 0;
    goto L517;

  L517:
    goto anon397_Then, anon397_Else;

  anon397_Else:
    assume {:partition} out_NextFcb_1 != 0;
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto L518;

  L518:
    goto anon398_Else;

  anon398_Else:
    assume {:partition} out_NextFcb_1 != 0;
    out_Tmp_658 := out_NextFcb_1;
    assume {:nonnull} out_Tmp_658 != 0;
    assume out_Tmp_658 > 0;
    goto anon489_Else;

  anon489_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_658] != 1282;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    goto anon399_Then;

  anon399_Then:
    goto anon399_Then_dummy;

  anon399_Then_dummy:
    call {:si_unique_call 4635} {:si_old_unique_call 1} out_Status_4, out_Tmp_658, out_NextFcb_1 := FatCommonCreate_loop_L491(in_OemFinalName, out_Status_4, out_Tmp_658, in_RemainingPart, in_UpcasedFinalName, out_NextFcb_1, in_FileNameOpenedDos_1, in_Fcb_11, in_NextRemainingPart, in_FinalName_1, in_IrpContext_39);
    return;

  anon397_Then:
    assume {:partition} out_NextFcb_1 == 0;
    goto L518;

  anon395_Then:
    assume {:partition} out_NextFcb_1 == 0;
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    goto anon396_Then, anon396_Else;

  anon396_Else:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    havoc vslice_dummy_var_567;
    call {:si_unique_call 4627} FatEnsureStringBufferEnough(in_UpcasedFinalName, vslice_dummy_var_567);
    call {:si_unique_call 4628} out_Status_4 := RtlDowncaseUnicodeString(0, 0, 0);
    call {:si_unique_call 4629} out_Status_4 := RtlUpcaseUnicodeString(0, 0, 0);
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    havoc vslice_dummy_var_568;
    call {:si_unique_call 4630} out_NextFcb_1 := FatFindFcb(in_IrpContext_39, vslice_dummy_var_568, in_UpcasedFinalName, in_FileNameOpenedDos_1);
    goto L517;

  anon396_Then:
    goto L517;

  anon394_Then:
    assume {:partition} 0 > out_Status_4;
    out_NextFcb_1 := 0;
    assume {:nonnull} in_OemFinalName != 0;
    assume in_OemFinalName > 0;
    goto anon511_Then;

  anon511_Then:
    assume {:partition} out_Status_4 == -1073741470;
    goto L515;

  anon391_Then:
    goto L498;
}



procedure {:LoopProcedure} FatCommonCreate_loop_L491(in_OemFinalName: int, in_Status_4: int, in_Tmp_658: int, in_RemainingPart: int, in_UpcasedFinalName: int, in_NextFcb_1: int, in_FileNameOpenedDos_1: int, in_Fcb_11: int, in_NextRemainingPart: int, in_FinalName_1: int, in_IrpContext_39: int) returns (out_Status_4: int, out_Tmp_658: int, out_NextFcb_1: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_Status_4 == -1073741675 || out_Status_4 == 0 || out_Status_4 == in_Status_4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonCreate_loop_L489(in_FirstLoop: int, in_sdv_214: int, in_OemFinalName: int, in_Status_4: int, in_IsPagingFile_2: int, in_Tmp_658: int, in_Vcb_28: int, in_RemainingPart: int, in_ParentDcb_3: int, in_UpcasedFinalName: int, in_NextFcb_1: int, in_FileNameOpenedDos_1: int, in_Fcb_11: int, in_sdv_244: int, in_FileName: int, in_NextRemainingPart: int, in_Tmp_710: int, in_FinalName_1: int, in_IrpContext_39: int) returns (out_FirstLoop: int, out_sdv_214: int, out_Status_4: int, out_Tmp_658: int, out_NextFcb_1: int, out_sdv_244: int, out_Tmp_710: int)
{
  var vslice_dummy_var_571: int;
  var vslice_dummy_var_572: int;
  var vslice_dummy_var_573: int;
  var vslice_dummy_var_574: int;
  var vslice_dummy_var_575: int;
  var vslice_dummy_var_576: int;

  entry:
    out_FirstLoop, out_sdv_214, out_Status_4, out_Tmp_658, out_NextFcb_1, out_sdv_244, out_Tmp_710 := in_FirstLoop, in_sdv_214, in_Status_4, in_Tmp_658, in_NextFcb_1, in_sdv_244, in_Tmp_710;
    goto L489, exit;

  exit:
    return;

  L489:
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    assume {:nonnull} in_FileName != 0;
    assume in_FileName > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_FileName != 0;
    assume in_FileName > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_FileName != 0;
    assume in_FileName > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto L491;

  L491:
    call {:si_unique_call 4639} out_Status_4, out_Tmp_658, out_NextFcb_1 := FatCommonCreate_loop_L491(in_OemFinalName, out_Status_4, out_Tmp_658, in_RemainingPart, in_UpcasedFinalName, out_NextFcb_1, in_FileNameOpenedDos_1, in_Fcb_11, in_NextRemainingPart, in_FinalName_1, in_IrpContext_39);
    goto L491_last;

  L491_last:
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto anon389_Then, anon389_Else;

  anon389_Else:
    call {:si_unique_call 4647} FsRtlDissectName(in_RemainingPart, 0, 0);
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    goto anon391_Then, anon391_Else;

  anon391_Else:
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    goto anon393_Then;

  anon393_Then:
    goto L498;

  L498:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    goto anon392_Else;

  anon392_Else:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    havoc vslice_dummy_var_575;
    call {:si_unique_call 4645} FatEnsureStringBufferEnough(in_OemFinalName, vslice_dummy_var_575);
    call {:si_unique_call 4646} out_Status_4 := RtlUpcaseUnicodeStringToCountedOemString(0, 0, 0);
    goto anon394_Then, anon394_Else;

  anon394_Else:
    assume {:partition} out_Status_4 >= 0;
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    havoc vslice_dummy_var_574;
    call {:si_unique_call 4644} out_NextFcb_1 := FatFindFcb(in_IrpContext_39, vslice_dummy_var_574, in_OemFinalName, in_FileNameOpenedDos_1);
    goto L515;

  L515:
    goto anon395_Then, anon395_Else;

  anon395_Else:
    assume {:partition} out_NextFcb_1 != 0;
    goto L517;

  L517:
    goto anon397_Then, anon397_Else;

  anon397_Else:
    assume {:partition} out_NextFcb_1 != 0;
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto L518;

  L518:
    goto anon398_Then, anon398_Else;

  anon398_Else:
    assume {:partition} out_NextFcb_1 != 0;
    out_Tmp_658 := out_NextFcb_1;
    assume {:nonnull} out_Tmp_658 != 0;
    assume out_Tmp_658 > 0;
    goto anon489_Then, anon489_Else;

  anon489_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_658] != 1282;
    assume {:nonnull} in_NextRemainingPart != 0;
    assume in_NextRemainingPart > 0;
    goto anon399_Then, anon399_Else;

  anon399_Else:
    goto L492;

  L492:
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto anon390_Then, anon390_Else;

  anon390_Else:
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto anon400_Then, anon400_Else;

  anon400_Else:
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    assume {:nonnull} in_RemainingPart != 0;
    assume in_RemainingPart > 0;
    goto L543;

  L543:
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    havoc vslice_dummy_var_571;
    call {:si_unique_call 4638} FatVerifyFcb(in_IrpContext_39, vslice_dummy_var_571);
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    goto anon401_Then, anon401_Else;

  anon401_Else:
    goto anon402_Else;

  anon402_Else:
    assume {:partition} in_IsPagingFile_2 != 0;
    goto anon403_Else;

  anon403_Else:
    assume {:partition} out_FirstLoop != 0;
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    havoc out_Tmp_710;
    assume {:nonnull} out_Tmp_710 != 0;
    assume out_Tmp_710 > 0;
    goto anon490_Else;

  anon490_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_710] == 1282;
    call {:si_unique_call 4637} out_sdv_244 := sdv_IsListEmpty(0);
    goto anon404_Then, anon404_Else;

  anon404_Else:
    assume {:partition} out_sdv_244 != 0;
    call {:si_unique_call 4648} out_sdv_214 := sdv_IsListEmpty(0);
    goto anon405_Else;

  anon405_Else:
    assume {:partition} out_sdv_214 == 0;
    goto L569;

  L569:
    call {:si_unique_call 4636} FatFspClose#1(in_Vcb_28);
    goto anon510_Else;

  anon510_Else:
    assume {:partition} yogi_error != 1;
    out_FirstLoop := 0;
    goto anon510_Else_dummy;

  anon510_Else_dummy:
    goto L_BAF_1;

  L_BAF_1:
    call {:si_unique_call 4650} {:si_old_unique_call 1} out_FirstLoop, out_sdv_214, out_Status_4, out_Tmp_658, out_NextFcb_1, out_sdv_244, out_Tmp_710 := FatCommonCreate_loop_L489(out_FirstLoop, out_sdv_214, in_OemFinalName, out_Status_4, in_IsPagingFile_2, out_Tmp_658, in_Vcb_28, in_RemainingPart, in_ParentDcb_3, in_UpcasedFinalName, out_NextFcb_1, in_FileNameOpenedDos_1, in_Fcb_11, out_sdv_244, in_FileName, in_NextRemainingPart, out_Tmp_710, in_FinalName_1, in_IrpContext_39);
    return;

  anon404_Then:
    assume {:partition} out_sdv_244 == 0;
    goto L569;

  anon401_Then:
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    havoc vslice_dummy_var_576;
    call {:si_unique_call 4649} FatRemoveNames(in_IrpContext_39, vslice_dummy_var_576);
    goto anon401_Then_dummy;

  anon401_Then_dummy:
    goto L_BAF_1;

  anon400_Then:
    goto L543;

  anon390_Then:
    goto L543;

  anon399_Then:
    assume false;
    return;

  anon489_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_658] == 1282;
    goto L492;

  anon398_Then:
    assume {:partition} out_NextFcb_1 == 0;
    goto L492;

  anon397_Then:
    assume {:partition} out_NextFcb_1 == 0;
    goto L518;

  anon395_Then:
    assume {:partition} out_NextFcb_1 == 0;
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    goto anon396_Then, anon396_Else;

  anon396_Else:
    assume {:nonnull} in_FinalName_1 != 0;
    assume in_FinalName_1 > 0;
    havoc vslice_dummy_var_572;
    call {:si_unique_call 4640} FatEnsureStringBufferEnough(in_UpcasedFinalName, vslice_dummy_var_572);
    call {:si_unique_call 4641} out_Status_4 := RtlDowncaseUnicodeString(0, 0, 0);
    call {:si_unique_call 4642} out_Status_4 := RtlUpcaseUnicodeString(0, 0, 0);
    assume {:nonnull} in_Fcb_11 != 0;
    assume in_Fcb_11 > 0;
    havoc vslice_dummy_var_573;
    call {:si_unique_call 4643} out_NextFcb_1 := FatFindFcb(in_IrpContext_39, vslice_dummy_var_573, in_UpcasedFinalName, in_FileNameOpenedDos_1);
    goto L517;

  anon396_Then:
    goto L517;

  anon394_Then:
    assume {:partition} 0 > out_Status_4;
    out_NextFcb_1 := 0;
    assume {:nonnull} in_OemFinalName != 0;
    assume in_OemFinalName > 0;
    goto anon511_Then;

  anon511_Then:
    assume {:partition} out_Status_4 == -1073741470;
    goto L515;

  anon391_Then:
    goto L498;

  anon389_Then:
    goto L492;
}



procedure {:LoopProcedure} FatCommonCreate_loop_L489(in_FirstLoop: int, in_sdv_214: int, in_OemFinalName: int, in_Status_4: int, in_IsPagingFile_2: int, in_Tmp_658: int, in_Vcb_28: int, in_RemainingPart: int, in_ParentDcb_3: int, in_UpcasedFinalName: int, in_NextFcb_1: int, in_FileNameOpenedDos_1: int, in_Fcb_11: int, in_sdv_244: int, in_FileName: int, in_NextRemainingPart: int, in_Tmp_710: int, in_FinalName_1: int, in_IrpContext_39: int) returns (out_FirstLoop: int, out_sdv_214: int, out_Status_4: int, out_Tmp_658: int, out_NextFcb_1: int, out_sdv_244: int, out_Tmp_710: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_FirstLoop == 0 || out_FirstLoop == in_FirstLoop;
  free ensures {:va_keep} out_sdv_214 == 1 || out_sdv_214 == 0 || out_sdv_214 == in_sdv_214;
  free ensures {:va_keep} out_Status_4 == -1073741675 || out_Status_4 == 0 || out_Status_4 == in_Status_4;
  free ensures {:va_keep} out_sdv_244 == 1 || out_sdv_244 == 0 || out_sdv_244 == in_sdv_244;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatOpenTargetDirectory_loop_L59(in_i_8: int, in_Tmp_720: int, in_Tmp_733: int, in_FileObject_5: int) returns (out_i_8: int, out_Tmp_720: int, out_Tmp_733: int)
{

  entry:
    out_i_8, out_Tmp_720, out_Tmp_733 := in_i_8, in_Tmp_720, in_Tmp_733;
    goto L59, exit;

  exit:
    return;

  L59:
    out_Tmp_720 := out_i_8;
    assume {:nonnull} in_FileObject_5 != 0;
    assume in_FileObject_5 > 0;
    havoc out_Tmp_733;
    assume {:nonnull} out_Tmp_733 != 0;
    assume out_Tmp_733 > 0;
    goto anon38_Then;

  anon38_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_733 + out_Tmp_720 * 4] != 92;
    goto anon29_Else;

  anon29_Else:
    assume {:partition} out_i_8 != 0;
    out_i_8 := out_i_8 - 1;
    goto anon29_Else_dummy;

  anon29_Else_dummy:
    havoc out_i_8;
    return;
}



procedure {:LoopProcedure} FatOpenTargetDirectory_loop_L59(in_i_8: int, in_Tmp_720: int, in_Tmp_733: int, in_FileObject_5: int) returns (out_i_8: int, out_Tmp_720: int, out_Tmp_733: int);
  free ensures {:va_keep} out_Tmp_720 == in_i_8 || out_Tmp_720 == in_Tmp_720;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCreateNewFile_loop_L341(in_i_9: int, in_Tmp_741: int, in_Tmp_744: int, in_Tmp_745: int, in_Tmp_747: int, in_Tmp_750: int, in_DirentsInFirstPage: int, in_Dirent_8: int, in_SecondPageDirent: int, in_Tmp_756: int, in_DirentsNeeded: int, in_DirentFromPool: int, in_SecondPageBcb: int, in_FirstPageDirent: int) returns (out_i_9: int, out_Tmp_741: int, out_Tmp_744: int, out_Tmp_745: int, out_Tmp_747: int, out_Tmp_750: int, out_Tmp_756: int)
{

  entry:
    out_i_9, out_Tmp_741, out_Tmp_744, out_Tmp_745, out_Tmp_747, out_Tmp_750, out_Tmp_756 := in_i_9, in_Tmp_741, in_Tmp_744, in_Tmp_745, in_Tmp_747, in_Tmp_750, in_Tmp_756;
    goto L341, exit;

  exit:
    return;

  L341:
    goto anon123_Else;

  anon123_Else:
    assume {:partition} in_DirentsNeeded > out_i_9;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume {:partition} in_DirentFromPool != 0;
    assume {:nonnull} in_SecondPageBcb != 0;
    assume in_SecondPageBcb > 0;
    goto anon125_Then, anon125_Else;

  anon125_Else:
    goto L346;

  L346:
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume {:partition} in_DirentsInFirstPage > out_i_9;
    out_Tmp_744 := out_i_9;
    assume {:nonnull} in_FirstPageDirent != 0;
    assume in_FirstPageDirent > 0;
    havoc out_Tmp_750;
    assume {:nonnull} out_Tmp_750 != 0;
    assume out_Tmp_750 > 0;
    Mem_T.INT4[out_Tmp_750] := 229;
    goto L349;

  L349:
    out_i_9 := out_i_9 + 1;
    goto L349_dummy;

  L349_dummy:
    call {:si_unique_call 4651} {:si_old_unique_call 1} out_i_9, out_Tmp_741, out_Tmp_744, out_Tmp_745, out_Tmp_747, out_Tmp_750, out_Tmp_756 := FatCreateNewFile_loop_L341(out_i_9, out_Tmp_741, out_Tmp_744, out_Tmp_745, out_Tmp_747, out_Tmp_750, in_DirentsInFirstPage, in_Dirent_8, in_SecondPageDirent, out_Tmp_756, in_DirentsNeeded, in_DirentFromPool, in_SecondPageBcb, in_FirstPageDirent);
    return;

  anon127_Then:
    assume {:partition} out_i_9 >= in_DirentsInFirstPage;
    out_Tmp_745 := out_i_9 - in_DirentsInFirstPage;
    assume {:nonnull} in_SecondPageDirent != 0;
    assume in_SecondPageDirent > 0;
    havoc out_Tmp_756;
    assume {:nonnull} out_Tmp_756 != 0;
    assume out_Tmp_756 > 0;
    Mem_T.INT4[out_Tmp_756] := 229;
    goto L349;

  anon125_Then:
    goto anon126_Else;

  anon126_Else:
    assume {:partition} out_i_9 != in_DirentsInFirstPage;
    goto L346;

  anon124_Then:
    assume {:partition} in_DirentFromPool == 0;
    out_Tmp_741 := out_i_9;
    assume {:nonnull} in_Dirent_8 != 0;
    assume in_Dirent_8 > 0;
    havoc out_Tmp_747;
    assume {:nonnull} out_Tmp_747 != 0;
    assume out_Tmp_747 > 0;
    Mem_T.INT4[out_Tmp_747] := 229;
    goto L349;
}



procedure {:LoopProcedure} FatCreateNewFile_loop_L341(in_i_9: int, in_Tmp_741: int, in_Tmp_744: int, in_Tmp_745: int, in_Tmp_747: int, in_Tmp_750: int, in_DirentsInFirstPage: int, in_Dirent_8: int, in_SecondPageDirent: int, in_Tmp_756: int, in_DirentsNeeded: int, in_DirentFromPool: int, in_SecondPageBcb: int, in_FirstPageDirent: int) returns (out_i_9: int, out_Tmp_741: int, out_Tmp_744: int, out_Tmp_745: int, out_Tmp_747: int, out_Tmp_750: int, out_Tmp_756: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCreateNewDirectory_loop_L256(in_i_10: int, in_Tmp_798: int, in_DirentsInFirstPage_1: int, in_Tmp_799: int, in_Dirent_10: int, in_Tmp_801: int, in_SecondPageDirent_1: int, in_DirentsNeeded_1: int, in_SecondPageBcb_1: int, in_DirentFromPool_1: int, in_Tmp_805: int, in_FirstPageDirent_1: int, in_Tmp_808: int, in_Tmp_810: int) returns (out_i_10: int, out_Tmp_798: int, out_Tmp_799: int, out_Tmp_801: int, out_Tmp_805: int, out_Tmp_808: int, out_Tmp_810: int)
{

  entry:
    out_i_10, out_Tmp_798, out_Tmp_799, out_Tmp_801, out_Tmp_805, out_Tmp_808, out_Tmp_810 := in_i_10, in_Tmp_798, in_Tmp_799, in_Tmp_801, in_Tmp_805, in_Tmp_808, in_Tmp_810;
    goto L256, exit;

  exit:
    return;

  L256:
    goto anon99_Else;

  anon99_Else:
    assume {:partition} in_DirentsNeeded_1 > out_i_10;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:partition} in_DirentFromPool_1 != 0;
    assume {:nonnull} in_SecondPageBcb_1 != 0;
    assume in_SecondPageBcb_1 > 0;
    goto anon101_Then, anon101_Else;

  anon101_Else:
    goto L261;

  L261:
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} in_DirentsInFirstPage_1 > out_i_10;
    out_Tmp_798 := out_i_10;
    assume {:nonnull} in_FirstPageDirent_1 != 0;
    assume in_FirstPageDirent_1 > 0;
    havoc out_Tmp_808;
    assume {:nonnull} out_Tmp_808 != 0;
    assume out_Tmp_808 > 0;
    Mem_T.INT4[out_Tmp_808] := 229;
    goto L264;

  L264:
    out_i_10 := out_i_10 + 1;
    goto L264_dummy;

  L264_dummy:
    call {:si_unique_call 4652} {:si_old_unique_call 1} out_i_10, out_Tmp_798, out_Tmp_799, out_Tmp_801, out_Tmp_805, out_Tmp_808, out_Tmp_810 := FatCreateNewDirectory_loop_L256(out_i_10, out_Tmp_798, in_DirentsInFirstPage_1, out_Tmp_799, in_Dirent_10, out_Tmp_801, in_SecondPageDirent_1, in_DirentsNeeded_1, in_SecondPageBcb_1, in_DirentFromPool_1, out_Tmp_805, in_FirstPageDirent_1, out_Tmp_808, out_Tmp_810);
    return;

  anon103_Then:
    assume {:partition} out_i_10 >= in_DirentsInFirstPage_1;
    out_Tmp_799 := out_i_10 - in_DirentsInFirstPage_1;
    assume {:nonnull} in_SecondPageDirent_1 != 0;
    assume in_SecondPageDirent_1 > 0;
    havoc out_Tmp_805;
    assume {:nonnull} out_Tmp_805 != 0;
    assume out_Tmp_805 > 0;
    Mem_T.INT4[out_Tmp_805] := 229;
    goto L264;

  anon101_Then:
    goto anon102_Else;

  anon102_Else:
    assume {:partition} out_i_10 != in_DirentsInFirstPage_1;
    goto L261;

  anon100_Then:
    assume {:partition} in_DirentFromPool_1 == 0;
    out_Tmp_801 := out_i_10;
    assume {:nonnull} in_Dirent_10 != 0;
    assume in_Dirent_10 > 0;
    havoc out_Tmp_810;
    assume {:nonnull} out_Tmp_810 != 0;
    assume out_Tmp_810 > 0;
    Mem_T.INT4[out_Tmp_810] := 229;
    goto L264;
}



procedure {:LoopProcedure} FatCreateNewDirectory_loop_L256(in_i_10: int, in_Tmp_798: int, in_DirentsInFirstPage_1: int, in_Tmp_799: int, in_Dirent_10: int, in_Tmp_801: int, in_SecondPageDirent_1: int, in_DirentsNeeded_1: int, in_SecondPageBcb_1: int, in_DirentFromPool_1: int, in_Tmp_805: int, in_FirstPageDirent_1: int, in_Tmp_808: int, in_Tmp_810: int) returns (out_i_10: int, out_Tmp_798: int, out_Tmp_799: int, out_Tmp_801: int, out_Tmp_805: int, out_Tmp_808: int, out_Tmp_810: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetRenameInfo_loop_L488(in_TempFcb: int, in_IrpContext_49: int, in_Fcb_15: int) returns (out_TempFcb: int)
{

  entry:
    out_TempFcb := in_TempFcb;
    goto L488, exit;

  exit:
    return;

  L488:
    goto anon245_Else;

  anon245_Else:
    assume {:partition} out_TempFcb != in_Fcb_15;
    call {:si_unique_call 4653} FatRemoveNames(in_IrpContext_49, out_TempFcb);
    assume {:nonnull} out_TempFcb != 0;
    assume out_TempFcb > 0;
    call {:si_unique_call 4654} out_TempFcb := FatGetNextFcbBottomUp(in_IrpContext_49, out_TempFcb, in_Fcb_15);
    goto anon245_Else_dummy;

  anon245_Else_dummy:
    call {:si_unique_call 4655} {:si_old_unique_call 1} out_TempFcb := FatSetRenameInfo_loop_L488(out_TempFcb, in_IrpContext_49, in_Fcb_15);
    return;
}



procedure {:LoopProcedure} FatSetRenameInfo_loop_L488(in_TempFcb: int, in_IrpContext_49: int, in_Fcb_15: int) returns (out_TempFcb: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetRenameInfo_loop_L453(in_BatchOplockFcb: int, in_sdv_685: int, in_TempFcb: int, in_Tmp_1045: int, in_BatchOplockCount: int, in_IrpContext_49: int, in_Fcb_15: int) returns (out_BatchOplockFcb: int, out_sdv_685: int, out_TempFcb: int, out_Tmp_1045: int, out_BatchOplockCount: int)
{

  entry:
    out_BatchOplockFcb, out_sdv_685, out_TempFcb, out_Tmp_1045, out_BatchOplockCount := in_BatchOplockFcb, in_sdv_685, in_TempFcb, in_Tmp_1045, in_BatchOplockCount;
    goto L453, exit;

  exit:
    return;

  L453:
    goto anon238_Else;

  anon238_Else:
    assume {:partition} out_TempFcb != in_Fcb_15;
    assume {:nonnull} out_TempFcb != 0;
    assume out_TempFcb > 0;
    goto anon240_Then, anon240_Else;

  anon240_Else:
    out_Tmp_1045 := out_TempFcb;
    assume {:nonnull} out_Tmp_1045 != 0;
    assume out_Tmp_1045 > 0;
    goto anon297_Else;

  anon297_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_1045] == 1282;
    assume {:nonnull} out_TempFcb != 0;
    assume out_TempFcb > 0;
    call {:si_unique_call 4657} out_sdv_685 := corral_nondet();
    goto anon241_Else;

  anon241_Else:
    assume {:partition} out_sdv_685 != 0;
    out_BatchOplockCount := out_BatchOplockCount + 1;
    goto anon298_Then, anon298_Else;

  anon298_Else:
    assume {:partition} out_BatchOplockFcb == 0;
    out_BatchOplockFcb := out_TempFcb;
    goto L456;

  L456:
    call {:si_unique_call 4656} out_TempFcb := FatGetNextFcbBottomUp(in_IrpContext_49, out_TempFcb, in_Fcb_15);
    goto L456_dummy;

  L456_dummy:
    call {:si_unique_call 4658} {:si_old_unique_call 1} out_BatchOplockFcb, out_sdv_685, out_TempFcb, out_Tmp_1045, out_BatchOplockCount := FatSetRenameInfo_loop_L453(out_BatchOplockFcb, out_sdv_685, out_TempFcb, out_Tmp_1045, out_BatchOplockCount, in_IrpContext_49, in_Fcb_15);
    return;

  anon298_Then:
    assume {:partition} out_BatchOplockFcb != 0;
    goto L456;

  anon240_Then:
    goto L456;
}



procedure {:LoopProcedure} FatSetRenameInfo_loop_L453(in_BatchOplockFcb: int, in_sdv_685: int, in_TempFcb: int, in_Tmp_1045: int, in_BatchOplockCount: int, in_IrpContext_49: int, in_Fcb_15: int) returns (out_BatchOplockFcb: int, out_sdv_685: int, out_TempFcb: int, out_Tmp_1045: int, out_BatchOplockCount: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetRenameInfo_loop_L438(in_BatchOplockFcb: int, in_Status_8: int, in_sdv_685: int, in_TempFcb: int, in_Tmp_1045: int, in_BatchOplockCount: int, in_IrpContext_49: int, in_Irp_4: int, in_Fcb_15: int, in_boogieTmp: int) returns (out_BatchOplockFcb: int, out_sdv_685: int, out_TempFcb: int, out_Tmp_1045: int, out_BatchOplockCount: int, out_boogieTmp: int)
{

  entry:
    out_BatchOplockFcb, out_sdv_685, out_TempFcb, out_Tmp_1045, out_BatchOplockCount, out_boogieTmp := in_BatchOplockFcb, in_sdv_685, in_TempFcb, in_Tmp_1045, in_BatchOplockCount, in_boogieTmp;
    goto L438, exit;

  exit:
    return;

  L438:
    out_BatchOplockFcb := 0;
    out_BatchOplockCount := 0;
    call {:si_unique_call 4659} out_TempFcb := FatGetNextFcbBottomUp(in_IrpContext_49, 0, in_Fcb_15);
    goto L453;

  L453:
    call {:si_unique_call 4661} out_BatchOplockFcb, out_sdv_685, out_TempFcb, out_Tmp_1045, out_BatchOplockCount := FatSetRenameInfo_loop_L453(out_BatchOplockFcb, out_sdv_685, out_TempFcb, out_Tmp_1045, out_BatchOplockCount, in_IrpContext_49, in_Fcb_15);
    goto L453_last;

  L453_last:
    goto anon238_Then, anon238_Else;

  anon238_Else:
    assume {:partition} out_TempFcb != in_Fcb_15;
    assume {:nonnull} out_TempFcb != 0;
    assume out_TempFcb > 0;
    goto anon240_Then, anon240_Else;

  anon240_Else:
    out_Tmp_1045 := out_TempFcb;
    assume {:nonnull} out_Tmp_1045 != 0;
    assume out_Tmp_1045 > 0;
    goto anon297_Else;

  anon297_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_1045] == 1282;
    assume {:nonnull} out_TempFcb != 0;
    assume out_TempFcb > 0;
    call {:si_unique_call 4663} out_sdv_685 := corral_nondet();
    goto anon241_Else;

  anon241_Else:
    assume {:partition} out_sdv_685 != 0;
    out_BatchOplockCount := out_BatchOplockCount + 1;
    goto anon298_Then, anon298_Else;

  anon298_Else:
    assume {:partition} out_BatchOplockFcb == 0;
    out_BatchOplockFcb := out_TempFcb;
    goto L456;

  L456:
    call {:si_unique_call 4662} out_TempFcb := FatGetNextFcbBottomUp(in_IrpContext_49, out_TempFcb, in_Fcb_15);
    assume false;
    return;

  anon298_Then:
    assume {:partition} out_BatchOplockFcb != 0;
    goto L456;

  anon240_Then:
    goto L456;

  anon238_Then:
    assume {:partition} out_TempFcb == in_Fcb_15;
    goto anon239_Else;

  anon239_Else:
    assume {:partition} out_BatchOplockFcb != 0;
    assume {:nonnull} in_Irp_4 != 0;
    assume in_Irp_4 > 0;
    goto anon242_Then, anon242_Else;

  anon242_Else:
    assume {:nonnull} in_Irp_4 != 0;
    assume in_Irp_4 > 0;
    goto anon243_Then;

  anon243_Then:
    goto L472;

  L472:
    assume {:nonnull} in_Irp_4 != 0;
    assume in_Irp_4 > 0;
    assume {:nonnull} out_BatchOplockFcb != 0;
    assume out_BatchOplockFcb > 0;
    assume {:nonnull} in_Status_8 != 0;
    assume in_Status_8 > 0;
    call {:si_unique_call 4660} out_boogieTmp := corral_nondet();
    Mem_T.INT4[in_Status_8] := out_boogieTmp;
    assume {:nonnull} in_Status_8 != 0;
    assume in_Status_8 > 0;
    goto anon244_Then;

  anon244_Then:
    assume {:partition} Mem_T.INT4[in_Status_8] == 0;
    goto anon244_Then_dummy;

  anon244_Then_dummy:
    call {:si_unique_call 4664} {:si_old_unique_call 1} out_BatchOplockFcb, out_sdv_685, out_TempFcb, out_Tmp_1045, out_BatchOplockCount, out_boogieTmp := FatSetRenameInfo_loop_L438(out_BatchOplockFcb, in_Status_8, out_sdv_685, out_TempFcb, out_Tmp_1045, out_BatchOplockCount, in_IrpContext_49, in_Irp_4, in_Fcb_15, out_boogieTmp);
    return;

  anon242_Then:
    goto L472;
}



procedure {:LoopProcedure} FatSetRenameInfo_loop_L438(in_BatchOplockFcb: int, in_Status_8: int, in_sdv_685: int, in_TempFcb: int, in_Tmp_1045: int, in_BatchOplockCount: int, in_IrpContext_49: int, in_Irp_4: int, in_Fcb_15: int, in_boogieTmp: int) returns (out_BatchOplockFcb: int, out_sdv_685: int, out_TempFcb: int, out_Tmp_1045: int, out_BatchOplockCount: int, out_boogieTmp: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetRenameInfo_loop_L596(in_Links: int, in_sdv_672: int, in_TargetDirentOffset: int, in_TempFcb: int, in_sdv_693: int) returns (out_Links: int, out_sdv_672: int, out_TempFcb: int, out_sdv_693: int)
{

  entry:
    out_Links, out_sdv_672, out_TempFcb, out_sdv_693 := in_Links, in_sdv_672, in_TempFcb, in_sdv_693;
    goto L596, exit;

  exit:
    return;

  L596:
    goto anon269_Else;

  anon269_Else:
    call {:si_unique_call 4666} out_sdv_672 := sdv_containing_record(out_Links, 72);
    out_TempFcb := out_sdv_672;
    assume {:nonnull} out_Links != 0;
    assume out_Links > 0;
    havoc out_Links;
    assume {:nonnull} in_TargetDirentOffset != 0;
    assume in_TargetDirentOffset > 0;
    assume {:nonnull} out_TempFcb != 0;
    assume out_TempFcb > 0;
    goto anon301_Then, anon301_Else;

  anon301_Else:
    assume {:nonnull} out_TempFcb != 0;
    assume out_TempFcb > 0;
    goto anon270_Then;

  anon270_Then:
    assume {:nonnull} out_TempFcb != 0;
    assume out_TempFcb > 0;
    call {:si_unique_call 4665} out_sdv_693 := corral_nondet();
    goto anon274_Then;

  anon274_Then:
    assume {:partition} out_sdv_693 != 0;
    goto anon274_Then_dummy;

  anon274_Then_dummy:
    goto L_BAF_2;

  L_BAF_2:
    havoc out_Links;
    return;

  anon301_Then:
    goto anon301_Then_dummy;

  anon301_Then_dummy:
    goto L_BAF_2;
}



procedure {:LoopProcedure} FatSetRenameInfo_loop_L596(in_Links: int, in_sdv_672: int, in_TargetDirentOffset: int, in_TempFcb: int, in_sdv_693: int) returns (out_Links: int, out_sdv_672: int, out_TempFcb: int, out_sdv_693: int);
  free ensures {:va_keep} out_sdv_672 == in_sdv_672 || out_sdv_672 == in_Links;
  free ensures {:va_keep} out_TempFcb == in_TempFcb || out_TempFcb == in_Links;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeleteFile_loop_L6(in_Links_1: int, in_Fcb_25: int, in_sdv_765: int, in_IrpContext_61: int, in_DirentOffset: int, in_vslice_dummy_var_144: int) returns (out_Links_1: int, out_Fcb_25: int, out_sdv_765: int, out_vslice_dummy_var_144: int)
{

  entry:
    out_Links_1, out_Fcb_25, out_sdv_765, out_vslice_dummy_var_144 := in_Links_1, in_Fcb_25, in_sdv_765, in_vslice_dummy_var_144;
    goto L6, exit;

  exit:
    return;

  L6:
    goto anon19_Else;

  anon19_Else:
    call {:si_unique_call 4669} out_sdv_765 := sdv_containing_record(out_Links_1, 72);
    out_Fcb_25 := out_sdv_765;
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    call {:si_unique_call 4670} FatRemoveNames(in_IrpContext_61, out_Fcb_25);
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    call {:si_unique_call 4671} out_vslice_dummy_var_144 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon23_Else;

  anon23_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    assume {:nonnull} out_Fcb_25 != 0;
    assume out_Fcb_25 > 0;
    call {:si_unique_call 4667} ExReleaseResourceLite(0);
    goto L15;

  L15:
    assume {:nonnull} out_Links_1 != 0;
    assume out_Links_1 > 0;
    havoc out_Links_1;
    goto L15_dummy;

  L15_dummy:
    call {:si_unique_call 4672} {:si_old_unique_call 1} out_Links_1, out_Fcb_25, out_sdv_765, out_vslice_dummy_var_144 := FatDeleteFile_loop_L6(out_Links_1, out_Fcb_25, out_sdv_765, in_IrpContext_61, in_DirentOffset, out_vslice_dummy_var_144);
    return;

  anon21_Then:
    call {:si_unique_call 4668} KeBugCheckEx(35, 1053056, 0, 0, 0);
    goto L15;

  anon20_Then:
    goto L15;

  anon22_Then:
    goto L15;
}



procedure {:LoopProcedure} FatDeleteFile_loop_L6(in_Links_1: int, in_Fcb_25: int, in_sdv_765: int, in_IrpContext_61: int, in_DirentOffset: int, in_vslice_dummy_var_144: int) returns (out_Links_1: int, out_Fcb_25: int, out_sdv_765: int, out_vslice_dummy_var_144: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatUnpinRepinnedBcbs_loop_L49(in_Tmp_1504: int, in_Tmp_1505: int, in_Tmp_1509: int, in_j: int, in_FileObject_28: int, in_Tmp_1513: int, in_Tmp_1514: int, in_sdv_893: int, in_Tmp_1522: int, in_Repinned: int, in_Tmp_1526: int, in_Tmp_1530: int) returns (out_Tmp_1504: int, out_Tmp_1505: int, out_Tmp_1509: int, out_j: int, out_Tmp_1513: int, out_Tmp_1514: int, out_sdv_893: int, out_Tmp_1522: int, out_Tmp_1526: int, out_Tmp_1530: int)
{

  entry:
    out_Tmp_1504, out_Tmp_1505, out_Tmp_1509, out_j, out_Tmp_1513, out_Tmp_1514, out_sdv_893, out_Tmp_1522, out_Tmp_1526, out_Tmp_1530 := in_Tmp_1504, in_Tmp_1505, in_Tmp_1509, in_j, in_Tmp_1513, in_Tmp_1514, in_sdv_893, in_Tmp_1522, in_Tmp_1526, in_Tmp_1530;
    goto L49, exit;

  exit:
    return;

  L49:
    goto anon111_Else;

  anon111_Else:
    assume {:partition} 4 > out_j;
    out_Tmp_1522 := out_j;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1509;
    assume {:nonnull} out_Tmp_1509 != 0;
    assume out_Tmp_1509 > 0;
    goto anon128_Then, anon128_Else;

  anon128_Else:
    out_Tmp_1514 := out_j;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1530;
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume out_Tmp_1514 <= 2;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume out_Tmp_1514 != 2;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume out_Tmp_1514 != 1;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume out_Tmp_1514 != 0;
    goto L144;

  L144:
    goto anon118_Then, anon118_Else;

  anon118_Else:
    out_sdv_893 := 0;
    goto L59;

  L59:
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} out_sdv_893 == in_FileObject_28;
    out_Tmp_1504 := out_j;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1505;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume out_Tmp_1504 <= 2;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume out_Tmp_1504 != 2;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume out_Tmp_1504 != 1;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume out_Tmp_1504 != 0;
    goto L154;

  L154:
    out_Tmp_1526 := out_j;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1513;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume out_Tmp_1526 <= 2;
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume out_Tmp_1526 != 2;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume out_Tmp_1526 != 1;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume out_Tmp_1526 != 0;
    goto L54;

  L54:
    out_j := out_j + 1;
    goto L54_dummy;

  L54_dummy:
    call {:si_unique_call 4674} {:si_old_unique_call 1} out_Tmp_1504, out_Tmp_1505, out_Tmp_1509, out_j, out_Tmp_1513, out_Tmp_1514, out_sdv_893, out_Tmp_1522, out_Tmp_1526, out_Tmp_1530 := FatUnpinRepinnedBcbs_loop_L49(out_Tmp_1504, out_Tmp_1505, out_Tmp_1509, out_j, in_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_sdv_893, out_Tmp_1522, in_Repinned, out_Tmp_1526, out_Tmp_1530);
    return;

  anon134_Then:
    assume out_Tmp_1526 == 0;
    out_Tmp_1526 := 0;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon133_Then:
    assume out_Tmp_1526 == 1;
    out_Tmp_1526 := 1;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon132_Then:
    assume out_Tmp_1526 == 2;
    out_Tmp_1526 := 2;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon131_Then:
    assume out_Tmp_1526 > 2;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon137_Then:
    assume out_Tmp_1504 == 0;
    out_Tmp_1504 := 0;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon136_Then:
    assume out_Tmp_1504 == 1;
    out_Tmp_1504 := 1;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon135_Then:
    assume out_Tmp_1504 == 2;
    out_Tmp_1504 := 2;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon130_Then:
    assume out_Tmp_1504 > 2;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon112_Then:
    assume {:partition} out_sdv_893 != in_FileObject_28;
    goto L54;

  anon118_Then:
    call {:si_unique_call 4673} out_sdv_893 := __HAVOC_malloc(1);
    goto L59;

  anon140_Then:
    assume out_Tmp_1514 == 0;
    out_Tmp_1514 := 0;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon139_Then:
    assume out_Tmp_1514 == 1;
    out_Tmp_1514 := 1;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon138_Then:
    assume out_Tmp_1514 == 2;
    out_Tmp_1514 := 2;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon129_Then:
    assume out_Tmp_1514 > 2;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon128_Then:
    goto L54;
}



procedure {:LoopProcedure} FatUnpinRepinnedBcbs_loop_L49(in_Tmp_1504: int, in_Tmp_1505: int, in_Tmp_1509: int, in_j: int, in_FileObject_28: int, in_Tmp_1513: int, in_Tmp_1514: int, in_sdv_893: int, in_Tmp_1522: int, in_Repinned: int, in_Tmp_1526: int, in_Tmp_1530: int) returns (out_Tmp_1504: int, out_Tmp_1505: int, out_Tmp_1509: int, out_j: int, out_Tmp_1513: int, out_Tmp_1514: int, out_sdv_893: int, out_Tmp_1522: int, out_Tmp_1526: int, out_Tmp_1530: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatUnpinRepinnedBcbs_loop_L23(in_i_11: int, in_Tmp_1504: int, in_Tmp_1505: int, in_Tmp_1508: int, in_Tmp_1509: int, in_j: int, in_Tmp_1512: int, in_Iosb_13: int, in_FileObject_28: int, in_Tmp_1513: int, in_Tmp_1514: int, in_Tmp_1516: int, in_Tmp_1517: int, in_Tmp_1518: int, in_sdv_893: int, in_WriteThroughToDisk: int, in_Tmp_1522: int, in_Tmp_1523: int, in_ForceVerify: int, in_Repinned: int, in_Tmp_1525: int, in_Tmp_1526: int, in_Tmp_1527: int, in_RaiseIosb: int, in_Tmp_1528: int, in_Tmp_1530: int, in_IrpContext_71: int, in_vslice_dummy_var_232: int) returns (out_i_11: int, out_Tmp_1504: int, out_Tmp_1505: int, out_Tmp_1508: int, out_Tmp_1509: int, out_j: int, out_Tmp_1512: int, out_FileObject_28: int, out_Tmp_1513: int, out_Tmp_1514: int, out_Tmp_1516: int, out_Tmp_1517: int, out_Tmp_1518: int, out_sdv_893: int, out_Tmp_1522: int, out_Tmp_1523: int, out_ForceVerify: int, out_Tmp_1525: int, out_Tmp_1526: int, out_Tmp_1527: int, out_Tmp_1528: int, out_Tmp_1530: int, out_vslice_dummy_var_232: int)
{

  entry:
    out_i_11, out_Tmp_1504, out_Tmp_1505, out_Tmp_1508, out_Tmp_1509, out_j, out_Tmp_1512, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_Tmp_1516, out_Tmp_1517, out_Tmp_1518, out_sdv_893, out_Tmp_1522, out_Tmp_1523, out_ForceVerify, out_Tmp_1525, out_Tmp_1526, out_Tmp_1527, out_Tmp_1528, out_Tmp_1530, out_vslice_dummy_var_232 := in_i_11, in_Tmp_1504, in_Tmp_1505, in_Tmp_1508, in_Tmp_1509, in_j, in_Tmp_1512, in_FileObject_28, in_Tmp_1513, in_Tmp_1514, in_Tmp_1516, in_Tmp_1517, in_Tmp_1518, in_sdv_893, in_Tmp_1522, in_Tmp_1523, in_ForceVerify, in_Tmp_1525, in_Tmp_1526, in_Tmp_1527, in_Tmp_1528, in_Tmp_1530, in_vslice_dummy_var_232;
    goto L23, exit;

  exit:
    return;

  L23:
    assume {:CounterLoop 4} {:Counter "i_11"} true;
    goto anon102_Else;

  anon102_Else:
    assume {:partition} 4 > out_i_11;
    out_Tmp_1525 := out_i_11;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1508;
    assume {:nonnull} out_Tmp_1508 != 0;
    assume out_Tmp_1508 > 0;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} in_WriteThroughToDisk != 0;
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    havoc out_Tmp_1523;
    assume {:nonnull} out_Tmp_1523 != 0;
    assume out_Tmp_1523 > 0;
    goto anon121_Then, anon121_Else;

  anon121_Else:
    out_Tmp_1518 := out_i_11;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1528;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume out_Tmp_1518 <= 2;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume out_Tmp_1518 != 2;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume out_Tmp_1518 != 1;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume out_Tmp_1518 != 0;
    goto L114;

  L114:
    goto anon117_Then, anon117_Else;

  anon117_Else:
    out_FileObject_28 := 0;
    goto L29;

  L29:
    out_Tmp_1512 := out_i_11;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1516;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume out_Tmp_1512 <= 2;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume out_Tmp_1512 != 2;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume out_Tmp_1512 != 1;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume out_Tmp_1512 != 0;
    goto L124;

  L124:
    assume {:nonnull} in_Iosb_13 != 0;
    assume in_Iosb_13 > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_13)] >= 0;
    goto L41;

  L41:
    out_Tmp_1527 := out_i_11;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1517;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume out_Tmp_1527 <= 2;
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume out_Tmp_1527 != 2;
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume out_Tmp_1527 != 1;
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume out_Tmp_1527 != 0;
    goto L26;

  L26:
    out_i_11 := out_i_11 + 1;
    goto L26_dummy;

  L26_dummy:
    call {:si_unique_call 4679} {:si_old_unique_call 1} out_i_11, out_Tmp_1504, out_Tmp_1505, out_Tmp_1508, out_Tmp_1509, out_j, out_Tmp_1512, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_Tmp_1516, out_Tmp_1517, out_Tmp_1518, out_sdv_893, out_Tmp_1522, out_Tmp_1523, out_ForceVerify, out_Tmp_1525, out_Tmp_1526, out_Tmp_1527, out_Tmp_1528, out_Tmp_1530, out_vslice_dummy_var_232 := FatUnpinRepinnedBcbs_loop_L23(out_i_11, out_Tmp_1504, out_Tmp_1505, out_Tmp_1508, out_Tmp_1509, out_j, out_Tmp_1512, in_Iosb_13, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_Tmp_1516, out_Tmp_1517, out_Tmp_1518, out_sdv_893, in_WriteThroughToDisk, out_Tmp_1522, out_Tmp_1523, out_ForceVerify, in_Repinned, out_Tmp_1525, out_Tmp_1526, out_Tmp_1527, in_RaiseIosb, out_Tmp_1528, out_Tmp_1530, in_IrpContext_71, out_vslice_dummy_var_232);
    return;

  anon127_Then:
    assume out_Tmp_1527 == 0;
    out_Tmp_1527 := 0;
    assume {:nonnull} out_Tmp_1517 != 0;
    assume out_Tmp_1517 > 0;
    goto L26;

  anon126_Then:
    assume out_Tmp_1527 == 1;
    out_Tmp_1527 := 1;
    assume {:nonnull} out_Tmp_1517 != 0;
    assume out_Tmp_1517 > 0;
    goto L26;

  anon125_Then:
    assume out_Tmp_1527 == 2;
    out_Tmp_1527 := 2;
    assume {:nonnull} out_Tmp_1517 != 0;
    assume out_Tmp_1517 > 0;
    goto L26;

  anon124_Then:
    assume out_Tmp_1527 > 2;
    assume {:nonnull} out_Tmp_1517 != 0;
    assume out_Tmp_1517 > 0;
    goto L26;

  anon105_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_13)];
    assume {:nonnull} in_RaiseIosb != 0;
    assume in_RaiseIosb > 0;
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(in_RaiseIosb)] != 0;
    goto L43;

  L43:
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:partition} out_FileObject_28 != 0;
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    out_j := out_i_11 + 1;
    goto L49;

  L49:
    call {:si_unique_call 4677} out_Tmp_1504, out_Tmp_1505, out_Tmp_1509, out_j, out_Tmp_1513, out_Tmp_1514, out_sdv_893, out_Tmp_1522, out_Tmp_1526, out_Tmp_1530 := FatUnpinRepinnedBcbs_loop_L49(out_Tmp_1504, out_Tmp_1505, out_Tmp_1509, out_j, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_sdv_893, out_Tmp_1522, in_Repinned, out_Tmp_1526, out_Tmp_1530);
    goto L49_last;

  L49_last:
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} 4 > out_j;
    out_Tmp_1522 := out_j;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1509;
    assume {:nonnull} out_Tmp_1509 != 0;
    assume out_Tmp_1509 > 0;
    goto anon128_Then, anon128_Else;

  anon128_Else:
    out_Tmp_1514 := out_j;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1530;
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume out_Tmp_1514 <= 2;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume out_Tmp_1514 != 2;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume out_Tmp_1514 != 1;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume out_Tmp_1514 != 0;
    goto L144;

  L144:
    goto anon118_Then, anon118_Else;

  anon118_Else:
    out_sdv_893 := 0;
    goto L59;

  L59:
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} out_sdv_893 == out_FileObject_28;
    out_Tmp_1504 := out_j;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1505;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume out_Tmp_1504 <= 2;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume out_Tmp_1504 != 2;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume out_Tmp_1504 != 1;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume out_Tmp_1504 != 0;
    goto L154;

  L154:
    out_Tmp_1526 := out_j;
    assume {:nonnull} in_Repinned != 0;
    assume in_Repinned > 0;
    havoc out_Tmp_1513;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume out_Tmp_1526 <= 2;
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume out_Tmp_1526 != 2;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume out_Tmp_1526 != 1;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume out_Tmp_1526 != 0;
    goto L54;

  L54:
    out_j := out_j + 1;
    assume false;
    return;

  anon134_Then:
    assume out_Tmp_1526 == 0;
    out_Tmp_1526 := 0;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon133_Then:
    assume out_Tmp_1526 == 1;
    out_Tmp_1526 := 1;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon132_Then:
    assume out_Tmp_1526 == 2;
    out_Tmp_1526 := 2;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon131_Then:
    assume out_Tmp_1526 > 2;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon137_Then:
    assume out_Tmp_1504 == 0;
    out_Tmp_1504 := 0;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon136_Then:
    assume out_Tmp_1504 == 1;
    out_Tmp_1504 := 1;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon135_Then:
    assume out_Tmp_1504 == 2;
    out_Tmp_1504 := 2;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon130_Then:
    assume out_Tmp_1504 > 2;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon112_Then:
    assume {:partition} out_sdv_893 != out_FileObject_28;
    goto L54;

  anon118_Then:
    call {:si_unique_call 4678} out_sdv_893 := __HAVOC_malloc(1);
    goto L59;

  anon140_Then:
    assume out_Tmp_1514 == 0;
    out_Tmp_1514 := 0;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon139_Then:
    assume out_Tmp_1514 == 1;
    out_Tmp_1514 := 1;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon138_Then:
    assume out_Tmp_1514 == 2;
    out_Tmp_1514 := 2;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon129_Then:
    assume out_Tmp_1514 > 2;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon128_Then:
    goto L54;

  anon111_Then:
    assume {:partition} out_j >= 4;
    call {:si_unique_call 4675} out_vslice_dummy_var_232 := corral_nondet();
    out_ForceVerify := 1;
    goto L41;

  anon110_Then:
    goto L41;

  anon109_Then:
    goto L41;

  anon108_Then:
    goto L41;

  anon107_Then:
    assume {:partition} out_FileObject_28 == 0;
    goto L41;

  anon106_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(in_RaiseIosb)] == 0;
    assume {:nonnull} in_Iosb_13 != 0;
    assume in_Iosb_13 > 0;
    assume {:nonnull} in_RaiseIosb != 0;
    assume in_RaiseIosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(in_RaiseIosb)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_13)];
    assume {:nonnull} in_Iosb_13 != 0;
    assume in_Iosb_13 > 0;
    assume {:nonnull} in_RaiseIosb != 0;
    assume in_RaiseIosb > 0;
    assume {:nonnull} in_Iosb_13 != 0;
    assume in_Iosb_13 > 0;
    assume {:nonnull} in_RaiseIosb != 0;
    assume in_RaiseIosb > 0;
    goto L43;

  anon143_Then:
    assume out_Tmp_1512 == 0;
    out_Tmp_1512 := 0;
    assume {:nonnull} out_Tmp_1516 != 0;
    assume out_Tmp_1516 > 0;
    goto L124;

  anon142_Then:
    assume out_Tmp_1512 == 1;
    out_Tmp_1512 := 1;
    assume {:nonnull} out_Tmp_1516 != 0;
    assume out_Tmp_1516 > 0;
    goto L124;

  anon141_Then:
    assume out_Tmp_1512 == 2;
    out_Tmp_1512 := 2;
    assume {:nonnull} out_Tmp_1516 != 0;
    assume out_Tmp_1516 > 0;
    goto L124;

  anon123_Then:
    assume out_Tmp_1512 > 2;
    assume {:nonnull} out_Tmp_1516 != 0;
    assume out_Tmp_1516 > 0;
    goto L124;

  anon117_Then:
    call {:si_unique_call 4676} out_FileObject_28 := __HAVOC_malloc(1);
    goto L29;

  anon146_Then:
    assume out_Tmp_1518 == 0;
    out_Tmp_1518 := 0;
    assume {:nonnull} out_Tmp_1528 != 0;
    assume out_Tmp_1528 > 0;
    goto L114;

  anon145_Then:
    assume out_Tmp_1518 == 1;
    out_Tmp_1518 := 1;
    assume {:nonnull} out_Tmp_1528 != 0;
    assume out_Tmp_1528 > 0;
    goto L114;

  anon144_Then:
    assume out_Tmp_1518 == 2;
    out_Tmp_1518 := 2;
    assume {:nonnull} out_Tmp_1528 != 0;
    assume out_Tmp_1528 > 0;
    goto L114;

  anon122_Then:
    assume out_Tmp_1518 > 2;
    assume {:nonnull} out_Tmp_1528 != 0;
    assume out_Tmp_1528 > 0;
    goto L114;

  anon121_Then:
    goto L29;

  anon104_Then:
    assume {:partition} in_WriteThroughToDisk == 0;
    goto L29;

  anon120_Then:
    goto L26;
}



procedure {:LoopProcedure} FatUnpinRepinnedBcbs_loop_L23(in_i_11: int, in_Tmp_1504: int, in_Tmp_1505: int, in_Tmp_1508: int, in_Tmp_1509: int, in_j: int, in_Tmp_1512: int, in_Iosb_13: int, in_FileObject_28: int, in_Tmp_1513: int, in_Tmp_1514: int, in_Tmp_1516: int, in_Tmp_1517: int, in_Tmp_1518: int, in_sdv_893: int, in_WriteThroughToDisk: int, in_Tmp_1522: int, in_Tmp_1523: int, in_ForceVerify: int, in_Repinned: int, in_Tmp_1525: int, in_Tmp_1526: int, in_Tmp_1527: int, in_RaiseIosb: int, in_Tmp_1528: int, in_Tmp_1530: int, in_IrpContext_71: int, in_vslice_dummy_var_232: int) returns (out_i_11: int, out_Tmp_1504: int, out_Tmp_1505: int, out_Tmp_1508: int, out_Tmp_1509: int, out_j: int, out_Tmp_1512: int, out_FileObject_28: int, out_Tmp_1513: int, out_Tmp_1514: int, out_Tmp_1516: int, out_Tmp_1517: int, out_Tmp_1518: int, out_sdv_893: int, out_Tmp_1522: int, out_Tmp_1523: int, out_ForceVerify: int, out_Tmp_1525: int, out_Tmp_1526: int, out_Tmp_1527: int, out_Tmp_1528: int, out_Tmp_1530: int, out_vslice_dummy_var_232: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} out_ForceVerify == 1 || out_ForceVerify == in_ForceVerify;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:SIextraRecBound 2} FatUnpinRepinnedBcbs_loop_L20(in_i_11: int, in_Tmp_1504: int, in_Tmp_1505: int, in_Saved: int, in_Tmp_1508: int, in_Tmp_1509: int, in_j: int, in_Tmp_1512: int, in_Iosb_13: int, in_FileObject_28: int, in_Tmp_1513: int, in_Tmp_1514: int, in_Tmp_1516: int, in_Tmp_1517: int, in_Tmp_1518: int, in_sdv_893: int, in_WriteThroughToDisk: int, in_Tmp_1522: int, in_Tmp_1523: int, in_ForceVerify: int, in_Repinned: int, in_Tmp_1525: int, in_Tmp_1526: int, in_Tmp_1527: int, in_RaiseIosb: int, in_Tmp_1528: int, in_Tmp_1530: int, in_IrpContext_71: int, in_vslice_dummy_var_232: int) returns (out_i_11: int, out_Tmp_1504: int, out_Tmp_1505: int, out_Saved: int, out_Tmp_1508: int, out_Tmp_1509: int, out_j: int, out_Tmp_1512: int, out_FileObject_28: int, out_Tmp_1513: int, out_Tmp_1514: int, out_Tmp_1516: int, out_Tmp_1517: int, out_Tmp_1518: int, out_sdv_893: int, out_Tmp_1522: int, out_Tmp_1523: int, out_ForceVerify: int, out_Repinned: int, out_Tmp_1525: int, out_Tmp_1526: int, out_Tmp_1527: int, out_Tmp_1528: int, out_Tmp_1530: int, out_vslice_dummy_var_232: int)
{

  entry:
    out_i_11, out_Tmp_1504, out_Tmp_1505, out_Saved, out_Tmp_1508, out_Tmp_1509, out_j, out_Tmp_1512, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_Tmp_1516, out_Tmp_1517, out_Tmp_1518, out_sdv_893, out_Tmp_1522, out_Tmp_1523, out_ForceVerify, out_Repinned, out_Tmp_1525, out_Tmp_1526, out_Tmp_1527, out_Tmp_1528, out_Tmp_1530, out_vslice_dummy_var_232 := in_i_11, in_Tmp_1504, in_Tmp_1505, in_Saved, in_Tmp_1508, in_Tmp_1509, in_j, in_Tmp_1512, in_FileObject_28, in_Tmp_1513, in_Tmp_1514, in_Tmp_1516, in_Tmp_1517, in_Tmp_1518, in_sdv_893, in_Tmp_1522, in_Tmp_1523, in_ForceVerify, in_Repinned, in_Tmp_1525, in_Tmp_1526, in_Tmp_1527, in_Tmp_1528, in_Tmp_1530, in_vslice_dummy_var_232;
    goto L20, exit;

  exit:
    return;

  L20:
    goto anon100_Else;

  anon100_Else:
    assume {:partition} out_Repinned != 0;
    out_i_11 := 0;
    goto L23;

  L23:
    call {:si_unique_call 4681} out_i_11, out_Tmp_1504, out_Tmp_1505, out_Tmp_1508, out_Tmp_1509, out_j, out_Tmp_1512, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_Tmp_1516, out_Tmp_1517, out_Tmp_1518, out_sdv_893, out_Tmp_1522, out_Tmp_1523, out_ForceVerify, out_Tmp_1525, out_Tmp_1526, out_Tmp_1527, out_Tmp_1528, out_Tmp_1530, out_vslice_dummy_var_232 := FatUnpinRepinnedBcbs_loop_L23(out_i_11, out_Tmp_1504, out_Tmp_1505, out_Tmp_1508, out_Tmp_1509, out_j, out_Tmp_1512, in_Iosb_13, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_Tmp_1516, out_Tmp_1517, out_Tmp_1518, out_sdv_893, in_WriteThroughToDisk, out_Tmp_1522, out_Tmp_1523, out_ForceVerify, out_Repinned, out_Tmp_1525, out_Tmp_1526, out_Tmp_1527, in_RaiseIosb, out_Tmp_1528, out_Tmp_1530, in_IrpContext_71, out_vslice_dummy_var_232);
    goto L23_last;

  L23_last:
    assume {:CounterLoop 4} {:Counter "i_11"} true;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:partition} 4 > out_i_11;
    out_Tmp_1525 := out_i_11;
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Tmp_1508;
    assume {:nonnull} out_Tmp_1508 != 0;
    assume out_Tmp_1508 > 0;
    goto anon120_Then, anon120_Else;

  anon120_Else:
    goto anon104_Then, anon104_Else;

  anon104_Else:
    assume {:partition} in_WriteThroughToDisk != 0;
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    havoc out_Tmp_1523;
    assume {:nonnull} out_Tmp_1523 != 0;
    assume out_Tmp_1523 > 0;
    goto anon121_Then, anon121_Else;

  anon121_Else:
    out_Tmp_1518 := out_i_11;
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Tmp_1528;
    goto anon122_Then, anon122_Else;

  anon122_Else:
    assume out_Tmp_1518 <= 2;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    assume out_Tmp_1518 != 2;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume out_Tmp_1518 != 1;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    assume out_Tmp_1518 != 0;
    goto L114;

  L114:
    goto anon117_Then, anon117_Else;

  anon117_Else:
    out_FileObject_28 := 0;
    goto L29;

  L29:
    out_Tmp_1512 := out_i_11;
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Tmp_1516;
    goto anon123_Then, anon123_Else;

  anon123_Else:
    assume out_Tmp_1512 <= 2;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume out_Tmp_1512 != 2;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume out_Tmp_1512 != 1;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume out_Tmp_1512 != 0;
    goto L124;

  L124:
    assume {:nonnull} in_Iosb_13 != 0;
    assume in_Iosb_13 > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_13)] >= 0;
    goto L41;

  L41:
    out_Tmp_1527 := out_i_11;
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Tmp_1517;
    goto anon124_Then, anon124_Else;

  anon124_Else:
    assume out_Tmp_1527 <= 2;
    goto anon125_Then, anon125_Else;

  anon125_Else:
    assume out_Tmp_1527 != 2;
    goto anon126_Then, anon126_Else;

  anon126_Else:
    assume out_Tmp_1527 != 1;
    goto anon127_Then, anon127_Else;

  anon127_Else:
    assume out_Tmp_1527 != 0;
    goto L26;

  L26:
    out_i_11 := out_i_11 + 1;
    assume false;
    return;

  anon127_Then:
    assume out_Tmp_1527 == 0;
    out_Tmp_1527 := 0;
    assume {:nonnull} out_Tmp_1517 != 0;
    assume out_Tmp_1517 > 0;
    goto L26;

  anon126_Then:
    assume out_Tmp_1527 == 1;
    out_Tmp_1527 := 1;
    assume {:nonnull} out_Tmp_1517 != 0;
    assume out_Tmp_1517 > 0;
    goto L26;

  anon125_Then:
    assume out_Tmp_1527 == 2;
    out_Tmp_1527 := 2;
    assume {:nonnull} out_Tmp_1517 != 0;
    assume out_Tmp_1517 > 0;
    goto L26;

  anon124_Then:
    assume out_Tmp_1527 > 2;
    assume {:nonnull} out_Tmp_1517 != 0;
    assume out_Tmp_1517 > 0;
    goto L26;

  anon105_Then:
    assume {:partition} 0 > Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_13)];
    assume {:nonnull} in_RaiseIosb != 0;
    assume in_RaiseIosb > 0;
    goto anon106_Then, anon106_Else;

  anon106_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(in_RaiseIosb)] != 0;
    goto L43;

  L43:
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:partition} out_FileObject_28 != 0;
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    goto anon110_Then, anon110_Else;

  anon110_Else:
    out_j := out_i_11 + 1;
    goto L49;

  L49:
    call {:si_unique_call 4684} out_Tmp_1504, out_Tmp_1505, out_Tmp_1509, out_j, out_Tmp_1513, out_Tmp_1514, out_sdv_893, out_Tmp_1522, out_Tmp_1526, out_Tmp_1530 := FatUnpinRepinnedBcbs_loop_L49(out_Tmp_1504, out_Tmp_1505, out_Tmp_1509, out_j, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_sdv_893, out_Tmp_1522, out_Repinned, out_Tmp_1526, out_Tmp_1530);
    goto L49_last;

  L49_last:
    goto anon111_Then, anon111_Else;

  anon111_Else:
    assume {:partition} 4 > out_j;
    out_Tmp_1522 := out_j;
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Tmp_1509;
    assume {:nonnull} out_Tmp_1509 != 0;
    assume out_Tmp_1509 > 0;
    goto anon128_Then, anon128_Else;

  anon128_Else:
    out_Tmp_1514 := out_j;
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Tmp_1530;
    goto anon129_Then, anon129_Else;

  anon129_Else:
    assume out_Tmp_1514 <= 2;
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume out_Tmp_1514 != 2;
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume out_Tmp_1514 != 1;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    assume out_Tmp_1514 != 0;
    goto L144;

  L144:
    goto anon118_Then, anon118_Else;

  anon118_Else:
    out_sdv_893 := 0;
    goto L59;

  L59:
    goto anon112_Then, anon112_Else;

  anon112_Else:
    assume {:partition} out_sdv_893 == out_FileObject_28;
    out_Tmp_1504 := out_j;
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Tmp_1505;
    goto anon130_Then, anon130_Else;

  anon130_Else:
    assume out_Tmp_1504 <= 2;
    goto anon135_Then, anon135_Else;

  anon135_Else:
    assume out_Tmp_1504 != 2;
    goto anon136_Then, anon136_Else;

  anon136_Else:
    assume out_Tmp_1504 != 1;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    assume out_Tmp_1504 != 0;
    goto L154;

  L154:
    out_Tmp_1526 := out_j;
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Tmp_1513;
    goto anon131_Then, anon131_Else;

  anon131_Else:
    assume out_Tmp_1526 <= 2;
    goto anon132_Then, anon132_Else;

  anon132_Else:
    assume out_Tmp_1526 != 2;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume out_Tmp_1526 != 1;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume out_Tmp_1526 != 0;
    goto L54;

  L54:
    out_j := out_j + 1;
    assume false;
    return;

  anon134_Then:
    assume out_Tmp_1526 == 0;
    out_Tmp_1526 := 0;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon133_Then:
    assume out_Tmp_1526 == 1;
    out_Tmp_1526 := 1;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon132_Then:
    assume out_Tmp_1526 == 2;
    out_Tmp_1526 := 2;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon131_Then:
    assume out_Tmp_1526 > 2;
    assume {:nonnull} out_Tmp_1513 != 0;
    assume out_Tmp_1513 > 0;
    goto L54;

  anon137_Then:
    assume out_Tmp_1504 == 0;
    out_Tmp_1504 := 0;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon136_Then:
    assume out_Tmp_1504 == 1;
    out_Tmp_1504 := 1;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon135_Then:
    assume out_Tmp_1504 == 2;
    out_Tmp_1504 := 2;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon130_Then:
    assume out_Tmp_1504 > 2;
    assume {:nonnull} out_Tmp_1505 != 0;
    assume out_Tmp_1505 > 0;
    goto L154;

  anon112_Then:
    assume {:partition} out_sdv_893 != out_FileObject_28;
    goto L54;

  anon118_Then:
    call {:si_unique_call 4685} out_sdv_893 := __HAVOC_malloc(1);
    goto L59;

  anon140_Then:
    assume out_Tmp_1514 == 0;
    out_Tmp_1514 := 0;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon139_Then:
    assume out_Tmp_1514 == 1;
    out_Tmp_1514 := 1;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon138_Then:
    assume out_Tmp_1514 == 2;
    out_Tmp_1514 := 2;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon129_Then:
    assume out_Tmp_1514 > 2;
    assume {:nonnull} out_Tmp_1530 != 0;
    assume out_Tmp_1530 > 0;
    goto L144;

  anon128_Then:
    goto L54;

  anon111_Then:
    assume {:partition} out_j >= 4;
    call {:si_unique_call 4682} out_vslice_dummy_var_232 := corral_nondet();
    out_ForceVerify := 1;
    goto L41;

  anon110_Then:
    goto L41;

  anon109_Then:
    goto L41;

  anon108_Then:
    goto L41;

  anon107_Then:
    assume {:partition} out_FileObject_28 == 0;
    goto L41;

  anon106_Then:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(in_RaiseIosb)] == 0;
    assume {:nonnull} in_Iosb_13 != 0;
    assume in_Iosb_13 > 0;
    assume {:nonnull} in_RaiseIosb != 0;
    assume in_RaiseIosb > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(in_RaiseIosb)] := Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_13)];
    assume {:nonnull} in_Iosb_13 != 0;
    assume in_Iosb_13 > 0;
    assume {:nonnull} in_RaiseIosb != 0;
    assume in_RaiseIosb > 0;
    assume {:nonnull} in_Iosb_13 != 0;
    assume in_Iosb_13 > 0;
    assume {:nonnull} in_RaiseIosb != 0;
    assume in_RaiseIosb > 0;
    goto L43;

  anon143_Then:
    assume out_Tmp_1512 == 0;
    out_Tmp_1512 := 0;
    assume {:nonnull} out_Tmp_1516 != 0;
    assume out_Tmp_1516 > 0;
    goto L124;

  anon142_Then:
    assume out_Tmp_1512 == 1;
    out_Tmp_1512 := 1;
    assume {:nonnull} out_Tmp_1516 != 0;
    assume out_Tmp_1516 > 0;
    goto L124;

  anon141_Then:
    assume out_Tmp_1512 == 2;
    out_Tmp_1512 := 2;
    assume {:nonnull} out_Tmp_1516 != 0;
    assume out_Tmp_1516 > 0;
    goto L124;

  anon123_Then:
    assume out_Tmp_1512 > 2;
    assume {:nonnull} out_Tmp_1516 != 0;
    assume out_Tmp_1516 > 0;
    goto L124;

  anon117_Then:
    call {:si_unique_call 4683} out_FileObject_28 := __HAVOC_malloc(1);
    goto L29;

  anon146_Then:
    assume out_Tmp_1518 == 0;
    out_Tmp_1518 := 0;
    assume {:nonnull} out_Tmp_1528 != 0;
    assume out_Tmp_1528 > 0;
    goto L114;

  anon145_Then:
    assume out_Tmp_1518 == 1;
    out_Tmp_1518 := 1;
    assume {:nonnull} out_Tmp_1528 != 0;
    assume out_Tmp_1528 > 0;
    goto L114;

  anon144_Then:
    assume out_Tmp_1518 == 2;
    out_Tmp_1518 := 2;
    assume {:nonnull} out_Tmp_1528 != 0;
    assume out_Tmp_1528 > 0;
    goto L114;

  anon122_Then:
    assume out_Tmp_1518 > 2;
    assume {:nonnull} out_Tmp_1528 != 0;
    assume out_Tmp_1528 > 0;
    goto L114;

  anon121_Then:
    goto L29;

  anon104_Then:
    assume {:partition} in_WriteThroughToDisk == 0;
    goto L29;

  anon120_Then:
    goto L26;

  anon102_Then:
    assume {:partition} out_i_11 >= 4;
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    goto anon103_Then, anon103_Else;

  anon103_Else:
    assume {:partition} out_Repinned != Repinned__IRP_CONTEXT(in_IrpContext_71);
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Saved;
    call {:si_unique_call 4680} sdv_ExFreePool(0);
    out_Repinned := out_Saved;
    goto anon103_Else_dummy;

  anon103_Else_dummy:
    goto L_BAF_3;

  L_BAF_3:
    call {:si_unique_call 4686} {:si_old_unique_call 1} out_i_11, out_Tmp_1504, out_Tmp_1505, out_Saved, out_Tmp_1508, out_Tmp_1509, out_j, out_Tmp_1512, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_Tmp_1516, out_Tmp_1517, out_Tmp_1518, out_sdv_893, out_Tmp_1522, out_Tmp_1523, out_ForceVerify, out_Repinned, out_Tmp_1525, out_Tmp_1526, out_Tmp_1527, out_Tmp_1528, out_Tmp_1530, out_vslice_dummy_var_232 := FatUnpinRepinnedBcbs_loop_L20(out_i_11, out_Tmp_1504, out_Tmp_1505, out_Saved, out_Tmp_1508, out_Tmp_1509, out_j, out_Tmp_1512, in_Iosb_13, out_FileObject_28, out_Tmp_1513, out_Tmp_1514, out_Tmp_1516, out_Tmp_1517, out_Tmp_1518, out_sdv_893, in_WriteThroughToDisk, out_Tmp_1522, out_Tmp_1523, out_ForceVerify, out_Repinned, out_Tmp_1525, out_Tmp_1526, out_Tmp_1527, in_RaiseIosb, out_Tmp_1528, out_Tmp_1530, in_IrpContext_71, out_vslice_dummy_var_232);
    return;

  anon103_Then:
    assume {:partition} out_Repinned == Repinned__IRP_CONTEXT(in_IrpContext_71);
    assume {:nonnull} out_Repinned != 0;
    assume out_Repinned > 0;
    havoc out_Repinned;
    assume {:nonnull} in_IrpContext_71 != 0;
    assume in_IrpContext_71 > 0;
    goto anon103_Then_dummy;

  anon103_Then_dummy:
    goto L_BAF_3;
}



procedure {:LoopProcedure} FatUnpinRepinnedBcbs_loop_L20(in_i_11: int, in_Tmp_1504: int, in_Tmp_1505: int, in_Saved: int, in_Tmp_1508: int, in_Tmp_1509: int, in_j: int, in_Tmp_1512: int, in_Iosb_13: int, in_FileObject_28: int, in_Tmp_1513: int, in_Tmp_1514: int, in_Tmp_1516: int, in_Tmp_1517: int, in_Tmp_1518: int, in_sdv_893: int, in_WriteThroughToDisk: int, in_Tmp_1522: int, in_Tmp_1523: int, in_ForceVerify: int, in_Repinned: int, in_Tmp_1525: int, in_Tmp_1526: int, in_Tmp_1527: int, in_RaiseIosb: int, in_Tmp_1528: int, in_Tmp_1530: int, in_IrpContext_71: int, in_vslice_dummy_var_232: int) returns (out_i_11: int, out_Tmp_1504: int, out_Tmp_1505: int, out_Saved: int, out_Tmp_1508: int, out_Tmp_1509: int, out_j: int, out_Tmp_1512: int, out_FileObject_28: int, out_Tmp_1513: int, out_Tmp_1514: int, out_Tmp_1516: int, out_Tmp_1517: int, out_Tmp_1518: int, out_sdv_893: int, out_Tmp_1522: int, out_Tmp_1523: int, out_ForceVerify: int, out_Repinned: int, out_Tmp_1525: int, out_Tmp_1526: int, out_Tmp_1527: int, out_Tmp_1528: int, out_Tmp_1530: int, out_vslice_dummy_var_232: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_ForceVerify == 1 || out_ForceVerify == in_ForceVerify;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatPrepareWriteDirectoryFile_loop_L59(in_Vbo_5: int, in_BytesToPin: int, in_LocalBuffer_1: int, in_Tmp_1540: int, in_sdv_898: int, in_ClusterSize: int, in_IrpContext_73: int, in_ByteCount_9: int, in_Bcb_9: int, in_Buffer_20: int, in_Zero_1: int) returns (out_BytesToPin: int, out_Tmp_1540: int, out_sdv_898: int, out_ByteCount_9: int)
{

  entry:
    out_BytesToPin, out_Tmp_1540, out_sdv_898, out_ByteCount_9 := in_BytesToPin, in_Tmp_1540, in_sdv_898, in_ByteCount_9;
    goto L59, exit;

  exit:
    return;

  L59:
    goto anon33_Else;

  anon33_Else:
    assume {:partition} out_ByteCount_9 > 0;
    assume {:nonnull} in_Bcb_9 != 0;
    assume in_Bcb_9 > 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} out_ByteCount_9 > in_ClusterSize;
    out_BytesToPin := in_ClusterSize;
    goto L68;

  L68:
    assume {:nonnull} in_IrpContext_73 != 0;
    assume in_IrpContext_73 > 0;
    havoc out_Tmp_1540;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} out_Tmp_1540 == 0;
    goto L147;

  L147:
    call {:si_unique_call 4689} out_sdv_898 := corral_nondet();
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} out_sdv_898 != 0;
    goto L75;

  L75:
    assume {:nonnull} in_Buffer_20 != 0;
    assume in_Buffer_20 > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    goto L77;

  L77:
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} in_Zero_1 != 0;
    call {:si_unique_call 4687} sdv_RtlZeroMemory(0, out_BytesToPin);
    goto L78;

  L78:
    out_ByteCount_9 := out_ByteCount_9 - out_BytesToPin;
    assume {:nonnull} in_Vbo_5 != 0;
    assume in_Vbo_5 > 0;
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} out_ByteCount_9 > 0;
    assume {:nonnull} in_Bcb_9 != 0;
    assume in_Bcb_9 > 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:nonnull} in_Bcb_9 != 0;
    assume in_Bcb_9 > 0;
    goto anon37_Else_dummy;

  anon37_Else_dummy:
    goto L_BAF_4;

  L_BAF_4:
    call {:si_unique_call 4690} {:si_old_unique_call 1} out_BytesToPin, out_Tmp_1540, out_sdv_898, out_ByteCount_9 := FatPrepareWriteDirectoryFile_loop_L59(in_Vbo_5, out_BytesToPin, in_LocalBuffer_1, out_Tmp_1540, out_sdv_898, in_ClusterSize, in_IrpContext_73, out_ByteCount_9, in_Bcb_9, in_Buffer_20, in_Zero_1);
    return;

  anon37_Then:
    goto anon37_Then_dummy;

  anon37_Then_dummy:
    goto L_BAF_4;

  anon47_Then:
    assume {:partition} 0 >= out_ByteCount_9;
    goto anon47_Then_dummy;

  anon47_Then_dummy:
    goto L_BAF_4;

  anon36_Then:
    assume {:partition} in_Zero_1 == 0;
    goto L78;

  anon35_Then:
    assume {:nonnull} in_Buffer_20 != 0;
    assume in_Buffer_20 > 0;
    goto L77;

  anon34_Then:
    assume {:partition} out_sdv_898 == 0;
    assume {:nonnull} in_IrpContext_73 != 0;
    assume in_IrpContext_73 > 0;
    call {:si_unique_call 4688} ExRaiseStatus(-1073741608);
    goto L75;

  anon46_Then:
    assume {:partition} out_Tmp_1540 != 0;
    goto L147;

  anon45_Then:
    assume {:partition} in_ClusterSize >= out_ByteCount_9;
    out_BytesToPin := out_ByteCount_9;
    goto L68;
}



procedure {:LoopProcedure} FatPrepareWriteDirectoryFile_loop_L59(in_Vbo_5: int, in_BytesToPin: int, in_LocalBuffer_1: int, in_Tmp_1540: int, in_sdv_898: int, in_ClusterSize: int, in_IrpContext_73: int, in_ByteCount_9: int, in_Bcb_9: int, in_Buffer_20: int, in_Zero_1: int) returns (out_BytesToPin: int, out_Tmp_1540: int, out_sdv_898: int, out_ByteCount_9: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatRepinBcb_loop_L11(in_i_12: int, in_Tmp_1576: int, in_Tmp_1577: int, in_Tmp_1578: int, in_Tmp_1581: int, in_Repinned_1: int, in_Bcb_12: int) returns (out_i_12: int, out_Tmp_1576: int, out_Tmp_1577: int, out_Tmp_1578: int, out_Tmp_1581: int)
{

  entry:
    out_i_12, out_Tmp_1576, out_Tmp_1577, out_Tmp_1578, out_Tmp_1581 := in_i_12, in_Tmp_1576, in_Tmp_1577, in_Tmp_1578, in_Tmp_1581;
    goto L11, exit;

  exit:
    return;

  L11:
    goto anon17_Else;

  anon17_Else:
    assume {:partition} 4 > out_i_12;
    out_Tmp_1577 := out_i_12;
    assume {:nonnull} in_Repinned_1 != 0;
    assume in_Repinned_1 > 0;
    havoc out_Tmp_1581;
    assume {:nonnull} out_Tmp_1581 != 0;
    assume out_Tmp_1581 > 0;
    goto anon19_Else;

  anon19_Else:
    out_Tmp_1578 := out_i_12;
    assume {:nonnull} in_Repinned_1 != 0;
    assume in_Repinned_1 > 0;
    havoc out_Tmp_1576;
    assume {:nonnull} out_Tmp_1576 != 0;
    assume out_Tmp_1576 > 0;
    goto anon20_Else;

  anon20_Else:
    out_i_12 := out_i_12 + 1;
    goto anon20_Else_dummy;

  anon20_Else_dummy:
    call {:si_unique_call 4691} {:si_old_unique_call 1} out_i_12, out_Tmp_1576, out_Tmp_1577, out_Tmp_1578, out_Tmp_1581 := FatRepinBcb_loop_L11(out_i_12, out_Tmp_1576, out_Tmp_1577, out_Tmp_1578, out_Tmp_1581, in_Repinned_1, in_Bcb_12);
    return;
}



procedure {:LoopProcedure} FatRepinBcb_loop_L11(in_i_12: int, in_Tmp_1576: int, in_Tmp_1577: int, in_Tmp_1578: int, in_Tmp_1581: int, in_Repinned_1: int, in_Bcb_12: int) returns (out_i_12: int, out_Tmp_1576: int, out_Tmp_1577: int, out_Tmp_1578: int, out_Tmp_1581: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatRepinBcb_loop_L10(in_i_12: int, in_Tmp_1576: int, in_Tmp_1577: int, in_Tmp_1578: int, in_sdv_922: int, in_Tmp_1581: int, in_Repinned_1: int, in_Bcb_12: int) returns (out_i_12: int, out_Tmp_1576: int, out_Tmp_1577: int, out_Tmp_1578: int, out_sdv_922: int, out_Tmp_1581: int, out_Repinned_1: int)
{

  entry:
    out_i_12, out_Tmp_1576, out_Tmp_1577, out_Tmp_1578, out_sdv_922, out_Tmp_1581, out_Repinned_1 := in_i_12, in_Tmp_1576, in_Tmp_1577, in_Tmp_1578, in_sdv_922, in_Tmp_1581, in_Repinned_1;
    goto L10, exit;

  exit:
    return;

  L10:
    out_i_12 := 0;
    goto L11;

  L11:
    call {:si_unique_call 4694} out_i_12, out_Tmp_1576, out_Tmp_1577, out_Tmp_1578, out_Tmp_1581 := FatRepinBcb_loop_L11(out_i_12, out_Tmp_1576, out_Tmp_1577, out_Tmp_1578, out_Tmp_1581, out_Repinned_1, in_Bcb_12);
    goto L11_last;

  L11_last:
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} 4 > out_i_12;
    out_Tmp_1577 := out_i_12;
    assume {:nonnull} out_Repinned_1 != 0;
    assume out_Repinned_1 > 0;
    havoc out_Tmp_1581;
    assume {:nonnull} out_Tmp_1581 != 0;
    assume out_Tmp_1581 > 0;
    goto anon19_Else;

  anon19_Else:
    out_Tmp_1578 := out_i_12;
    assume {:nonnull} out_Repinned_1 != 0;
    assume out_Repinned_1 > 0;
    havoc out_Tmp_1576;
    assume {:nonnull} out_Tmp_1576 != 0;
    assume out_Tmp_1576 > 0;
    goto anon20_Else;

  anon20_Else:
    out_i_12 := out_i_12 + 1;
    assume false;
    return;

  anon17_Then:
    assume {:partition} out_i_12 >= 4;
    assume {:nonnull} out_Repinned_1 != 0;
    assume out_Repinned_1 > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    goto L25;

  L25:
    assume {:nonnull} out_Repinned_1 != 0;
    assume out_Repinned_1 > 0;
    havoc out_Repinned_1;
    goto L25_dummy;

  L25_dummy:
    call {:si_unique_call 4695} {:si_old_unique_call 1} out_i_12, out_Tmp_1576, out_Tmp_1577, out_Tmp_1578, out_sdv_922, out_Tmp_1581, out_Repinned_1 := FatRepinBcb_loop_L10(out_i_12, out_Tmp_1576, out_Tmp_1577, out_Tmp_1578, out_sdv_922, out_Tmp_1581, out_Repinned_1, in_Bcb_12);
    return;

  anon18_Then:
    call {:si_unique_call 4692} out_sdv_922 := ExAllocatePoolWithTag(17, 20, -764124858);
    assume {:nonnull} out_Repinned_1 != 0;
    assume out_Repinned_1 > 0;
    call {:si_unique_call 4693} sdv_RtlZeroMemory(0, 20);
    goto L25;
}



procedure {:LoopProcedure} FatRepinBcb_loop_L10(in_i_12: int, in_Tmp_1576: int, in_Tmp_1577: int, in_Tmp_1578: int, in_sdv_922: int, in_Tmp_1581: int, in_Repinned_1: int, in_Bcb_12: int) returns (out_i_12: int, out_Tmp_1576: int, out_Tmp_1577: int, out_Tmp_1578: int, out_sdv_922: int, out_Tmp_1581: int, out_Repinned_1: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMultipleAsync_loop_L125(in_i_13: int, in_Irp_24: int, in_Tmp_1603: int, in_UnwindRunCount: int, in_IoRuns: int) returns (out_i_13: int, out_Irp_24: int, out_Tmp_1603: int)
{

  entry:
    out_i_13, out_Irp_24, out_Tmp_1603 := in_i_13, in_Irp_24, in_Tmp_1603;
    goto L125, exit;

  exit:
    return;

  L125:
    goto anon39_Else;

  anon39_Else:
    assume {:partition} in_UnwindRunCount >= out_i_13;
    out_Tmp_1603 := out_i_13;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    havoc out_Irp_24;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} out_Irp_24 != 0;
    assume {:nonnull} out_Irp_24 != 0;
    assume out_Irp_24 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    call {:si_unique_call 4697} IoFreeMdl(0);
    goto L130;

  L130:
    call {:si_unique_call 4696} IoFreeIrp(0);
    goto L128;

  L128:
    out_i_13 := out_i_13 + 1;
    goto L128_dummy;

  L128_dummy:
    havoc out_i_13;
    return;

  anon40_Then:
    goto L130;

  anon45_Then:
    assume {:partition} out_Irp_24 == 0;
    goto L128;
}



procedure {:LoopProcedure} FatMultipleAsync_loop_L125(in_i_13: int, in_Irp_24: int, in_Tmp_1603: int, in_UnwindRunCount: int, in_IoRuns: int) returns (out_i_13: int, out_Irp_24: int, out_Tmp_1603: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_1603 == in_i_13 || out_Tmp_1603 == in_Tmp_1603;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMultipleAsync_loop_L108(in_Irp_24: int, in_Tmp_1590: int, in_UnwindRunCount: int, in_Vcb_47: int, in_MultipleIrpCount: int, in_IoRuns: int, in_vslice_dummy_var_248: int) returns (out_Irp_24: int, out_Tmp_1590: int, out_UnwindRunCount: int, out_vslice_dummy_var_248: int)
{
  var vslice_dummy_var_577: int;

  entry:
    out_Irp_24, out_Tmp_1590, out_UnwindRunCount, out_vslice_dummy_var_248 := in_Irp_24, in_Tmp_1590, in_UnwindRunCount, in_vslice_dummy_var_248;
    goto L108, exit;

  exit:
    return;

  L108:
    goto anon36_Then;

  anon36_Then:
    assume {:partition} out_UnwindRunCount < in_MultipleIrpCount;
    out_Tmp_1590 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    havoc out_Irp_24;
    assume {:nonnull} in_Vcb_47 != 0;
    assume in_Vcb_47 > 0;
    havoc vslice_dummy_var_577;
    call {:si_unique_call 4698} out_vslice_dummy_var_248 := sdv_IoCallDriver(vslice_dummy_var_577, out_Irp_24);
    out_UnwindRunCount := out_UnwindRunCount + 1;
    goto anon36_Then_dummy;

  anon36_Then_dummy:
    call {:si_unique_call 4699} {:si_old_unique_call 1} out_Irp_24, out_Tmp_1590, out_UnwindRunCount, out_vslice_dummy_var_248 := FatMultipleAsync_loop_L108(out_Irp_24, out_Tmp_1590, out_UnwindRunCount, in_Vcb_47, in_MultipleIrpCount, in_IoRuns, out_vslice_dummy_var_248);
    return;
}



procedure {:LoopProcedure} FatMultipleAsync_loop_L108(in_Irp_24: int, in_Tmp_1590: int, in_UnwindRunCount: int, in_Vcb_47: int, in_MultipleIrpCount: int, in_IoRuns: int, in_vslice_dummy_var_248: int) returns (out_Irp_24: int, out_Tmp_1590: int, out_UnwindRunCount: int, out_vslice_dummy_var_248: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_vslice_dummy_var_248 == 259 || out_vslice_dummy_var_248 == in_vslice_dummy_var_248;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMultipleAsync_loop_L24(in_Tmp_1588: int, in_Tmp_1589: int, in_Irp_24: int, in_Mdl_3: int, in_Tmp_1591: int, in_Tmp_1592: int, in_Tmp_1593: int, in_CalledByFatVerifyVolume: int, in_Tmp_1597: int, in_Wait_7: int, in_IrpSp_9: int, in_Tmp_1598: int, in_Tmp_1599: int, in_Context_7: int, in_Tmp_1600: int, in_Tmp_1602: int, in_Tmp_1604: int, in_UnwindRunCount: int, in_Tmp_1606: int, in_Tmp_1607: int, in_IrpContext_83: int, in_Vcb_47: int, in_MasterIrp: int, in_MultipleIrpCount: int, in_IoRuns: int) returns (out_Tmp_1588: int, out_Tmp_1589: int, out_Irp_24: int, out_Mdl_3: int, out_Tmp_1591: int, out_Tmp_1592: int, out_Tmp_1593: int, out_Tmp_1597: int, out_IrpSp_9: int, out_Tmp_1598: int, out_Tmp_1599: int, out_Tmp_1600: int, out_Tmp_1602: int, out_Tmp_1604: int, out_UnwindRunCount: int, out_Tmp_1606: int, out_Tmp_1607: int)
{

  entry:
    out_Tmp_1588, out_Tmp_1589, out_Irp_24, out_Mdl_3, out_Tmp_1591, out_Tmp_1592, out_Tmp_1593, out_Tmp_1597, out_IrpSp_9, out_Tmp_1598, out_Tmp_1599, out_Tmp_1600, out_Tmp_1602, out_Tmp_1604, out_UnwindRunCount, out_Tmp_1606, out_Tmp_1607 := in_Tmp_1588, in_Tmp_1589, in_Irp_24, in_Mdl_3, in_Tmp_1591, in_Tmp_1592, in_Tmp_1593, in_Tmp_1597, in_IrpSp_9, in_Tmp_1598, in_Tmp_1599, in_Tmp_1600, in_Tmp_1602, in_Tmp_1604, in_UnwindRunCount, in_Tmp_1606, in_Tmp_1607;
    goto L24, exit;

  exit:
    return;

  L24:
    goto anon32_Else;

  anon32_Else:
    assume {:partition} in_MultipleIrpCount > out_UnwindRunCount;
    out_Tmp_1591 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    assume {:nonnull} in_Vcb_47 != 0;
    assume in_Vcb_47 > 0;
    havoc out_Tmp_1593;
    assume {:nonnull} out_Tmp_1593 != 0;
    assume out_Tmp_1593 > 0;
    havoc out_Tmp_1602;
    call {:si_unique_call 4708} out_Irp_24 := IoMakeAssociatedIrp(in_MasterIrp, out_Tmp_1602);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} out_Irp_24 != 0;
    goto L55;

  L55:
    out_Tmp_1600 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    out_Tmp_1588 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    havoc out_Tmp_1607;
    assume {:nonnull} in_MasterIrp != 0;
    assume in_MasterIrp > 0;
    call {:si_unique_call 4706} out_Mdl_3 := IoAllocateMdl(0, out_Tmp_1607, 0, 0, 0);
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} out_Mdl_3 != 0;
    goto L64;

  L64:
    out_Tmp_1604 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    havoc out_Tmp_1592;
    assume {:nonnull} in_MasterIrp != 0;
    assume in_MasterIrp > 0;
    call {:si_unique_call 4702} IoBuildPartialMdl(0, 0, 0, out_Tmp_1592);
    call {:si_unique_call 4703} sdv_IoSetNextIrpStackLocation(0);
    call {:si_unique_call 4704} out_IrpSp_9 := sdv_IoGetCurrentIrpStackLocation(out_Irp_24);
    assume {:nonnull} in_IrpContext_83 != 0;
    assume in_IrpContext_83 > 0;
    assume {:nonnull} out_IrpSp_9 != 0;
    assume out_IrpSp_9 > 0;
    out_Tmp_1589 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    assume {:nonnull} out_IrpSp_9 != 0;
    assume out_IrpSp_9 > 0;
    out_Tmp_1597 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    assume {:nonnull} out_IrpSp_9 != 0;
    assume out_IrpSp_9 > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} in_Wait_7 != 0;
    out_Tmp_1598 := li2bplFunctionConstant732;
    goto L82;

  L82:
    call {:si_unique_call 4700} sdv_IoSetCompletionRoutine(out_Irp_24, out_Tmp_1598, in_Context_7, 1, 1, 1);
    call {:si_unique_call 4701} out_IrpSp_9 := sdv_IoGetNextIrpStackLocation(out_Irp_24);
    assume {:nonnull} in_IrpContext_83 != 0;
    assume in_IrpContext_83 > 0;
    assume {:nonnull} out_IrpSp_9 != 0;
    assume out_IrpSp_9 > 0;
    out_Tmp_1606 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    assume {:nonnull} out_IrpSp_9 != 0;
    assume out_IrpSp_9 > 0;
    out_Tmp_1599 := out_UnwindRunCount;
    assume {:nonnull} in_IoRuns != 0;
    assume in_IoRuns > 0;
    assume {:nonnull} out_IrpSp_9 != 0;
    assume out_IrpSp_9 > 0;
    assume {:nonnull} in_IrpContext_83 != 0;
    assume in_IrpContext_83 > 0;
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:nonnull} out_IrpSp_9 != 0;
    assume out_IrpSp_9 > 0;
    goto L93;

  L93:
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} in_CalledByFatVerifyVolume != 0;
    assume {:nonnull} out_IrpSp_9 != 0;
    assume out_IrpSp_9 > 0;
    goto L95;

  L95:
    out_UnwindRunCount := out_UnwindRunCount + 1;
    goto L95_dummy;

  L95_dummy:
    call {:si_unique_call 4709} {:si_old_unique_call 1} out_Tmp_1588, out_Tmp_1589, out_Irp_24, out_Mdl_3, out_Tmp_1591, out_Tmp_1592, out_Tmp_1593, out_Tmp_1597, out_IrpSp_9, out_Tmp_1598, out_Tmp_1599, out_Tmp_1600, out_Tmp_1602, out_Tmp_1604, out_UnwindRunCount, out_Tmp_1606, out_Tmp_1607 := FatMultipleAsync_loop_L24(out_Tmp_1588, out_Tmp_1589, out_Irp_24, out_Mdl_3, out_Tmp_1591, out_Tmp_1592, out_Tmp_1593, in_CalledByFatVerifyVolume, out_Tmp_1597, in_Wait_7, out_IrpSp_9, out_Tmp_1598, out_Tmp_1599, in_Context_7, out_Tmp_1600, out_Tmp_1602, out_Tmp_1604, out_UnwindRunCount, out_Tmp_1606, out_Tmp_1607, in_IrpContext_83, in_Vcb_47, in_MasterIrp, in_MultipleIrpCount, in_IoRuns);
    return;

  anon35_Then:
    assume {:partition} in_CalledByFatVerifyVolume == 0;
    goto L95;

  anon43_Then:
    goto L93;

  anon42_Then:
    assume {:partition} in_Wait_7 == 0;
    out_Tmp_1598 := li2bplFunctionConstant731;
    goto L82;

  anon34_Then:
    assume {:partition} out_Mdl_3 == 0;
    assume {:nonnull} in_IrpContext_83 != 0;
    assume in_IrpContext_83 > 0;
    call {:si_unique_call 4705} ExRaiseStatus(-1073741670);
    goto L64;

  anon33_Then:
    assume {:partition} out_Irp_24 == 0;
    assume {:nonnull} in_IrpContext_83 != 0;
    assume in_IrpContext_83 > 0;
    call {:si_unique_call 4707} ExRaiseStatus(-1073741670);
    goto L55;
}



procedure {:LoopProcedure} FatMultipleAsync_loop_L24(in_Tmp_1588: int, in_Tmp_1589: int, in_Irp_24: int, in_Mdl_3: int, in_Tmp_1591: int, in_Tmp_1592: int, in_Tmp_1593: int, in_CalledByFatVerifyVolume: int, in_Tmp_1597: int, in_Wait_7: int, in_IrpSp_9: int, in_Tmp_1598: int, in_Tmp_1599: int, in_Context_7: int, in_Tmp_1600: int, in_Tmp_1602: int, in_Tmp_1604: int, in_UnwindRunCount: int, in_Tmp_1606: int, in_Tmp_1607: int, in_IrpContext_83: int, in_Vcb_47: int, in_MasterIrp: int, in_MultipleIrpCount: int, in_IoRuns: int) returns (out_Tmp_1588: int, out_Tmp_1589: int, out_Irp_24: int, out_Mdl_3: int, out_Tmp_1591: int, out_Tmp_1592: int, out_Tmp_1593: int, out_Tmp_1597: int, out_IrpSp_9: int, out_Tmp_1598: int, out_Tmp_1599: int, out_Tmp_1600: int, out_Tmp_1602: int, out_Tmp_1604: int, out_UnwindRunCount: int, out_Tmp_1606: int, out_Tmp_1607: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatNonCachedIo_loop_L117(in_Tmp_1619: int, in_IoRuns_1: int, in_CurrentIndex: int, in_Tmp_1621: int, in_BufferOffset: int, in_LastIndex: int, in_Tmp_1625: int, in_NextVbo: int, in_NextByteCount: int, in_NextRun: int, in_Tmp_1636: int, in_NextLbo: int, in_FcbOrDcb_4: int, in_StartingVbo_5: int, in_ByteCount_13: int, in_vslice_dummy_var_252: int) returns (out_Tmp_1619: int, out_CurrentIndex: int, out_Tmp_1621: int, out_BufferOffset: int, out_Tmp_1625: int, out_NextRun: int, out_Tmp_1636: int, out_StartingVbo_5: int, out_ByteCount_13: int, out_vslice_dummy_var_252: int)
{
  var vslice_dummy_var_578: int;

  entry:
    out_Tmp_1619, out_CurrentIndex, out_Tmp_1621, out_BufferOffset, out_Tmp_1625, out_NextRun, out_Tmp_1636, out_StartingVbo_5, out_ByteCount_13, out_vslice_dummy_var_252 := in_Tmp_1619, in_CurrentIndex, in_Tmp_1621, in_BufferOffset, in_Tmp_1625, in_NextRun, in_Tmp_1636, in_StartingVbo_5, in_ByteCount_13, in_vslice_dummy_var_252;
    goto L117, exit;

  exit:
    return;

  L117:
    assume {:nonnull} in_LastIndex != 0;
    assume in_LastIndex > 0;
    goto anon66_Else;

  anon66_Else:
    assume {:partition} Mem_T.INT4[in_LastIndex] >= out_CurrentIndex;
    assume {:nonnull} in_NextByteCount != 0;
    assume in_NextByteCount > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} Mem_T.INT4[in_NextByteCount] > out_ByteCount_13;
    assume {:nonnull} in_NextByteCount != 0;
    assume in_NextByteCount > 0;
    Mem_T.INT4[in_NextByteCount] := out_ByteCount_13;
    goto L120;

  L120:
    out_Tmp_1619 := out_NextRun;
    assume {:nonnull} in_IoRuns_1 != 0;
    assume in_IoRuns_1 > 0;
    out_Tmp_1621 := out_NextRun;
    assume {:nonnull} in_IoRuns_1 != 0;
    assume in_IoRuns_1 > 0;
    assume {:nonnull} in_NextLbo != 0;
    assume in_NextLbo > 0;
    out_Tmp_1625 := out_NextRun;
    assume {:nonnull} in_IoRuns_1 != 0;
    assume in_IoRuns_1 > 0;
    out_Tmp_1636 := out_NextRun;
    assume {:nonnull} in_IoRuns_1 != 0;
    assume in_IoRuns_1 > 0;
    assume {:nonnull} in_NextByteCount != 0;
    assume in_NextByteCount > 0;
    out_NextRun := out_NextRun + 1;
    assume {:nonnull} in_NextByteCount != 0;
    assume in_NextByteCount > 0;
    out_StartingVbo_5 := out_StartingVbo_5 + Mem_T.INT4[in_NextByteCount];
    assume {:nonnull} in_NextByteCount != 0;
    assume in_NextByteCount > 0;
    out_BufferOffset := out_BufferOffset + Mem_T.INT4[in_NextByteCount];
    assume {:nonnull} in_NextByteCount != 0;
    assume in_NextByteCount > 0;
    out_ByteCount_13 := out_ByteCount_13 - Mem_T.INT4[in_NextByteCount];
    out_CurrentIndex := out_CurrentIndex + 1;
    assume {:nonnull} in_LastIndex != 0;
    assume in_LastIndex > 0;
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} Mem_T.INT4[in_LastIndex] >= out_CurrentIndex;
    assume {:nonnull} in_FcbOrDcb_4 != 0;
    assume in_FcbOrDcb_4 > 0;
    havoc vslice_dummy_var_578;
    call {:si_unique_call 4710} out_vslice_dummy_var_252 := FatGetNextMcbEntry(vslice_dummy_var_578, Mcb__FCB(in_FcbOrDcb_4), out_CurrentIndex, in_NextVbo, in_NextLbo, in_NextByteCount);
    goto anon75_Else_dummy;

  anon75_Else_dummy:
    goto L_BAF_5;

  L_BAF_5:
    call {:si_unique_call 4711} {:si_old_unique_call 1} out_Tmp_1619, out_CurrentIndex, out_Tmp_1621, out_BufferOffset, out_Tmp_1625, out_NextRun, out_Tmp_1636, out_StartingVbo_5, out_ByteCount_13, out_vslice_dummy_var_252 := FatNonCachedIo_loop_L117(out_Tmp_1619, in_IoRuns_1, out_CurrentIndex, out_Tmp_1621, out_BufferOffset, in_LastIndex, out_Tmp_1625, in_NextVbo, in_NextByteCount, out_NextRun, out_Tmp_1636, in_NextLbo, in_FcbOrDcb_4, out_StartingVbo_5, out_ByteCount_13, out_vslice_dummy_var_252);
    return;

  anon75_Then:
    assume {:partition} out_CurrentIndex > Mem_T.INT4[in_LastIndex];
    goto anon75_Then_dummy;

  anon75_Then_dummy:
    goto L_BAF_5;

  anon67_Then:
    assume {:partition} out_ByteCount_13 >= Mem_T.INT4[in_NextByteCount];
    goto L120;
}



procedure {:LoopProcedure} FatNonCachedIo_loop_L117(in_Tmp_1619: int, in_IoRuns_1: int, in_CurrentIndex: int, in_Tmp_1621: int, in_BufferOffset: int, in_LastIndex: int, in_Tmp_1625: int, in_NextVbo: int, in_NextByteCount: int, in_NextRun: int, in_Tmp_1636: int, in_NextLbo: int, in_FcbOrDcb_4: int, in_StartingVbo_5: int, in_ByteCount_13: int, in_vslice_dummy_var_252: int) returns (out_Tmp_1619: int, out_CurrentIndex: int, out_Tmp_1621: int, out_BufferOffset: int, out_Tmp_1625: int, out_NextRun: int, out_Tmp_1636: int, out_StartingVbo_5: int, out_ByteCount_13: int, out_vslice_dummy_var_252: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatPagingFileIo_loop_L170(in_IrpCount: int, in_Irp_28: int, in_vslice_dummy_var_259: int) returns (out_vslice_dummy_var_259: int)
{

  entry:
    out_vslice_dummy_var_259 := in_vslice_dummy_var_259;
    goto L170, exit;

  exit:
    return;

  L170:
    assume {:nonnull} in_Irp_28 != 0;
    assume in_Irp_28 > 0;
    goto anon60_Else;

  anon60_Else:
    call {:si_unique_call 4712} out_vslice_dummy_var_259 := KeDelayExecutionThread(0, 0, 0);
    goto anon60_Else_dummy;

  anon60_Else_dummy:
    call {:si_unique_call 4713} {:si_old_unique_call 1} out_vslice_dummy_var_259 := FatPagingFileIo_loop_L170(in_IrpCount, in_Irp_28, out_vslice_dummy_var_259);
    return;
}



procedure {:LoopProcedure} FatPagingFileIo_loop_L170(in_IrpCount: int, in_Irp_28: int, in_vslice_dummy_var_259: int) returns (out_vslice_dummy_var_259: int);
  free ensures {:va_keep} out_vslice_dummy_var_259 == 0 || out_vslice_dummy_var_259 == -1073741823 || out_vslice_dummy_var_259 == in_vslice_dummy_var_259;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatPagingFileIo_loop_L151(in_IrpCount: int, in_Irp_28: int, in_vslice_dummy_var_258: int) returns (out_vslice_dummy_var_258: int)
{

  entry:
    out_vslice_dummy_var_258 := in_vslice_dummy_var_258;
    goto L151, exit;

  exit:
    return;

  L151:
    assume {:nonnull} in_Irp_28 != 0;
    assume in_Irp_28 > 0;
    goto anon56_Else;

  anon56_Else:
    call {:si_unique_call 4714} out_vslice_dummy_var_258 := KeDelayExecutionThread(0, 0, 0);
    goto anon56_Else_dummy;

  anon56_Else_dummy:
    call {:si_unique_call 4715} {:si_old_unique_call 1} out_vslice_dummy_var_258 := FatPagingFileIo_loop_L151(in_IrpCount, in_Irp_28, out_vslice_dummy_var_258);
    return;
}



procedure {:LoopProcedure} FatPagingFileIo_loop_L151(in_IrpCount: int, in_Irp_28: int, in_vslice_dummy_var_258: int) returns (out_vslice_dummy_var_258: int);
  free ensures {:va_keep} out_vslice_dummy_var_258 == 0 || out_vslice_dummy_var_258 == -1073741823 || out_vslice_dummy_var_258 == in_vslice_dummy_var_258;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatPagingFileIo_loop_L71(in_RemainingByteCount: int, in_Mdl_5: int, in_AssocIrp: int, in_Vbo_7: int, in_CurrentIndex_1: int, in_IrpCount: int, in_BufferOffset_1: int, in_LastIndex_1: int, in_NextIrpSp: int, in_IrpSp_11: int, in_NextVbo_1: int, in_DeviceObject_10: int, in_Context_8: int, in_NextByteCount_1: int, in_IrpIsMaster: int, in_NextLbo_1: int, in_Tmp_1648: int, in_MdlIsReserve: int, in_ByteCount_14: int, in_Irp_28: int, in_Fcb_30: int, in_vslice_dummy_var_255: int, in_vslice_dummy_var_256: int, in_vslice_dummy_var_257: int, in_vslice_dummy_var_258: int, in_vslice_dummy_var_260: int) returns (out_RemainingByteCount: int, out_Mdl_5: int, out_AssocIrp: int, out_Vbo_7: int, out_CurrentIndex_1: int, out_IrpCount: int, out_BufferOffset_1: int, out_NextIrpSp: int, out_IrpIsMaster: int, out_Tmp_1648: int, out_MdlIsReserve: int, out_ByteCount_14: int, out_vslice_dummy_var_255: int, out_vslice_dummy_var_256: int, out_vslice_dummy_var_257: int, out_vslice_dummy_var_258: int, out_vslice_dummy_var_260: int)
{
  var vslice_dummy_var_579: int;

  entry:
    out_RemainingByteCount, out_Mdl_5, out_AssocIrp, out_Vbo_7, out_CurrentIndex_1, out_IrpCount, out_BufferOffset_1, out_NextIrpSp, out_IrpIsMaster, out_Tmp_1648, out_MdlIsReserve, out_ByteCount_14, out_vslice_dummy_var_255, out_vslice_dummy_var_256, out_vslice_dummy_var_257, out_vslice_dummy_var_258, out_vslice_dummy_var_260 := in_RemainingByteCount, in_Mdl_5, in_AssocIrp, in_Vbo_7, in_CurrentIndex_1, in_IrpCount, in_BufferOffset_1, in_NextIrpSp, in_IrpIsMaster, in_Tmp_1648, in_MdlIsReserve, in_ByteCount_14, in_vslice_dummy_var_255, in_vslice_dummy_var_256, in_vslice_dummy_var_257, in_vslice_dummy_var_258, in_vslice_dummy_var_260;
    goto L71, exit;

  exit:
    return;

  L71:
    assume {:nonnull} in_LastIndex_1 != 0;
    assume in_LastIndex_1 > 0;
    goto anon48_Else;

  anon48_Else:
    assume {:partition} Mem_T.INT4[in_LastIndex_1] >= out_CurrentIndex_1;
    out_AssocIrp := 0;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} Mem_T.INT4[in_NextByteCount_1] > out_ByteCount_14;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    Mem_T.INT4[in_NextByteCount_1] := out_ByteCount_14;
    goto L75;

  L75:
    out_RemainingByteCount := 0;
    assume {:nonnull} in_Irp_28 != 0;
    assume in_Irp_28 > 0;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    call {:si_unique_call 4728} out_Mdl_5 := IoAllocateMdl(0, Mem_T.INT4[in_NextByteCount_1], 0, 0, 0);
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} out_Mdl_5 != 0;
    goto L86;

  L86:
    assume {:nonnull} in_Irp_28 != 0;
    assume in_Irp_28 > 0;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    call {:si_unique_call 4726} IoBuildPartialMdl(0, 0, 0, Mem_T.INT4[in_NextByteCount_1]);
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} out_MdlIsReserve != 0;
    goto L92;

  L92:
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} out_AssocIrp != 0;
    out_IrpCount := out_IrpCount - 1;
    goto L95;

  L95:
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} out_IrpIsMaster != 0;
    assume {:nonnull} in_Context_8 != 0;
    assume in_Context_8 > 0;
    call {:si_unique_call 4720} KeInitializeEvent(Event_FAT_PAGING_FILE_CONTEXT(in_Context_8), 1, 0);
    assume {:nonnull} in_Context_8 != 0;
    assume in_Context_8 > 0;
    assume {:nonnull} in_Irp_28 != 0;
    assume in_Irp_28 > 0;
    goto L103;

  L103:
    assume {:nonnull} out_AssocIrp != 0;
    assume out_AssocIrp > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    assume {:partition} out_IrpIsMaster != 0;
    call {:si_unique_call 4718} sdv_IoSetCompletionRoutine(out_AssocIrp, li2bplFunctionConstant727, in_Context_8, 1, 1, 1);
    goto L111;

  L111:
    call {:si_unique_call 4716} out_NextIrpSp := sdv_IoGetNextIrpStackLocation(out_AssocIrp);
    assume {:nonnull} out_NextIrpSp != 0;
    assume out_NextIrpSp > 0;
    assume {:nonnull} in_IrpSp_11 != 0;
    assume in_IrpSp_11 > 0;
    assume {:nonnull} out_NextIrpSp != 0;
    assume out_NextIrpSp > 0;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    assume {:nonnull} out_NextIrpSp != 0;
    assume out_NextIrpSp > 0;
    assume {:nonnull} out_NextIrpSp != 0;
    assume out_NextIrpSp > 0;
    assume {:nonnull} in_NextLbo_1 != 0;
    assume in_NextLbo_1 > 0;
    call {:si_unique_call 4717} out_vslice_dummy_var_260 := sdv_IoCallDriver(in_DeviceObject_10, out_AssocIrp);
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} out_IrpIsMaster != 0;
    call {:si_unique_call 4729} out_vslice_dummy_var_256 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    out_MdlIsReserve := 0;
    out_IrpIsMaster := out_MdlIsReserve;
    assume {:nonnull} in_Irp_28 != 0;
    assume in_Irp_28 > 0;
    goto anon63_Else;

  anon63_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(in_Irp_28))] >= 0;
    goto L123;

  L123:
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    out_Vbo_7 := out_Vbo_7 + Mem_T.INT4[in_NextByteCount_1];
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    out_BufferOffset_1 := out_BufferOffset_1 + Mem_T.INT4[in_NextByteCount_1];
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    out_ByteCount_14 := out_ByteCount_14 - Mem_T.INT4[in_NextByteCount_1];
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:partition} out_RemainingByteCount != 0;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    assume {:nonnull} in_NextLbo_1 != 0;
    assume in_NextLbo_1 > 0;
    Mem_T.INT4[in_NextLbo_1] := Mem_T.INT4[in_NextLbo_1] + Mem_T.INT4[in_NextByteCount_1];
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    assume {:nonnull} in_NextVbo_1 != 0;
    assume in_NextVbo_1 > 0;
    Mem_T.INT4[in_NextVbo_1] := Mem_T.INT4[in_NextVbo_1] + Mem_T.INT4[in_NextByteCount_1];
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    Mem_T.INT4[in_NextByteCount_1] := out_RemainingByteCount;
    goto anon64_Else_dummy;

  anon64_Else_dummy:
    goto L_BAF_6;

  L_BAF_6:
    call {:si_unique_call 4731} {:si_old_unique_call 1} out_RemainingByteCount, out_Mdl_5, out_AssocIrp, out_Vbo_7, out_CurrentIndex_1, out_IrpCount, out_BufferOffset_1, out_NextIrpSp, out_IrpIsMaster, out_Tmp_1648, out_MdlIsReserve, out_ByteCount_14, out_vslice_dummy_var_255, out_vslice_dummy_var_256, out_vslice_dummy_var_257, out_vslice_dummy_var_258, out_vslice_dummy_var_260 := FatPagingFileIo_loop_L71(out_RemainingByteCount, out_Mdl_5, out_AssocIrp, out_Vbo_7, out_CurrentIndex_1, out_IrpCount, out_BufferOffset_1, in_LastIndex_1, out_NextIrpSp, in_IrpSp_11, in_NextVbo_1, in_DeviceObject_10, in_Context_8, in_NextByteCount_1, out_IrpIsMaster, in_NextLbo_1, out_Tmp_1648, out_MdlIsReserve, out_ByteCount_14, in_Irp_28, in_Fcb_30, out_vslice_dummy_var_255, out_vslice_dummy_var_256, out_vslice_dummy_var_257, out_vslice_dummy_var_258, out_vslice_dummy_var_260);
    return;

  anon64_Then:
    assume {:partition} out_RemainingByteCount == 0;
    out_CurrentIndex_1 := out_CurrentIndex_1 + 1;
    assume {:nonnull} in_LastIndex_1 != 0;
    assume in_LastIndex_1 > 0;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} Mem_T.INT4[in_LastIndex_1] >= out_CurrentIndex_1;
    assume {:nonnull} in_Fcb_30 != 0;
    assume in_Fcb_30 > 0;
    havoc vslice_dummy_var_579;
    call {:si_unique_call 4730} out_vslice_dummy_var_257 := FatGetNextMcbEntry(vslice_dummy_var_579, Mcb__FCB(in_Fcb_30), out_CurrentIndex_1, in_NextVbo_1, in_NextLbo_1, in_NextByteCount_1);
    goto anon65_Else_dummy;

  anon65_Else_dummy:
    goto L_BAF_6;

  anon65_Then:
    assume {:partition} out_CurrentIndex_1 > Mem_T.INT4[in_LastIndex_1];
    goto anon65_Then_dummy;

  anon65_Then_dummy:
    goto L_BAF_6;

  anon55_Then:
    assume {:partition} out_IrpIsMaster == 0;
    goto L123;

  anon62_Then:
    assume {:partition} out_IrpIsMaster == 0;
    call {:si_unique_call 4719} sdv_IoSetCompletionRoutine(out_AssocIrp, li2bplFunctionConstant726, in_Irp_28, 0, 1, 1);
    goto L111;

  anon54_Then:
    assume {:partition} out_IrpIsMaster == 0;
    call {:si_unique_call 4721} sdv_IoSetNextIrpStackLocation(0);
    call {:si_unique_call 4722} out_NextIrpSp := sdv_IoGetCurrentIrpStackLocation(out_AssocIrp);
    assume {:nonnull} in_IrpSp_11 != 0;
    assume in_IrpSp_11 > 0;
    assume {:nonnull} out_NextIrpSp != 0;
    assume out_NextIrpSp > 0;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    assume {:nonnull} out_NextIrpSp != 0;
    assume out_NextIrpSp > 0;
    assume {:nonnull} out_NextIrpSp != 0;
    assume out_NextIrpSp > 0;
    assume {:nonnull} in_IrpSp_11 != 0;
    assume in_IrpSp_11 > 0;
    assume {:nonnull} out_NextIrpSp != 0;
    assume out_NextIrpSp > 0;
    goto L103;

  anon53_Then:
    assume {:partition} out_AssocIrp == 0;
    out_AssocIrp := in_Irp_28;
    out_IrpIsMaster := 1;
    goto L151;

  L151:
    call {:si_unique_call 4723} out_vslice_dummy_var_258 := FatPagingFileIo_loop_L151(out_IrpCount, in_Irp_28, out_vslice_dummy_var_258);
    goto L151_last;

  L151_last:
    assume {:nonnull} in_Irp_28 != 0;
    assume in_Irp_28 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    call {:si_unique_call 4724} out_vslice_dummy_var_258 := KeDelayExecutionThread(0, 0, 0);
    assume false;
    return;

  anon56_Then:
    assume {:nonnull} in_Irp_28 != 0;
    assume in_Irp_28 > 0;
    goto anon57_Else;

  anon57_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(in_Irp_28))] >= 0;
    goto L95;

  anon51_Then:
    assume {:partition} out_MdlIsReserve == 0;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} out_IrpCount != 1;
    goto L158;

  L158:
    assume {:nonnull} in_DeviceObject_10 != 0;
    assume in_DeviceObject_10 > 0;
    havoc out_Tmp_1648;
    call {:si_unique_call 4725} out_AssocIrp := IoMakeAssociatedIrp(in_Irp_28, out_Tmp_1648);
    goto L92;

  anon52_Then:
    assume {:partition} out_IrpCount == 1;
    assume {:nonnull} in_LastIndex_1 != 0;
    assume in_LastIndex_1 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} out_CurrentIndex_1 == Mem_T.INT4[in_LastIndex_1];
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} out_RemainingByteCount == 0;
    goto L158;

  anon59_Then:
    assume {:partition} out_RemainingByteCount != 0;
    goto L92;

  anon58_Then:
    assume {:partition} out_CurrentIndex_1 != Mem_T.INT4[in_LastIndex_1];
    goto L92;

  anon50_Then:
    assume {:partition} out_Mdl_5 == 0;
    call {:si_unique_call 4727} out_vslice_dummy_var_255 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    out_Mdl_5 := FatReserveMdl;
    out_MdlIsReserve := 1;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} Mem_T.INT4[in_NextByteCount_1] > 65536;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    out_RemainingByteCount := Mem_T.INT4[in_NextByteCount_1] - 65536;
    assume {:nonnull} in_NextByteCount_1 != 0;
    assume in_NextByteCount_1 > 0;
    Mem_T.INT4[in_NextByteCount_1] := 65536;
    goto L86;

  anon66_Then:
    assume {:partition} 65536 >= Mem_T.INT4[in_NextByteCount_1];
    goto L86;

  anon61_Then:
    assume {:partition} out_ByteCount_14 >= Mem_T.INT4[in_NextByteCount_1];
    goto L75;
}



procedure {:LoopProcedure} FatPagingFileIo_loop_L71(in_RemainingByteCount: int, in_Mdl_5: int, in_AssocIrp: int, in_Vbo_7: int, in_CurrentIndex_1: int, in_IrpCount: int, in_BufferOffset_1: int, in_LastIndex_1: int, in_NextIrpSp: int, in_IrpSp_11: int, in_NextVbo_1: int, in_DeviceObject_10: int, in_Context_8: int, in_NextByteCount_1: int, in_IrpIsMaster: int, in_NextLbo_1: int, in_Tmp_1648: int, in_MdlIsReserve: int, in_ByteCount_14: int, in_Irp_28: int, in_Fcb_30: int, in_vslice_dummy_var_255: int, in_vslice_dummy_var_256: int, in_vslice_dummy_var_257: int, in_vslice_dummy_var_258: int, in_vslice_dummy_var_260: int) returns (out_RemainingByteCount: int, out_Mdl_5: int, out_AssocIrp: int, out_Vbo_7: int, out_CurrentIndex_1: int, out_IrpCount: int, out_BufferOffset_1: int, out_NextIrpSp: int, out_IrpIsMaster: int, out_Tmp_1648: int, out_MdlIsReserve: int, out_ByteCount_14: int, out_vslice_dummy_var_255: int, out_vslice_dummy_var_256: int, out_vslice_dummy_var_257: int, out_vslice_dummy_var_258: int, out_vslice_dummy_var_260: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} out_IrpIsMaster == 0 || out_IrpIsMaster == 1 || out_IrpIsMaster == in_IrpIsMaster;
  free ensures {:va_keep} out_MdlIsReserve == 0 || out_MdlIsReserve == 1 || out_MdlIsReserve == in_MdlIsReserve;
  free ensures {:va_keep} out_vslice_dummy_var_255 == 258 || out_vslice_dummy_var_255 == 0 || out_vslice_dummy_var_255 == in_vslice_dummy_var_255;
  free ensures {:va_keep} out_vslice_dummy_var_256 == 258 || out_vslice_dummy_var_256 == 0 || out_vslice_dummy_var_256 == in_vslice_dummy_var_256;
  free ensures {:va_keep} out_vslice_dummy_var_258 == 0 || out_vslice_dummy_var_258 == -1073741823 || out_vslice_dummy_var_258 == in_vslice_dummy_var_258;
  free ensures {:va_keep} out_vslice_dummy_var_260 == 259 || out_vslice_dummy_var_260 == in_vslice_dummy_var_260;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatForceCacheMiss_loop_L20(in_Links_2: int, in_sdv_988: int, in_TempFcb_2: int, in_IrpContext_92: int, in_vslice_dummy_var_274: int) returns (out_Links_2: int, out_sdv_988: int, out_TempFcb_2: int, out_vslice_dummy_var_274: int)
{

  entry:
    out_Links_2, out_sdv_988, out_TempFcb_2, out_vslice_dummy_var_274 := in_Links_2, in_sdv_988, in_TempFcb_2, in_vslice_dummy_var_274;
    goto L20, exit;

  exit:
    return;

  L20:
    goto anon34_Else;

  anon34_Else:
    call {:si_unique_call 4732} out_sdv_988 := sdv_containing_record(out_Links_2, 72);
    out_TempFcb_2 := out_sdv_988;
    call {:si_unique_call 4733} out_vslice_dummy_var_274 := FatAcquireExclusiveFcb(in_IrpContext_92, out_TempFcb_2);
    goto anon48_Else;

  anon48_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} out_Links_2 != 0;
    assume out_Links_2 > 0;
    havoc out_Links_2;
    goto anon48_Else_dummy;

  anon48_Else_dummy:
    call {:si_unique_call 4734} {:si_old_unique_call 1} out_Links_2, out_sdv_988, out_TempFcb_2, out_vslice_dummy_var_274 := FatForceCacheMiss_loop_L20(out_Links_2, out_sdv_988, out_TempFcb_2, in_IrpContext_92, out_vslice_dummy_var_274);
    return;
}



procedure {:LoopProcedure} FatForceCacheMiss_loop_L20(in_Links_2: int, in_sdv_988: int, in_TempFcb_2: int, in_IrpContext_92: int, in_vslice_dummy_var_274: int) returns (out_Links_2: int, out_sdv_988: int, out_TempFcb_2: int, out_vslice_dummy_var_274: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatForceCacheMiss_loop_L64(in_Links_3: int, in_sdv_991: int) returns (out_Links_3: int, out_sdv_991: int)
{

  entry:
    out_Links_3, out_sdv_991 := in_Links_3, in_sdv_991;
    goto L64, exit;

  exit:
    return;

  L64:
    goto anon38_Else;

  anon38_Else:
    call {:si_unique_call 4735} out_sdv_991 := sdv_containing_record(out_Links_3, 72);
    call {:si_unique_call 4736} ExReleaseResourceLite(0);
    assume {:nonnull} out_Links_3 != 0;
    assume out_Links_3 > 0;
    havoc out_Links_3;
    goto anon38_Else_dummy;

  anon38_Else_dummy:
    havoc out_Links_3;
    return;
}



procedure {:LoopProcedure} FatForceCacheMiss_loop_L64(in_Links_3: int, in_sdv_991: int) returns (out_Links_3: int, out_sdv_991: int);
  modifies alloc;
  free ensures {:va_keep} out_sdv_991 == in_Links_3 || out_sdv_991 == in_sdv_991;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatPurgeReferencedFileObjects_loop_L9(in_NextFcb_2: int, in_OriginalFcb: int, in_IrpContext_93: int, in_Fcb_32: int, in_FlushType_1: int) returns (out_NextFcb_2: int, out_Fcb_32: int)
{

  entry:
    out_NextFcb_2, out_Fcb_32 := in_NextFcb_2, in_Fcb_32;
    goto L9, exit;

  exit:
    return;

  L9:
    goto anon9_Else;

  anon9_Else:
    assume {:partition} out_Fcb_32 != 0;
    call {:si_unique_call 4738} out_NextFcb_2 := FatGetNextFcbTopDown(in_IrpContext_93, out_Fcb_32, in_OriginalFcb);
    assume {:nonnull} out_Fcb_32 != 0;
    assume out_Fcb_32 > 0;
    goto anon10_Then, anon10_Else;

  anon10_Else:
    goto L19;

  L19:
    out_Fcb_32 := out_NextFcb_2;
    goto L19_dummy;

  L19_dummy:
    call {:si_unique_call 4739} {:si_old_unique_call 1} out_NextFcb_2, out_Fcb_32 := FatPurgeReferencedFileObjects_loop_L9(out_NextFcb_2, in_OriginalFcb, in_IrpContext_93, out_Fcb_32, in_FlushType_1);
    return;

  anon10_Then:
    call {:si_unique_call 4737} FatForceCacheMiss(in_IrpContext_93, out_Fcb_32, in_FlushType_1);
    goto anon12_Else;

  anon12_Else:
    assume {:partition} yogi_error != 1;
    goto L19;
}



procedure {:LoopProcedure} FatPurgeReferencedFileObjects_loop_L9(in_NextFcb_2: int, in_OriginalFcb: int, in_IrpContext_93: int, in_Fcb_32: int, in_FlushType_1: int) returns (out_NextFcb_2: int, out_Fcb_32: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatComputeMoveFileSplicePoints_loop_L29(in_SourceMcbVbo: int, in_SourceLbo: int, in_SourceVbo_2: int, in_SourceMcbBytesInRun: int, in_SourceBytesRemaining: int, in_Tmp_1706: int, in_SourceIndex: int, in_Vcb_54: int, in_SourceBytesInRun: int, in_FcbOrDcb_7: int, in_SourceMcb: int, in_vslice_dummy_var_280: int, in_vslice_dummy_var_283: int) returns (out_SourceMcbVbo: int, out_SourceMcbBytesInRun: int, out_SourceBytesRemaining: int, out_Tmp_1706: int, out_vslice_dummy_var_280: int, out_vslice_dummy_var_283: int)
{

  entry:
    out_SourceMcbVbo, out_SourceMcbBytesInRun, out_SourceBytesRemaining, out_Tmp_1706, out_vslice_dummy_var_280, out_vslice_dummy_var_283 := in_SourceMcbVbo, in_SourceMcbBytesInRun, in_SourceBytesRemaining, in_Tmp_1706, in_vslice_dummy_var_280, in_vslice_dummy_var_283;
    goto L29, exit;

  exit:
    return;

  L29:
    goto anon15_Else;

  anon15_Else:
    assume {:partition} out_SourceBytesRemaining > 0;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} out_SourceMcbVbo != 0;
    assume {:nonnull} in_FcbOrDcb_7 != 0;
    assume in_FcbOrDcb_7 > 0;
    assume {:nonnull} in_SourceIndex != 0;
    assume in_SourceIndex > 0;
    call {:si_unique_call 4741} out_vslice_dummy_var_280 := FatGetNextMcbEntry(in_Vcb_54, Mcb__FCB(in_FcbOrDcb_7), Mem_T.INT4[in_SourceIndex], in_SourceVbo_2, in_SourceLbo, in_SourceBytesInRun);
    goto L32;

  L32:
    assume {:nonnull} in_SourceBytesInRun != 0;
    assume in_SourceBytesInRun > 0;
    goto anon18_Then, anon18_Else;

  anon18_Else:
    assume {:partition} out_SourceBytesRemaining > Mem_T.INT4[in_SourceBytesInRun];
    assume {:nonnull} in_SourceBytesInRun != 0;
    assume in_SourceBytesInRun > 0;
    out_Tmp_1706 := Mem_T.INT4[in_SourceBytesInRun];
    goto L38;

  L38:
    out_SourceMcbBytesInRun := out_Tmp_1706;
    assume {:nonnull} in_SourceLbo != 0;
    assume in_SourceLbo > 0;
    call {:si_unique_call 4740} out_vslice_dummy_var_283 := FatAddMcbEntry(in_Vcb_54, in_SourceMcb, out_SourceMcbVbo, Mem_T.INT4[in_SourceLbo], out_SourceMcbBytesInRun);
    assume {:nonnull} in_SourceIndex != 0;
    assume in_SourceIndex > 0;
    Mem_T.INT4[in_SourceIndex] := Mem_T.INT4[in_SourceIndex] + 1;
    out_SourceBytesRemaining := out_SourceBytesRemaining - out_SourceMcbBytesInRun;
    out_SourceMcbVbo := out_SourceMcbVbo + out_SourceMcbBytesInRun;
    goto L38_dummy;

  L38_dummy:
    call {:si_unique_call 4742} {:si_old_unique_call 1} out_SourceMcbVbo, out_SourceMcbBytesInRun, out_SourceBytesRemaining, out_Tmp_1706, out_vslice_dummy_var_280, out_vslice_dummy_var_283 := FatComputeMoveFileSplicePoints_loop_L29(out_SourceMcbVbo, in_SourceLbo, in_SourceVbo_2, out_SourceMcbBytesInRun, out_SourceBytesRemaining, out_Tmp_1706, in_SourceIndex, in_Vcb_54, in_SourceBytesInRun, in_FcbOrDcb_7, in_SourceMcb, out_vslice_dummy_var_280, out_vslice_dummy_var_283);
    return;

  anon18_Then:
    assume {:partition} Mem_T.INT4[in_SourceBytesInRun] >= out_SourceBytesRemaining;
    out_Tmp_1706 := out_SourceBytesRemaining;
    goto L38;

  anon17_Then:
    assume {:partition} out_SourceMcbVbo == 0;
    goto L32;
}



procedure {:LoopProcedure} FatComputeMoveFileSplicePoints_loop_L29(in_SourceMcbVbo: int, in_SourceLbo: int, in_SourceVbo_2: int, in_SourceMcbBytesInRun: int, in_SourceBytesRemaining: int, in_Tmp_1706: int, in_SourceIndex: int, in_Vcb_54: int, in_SourceBytesInRun: int, in_FcbOrDcb_7: int, in_SourceMcb: int, in_vslice_dummy_var_280: int, in_vslice_dummy_var_283: int) returns (out_SourceMcbVbo: int, out_SourceMcbBytesInRun: int, out_SourceBytesRemaining: int, out_Tmp_1706: int, out_vslice_dummy_var_280: int, out_vslice_dummy_var_283: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatQueryRetrievalPointers_loop_L74(in_i_14: int, in_MappingPairs: int, in_Tmp_1714: int, in_SectorCount_1: int, in_Lbo_10: int, in_Fcb_34: int, in_Vbo_9: int, in_Tmp_1716: int, in_Tmp_1717: int, in_MapSize: int, in_Tmp_1721: int, in_Index_3: int, in_vslice_dummy_var_286: int) returns (out_i_14: int, out_Tmp_1714: int, out_Tmp_1716: int, out_Tmp_1717: int, out_MapSize: int, out_Tmp_1721: int, out_vslice_dummy_var_286: int)
{
  var vslice_dummy_var_580: int;
  var vslice_dummy_var_581: int;

  entry:
    out_i_14, out_Tmp_1714, out_Tmp_1716, out_Tmp_1717, out_MapSize, out_Tmp_1721, out_vslice_dummy_var_286 := in_i_14, in_Tmp_1714, in_Tmp_1716, in_Tmp_1717, in_MapSize, in_Tmp_1721, in_vslice_dummy_var_286;
    goto L74, exit;

  exit:
    return;

  L74:
    assume {:nonnull} in_Index_3 != 0;
    assume in_Index_3 > 0;
    goto anon22_Else;

  anon22_Else:
    assume {:partition} Mem_T.INT4[in_Index_3] >= out_i_14;
    assume {:nonnull} in_Fcb_34 != 0;
    assume in_Fcb_34 > 0;
    havoc vslice_dummy_var_580;
    havoc vslice_dummy_var_581;
    call {:si_unique_call 4743} out_vslice_dummy_var_286 := FatGetNextMcbEntry(vslice_dummy_var_580, vslice_dummy_var_581, out_i_14, in_Vbo_9, in_Lbo_10, in_SectorCount_1);
    assume {:nonnull} in_SectorCount_1 != 0;
    assume in_SectorCount_1 > 0;
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} Mem_T.INT4[in_SectorCount_1] > out_MapSize;
    assume {:nonnull} in_SectorCount_1 != 0;
    assume in_SectorCount_1 > 0;
    Mem_T.INT4[in_SectorCount_1] := out_MapSize;
    goto L80;

  L80:
    out_Tmp_1721 := out_i_14 * 2 + 0;
    assume {:nonnull} in_MappingPairs != 0;
    assume in_MappingPairs > 0;
    havoc out_Tmp_1714;
    assume {:nonnull} in_SectorCount_1 != 0;
    assume in_SectorCount_1 > 0;
    assume {:nonnull} out_Tmp_1714 != 0;
    assume out_Tmp_1714 > 0;
    out_Tmp_1717 := out_i_14 * 2 + 1;
    assume {:nonnull} in_MappingPairs != 0;
    assume in_MappingPairs > 0;
    havoc out_Tmp_1716;
    assume {:nonnull} in_Lbo_10 != 0;
    assume in_Lbo_10 > 0;
    assume {:nonnull} out_Tmp_1716 != 0;
    assume out_Tmp_1716 > 0;
    assume {:nonnull} in_SectorCount_1 != 0;
    assume in_SectorCount_1 > 0;
    out_MapSize := out_MapSize - Mem_T.INT4[in_SectorCount_1];
    out_i_14 := out_i_14 + 1;
    goto L80_dummy;

  L80_dummy:
    call {:si_unique_call 4744} {:si_old_unique_call 1} out_i_14, out_Tmp_1714, out_Tmp_1716, out_Tmp_1717, out_MapSize, out_Tmp_1721, out_vslice_dummy_var_286 := FatQueryRetrievalPointers_loop_L74(out_i_14, in_MappingPairs, out_Tmp_1714, in_SectorCount_1, in_Lbo_10, in_Fcb_34, in_Vbo_9, out_Tmp_1716, out_Tmp_1717, out_MapSize, out_Tmp_1721, in_Index_3, out_vslice_dummy_var_286);
    return;

  anon23_Then:
    assume {:partition} out_MapSize >= Mem_T.INT4[in_SectorCount_1];
    goto L80;
}



procedure {:LoopProcedure} FatQueryRetrievalPointers_loop_L74(in_i_14: int, in_MappingPairs: int, in_Tmp_1714: int, in_SectorCount_1: int, in_Lbo_10: int, in_Fcb_34: int, in_Vbo_9: int, in_Tmp_1716: int, in_Tmp_1717: int, in_MapSize: int, in_Tmp_1721: int, in_Index_3: int, in_vslice_dummy_var_286: int) returns (out_i_14: int, out_Tmp_1714: int, out_Tmp_1716: int, out_Tmp_1717: int, out_MapSize: int, out_Tmp_1721: int, out_vslice_dummy_var_286: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDismountVolume_loop_L96(in_Fcb_38: int, in_Vcb_60: int, in_IrpContext_99: int) returns (out_Fcb_38: int)
{
  var vslice_dummy_var_582: int;

  entry:
    out_Fcb_38 := in_Fcb_38;
    goto L96, exit;

  exit:
    return;

  L96:
    assume {:nonnull} in_Vcb_60 != 0;
    assume in_Vcb_60 > 0;
    havoc vslice_dummy_var_582;
    call {:si_unique_call 4745} out_Fcb_38 := FatGetNextFcbBottomUp(in_IrpContext_99, out_Fcb_38, vslice_dummy_var_582);
    goto anon42_Else;

  anon42_Else:
    assume {:partition} out_Fcb_38 != 0;
    call {:si_unique_call 4746} ExReleaseResourceLite(0);
    goto anon42_Else_dummy;

  anon42_Else_dummy:
    call {:si_unique_call 4747} {:si_old_unique_call 1} out_Fcb_38 := FatDismountVolume_loop_L96(out_Fcb_38, in_Vcb_60, in_IrpContext_99);
    return;
}



procedure {:LoopProcedure} FatDismountVolume_loop_L96(in_Fcb_38: int, in_Vcb_60: int, in_IrpContext_99: int) returns (out_Fcb_38: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDismountVolume_loop_L75(in_Fcb_36: int, in_Vcb_60: int, in_IrpContext_99: int, in_vslice_dummy_var_294: int) returns (out_Fcb_36: int, out_vslice_dummy_var_294: int)
{
  var vslice_dummy_var_583: int;

  entry:
    out_Fcb_36, out_vslice_dummy_var_294 := in_Fcb_36, in_vslice_dummy_var_294;
    goto L75, exit;

  exit:
    return;

  L75:
    assume {:nonnull} in_Vcb_60 != 0;
    assume in_Vcb_60 > 0;
    havoc vslice_dummy_var_583;
    call {:si_unique_call 4748} out_Fcb_36 := FatGetNextFcbBottomUp(in_IrpContext_99, out_Fcb_36, vslice_dummy_var_583);
    goto anon40_Else;

  anon40_Else:
    assume {:partition} out_Fcb_36 != 0;
    call {:si_unique_call 4749} out_vslice_dummy_var_294 := FatAcquireExclusiveFcb(in_IrpContext_99, out_Fcb_36);
    goto anon49_Else;

  anon49_Else:
    assume {:partition} yogi_error != 1;
    goto anon49_Else_dummy;

  anon49_Else_dummy:
    call {:si_unique_call 4750} {:si_old_unique_call 1} out_Fcb_36, out_vslice_dummy_var_294 := FatDismountVolume_loop_L75(out_Fcb_36, in_Vcb_60, in_IrpContext_99, out_vslice_dummy_var_294);
    return;
}



procedure {:LoopProcedure} FatDismountVolume_loop_L75(in_Fcb_36: int, in_Vcb_60: int, in_IrpContext_99: int, in_vslice_dummy_var_294: int) returns (out_Fcb_36: int, out_vslice_dummy_var_294: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMoveFile_loop_L372(in_StackEvent: int, in_FirstSpliceSourceCluster_1: int, in_EventArmed: int, in_sdv_1044: int, in_sdv_1046: int, in_SourceMcb_1: int, in_sdv_1050: int, in_LargeTargetLbo: int, in_BytesToReallocate_1: int, in_TempVbo: int, in_TargetCluster_1: int, in_BytesToWrite: int, in_Dirent_18: int, in_Status_29: int, in_TempLbo: int, in_Iosb_17: int, in_Buffer_23: int, in_FcbAcquired_3: int, in_DirentBcb_8: int, in_BufferSize: int, in_SecondSpliceSourceCluster_1: int, in_LargeSourceLbo: int, in_IoIrp: int, in_IoEvent: int, in_sdv_1066: int, in_FileOffset_1: int, in_FirstSpliceTargetCluster_1: int, in_TargetLbo: int, in_Tmp_1738: int, in_SecondSpliceTargetCluster_1: int, in_Vcb_61: int, in_TargetMcb: int, in_FcbOrDcb_8: int, in_TempByteCount: int, in_sdv_1084: int, in_sdv_1085: int, in_DiskSpaceAllocated: int, in_ByteCount_17: int, in_IrpContext_100: int, in_Irp_38: int, in_boogieTmp: int, in_vslice_dummy_var_305: int, in_vslice_dummy_var_306: int, in_vslice_dummy_var_307: int, in_vslice_dummy_var_308: int, in_vslice_dummy_var_309: int, in_vslice_dummy_var_310: int, in_vslice_dummy_var_311: int, in_vslice_dummy_var_312: int) returns (out_EventArmed: int, out_sdv_1044: int, out_sdv_1046: int, out_sdv_1050: int, out_TargetCluster_1: int, out_Status_29: int, out_Buffer_23: int, out_FcbAcquired_3: int, out_IoIrp: int, out_sdv_1066: int, out_FileOffset_1: int, out_TargetLbo: int, out_Tmp_1738: int, out_sdv_1084: int, out_sdv_1085: int, out_DiskSpaceAllocated: int, out_boogieTmp: int, out_vslice_dummy_var_305: int, out_vslice_dummy_var_306: int, out_vslice_dummy_var_307: int, out_vslice_dummy_var_308: int, out_vslice_dummy_var_309: int, out_vslice_dummy_var_310: int, out_vslice_dummy_var_311: int, out_vslice_dummy_var_312: int)
{
  var vslice_dummy_var_584: int;
  var vslice_dummy_var_585: int;
  var vslice_dummy_var_586: int;
  var vslice_dummy_var_587: int;
  var vslice_dummy_var_588: int;
  var vslice_dummy_var_589: int;
  var vslice_dummy_var_590: int;
  var vslice_dummy_var_591: int;
  var vslice_dummy_var_592: int;
  var vslice_dummy_var_593: int;
  var vslice_dummy_var_594: int;
  var vslice_dummy_var_595: int;
  var vslice_dummy_var_596: int;
  var vslice_dummy_var_597: int;
  var vslice_dummy_var_598: int;
  var vslice_dummy_var_599: int;
  var vslice_dummy_var_600: int;
  var vslice_dummy_var_601: int;
  var vslice_dummy_var_602: int;
  var vslice_dummy_var_603: int;
  var vslice_dummy_var_604: int;
  var vslice_dummy_var_605: int;
  var vslice_dummy_var_606: int;
  var vslice_dummy_var_607: int;
  var vslice_dummy_var_608: int;

  entry:
    out_EventArmed, out_sdv_1044, out_sdv_1046, out_sdv_1050, out_TargetCluster_1, out_Status_29, out_Buffer_23, out_FcbAcquired_3, out_IoIrp, out_sdv_1066, out_FileOffset_1, out_TargetLbo, out_Tmp_1738, out_sdv_1084, out_sdv_1085, out_DiskSpaceAllocated, out_boogieTmp, out_vslice_dummy_var_305, out_vslice_dummy_var_306, out_vslice_dummy_var_307, out_vslice_dummy_var_308, out_vslice_dummy_var_309, out_vslice_dummy_var_310, out_vslice_dummy_var_311, out_vslice_dummy_var_312 := in_EventArmed, in_sdv_1044, in_sdv_1046, in_sdv_1050, in_TargetCluster_1, in_Status_29, in_Buffer_23, in_FcbAcquired_3, in_IoIrp, in_sdv_1066, in_FileOffset_1, in_TargetLbo, in_Tmp_1738, in_sdv_1084, in_sdv_1085, in_DiskSpaceAllocated, in_boogieTmp, in_vslice_dummy_var_305, in_vslice_dummy_var_306, in_vslice_dummy_var_307, in_vslice_dummy_var_308, in_vslice_dummy_var_309, in_vslice_dummy_var_310, in_vslice_dummy_var_311, in_vslice_dummy_var_312;
    goto L372, exit;

  exit:
    return;

  L372:
    assume {:nonnull} in_ByteCount_17 != 0;
    assume in_ByteCount_17 > 0;
    goto anon146_Else;

  anon146_Else:
    assume {:partition} Mem_T.INT4[in_ByteCount_17] != 0;
    call {:si_unique_call 4788} out_vslice_dummy_var_305 := corral_nondet();
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} out_FcbAcquired_3 != 0;
    goto L385;

  L385:
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:partition} out_Buffer_23 != 0;
    goto L389;

  L389:
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_604;
    call {:si_unique_call 4784} FatComputeMoveFileParameter(in_IrpContext_100, vslice_dummy_var_604, in_BufferSize, out_FileOffset_1, in_ByteCount_17, in_BytesToReallocate_1, in_BytesToWrite, in_LargeSourceLbo);
    assume {:nonnull} in_ByteCount_17 != 0;
    assume in_ByteCount_17 > 0;
    goto anon149_Else;

  anon149_Else:
    assume {:partition} Mem_T.INT4[in_ByteCount_17] != 0;
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_602;
    call {:si_unique_call 4782} FatComputeMoveFileSplicePoints(in_IrpContext_100, vslice_dummy_var_602, out_FileOffset_1, out_TargetCluster_1, Mem_T.INT4[in_BytesToReallocate_1], in_FirstSpliceSourceCluster_1, in_FirstSpliceTargetCluster_1, in_SecondSpliceSourceCluster_1, in_SecondSpliceTargetCluster_1, in_SourceMcb_1);
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    assume {:nonnull} in_TempByteCount != 0;
    assume in_TempByteCount > 0;
    Mem_T.INT4[in_TempByteCount] := Mem_T.INT4[in_BytesToReallocate_1];
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_603;
    call {:si_unique_call 4783} FatAllocateDiskSpace(in_IrpContext_100, vslice_dummy_var_603, out_TargetCluster_1, in_TempByteCount, 1, in_TargetMcb);
    goto anon175_Else;

  anon175_Else:
    assume {:partition} yogi_error != 1;
    out_DiskSpaceAllocated := 1;
    call {:si_unique_call 4781} out_sdv_1046 := corral_nondet();
    goto anon150_Then;

  anon150_Then:
    assume {:partition} out_sdv_1046 == 1;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_601;
    call {:si_unique_call 4780} out_sdv_1066 := FatGetNextMcbEntry(vslice_dummy_var_601, in_TargetMcb, 0, in_TempVbo, in_TempLbo, in_TempByteCount);
    goto anon151_Else;

  anon151_Else:
    assume {:partition} out_sdv_1066 != 0;
    goto anon152_Else;

  anon152_Else:
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    assume {:nonnull} in_TempByteCount != 0;
    assume in_TempByteCount > 0;
    goto anon153_Else;

  anon153_Else:
    assume {:partition} Mem_T.INT4[in_TempByteCount] == Mem_T.INT4[in_BytesToReallocate_1];
    call {:si_unique_call 4777} out_Tmp_1738 := corral_nondet();
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_600;
    call {:si_unique_call 4778} FatFlushFatEntries(in_IrpContext_100, vslice_dummy_var_600, out_TargetCluster_1, out_Tmp_1738);
    call {:si_unique_call 4779} out_vslice_dummy_var_307 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon176_Else;

  anon176_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    out_EventArmed := 1;
    call {:si_unique_call 4776} ExReleaseResourceLite(0);
    assume {:nonnull} in_BytesToWrite != 0;
    assume in_BytesToWrite > 0;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} Mem_T.INT4[in_BytesToWrite] != 0;
    call {:si_unique_call 4800} KeInitializeEvent(in_IoEvent, 0, 0);
    assume {:nonnull} in_BytesToWrite != 0;
    assume in_BytesToWrite > 0;
    call {:si_unique_call 4801} out_IoIrp := IoBuildSynchronousFsdRequest(3, 0, 0, Mem_T.INT4[in_BytesToWrite], 0, 0, in_Iosb_17);
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} out_IoIrp != 0;
    goto L442;

  L442:
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_608;
    call {:si_unique_call 4798} out_Status_29 := sdv_IoCallDriver(vslice_dummy_var_608, out_IoIrp);
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:partition} out_Status_29 == 259;
    call {:si_unique_call 4797} out_vslice_dummy_var_308 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} in_Iosb_17 != 0;
    assume in_Iosb_17 > 0;
    out_Status_29 := Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_17)];
    goto L447;

  L447:
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:partition} out_Status_29 >= 0;
    goto L453;

  L453:
    call {:si_unique_call 4793} KeInitializeEvent(in_IoEvent, 0, 0);
    assume {:nonnull} in_BytesToWrite != 0;
    assume in_BytesToWrite > 0;
    call {:si_unique_call 4794} out_IoIrp := IoBuildSynchronousFsdRequest(4, 0, 0, Mem_T.INT4[in_BytesToWrite], 0, 0, in_Iosb_17);
    goto anon158_Then, anon158_Else;

  anon158_Else:
    assume {:partition} out_IoIrp != 0;
    goto L462;

  L462:
    call {:si_unique_call 4790} out_sdv_1050 := sdv_IoGetNextIrpStackLocation(out_IoIrp);
    assume {:nonnull} out_sdv_1050 != 0;
    assume out_sdv_1050 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_607;
    call {:si_unique_call 4791} out_Status_29 := sdv_IoCallDriver(vslice_dummy_var_607, out_IoIrp);
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} out_Status_29 == 259;
    call {:si_unique_call 4789} out_vslice_dummy_var_309 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    assume {:nonnull} in_Iosb_17 != 0;
    assume in_Iosb_17 > 0;
    out_Status_29 := Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_17)];
    goto L471;

  L471:
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} out_Status_29 < 0;
    assume {:nonnull} in_IrpContext_100 != 0;
    assume in_IrpContext_100 > 0;
    call {:si_unique_call 4774} out_sdv_1044 := corral_nondet();
    call {:si_unique_call 4775} ExRaiseStatus(out_sdv_1044);
    goto L427;

  L427:
    assume {:nonnull} in_SecondSpliceSourceCluster_1 != 0;
    assume in_SecondSpliceSourceCluster_1 > 0;
    assume {:nonnull} in_SecondSpliceTargetCluster_1 != 0;
    assume in_SecondSpliceTargetCluster_1 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_598;
    call {:si_unique_call 4772} FatSetFatEntry#1(in_IrpContext_100, vslice_dummy_var_598, Mem_T.INT4[in_SecondSpliceSourceCluster_1], Mem_T.INT4[in_SecondSpliceTargetCluster_1]);
    assume {:nonnull} in_SecondSpliceSourceCluster_1 != 0;
    assume in_SecondSpliceSourceCluster_1 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_599;
    call {:si_unique_call 4773} FatFlushFatEntries(in_IrpContext_100, vslice_dummy_var_599, Mem_T.INT4[in_SecondSpliceSourceCluster_1], 1);
    assume {:nonnull} in_FirstSpliceSourceCluster_1 != 0;
    assume in_FirstSpliceSourceCluster_1 > 0;
    goto anon161_Then, anon161_Else;

  anon161_Else:
    assume {:partition} Mem_T.INT4[in_FirstSpliceSourceCluster_1] != 0;
    assume {:nonnull} in_FirstSpliceSourceCluster_1 != 0;
    assume in_FirstSpliceSourceCluster_1 > 0;
    assume {:nonnull} in_FirstSpliceTargetCluster_1 != 0;
    assume in_FirstSpliceTargetCluster_1 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_592;
    call {:si_unique_call 4766} FatSetFatEntry#1(in_IrpContext_100, vslice_dummy_var_592, Mem_T.INT4[in_FirstSpliceSourceCluster_1], Mem_T.INT4[in_FirstSpliceTargetCluster_1]);
    assume {:nonnull} in_FirstSpliceSourceCluster_1 != 0;
    assume in_FirstSpliceSourceCluster_1 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_593;
    call {:si_unique_call 4767} FatFlushFatEntries(in_IrpContext_100, vslice_dummy_var_593, Mem_T.INT4[in_FirstSpliceSourceCluster_1], 1);
    goto L508;

  L508:
    out_DiskSpaceAllocated := 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_591;
    call {:si_unique_call 4765} FatDeallocateDiskSpace(in_IrpContext_100, vslice_dummy_var_591, in_SourceMcb_1);
    goto anon177_Else;

  anon177_Else:
    assume {:partition} yogi_error != 1;
    call {:si_unique_call 4763} FatUnpinRepinnedBcbs(in_IrpContext_100);
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_590;
    call {:si_unique_call 4764} out_Status_29 := FatHijackIrpAndFlushDevice(in_IrpContext_100, in_Irp_38, vslice_dummy_var_590);
    goto anon162_Then, anon162_Else;

  anon162_Else:
    assume {:partition} out_Status_29 >= 0;
    goto L521;

  L521:
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_586;
    havoc vslice_dummy_var_587;
    call {:si_unique_call 4757} FatRemoveMcbEntry(vslice_dummy_var_586, vslice_dummy_var_587, out_FileOffset_1, Mem_T.INT4[in_BytesToReallocate_1]);
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_588;
    havoc vslice_dummy_var_589;
    call {:si_unique_call 4758} out_vslice_dummy_var_310 := FatAddMcbEntry(vslice_dummy_var_588, vslice_dummy_var_589, out_FileOffset_1, out_TargetLbo, Mem_T.INT4[in_BytesToReallocate_1]);
    call {:si_unique_call 4759} out_vslice_dummy_var_311 := KeSetEvent(in_StackEvent, 0, 0);
    call {:si_unique_call 4760} out_vslice_dummy_var_312 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon178_Else;

  anon178_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    out_EventArmed := 0;
    call {:si_unique_call 4751} ExReleaseResourceLite(0);
    call {:si_unique_call 4752} ExReleaseResourceLite(0);
    out_FcbAcquired_3 := 0;
    call {:si_unique_call 4753} out_TargetCluster_1 := corral_nondet();
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    out_FileOffset_1 := out_FileOffset_1 + Mem_T.INT4[in_BytesToReallocate_1];
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    out_TargetLbo := out_TargetLbo + Mem_T.INT4[in_BytesToReallocate_1];
    assume {:nonnull} in_ByteCount_17 != 0;
    assume in_ByteCount_17 > 0;
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    Mem_T.INT4[in_ByteCount_17] := Mem_T.INT4[in_ByteCount_17] - Mem_T.INT4[in_BytesToReallocate_1];
    assume {:nonnull} in_BytesToReallocate_1 != 0;
    assume in_BytesToReallocate_1 > 0;
    assume {:nonnull} in_LargeTargetLbo != 0;
    assume in_LargeTargetLbo > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_584;
    call {:si_unique_call 4754} FatRemoveMcbEntry(vslice_dummy_var_584, in_SourceMcb_1, 0, -1);
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_585;
    call {:si_unique_call 4755} FatRemoveMcbEntry(vslice_dummy_var_585, in_TargetMcb, 0, -1);
    call {:si_unique_call 4756} KeClearEvent(in_StackEvent);
    goto anon178_Else_dummy;

  anon178_Else_dummy:
    call {:si_unique_call 4802} {:si_old_unique_call 1} out_EventArmed, out_sdv_1044, out_sdv_1046, out_sdv_1050, out_TargetCluster_1, out_Status_29, out_Buffer_23, out_FcbAcquired_3, out_IoIrp, out_sdv_1066, out_FileOffset_1, out_TargetLbo, out_Tmp_1738, out_sdv_1084, out_sdv_1085, out_DiskSpaceAllocated, out_boogieTmp, out_vslice_dummy_var_305, out_vslice_dummy_var_306, out_vslice_dummy_var_307, out_vslice_dummy_var_308, out_vslice_dummy_var_309, out_vslice_dummy_var_310, out_vslice_dummy_var_311, out_vslice_dummy_var_312 := FatMoveFile_loop_L372(in_StackEvent, in_FirstSpliceSourceCluster_1, out_EventArmed, out_sdv_1044, out_sdv_1046, in_SourceMcb_1, out_sdv_1050, in_LargeTargetLbo, in_BytesToReallocate_1, in_TempVbo, out_TargetCluster_1, in_BytesToWrite, in_Dirent_18, out_Status_29, in_TempLbo, in_Iosb_17, out_Buffer_23, out_FcbAcquired_3, in_DirentBcb_8, in_BufferSize, in_SecondSpliceSourceCluster_1, in_LargeSourceLbo, out_IoIrp, in_IoEvent, out_sdv_1066, out_FileOffset_1, in_FirstSpliceTargetCluster_1, out_TargetLbo, out_Tmp_1738, in_SecondSpliceTargetCluster_1, in_Vcb_61, in_TargetMcb, in_FcbOrDcb_8, in_TempByteCount, out_sdv_1084, out_sdv_1085, out_DiskSpaceAllocated, in_ByteCount_17, in_IrpContext_100, in_Irp_38, out_boogieTmp, out_vslice_dummy_var_305, out_vslice_dummy_var_306, out_vslice_dummy_var_307, out_vslice_dummy_var_308, out_vslice_dummy_var_309, out_vslice_dummy_var_310, out_vslice_dummy_var_311, out_vslice_dummy_var_312);
    return;

  anon162_Then:
    assume {:partition} 0 > out_Status_29;
    assume {:nonnull} in_IrpContext_100 != 0;
    assume in_IrpContext_100 > 0;
    call {:si_unique_call 4761} out_sdv_1085 := corral_nondet();
    call {:si_unique_call 4762} ExRaiseStatus(out_sdv_1085);
    goto L521;

  anon161_Then:
    assume {:partition} Mem_T.INT4[in_FirstSpliceSourceCluster_1] == 0;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_597;
    call {:si_unique_call 4771} FatGetDirentFromFcbOrDcb(in_IrpContext_100, vslice_dummy_var_597, in_Dirent_18, in_DirentBcb_8);
    assume {:nonnull} in_Dirent_18 != 0;
    assume in_Dirent_18 > 0;
    assume {:nonnull} in_FirstSpliceTargetCluster_1 != 0;
    assume in_FirstSpliceTargetCluster_1 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:nonnull} in_Dirent_18 != 0;
    assume in_Dirent_18 > 0;
    call {:si_unique_call 4770} out_boogieTmp := corral_nondet();
    goto L564;

  L564:
    assume {:nonnull} in_DirentBcb_8 != 0;
    assume in_DirentBcb_8 > 0;
    assume {:nonnull} in_Vcb_61 != 0;
    assume in_Vcb_61 > 0;
    havoc vslice_dummy_var_595;
    havoc vslice_dummy_var_596;
    call {:si_unique_call 4769} FatSetDirtyBcb#1(in_IrpContext_100, vslice_dummy_var_595, vslice_dummy_var_596, 1);
    assume {:nonnull} in_DirentBcb_8 != 0;
    assume in_DirentBcb_8 > 0;
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:nonnull} in_DirentBcb_8 != 0;
    assume in_DirentBcb_8 > 0;
    goto L569;

  L569:
    assume {:nonnull} in_DirentBcb_8 != 0;
    assume in_DirentBcb_8 > 0;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_594;
    call {:si_unique_call 4768} FatFlushDirentForFile(in_IrpContext_100, vslice_dummy_var_594);
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    assume {:nonnull} in_FirstSpliceTargetCluster_1 != 0;
    assume in_FirstSpliceTargetCluster_1 > 0;
    goto L508;

  anon163_Then:
    goto L569;

  anon179_Then:
    goto L564;

  anon160_Then:
    assume {:partition} 0 <= out_Status_29;
    goto L427;

  anon159_Then:
    assume {:partition} out_Status_29 != 259;
    goto L471;

  anon158_Then:
    assume {:partition} out_IoIrp == 0;
    assume {:nonnull} in_IrpContext_100 != 0;
    assume in_IrpContext_100 > 0;
    call {:si_unique_call 4792} ExRaiseStatus(-1073741670);
    goto L462;

  anon157_Then:
    assume {:partition} 0 > out_Status_29;
    assume {:nonnull} in_IrpContext_100 != 0;
    assume in_IrpContext_100 > 0;
    call {:si_unique_call 4795} out_sdv_1084 := corral_nondet();
    call {:si_unique_call 4796} ExRaiseStatus(out_sdv_1084);
    goto L453;

  anon156_Then:
    assume {:partition} out_Status_29 != 259;
    goto L447;

  anon155_Then:
    assume {:partition} out_IoIrp == 0;
    assume {:nonnull} in_IrpContext_100 != 0;
    assume in_IrpContext_100 > 0;
    call {:si_unique_call 4799} ExRaiseStatus(-1073741670);
    goto L442;

  anon154_Then:
    assume {:partition} Mem_T.INT4[in_BytesToWrite] == 0;
    goto L427;

  anon148_Then:
    assume {:partition} out_Buffer_23 == 0;
    call {:si_unique_call 4785} out_Buffer_23 := ExAllocatePoolWithTag(16, in_BufferSize, -948674234);
    goto L389;

  anon147_Then:
    assume {:partition} out_FcbAcquired_3 == 0;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_606;
    call {:si_unique_call 4787} out_vslice_dummy_var_306 := FatAcquireExclusiveFcb(in_IrpContext_100, vslice_dummy_var_606);
    goto anon180_Else;

  anon180_Else:
    assume {:partition} yogi_error != 1;
    out_FcbAcquired_3 := 1;
    assume {:nonnull} in_FcbOrDcb_8 != 0;
    assume in_FcbOrDcb_8 > 0;
    havoc vslice_dummy_var_605;
    call {:si_unique_call 4786} FatVerifyFcb(in_IrpContext_100, vslice_dummy_var_605);
    goto L385;
}



procedure {:LoopProcedure} FatMoveFile_loop_L372(in_StackEvent: int, in_FirstSpliceSourceCluster_1: int, in_EventArmed: int, in_sdv_1044: int, in_sdv_1046: int, in_SourceMcb_1: int, in_sdv_1050: int, in_LargeTargetLbo: int, in_BytesToReallocate_1: int, in_TempVbo: int, in_TargetCluster_1: int, in_BytesToWrite: int, in_Dirent_18: int, in_Status_29: int, in_TempLbo: int, in_Iosb_17: int, in_Buffer_23: int, in_FcbAcquired_3: int, in_DirentBcb_8: int, in_BufferSize: int, in_SecondSpliceSourceCluster_1: int, in_LargeSourceLbo: int, in_IoIrp: int, in_IoEvent: int, in_sdv_1066: int, in_FileOffset_1: int, in_FirstSpliceTargetCluster_1: int, in_TargetLbo: int, in_Tmp_1738: int, in_SecondSpliceTargetCluster_1: int, in_Vcb_61: int, in_TargetMcb: int, in_FcbOrDcb_8: int, in_TempByteCount: int, in_sdv_1084: int, in_sdv_1085: int, in_DiskSpaceAllocated: int, in_ByteCount_17: int, in_IrpContext_100: int, in_Irp_38: int, in_boogieTmp: int, in_vslice_dummy_var_305: int, in_vslice_dummy_var_306: int, in_vslice_dummy_var_307: int, in_vslice_dummy_var_308: int, in_vslice_dummy_var_309: int, in_vslice_dummy_var_310: int, in_vslice_dummy_var_311: int, in_vslice_dummy_var_312: int) returns (out_EventArmed: int, out_sdv_1044: int, out_sdv_1046: int, out_sdv_1050: int, out_TargetCluster_1: int, out_Status_29: int, out_Buffer_23: int, out_FcbAcquired_3: int, out_IoIrp: int, out_sdv_1066: int, out_FileOffset_1: int, out_TargetLbo: int, out_Tmp_1738: int, out_sdv_1084: int, out_sdv_1085: int, out_DiskSpaceAllocated: int, out_boogieTmp: int, out_vslice_dummy_var_305: int, out_vslice_dummy_var_306: int, out_vslice_dummy_var_307: int, out_vslice_dummy_var_308: int, out_vslice_dummy_var_309: int, out_vslice_dummy_var_310: int, out_vslice_dummy_var_311: int, out_vslice_dummy_var_312: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_EventArmed == 0 || out_EventArmed == in_EventArmed;
  free ensures {:va_keep} out_sdv_1044 == in_sdv_1044;
  free ensures {:va_keep} out_FcbAcquired_3 == 0 || out_FcbAcquired_3 == in_FcbAcquired_3;
  free ensures {:va_keep} out_sdv_1084 == in_sdv_1084;
  free ensures {:va_keep} out_sdv_1085 == in_sdv_1085;
  free ensures {:va_keep} out_DiskSpaceAllocated == 0 || out_DiskSpaceAllocated == in_DiskSpaceAllocated;
  free ensures {:va_keep} out_vslice_dummy_var_308 == 258 || out_vslice_dummy_var_308 == 0 || out_vslice_dummy_var_308 == in_vslice_dummy_var_308;
  free ensures {:va_keep} out_vslice_dummy_var_309 == 258 || out_vslice_dummy_var_309 == 0 || out_vslice_dummy_var_309 == in_vslice_dummy_var_309;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatGetRetrievalPointers_loop_L136(in_Tmp_1817: int, in_Tmp_1818: int, in_sdv_1100: int, in_Tmp_1821: int, in_OutputBuffer_3: int, in_RunCount: int, in_Tmp_1826: int, in_OutputBufferLength_3: int, in_Vcb_65: int, in_Vcn: int, in_Run: int, in_Lbo_14: int, in_FcbOrDcb_9: int, in_ByteLength: int, in_Index_5: int, in_StartingRun: int, in_boogieTmp: int) returns (out_Tmp_1817: int, out_Tmp_1818: int, out_sdv_1100: int, out_Tmp_1821: int, out_Tmp_1826: int, out_Run: int, out_Index_5: int, out_boogieTmp: int)
{
  var vslice_dummy_var_609: int;
  var vslice_dummy_var_610: int;
  var vslice_dummy_var_611: int;
  var vslice_dummy_var_612: int;

  entry:
    out_Tmp_1817, out_Tmp_1818, out_sdv_1100, out_Tmp_1821, out_Tmp_1826, out_Run, out_Index_5, out_boogieTmp := in_Tmp_1817, in_Tmp_1818, in_sdv_1100, in_Tmp_1821, in_Tmp_1826, in_Run, in_Index_5, in_boogieTmp;
    goto L136, exit;

  exit:
    return;

  L136:
    goto anon49_Else;

  anon49_Else:
    assume {:partition} in_RunCount > out_Run;
    goto anon57_Then;

  anon57_Then:
    assume {:partition} true;
    assume {:nonnull} in_FcbOrDcb_9 != 0;
    assume in_FcbOrDcb_9 > 0;
    assume {:nonnull} in_Vcb_65 != 0;
    assume in_Vcb_65 > 0;
    havoc vslice_dummy_var_611;
    havoc vslice_dummy_var_612;
    call {:si_unique_call 4807} out_sdv_1100 := FatGetNextMcbEntry(vslice_dummy_var_611, vslice_dummy_var_612, out_Run, in_Vcn, in_Lbo_14, in_ByteLength);
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} out_sdv_1100 != 0;
    goto L153;

  L153:
    out_Tmp_1817 := out_Index_5;
    assume {:nonnull} in_OutputBuffer_3 != 0;
    assume in_OutputBuffer_3 > 0;
    havoc out_Tmp_1826;
    assume {:nonnull} out_Tmp_1826 != 0;
    assume out_Tmp_1826 > 0;
    call {:si_unique_call 4804} out_boogieTmp := corral_nondet();
    out_Tmp_1818 := out_Index_5;
    assume {:nonnull} in_OutputBuffer_3 != 0;
    assume in_OutputBuffer_3 > 0;
    havoc out_Tmp_1821;
    assume {:nonnull} out_Tmp_1821 != 0;
    assume out_Tmp_1821 > 0;
    call {:si_unique_call 4805} out_boogieTmp := corral_nondet();
    goto anon58_Then, anon58_Else;

  anon58_Else:
    assume {:partition} out_Index_5 != 0;
    goto L157;

  L157:
    out_Index_5 := out_Index_5 + 1;
    out_Run := out_Run + 1;
    goto L157_dummy;

  L157_dummy:
    call {:si_unique_call 4808} {:si_old_unique_call 1} out_Tmp_1817, out_Tmp_1818, out_sdv_1100, out_Tmp_1821, out_Tmp_1826, out_Run, out_Index_5, out_boogieTmp := FatGetRetrievalPointers_loop_L136(out_Tmp_1817, out_Tmp_1818, out_sdv_1100, out_Tmp_1821, in_OutputBuffer_3, in_RunCount, out_Tmp_1826, in_OutputBufferLength_3, in_Vcb_65, in_Vcn, out_Run, in_Lbo_14, in_FcbOrDcb_9, in_ByteLength, out_Index_5, in_StartingRun, out_boogieTmp);
    return;

  anon58_Then:
    assume {:partition} out_Index_5 == 0;
    assume {:nonnull} in_OutputBuffer_3 != 0;
    assume in_OutputBuffer_3 > 0;
    assume {:nonnull} in_StartingRun != 0;
    assume in_StartingRun > 0;
    assume {:nonnull} in_OutputBuffer_3 != 0;
    assume in_OutputBuffer_3 > 0;
    call {:si_unique_call 4803} out_boogieTmp := corral_nondet();
    goto L157;

  anon50_Then:
    assume {:partition} out_sdv_1100 == 0;
    assume {:nonnull} in_FcbOrDcb_9 != 0;
    assume in_FcbOrDcb_9 > 0;
    havoc vslice_dummy_var_609;
    havoc vslice_dummy_var_610;
    call {:si_unique_call 4806} KeBugCheckEx(35, 1250142, vslice_dummy_var_609, vslice_dummy_var_610, out_Run);
    goto L153;
}



procedure {:LoopProcedure} FatGetRetrievalPointers_loop_L136(in_Tmp_1817: int, in_Tmp_1818: int, in_sdv_1100: int, in_Tmp_1821: int, in_OutputBuffer_3: int, in_RunCount: int, in_Tmp_1826: int, in_OutputBufferLength_3: int, in_Vcb_65: int, in_Vcn: int, in_Run: int, in_Lbo_14: int, in_FcbOrDcb_9: int, in_ByteLength: int, in_Index_5: int, in_StartingRun: int, in_boogieTmp: int) returns (out_Tmp_1817: int, out_Tmp_1818: int, out_sdv_1100: int, out_Tmp_1821: int, out_Tmp_1826: int, out_Run: int, out_Index_5: int, out_boogieTmp: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSearchBufferForLabel_loop_L27(in_Tmp_1837: int, in_Tmp_1838: int, in_OemString: int, in_Dirent_19: int, in_Tmp_1841: int, in_Tmp_1843: int) returns (out_Tmp_1837: int, out_Tmp_1838: int, out_Tmp_1841: int, out_Tmp_1843: int)
{

  entry:
    out_Tmp_1837, out_Tmp_1838, out_Tmp_1841, out_Tmp_1843 := in_Tmp_1837, in_Tmp_1838, in_Tmp_1841, in_Tmp_1843;
    goto L27, exit;

  exit:
    return;

  L27:
    assume {:CounterLoop 11} true;
    assume {:nonnull} in_OemString != 0;
    assume in_OemString > 0;
    goto anon25_Else;

  anon25_Else:
    assume {:nonnull} in_OemString != 0;
    assume in_OemString > 0;
    havoc out_Tmp_1843;
    assume {:nonnull} in_Dirent_19 != 0;
    assume in_Dirent_19 > 0;
    havoc out_Tmp_1841;
    assume {:nonnull} out_Tmp_1841 != 0;
    assume out_Tmp_1841 > 0;
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_1841 + out_Tmp_1843 * 4] != 0;
    assume {:nonnull} in_OemString != 0;
    assume in_OemString > 0;
    havoc out_Tmp_1838;
    assume {:nonnull} in_Dirent_19 != 0;
    assume in_Dirent_19 > 0;
    havoc out_Tmp_1837;
    assume {:nonnull} out_Tmp_1837 != 0;
    assume out_Tmp_1837 > 0;
    goto anon31_Else;

  anon31_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_1837 + out_Tmp_1838 * 4] == 32;
    goto L30;

  L30:
    assume {:nonnull} in_OemString != 0;
    assume in_OemString > 0;
    goto L30_dummy;

  L30_dummy:
    call {:si_unique_call 4809} {:si_old_unique_call 1} out_Tmp_1837, out_Tmp_1838, out_Tmp_1841, out_Tmp_1843 := FatSearchBufferForLabel_loop_L27(out_Tmp_1837, out_Tmp_1838, in_OemString, in_Dirent_19, out_Tmp_1841, out_Tmp_1843);
    return;

  anon30_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_1841 + out_Tmp_1843 * 4] == 0;
    goto L30;
}



procedure {:LoopProcedure} FatSearchBufferForLabel_loop_L27(in_Tmp_1837: int, in_Tmp_1838: int, in_OemString: int, in_Dirent_19: int, in_Tmp_1841: int, in_Tmp_1843: int) returns (out_Tmp_1837: int, out_Tmp_1838: int, out_Tmp_1841: int, out_Tmp_1843: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSearchBufferForLabel_loop_L12(in_TerminationDirent: int, in_Dirent_19: int, in_Tmp_1839: int, in_Tmp_1842: int, in_Tmp_1845: int) returns (out_Tmp_1839: int, out_Tmp_1842: int, out_Tmp_1845: int)
{

  entry:
    out_Tmp_1839, out_Tmp_1842, out_Tmp_1845 := in_Tmp_1839, in_Tmp_1842, in_Tmp_1845;
    goto L12, exit;

  exit:
    return;

  L12:
    goto anon23_Else;

  anon23_Else:
    assume {:partition} in_TerminationDirent > in_Dirent_19;
    assume {:nonnull} in_Dirent_19 != 0;
    assume in_Dirent_19 > 0;
    havoc out_Tmp_1839;
    assume {:nonnull} out_Tmp_1839 != 0;
    assume out_Tmp_1839 > 0;
    goto anon27_Else;

  anon27_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_1839] != 0;
    assume {:nonnull} in_Dirent_19 != 0;
    assume in_Dirent_19 > 0;
    havoc out_Tmp_1842;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} out_Tmp_1842 == 8;
    assume {:nonnull} in_Dirent_19 != 0;
    assume in_Dirent_19 > 0;
    havoc out_Tmp_1845;
    assume {:nonnull} out_Tmp_1845 != 0;
    assume out_Tmp_1845 > 0;
    goto anon29_Else;

  anon29_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_1845] == 229;
    goto L18;

  L18:
    goto L18_dummy;

  L18_dummy:
    call {:si_unique_call 4810} {:si_old_unique_call 1} out_Tmp_1839, out_Tmp_1842, out_Tmp_1845 := FatSearchBufferForLabel_loop_L12(in_TerminationDirent, in_Dirent_19, out_Tmp_1839, out_Tmp_1842, out_Tmp_1845);
    return;

  anon28_Then:
    assume {:partition} out_Tmp_1842 != 8;
    goto L18;
}



procedure {:LoopProcedure} FatSearchBufferForLabel_loop_L12(in_TerminationDirent: int, in_Dirent_19: int, in_Tmp_1839: int, in_Tmp_1842: int, in_Tmp_1845: int) returns (out_Tmp_1839: int, out_Tmp_1842: int, out_Tmp_1845: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMountVolume_loop_L265(in_OemString_1: int, in_Dirent_20: int, in_Tmp_1903: int, in_Tmp_1915: int, in_Tmp_1940: int, in_Tmp_1942: int) returns (out_Tmp_1903: int, out_Tmp_1915: int, out_Tmp_1940: int, out_Tmp_1942: int)
{

  entry:
    out_Tmp_1903, out_Tmp_1915, out_Tmp_1940, out_Tmp_1942 := in_Tmp_1903, in_Tmp_1915, in_Tmp_1940, in_Tmp_1942;
    goto L265, exit;

  exit:
    return;

  L265:
    assume {:CounterLoop 11} true;
    assume {:nonnull} in_OemString_1 != 0;
    assume in_OemString_1 > 0;
    goto anon150_Else;

  anon150_Else:
    assume {:nonnull} in_OemString_1 != 0;
    assume in_OemString_1 > 0;
    havoc out_Tmp_1940;
    assume {:nonnull} in_Dirent_20 != 0;
    assume in_Dirent_20 > 0;
    havoc out_Tmp_1942;
    assume {:nonnull} out_Tmp_1942 != 0;
    assume out_Tmp_1942 > 0;
    goto anon172_Then, anon172_Else;

  anon172_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_1942 + out_Tmp_1940 * 4] != 0;
    assume {:nonnull} in_OemString_1 != 0;
    assume in_OemString_1 > 0;
    havoc out_Tmp_1915;
    assume {:nonnull} in_Dirent_20 != 0;
    assume in_Dirent_20 > 0;
    havoc out_Tmp_1903;
    assume {:nonnull} out_Tmp_1903 != 0;
    assume out_Tmp_1903 > 0;
    goto anon173_Else;

  anon173_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_1903 + out_Tmp_1915 * 4] == 32;
    goto L268;

  L268:
    assume {:nonnull} in_OemString_1 != 0;
    assume in_OemString_1 > 0;
    goto L268_dummy;

  L268_dummy:
    call {:si_unique_call 4811} {:si_old_unique_call 1} out_Tmp_1903, out_Tmp_1915, out_Tmp_1940, out_Tmp_1942 := FatMountVolume_loop_L265(in_OemString_1, in_Dirent_20, out_Tmp_1903, out_Tmp_1915, out_Tmp_1940, out_Tmp_1942);
    return;

  anon172_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_1942 + out_Tmp_1940 * 4] == 0;
    goto L268;
}



procedure {:LoopProcedure} FatMountVolume_loop_L265(in_OemString_1: int, in_Dirent_20: int, in_Tmp_1903: int, in_Tmp_1915: int, in_Tmp_1940: int, in_Tmp_1942: int) returns (out_Tmp_1903: int, out_Tmp_1915: int, out_Tmp_1940: int, out_Tmp_1942: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMountVolume_loop_L281(in_Links_4: int, in_sdv_1133: int, in_OldVcb: int, in_RealDevice_3: int, in_OldVpb_1: int, in_Vcb_66: int, in_sdv_1151: int, in_sdv_1158: int, in_Vpb_3: int) returns (out_Links_4: int, out_OldVcb: int, out_OldVpb_1: int, out_sdv_1151: int)
{

  entry:
    out_Links_4, out_OldVcb, out_OldVpb_1, out_sdv_1151 := in_Links_4, in_OldVcb, in_OldVpb_1, in_sdv_1151;
    goto L281, exit;

  exit:
    return;

  L281:
    goto anon152_Else;

  anon152_Else:
    call {:si_unique_call 4812} out_sdv_1151 := sdv_containing_record(out_Links_4, 64);
    out_OldVcb := out_sdv_1151;
    assume {:nonnull} out_OldVcb != 0;
    assume out_OldVcb > 0;
    havoc out_OldVpb_1;
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:partition} out_OldVpb_1 == in_Vpb_3;
    goto L291;

  L291:
    assume {:nonnull} out_Links_4 != 0;
    assume out_Links_4 > 0;
    havoc out_Links_4;
    goto L291_dummy;

  L291_dummy:
    call {:si_unique_call 4813} {:si_old_unique_call 1} out_Links_4, out_OldVcb, out_OldVpb_1, out_sdv_1151 := FatMountVolume_loop_L281(out_Links_4, in_sdv_1133, out_OldVcb, in_RealDevice_3, out_OldVpb_1, in_Vcb_66, out_sdv_1151, in_sdv_1158, in_Vpb_3);
    return;

  anon174_Then:
    assume {:partition} out_OldVpb_1 != in_Vpb_3;
    assume {:nonnull} out_OldVpb_1 != 0;
    assume out_OldVpb_1 > 0;
    assume {:nonnull} in_Vpb_3 != 0;
    assume in_Vpb_3 > 0;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:nonnull} out_OldVcb != 0;
    assume out_OldVcb > 0;
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:nonnull} out_OldVpb_1 != 0;
    assume out_OldVpb_1 > 0;
    goto anon156_Then, anon156_Else;

  anon156_Else:
    assume {:nonnull} out_OldVpb_1 != 0;
    assume out_OldVpb_1 > 0;
    assume {:nonnull} in_Vpb_3 != 0;
    assume in_Vpb_3 > 0;
    goto anon157_Then, anon157_Else;

  anon157_Else:
    assume {:nonnull} in_Vpb_3 != 0;
    assume in_Vpb_3 > 0;
    assume {:nonnull} out_OldVpb_1 != 0;
    assume out_OldVpb_1 > 0;
    goto anon175_Then, anon175_Else;

  anon175_Else:
    assume {:partition} in_sdv_1133 == 0;
    assume {:nonnull} in_Vcb_66 != 0;
    assume in_Vcb_66 > 0;
    goto anon176_Then;

  anon176_Then:
    assume {:partition} in_sdv_1158 != 0;
    goto L291;

  anon175_Then:
    assume {:partition} in_sdv_1133 != 0;
    goto L291;

  anon157_Then:
    goto L291;

  anon156_Then:
    goto L291;

  anon155_Then:
    goto L291;

  anon154_Then:
    goto L291;
}



procedure {:LoopProcedure} FatMountVolume_loop_L281(in_Links_4: int, in_sdv_1133: int, in_OldVcb: int, in_RealDevice_3: int, in_OldVpb_1: int, in_Vcb_66: int, in_sdv_1151: int, in_sdv_1158: int, in_Vpb_3: int) returns (out_Links_4: int, out_OldVcb: int, out_OldVpb_1: int, out_sdv_1151: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatVerifyVolume_loop_L144(in_Vcb_67: int, in_Fcb_42: int, in_IrpContext_108: int) returns (out_Fcb_42: int)
{
  var vslice_dummy_var_613: int;

  entry:
    out_Fcb_42 := in_Fcb_42;
    goto L144, exit;

  exit:
    return;

  L144:
    assume {:nonnull} in_Vcb_67 != 0;
    assume in_Vcb_67 > 0;
    havoc vslice_dummy_var_613;
    call {:si_unique_call 4814} out_Fcb_42 := FatGetNextFcbBottomUp(in_IrpContext_108, out_Fcb_42, vslice_dummy_var_613);
    goto anon124_Else;

  anon124_Else:
    assume {:partition} out_Fcb_42 != 0;
    call {:si_unique_call 4815} ExReleaseResourceLite(0);
    goto anon124_Else_dummy;

  anon124_Else_dummy:
    call {:si_unique_call 4816} {:si_old_unique_call 1} out_Fcb_42 := FatVerifyVolume_loop_L144(in_Vcb_67, out_Fcb_42, in_IrpContext_108);
    return;
}



procedure {:LoopProcedure} FatVerifyVolume_loop_L144(in_Vcb_67: int, in_Fcb_42: int, in_IrpContext_108: int) returns (out_Fcb_42: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatVerifyVolume_loop_L172(in_Fcb_41: int, in_Vcb_67: int, in_IrpContext_108: int, in_vslice_dummy_var_333: int) returns (out_Fcb_41: int, out_vslice_dummy_var_333: int)
{
  var vslice_dummy_var_614: int;

  entry:
    out_Fcb_41, out_vslice_dummy_var_333 := in_Fcb_41, in_vslice_dummy_var_333;
    goto L172, exit;

  exit:
    return;

  L172:
    assume {:nonnull} in_Vcb_67 != 0;
    assume in_Vcb_67 > 0;
    havoc vslice_dummy_var_614;
    call {:si_unique_call 4817} out_Fcb_41 := FatGetNextFcbBottomUp(in_IrpContext_108, out_Fcb_41, vslice_dummy_var_614);
    goto anon127_Else;

  anon127_Else:
    assume {:partition} out_Fcb_41 != 0;
    call {:si_unique_call 4818} out_vslice_dummy_var_333 := FatAcquireExclusiveFcb(in_IrpContext_108, out_Fcb_41);
    goto anon161_Else;

  anon161_Else:
    assume {:partition} yogi_error != 1;
    goto anon161_Else_dummy;

  anon161_Else_dummy:
    call {:si_unique_call 4819} {:si_old_unique_call 1} out_Fcb_41, out_vslice_dummy_var_333 := FatVerifyVolume_loop_L172(out_Fcb_41, in_Vcb_67, in_IrpContext_108, out_vslice_dummy_var_333);
    return;
}



procedure {:LoopProcedure} FatVerifyVolume_loop_L172(in_Fcb_41: int, in_Vcb_67: int, in_IrpContext_108: int, in_vslice_dummy_var_333: int) returns (out_Fcb_41: int, out_vslice_dummy_var_333: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatVerifyVolume_loop_L197(in_Vcb_67: int, in_Fcb_43: int, in_IrpContext_108: int, in_vslice_dummy_var_335: int) returns (out_Fcb_43: int, out_vslice_dummy_var_335: int)
{
  var vslice_dummy_var_615: int;

  entry:
    out_Fcb_43, out_vslice_dummy_var_335 := in_Fcb_43, in_vslice_dummy_var_335;
    goto L197, exit;

  exit:
    return;

  L197:
    assume {:nonnull} in_Vcb_67 != 0;
    assume in_Vcb_67 > 0;
    havoc vslice_dummy_var_615;
    call {:si_unique_call 4820} out_Fcb_43 := FatGetNextFcbBottomUp(in_IrpContext_108, out_Fcb_43, vslice_dummy_var_615);
    goto anon128_Else;

  anon128_Else:
    assume {:partition} out_Fcb_43 != 0;
    call {:si_unique_call 4821} out_vslice_dummy_var_335 := FatAcquireExclusiveFcb(in_IrpContext_108, out_Fcb_43);
    goto anon164_Else;

  anon164_Else:
    assume {:partition} yogi_error != 1;
    goto anon164_Else_dummy;

  anon164_Else_dummy:
    call {:si_unique_call 4822} {:si_old_unique_call 1} out_Fcb_43, out_vslice_dummy_var_335 := FatVerifyVolume_loop_L197(in_Vcb_67, out_Fcb_43, in_IrpContext_108, out_vslice_dummy_var_335);
    return;
}



procedure {:LoopProcedure} FatVerifyVolume_loop_L197(in_Vcb_67: int, in_Fcb_43: int, in_IrpContext_108: int, in_vslice_dummy_var_335: int) returns (out_Fcb_43: int, out_vslice_dummy_var_335: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatVerifyVolume_loop_L323(in_Vpb_4: int, in_sdv_1162: int, in_RootDirectory: int, in_RootDirectorySize: int, in_Status_36: int, in_sdv_1174: int, in_Vcb_67: int, in_RootDirectoryLbo: int, in_LabelFound_1: int, in_AllowRawMount: int, in_RootDirectoryCluster: int, in_IrpContext_108: int) returns (out_sdv_1162: int, out_Status_36: int, out_sdv_1174: int, out_RootDirectoryLbo: int)
{

  entry:
    out_sdv_1162, out_Status_36, out_sdv_1174, out_RootDirectoryLbo := in_sdv_1162, in_Status_36, in_sdv_1174, in_RootDirectoryLbo;
    goto L323, exit;

  exit:
    return;

  L323:
    assume {:nonnull} in_RootDirectoryCluster != 0;
    assume in_RootDirectoryCluster > 0;
    goto anon142_Else;

  anon142_Else:
    assume {:partition} Mem_T.INT4[in_RootDirectoryCluster] != 268435455;
    call {:si_unique_call 4827} out_RootDirectoryLbo := corral_nondet();
    call {:si_unique_call 4828} out_sdv_1162 := FatPerformVerifyDiskRead(in_IrpContext_108, in_Vcb_67, in_RootDirectory, out_RootDirectoryLbo, in_RootDirectorySize, in_AllowRawMount);
    goto anon144_Else;

  anon144_Else:
    assume {:partition} out_sdv_1162 != 0;
    call {:si_unique_call 4826} out_Status_36 := FatSearchBufferForLabel(in_IrpContext_108, in_Vpb_4, in_RootDirectory, in_RootDirectorySize, in_LabelFound_1);
    goto anon145_Else;

  anon145_Else:
    assume {:partition} out_Status_36 >= 0;
    assume {:nonnull} in_LabelFound_1 != 0;
    assume in_LabelFound_1 > 0;
    goto anon146_Else;

  anon146_Else:
    assume {:partition} Mem_T.INT4[in_LabelFound_1] == 0;
    assume {:nonnull} in_RootDirectoryCluster != 0;
    assume in_RootDirectoryCluster > 0;
    call {:si_unique_call 4824} FatVerifyLookupFatEntry(in_IrpContext_108, in_Vcb_67, Mem_T.INT4[in_RootDirectoryCluster], in_RootDirectoryCluster);
    assume {:nonnull} in_RootDirectoryCluster != 0;
    assume in_RootDirectoryCluster > 0;
    call {:si_unique_call 4825} out_sdv_1174 := FatInterpretClusterType(in_Vcb_67, Mem_T.INT4[in_RootDirectoryCluster]);
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} out_sdv_1174 != 0;
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} out_sdv_1174 != 1;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} out_sdv_1174 == 2;
    goto L347;

  L347:
    assume {:nonnull} in_IrpContext_108 != 0;
    assume in_IrpContext_108 > 0;
    call {:si_unique_call 4823} ExRaiseStatus(-1073741566);
    goto L347_dummy;

  L347_dummy:
    goto L_BAF_7;

  L_BAF_7:
    call {:si_unique_call 4829} {:si_old_unique_call 1} out_sdv_1162, out_Status_36, out_sdv_1174, out_RootDirectoryLbo := FatVerifyVolume_loop_L323(in_Vpb_4, out_sdv_1162, in_RootDirectory, in_RootDirectorySize, out_Status_36, out_sdv_1174, in_Vcb_67, out_RootDirectoryLbo, in_LabelFound_1, in_AllowRawMount, in_RootDirectoryCluster, in_IrpContext_108);
    return;

  anon149_Then:
    assume {:partition} out_sdv_1174 != 2;
    goto anon149_Then_dummy;

  anon149_Then_dummy:
    goto L_BAF_7;

  anon150_Then:
    assume {:partition} out_sdv_1174 == 1;
    goto L347;

  anon147_Then:
    assume {:partition} out_sdv_1174 == 0;
    goto L347;
}



procedure {:LoopProcedure} FatVerifyVolume_loop_L323(in_Vpb_4: int, in_sdv_1162: int, in_RootDirectory: int, in_RootDirectorySize: int, in_Status_36: int, in_sdv_1174: int, in_Vcb_67: int, in_RootDirectoryLbo: int, in_LabelFound_1: int, in_AllowRawMount: int, in_RootDirectoryCluster: int, in_IrpContext_108: int) returns (out_sdv_1162: int, out_Status_36: int, out_sdv_1174: int, out_RootDirectoryLbo: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_sdv_1162 == 0 || out_sdv_1162 == 1 || out_sdv_1162 == in_sdv_1162;
  free ensures {:va_keep} out_Status_36 == 0 || out_Status_36 == -1073741806 || out_Status_36 == -1073741675 || out_Status_36 == in_Status_36;
  free ensures {:va_keep} out_sdv_1174 == 4 || out_sdv_1174 == 1 || out_sdv_1174 == 2 || out_sdv_1174 == 3 || out_sdv_1174 == 0 || out_sdv_1174 == in_sdv_1174;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatInvalidateVolumes_loop_L54(in_Links_5: int, in_ExistingVcb: int, in_DeviceToMarkBad: int, in_NewVpb: int, in_sdv_1211: int, in_OldIrql: int, in_Tmp_2027: int, in_IrpContext_111: int, in_Tmp_2029: int, in_Tmp_2031: int, in_Tmp_2032: int, in_vslice_dummy_var_343: int) returns (out_Links_5: int, out_ExistingVcb: int, out_NewVpb: int, out_sdv_1211: int, out_OldIrql: int, out_Tmp_2027: int, out_Tmp_2029: int, out_Tmp_2031: int, out_Tmp_2032: int, out_vslice_dummy_var_343: int)
{
  var vslice_dummy_var_616: int;
  var vslice_dummy_var_617: int;

  entry:
    out_Links_5, out_ExistingVcb, out_NewVpb, out_sdv_1211, out_OldIrql, out_Tmp_2027, out_Tmp_2029, out_Tmp_2031, out_Tmp_2032, out_vslice_dummy_var_343 := in_Links_5, in_ExistingVcb, in_NewVpb, in_sdv_1211, in_OldIrql, in_Tmp_2027, in_Tmp_2029, in_Tmp_2031, in_Tmp_2032, in_vslice_dummy_var_343;
    goto L54, exit;

  exit:
    return;

  L54:
    goto anon28_Else;

  anon28_Else:
    call {:si_unique_call 4833} out_sdv_1211 := sdv_containing_record(out_Links_5, 64);
    out_ExistingVcb := out_sdv_1211;
    assume {:nonnull} out_Links_5 != 0;
    assume out_Links_5 > 0;
    havoc out_Links_5;
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    havoc out_Tmp_2032;
    assume {:nonnull} out_Tmp_2032 != 0;
    assume out_Tmp_2032 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    call {:si_unique_call 4832} out_vslice_dummy_var_343 := FatAcquireExclusiveVcb(in_IrpContext_111, out_ExistingVcb);
    goto anon33_Else;

  anon33_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} in_DeviceToMarkBad != 0;
    assume in_DeviceToMarkBad > 0;
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    call {:si_unique_call 4835} out_Tmp_2027 := __HAVOC_malloc(4);
    assume {:nonnull} out_Tmp_2027 != 0;
    assume out_Tmp_2027 > 0;
    Mem_T.INT4[out_Tmp_2027] := out_OldIrql;
    call {:si_unique_call 4836} IoAcquireVpbSpinLock(out_Tmp_2027);
    assume {:nonnull} out_Tmp_2027 != 0;
    assume out_Tmp_2027 > 0;
    out_OldIrql := Mem_T.INT4[out_Tmp_2027];
    assume {:nonnull} in_DeviceToMarkBad != 0;
    assume in_DeviceToMarkBad > 0;
    havoc out_Tmp_2029;
    assume {:nonnull} out_Tmp_2029 != 0;
    assume out_Tmp_2029 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    havoc out_NewVpb;
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    call {:si_unique_call 4834} sdv_RtlZeroMemory(0, 88);
    assume {:nonnull} out_NewVpb != 0;
    assume out_NewVpb > 0;
    assume {:nonnull} out_NewVpb != 0;
    assume out_NewVpb > 0;
    assume {:nonnull} out_NewVpb != 0;
    assume out_NewVpb > 0;
    assume {:nonnull} in_DeviceToMarkBad != 0;
    assume in_DeviceToMarkBad > 0;
    havoc out_Tmp_2031;
    assume {:nonnull} out_NewVpb != 0;
    assume out_NewVpb > 0;
    assume {:nonnull} out_Tmp_2031 != 0;
    assume out_Tmp_2031 > 0;
    assume {:nonnull} in_DeviceToMarkBad != 0;
    assume in_DeviceToMarkBad > 0;
    goto L75;

  L75:
    call {:si_unique_call 4831} IoReleaseVpbSpinLock(out_OldIrql);
    goto L69;

  L69:
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    havoc vslice_dummy_var_616;
    call {:si_unique_call 4837} FatMarkFcbCondition(in_IrpContext_111, vslice_dummy_var_616, 2, 1);
    assume {:nonnull} out_ExistingVcb != 0;
    assume out_ExistingVcb > 0;
    havoc vslice_dummy_var_617;
    call {:si_unique_call 4838} FatPurgeReferencedFileObjects(in_IrpContext_111, vslice_dummy_var_617, 0);
    goto anon36_Else;

  anon36_Else:
    assume {:partition} yogi_error != 1;
    goto L91;

  L91:
    call {:si_unique_call 4830} ExReleaseResourceLite(0);
    goto L91_dummy;

  L91_dummy:
    goto L_BAF_8;

  L_BAF_8:
    call {:si_unique_call 4839} {:si_old_unique_call 1} out_Links_5, out_ExistingVcb, out_NewVpb, out_sdv_1211, out_OldIrql, out_Tmp_2027, out_Tmp_2029, out_Tmp_2031, out_Tmp_2032, out_vslice_dummy_var_343 := FatInvalidateVolumes_loop_L54(out_Links_5, out_ExistingVcb, in_DeviceToMarkBad, out_NewVpb, out_sdv_1211, out_OldIrql, out_Tmp_2027, in_IrpContext_111, out_Tmp_2029, out_Tmp_2031, out_Tmp_2032, out_vslice_dummy_var_343);
    return;

  anon35_Then:
    goto L91;

  anon34_Then:
    goto L75;

  anon29_Then:
    goto L69;

  anon32_Then:
    goto anon32_Then_dummy;

  anon32_Then_dummy:
    goto L_BAF_8;
}



procedure {:LoopProcedure} FatInvalidateVolumes_loop_L54(in_Links_5: int, in_ExistingVcb: int, in_DeviceToMarkBad: int, in_NewVpb: int, in_sdv_1211: int, in_OldIrql: int, in_Tmp_2027: int, in_IrpContext_111: int, in_Tmp_2029: int, in_Tmp_2031: int, in_Tmp_2032: int, in_vslice_dummy_var_343: int) returns (out_Links_5: int, out_ExistingVcb: int, out_NewVpb: int, out_sdv_1211: int, out_OldIrql: int, out_Tmp_2027: int, out_Tmp_2029: int, out_Tmp_2031: int, out_Tmp_2032: int, out_vslice_dummy_var_343: int);
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatScanForDismountedVcb_loop_L15(in_Links_6: int, in_sdv_1219: int, in_sdv_1220: int, in_Vcb_71: int, in_VcbDeleted_1: int, in_IrpContext_113: int) returns (out_Links_6: int, out_sdv_1219: int, out_sdv_1220: int, out_Vcb_71: int, out_VcbDeleted_1: int)
{

  entry:
    out_Links_6, out_sdv_1219, out_sdv_1220, out_Vcb_71, out_VcbDeleted_1 := in_Links_6, in_sdv_1219, in_sdv_1220, in_Vcb_71, in_VcbDeleted_1;
    goto L15, exit;

  exit:
    return;

  L15:
    goto anon15_Else;

  anon15_Else:
    call {:si_unique_call 4842} out_sdv_1219 := sdv_containing_record(out_Links_6, 64);
    out_Vcb_71 := out_sdv_1219;
    assume {:nonnull} out_Links_6 != 0;
    assume out_Links_6 > 0;
    havoc out_Links_6;
    call {:si_unique_call 4843} out_sdv_1220 := ExAcquireResourceExclusiveLite(0, 0);
    goto anon20_Else;

  anon20_Else:
    assume {:partition} yogi_error != 1;
    goto anon16_Then, anon16_Else;

  anon16_Else:
    assume {:partition} out_sdv_1220 != 0;
    call {:si_unique_call 4841} out_VcbDeleted_1 := FatCheckForDismount#1(in_IrpContext_113, out_Vcb_71, 0);
    goto anon21_Else;

  anon21_Else:
    assume {:partition} yogi_error != 1;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} out_VcbDeleted_1 == 0;
    call {:si_unique_call 4840} ExReleaseResourceLite(0);
    goto anon17_Else_dummy;

  anon17_Else_dummy:
    goto L_BAF_9;

  L_BAF_9:
    call {:si_unique_call 4844} {:si_old_unique_call 1} out_Links_6, out_sdv_1219, out_sdv_1220, out_Vcb_71, out_VcbDeleted_1 := FatScanForDismountedVcb_loop_L15(out_Links_6, out_sdv_1219, out_sdv_1220, out_Vcb_71, out_VcbDeleted_1, in_IrpContext_113);
    return;

  anon17_Then:
    assume {:partition} out_VcbDeleted_1 != 0;
    goto anon17_Then_dummy;

  anon17_Then_dummy:
    goto L_BAF_9;

  anon16_Then:
    assume {:partition} out_sdv_1220 == 0;
    goto anon16_Then_dummy;

  anon16_Then_dummy:
    goto L_BAF_9;
}



procedure {:LoopProcedure} FatScanForDismountedVcb_loop_L15(in_Links_6: int, in_sdv_1219: int, in_sdv_1220: int, in_Vcb_71: int, in_VcbDeleted_1: int, in_IrpContext_113: int) returns (out_Links_6: int, out_sdv_1219: int, out_sdv_1220: int, out_Vcb_71: int, out_VcbDeleted_1: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatFlushDirectory_loop_L106(in_ReturnStatus: int, in_NextFcb_3: int, in_Fcb_49: int, in_Status_46: int, in_Tmp_2105: int, in_IrpContext_129: int, in_Dcb_11: int, in_FlushType_3: int) returns (out_ReturnStatus: int, out_NextFcb_3: int, out_Fcb_49: int, out_Status_46: int, out_Tmp_2105: int)
{

  entry:
    out_ReturnStatus, out_NextFcb_3, out_Fcb_49, out_Status_46, out_Tmp_2105 := in_ReturnStatus, in_NextFcb_3, in_Fcb_49, in_Status_46, in_Tmp_2105;
    goto L106, exit;

  exit:
    return;

  L106:
    goto anon66_Else;

  anon66_Else:
    assume {:partition} out_Fcb_49 != 0;
    call {:si_unique_call 4845} out_NextFcb_3 := FatGetNextFcbTopDown(in_IrpContext_129, out_Fcb_49, in_Dcb_11);
    out_Tmp_2105 := out_Fcb_49;
    assume {:nonnull} out_Tmp_2105 != 0;
    assume out_Tmp_2105 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2105] != 1282;
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    goto L117;

  L117:
    call {:si_unique_call 4846} FatVerifyFcb(in_IrpContext_129, out_Fcb_49);
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    call {:si_unique_call 4847} out_Status_46 := FatFlushFile(in_IrpContext_129, out_Fcb_49, in_FlushType_3);
    goto anon78_Else;

  anon78_Else:
    assume {:partition} yogi_error != 1;
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} out_Status_46 < 0;
    out_ReturnStatus := out_Status_46;
    goto L115;

  L115:
    out_Fcb_49 := out_NextFcb_3;
    goto L115_dummy;

  L115_dummy:
    call {:si_unique_call 4848} {:si_old_unique_call 1} out_ReturnStatus, out_NextFcb_3, out_Fcb_49, out_Status_46, out_Tmp_2105 := FatFlushDirectory_loop_L106(out_ReturnStatus, out_NextFcb_3, out_Fcb_49, out_Status_46, out_Tmp_2105, in_IrpContext_129, in_Dcb_11, in_FlushType_3);
    return;

  anon70_Then:
    assume {:partition} 0 <= out_Status_46;
    goto L115;

  anon69_Then:
    goto L115;

  anon68_Then:
    goto L115;

  anon67_Then:
    goto L117;

  anon77_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2105] == 1282;
    goto L115;
}



procedure {:LoopProcedure} FatFlushDirectory_loop_L106(in_ReturnStatus: int, in_NextFcb_3: int, in_Fcb_49: int, in_Status_46: int, in_Tmp_2105: int, in_IrpContext_129: int, in_Dcb_11: int, in_FlushType_3: int) returns (out_ReturnStatus: int, out_NextFcb_3: int, out_Fcb_49: int, out_Status_46: int, out_Tmp_2105: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_current == old(sdv_irql_current);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatFlushDirectory_loop_L25(in_ReturnStatus: int, in_NextFcb_3: int, in_Fcb_49: int, in_Dirent_21: int, in_Status_46: int, in_DirentBcb_11: int, in_Tmp_2104: int, in_Vcb_82: int, in_IrpContext_129: int, in_Dcb_11: int, in_FlushType_3: int, in_vslice_dummy_var_373: int) returns (out_ReturnStatus: int, out_NextFcb_3: int, out_Fcb_49: int, out_Status_46: int, out_Tmp_2104: int, out_vslice_dummy_var_373: int)
{
  var vslice_dummy_var_618: int;

  entry:
    out_ReturnStatus, out_NextFcb_3, out_Fcb_49, out_Status_46, out_Tmp_2104, out_vslice_dummy_var_373 := in_ReturnStatus, in_NextFcb_3, in_Fcb_49, in_Status_46, in_Tmp_2104, in_vslice_dummy_var_373;
    goto L25, exit;

  exit:
    return;

  L25:
    goto anon55_Else;

  anon55_Else:
    assume {:partition} out_Fcb_49 != 0;
    call {:si_unique_call 4850} out_NextFcb_3 := FatGetNextFcbTopDown(in_IrpContext_129, out_Fcb_49, in_Dcb_11);
    out_Tmp_2104 := out_Fcb_49;
    assume {:nonnull} out_Tmp_2104 != 0;
    assume out_Tmp_2104 > 0;
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2104] == 1282;
    assume {:nonnull} in_Vcb_82 != 0;
    assume in_Vcb_82 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L35;

  L35:
    call {:si_unique_call 4854} out_vslice_dummy_var_373 := FatAcquireExclusiveFcb(in_IrpContext_129, out_Fcb_49);
    goto anon74_Else;

  anon74_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} in_Vcb_82 != 0;
    assume in_Vcb_82 > 0;
    call {:si_unique_call 4853} FatVerifyFcb(in_IrpContext_129, out_Fcb_49);
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    goto L78;

  L78:
    assume {:nonnull} in_DirentBcb_11 != 0;
    assume in_DirentBcb_11 > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:nonnull} in_DirentBcb_11 != 0;
    assume in_DirentBcb_11 > 0;
    goto L79;

  L79:
    assume {:nonnull} in_Vcb_82 != 0;
    assume in_Vcb_82 > 0;
    goto anon62_Then, anon62_Else;

  anon62_Else:
    call {:si_unique_call 4849} ExReleaseResourceLite(0);
    goto L32;

  L32:
    out_Fcb_49 := out_NextFcb_3;
    goto L32_dummy;

  L32_dummy:
    call {:si_unique_call 4856} {:si_old_unique_call 1} out_ReturnStatus, out_NextFcb_3, out_Fcb_49, out_Status_46, out_Tmp_2104, out_vslice_dummy_var_373 := FatFlushDirectory_loop_L25(out_ReturnStatus, out_NextFcb_3, out_Fcb_49, in_Dirent_21, out_Status_46, in_DirentBcb_11, out_Tmp_2104, in_Vcb_82, in_IrpContext_129, in_Dcb_11, in_FlushType_3, out_vslice_dummy_var_373);
    return;

  anon62_Then:
    goto L32;

  anon61_Then:
    goto L79;

  anon59_Then:
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    havoc vslice_dummy_var_618;
    call {:si_unique_call 4855} FatTruncateFileAllocation(in_IrpContext_129, out_Fcb_49, vslice_dummy_var_618);
    goto anon75_Else;

  anon75_Else:
    assume {:partition} yogi_error != 1;
    goto L87;

  L87:
    call {:si_unique_call 4852} FatGetDirentFromFcbOrDcb(in_IrpContext_129, out_Fcb_49, in_Dirent_21, in_DirentBcb_11);
    assume {:nonnull} in_Dirent_21 != 0;
    assume in_Dirent_21 > 0;
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:nonnull} in_Dirent_21 != 0;
    assume in_Dirent_21 > 0;
    assume {:nonnull} out_Fcb_49 != 0;
    assume out_Fcb_49 > 0;
    goto L94;

  L94:
    assume {:nonnull} in_DirentBcb_11 != 0;
    assume in_DirentBcb_11 > 0;
    goto anon64_Then, anon64_Else;

  anon64_Else:
    assume {:nonnull} in_DirentBcb_11 != 0;
    assume in_DirentBcb_11 > 0;
    goto L96;

  L96:
    call {:si_unique_call 4851} out_Status_46 := FatFlushFile(in_IrpContext_129, out_Fcb_49, in_FlushType_3);
    goto anon76_Else;

  anon76_Else:
    assume {:partition} yogi_error != 1;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} out_Status_46 < 0;
    out_ReturnStatus := out_Status_46;
    goto L78;

  anon65_Then:
    assume {:partition} 0 <= out_Status_46;
    goto L78;

  anon64_Then:
    goto L96;

  anon63_Then:
    goto L94;

  anon60_Then:
    goto L87;

  anon58_Then:
    goto L32;

  anon57_Then:
    goto L35;

  anon56_Then:
    goto L32;

  anon73_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2104] != 1282;
    goto L32;
}



procedure {:LoopProcedure} FatFlushDirectory_loop_L25(in_ReturnStatus: int, in_NextFcb_3: int, in_Fcb_49: int, in_Dirent_21: int, in_Status_46: int, in_DirentBcb_11: int, in_Tmp_2104: int, in_Vcb_82: int, in_IrpContext_129: int, in_Dcb_11: int, in_FlushType_3: int, in_vslice_dummy_var_373: int) returns (out_ReturnStatus: int, out_NextFcb_3: int, out_Fcb_49: int, out_Status_46: int, out_Tmp_2104: int, out_vslice_dummy_var_373: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatFlushFat_loop_L40(in_ReturnStatus_2: int, in_Offset_3: int, in_Iosb_24: int, in_Page_3: int, in_sdv_1320: int, in_NumberOfPages_2: int) returns (out_ReturnStatus_2: int, out_Page_3: int, out_sdv_1320: int)
{

  entry:
    out_ReturnStatus_2, out_Page_3, out_sdv_1320 := in_ReturnStatus_2, in_Page_3, in_sdv_1320;
    goto L40, exit;

  exit:
    return;

  L40:
    goto anon24_Else;

  anon24_Else:
    assume {:partition} in_NumberOfPages_2 > out_Page_3;
    call {:si_unique_call 4857} out_sdv_1320 := corral_nondet();
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} out_sdv_1320 != 0;
    assume {:nonnull} in_Iosb_24 != 0;
    assume in_Iosb_24 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_24)] < 0;
    assume {:nonnull} in_Iosb_24 != 0;
    assume in_Iosb_24 > 0;
    out_ReturnStatus_2 := Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_24)];
    goto L54;

  L54:
    out_Page_3 := out_Page_3 + 1;
    assume {:nonnull} in_Offset_3 != 0;
    assume in_Offset_3 > 0;
    goto L54_dummy;

  L54_dummy:
    call {:si_unique_call 4858} {:si_old_unique_call 1} out_ReturnStatus_2, out_Page_3, out_sdv_1320 := FatFlushFat_loop_L40(out_ReturnStatus_2, in_Offset_3, in_Iosb_24, out_Page_3, out_sdv_1320, in_NumberOfPages_2);
    return;

  anon26_Then:
    assume {:partition} 0 <= Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_24)];
    goto L54;

  anon25_Then:
    assume {:partition} out_sdv_1320 == 0;
    goto L54;
}



procedure {:LoopProcedure} FatFlushFat_loop_L40(in_ReturnStatus_2: int, in_Offset_3: int, in_Iosb_24: int, in_Page_3: int, in_sdv_1320: int, in_NumberOfPages_2: int) returns (out_ReturnStatus_2: int, out_Page_3: int, out_sdv_1320: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonWrite_loop_L202(in_IoRuns_2: int, in_Tmp_2164: int, in_BytesPerFat: int, in_Tmp_2169: int, in_Vcb_87: int, in_WriteLength: int, in_Tmp_2186: int, in_Tmp_2191: int, in_StartingDirtyVbo: int, in_StartingVbo_7: int, in_Fat: int) returns (out_Tmp_2164: int, out_Tmp_2169: int, out_Tmp_2186: int, out_Tmp_2191: int, out_Fat: int)
{

  entry:
    out_Tmp_2164, out_Tmp_2169, out_Tmp_2186, out_Tmp_2191, out_Fat := in_Tmp_2164, in_Tmp_2169, in_Tmp_2186, in_Tmp_2191, in_Fat;
    goto L202, exit;

  exit:
    return;

  L202:
    assume {:nonnull} in_Vcb_87 != 0;
    assume in_Vcb_87 > 0;
    goto anon484_Else;

  anon484_Else:
    out_Tmp_2191 := out_Fat;
    assume {:nonnull} in_IoRuns_2 != 0;
    assume in_IoRuns_2 > 0;
    out_Tmp_2169 := out_Fat;
    assume {:nonnull} in_IoRuns_2 != 0;
    assume in_IoRuns_2 > 0;
    out_Tmp_2164 := out_Fat;
    assume {:nonnull} in_IoRuns_2 != 0;
    assume in_IoRuns_2 > 0;
    out_Tmp_2186 := out_Fat;
    assume {:nonnull} in_IoRuns_2 != 0;
    assume in_IoRuns_2 > 0;
    out_Fat := out_Fat + 1;
    goto anon484_Else_dummy;

  anon484_Else_dummy:
    call {:si_unique_call 4859} {:si_old_unique_call 1} out_Tmp_2164, out_Tmp_2169, out_Tmp_2186, out_Tmp_2191, out_Fat := FatCommonWrite_loop_L202(in_IoRuns_2, out_Tmp_2164, in_BytesPerFat, out_Tmp_2169, in_Vcb_87, in_WriteLength, out_Tmp_2186, out_Tmp_2191, in_StartingDirtyVbo, in_StartingVbo_7, out_Fat);
    return;
}



procedure {:LoopProcedure} FatCommonWrite_loop_L202(in_IoRuns_2: int, in_Tmp_2164: int, in_BytesPerFat: int, in_Tmp_2169: int, in_Vcb_87: int, in_WriteLength: int, in_Tmp_2186: int, in_Tmp_2191: int, in_StartingDirtyVbo: int, in_StartingVbo_7: int, in_Fat: int) returns (out_Tmp_2164: int, out_Tmp_2169: int, out_Tmp_2186: int, out_Tmp_2191: int, out_Fat: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:SIextraRecBound 2} FatCommonWrite_loop_L161(in_Tmp_2151: int, in_MoreDirtyRuns: int, in_DirtyLbo: int, in_sdv_1340: int, in_Vcb_87: int, in_DirtyVbo: int, in_CleanByteCount: int, in_StartingVbo_7: int, in_CleanLbo: int, in_DirtyByteCount: int, in_sdv_1388: int, in_ByteCount_20: int) returns (out_Tmp_2151: int, out_MoreDirtyRuns: int, out_sdv_1340: int, out_DirtyVbo: int, out_sdv_1388: int)
{
  var vslice_dummy_var_619: int;
  var vslice_dummy_var_620: int;
  var vslice_dummy_var_621: int;
  var vslice_dummy_var_622: int;

  entry:
    out_Tmp_2151, out_MoreDirtyRuns, out_sdv_1340, out_DirtyVbo, out_sdv_1388 := in_Tmp_2151, in_MoreDirtyRuns, in_sdv_1340, in_DirtyVbo, in_sdv_1388;
    goto L161, exit;

  exit:
    return;

  L161:
    goto anon480_Else;

  anon480_Else:
    assume {:partition} out_MoreDirtyRuns != 0;
    assume {:nonnull} in_Vcb_87 != 0;
    assume in_Vcb_87 > 0;
    havoc vslice_dummy_var_619;
    havoc vslice_dummy_var_620;
    call {:si_unique_call 4860} out_sdv_1340 := FatLookupMcbEntry(vslice_dummy_var_619, vslice_dummy_var_620, out_DirtyVbo, in_DirtyLbo, in_DirtyByteCount, 0);
    goto anon481_Then, anon481_Else;

  anon481_Else:
    assume {:partition} out_sdv_1340 != 0;
    assume {:nonnull} in_DirtyLbo != 0;
    assume in_DirtyLbo > 0;
    out_DirtyVbo := Mem_T.INT4[in_DirtyLbo];
    assume {:nonnull} in_DirtyByteCount != 0;
    assume in_DirtyByteCount > 0;
    goto anon622_Then, anon622_Else;

  anon622_Else:
    assume {:partition} out_DirtyVbo + Mem_T.INT4[in_DirtyByteCount] >= in_StartingVbo_7 + in_ByteCount_20;
    assume {:nonnull} in_DirtyByteCount != 0;
    assume in_DirtyByteCount > 0;
    Mem_T.INT4[in_DirtyByteCount] := in_StartingVbo_7 + in_ByteCount_20 - out_DirtyVbo;
    out_MoreDirtyRuns := 0;
    goto anon622_Else_dummy;

  anon622_Else_dummy:
    goto L_BAF_10;

  L_BAF_10:
    call {:si_unique_call 4863} {:si_old_unique_call 1} out_Tmp_2151, out_MoreDirtyRuns, out_sdv_1340, out_DirtyVbo, out_sdv_1388 := FatCommonWrite_loop_L161(out_Tmp_2151, out_MoreDirtyRuns, in_DirtyLbo, out_sdv_1340, in_Vcb_87, out_DirtyVbo, in_CleanByteCount, in_StartingVbo_7, in_CleanLbo, in_DirtyByteCount, out_sdv_1388, in_ByteCount_20);
    return;

  anon622_Then:
    assume {:partition} in_StartingVbo_7 + in_ByteCount_20 > out_DirtyVbo + Mem_T.INT4[in_DirtyByteCount];
    assume {:nonnull} in_DirtyByteCount != 0;
    assume in_DirtyByteCount > 0;
    out_Tmp_2151 := out_DirtyVbo + Mem_T.INT4[in_DirtyByteCount];
    assume {:nonnull} in_Vcb_87 != 0;
    assume in_Vcb_87 > 0;
    havoc vslice_dummy_var_621;
    havoc vslice_dummy_var_622;
    call {:si_unique_call 4861} out_sdv_1388 := FatLookupMcbEntry(vslice_dummy_var_621, vslice_dummy_var_622, out_Tmp_2151, in_CleanLbo, in_CleanByteCount, 0);
    goto anon482_Then, anon482_Else;

  anon482_Else:
    assume {:partition} out_sdv_1388 != 0;
    assume {:nonnull} in_CleanByteCount != 0;
    assume in_CleanByteCount > 0;
    assume {:nonnull} in_DirtyByteCount != 0;
    assume in_DirtyByteCount > 0;
    goto anon483_Then, anon483_Else;

  anon483_Else:
    assume {:partition} out_DirtyVbo + Mem_T.INT4[in_DirtyByteCount] + Mem_T.INT4[in_CleanByteCount] >= in_StartingVbo_7 + in_ByteCount_20;
    out_MoreDirtyRuns := 0;
    goto anon483_Else_dummy;

  anon483_Else_dummy:
    goto L_BAF_10;

  anon483_Then:
    assume {:partition} in_StartingVbo_7 + in_ByteCount_20 > out_DirtyVbo + Mem_T.INT4[in_DirtyByteCount] + Mem_T.INT4[in_CleanByteCount];
    assume {:nonnull} in_CleanByteCount != 0;
    assume in_CleanByteCount > 0;
    assume {:nonnull} in_DirtyByteCount != 0;
    assume in_DirtyByteCount > 0;
    out_DirtyVbo := out_DirtyVbo + Mem_T.INT4[in_DirtyByteCount] + Mem_T.INT4[in_CleanByteCount];
    goto anon483_Then_dummy;

  anon483_Then_dummy:
    goto L_BAF_10;

  anon482_Then:
    assume {:partition} out_sdv_1388 == 0;
    out_MoreDirtyRuns := 0;
    goto anon482_Then_dummy;

  anon482_Then_dummy:
    goto L_BAF_10;

  anon481_Then:
    assume {:partition} out_sdv_1340 == 0;
    assume {:nonnull} in_DirtyLbo != 0;
    assume in_DirtyLbo > 0;
    out_DirtyVbo := Mem_T.INT4[in_DirtyLbo];
    call {:si_unique_call 4862} KeBugCheckEx(35, 2163323, 0, 0, 0);
    goto anon481_Then_dummy;

  anon481_Then_dummy:
    goto L_BAF_10;
}



procedure {:LoopProcedure} FatCommonWrite_loop_L161(in_Tmp_2151: int, in_MoreDirtyRuns: int, in_DirtyLbo: int, in_sdv_1340: int, in_Vcb_87: int, in_DirtyVbo: int, in_CleanByteCount: int, in_StartingVbo_7: int, in_CleanLbo: int, in_DirtyByteCount: int, in_sdv_1388: int, in_ByteCount_20: int) returns (out_Tmp_2151: int, out_MoreDirtyRuns: int, out_sdv_1340: int, out_DirtyVbo: int, out_sdv_1388: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} out_MoreDirtyRuns == 0 || out_MoreDirtyRuns == in_MoreDirtyRuns;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonWrite_loop_L330(in_Fcb_52: int, in_Vcb_87: int, in_IrpContext_137: int) returns (out_Fcb_52: int)
{
  var vslice_dummy_var_623: int;

  entry:
    out_Fcb_52 := in_Fcb_52;
    goto L330, exit;

  exit:
    return;

  L330:
    assume {:nonnull} in_Vcb_87 != 0;
    assume in_Vcb_87 > 0;
    havoc vslice_dummy_var_623;
    call {:si_unique_call 4864} out_Fcb_52 := FatGetNextFcbBottomUp(in_IrpContext_137, out_Fcb_52, vslice_dummy_var_623);
    goto anon500_Else;

  anon500_Else:
    assume {:partition} out_Fcb_52 != 0;
    call {:si_unique_call 4865} ExReleaseResourceLite(0);
    goto anon500_Else_dummy;

  anon500_Else_dummy:
    call {:si_unique_call 4866} {:si_old_unique_call 1} out_Fcb_52 := FatCommonWrite_loop_L330(out_Fcb_52, in_Vcb_87, in_IrpContext_137);
    return;
}



procedure {:LoopProcedure} FatCommonWrite_loop_L330(in_Fcb_52: int, in_Vcb_87: int, in_IrpContext_137: int) returns (out_Fcb_52: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonWrite_loop_L316(in_Vcb_87: int, in_Fcb_53: int, in_IrpContext_137: int, in_vslice_dummy_var_381: int) returns (out_Fcb_53: int, out_vslice_dummy_var_381: int)
{
  var vslice_dummy_var_624: int;

  entry:
    out_Fcb_53, out_vslice_dummy_var_381 := in_Fcb_53, in_vslice_dummy_var_381;
    goto L316, exit;

  exit:
    return;

  L316:
    assume {:nonnull} in_Vcb_87 != 0;
    assume in_Vcb_87 > 0;
    havoc vslice_dummy_var_624;
    call {:si_unique_call 4867} out_Fcb_53 := FatGetNextFcbBottomUp(in_IrpContext_137, out_Fcb_53, vslice_dummy_var_624);
    goto anon498_Else;

  anon498_Else:
    assume {:partition} out_Fcb_53 != 0;
    call {:si_unique_call 4868} out_vslice_dummy_var_381 := FatAcquireExclusiveFcb(in_IrpContext_137, out_Fcb_53);
    goto anon631_Else;

  anon631_Else:
    assume {:partition} yogi_error != 1;
    goto anon631_Else_dummy;

  anon631_Else_dummy:
    call {:si_unique_call 4869} {:si_old_unique_call 1} out_Fcb_53, out_vslice_dummy_var_381 := FatCommonWrite_loop_L316(in_Vcb_87, out_Fcb_53, in_IrpContext_137, out_vslice_dummy_var_381);
    return;
}



procedure {:LoopProcedure} FatCommonWrite_loop_L316(in_Vcb_87: int, in_Fcb_53: int, in_IrpContext_137: int, in_vslice_dummy_var_381: int) returns (out_Fcb_53: int, out_vslice_dummy_var_381: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatStringTo8dot3_loop_L17(in_InputString: int, in_i_15: int, in_Tmp_2239: int, in_j_1: int, in_Tmp_2241: int, in_Tmp_2247: int, in_Output8dot3: int) returns (out_i_15: int, out_Tmp_2239: int, out_j_1: int, out_Tmp_2241: int, out_Tmp_2247: int)
{
  var vslice_dummy_var_625: int;

  entry:
    out_i_15, out_Tmp_2239, out_j_1, out_Tmp_2241, out_Tmp_2247 := in_i_15, in_Tmp_2239, in_j_1, in_Tmp_2241, in_Tmp_2247;
    goto L17, exit;

  exit:
    return;

  L17:
    assume {:nonnull} in_InputString != 0;
    assume in_InputString > 0;
    goto anon13_Else;

  anon13_Else:
    out_Tmp_2247 := out_j_1;
    assume {:nonnull} in_Output8dot3 != 0;
    assume in_Output8dot3 > 0;
    havoc out_Tmp_2239;
    out_Tmp_2241 := out_i_15;
    assume {:nonnull} in_InputString != 0;
    assume in_InputString > 0;
    assume {:nonnull} out_Tmp_2239 != 0;
    assume out_Tmp_2239 > 0;
    havoc vslice_dummy_var_625;
    Mem_T.INT4[out_Tmp_2239 + out_Tmp_2247 * 4] := vslice_dummy_var_625;
    out_j_1 := out_j_1 + 1;
    out_i_15 := out_i_15 + 1;
    goto anon13_Else_dummy;

  anon13_Else_dummy:
    call {:si_unique_call 4870} {:si_old_unique_call 1} out_i_15, out_Tmp_2239, out_j_1, out_Tmp_2241, out_Tmp_2247 := FatStringTo8dot3_loop_L17(in_InputString, out_i_15, out_Tmp_2239, out_j_1, out_Tmp_2241, out_Tmp_2247, in_Output8dot3);
    return;
}



procedure {:LoopProcedure} FatStringTo8dot3_loop_L17(in_InputString: int, in_i_15: int, in_Tmp_2239: int, in_j_1: int, in_Tmp_2241: int, in_Tmp_2247: int, in_Output8dot3: int) returns (out_i_15: int, out_Tmp_2239: int, out_j_1: int, out_Tmp_2241: int, out_Tmp_2247: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatStringTo8dot3_loop_L9(in_InputString: int, in_i_15: int, in_Tmp_2237: int, in_Tmp_2243: int, in_Tmp_2245: int, in_Tmp_2246: int, in_Output8dot3: int) returns (out_i_15: int, out_Tmp_2237: int, out_Tmp_2243: int, out_Tmp_2245: int, out_Tmp_2246: int)
{
  var vslice_dummy_var_626: int;

  entry:
    out_i_15, out_Tmp_2237, out_Tmp_2243, out_Tmp_2245, out_Tmp_2246 := in_i_15, in_Tmp_2237, in_Tmp_2243, in_Tmp_2245, in_Tmp_2246;
    goto L9, exit;

  exit:
    return;

  L9:
    assume {:nonnull} in_InputString != 0;
    assume in_InputString > 0;
    goto anon11_Else;

  anon11_Else:
    out_Tmp_2243 := out_i_15;
    assume {:nonnull} in_InputString != 0;
    assume in_InputString > 0;
    goto anon14_Else;

  anon14_Else:
    out_Tmp_2246 := out_i_15;
    assume {:nonnull} in_Output8dot3 != 0;
    assume in_Output8dot3 > 0;
    havoc out_Tmp_2237;
    out_Tmp_2245 := out_i_15;
    assume {:nonnull} in_InputString != 0;
    assume in_InputString > 0;
    assume {:nonnull} out_Tmp_2237 != 0;
    assume out_Tmp_2237 > 0;
    havoc vslice_dummy_var_626;
    Mem_T.INT4[out_Tmp_2237 + out_Tmp_2246 * 4] := vslice_dummy_var_626;
    out_i_15 := out_i_15 + 1;
    goto anon14_Else_dummy;

  anon14_Else_dummy:
    call {:si_unique_call 4871} {:si_old_unique_call 1} out_i_15, out_Tmp_2237, out_Tmp_2243, out_Tmp_2245, out_Tmp_2246 := FatStringTo8dot3_loop_L9(in_InputString, out_i_15, out_Tmp_2237, out_Tmp_2243, out_Tmp_2245, out_Tmp_2246, in_Output8dot3);
    return;
}



procedure {:LoopProcedure} FatStringTo8dot3_loop_L9(in_InputString: int, in_i_15: int, in_Tmp_2237: int, in_Tmp_2243: int, in_Tmp_2245: int, in_Tmp_2246: int, in_Output8dot3: int) returns (out_i_15: int, out_Tmp_2237: int, out_Tmp_2243: int, out_Tmp_2245: int, out_Tmp_2246: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatEvaluateNameCase_loop_L12(in_i_16: int, in_Tmp_2249: int, in_Lowers: int, in_Tmp_2250: int, in_ExtensionPresent: int, in_Tmp_2254: int, in_c_1: int, in_Tmp_2256: int, in_Uppers: int, in_UnicodeName_2: int, in_AllLowerComponent_3: int, in_CreateLfn_3: int) returns (out_i_16: int, out_Tmp_2249: int, out_Lowers: int, out_Tmp_2250: int, out_ExtensionPresent: int, out_Tmp_2254: int, out_c_1: int, out_Tmp_2256: int, out_Uppers: int)
{

  entry:
    out_i_16, out_Tmp_2249, out_Lowers, out_Tmp_2250, out_ExtensionPresent, out_Tmp_2254, out_c_1, out_Tmp_2256, out_Uppers := in_i_16, in_Tmp_2249, in_Lowers, in_Tmp_2250, in_ExtensionPresent, in_Tmp_2254, in_c_1, in_Tmp_2256, in_Uppers;
    goto L12, exit;

  exit:
    return;

  L12:
    assume {:nonnull} in_UnicodeName_2 != 0;
    assume in_UnicodeName_2 > 0;
    goto anon47_Else;

  anon47_Else:
    out_Tmp_2249 := out_i_16;
    assume {:nonnull} in_UnicodeName_2 != 0;
    assume in_UnicodeName_2 > 0;
    havoc out_Tmp_2256;
    assume {:nonnull} out_Tmp_2256 != 0;
    assume out_Tmp_2256 > 0;
    out_c_1 := Mem_T.INT4[out_Tmp_2256 + out_Tmp_2249 * 4];
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} out_c_1 >= 65;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} 90 >= out_c_1;
    out_Uppers := out_Uppers + 1;
    goto L20;

  L20:
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} out_c_1 == 46;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} out_Lowers != 0;
    goto anon53_Then, anon53_Else;

  anon53_Else:
    assume {:partition} out_Uppers != 0;
    out_Tmp_2250 := 1;
    goto L26;

  L26:
    assume {:nonnull} in_CreateLfn_3 != 0;
    assume in_CreateLfn_3 > 0;
    Mem_T.INT4[in_CreateLfn_3] := out_Tmp_2250;
    assume {:nonnull} in_CreateLfn_3 != 0;
    assume in_CreateLfn_3 > 0;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} Mem_T.INT4[in_CreateLfn_3] != 0;
    goto L29;

  L29:
    out_Tmp_2254 := 0;
    goto L30;

  L30:
    assume {:nonnull} in_AllLowerComponent_3 != 0;
    assume in_AllLowerComponent_3 > 0;
    Mem_T.INT4[in_AllLowerComponent_3] := out_Tmp_2254;
    out_ExtensionPresent := 1;
    out_Lowers := 0;
    out_Uppers := out_Lowers;
    goto L21;

  L21:
    out_i_16 := out_i_16 + 1;
    goto L21_dummy;

  L21_dummy:
    call {:si_unique_call 4872} {:si_old_unique_call 1} out_i_16, out_Tmp_2249, out_Lowers, out_Tmp_2250, out_ExtensionPresent, out_Tmp_2254, out_c_1, out_Tmp_2256, out_Uppers := FatEvaluateNameCase_loop_L12(out_i_16, out_Tmp_2249, out_Lowers, out_Tmp_2250, out_ExtensionPresent, out_Tmp_2254, out_c_1, out_Tmp_2256, out_Uppers, in_UnicodeName_2, in_AllLowerComponent_3, in_CreateLfn_3);
    return;

  anon67_Then:
    assume {:partition} Mem_T.INT4[in_CreateLfn_3] == 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} out_Lowers != 0;
    out_Tmp_2254 := 1;
    goto L30;

  anon54_Then:
    assume {:partition} out_Lowers == 0;
    goto L29;

  anon53_Then:
    assume {:partition} out_Uppers == 0;
    goto L23;

  L23:
    out_Tmp_2250 := 0;
    goto L26;

  anon52_Then:
    assume {:partition} out_Lowers == 0;
    goto L23;

  anon51_Then:
    assume {:partition} out_c_1 != 46;
    goto L21;

  anon50_Then:
    assume {:partition} out_c_1 > 90;
    goto L17;

  L17:
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} out_c_1 >= 97;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} 122 >= out_c_1;
    out_Lowers := out_Lowers + 1;
    goto L20;

  anon56_Then:
    assume {:partition} out_c_1 > 122;
    goto L35;

  L35:
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} out_c_1 >= 128;
    goto anon57_Else;

  anon57_Else:
    goto L20;

  anon55_Then:
    assume {:partition} 128 > out_c_1;
    goto L20;

  anon49_Then:
    assume {:partition} 97 > out_c_1;
    goto L35;

  anon66_Then:
    assume {:partition} 65 > out_c_1;
    goto L17;
}



procedure {:LoopProcedure} FatEvaluateNameCase_loop_L12(in_i_16: int, in_Tmp_2249: int, in_Lowers: int, in_Tmp_2250: int, in_ExtensionPresent: int, in_Tmp_2254: int, in_c_1: int, in_Tmp_2256: int, in_Uppers: int, in_UnicodeName_2: int, in_AllLowerComponent_3: int, in_CreateLfn_3: int) returns (out_i_16: int, out_Tmp_2249: int, out_Lowers: int, out_Tmp_2250: int, out_ExtensionPresent: int, out_Tmp_2254: int, out_c_1: int, out_Tmp_2256: int, out_Uppers: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2250 == 1 || out_Tmp_2250 == 0 || out_Tmp_2250 == in_Tmp_2250;
  free ensures {:va_keep} out_ExtensionPresent == 1 || out_ExtensionPresent == in_ExtensionPresent;
  free ensures {:va_keep} out_Tmp_2254 == 1 || out_Tmp_2254 == 0 || out_Tmp_2254 == in_Tmp_2254;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSpaceInName_loop_L5(in_i_17: int, in_Tmp_2265: int, in_Tmp_2267: int, in_UnicodeName_3: int) returns (out_i_17: int, out_Tmp_2265: int, out_Tmp_2267: int)
{

  entry:
    out_i_17, out_Tmp_2265, out_Tmp_2267 := in_i_17, in_Tmp_2265, in_Tmp_2267;
    goto L5, exit;

  exit:
    return;

  L5:
    assume {:nonnull} in_UnicodeName_3 != 0;
    assume in_UnicodeName_3 > 0;
    goto anon5_Else;

  anon5_Else:
    out_Tmp_2267 := out_i_17;
    assume {:nonnull} in_UnicodeName_3 != 0;
    assume in_UnicodeName_3 > 0;
    havoc out_Tmp_2265;
    assume {:nonnull} out_Tmp_2265 != 0;
    assume out_Tmp_2265 > 0;
    goto anon6_Then;

  anon6_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2265 + out_Tmp_2267 * 4] != 32;
    out_i_17 := out_i_17 + 1;
    goto anon6_Then_dummy;

  anon6_Then_dummy:
    havoc out_i_17;
    return;
}



procedure {:LoopProcedure} FatSpaceInName_loop_L5(in_i_17: int, in_Tmp_2265: int, in_Tmp_2267: int, in_UnicodeName_3: int) returns (out_i_17: int, out_Tmp_2265: int, out_Tmp_2267: int);
  free ensures {:va_keep} out_Tmp_2267 == in_i_17 || out_Tmp_2267 == in_Tmp_2267;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation Fat8dot3ToString_loop_L28(in_Tmp_2268: int, in_Tmp_2271: int, in_Tmp_2276: int, in_Tmp_2278: int, in_Tmp_2279: int, in_Tmp_2282: int, in_Tmp_2284: int, in_Tmp_2285: int, in_Tmp_2286: int, in_Tmp_2289: int, in_Tmp_2290: int, in_Tmp_2291: int, in_StringIndex: int, in_BaseLength: int, in_Tmp_2305: int, in_Tmp_2307: int, in_Tmp_2310: int, in_Tmp_2313: int, in_OutputString: int) returns (out_Tmp_2268: int, out_Tmp_2271: int, out_Tmp_2276: int, out_Tmp_2278: int, out_Tmp_2279: int, out_Tmp_2282: int, out_Tmp_2284: int, out_Tmp_2285: int, out_Tmp_2286: int, out_Tmp_2289: int, out_Tmp_2290: int, out_Tmp_2291: int, out_StringIndex: int, out_Tmp_2305: int, out_Tmp_2307: int, out_Tmp_2310: int, out_Tmp_2313: int)
{

  entry:
    out_Tmp_2268, out_Tmp_2271, out_Tmp_2276, out_Tmp_2278, out_Tmp_2279, out_Tmp_2282, out_Tmp_2284, out_Tmp_2285, out_Tmp_2286, out_Tmp_2289, out_Tmp_2290, out_Tmp_2291, out_StringIndex, out_Tmp_2305, out_Tmp_2307, out_Tmp_2310, out_Tmp_2313 := in_Tmp_2268, in_Tmp_2271, in_Tmp_2276, in_Tmp_2278, in_Tmp_2279, in_Tmp_2282, in_Tmp_2284, in_Tmp_2285, in_Tmp_2286, in_Tmp_2289, in_Tmp_2290, in_Tmp_2291, in_StringIndex, in_Tmp_2305, in_Tmp_2307, in_Tmp_2310, in_Tmp_2313;
    goto L28, exit;

  exit:
    return;

  L28:
    goto anon68_Else;

  anon68_Else:
    assume {:partition} in_BaseLength > out_StringIndex;
    out_Tmp_2307 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2289;
    assume {:nonnull} out_Tmp_2289 != 0;
    assume out_Tmp_2289 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:partition} 128 > Mem_T.INT4[out_Tmp_2289 + out_Tmp_2307 * 4];
    out_Tmp_2286 := 0;
    goto L32;

  L32:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} out_Tmp_2286 != 0;
    out_StringIndex := out_StringIndex + 1;
    goto L36;

  L36:
    out_StringIndex := out_StringIndex + 1;
    goto L36_dummy;

  L36_dummy:
    call {:si_unique_call 4873} {:si_old_unique_call 1} out_Tmp_2268, out_Tmp_2271, out_Tmp_2276, out_Tmp_2278, out_Tmp_2279, out_Tmp_2282, out_Tmp_2284, out_Tmp_2285, out_Tmp_2286, out_Tmp_2289, out_Tmp_2290, out_Tmp_2291, out_StringIndex, out_Tmp_2305, out_Tmp_2307, out_Tmp_2310, out_Tmp_2313 := Fat8dot3ToString_loop_L28(out_Tmp_2268, out_Tmp_2271, out_Tmp_2276, out_Tmp_2278, out_Tmp_2279, out_Tmp_2282, out_Tmp_2284, out_Tmp_2285, out_Tmp_2286, out_Tmp_2289, out_Tmp_2290, out_Tmp_2291, out_StringIndex, in_BaseLength, out_Tmp_2305, out_Tmp_2307, out_Tmp_2310, out_Tmp_2313, in_OutputString);
    return;

  anon70_Then:
    assume {:partition} out_Tmp_2286 == 0;
    out_Tmp_2284 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2285;
    assume {:nonnull} out_Tmp_2285 != 0;
    assume out_Tmp_2285 > 0;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2285 + out_Tmp_2284 * 4] >= 65;
    out_Tmp_2279 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2291;
    assume {:nonnull} out_Tmp_2291 != 0;
    assume out_Tmp_2291 > 0;
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} 90 >= Mem_T.INT4[out_Tmp_2291 + out_Tmp_2279 * 4];
    out_Tmp_2271 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2305;
    out_Tmp_2290 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2313;
    assume {:nonnull} out_Tmp_2305 != 0;
    assume out_Tmp_2305 > 0;
    assume {:nonnull} out_Tmp_2313 != 0;
    assume out_Tmp_2313 > 0;
    Mem_T.INT4[out_Tmp_2305 + out_Tmp_2271 * 4] := Mem_T.INT4[out_Tmp_2313 + out_Tmp_2290 * 4] + 32;
    goto L36;

  anon83_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2291 + out_Tmp_2279 * 4] > 90;
    goto L36;

  anon82_Then:
    assume {:partition} 65 > Mem_T.INT4[out_Tmp_2285 + out_Tmp_2284 * 4];
    goto L36;

  anon81_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2289 + out_Tmp_2307 * 4] >= 128;
    assume {:nonnull} NlsMbOemCodePageTag != 0;
    assume NlsMbOemCodePageTag > 0;
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] != 0;
    out_Tmp_2282 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2276;
    assume {:nonnull} out_Tmp_2276 != 0;
    assume out_Tmp_2276 > 0;
    out_Tmp_2278 := Mem_T.INT4[out_Tmp_2276 + out_Tmp_2282 * 4];
    assume {:nonnull} NlsOemLeadByteInfo != 0;
    assume NlsOemLeadByteInfo > 0;
    havoc out_Tmp_2310;
    assume {:nonnull} out_Tmp_2310 != 0;
    assume out_Tmp_2310 > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2310 + out_Tmp_2278 * 4] != 0;
    out_Tmp_2268 := 1;
    goto L42;

  L42:
    out_Tmp_2286 := out_Tmp_2268;
    goto L32;

  anon84_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2310 + out_Tmp_2278 * 4] == 0;
    goto L39;

  L39:
    out_Tmp_2268 := 0;
    goto L42;

  anon69_Then:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] == 0;
    goto L39;
}



procedure {:LoopProcedure} Fat8dot3ToString_loop_L28(in_Tmp_2268: int, in_Tmp_2271: int, in_Tmp_2276: int, in_Tmp_2278: int, in_Tmp_2279: int, in_Tmp_2282: int, in_Tmp_2284: int, in_Tmp_2285: int, in_Tmp_2286: int, in_Tmp_2289: int, in_Tmp_2290: int, in_Tmp_2291: int, in_StringIndex: int, in_BaseLength: int, in_Tmp_2305: int, in_Tmp_2307: int, in_Tmp_2310: int, in_Tmp_2313: int, in_OutputString: int) returns (out_Tmp_2268: int, out_Tmp_2271: int, out_Tmp_2276: int, out_Tmp_2278: int, out_Tmp_2279: int, out_Tmp_2282: int, out_Tmp_2284: int, out_Tmp_2285: int, out_Tmp_2286: int, out_Tmp_2289: int, out_Tmp_2290: int, out_Tmp_2291: int, out_StringIndex: int, out_Tmp_2305: int, out_Tmp_2307: int, out_Tmp_2310: int, out_Tmp_2313: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2268 == 1 || out_Tmp_2268 == 0 || out_Tmp_2268 == in_Tmp_2268;
  free ensures {:va_keep} out_Tmp_2286 == 0 || out_Tmp_2286 == 1 || out_Tmp_2286 == in_Tmp_2286;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation Fat8dot3ToString_loop_L59(in_Tmp_2270: int, in_Tmp_2272: int, in_Tmp_2273: int, in_Tmp_2280: int, in_Tmp_2281: int, in_Tmp_2287: int, in_Tmp_2288: int, in_Tmp_2292: int, in_StringIndex: int, in_Tmp_2294: int, in_Tmp_2296: int, in_Tmp_2297: int, in_Tmp_2298: int, in_Tmp_2302: int, in_Tmp_2303: int, in_Tmp_2309: int, in_Tmp_2311: int, in_OutputString: int) returns (out_Tmp_2270: int, out_Tmp_2272: int, out_Tmp_2273: int, out_Tmp_2280: int, out_Tmp_2281: int, out_Tmp_2287: int, out_Tmp_2288: int, out_Tmp_2292: int, out_StringIndex: int, out_Tmp_2294: int, out_Tmp_2296: int, out_Tmp_2297: int, out_Tmp_2298: int, out_Tmp_2302: int, out_Tmp_2303: int, out_Tmp_2309: int, out_Tmp_2311: int)
{

  entry:
    out_Tmp_2270, out_Tmp_2272, out_Tmp_2273, out_Tmp_2280, out_Tmp_2281, out_Tmp_2287, out_Tmp_2288, out_Tmp_2292, out_StringIndex, out_Tmp_2294, out_Tmp_2296, out_Tmp_2297, out_Tmp_2298, out_Tmp_2302, out_Tmp_2303, out_Tmp_2309, out_Tmp_2311 := in_Tmp_2270, in_Tmp_2272, in_Tmp_2273, in_Tmp_2280, in_Tmp_2281, in_Tmp_2287, in_Tmp_2288, in_Tmp_2292, in_StringIndex, in_Tmp_2294, in_Tmp_2296, in_Tmp_2297, in_Tmp_2298, in_Tmp_2302, in_Tmp_2303, in_Tmp_2309, in_Tmp_2311;
    goto L59, exit;

  exit:
    return;

  L59:
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    goto anon73_Else;

  anon73_Else:
    out_Tmp_2280 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2297;
    assume {:nonnull} out_Tmp_2297 != 0;
    assume out_Tmp_2297 > 0;
    goto anon87_Then, anon87_Else;

  anon87_Else:
    assume {:partition} 128 > Mem_T.INT4[out_Tmp_2297 + out_Tmp_2280 * 4];
    out_Tmp_2270 := 0;
    goto L63;

  L63:
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} out_Tmp_2270 != 0;
    out_StringIndex := out_StringIndex + 1;
    goto L67;

  L67:
    out_StringIndex := out_StringIndex + 1;
    goto L67_dummy;

  L67_dummy:
    call {:si_unique_call 4874} {:si_old_unique_call 1} out_Tmp_2270, out_Tmp_2272, out_Tmp_2273, out_Tmp_2280, out_Tmp_2281, out_Tmp_2287, out_Tmp_2288, out_Tmp_2292, out_StringIndex, out_Tmp_2294, out_Tmp_2296, out_Tmp_2297, out_Tmp_2298, out_Tmp_2302, out_Tmp_2303, out_Tmp_2309, out_Tmp_2311 := Fat8dot3ToString_loop_L59(out_Tmp_2270, out_Tmp_2272, out_Tmp_2273, out_Tmp_2280, out_Tmp_2281, out_Tmp_2287, out_Tmp_2288, out_Tmp_2292, out_StringIndex, out_Tmp_2294, out_Tmp_2296, out_Tmp_2297, out_Tmp_2298, out_Tmp_2302, out_Tmp_2303, out_Tmp_2309, out_Tmp_2311, in_OutputString);
    return;

  anon75_Then:
    assume {:partition} out_Tmp_2270 == 0;
    out_Tmp_2296 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2309;
    assume {:nonnull} out_Tmp_2309 != 0;
    assume out_Tmp_2309 > 0;
    goto anon88_Then, anon88_Else;

  anon88_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2309 + out_Tmp_2296 * 4] >= 65;
    out_Tmp_2294 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2298;
    assume {:nonnull} out_Tmp_2298 != 0;
    assume out_Tmp_2298 > 0;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} 90 >= Mem_T.INT4[out_Tmp_2298 + out_Tmp_2294 * 4];
    out_Tmp_2292 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2272;
    out_Tmp_2273 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2302;
    assume {:nonnull} out_Tmp_2272 != 0;
    assume out_Tmp_2272 > 0;
    assume {:nonnull} out_Tmp_2302 != 0;
    assume out_Tmp_2302 > 0;
    Mem_T.INT4[out_Tmp_2272 + out_Tmp_2292 * 4] := Mem_T.INT4[out_Tmp_2302 + out_Tmp_2273 * 4] + 32;
    goto L67;

  anon89_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2298 + out_Tmp_2294 * 4] > 90;
    goto L67;

  anon88_Then:
    assume {:partition} 65 > Mem_T.INT4[out_Tmp_2309 + out_Tmp_2296 * 4];
    goto L67;

  anon87_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2297 + out_Tmp_2280 * 4] >= 128;
    assume {:nonnull} NlsMbOemCodePageTag != 0;
    assume NlsMbOemCodePageTag > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] != 0;
    out_Tmp_2311 := out_StringIndex;
    assume {:nonnull} in_OutputString != 0;
    assume in_OutputString > 0;
    havoc out_Tmp_2281;
    assume {:nonnull} out_Tmp_2281 != 0;
    assume out_Tmp_2281 > 0;
    out_Tmp_2287 := Mem_T.INT4[out_Tmp_2281 + out_Tmp_2311 * 4];
    assume {:nonnull} NlsOemLeadByteInfo != 0;
    assume NlsOemLeadByteInfo > 0;
    havoc out_Tmp_2288;
    assume {:nonnull} out_Tmp_2288 != 0;
    assume out_Tmp_2288 > 0;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2288 + out_Tmp_2287 * 4] != 0;
    out_Tmp_2303 := 1;
    goto L73;

  L73:
    out_Tmp_2270 := out_Tmp_2303;
    goto L63;

  anon90_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2288 + out_Tmp_2287 * 4] == 0;
    goto L70;

  L70:
    out_Tmp_2303 := 0;
    goto L73;

  anon74_Then:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] == 0;
    goto L70;
}



procedure {:LoopProcedure} Fat8dot3ToString_loop_L59(in_Tmp_2270: int, in_Tmp_2272: int, in_Tmp_2273: int, in_Tmp_2280: int, in_Tmp_2281: int, in_Tmp_2287: int, in_Tmp_2288: int, in_Tmp_2292: int, in_StringIndex: int, in_Tmp_2294: int, in_Tmp_2296: int, in_Tmp_2297: int, in_Tmp_2298: int, in_Tmp_2302: int, in_Tmp_2303: int, in_Tmp_2309: int, in_Tmp_2311: int, in_OutputString: int) returns (out_Tmp_2270: int, out_Tmp_2272: int, out_Tmp_2273: int, out_Tmp_2280: int, out_Tmp_2281: int, out_Tmp_2287: int, out_Tmp_2288: int, out_Tmp_2292: int, out_StringIndex: int, out_Tmp_2294: int, out_Tmp_2296: int, out_Tmp_2297: int, out_Tmp_2298: int, out_Tmp_2302: int, out_Tmp_2303: int, out_Tmp_2309: int, out_Tmp_2311: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2270 == 0 || out_Tmp_2270 == 1 || out_Tmp_2270 == in_Tmp_2270;
  free ensures {:va_keep} out_Tmp_2303 == 1 || out_Tmp_2303 == 0 || out_Tmp_2303 == in_Tmp_2303;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation Fat8dot3ToString_loop_L13(in_Tmp_2275: int, in_Tmp_2299: int, in_ExtensionLength: int, in_Dirent_23: int) returns (out_Tmp_2275: int, out_Tmp_2299: int, out_ExtensionLength: int)
{

  entry:
    out_Tmp_2275, out_Tmp_2299, out_ExtensionLength := in_Tmp_2275, in_Tmp_2299, in_ExtensionLength;
    goto L13, exit;

  exit:
    return;

  L13:
    assume {:CounterLoop 3} {:Counter "ExtensionLength"} true;
    goto anon62_Else;

  anon62_Else:
    assume {:partition} out_ExtensionLength > 0;
    out_Tmp_2275 := 8 + out_ExtensionLength - 1;
    assume {:nonnull} in_Dirent_23 != 0;
    assume in_Dirent_23 > 0;
    havoc out_Tmp_2299;
    assume {:nonnull} out_Tmp_2299 != 0;
    assume out_Tmp_2299 > 0;
    goto anon79_Else;

  anon79_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2299 + out_Tmp_2275 * 4] == 32;
    out_ExtensionLength := out_ExtensionLength - 1;
    goto anon79_Else_dummy;

  anon79_Else_dummy:
    havoc out_ExtensionLength;
    return;
}



procedure {:LoopProcedure} Fat8dot3ToString_loop_L13(in_Tmp_2275: int, in_Tmp_2299: int, in_ExtensionLength: int, in_Dirent_23: int) returns (out_Tmp_2275: int, out_Tmp_2299: int, out_ExtensionLength: int);
  free ensures {:va_keep} out_Tmp_2275 == in_Tmp_2275 || out_Tmp_2275 == 8 + in_ExtensionLength - 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation Fat8dot3ToString_loop_L8(in_Tmp_2301: int, in_BaseLength: int, in_Tmp_2304: int, in_Dirent_23: int) returns (out_Tmp_2301: int, out_BaseLength: int, out_Tmp_2304: int)
{

  entry:
    out_Tmp_2301, out_BaseLength, out_Tmp_2304 := in_Tmp_2301, in_BaseLength, in_Tmp_2304;
    goto L8, exit;

  exit:
    return;

  L8:
    assume {:CounterLoop 8} {:Counter "BaseLength"} true;
    goto anon61_Else;

  anon61_Else:
    assume {:partition} out_BaseLength > 0;
    out_Tmp_2301 := out_BaseLength - 1;
    assume {:nonnull} in_Dirent_23 != 0;
    assume in_Dirent_23 > 0;
    havoc out_Tmp_2304;
    assume {:nonnull} out_Tmp_2304 != 0;
    assume out_Tmp_2304 > 0;
    goto anon78_Else;

  anon78_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2304 + out_Tmp_2301 * 4] == 32;
    out_BaseLength := out_BaseLength - 1;
    goto anon78_Else_dummy;

  anon78_Else_dummy:
    havoc out_BaseLength;
    return;
}



procedure {:LoopProcedure} Fat8dot3ToString_loop_L8(in_Tmp_2301: int, in_BaseLength: int, in_Tmp_2304: int, in_Dirent_23: int) returns (out_Tmp_2301: int, out_BaseLength: int, out_Tmp_2304: int);
  free ensures {:va_keep} out_Tmp_2301 == in_Tmp_2301 || out_Tmp_2301 == in_BaseLength - 1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSelectNames_loop_L51(in_ShortUnicodeName: int, in_Dirent_24: int, in_Bcb_14: int, in_ByteOffset_2: int, in_TrySuggestedShortName: int, in_IrpContext_147: int, in_Parent: int, in_ShortName_6: int, in_SuggestedShortName: int, in_vslice_dummy_var_404: int, in_vslice_dummy_var_405: int) returns (out_TrySuggestedShortName: int, out_vslice_dummy_var_404: int, out_vslice_dummy_var_405: int)
{

  entry:
    out_TrySuggestedShortName, out_vslice_dummy_var_404, out_vslice_dummy_var_405 := in_TrySuggestedShortName, in_vslice_dummy_var_404, in_vslice_dummy_var_405;
    goto L51, exit;

  exit:
    return;

  L51:
    assume {:nonnull} in_Bcb_14 != 0;
    assume in_Bcb_14 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} in_Bcb_14 != 0;
    assume in_Bcb_14 > 0;
    goto L52;

  L52:
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} out_TrySuggestedShortName != 0;
    assume {:nonnull} in_ShortUnicodeName != 0;
    assume in_ShortUnicodeName > 0;
    assume {:nonnull} in_SuggestedShortName != 0;
    assume in_SuggestedShortName > 0;
    assume {:nonnull} in_ShortUnicodeName != 0;
    assume in_ShortUnicodeName > 0;
    assume {:nonnull} in_SuggestedShortName != 0;
    assume in_SuggestedShortName > 0;
    assume {:nonnull} in_ShortUnicodeName != 0;
    assume in_ShortUnicodeName > 0;
    assume {:nonnull} in_SuggestedShortName != 0;
    assume in_SuggestedShortName > 0;
    out_TrySuggestedShortName := 0;
    goto L69;

  L69:
    call {:si_unique_call 4875} out_vslice_dummy_var_405 := RtlUnicodeStringToCountedOemString(0, 0, 0);
    call {:si_unique_call 4876} FatLocateSimpleOemDirent(in_IrpContext_147, in_Parent, in_ShortName_6, in_Dirent_24, in_Bcb_14, in_ByteOffset_2);
    assume {:nonnull} in_Bcb_14 != 0;
    assume in_Bcb_14 > 0;
    goto anon29_Else;

  anon29_Else:
    goto anon29_Else_dummy;

  anon29_Else_dummy:
    call {:si_unique_call 4878} {:si_old_unique_call 1} out_TrySuggestedShortName, out_vslice_dummy_var_404, out_vslice_dummy_var_405 := FatSelectNames_loop_L51(in_ShortUnicodeName, in_Dirent_24, in_Bcb_14, in_ByteOffset_2, out_TrySuggestedShortName, in_IrpContext_147, in_Parent, in_ShortName_6, in_SuggestedShortName, out_vslice_dummy_var_404, out_vslice_dummy_var_405);
    return;

  anon28_Then:
    assume {:partition} out_TrySuggestedShortName == 0;
    call {:si_unique_call 4877} out_vslice_dummy_var_404 := corral_nondet();
    goto L69;

  anon27_Then:
    goto L52;
}



procedure {:LoopProcedure} FatSelectNames_loop_L51(in_ShortUnicodeName: int, in_Dirent_24: int, in_Bcb_14: int, in_ByteOffset_2: int, in_TrySuggestedShortName: int, in_IrpContext_147: int, in_Parent: int, in_ShortName_6: int, in_SuggestedShortName: int, in_vslice_dummy_var_404: int, in_vslice_dummy_var_405: int) returns (out_TrySuggestedShortName: int, out_vslice_dummy_var_404: int, out_vslice_dummy_var_405: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_TrySuggestedShortName == 0 || out_TrySuggestedShortName == in_TrySuggestedShortName;
  free ensures {:va_keep} out_vslice_dummy_var_405 == -1073741675 || out_vslice_dummy_var_405 == 0 || out_vslice_dummy_var_405 == in_vslice_dummy_var_405;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatRescanDirectory_loop_L24(in_Tmp_2329: int, in_DirentDeleted: int, in_StartIndexOfThisRun_1: int, in_DeletedHint: int, in_Dirent_25: int, in_Status_56: int, in_Tmp_2331: int, in_Tmp_2332: int, in_Bcb_15: int, in_Tmp_2334: int, in_CurrentRun_1: int, in_DirentIndex: int, in_UnusedVbo: int, in_IrpContext_150: int, in_Dcb_12: int) returns (out_Tmp_2329: int, out_DirentDeleted: int, out_StartIndexOfThisRun_1: int, out_DeletedHint: int, out_Tmp_2331: int, out_Tmp_2332: int, out_Tmp_2334: int, out_CurrentRun_1: int, out_DirentIndex: int, out_UnusedVbo: int)
{

  entry:
    out_Tmp_2329, out_DirentDeleted, out_StartIndexOfThisRun_1, out_DeletedHint, out_Tmp_2331, out_Tmp_2332, out_Tmp_2334, out_CurrentRun_1, out_DirentIndex, out_UnusedVbo := in_Tmp_2329, in_DirentDeleted, in_StartIndexOfThisRun_1, in_DeletedHint, in_Tmp_2331, in_Tmp_2332, in_Tmp_2334, in_CurrentRun_1, in_DirentIndex, in_UnusedVbo;
    goto L24, exit;

  exit:
    return;

  L24:
    assume {:nonnull} in_Dcb_12 != 0;
    assume in_Dcb_12 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} in_Status_56 != 0;
    assume in_Status_56 > 0;
    Mem_T.INT4[in_Status_56] := -1073741807;
    assume {:nonnull} in_Bcb_15 != 0;
    assume in_Bcb_15 > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:nonnull} in_Bcb_15 != 0;
    assume in_Bcb_15 > 0;
    goto L28;

  L28:
    assume {:nonnull} in_Status_56 != 0;
    assume in_Status_56 > 0;
    goto anon43_Else;

  anon43_Else:
    assume {:partition} Mem_T.INT4[in_Status_56] != -1073741807;
    assume {:nonnull} in_Dirent_25 != 0;
    assume in_Dirent_25 > 0;
    havoc out_Tmp_2329;
    assume {:nonnull} out_Tmp_2329 != 0;
    assume out_Tmp_2329 > 0;
    goto anon58_Else;

  anon58_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2329] != 0;
    assume {:nonnull} in_Dirent_25 != 0;
    assume in_Dirent_25 > 0;
    havoc out_Tmp_2332;
    assume {:nonnull} out_Tmp_2332 != 0;
    assume out_Tmp_2332 > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2332] == 229;
    out_DirentDeleted := 1;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} out_DeletedHint == -1;
    out_DeletedHint := out_UnusedVbo;
    goto L44;

  L44:
    goto anon44_Then, anon44_Else;

  anon44_Else:
    assume {:partition} out_CurrentRun_1 != 0;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} out_CurrentRun_1 == 1;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} out_DirentDeleted == 0;
    out_CurrentRun_1 := 2;
    out_StartIndexOfThisRun_1 := out_DirentIndex;
    goto L48;

  L48:
    goto anon47_Then, anon47_Else;

  anon47_Else:
    assume {:partition} out_CurrentRun_1 == 2;
    goto anon49_Then, anon49_Else;

  anon49_Else:
    assume {:partition} out_DirentDeleted != 0;
    out_CurrentRun_1 := 1;
    out_StartIndexOfThisRun_1 := out_DirentIndex;
    goto L56;

  L56:
    out_UnusedVbo := out_UnusedVbo + 32;
    assume {:nonnull} in_Dirent_25 != 0;
    assume in_Dirent_25 > 0;
    out_DirentIndex := out_DirentIndex + 1;
    goto L56_dummy;

  L56_dummy:
    call {:si_unique_call 4880} {:si_old_unique_call 1} out_Tmp_2329, out_DirentDeleted, out_StartIndexOfThisRun_1, out_DeletedHint, out_Tmp_2331, out_Tmp_2332, out_Tmp_2334, out_CurrentRun_1, out_DirentIndex, out_UnusedVbo := FatRescanDirectory_loop_L24(out_Tmp_2329, out_DirentDeleted, out_StartIndexOfThisRun_1, out_DeletedHint, in_Dirent_25, in_Status_56, out_Tmp_2331, out_Tmp_2332, in_Bcb_15, out_Tmp_2334, out_CurrentRun_1, out_DirentIndex, out_UnusedVbo, in_IrpContext_150, in_Dcb_12);
    return;

  anon49_Then:
    assume {:partition} out_DirentDeleted == 0;
    goto L56;

  anon47_Then:
    assume {:partition} out_CurrentRun_1 != 2;
    goto L56;

  anon48_Then:
    assume {:partition} out_DirentDeleted != 0;
    goto L48;

  anon46_Then:
    assume {:partition} out_CurrentRun_1 != 1;
    goto L48;

  anon44_Then:
    assume {:partition} out_CurrentRun_1 == 0;
    goto anon45_Then, anon45_Else;

  anon45_Else:
    assume {:partition} out_DirentDeleted != 0;
    out_Tmp_2331 := 1;
    goto L68;

  L68:
    out_CurrentRun_1 := out_Tmp_2331;
    goto L56;

  anon45_Then:
    assume {:partition} out_DirentDeleted == 0;
    out_Tmp_2331 := 2;
    goto L68;

  anon60_Then:
    assume {:partition} out_DeletedHint != -1;
    goto L44;

  anon59_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2332] != 229;
    out_DirentDeleted := 0;
    goto L44;

  anon56_Then:
    goto L28;

  anon41_Then:
    goto anon42_Then, anon42_Else;

  anon42_Else:
    assume {:partition} INTMOD(out_UnusedVbo, 4096) != 0;
    assume {:nonnull} in_Bcb_15 != 0;
    assume in_Bcb_15 > 0;
    goto anon51_Then, anon51_Else;

  anon51_Else:
    goto L69;

  L69:
    assume {:nonnull} in_Bcb_15 != 0;
    assume in_Bcb_15 > 0;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:nonnull} in_Bcb_15 != 0;
    assume in_Bcb_15 > 0;
    goto L71;

  L71:
    out_Tmp_2334 := BAND(out_UnusedVbo, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 4879} FatReadDirectoryFile#1(in_IrpContext_150, in_Dcb_12, out_Tmp_2334, 4096, 0, in_Bcb_15, in_Dirent_25, in_Status_56);
    assume {:nonnull} in_Dirent_25 != 0;
    assume in_Dirent_25 > 0;
    goto L28;

  anon50_Then:
    goto L71;

  anon51_Then:
    goto L28;

  anon42_Then:
    assume {:partition} INTMOD(out_UnusedVbo, 4096) == 0;
    goto L69;
}



procedure {:LoopProcedure} FatRescanDirectory_loop_L24(in_Tmp_2329: int, in_DirentDeleted: int, in_StartIndexOfThisRun_1: int, in_DeletedHint: int, in_Dirent_25: int, in_Status_56: int, in_Tmp_2331: int, in_Tmp_2332: int, in_Bcb_15: int, in_Tmp_2334: int, in_CurrentRun_1: int, in_DirentIndex: int, in_UnusedVbo: int, in_IrpContext_150: int, in_Dcb_12: int) returns (out_Tmp_2329: int, out_DirentDeleted: int, out_StartIndexOfThisRun_1: int, out_DeletedHint: int, out_Tmp_2331: int, out_Tmp_2332: int, out_Tmp_2334: int, out_CurrentRun_1: int, out_DirentIndex: int, out_UnusedVbo: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_DirentDeleted == 1 || out_DirentDeleted == 0 || out_DirentDeleted == in_DirentDeleted;
  free ensures {:va_keep} out_Tmp_2331 == 1 || out_Tmp_2331 == 2 || out_Tmp_2331 == in_Tmp_2331;
  free ensures {:va_keep} out_CurrentRun_1 == 1 || out_CurrentRun_1 == 2 || out_CurrentRun_1 == in_CurrentRun_1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatConstructDirent_loop_L84(in_i_18: int, in_Tmp_2337: int, in_Tmp_2343: int, in_RemainderChars: int, in_FinalLfnBuffer: int) returns (out_i_18: int, out_Tmp_2337: int, out_Tmp_2343: int)
{

  entry:
    out_i_18, out_Tmp_2337, out_Tmp_2343 := in_i_18, in_Tmp_2337, in_Tmp_2343;
    goto L84, exit;

  exit:
    return;

  L84:
    goto anon51_Else;

  anon51_Else:
    assume {:partition} 13 > out_i_18;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} out_i_18 == in_RemainderChars;
    out_Tmp_2337 := out_i_18;
    assume {:nonnull} in_FinalLfnBuffer != 0;
    assume in_FinalLfnBuffer > 0;
    Mem_T.INT4[in_FinalLfnBuffer + out_Tmp_2337 * 4] := 0;
    goto L89;

  L89:
    out_i_18 := out_i_18 + 1;
    goto L89_dummy;

  L89_dummy:
    call {:si_unique_call 4881} {:si_old_unique_call 1} out_i_18, out_Tmp_2337, out_Tmp_2343 := FatConstructDirent_loop_L84(out_i_18, out_Tmp_2337, out_Tmp_2343, in_RemainderChars, in_FinalLfnBuffer);
    return;

  anon52_Then:
    assume {:partition} out_i_18 != in_RemainderChars;
    out_Tmp_2343 := out_i_18;
    assume {:nonnull} in_FinalLfnBuffer != 0;
    assume in_FinalLfnBuffer > 0;
    Mem_T.INT4[in_FinalLfnBuffer + out_Tmp_2343 * 4] := 65535;
    goto L89;
}



procedure {:LoopProcedure} FatConstructDirent_loop_L84(in_i_18: int, in_Tmp_2337: int, in_Tmp_2343: int, in_RemainderChars: int, in_FinalLfnBuffer: int) returns (out_i_18: int, out_Tmp_2337: int, out_Tmp_2343: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatConstructDirent_loop_L68(in_i_18: int, in_LfnOrdinal: int, in_Tmp_2337: int, in_DirentsInLfn: int, in_Tmp_2339: int, in_DirentChecksum: int, in_Tmp_2343: int, in_Tmp_2345: int, in_Buffer_27: int, in_RemainderChars: int, in_LfnDirent: int, in_Tmp_2347: int, in_Tmp_2348: int, in_FinalLfnBuffer: int, in_LfnBuffer_2: int, in_Dirent_26: int, in_Lfn_9: int) returns (out_i_18: int, out_LfnOrdinal: int, out_Tmp_2337: int, out_Tmp_2339: int, out_Tmp_2343: int, out_Tmp_2345: int, out_Buffer_27: int, out_RemainderChars: int, out_Tmp_2347: int, out_Tmp_2348: int)
{

  entry:
    out_i_18, out_LfnOrdinal, out_Tmp_2337, out_Tmp_2339, out_Tmp_2343, out_Tmp_2345, out_Buffer_27, out_RemainderChars, out_Tmp_2347, out_Tmp_2348 := in_i_18, in_LfnOrdinal, in_Tmp_2337, in_Tmp_2339, in_Tmp_2343, in_Tmp_2345, in_Buffer_27, in_RemainderChars, in_Tmp_2347, in_Tmp_2348;
    goto L68, exit;

  exit:
    return;

  L68:
    goto anon49_Else;

  anon49_Else:
    assume {:partition} in_Dirent_26 > in_LfnDirent;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} out_LfnOrdinal == in_DirentsInLfn;
    assume {:nonnull} in_Lfn_9 != 0;
    assume in_Lfn_9 > 0;
    havoc out_RemainderChars;
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} out_RemainderChars != 0;
    out_Tmp_2339 := out_RemainderChars * 2;
    call {:si_unique_call 4886} sdv_RtlCopyMemory(0, 0, out_Tmp_2339);
    out_i_18 := out_RemainderChars;
    goto L84;

  L84:
    call {:si_unique_call 4885} out_i_18, out_Tmp_2337, out_Tmp_2343 := FatConstructDirent_loop_L84(out_i_18, out_Tmp_2337, out_Tmp_2343, out_RemainderChars, in_FinalLfnBuffer);
    goto L84_last;

  L84_last:
    goto anon51_Then, anon51_Else;

  anon51_Else:
    assume {:partition} 13 > out_i_18;
    goto anon52_Then, anon52_Else;

  anon52_Else:
    assume {:partition} out_i_18 == out_RemainderChars;
    out_Tmp_2337 := out_i_18;
    assume {:nonnull} in_FinalLfnBuffer != 0;
    assume in_FinalLfnBuffer > 0;
    Mem_T.INT4[in_FinalLfnBuffer + out_Tmp_2337 * 4] := 0;
    goto L89;

  L89:
    out_i_18 := out_i_18 + 1;
    assume false;
    return;

  anon52_Then:
    assume {:partition} out_i_18 != out_RemainderChars;
    out_Tmp_2343 := out_i_18;
    assume {:nonnull} in_FinalLfnBuffer != 0;
    assume in_FinalLfnBuffer > 0;
    Mem_T.INT4[in_FinalLfnBuffer + out_Tmp_2343 * 4] := 65535;
    goto L89;

  anon51_Then:
    assume {:partition} out_i_18 >= 13;
    out_Buffer_27 := in_FinalLfnBuffer;
    goto L90;

  L90:
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    havoc out_Tmp_2345;
    call {:si_unique_call 4882} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    havoc out_Tmp_2347;
    call {:si_unique_call 4883} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    havoc out_Tmp_2348;
    call {:si_unique_call 4884} sdv_RtlCopyMemory(0, 0, 4);
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    out_LfnOrdinal := out_LfnOrdinal - 1;
    goto L90_dummy;

  L90_dummy:
    call {:si_unique_call 4887} {:si_old_unique_call 1} out_i_18, out_LfnOrdinal, out_Tmp_2337, out_Tmp_2339, out_Tmp_2343, out_Tmp_2345, out_Buffer_27, out_RemainderChars, out_Tmp_2347, out_Tmp_2348 := FatConstructDirent_loop_L68(out_i_18, out_LfnOrdinal, out_Tmp_2337, in_DirentsInLfn, out_Tmp_2339, in_DirentChecksum, out_Tmp_2343, out_Tmp_2345, out_Buffer_27, out_RemainderChars, in_LfnDirent, out_Tmp_2347, out_Tmp_2348, in_FinalLfnBuffer, in_LfnBuffer_2, in_Dirent_26, in_Lfn_9);
    return;

  anon54_Then:
    assume {:partition} out_RemainderChars == 0;
    out_Buffer_27 := in_LfnBuffer_2;
    goto L90;

  anon50_Then:
    assume {:partition} out_LfnOrdinal != in_DirentsInLfn;
    assume {:nonnull} in_LfnDirent != 0;
    assume in_LfnDirent > 0;
    out_Buffer_27 := in_LfnBuffer_2;
    goto L90;
}



procedure {:LoopProcedure} FatConstructDirent_loop_L68(in_i_18: int, in_LfnOrdinal: int, in_Tmp_2337: int, in_DirentsInLfn: int, in_Tmp_2339: int, in_DirentChecksum: int, in_Tmp_2343: int, in_Tmp_2345: int, in_Buffer_27: int, in_RemainderChars: int, in_LfnDirent: int, in_Tmp_2347: int, in_Tmp_2348: int, in_FinalLfnBuffer: int, in_LfnBuffer_2: int, in_Dirent_26: int, in_Lfn_9: int) returns (out_i_18: int, out_LfnOrdinal: int, out_Tmp_2337: int, out_Tmp_2339: int, out_Tmp_2343: int, out_Tmp_2345: int, out_Buffer_27: int, out_RemainderChars: int, out_Tmp_2347: int, out_Tmp_2348: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_Buffer_27 == in_Buffer_27 || out_Buffer_27 == in_FinalLfnBuffer || out_Buffer_27 == in_LfnBuffer_2;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L168(in_Bcbs: int, in_PagesPinned: int, in_Tmp_2358: int, in_Page_4: int, in_Tmp_2376: int, in_Tmp_2380: int) returns (out_Tmp_2358: int, out_Page_4: int, out_Tmp_2376: int, out_Tmp_2380: int)
{

  entry:
    out_Tmp_2358, out_Page_4, out_Tmp_2376, out_Tmp_2380 := in_Tmp_2358, in_Page_4, in_Tmp_2376, in_Tmp_2380;
    goto L168, exit;

  exit:
    return;

  L168:
    goto anon86_Else;

  anon86_Else:
    assume {:partition} in_PagesPinned > out_Page_4;
    out_Tmp_2380 := out_Page_4;
    assume {:nonnull} in_Bcbs != 0;
    assume in_Bcbs > 0;
    goto anon105_Then, anon105_Else;

  anon105_Else:
    out_Tmp_2358 := out_Page_4;
    assume {:nonnull} in_Bcbs != 0;
    assume in_Bcbs > 0;
    out_Tmp_2376 := out_Page_4;
    assume {:nonnull} in_Bcbs != 0;
    assume in_Bcbs > 0;
    goto L173;

  L173:
    out_Page_4 := out_Page_4 + 1;
    goto L173_dummy;

  L173_dummy:
    call {:si_unique_call 4888} {:si_old_unique_call 1} out_Tmp_2358, out_Page_4, out_Tmp_2376, out_Tmp_2380 := FatDefragDirectory_loop_L168(in_Bcbs, in_PagesPinned, out_Tmp_2358, out_Page_4, out_Tmp_2376, out_Tmp_2380);
    return;

  anon105_Then:
    goto L173;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L168(in_Bcbs: int, in_PagesPinned: int, in_Tmp_2358: int, in_Page_4: int, in_Tmp_2376: int, in_Tmp_2380: int) returns (out_Tmp_2358: int, out_Page_4: int, out_Tmp_2376: int, out_Tmp_2380: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L184(in_Links_7: int, in_Fcb_58: int, in_sdv_1428: int) returns (out_Links_7: int, out_Fcb_58: int, out_sdv_1428: int)
{

  entry:
    out_Links_7, out_Fcb_58, out_sdv_1428 := in_Links_7, in_Fcb_58, in_sdv_1428;
    goto L184, exit;

  exit:
    return;

  L184:
    goto anon87_Else;

  anon87_Else:
    call {:si_unique_call 4889} out_sdv_1428 := sdv_containing_record(out_Links_7, 72);
    out_Fcb_58 := out_sdv_1428;
    call {:si_unique_call 4890} ExReleaseResourceLite(0);
    assume {:nonnull} out_Links_7 != 0;
    assume out_Links_7 > 0;
    havoc out_Links_7;
    goto anon87_Else_dummy;

  anon87_Else_dummy:
    havoc out_Links_7;
    return;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L184(in_Links_7: int, in_Fcb_58: int, in_sdv_1428: int) returns (out_Links_7: int, out_Fcb_58: int, out_sdv_1428: int);
  modifies alloc;
  free ensures {:va_keep} out_Fcb_58 == in_Links_7 || out_Fcb_58 == in_Fcb_58;
  free ensures {:va_keep} out_sdv_1428 == in_Links_7 || out_sdv_1428 == in_sdv_1428;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L270(in_Bcbs: int, in_PagesPinned: int, in_Tmp_2357: int, in_Tmp_2360: int, in_Page_4: int, in_Tmp_2379: int) returns (out_Tmp_2357: int, out_Tmp_2360: int, out_Page_4: int, out_Tmp_2379: int)
{

  entry:
    out_Tmp_2357, out_Tmp_2360, out_Page_4, out_Tmp_2379 := in_Tmp_2357, in_Tmp_2360, in_Page_4, in_Tmp_2379;
    goto L270, exit;

  exit:
    return;

  L270:
    goto anon95_Else;

  anon95_Else:
    assume {:partition} in_PagesPinned > out_Page_4;
    out_Tmp_2357 := out_Page_4;
    assume {:nonnull} in_Bcbs != 0;
    assume in_Bcbs > 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    out_Tmp_2360 := out_Page_4;
    assume {:nonnull} in_Bcbs != 0;
    assume in_Bcbs > 0;
    out_Tmp_2379 := out_Page_4;
    assume {:nonnull} in_Bcbs != 0;
    assume in_Bcbs > 0;
    goto L275;

  L275:
    out_Page_4 := out_Page_4 + 1;
    goto L275_dummy;

  L275_dummy:
    call {:si_unique_call 4891} {:si_old_unique_call 1} out_Tmp_2357, out_Tmp_2360, out_Page_4, out_Tmp_2379 := FatDefragDirectory_loop_L270(in_Bcbs, in_PagesPinned, out_Tmp_2357, out_Tmp_2360, out_Page_4, out_Tmp_2379);
    return;

  anon107_Then:
    goto L275;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L270(in_Bcbs: int, in_PagesPinned: int, in_Tmp_2357: int, in_Tmp_2360: int, in_Page_4: int, in_Tmp_2379: int) returns (out_Tmp_2357: int, out_Tmp_2360: int, out_Page_4: int, out_Tmp_2379: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L306(in_Links_7: int, in_TmpDirent: int, in_Fcb_58: int, in_TmpBcb: int, in_TmpOffset: int, in_PreviousLfnSpread: int, in_sdv_1436: int, in_InvalidateFcbs: int, in_IrpContext_152: int, in_Dcb_13: int) returns (out_Links_7: int, out_Fcb_58: int, out_PreviousLfnSpread: int, out_sdv_1436: int)
{

  entry:
    out_Links_7, out_Fcb_58, out_PreviousLfnSpread, out_sdv_1436 := in_Links_7, in_Fcb_58, in_PreviousLfnSpread, in_sdv_1436;
    goto L306, exit;

  exit:
    return;

  L306:
    goto anon96_Else;

  anon96_Else:
    assume {:nonnull} in_TmpBcb != 0;
    assume in_TmpBcb > 0;
    assume {:nonnull} in_TmpDirent != 0;
    assume in_TmpDirent > 0;
    call {:si_unique_call 4894} out_sdv_1436 := sdv_containing_record(out_Links_7, 72);
    out_Fcb_58 := out_sdv_1436;
    assume {:nonnull} out_Fcb_58 != 0;
    assume out_Fcb_58 > 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:nonnull} out_Fcb_58 != 0;
    assume out_Fcb_58 > 0;
    goto anon98_Then, anon98_Else;

  anon98_Else:
    goto L321;

  L321:
    assume {:nonnull} out_Links_7 != 0;
    assume out_Links_7 > 0;
    havoc out_Links_7;
    goto L321_dummy;

  L321_dummy:
    call {:si_unique_call 4895} {:si_old_unique_call 1} out_Links_7, out_Fcb_58, out_PreviousLfnSpread, out_sdv_1436 := FatDefragDirectory_loop_L306(out_Links_7, in_TmpDirent, out_Fcb_58, in_TmpBcb, in_TmpOffset, out_PreviousLfnSpread, out_sdv_1436, in_InvalidateFcbs, in_IrpContext_152, in_Dcb_13);
    return;

  anon98_Then:
    goto L318;

  L318:
    goto anon97_Then, anon97_Else;

  anon97_Else:
    assume {:partition} in_InvalidateFcbs != 0;
    goto L325;

  L325:
    assume {:nonnull} in_TmpBcb != 0;
    assume in_TmpBcb > 0;
    goto anon99_Then, anon99_Else;

  anon99_Else:
    goto anon101_Then, anon101_Else;

  anon101_Else:
    assume {:partition} in_InvalidateFcbs == 0;
    assume {:nonnull} in_TmpBcb != 0;
    assume in_TmpBcb > 0;
    goto anon102_Then, anon102_Else;

  anon102_Else:
    assume {:nonnull} in_TmpBcb != 0;
    assume in_TmpBcb > 0;
    goto L329;

  L329:
    assume {:nonnull} out_Fcb_58 != 0;
    assume out_Fcb_58 > 0;
    havoc out_PreviousLfnSpread;
    assume {:nonnull} out_Fcb_58 != 0;
    assume out_Fcb_58 > 0;
    assume {:nonnull} in_TmpOffset != 0;
    assume in_TmpOffset > 0;
    assume {:nonnull} out_Fcb_58 != 0;
    assume out_Fcb_58 > 0;
    assume {:nonnull} in_TmpOffset != 0;
    assume in_TmpOffset > 0;
    goto L321;

  anon102_Then:
    goto L329;

  anon101_Then:
    assume {:partition} in_InvalidateFcbs != 0;
    goto L326;

  L326:
    assume {:nonnull} in_TmpBcb != 0;
    assume in_TmpBcb > 0;
    goto anon100_Then, anon100_Else;

  anon100_Else:
    assume {:nonnull} in_TmpBcb != 0;
    assume in_TmpBcb > 0;
    goto L336;

  L336:
    call {:si_unique_call 4892} FatMarkFcbCondition(in_IrpContext_152, out_Fcb_58, 2, 1);
    goto L321;

  anon100_Then:
    goto L336;

  anon99_Then:
    goto L326;

  anon97_Then:
    assume {:partition} in_InvalidateFcbs == 0;
    assume {:nonnull} out_Fcb_58 != 0;
    assume out_Fcb_58 > 0;
    call {:si_unique_call 4893} FatLocateSimpleOemDirent(in_IrpContext_152, in_Dcb_13, Oem_unnamed_tag_70(Name__FILE_NAME_NODE(ShortName__FCB(out_Fcb_58))), in_TmpDirent, in_TmpBcb, in_TmpOffset);
    goto L325;

  anon108_Then:
    goto L318;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L306(in_Links_7: int, in_TmpDirent: int, in_Fcb_58: int, in_TmpBcb: int, in_TmpOffset: int, in_PreviousLfnSpread: int, in_sdv_1436: int, in_InvalidateFcbs: int, in_IrpContext_152: int, in_Dcb_13: int) returns (out_Links_7: int, out_Fcb_58: int, out_PreviousLfnSpread: int, out_sdv_1436: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L256(in_Char: int, in_UnusedDirents: int)
{

  entry:
    goto L256, exit;

  exit:
    return;

  L256:
    goto anon93_Else;

  anon93_Else:
    assume {:partition} in_UnusedDirents > in_Char;
    assume {:nonnull} in_Char != 0;
    assume in_Char > 0;
    Mem_T.INT4[in_Char] := 229;
    goto anon93_Else_dummy;

  anon93_Else_dummy:
    call {:si_unique_call 4896} {:si_old_unique_call 1} FatDefragDirectory_loop_L256(in_Char, in_UnusedDirents);
    return;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L256(in_Char: int, in_UnusedDirents: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L234(in_Lbo_17: int, in_Tmp_2361: int, in_TotalRuns: int, in_UsedDirents: int, in_Tmp_2374: int, in_BytesUsed: int, in_Run_1: int, in_UnusedDirents: int, in_Directory: int, in_vslice_dummy_var_411: int) returns (out_Tmp_2361: int, out_Tmp_2374: int, out_Run_1: int, out_vslice_dummy_var_411: int)
{

  entry:
    out_Tmp_2361, out_Tmp_2374, out_Run_1, out_vslice_dummy_var_411 := in_Tmp_2361, in_Tmp_2374, in_Run_1, in_vslice_dummy_var_411;
    goto L234, exit;

  exit:
    return;

  L234:
    goto anon91_Else;

  anon91_Else:
    assume {:partition} in_TotalRuns > out_Run_1;
    call {:si_unique_call 4899} out_vslice_dummy_var_411 := corral_nondet();
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} in_Lbo_17 != -1;
    out_Tmp_2374 := in_BytesUsed;
    call {:si_unique_call 4897} sdv_RtlCopyMemory(0, 0, out_Tmp_2374);
    goto L250;

  L250:
    out_Run_1 := out_Run_1 + 1;
    goto L250_dummy;

  L250_dummy:
    havoc out_Run_1;
    return;

  anon92_Then:
    assume {:partition} in_Lbo_17 == -1;
    out_Tmp_2361 := in_BytesUsed;
    call {:si_unique_call 4898} sdv_RtlCopyMemory(0, 0, out_Tmp_2361);
    goto L250;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L234(in_Lbo_17: int, in_Tmp_2361: int, in_TotalRuns: int, in_UsedDirents: int, in_Tmp_2374: int, in_BytesUsed: int, in_Run_1: int, in_UnusedDirents: int, in_Directory: int, in_vslice_dummy_var_411: int) returns (out_Tmp_2361: int, out_Tmp_2374: int, out_Run_1: int, out_vslice_dummy_var_411: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_2361 == in_Tmp_2361 || out_Tmp_2361 == in_BytesUsed;
  free ensures {:va_keep} out_Tmp_2374 == in_BytesUsed || out_Tmp_2374 == in_Tmp_2374;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L216(in_Bcbs: int, in_DcbSize: int, in_PagesPinned: int, in_Dirent_27: int, in_Tmp_2371: int, in_DontCare_4: int, in_Tmp_2372: int, in_Page_4: int, in_PinSize: int, in_Tmp_2378: int, in_Directory: int, in_IrpContext_152: int, in_Dcb_13: int) returns (out_Tmp_2371: int, out_Tmp_2372: int, out_Page_4: int, out_PinSize: int, out_Tmp_2378: int, out_Directory: int)
{

  entry:
    out_Tmp_2371, out_Tmp_2372, out_Page_4, out_PinSize, out_Tmp_2378, out_Directory := in_Tmp_2371, in_Tmp_2372, in_Page_4, in_PinSize, in_Tmp_2378, in_Directory;
    goto L216, exit;

  exit:
    return;

  L216:
    goto anon88_Else;

  anon88_Else:
    assume {:partition} in_PagesPinned > out_Page_4;
    goto anon89_Then, anon89_Else;

  anon89_Else:
    assume {:partition} (out_Page_4 + 1) * 4096 > in_DcbSize;
    out_PinSize := in_DcbSize - out_Page_4 * 4096;
    goto L224;

  L224:
    out_Tmp_2371 := out_Page_4;
    out_Tmp_2372 := in_Bcbs + out_Tmp_2371 * 4;
    out_Tmp_2378 := out_Page_4 * 4096;
    call {:si_unique_call 4900} FatPrepareWriteDirectoryFile(in_IrpContext_152, in_Dcb_13, out_Tmp_2378, out_PinSize, out_Tmp_2372, in_Dirent_27, 0, 1, in_DontCare_4);
    goto anon106_Else;

  anon106_Else:
    assume {:partition} yogi_error != 1;
    goto anon90_Then, anon90_Else;

  anon90_Else:
    assume {:partition} out_Page_4 != 0;
    goto L231;

  L231:
    out_Page_4 := out_Page_4 + 1;
    goto L231_dummy;

  L231_dummy:
    call {:si_unique_call 4901} {:si_old_unique_call 1} out_Tmp_2371, out_Tmp_2372, out_Page_4, out_PinSize, out_Tmp_2378, out_Directory := FatDefragDirectory_loop_L216(in_Bcbs, in_DcbSize, in_PagesPinned, in_Dirent_27, out_Tmp_2371, in_DontCare_4, out_Tmp_2372, out_Page_4, out_PinSize, out_Tmp_2378, out_Directory, in_IrpContext_152, in_Dcb_13);
    return;

  anon90_Then:
    assume {:partition} out_Page_4 == 0;
    assume {:nonnull} in_Dirent_27 != 0;
    assume in_Dirent_27 > 0;
    havoc out_Directory;
    goto L231;

  anon89_Then:
    assume {:partition} in_DcbSize >= (out_Page_4 + 1) * 4096;
    out_PinSize := 4096;
    goto L224;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L216(in_Bcbs: int, in_DcbSize: int, in_PagesPinned: int, in_Dirent_27: int, in_Tmp_2371: int, in_DontCare_4: int, in_Tmp_2372: int, in_Page_4: int, in_PinSize: int, in_Tmp_2378: int, in_Directory: int, in_IrpContext_152: int, in_Dcb_13: int) returns (out_Tmp_2371: int, out_Tmp_2372: int, out_Page_4: int, out_PinSize: int, out_Tmp_2378: int, out_Directory: int);
  modifies alloc, Mem_T.INT4, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L122(in_LfnByteOffset_3: int, in_DcbSize: int, in_Ccb_31: int, in_TotalBytesAllocated: int, in_Lfn_10: int, in_Dirent_27: int, in_Bcb_16: int, in_FoundOffset: int, in_BytesUsed: int, in_QueryOffset: int, in_IrpContext_152: int, in_Dcb_13: int, in_vslice_dummy_var_413: int) returns (out_LfnByteOffset_3: int, out_TotalBytesAllocated: int, out_BytesUsed: int, out_QueryOffset: int, out_vslice_dummy_var_413: int)
{

  entry:
    out_LfnByteOffset_3, out_TotalBytesAllocated, out_BytesUsed, out_QueryOffset, out_vslice_dummy_var_413 := in_LfnByteOffset_3, in_TotalBytesAllocated, in_BytesUsed, in_QueryOffset, in_vslice_dummy_var_413;
    goto L122, exit;

  exit:
    return;

  L122:
    call {:si_unique_call 4902} FatLocateDirent#1(in_IrpContext_152, in_Dcb_13, in_Ccb_31, out_QueryOffset, in_Dirent_27, in_Bcb_16, in_FoundOffset, 0, in_Lfn_10);
    assume {:nonnull} in_Dirent_27 != 0;
    assume in_Dirent_27 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    assume {:nonnull} in_FoundOffset != 0;
    assume in_FoundOffset > 0;
    assume {:nonnull} in_Lfn_10 != 0;
    assume in_Lfn_10 > 0;
    havoc out_LfnByteOffset_3;
    assume {:nonnull} in_FoundOffset != 0;
    assume in_FoundOffset > 0;
    out_BytesUsed := Mem_T.INT4[in_FoundOffset] - out_LfnByteOffset_3 + 32;
    call {:si_unique_call 4903} out_vslice_dummy_var_413 := corral_nondet();
    out_TotalBytesAllocated := out_TotalBytesAllocated + out_BytesUsed;
    assume {:nonnull} in_FoundOffset != 0;
    assume in_FoundOffset > 0;
    out_QueryOffset := Mem_T.INT4[in_FoundOffset] + 32;
    goto L126;

  L126:
    assume {:nonnull} in_Dirent_27 != 0;
    assume in_Dirent_27 > 0;
    goto anon75_Else;

  anon75_Else:
    goto anon77_Then;

  anon77_Then:
    assume {:partition} out_QueryOffset < in_DcbSize;
    goto anon77_Then_dummy;

  anon77_Then_dummy:
    call {:si_unique_call 4904} {:si_old_unique_call 1} out_LfnByteOffset_3, out_TotalBytesAllocated, out_BytesUsed, out_QueryOffset, out_vslice_dummy_var_413 := FatDefragDirectory_loop_L122(out_LfnByteOffset_3, in_DcbSize, in_Ccb_31, out_TotalBytesAllocated, in_Lfn_10, in_Dirent_27, in_Bcb_16, in_FoundOffset, out_BytesUsed, out_QueryOffset, in_IrpContext_152, in_Dcb_13, out_vslice_dummy_var_413);
    return;

  anon74_Then:
    goto L126;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L122(in_LfnByteOffset_3: int, in_DcbSize: int, in_Ccb_31: int, in_TotalBytesAllocated: int, in_Lfn_10: int, in_Dirent_27: int, in_Bcb_16: int, in_FoundOffset: int, in_BytesUsed: int, in_QueryOffset: int, in_IrpContext_152: int, in_Dcb_13: int, in_vslice_dummy_var_413: int) returns (out_LfnByteOffset_3: int, out_TotalBytesAllocated: int, out_BytesUsed: int, out_QueryOffset: int, out_vslice_dummy_var_413: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDefragDirectory_loop_L43(in_Links_7: int, in_Fcb_58: int, in_sdv_1427: int, in_vslice_dummy_var_412: int) returns (out_Links_7: int, out_Fcb_58: int, out_sdv_1427: int, out_vslice_dummy_var_412: int)
{

  entry:
    out_Links_7, out_Fcb_58, out_sdv_1427, out_vslice_dummy_var_412 := in_Links_7, in_Fcb_58, in_sdv_1427, in_vslice_dummy_var_412;
    goto L43, exit;

  exit:
    return;

  L43:
    goto anon73_Then;

  anon73_Then:
    call {:si_unique_call 4905} out_sdv_1427 := sdv_containing_record(out_Links_7, 72);
    out_Fcb_58 := out_sdv_1427;
    call {:si_unique_call 4906} out_vslice_dummy_var_412 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon104_Else;

  anon104_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} out_Links_7 != 0;
    assume out_Links_7 > 0;
    havoc out_Links_7;
    goto anon104_Else_dummy;

  anon104_Else_dummy:
    call {:si_unique_call 4907} {:si_old_unique_call 1} out_Links_7, out_Fcb_58, out_sdv_1427, out_vslice_dummy_var_412 := FatDefragDirectory_loop_L43(out_Links_7, out_Fcb_58, out_sdv_1427, out_vslice_dummy_var_412);
    return;
}



procedure {:LoopProcedure} FatDefragDirectory_loop_L43(in_Links_7: int, in_Fcb_58: int, in_sdv_1427: int, in_vslice_dummy_var_412: int) returns (out_Links_7: int, out_Fcb_58: int, out_sdv_1427: int, out_vslice_dummy_var_412: int);
  modifies yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatComputeLfnChecksum_loop_L10(in_i_19: int, in_Checksum: int, in_Dirent_28: int) returns (out_i_19: int, out_Checksum: int)
{

  entry:
    out_i_19, out_Checksum := in_i_19, in_Checksum;
    goto L10, exit;

  exit:
    return;

  L10:
    assume {:CounterLoop 10} {:Counter "i_19"} true;
    goto anon5_Else;

  anon5_Else:
    assume {:partition} 11 > out_i_19;
    goto anon6_Then, anon6_Else;

  anon6_Else:
    assume {:partition} BAND(out_Checksum, 1) != 0;
    goto L15;

  L15:
    assume {:nonnull} in_Dirent_28 != 0;
    assume in_Dirent_28 > 0;
    call {:si_unique_call 4908} out_Checksum := corral_nondet();
    out_i_19 := out_i_19 + 1;
    goto L15_dummy;

  L15_dummy:
    havoc out_i_19;
    return;

  anon6_Then:
    assume {:partition} BAND(out_Checksum, 1) == 0;
    goto L15;
}



procedure {:LoopProcedure} FatComputeLfnChecksum_loop_L10(in_i_19: int, in_Checksum: int, in_Dirent_28: int) returns (out_i_19: int, out_Checksum: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLocateVolumeLabel_loop_L11(in_Tmp_2458: int, in_Tmp_2459: int, in_Status_58: int, in_Tmp_2461: int, in_Tmp_2462: int, in_Tmp_2463: int, in_Tmp_2464: int, in_Tmp_2465: int, in_Tmp_2466: int, in_IrpContext_156: int, in_Vcb_88: int, in_Dirent_32: int, in_Bcb_19: int, in_ByteOffset_4: int) returns (out_Tmp_2458: int, out_Tmp_2459: int, out_Tmp_2461: int, out_Tmp_2462: int, out_Tmp_2463: int, out_Tmp_2464: int, out_Tmp_2465: int, out_Tmp_2466: int)
{
  var vslice_dummy_var_627: int;

  entry:
    out_Tmp_2458, out_Tmp_2459, out_Tmp_2461, out_Tmp_2462, out_Tmp_2463, out_Tmp_2464, out_Tmp_2465, out_Tmp_2466 := in_Tmp_2458, in_Tmp_2459, in_Tmp_2461, in_Tmp_2462, in_Tmp_2463, in_Tmp_2464, in_Tmp_2465, in_Tmp_2466;
    goto L11, exit;

  exit:
    return;

  L11:
    assume {:nonnull} in_Vcb_88 != 0;
    assume in_Vcb_88 > 0;
    havoc out_Tmp_2458;
    assume {:nonnull} in_ByteOffset_4 != 0;
    assume in_ByteOffset_4 > 0;
    assume {:nonnull} out_Tmp_2458 != 0;
    assume out_Tmp_2458 > 0;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:nonnull} in_Status_58 != 0;
    assume in_Status_58 > 0;
    Mem_T.INT4[in_Status_58] := -1073741807;
    assume {:nonnull} in_Bcb_19 != 0;
    assume in_Bcb_19 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:nonnull} in_Bcb_19 != 0;
    assume in_Bcb_19 > 0;
    goto L15;

  L15:
    assume {:nonnull} in_Status_58 != 0;
    assume in_Status_58 > 0;
    goto anon22_Then;

  anon22_Then:
    assume {:partition} Mem_T.INT4[in_Status_58] != -1073741807;
    assume {:nonnull} in_Dirent_32 != 0;
    assume in_Dirent_32 > 0;
    havoc out_Tmp_2459;
    assume {:nonnull} out_Tmp_2459 != 0;
    assume out_Tmp_2459 > 0;
    havoc out_Tmp_2461;
    assume {:nonnull} out_Tmp_2461 != 0;
    assume out_Tmp_2461 > 0;
    goto anon28_Else;

  anon28_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2461] != 0;
    assume {:nonnull} in_Dirent_32 != 0;
    assume in_Dirent_32 > 0;
    havoc out_Tmp_2465;
    assume {:nonnull} out_Tmp_2465 != 0;
    assume out_Tmp_2465 > 0;
    havoc out_Tmp_2463;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    assume {:partition} out_Tmp_2463 == 8;
    assume {:nonnull} in_Dirent_32 != 0;
    assume in_Dirent_32 > 0;
    havoc out_Tmp_2466;
    assume {:nonnull} out_Tmp_2466 != 0;
    assume out_Tmp_2466 > 0;
    havoc out_Tmp_2462;
    assume {:nonnull} out_Tmp_2462 != 0;
    assume out_Tmp_2462 > 0;
    goto anon30_Then;

  anon30_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2462] == 229;
    goto L31;

  L31:
    assume {:nonnull} in_ByteOffset_4 != 0;
    assume in_ByteOffset_4 > 0;
    Mem_T.INT4[in_ByteOffset_4] := Mem_T.INT4[in_ByteOffset_4] + 32;
    assume {:nonnull} in_Dirent_32 != 0;
    assume in_Dirent_32 > 0;
    goto L31_dummy;

  L31_dummy:
    call {:si_unique_call 4910} {:si_old_unique_call 1} out_Tmp_2458, out_Tmp_2459, out_Tmp_2461, out_Tmp_2462, out_Tmp_2463, out_Tmp_2464, out_Tmp_2465, out_Tmp_2466 := FatLocateVolumeLabel_loop_L11(out_Tmp_2458, out_Tmp_2459, in_Status_58, out_Tmp_2461, out_Tmp_2462, out_Tmp_2463, out_Tmp_2464, out_Tmp_2465, out_Tmp_2466, in_IrpContext_156, in_Vcb_88, in_Dirent_32, in_Bcb_19, in_ByteOffset_4);
    return;

  anon29_Then:
    assume {:partition} out_Tmp_2463 != 8;
    goto L31;

  anon27_Then:
    goto L15;

  anon26_Then:
    assume {:nonnull} in_ByteOffset_4 != 0;
    assume in_ByteOffset_4 > 0;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} INTMOD(Mem_T.INT4[in_ByteOffset_4], 4096) != 0;
    assume {:nonnull} in_Bcb_19 != 0;
    assume in_Bcb_19 > 0;
    goto anon25_Then, anon25_Else;

  anon25_Else:
    goto L38;

  L38:
    assume {:nonnull} in_Bcb_19 != 0;
    assume in_Bcb_19 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} in_Bcb_19 != 0;
    assume in_Bcb_19 > 0;
    goto L40;

  L40:
    assume {:nonnull} in_ByteOffset_4 != 0;
    assume in_ByteOffset_4 > 0;
    out_Tmp_2464 := BAND(Mem_T.INT4[in_ByteOffset_4], BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    assume {:nonnull} in_Vcb_88 != 0;
    assume in_Vcb_88 > 0;
    havoc vslice_dummy_var_627;
    call {:si_unique_call 4909} FatReadDirectoryFile#1(in_IrpContext_156, vslice_dummy_var_627, out_Tmp_2464, 4096, 0, in_Bcb_19, in_Dirent_32, in_Status_58);
    assume {:nonnull} in_Dirent_32 != 0;
    assume in_Dirent_32 > 0;
    goto L15;

  anon24_Then:
    goto L40;

  anon25_Then:
    goto L15;

  anon21_Then:
    assume {:partition} INTMOD(Mem_T.INT4[in_ByteOffset_4], 4096) == 0;
    goto L38;
}



procedure {:LoopProcedure} FatLocateVolumeLabel_loop_L11(in_Tmp_2458: int, in_Tmp_2459: int, in_Status_58: int, in_Tmp_2461: int, in_Tmp_2462: int, in_Tmp_2463: int, in_Tmp_2464: int, in_Tmp_2465: int, in_Tmp_2466: int, in_IrpContext_156: int, in_Vcb_88: int, in_Dirent_32: int, in_Bcb_19: int, in_ByteOffset_4: int) returns (out_Tmp_2458: int, out_Tmp_2459: int, out_Tmp_2461: int, out_Tmp_2462: int, out_Tmp_2463: int, out_Tmp_2464: int, out_Tmp_2465: int, out_Tmp_2466: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatTunnelFcbOrDcb_loop_L27(in_i_20: int, in_ShortNameWithCase: int, in_Tmp_2482: int) returns (out_i_20: int, out_Tmp_2482: int)
{

  entry:
    out_i_20, out_Tmp_2482 := in_i_20, in_Tmp_2482;
    goto L27, exit;

  exit:
    return;

  L27:
    assume {:nonnull} in_ShortNameWithCase != 0;
    assume in_ShortNameWithCase > 0;
    goto anon18_Else;

  anon18_Else:
    out_Tmp_2482 := out_i_20;
    assume {:nonnull} in_ShortNameWithCase != 0;
    assume in_ShortNameWithCase > 0;
    goto anon22_Else;

  anon22_Else:
    out_i_20 := out_i_20 + 1;
    goto anon22_Else_dummy;

  anon22_Else_dummy:
    havoc out_i_20;
    return;
}



procedure {:LoopProcedure} FatTunnelFcbOrDcb_loop_L27(in_i_20: int, in_ShortNameWithCase: int, in_Tmp_2482: int) returns (out_i_20: int, out_Tmp_2482: int);
  free ensures {:va_keep} out_Tmp_2482 == in_i_20 || out_Tmp_2482 == in_Tmp_2482;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCreateNewDirent_loop_L89(in_i_21: int, in_Tmp_2488: int, in_Tmp_2489: int, in_Status_60: int, in_Dirent_35: int, in_Bcb_21: int, in_ByteOffset_6: int, in_Tmp_2498: int, in_IrpContext_159: int, in_ParentDirectory_2: int, in_DirentsNeeded_3: int) returns (out_i_21: int, out_Tmp_2488: int, out_Tmp_2489: int, out_Tmp_2498: int)
{

  entry:
    out_i_21, out_Tmp_2488, out_Tmp_2489, out_Tmp_2498 := in_i_21, in_Tmp_2488, in_Tmp_2489, in_Tmp_2498;
    goto L89, exit;

  exit:
    return;

  L89:
    goto anon89_Else;

  anon89_Else:
    assume {:partition} in_DirentsNeeded_3 > out_i_21;
    assume {:nonnull} in_ParentDirectory_2 != 0;
    assume in_ParentDirectory_2 > 0;
    goto anon91_Then, anon91_Else;

  anon91_Else:
    assume {:nonnull} in_Status_60 != 0;
    assume in_Status_60 > 0;
    Mem_T.INT4[in_Status_60] := -1073741807;
    assume {:nonnull} in_Bcb_21 != 0;
    assume in_Bcb_21 > 0;
    goto anon107_Then, anon107_Else;

  anon107_Else:
    assume {:nonnull} in_Bcb_21 != 0;
    assume in_Bcb_21 > 0;
    goto L95;

  L95:
    assume {:nonnull} in_Status_60 != 0;
    assume in_Status_60 > 0;
    goto anon93_Then, anon93_Else;

  anon93_Else:
    assume {:partition} Mem_T.INT4[in_Status_60] != 0;
    goto L106;

  L106:
    call {:si_unique_call 4911} FatPopUpFileCorrupt#1(in_IrpContext_159, in_ParentDirectory_2);
    assume {:nonnull} in_IrpContext_159 != 0;
    assume in_IrpContext_159 > 0;
    call {:si_unique_call 4912} ExRaiseStatus(-1073741566);
    goto L113;

  L113:
    out_i_21 := out_i_21 + 1;
    goto L113_dummy;

  L113_dummy:
    call {:si_unique_call 4914} {:si_old_unique_call 1} out_i_21, out_Tmp_2488, out_Tmp_2489, out_Tmp_2498 := FatCreateNewDirent_loop_L89(out_i_21, out_Tmp_2488, out_Tmp_2489, in_Status_60, in_Dirent_35, in_Bcb_21, in_ByteOffset_6, out_Tmp_2498, in_IrpContext_159, in_ParentDirectory_2, in_DirentsNeeded_3);
    return;

  anon93_Then:
    assume {:partition} Mem_T.INT4[in_Status_60] == 0;
    assume {:nonnull} in_Dirent_35 != 0;
    assume in_Dirent_35 > 0;
    havoc out_Tmp_2489;
    assume {:nonnull} out_Tmp_2489 != 0;
    assume out_Tmp_2489 > 0;
    goto anon108_Then, anon108_Else;

  anon108_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2489] != 0;
    assume {:nonnull} in_Dirent_35 != 0;
    assume in_Dirent_35 > 0;
    havoc out_Tmp_2498;
    assume {:nonnull} out_Tmp_2498 != 0;
    assume out_Tmp_2498 > 0;
    goto anon109_Then, anon109_Else;

  anon109_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2498] == 229;
    goto L113;

  anon109_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2498] != 229;
    goto L106;

  anon108_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2489] == 0;
    goto L113;

  anon107_Then:
    goto L95;

  anon91_Then:
    goto anon92_Then, anon92_Else;

  anon92_Else:
    assume {:partition} INTMOD(in_ByteOffset_6 + out_i_21 * 32, 4096) != 0;
    assume {:nonnull} in_Bcb_21 != 0;
    assume in_Bcb_21 > 0;
    goto anon95_Then, anon95_Else;

  anon95_Else:
    goto L115;

  L115:
    assume {:nonnull} in_Bcb_21 != 0;
    assume in_Bcb_21 > 0;
    goto anon94_Then, anon94_Else;

  anon94_Else:
    assume {:nonnull} in_Bcb_21 != 0;
    assume in_Bcb_21 > 0;
    goto L117;

  L117:
    out_Tmp_2488 := BAND(in_ByteOffset_6 + out_i_21 * 32, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 4913} FatReadDirectoryFile#1(in_IrpContext_159, in_ParentDirectory_2, out_Tmp_2488, 4096, 0, in_Bcb_21, in_Dirent_35, in_Status_60);
    assume {:nonnull} in_Dirent_35 != 0;
    assume in_Dirent_35 > 0;
    goto L95;

  anon94_Then:
    goto L117;

  anon95_Then:
    goto L95;

  anon92_Then:
    assume {:partition} INTMOD(in_ByteOffset_6 + out_i_21 * 32, 4096) == 0;
    goto L115;
}



procedure {:LoopProcedure} FatCreateNewDirent_loop_L89(in_i_21: int, in_Tmp_2488: int, in_Tmp_2489: int, in_Status_60: int, in_Dirent_35: int, in_Bcb_21: int, in_ByteOffset_6: int, in_Tmp_2498: int, in_IrpContext_159: int, in_ParentDirectory_2: int, in_DirentsNeeded_3: int) returns (out_i_21: int, out_Tmp_2488: int, out_Tmp_2489: int, out_Tmp_2498: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatIsDirectoryEmpty_loop_L20(in_Tmp_2535: int, in_Dirent_36: int, in_Status_61: int, in_Tmp_2536: int, in_Bcb_23: int, in_ByteOffset_7: int, in_Tmp_2538: int, in_IrpContext_161: int, in_Dcb_16: int) returns (out_Tmp_2535: int, out_Tmp_2536: int, out_ByteOffset_7: int, out_Tmp_2538: int)
{

  entry:
    out_Tmp_2535, out_Tmp_2536, out_ByteOffset_7, out_Tmp_2538 := in_Tmp_2535, in_Tmp_2536, in_ByteOffset_7, in_Tmp_2538;
    goto L20, exit;

  exit:
    return;

  L20:
    assume {:nonnull} in_Dcb_16 != 0;
    assume in_Dcb_16 > 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:nonnull} in_Status_61 != 0;
    assume in_Status_61 > 0;
    Mem_T.INT4[in_Status_61] := -1073741807;
    assume {:nonnull} in_Bcb_23 != 0;
    assume in_Bcb_23 > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} in_Bcb_23 != 0;
    assume in_Bcb_23 > 0;
    goto L24;

  L24:
    assume {:nonnull} in_Status_61 != 0;
    assume in_Status_61 > 0;
    goto anon26_Then;

  anon26_Then:
    assume {:partition} Mem_T.INT4[in_Status_61] != -1073741807;
    assume {:nonnull} in_Dirent_36 != 0;
    assume in_Dirent_36 > 0;
    havoc out_Tmp_2535;
    assume {:nonnull} out_Tmp_2535 != 0;
    assume out_Tmp_2535 > 0;
    goto anon32_Else;

  anon32_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2535] != 0;
    assume {:nonnull} in_Dirent_36 != 0;
    assume in_Dirent_36 > 0;
    havoc out_Tmp_2536;
    assume {:nonnull} out_Tmp_2536 != 0;
    assume out_Tmp_2536 > 0;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2536] != 229;
    assume {:nonnull} in_Dirent_36 != 0;
    assume in_Dirent_36 > 0;
    goto anon27_Then;

  anon27_Then:
    goto L38;

  L38:
    out_ByteOffset_7 := out_ByteOffset_7 + 32;
    assume {:nonnull} in_Dirent_36 != 0;
    assume in_Dirent_36 > 0;
    goto L38_dummy;

  L38_dummy:
    call {:si_unique_call 4916} {:si_old_unique_call 1} out_Tmp_2535, out_Tmp_2536, out_ByteOffset_7, out_Tmp_2538 := FatIsDirectoryEmpty_loop_L20(out_Tmp_2535, in_Dirent_36, in_Status_61, out_Tmp_2536, in_Bcb_23, out_ByteOffset_7, out_Tmp_2538, in_IrpContext_161, in_Dcb_16);
    return;

  anon33_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2536] == 229;
    goto L38;

  anon31_Then:
    goto L24;

  anon24_Then:
    goto anon25_Then, anon25_Else;

  anon25_Else:
    assume {:partition} INTMOD(out_ByteOffset_7, 4096) != 0;
    assume {:nonnull} in_Bcb_23 != 0;
    assume in_Bcb_23 > 0;
    goto anon29_Then, anon29_Else;

  anon29_Else:
    goto L43;

  L43:
    assume {:nonnull} in_Bcb_23 != 0;
    assume in_Bcb_23 > 0;
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:nonnull} in_Bcb_23 != 0;
    assume in_Bcb_23 > 0;
    goto L45;

  L45:
    out_Tmp_2538 := BAND(out_ByteOffset_7, BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 4915} FatReadDirectoryFile#1(in_IrpContext_161, in_Dcb_16, out_Tmp_2538, 4096, 0, in_Bcb_23, in_Dirent_36, in_Status_61);
    assume {:nonnull} in_Dirent_36 != 0;
    assume in_Dirent_36 > 0;
    goto L24;

  anon28_Then:
    goto L45;

  anon29_Then:
    goto L24;

  anon25_Then:
    assume {:partition} INTMOD(out_ByteOffset_7, 4096) == 0;
    goto L43;
}



procedure {:LoopProcedure} FatIsDirectoryEmpty_loop_L20(in_Tmp_2535: int, in_Dirent_36: int, in_Status_61: int, in_Tmp_2536: int, in_Bcb_23: int, in_ByteOffset_7: int, in_Tmp_2538: int, in_IrpContext_161: int, in_Dcb_16: int) returns (out_Tmp_2535: int, out_Tmp_2536: int, out_ByteOffset_7: int, out_Tmp_2538: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatInsertName_loop_L18(in_Tmp_2564: int, in_Tmp_2566: int, in_Tmp_2567: int, in_Tmp_2568: int, in_Tmp_2569: int, in_Node: int, in_Tmp_2570: int, in_Tmp_2571: int, in_Tmp_2572: int, in_sdv_1460: int, in_sdv_1461: int, in_Comparison: int, in_Tmp_2574: int, in_Tmp_2575: int, in_Tmp_2576: int, in_Tmp_2577: int, in_Tmp_2579: int, in_Tmp_2580: int, in_Name_4: int) returns (out_Tmp_2564: int, out_Tmp_2566: int, out_Tmp_2567: int, out_Tmp_2568: int, out_Tmp_2569: int, out_Node: int, out_Tmp_2570: int, out_Tmp_2571: int, out_Tmp_2572: int, out_sdv_1460: int, out_sdv_1461: int, out_Comparison: int, out_Tmp_2574: int, out_Tmp_2575: int, out_Tmp_2576: int, out_Tmp_2577: int, out_Tmp_2579: int, out_Tmp_2580: int)
{
  var vslice_dummy_var_628: int;
  var vslice_dummy_var_629: int;

  entry:
    out_Tmp_2564, out_Tmp_2566, out_Tmp_2567, out_Tmp_2568, out_Tmp_2569, out_Node, out_Tmp_2570, out_Tmp_2571, out_Tmp_2572, out_sdv_1460, out_sdv_1461, out_Comparison, out_Tmp_2574, out_Tmp_2575, out_Tmp_2576, out_Tmp_2577, out_Tmp_2579, out_Tmp_2580 := in_Tmp_2564, in_Tmp_2566, in_Tmp_2567, in_Tmp_2568, in_Tmp_2569, in_Node, in_Tmp_2570, in_Tmp_2571, in_Tmp_2572, in_sdv_1460, in_sdv_1461, in_Comparison, in_Tmp_2574, in_Tmp_2575, in_Tmp_2576, in_Tmp_2577, in_Tmp_2579, in_Tmp_2580;
    goto L18, exit;

  exit:
    return;

  L18:
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2566 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node));
    assume {:nonnull} out_Tmp_2566 != 0;
    assume out_Tmp_2566 > 0;
    havoc out_Tmp_2574;
    assume {:nonnull} in_Name_4 != 0;
    assume in_Name_4 > 0;
    out_Tmp_2577 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4));
    assume {:nonnull} out_Tmp_2577 != 0;
    assume out_Tmp_2577 > 0;
    havoc out_Tmp_2575;
    assume {:nonnull} out_Tmp_2574 != 0;
    assume out_Tmp_2574 > 0;
    assume {:nonnull} out_Tmp_2575 != 0;
    assume out_Tmp_2575 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2574] != Mem_T.INT4[out_Tmp_2575];
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2579 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node));
    assume {:nonnull} out_Tmp_2579 != 0;
    assume out_Tmp_2579 > 0;
    havoc out_Tmp_2576;
    assume {:nonnull} in_Name_4 != 0;
    assume in_Name_4 > 0;
    out_Tmp_2571 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4));
    assume {:nonnull} out_Tmp_2571 != 0;
    assume out_Tmp_2571 > 0;
    havoc out_Tmp_2568;
    assume {:nonnull} out_Tmp_2568 != 0;
    assume out_Tmp_2568 > 0;
    assume {:nonnull} out_Tmp_2576 != 0;
    assume out_Tmp_2576 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2568] > Mem_T.INT4[out_Tmp_2576];
    out_Tmp_2580 := 0;
    goto L25;

  L25:
    out_Tmp_2567 := out_Tmp_2580;
    goto L26;

  L26:
    out_Comparison := out_Tmp_2567;
    goto anon21_Then;

  anon21_Then:
    assume {:partition} out_Comparison != 2;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} out_Comparison == 1;
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2564 := Links__FILE_NAME_NODE(out_Node);
    assume {:nonnull} out_Tmp_2564 != 0;
    assume out_Tmp_2564 > 0;
    goto anon23_Then;

  anon23_Then:
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2570 := Links__FILE_NAME_NODE(out_Node);
    assume {:nonnull} out_Tmp_2570 != 0;
    assume out_Tmp_2570 > 0;
    havoc vslice_dummy_var_628;
    call {:si_unique_call 4917} out_sdv_1460 := sdv_containing_record(vslice_dummy_var_628, 16);
    out_Node := out_sdv_1460;
    goto anon23_Then_dummy;

  anon23_Then_dummy:
    goto L_BAF_11;

  L_BAF_11:
    call {:si_unique_call 4920} {:si_old_unique_call 1} out_Tmp_2564, out_Tmp_2566, out_Tmp_2567, out_Tmp_2568, out_Tmp_2569, out_Node, out_Tmp_2570, out_Tmp_2571, out_Tmp_2572, out_sdv_1460, out_sdv_1461, out_Comparison, out_Tmp_2574, out_Tmp_2575, out_Tmp_2576, out_Tmp_2577, out_Tmp_2579, out_Tmp_2580 := FatInsertName_loop_L18(out_Tmp_2564, out_Tmp_2566, out_Tmp_2567, out_Tmp_2568, out_Tmp_2569, out_Node, out_Tmp_2570, out_Tmp_2571, out_Tmp_2572, out_sdv_1460, out_sdv_1461, out_Comparison, out_Tmp_2574, out_Tmp_2575, out_Tmp_2576, out_Tmp_2577, out_Tmp_2579, out_Tmp_2580, in_Name_4);
    return;

  anon17_Then:
    assume {:partition} out_Comparison != 1;
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2572 := Links__FILE_NAME_NODE(out_Node);
    assume {:nonnull} out_Tmp_2572 != 0;
    assume out_Tmp_2572 > 0;
    goto anon24_Then;

  anon24_Then:
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2569 := Links__FILE_NAME_NODE(out_Node);
    assume {:nonnull} out_Tmp_2569 != 0;
    assume out_Tmp_2569 > 0;
    havoc vslice_dummy_var_629;
    call {:si_unique_call 4919} out_sdv_1461 := sdv_containing_record(vslice_dummy_var_629, 16);
    out_Node := out_sdv_1461;
    goto anon24_Then_dummy;

  anon24_Then_dummy:
    goto L_BAF_11;

  anon20_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2576] >= Mem_T.INT4[out_Tmp_2568];
    out_Tmp_2580 := 1;
    goto L25;

  anon19_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2574] == Mem_T.INT4[out_Tmp_2575];
    assume {:nonnull} in_Name_4 != 0;
    assume in_Name_4 > 0;
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    call {:si_unique_call 4918} out_Tmp_2567 := FatCompareNames(Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node)), Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4)));
    goto L26;
}



procedure {:LoopProcedure} FatInsertName_loop_L18(in_Tmp_2564: int, in_Tmp_2566: int, in_Tmp_2567: int, in_Tmp_2568: int, in_Tmp_2569: int, in_Node: int, in_Tmp_2570: int, in_Tmp_2571: int, in_Tmp_2572: int, in_sdv_1460: int, in_sdv_1461: int, in_Comparison: int, in_Tmp_2574: int, in_Tmp_2575: int, in_Tmp_2576: int, in_Tmp_2577: int, in_Tmp_2579: int, in_Tmp_2580: int, in_Name_4: int) returns (out_Tmp_2564: int, out_Tmp_2566: int, out_Tmp_2567: int, out_Tmp_2568: int, out_Tmp_2569: int, out_Node: int, out_Tmp_2570: int, out_Tmp_2571: int, out_Tmp_2572: int, out_sdv_1460: int, out_sdv_1461: int, out_Comparison: int, out_Tmp_2574: int, out_Tmp_2575: int, out_Tmp_2576: int, out_Tmp_2577: int, out_Tmp_2579: int, out_Tmp_2580: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_2567 == 0 || out_Tmp_2567 == 1 || out_Tmp_2567 == 2 || out_Tmp_2567 == in_Tmp_2567;
  free ensures {:va_keep} out_Tmp_2571 == in_Tmp_2571 || out_Tmp_2571 == Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4));
  free ensures {:va_keep} out_Comparison == 0 || out_Comparison == 1 || out_Comparison == 2 || out_Comparison == in_Comparison;
  free ensures {:va_keep} out_Tmp_2577 == in_Tmp_2577 || out_Tmp_2577 == Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4));
  free ensures {:va_keep} out_Tmp_2580 == 0 || out_Tmp_2580 == 1 || out_Tmp_2580 == in_Tmp_2580;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatInsertName_loop_L12(in_Tmp_2564: int, in_Tmp_2566: int, in_Tmp_2567: int, in_Tmp_2568: int, in_Tmp_2569: int, in_sdv_1458: int, in_Node: int, in_Tmp_2570: int, in_Tmp_2571: int, in_Tmp_2572: int, in_sdv_1460: int, in_sdv_1461: int, in_Comparison: int, in_Tmp_2574: int, in_Tmp_2575: int, in_Tmp_2576: int, in_Tmp_2577: int, in_Tmp_2578: int, in_Tmp_2579: int, in_Tmp_2580: int, in_IrpContext_164: int, in_RootNode: int, in_Name_4: int) returns (out_Tmp_2564: int, out_Tmp_2566: int, out_Tmp_2567: int, out_Tmp_2568: int, out_Tmp_2569: int, out_sdv_1458: int, out_Node: int, out_Tmp_2570: int, out_Tmp_2571: int, out_Tmp_2572: int, out_sdv_1460: int, out_sdv_1461: int, out_Comparison: int, out_Tmp_2574: int, out_Tmp_2575: int, out_Tmp_2576: int, out_Tmp_2577: int, out_Tmp_2578: int, out_Tmp_2579: int, out_Tmp_2580: int)
{
  var vslice_dummy_var_630: int;
  var vslice_dummy_var_631: int;
  var vslice_dummy_var_632: int;
  var vslice_dummy_var_633: int;
  var vslice_dummy_var_634: int;
  var vslice_dummy_var_635: int;

  entry:
    out_Tmp_2564, out_Tmp_2566, out_Tmp_2567, out_Tmp_2568, out_Tmp_2569, out_sdv_1458, out_Node, out_Tmp_2570, out_Tmp_2571, out_Tmp_2572, out_sdv_1460, out_sdv_1461, out_Comparison, out_Tmp_2574, out_Tmp_2575, out_Tmp_2576, out_Tmp_2577, out_Tmp_2578, out_Tmp_2579, out_Tmp_2580 := in_Tmp_2564, in_Tmp_2566, in_Tmp_2567, in_Tmp_2568, in_Tmp_2569, in_sdv_1458, in_Node, in_Tmp_2570, in_Tmp_2571, in_Tmp_2572, in_sdv_1460, in_sdv_1461, in_Comparison, in_Tmp_2574, in_Tmp_2575, in_Tmp_2576, in_Tmp_2577, in_Tmp_2578, in_Tmp_2579, in_Tmp_2580;
    goto L12, exit;

  exit:
    return;

  L12:
    assume {:nonnull} in_RootNode != 0;
    assume in_RootNode > 0;
    havoc vslice_dummy_var_630;
    call {:si_unique_call 4921} out_sdv_1458 := sdv_containing_record(vslice_dummy_var_630, 16);
    out_Node := out_sdv_1458;
    goto L18;

  L18:
    call {:si_unique_call 4926} out_Tmp_2564, out_Tmp_2566, out_Tmp_2567, out_Tmp_2568, out_Tmp_2569, out_Node, out_Tmp_2570, out_Tmp_2571, out_Tmp_2572, out_sdv_1460, out_sdv_1461, out_Comparison, out_Tmp_2574, out_Tmp_2575, out_Tmp_2576, out_Tmp_2577, out_Tmp_2579, out_Tmp_2580 := FatInsertName_loop_L18(out_Tmp_2564, out_Tmp_2566, out_Tmp_2567, out_Tmp_2568, out_Tmp_2569, out_Node, out_Tmp_2570, out_Tmp_2571, out_Tmp_2572, out_sdv_1460, out_sdv_1461, out_Comparison, out_Tmp_2574, out_Tmp_2575, out_Tmp_2576, out_Tmp_2577, out_Tmp_2579, out_Tmp_2580, in_Name_4);
    goto L18_last;

  L18_last:
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2566 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node));
    assume {:nonnull} out_Tmp_2566 != 0;
    assume out_Tmp_2566 > 0;
    havoc out_Tmp_2574;
    assume {:nonnull} in_Name_4 != 0;
    assume in_Name_4 > 0;
    out_Tmp_2577 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4));
    assume {:nonnull} out_Tmp_2577 != 0;
    assume out_Tmp_2577 > 0;
    havoc out_Tmp_2575;
    assume {:nonnull} out_Tmp_2574 != 0;
    assume out_Tmp_2574 > 0;
    assume {:nonnull} out_Tmp_2575 != 0;
    assume out_Tmp_2575 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2574] != Mem_T.INT4[out_Tmp_2575];
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2579 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node));
    assume {:nonnull} out_Tmp_2579 != 0;
    assume out_Tmp_2579 > 0;
    havoc out_Tmp_2576;
    assume {:nonnull} in_Name_4 != 0;
    assume in_Name_4 > 0;
    out_Tmp_2571 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4));
    assume {:nonnull} out_Tmp_2571 != 0;
    assume out_Tmp_2571 > 0;
    havoc out_Tmp_2568;
    assume {:nonnull} out_Tmp_2568 != 0;
    assume out_Tmp_2568 > 0;
    assume {:nonnull} out_Tmp_2576 != 0;
    assume out_Tmp_2576 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2568] > Mem_T.INT4[out_Tmp_2576];
    out_Tmp_2580 := 0;
    goto L25;

  L25:
    out_Tmp_2567 := out_Tmp_2580;
    goto L26;

  L26:
    out_Comparison := out_Tmp_2567;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} out_Comparison == 2;
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    havoc out_Tmp_2578;
    assume {:nonnull} out_Tmp_2578 != 0;
    assume out_Tmp_2578 > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:nonnull} in_RootNode != 0;
    assume in_RootNode > 0;
    havoc vslice_dummy_var_633;
    call {:si_unique_call 4924} KeBugCheckEx(35, 1769629, vslice_dummy_var_633, in_Name_4, out_Node);
    goto L30;

  L30:
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    havoc vslice_dummy_var_631;
    call {:si_unique_call 4922} FatMarkFcbCondition(in_IrpContext_164, vslice_dummy_var_631, 2, 1);
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    havoc vslice_dummy_var_632;
    call {:si_unique_call 4923} FatRemoveNames(in_IrpContext_164, vslice_dummy_var_632);
    goto L30_dummy;

  L30_dummy:
    call {:si_unique_call 4929} {:si_old_unique_call 1} out_Tmp_2564, out_Tmp_2566, out_Tmp_2567, out_Tmp_2568, out_Tmp_2569, out_sdv_1458, out_Node, out_Tmp_2570, out_Tmp_2571, out_Tmp_2572, out_sdv_1460, out_sdv_1461, out_Comparison, out_Tmp_2574, out_Tmp_2575, out_Tmp_2576, out_Tmp_2577, out_Tmp_2578, out_Tmp_2579, out_Tmp_2580 := FatInsertName_loop_L12(out_Tmp_2564, out_Tmp_2566, out_Tmp_2567, out_Tmp_2568, out_Tmp_2569, out_sdv_1458, out_Node, out_Tmp_2570, out_Tmp_2571, out_Tmp_2572, out_sdv_1460, out_sdv_1461, out_Comparison, out_Tmp_2574, out_Tmp_2575, out_Tmp_2576, out_Tmp_2577, out_Tmp_2578, out_Tmp_2579, out_Tmp_2580, in_IrpContext_164, in_RootNode, in_Name_4);
    return;

  anon22_Then:
    goto L30;

  anon21_Then:
    assume {:partition} out_Comparison != 2;
    goto anon17_Then, anon17_Else;

  anon17_Else:
    assume {:partition} out_Comparison == 1;
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2564 := Links__FILE_NAME_NODE(out_Node);
    assume {:nonnull} out_Tmp_2564 != 0;
    assume out_Tmp_2564 > 0;
    goto anon23_Then;

  anon23_Then:
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2570 := Links__FILE_NAME_NODE(out_Node);
    assume {:nonnull} out_Tmp_2570 != 0;
    assume out_Tmp_2570 > 0;
    havoc vslice_dummy_var_634;
    call {:si_unique_call 4927} out_sdv_1460 := sdv_containing_record(vslice_dummy_var_634, 16);
    out_Node := out_sdv_1460;
    assume false;
    return;

  anon17_Then:
    assume {:partition} out_Comparison != 1;
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2572 := Links__FILE_NAME_NODE(out_Node);
    assume {:nonnull} out_Tmp_2572 != 0;
    assume out_Tmp_2572 > 0;
    goto anon24_Then;

  anon24_Then:
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    out_Tmp_2569 := Links__FILE_NAME_NODE(out_Node);
    assume {:nonnull} out_Tmp_2569 != 0;
    assume out_Tmp_2569 > 0;
    havoc vslice_dummy_var_635;
    call {:si_unique_call 4928} out_sdv_1461 := sdv_containing_record(vslice_dummy_var_635, 16);
    out_Node := out_sdv_1461;
    assume false;
    return;

  anon20_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2576] >= Mem_T.INT4[out_Tmp_2568];
    out_Tmp_2580 := 1;
    goto L25;

  anon19_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2574] == Mem_T.INT4[out_Tmp_2575];
    assume {:nonnull} in_Name_4 != 0;
    assume in_Name_4 > 0;
    assume {:nonnull} out_Node != 0;
    assume out_Node > 0;
    call {:si_unique_call 4925} out_Tmp_2567 := FatCompareNames(Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node)), Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4)));
    goto L26;
}



procedure {:LoopProcedure} FatInsertName_loop_L12(in_Tmp_2564: int, in_Tmp_2566: int, in_Tmp_2567: int, in_Tmp_2568: int, in_Tmp_2569: int, in_sdv_1458: int, in_Node: int, in_Tmp_2570: int, in_Tmp_2571: int, in_Tmp_2572: int, in_sdv_1460: int, in_sdv_1461: int, in_Comparison: int, in_Tmp_2574: int, in_Tmp_2575: int, in_Tmp_2576: int, in_Tmp_2577: int, in_Tmp_2578: int, in_Tmp_2579: int, in_Tmp_2580: int, in_IrpContext_164: int, in_RootNode: int, in_Name_4: int) returns (out_Tmp_2564: int, out_Tmp_2566: int, out_Tmp_2567: int, out_Tmp_2568: int, out_Tmp_2569: int, out_sdv_1458: int, out_Node: int, out_Tmp_2570: int, out_Tmp_2571: int, out_Tmp_2572: int, out_sdv_1460: int, out_sdv_1461: int, out_Comparison: int, out_Tmp_2574: int, out_Tmp_2575: int, out_Tmp_2576: int, out_Tmp_2577: int, out_Tmp_2578: int, out_Tmp_2579: int, out_Tmp_2580: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_2567 == 0 || out_Tmp_2567 == 1 || out_Tmp_2567 == 2 || out_Tmp_2567 == in_Tmp_2567;
  free ensures {:va_keep} out_Tmp_2571 == in_Tmp_2571 || out_Tmp_2571 == Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4));
  free ensures {:va_keep} out_Comparison == 0 || out_Comparison == 1 || out_Comparison == 2 || out_Comparison == in_Comparison;
  free ensures {:va_keep} out_Tmp_2577 == in_Tmp_2577 || out_Tmp_2577 == Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Name_4));
  free ensures {:va_keep} out_Tmp_2580 == 0 || out_Tmp_2580 == 1 || out_Tmp_2580 == in_Tmp_2580;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatFindFcb_loop_L7(in_Tmp_2594: int, in_Links_8: int, in_sdv_1466: int, in_Tmp_2596: int, in_Node_1: int, in_Tmp_2597: int, in_Tmp_2598: int, in_Tmp_2599: int, in_Tmp_2600: int, in_Comparison_1: int, in_Tmp_2601: int, in_Tmp_2602: int, in_Name_5: int) returns (out_Tmp_2594: int, out_Links_8: int, out_sdv_1466: int, out_Tmp_2596: int, out_Node_1: int, out_Tmp_2597: int, out_Tmp_2598: int, out_Tmp_2599: int, out_Tmp_2600: int, out_Comparison_1: int, out_Tmp_2601: int, out_Tmp_2602: int)
{

  entry:
    out_Tmp_2594, out_Links_8, out_sdv_1466, out_Tmp_2596, out_Node_1, out_Tmp_2597, out_Tmp_2598, out_Tmp_2599, out_Tmp_2600, out_Comparison_1, out_Tmp_2601, out_Tmp_2602 := in_Tmp_2594, in_Links_8, in_sdv_1466, in_Tmp_2596, in_Node_1, in_Tmp_2597, in_Tmp_2598, in_Tmp_2599, in_Tmp_2600, in_Comparison_1, in_Tmp_2601, in_Tmp_2602;
    goto L7, exit;

  exit:
    return;

  L7:
    goto anon15_Else;

  anon15_Else:
    assume {:partition} out_Links_8 != 0;
    call {:si_unique_call 4931} out_sdv_1466 := sdv_containing_record(out_Links_8, 16);
    out_Node_1 := out_sdv_1466;
    assume {:nonnull} out_Node_1 != 0;
    assume out_Node_1 > 0;
    out_Tmp_2601 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node_1));
    assume {:nonnull} out_Tmp_2601 != 0;
    assume out_Tmp_2601 > 0;
    havoc out_Tmp_2598;
    assume {:nonnull} in_Name_5 != 0;
    assume in_Name_5 > 0;
    havoc out_Tmp_2597;
    assume {:nonnull} out_Tmp_2597 != 0;
    assume out_Tmp_2597 > 0;
    assume {:nonnull} out_Tmp_2598 != 0;
    assume out_Tmp_2598 > 0;
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2598] != Mem_T.INT4[out_Tmp_2597];
    assume {:nonnull} out_Node_1 != 0;
    assume out_Node_1 > 0;
    out_Tmp_2600 := Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node_1));
    assume {:nonnull} out_Tmp_2600 != 0;
    assume out_Tmp_2600 > 0;
    havoc out_Tmp_2599;
    assume {:nonnull} in_Name_5 != 0;
    assume in_Name_5 > 0;
    havoc out_Tmp_2596;
    assume {:nonnull} out_Tmp_2596 != 0;
    assume out_Tmp_2596 > 0;
    assume {:nonnull} out_Tmp_2599 != 0;
    assume out_Tmp_2599 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2596] > Mem_T.INT4[out_Tmp_2599];
    out_Tmp_2602 := 0;
    goto L20;

  L20:
    out_Tmp_2594 := out_Tmp_2602;
    goto L21;

  L21:
    out_Comparison_1 := out_Tmp_2594;
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} out_Comparison_1 == 1;
    assume {:nonnull} out_Links_8 != 0;
    assume out_Links_8 > 0;
    havoc out_Links_8;
    goto anon21_Else_dummy;

  anon21_Else_dummy:
    goto L_BAF_12;

  L_BAF_12:
    havoc out_Links_8;
    return;

  anon21_Then:
    assume {:partition} out_Comparison_1 != 1;
    goto anon16_Then;

  anon16_Then:
    assume {:partition} out_Comparison_1 == 0;
    assume {:nonnull} out_Links_8 != 0;
    assume out_Links_8 > 0;
    havoc out_Links_8;
    goto anon16_Then_dummy;

  anon16_Then_dummy:
    goto L_BAF_12;

  anon20_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2599] >= Mem_T.INT4[out_Tmp_2596];
    out_Tmp_2602 := 1;
    goto L20;

  anon19_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2598] == Mem_T.INT4[out_Tmp_2597];
    assume {:nonnull} out_Node_1 != 0;
    assume out_Node_1 > 0;
    call {:si_unique_call 4930} out_Tmp_2594 := FatCompareNames(Oem_unnamed_tag_70(Name__FILE_NAME_NODE(out_Node_1)), in_Name_5);
    goto L21;
}



procedure {:LoopProcedure} FatFindFcb_loop_L7(in_Tmp_2594: int, in_Links_8: int, in_sdv_1466: int, in_Tmp_2596: int, in_Node_1: int, in_Tmp_2597: int, in_Tmp_2598: int, in_Tmp_2599: int, in_Tmp_2600: int, in_Comparison_1: int, in_Tmp_2601: int, in_Tmp_2602: int, in_Name_5: int) returns (out_Tmp_2594: int, out_Links_8: int, out_sdv_1466: int, out_Tmp_2596: int, out_Node_1: int, out_Tmp_2597: int, out_Tmp_2598: int, out_Tmp_2599: int, out_Tmp_2600: int, out_Comparison_1: int, out_Tmp_2601: int, out_Tmp_2602: int);
  modifies alloc;
  free ensures {:va_keep} out_Tmp_2594 == 0 || out_Tmp_2594 == 1 || out_Tmp_2594 == 2 || out_Tmp_2594 == in_Tmp_2594;
  free ensures {:va_keep} out_sdv_1466 == in_sdv_1466 || out_sdv_1466 == in_Links_8;
  free ensures {:va_keep} out_Node_1 == in_Node_1 || out_Node_1 == in_Links_8;
  free ensures {:va_keep} out_Tmp_2600 == in_Tmp_2600 || out_Tmp_2600 == Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Links_8));
  free ensures {:va_keep} out_Comparison_1 == 0 || out_Comparison_1 == 1 || out_Comparison_1 == 2 || out_Comparison_1 == in_Comparison_1;
  free ensures {:va_keep} out_Tmp_2601 == in_Tmp_2601 || out_Tmp_2601 == Oem_unnamed_tag_70(Name__FILE_NAME_NODE(in_Links_8));
  free ensures {:va_keep} out_Tmp_2602 == 0 || out_Tmp_2602 == 1 || out_Tmp_2602 == in_Tmp_2602;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonDeviceControl_loop_L33(in_Fcb_63: int, in_Vcb_98: int, in_IrpContext_179: int, in_vslice_dummy_var_467: int) returns (out_Fcb_63: int, out_vslice_dummy_var_467: int)
{
  var vslice_dummy_var_636: int;

  entry:
    out_Fcb_63, out_vslice_dummy_var_467 := in_Fcb_63, in_vslice_dummy_var_467;
    goto L33, exit;

  exit:
    return;

  L33:
    assume {:nonnull} in_Vcb_98 != 0;
    assume in_Vcb_98 > 0;
    havoc vslice_dummy_var_636;
    call {:si_unique_call 4932} out_Fcb_63 := FatGetNextFcbBottomUp(in_IrpContext_179, out_Fcb_63, vslice_dummy_var_636);
    goto anon23_Else;

  anon23_Else:
    assume {:partition} out_Fcb_63 != 0;
    call {:si_unique_call 4933} out_vslice_dummy_var_467 := FatAcquireExclusiveFcb(in_IrpContext_179, out_Fcb_63);
    goto anon29_Else;

  anon29_Else:
    assume {:partition} yogi_error != 1;
    goto anon29_Else_dummy;

  anon29_Else_dummy:
    call {:si_unique_call 4934} {:si_old_unique_call 1} out_Fcb_63, out_vslice_dummy_var_467 := FatCommonDeviceControl_loop_L33(out_Fcb_63, in_Vcb_98, in_IrpContext_179, out_vslice_dummy_var_467);
    return;
}



procedure {:LoopProcedure} FatCommonDeviceControl_loop_L33(in_Fcb_63: int, in_Vcb_98: int, in_IrpContext_179: int, in_vslice_dummy_var_467: int) returns (out_Fcb_63: int, out_vslice_dummy_var_467: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonDeviceControl_loop_L69(in_Fcb_65: int, in_Vcb_98: int, in_IrpContext_179: int) returns (out_Fcb_65: int)
{
  var vslice_dummy_var_637: int;

  entry:
    out_Fcb_65 := in_Fcb_65;
    goto L69, exit;

  exit:
    return;

  L69:
    assume {:nonnull} in_Vcb_98 != 0;
    assume in_Vcb_98 > 0;
    havoc vslice_dummy_var_637;
    call {:si_unique_call 4935} out_Fcb_65 := FatGetNextFcbBottomUp(in_IrpContext_179, out_Fcb_65, vslice_dummy_var_637);
    goto anon27_Else;

  anon27_Else:
    assume {:partition} out_Fcb_65 != 0;
    call {:si_unique_call 4936} ExReleaseResourceLite(0);
    goto anon27_Else_dummy;

  anon27_Else_dummy:
    call {:si_unique_call 4937} {:si_old_unique_call 1} out_Fcb_65 := FatCommonDeviceControl_loop_L69(out_Fcb_65, in_Vcb_98, in_IrpContext_179);
    return;
}



procedure {:LoopProcedure} FatCommonDeviceControl_loop_L69(in_Fcb_65: int, in_Vcb_98: int, in_IrpContext_179: int) returns (out_Fcb_65: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCreateEa_loop_L49(in_EaName: int, in_EaOffset: int, in_Tmp_2714: int, in_Tmp_2716: int, in_Tmp_2718: int, in_PackedEasLength: int, in_FullEa: int, in_Tmp_2723: int, in_EaSetHeader_2: int, in_sdv_1599: int, in_sdv_1600: int, in_Tmp_2724: int, in_Tmp_2725: int, in_Tmp_2726: int, in_AllocationLength: int, in_BytesPerCluster_6: int, in_Tmp_2729: int, in_IrpContext_182: int, in_Buffer_31: int, in_Length_19: int) returns (out_Tmp_2714: int, out_Tmp_2716: int, out_Tmp_2718: int, out_FullEa: int, out_Tmp_2723: int, out_sdv_1599: int, out_sdv_1600: int, out_Tmp_2724: int, out_Tmp_2725: int, out_Tmp_2726: int, out_Tmp_2729: int)
{
  var vslice_dummy_var_638: int;
  var vslice_dummy_var_639: int;

  entry:
    out_Tmp_2714, out_Tmp_2716, out_Tmp_2718, out_FullEa, out_Tmp_2723, out_sdv_1599, out_sdv_1600, out_Tmp_2724, out_Tmp_2725, out_Tmp_2726, out_Tmp_2729 := in_Tmp_2714, in_Tmp_2716, in_Tmp_2718, in_FullEa, in_Tmp_2723, in_sdv_1599, in_sdv_1600, in_Tmp_2724, in_Tmp_2725, in_Tmp_2726, in_Tmp_2729;
    goto L49, exit;

  exit:
    return;

  L49:
    out_Tmp_2724 := in_Length_19;
    goto anon40_Else;

  anon40_Else:
    assume {:partition} in_Buffer_31 + out_Tmp_2724 * 4 > out_FullEa;
    assume {:nonnull} in_EaName != 0;
    assume in_EaName > 0;
    assume {:nonnull} out_FullEa != 0;
    assume out_FullEa > 0;
    assume {:nonnull} out_FullEa != 0;
    assume out_FullEa > 0;
    havoc out_Tmp_2716;
    assume {:nonnull} in_EaName != 0;
    assume in_EaName > 0;
    call {:si_unique_call 4943} out_sdv_1599 := FatIsEaNameValid(in_IrpContext_182, in_EaName);
    goto anon30_Then, anon30_Else;

  anon30_Else:
    assume {:partition} out_sdv_1599 != 0;
    goto L60;

  L60:
    assume {:nonnull} out_FullEa != 0;
    assume out_FullEa > 0;
    goto anon31_Then, anon31_Else;

  anon31_Else:
    assume {:nonnull} out_FullEa != 0;
    assume out_FullEa > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:nonnull} in_IrpContext_182 != 0;
    assume in_IrpContext_182 > 0;
    havoc out_Tmp_2718;
    assume {:nonnull} out_Tmp_2718 != 0;
    assume out_Tmp_2718 > 0;
    assume {:nonnull} in_IrpContext_182 != 0;
    assume in_IrpContext_182 > 0;
    havoc out_Tmp_2723;
    assume {:nonnull} out_Tmp_2723 != 0;
    assume out_Tmp_2723 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(out_Tmp_2723))] := 19;
    assume {:nonnull} in_IrpContext_182 != 0;
    assume in_IrpContext_182 > 0;
    call {:si_unique_call 4941} ExRaiseStatus(19);
    goto L61;

  L61:
    assume {:nonnull} in_EaSetHeader_2 != 0;
    assume in_EaSetHeader_2 > 0;
    assume {:nonnull} in_PackedEasLength != 0;
    assume in_PackedEasLength > 0;
    havoc vslice_dummy_var_639;
    call {:si_unique_call 4940} out_sdv_1600 := FatLocateEaByName(in_IrpContext_182, vslice_dummy_var_639, Mem_T.INT4[in_PackedEasLength], in_EaName, in_EaOffset);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} out_sdv_1600 != 0;
    assume {:nonnull} in_EaOffset != 0;
    assume in_EaOffset > 0;
    assume {:nonnull} in_EaSetHeader_2 != 0;
    assume in_EaSetHeader_2 > 0;
    havoc vslice_dummy_var_638;
    call {:si_unique_call 4939} FatDeletePackedEa(in_IrpContext_182, vslice_dummy_var_638, in_PackedEasLength, Mem_T.INT4[in_EaOffset]);
    goto L72;

  L72:
    assume {:nonnull} out_FullEa != 0;
    assume out_FullEa > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    goto L80;

  L80:
    assume {:nonnull} out_FullEa != 0;
    assume out_FullEa > 0;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    out_Tmp_2725 := out_FullEa;
    goto L83;

  L83:
    out_FullEa := out_Tmp_2725;
    goto L83_dummy;

  L83_dummy:
    call {:si_unique_call 4944} {:si_old_unique_call 1} out_Tmp_2714, out_Tmp_2716, out_Tmp_2718, out_FullEa, out_Tmp_2723, out_sdv_1599, out_sdv_1600, out_Tmp_2724, out_Tmp_2725, out_Tmp_2726, out_Tmp_2729 := FatCreateEa_loop_L49(in_EaName, in_EaOffset, out_Tmp_2714, out_Tmp_2716, out_Tmp_2718, in_PackedEasLength, out_FullEa, out_Tmp_2723, in_EaSetHeader_2, out_sdv_1599, out_sdv_1600, out_Tmp_2724, out_Tmp_2725, out_Tmp_2726, in_AllocationLength, in_BytesPerCluster_6, out_Tmp_2729, in_IrpContext_182, in_Buffer_31, in_Length_19);
    return;

  anon35_Then:
    out_Tmp_2726 := in_Length_19;
    out_Tmp_2725 := in_Buffer_31 + out_Tmp_2726 * 4;
    goto L83;

  anon34_Then:
    call {:si_unique_call 4938} FatAppendPackedEa(in_IrpContext_182, in_EaSetHeader_2, in_PackedEasLength, in_AllocationLength, out_FullEa, in_BytesPerCluster_6);
    goto L80;

  anon33_Then:
    assume {:partition} out_sdv_1600 == 0;
    goto L72;

  anon32_Then:
    goto L61;

  anon31_Then:
    goto L61;

  anon30_Then:
    assume {:partition} out_sdv_1599 == 0;
    assume {:nonnull} in_IrpContext_182 != 0;
    assume in_IrpContext_182 > 0;
    havoc out_Tmp_2729;
    assume {:nonnull} out_Tmp_2729 != 0;
    assume out_Tmp_2729 > 0;
    assume {:nonnull} in_IrpContext_182 != 0;
    assume in_IrpContext_182 > 0;
    havoc out_Tmp_2714;
    assume {:nonnull} out_Tmp_2714 != 0;
    assume out_Tmp_2714 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(IoStatus__IRP(out_Tmp_2714))] := 19;
    assume {:nonnull} in_IrpContext_182 != 0;
    assume in_IrpContext_182 > 0;
    call {:si_unique_call 4942} ExRaiseStatus(19);
    goto L60;
}



procedure {:LoopProcedure} FatCreateEa_loop_L49(in_EaName: int, in_EaOffset: int, in_Tmp_2714: int, in_Tmp_2716: int, in_Tmp_2718: int, in_PackedEasLength: int, in_FullEa: int, in_Tmp_2723: int, in_EaSetHeader_2: int, in_sdv_1599: int, in_sdv_1600: int, in_Tmp_2724: int, in_Tmp_2725: int, in_Tmp_2726: int, in_AllocationLength: int, in_BytesPerCluster_6: int, in_Tmp_2729: int, in_IrpContext_182: int, in_Buffer_31: int, in_Length_19: int) returns (out_Tmp_2714: int, out_Tmp_2716: int, out_Tmp_2718: int, out_FullEa: int, out_Tmp_2723: int, out_sdv_1599: int, out_sdv_1600: int, out_Tmp_2724: int, out_Tmp_2725: int, out_Tmp_2726: int, out_Tmp_2729: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2714 == in_Tmp_2714;
  free ensures {:va_keep} out_Tmp_2718 == in_Tmp_2718;
  free ensures {:va_keep} out_FullEa == in_FullEa || out_FullEa == in_Buffer_31 + in_Length_19 * 4;
  free ensures {:va_keep} out_Tmp_2723 == in_Tmp_2723;
  free ensures {:va_keep} out_sdv_1599 == 0 || out_sdv_1599 == 1 || out_sdv_1599 == in_sdv_1599;
  free ensures {:va_keep} out_sdv_1600 == 1 || out_sdv_1600 == 0 || out_sdv_1600 == in_sdv_1600;
  free ensures {:va_keep} out_Tmp_2724 == in_Tmp_2724 || out_Tmp_2724 == in_Length_19;
  free ensures {:va_keep} out_Tmp_2725 == in_Tmp_2725 || out_Tmp_2725 == in_FullEa || out_Tmp_2725 == in_Buffer_31 + in_Length_19 * 4;
  free ensures {:va_keep} out_Tmp_2726 == in_Tmp_2726 || out_Tmp_2726 == in_Length_19;
  free ensures {:va_keep} out_Tmp_2729 == in_Tmp_2729;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatUnpinEaRange_loop_L14(in_Tmp_2753: int, in_BcbCount: int, in_NextBcb: int) returns (out_Tmp_2753: int, out_BcbCount: int)
{

  entry:
    out_Tmp_2753, out_BcbCount := in_Tmp_2753, in_BcbCount;
    goto L14, exit;

  exit:
    return;

  L14:
    out_Tmp_2753 := out_BcbCount;
    out_BcbCount := out_BcbCount - 1;
    goto anon14_Else;

  anon14_Else:
    assume {:partition} out_Tmp_2753 != 0;
    assume {:nonnull} in_NextBcb != 0;
    assume in_NextBcb > 0;
    goto anon13_Then, anon13_Else;

  anon13_Else:
    assume {:nonnull} in_NextBcb != 0;
    assume in_NextBcb > 0;
    goto L17;

  L17:
    goto L17_dummy;

  L17_dummy:
    havoc out_BcbCount;
    return;

  anon13_Then:
    goto L17;
}



procedure {:LoopProcedure} FatUnpinEaRange_loop_L14(in_Tmp_2753: int, in_BcbCount: int, in_NextBcb: int) returns (out_Tmp_2753: int, out_BcbCount: int);
  free ensures {:va_keep} out_Tmp_2753 == in_BcbCount || out_Tmp_2753 == in_Tmp_2753;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatIsEaNameValid_loop_L10(in_Name: int, in_Char_1: int, in_Tmp_2755: int, in_Tmp_2756: int, in_Tmp_2757: int, in_Tmp_2758: int, in_Tmp_2759: int, in_Tmp_2761: int, in_Tmp_2762: int, in_Tmp_2763: int, in_Index_8: int) returns (out_Char_1: int, out_Tmp_2755: int, out_Tmp_2756: int, out_Tmp_2757: int, out_Tmp_2758: int, out_Tmp_2759: int, out_Tmp_2761: int, out_Tmp_2762: int, out_Tmp_2763: int, out_Index_8: int)
{

  entry:
    out_Char_1, out_Tmp_2755, out_Tmp_2756, out_Tmp_2757, out_Tmp_2758, out_Tmp_2759, out_Tmp_2761, out_Tmp_2762, out_Tmp_2763, out_Index_8 := in_Char_1, in_Tmp_2755, in_Tmp_2756, in_Tmp_2757, in_Tmp_2758, in_Tmp_2759, in_Tmp_2761, in_Tmp_2762, in_Tmp_2763, in_Index_8;
    goto L10, exit;

  exit:
    return;

  L10:
    assume {:nonnull} in_Name != 0;
    assume in_Name > 0;
    goto anon21_Else;

  anon21_Else:
    out_Tmp_2757 := out_Index_8;
    assume {:nonnull} in_Name != 0;
    assume in_Name > 0;
    havoc out_Char_1;
    goto anon26_Then, anon26_Else;

  anon26_Else:
    assume {:partition} 128 > out_Char_1;
    out_Tmp_2756 := 0;
    goto L16;

  L16:
    goto anon23_Then, anon23_Else;

  anon23_Else:
    assume {:partition} out_Tmp_2756 != 0;
    out_Index_8 := out_Index_8 + 1;
    goto L20;

  L20:
    out_Index_8 := out_Index_8 + 1;
    goto L20_dummy;

  L20_dummy:
    havoc out_Index_8;
    return;

  anon23_Then:
    assume {:partition} out_Tmp_2756 == 0;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} 0 > out_Char_1;
    out_Tmp_2758 := 1;
    goto L23;

  L23:
    goto anon25_Then;

  anon25_Then:
    assume {:partition} out_Tmp_2758 != 0;
    goto L20;

  anon24_Then:
    assume {:partition} out_Char_1 >= 0;
    out_Tmp_2761 := out_Char_1;
    assume {:nonnull} FsRtlLegalAnsiCharacterArray != 0;
    assume FsRtlLegalAnsiCharacterArray > 0;
    havoc out_Tmp_2762;
    assume {:nonnull} out_Tmp_2762 != 0;
    assume out_Tmp_2762 > 0;
    out_Tmp_2758 := BAND(Mem_T.INT4[out_Tmp_2762 + out_Tmp_2761 * 4], 1);
    goto L23;

  anon26_Then:
    assume {:partition} out_Char_1 >= 128;
    assume {:nonnull} NlsMbOemCodePageTag != 0;
    assume NlsMbOemCodePageTag > 0;
    goto anon22_Then, anon22_Else;

  anon22_Else:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] != 0;
    out_Tmp_2763 := out_Char_1;
    assume {:nonnull} NlsOemLeadByteInfo != 0;
    assume NlsOemLeadByteInfo > 0;
    havoc out_Tmp_2755;
    assume {:nonnull} out_Tmp_2755 != 0;
    assume out_Tmp_2755 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2755 + out_Tmp_2763 * 4] != 0;
    out_Tmp_2759 := 1;
    goto L28;

  L28:
    out_Tmp_2756 := out_Tmp_2759;
    goto L16;

  anon27_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2755 + out_Tmp_2763 * 4] == 0;
    goto L25;

  L25:
    out_Tmp_2759 := 0;
    goto L28;

  anon22_Then:
    assume {:partition} Mem_T.INT4[NlsMbOemCodePageTag] == 0;
    goto L25;
}



procedure {:LoopProcedure} FatIsEaNameValid_loop_L10(in_Name: int, in_Char_1: int, in_Tmp_2755: int, in_Tmp_2756: int, in_Tmp_2757: int, in_Tmp_2758: int, in_Tmp_2759: int, in_Tmp_2761: int, in_Tmp_2762: int, in_Tmp_2763: int, in_Index_8: int) returns (out_Char_1: int, out_Tmp_2755: int, out_Tmp_2756: int, out_Tmp_2757: int, out_Tmp_2758: int, out_Tmp_2759: int, out_Tmp_2761: int, out_Tmp_2762: int, out_Tmp_2763: int, out_Index_8: int);
  free ensures {:va_keep} out_Tmp_2756 == 0 || out_Tmp_2756 == 1 || out_Tmp_2756 == in_Tmp_2756;
  free ensures {:va_keep} out_Tmp_2757 == in_Index_8 || out_Tmp_2757 == in_Tmp_2757;
  free ensures {:va_keep} out_Tmp_2759 == 1 || out_Tmp_2759 == 0 || out_Tmp_2759 == in_Tmp_2759;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:SIextraRecBound 2} FatPinEaRange_loop_L40(in_LargeVbo: int, in_FirstPage: int, in_Buffer_33: int, in_sdv_1604: int, in_Tmp_2798: int, in_DestinationBuffer: int, in_NextBcb_1: int, in_ByteCount_21: int, in_IrpContext_191: int, in_EaRange_1: int, in_StartingVbo_8: int, in_Length_20: int) returns (out_FirstPage: int, out_sdv_1604: int, out_Tmp_2798: int, out_ByteCount_21: int, out_StartingVbo_8: int, out_Length_20: int)
{

  entry:
    out_FirstPage, out_sdv_1604, out_Tmp_2798, out_ByteCount_21, out_StartingVbo_8, out_Length_20 := in_FirstPage, in_sdv_1604, in_Tmp_2798, in_ByteCount_21, in_StartingVbo_8, in_Length_20;
    goto L40, exit;

  exit:
    return;

  L40:
    goto anon27_Else;

  anon27_Else:
    assume {:partition} out_Length_20 != 0;
    assume {:nonnull} in_LargeVbo != 0;
    assume in_LargeVbo > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    assume {:partition} out_ByteCount_21 > out_Length_20;
    out_ByteCount_21 := out_Length_20;
    goto L44;

  L44:
    assume {:nonnull} in_IrpContext_191 != 0;
    assume in_IrpContext_191 > 0;
    havoc out_Tmp_2798;
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} out_Tmp_2798 == 0;
    goto L103;

  L103:
    call {:si_unique_call 4947} out_sdv_1604 := corral_nondet();
    goto anon28_Then, anon28_Else;

  anon28_Else:
    assume {:partition} out_sdv_1604 != 0;
    goto L52;

  L52:
    assume {:nonnull} in_EaRange_1 != 0;
    assume in_EaRange_1 > 0;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    call {:si_unique_call 4945} sdv_RtlCopyMemory(0, 0, out_ByteCount_21);
    goto L54;

  L54:
    out_StartingVbo_8 := out_StartingVbo_8 + out_ByteCount_21;
    out_Length_20 := out_Length_20 - out_ByteCount_21;
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} out_FirstPage != 0;
    out_FirstPage := 0;
    out_ByteCount_21 := 4096;
    assume {:nonnull} in_EaRange_1 != 0;
    assume in_EaRange_1 > 0;
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:nonnull} in_EaRange_1 != 0;
    assume in_EaRange_1 > 0;
    goto anon36_Else_dummy;

  anon36_Else_dummy:
    goto L_BAF_13;

  L_BAF_13:
    call {:si_unique_call 4948} {:si_old_unique_call 1} out_FirstPage, out_sdv_1604, out_Tmp_2798, out_ByteCount_21, out_StartingVbo_8, out_Length_20 := FatPinEaRange_loop_L40(in_LargeVbo, out_FirstPage, in_Buffer_33, out_sdv_1604, out_Tmp_2798, in_DestinationBuffer, in_NextBcb_1, out_ByteCount_21, in_IrpContext_191, in_EaRange_1, out_StartingVbo_8, out_Length_20);
    return;

  anon36_Then:
    goto anon36_Then_dummy;

  anon36_Then_dummy:
    goto L_BAF_13;

  anon35_Then:
    assume {:partition} out_FirstPage == 0;
    goto anon35_Then_dummy;

  anon35_Then_dummy:
    goto L_BAF_13;

  anon34_Then:
    goto L54;

  anon28_Then:
    assume {:partition} out_sdv_1604 == 0;
    assume {:nonnull} in_IrpContext_191 != 0;
    assume in_IrpContext_191 > 0;
    call {:si_unique_call 4946} ExRaiseStatus(-1073741608);
    goto L52;

  anon33_Then:
    assume {:partition} out_Tmp_2798 != 0;
    goto L103;

  anon32_Then:
    assume {:partition} out_Length_20 >= out_ByteCount_21;
    goto L44;
}



procedure {:LoopProcedure} FatPinEaRange_loop_L40(in_LargeVbo: int, in_FirstPage: int, in_Buffer_33: int, in_sdv_1604: int, in_Tmp_2798: int, in_DestinationBuffer: int, in_NextBcb_1: int, in_ByteCount_21: int, in_IrpContext_191: int, in_EaRange_1: int, in_StartingVbo_8: int, in_Length_20: int) returns (out_FirstPage: int, out_sdv_1604: int, out_Tmp_2798: int, out_ByteCount_21: int, out_StartingVbo_8: int, out_Length_20: int);
  modifies alloc;
  free ensures {:va_keep} out_FirstPage == 0 || out_FirstPage == in_FirstPage;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeleteEaSet_loop_L225(in_Count_1: int, in_EaSetClusterCount: int, in_NextEaIndex: int, in_Tmp_2810: int) returns (out_Count_1: int, out_Tmp_2810: int)
{

  entry:
    out_Count_1, out_Tmp_2810 := in_Count_1, in_Tmp_2810;
    goto L225, exit;

  exit:
    return;

  L225:
    out_Tmp_2810 := out_Count_1;
    out_Count_1 := out_Count_1 - 1;
    goto anon73_Else;

  anon73_Else:
    assume {:partition} out_Tmp_2810 != 0;
    assume {:nonnull} in_NextEaIndex != 0;
    assume in_NextEaIndex > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} Mem_T.INT4[in_NextEaIndex] != 65535;
    assume {:nonnull} in_NextEaIndex != 0;
    assume in_NextEaIndex > 0;
    Mem_T.INT4[in_NextEaIndex] := Mem_T.INT4[in_NextEaIndex] - in_EaSetClusterCount;
    goto L230;

  L230:
    goto L230_dummy;

  L230_dummy:
    call {:si_unique_call 4949} {:si_old_unique_call 1} out_Count_1, out_Tmp_2810 := FatDeleteEaSet_loop_L225(out_Count_1, in_EaSetClusterCount, in_NextEaIndex, out_Tmp_2810);
    return;

  anon56_Then:
    assume {:partition} Mem_T.INT4[in_NextEaIndex] == 65535;
    goto L230;
}



procedure {:LoopProcedure} FatDeleteEaSet_loop_L225(in_Count_1: int, in_EaSetClusterCount: int, in_NextEaIndex: int, in_Tmp_2810: int) returns (out_Count_1: int, out_Tmp_2810: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeleteEaSet_loop_L217(in_Count_1: int, in_Tmp_2807: int, in_EaSetClusterCount: int, in_NextEaIndex: int, in_Tmp_2813: int) returns (out_Count_1: int, out_Tmp_2807: int, out_Tmp_2813: int)
{

  entry:
    out_Count_1, out_Tmp_2807, out_Tmp_2813 := in_Count_1, in_Tmp_2807, in_Tmp_2813;
    goto L217, exit;

  exit:
    return;

  L217:
    out_Tmp_2813 := out_Count_1;
    out_Count_1 := out_Count_1 - 1;
    goto anon72_Else;

  anon72_Else:
    assume {:partition} out_Tmp_2813 != 0;
    out_Tmp_2807 := in_NextEaIndex;
    assume {:nonnull} in_NextEaIndex != 0;
    assume in_NextEaIndex > 0;
    assume {:nonnull} out_Tmp_2807 != 0;
    assume out_Tmp_2807 > 0;
    Mem_T.INT4[out_Tmp_2807] := Mem_T.INT4[in_NextEaIndex] - in_EaSetClusterCount;
    goto anon72_Else_dummy;

  anon72_Else_dummy:
    call {:si_unique_call 4950} {:si_old_unique_call 1} out_Count_1, out_Tmp_2807, out_Tmp_2813 := FatDeleteEaSet_loop_L217(out_Count_1, out_Tmp_2807, in_EaSetClusterCount, in_NextEaIndex, out_Tmp_2813);
    return;
}



procedure {:LoopProcedure} FatDeleteEaSet_loop_L217(in_Count_1: int, in_Tmp_2807: int, in_EaSetClusterCount: int, in_NextEaIndex: int, in_Tmp_2813: int) returns (out_Count_1: int, out_Tmp_2807: int, out_Tmp_2813: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2807 == in_Tmp_2807 || out_Tmp_2807 == in_NextEaIndex;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeleteEaSet_loop_L149(in_PurgeCount: int, in_Iosb_25: int, in_sdv_1606: int) returns (out_PurgeCount: int, out_sdv_1606: int)
{

  entry:
    out_PurgeCount, out_sdv_1606 := in_PurgeCount, in_sdv_1606;
    goto L149, exit;

  exit:
    return;

  L149:
    assume {:CounterLoop 5} {:Counter "PurgeCount"} true;
    out_PurgeCount := out_PurgeCount - 1;
    goto anon69_Else;

  anon69_Else:
    assume {:partition} out_PurgeCount != 0;
    assume {:nonnull} in_Iosb_25 != 0;
    assume in_Iosb_25 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_25)] := 0;
    call {:si_unique_call 4951} out_sdv_1606 := corral_nondet();
    goto anon55_Then;

  anon55_Then:
    assume {:partition} out_sdv_1606 == 0;
    goto anon55_Then_dummy;

  anon55_Then_dummy:
    havoc out_PurgeCount;
    return;
}



procedure {:LoopProcedure} FatDeleteEaSet_loop_L149(in_PurgeCount: int, in_Iosb_25: int, in_sdv_1606: int) returns (out_PurgeCount: int, out_sdv_1606: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAddEaSet_loop_L348(in_Tmp_2814: int, in_Count_2: int, in_Tmp_2830: int, in_NextEaOffset: int) returns (out_Tmp_2814: int, out_Count_2: int, out_Tmp_2830: int)
{

  entry:
    out_Tmp_2814, out_Count_2, out_Tmp_2830 := in_Tmp_2814, in_Count_2, in_Tmp_2830;
    goto L348, exit;

  exit:
    return;

  L348:
    out_Tmp_2814 := out_Count_2;
    out_Count_2 := out_Count_2 - 1;
    goto anon142_Else;

  anon142_Else:
    assume {:partition} out_Tmp_2814 != 0;
    out_Tmp_2830 := in_NextEaOffset;
    assume {:nonnull} in_NextEaOffset != 0;
    assume in_NextEaOffset > 0;
    assume {:nonnull} out_Tmp_2830 != 0;
    assume out_Tmp_2830 > 0;
    Mem_T.INT4[out_Tmp_2830] := Mem_T.INT4[in_NextEaOffset] + 1;
    goto anon142_Else_dummy;

  anon142_Else_dummy:
    call {:si_unique_call 4952} {:si_old_unique_call 1} out_Tmp_2814, out_Count_2, out_Tmp_2830 := FatAddEaSet_loop_L348(out_Tmp_2814, out_Count_2, out_Tmp_2830, in_NextEaOffset);
    return;
}



procedure {:LoopProcedure} FatAddEaSet_loop_L348(in_Tmp_2814: int, in_Count_2: int, in_Tmp_2830: int, in_NextEaOffset: int) returns (out_Tmp_2814: int, out_Count_2: int, out_Tmp_2830: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2830 == in_Tmp_2830 || out_Tmp_2830 == in_NextEaOffset;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAddEaSet_loop_L355(in_Count_2: int, in_Tmp_2819: int, in_NextEaOffset: int) returns (out_Count_2: int, out_Tmp_2819: int)
{

  entry:
    out_Count_2, out_Tmp_2819 := in_Count_2, in_Tmp_2819;
    goto L355, exit;

  exit:
    return;

  L355:
    out_Tmp_2819 := out_Count_2;
    out_Count_2 := out_Count_2 - 1;
    goto anon143_Else;

  anon143_Else:
    assume {:partition} out_Tmp_2819 != 0;
    assume {:nonnull} in_NextEaOffset != 0;
    assume in_NextEaOffset > 0;
    Mem_T.INT4[in_NextEaOffset] := 65535;
    goto anon143_Else_dummy;

  anon143_Else_dummy:
    havoc out_Count_2;
    return;
}



procedure {:LoopProcedure} FatAddEaSet_loop_L355(in_Count_2: int, in_Tmp_2819: int, in_NextEaOffset: int) returns (out_Count_2: int, out_Tmp_2819: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2819 == in_Count_2 || out_Tmp_2819 == in_Tmp_2819;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAddEaSet_loop_L359(in_Tmp_2815: int, in_Count_2: int, in_EaSetClusterCount_1: int, in_NextEaOffset: int) returns (out_Tmp_2815: int, out_Count_2: int)
{

  entry:
    out_Tmp_2815, out_Count_2 := in_Tmp_2815, in_Count_2;
    goto L359, exit;

  exit:
    return;

  L359:
    out_Tmp_2815 := out_Count_2;
    out_Count_2 := out_Count_2 - 1;
    goto anon144_Else;

  anon144_Else:
    assume {:partition} out_Tmp_2815 != 0;
    assume {:nonnull} in_NextEaOffset != 0;
    assume in_NextEaOffset > 0;
    goto anon117_Then, anon117_Else;

  anon117_Else:
    assume {:partition} Mem_T.INT4[in_NextEaOffset] != 65535;
    assume {:nonnull} in_NextEaOffset != 0;
    assume in_NextEaOffset > 0;
    Mem_T.INT4[in_NextEaOffset] := Mem_T.INT4[in_NextEaOffset] + in_EaSetClusterCount_1;
    goto L364;

  L364:
    goto L364_dummy;

  L364_dummy:
    call {:si_unique_call 4953} {:si_old_unique_call 1} out_Tmp_2815, out_Count_2 := FatAddEaSet_loop_L359(out_Tmp_2815, out_Count_2, in_EaSetClusterCount_1, in_NextEaOffset);
    return;

  anon117_Then:
    assume {:partition} Mem_T.INT4[in_NextEaOffset] == 65535;
    goto L364;
}



procedure {:LoopProcedure} FatAddEaSet_loop_L359(in_Tmp_2815: int, in_Count_2: int, in_EaSetClusterCount_1: int, in_NextEaOffset: int) returns (out_Tmp_2815: int, out_Count_2: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAddEaSet_loop_L340(in_Count_2: int, in_Tmp_2820: int, in_EaSetClusterCount_1: int, in_Tmp_2826: int, in_NextEaOffset: int) returns (out_Count_2: int, out_Tmp_2820: int, out_Tmp_2826: int)
{

  entry:
    out_Count_2, out_Tmp_2820, out_Tmp_2826 := in_Count_2, in_Tmp_2820, in_Tmp_2826;
    goto L340, exit;

  exit:
    return;

  L340:
    out_Tmp_2826 := out_Count_2;
    out_Count_2 := out_Count_2 - 1;
    goto anon141_Else;

  anon141_Else:
    assume {:partition} out_Tmp_2826 != 0;
    out_Tmp_2820 := in_NextEaOffset;
    assume {:nonnull} in_NextEaOffset != 0;
    assume in_NextEaOffset > 0;
    assume {:nonnull} out_Tmp_2820 != 0;
    assume out_Tmp_2820 > 0;
    Mem_T.INT4[out_Tmp_2820] := Mem_T.INT4[in_NextEaOffset] + in_EaSetClusterCount_1;
    goto anon141_Else_dummy;

  anon141_Else_dummy:
    call {:si_unique_call 4954} {:si_old_unique_call 1} out_Count_2, out_Tmp_2820, out_Tmp_2826 := FatAddEaSet_loop_L340(out_Count_2, out_Tmp_2820, in_EaSetClusterCount_1, out_Tmp_2826, in_NextEaOffset);
    return;
}



procedure {:LoopProcedure} FatAddEaSet_loop_L340(in_Count_2: int, in_Tmp_2820: int, in_EaSetClusterCount_1: int, in_Tmp_2826: int, in_NextEaOffset: int) returns (out_Count_2: int, out_Tmp_2820: int, out_Tmp_2826: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2820 == in_Tmp_2820 || out_Tmp_2820 == in_NextEaOffset;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAddEaSet_loop_L224(in_PurgeCount_1: int, in_Iosb_26: int, in_sdv_1611: int) returns (out_PurgeCount_1: int, out_sdv_1611: int)
{

  entry:
    out_PurgeCount_1, out_sdv_1611 := in_PurgeCount_1, in_sdv_1611;
    goto L224, exit;

  exit:
    return;

  L224:
    assume {:CounterLoop 5} {:Counter "PurgeCount_1"} true;
    out_PurgeCount_1 := out_PurgeCount_1 - 1;
    goto anon138_Else;

  anon138_Else:
    assume {:partition} out_PurgeCount_1 != 0;
    assume {:nonnull} in_Iosb_26 != 0;
    assume in_Iosb_26 > 0;
    Mem_T.INT4[Status__IO_STATUS_BLOCK(in_Iosb_26)] := 0;
    call {:si_unique_call 4955} out_sdv_1611 := corral_nondet();
    goto anon109_Then;

  anon109_Then:
    assume {:partition} out_sdv_1611 == 0;
    goto anon109_Then_dummy;

  anon109_Then_dummy:
    havoc out_PurgeCount_1;
    return;
}



procedure {:LoopProcedure} FatAddEaSet_loop_L224(in_PurgeCount_1: int, in_Iosb_26: int, in_sdv_1611: int) returns (out_PurgeCount_1: int, out_sdv_1611: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAddEaSet_loop_L157(in_NewEaIndex: int, in_NextEaOffset: int) returns (out_NewEaIndex: int)
{

  entry:
    out_NewEaIndex := in_NewEaIndex;
    goto L157, exit;

  exit:
    return;

  L157:
    goto anon99_Else;

  anon99_Else:
    assume {:partition} out_NewEaIndex != 0;
    assume {:nonnull} in_NextEaOffset != 0;
    assume in_NextEaOffset > 0;
    goto anon104_Else;

  anon104_Else:
    assume {:partition} Mem_T.INT4[in_NextEaOffset] == 65535;
    out_NewEaIndex := out_NewEaIndex - 1;
    goto anon104_Else_dummy;

  anon104_Else_dummy:
    havoc out_NewEaIndex;
    return;
}



procedure {:LoopProcedure} FatAddEaSet_loop_L157(in_NewEaIndex: int, in_NextEaOffset: int) returns (out_NewEaIndex: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAddEaSet_loop_L158(in_NewEaIndex: int, in_NextEaOffset: int) returns (out_NewEaIndex: int)
{

  entry:
    out_NewEaIndex := in_NewEaIndex;
    goto L158, exit;

  exit:
    return;

  L158:
    goto anon100_Else;

  anon100_Else:
    assume {:partition} out_NewEaIndex != 0;
    assume {:nonnull} in_NextEaOffset != 0;
    assume in_NextEaOffset > 0;
    goto anon101_Then;

  anon101_Then:
    assume {:partition} Mem_T.INT4[in_NextEaOffset] != 65535;
    out_NewEaIndex := out_NewEaIndex - 1;
    goto anon101_Then_dummy;

  anon101_Then_dummy:
    havoc out_NewEaIndex;
    return;
}



procedure {:LoopProcedure} FatAddEaSet_loop_L158(in_NewEaIndex: int, in_NextEaOffset: int) returns (out_NewEaIndex: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLocateEaByName_loop_L6(in_Tmp_2834: int, in_PackedEa_2: int, in_sdv_1614: int, in_Name_6: int, in_IrpContext_194: int, in_FirstPackedEa_1: int, in_PackedEasLength_4: int, in_Offset_7: int, in_boogieTmp: int) returns (out_Tmp_2834: int, out_PackedEa_2: int, out_sdv_1614: int, out_boogieTmp: int)
{

  entry:
    out_Tmp_2834, out_PackedEa_2, out_sdv_1614, out_boogieTmp := in_Tmp_2834, in_PackedEa_2, in_sdv_1614, in_boogieTmp;
    goto L6, exit;

  exit:
    return;

  L6:
    assume {:nonnull} in_Offset_7 != 0;
    assume in_Offset_7 > 0;
    goto anon5_Else;

  anon5_Else:
    assume {:partition} in_PackedEasLength_4 > Mem_T.INT4[in_Offset_7];
    out_PackedEa_2 := in_FirstPackedEa_1;
    assume {:nonnull} out_PackedEa_2 != 0;
    assume out_PackedEa_2 > 0;
    havoc out_Tmp_2834;
    assume {:nonnull} in_Name_6 != 0;
    assume in_Name_6 > 0;
    assume {:nonnull} in_Name_6 != 0;
    assume in_Name_6 > 0;
    assume {:nonnull} out_PackedEa_2 != 0;
    assume out_PackedEa_2 > 0;
    assume {:nonnull} in_Name_6 != 0;
    assume in_Name_6 > 0;
    assume {:nonnull} out_PackedEa_2 != 0;
    assume out_PackedEa_2 > 0;
    call {:si_unique_call 4957} out_sdv_1614 := corral_nondet();
    goto anon6_Else;

  anon6_Else:
    assume {:partition} out_sdv_1614 != 0;
    assume {:nonnull} in_Offset_7 != 0;
    assume in_Offset_7 > 0;
    call {:si_unique_call 4956} out_boogieTmp := FatLocateNextEa(in_IrpContext_194, in_FirstPackedEa_1, in_PackedEasLength_4, Mem_T.INT4[in_Offset_7]);
    Mem_T.INT4[in_Offset_7] := out_boogieTmp;
    goto anon6_Else_dummy;

  anon6_Else_dummy:
    call {:si_unique_call 4958} {:si_old_unique_call 1} out_Tmp_2834, out_PackedEa_2, out_sdv_1614, out_boogieTmp := FatLocateEaByName_loop_L6(out_Tmp_2834, out_PackedEa_2, out_sdv_1614, in_Name_6, in_IrpContext_194, in_FirstPackedEa_1, in_PackedEasLength_4, in_Offset_7, out_boogieTmp);
    return;
}



procedure {:LoopProcedure} FatLocateEaByName_loop_L6(in_Tmp_2834: int, in_PackedEa_2: int, in_sdv_1614: int, in_Name_6: int, in_IrpContext_194: int, in_FirstPackedEa_1: int, in_PackedEasLength_4: int, in_Offset_7: int, in_boogieTmp: int) returns (out_Tmp_2834: int, out_PackedEa_2: int, out_sdv_1614: int, out_boogieTmp: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} out_PackedEa_2 == in_PackedEa_2 || out_PackedEa_2 == in_FirstPackedEa_1;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMarkEaRangeDirty_loop_L13(in_Tmp_2837: int, in_BcbCount_1: int, in_NextBcb_2: int) returns (out_Tmp_2837: int, out_BcbCount_1: int)
{

  entry:
    out_Tmp_2837, out_BcbCount_1 := in_Tmp_2837, in_BcbCount_1;
    goto L13, exit;

  exit:
    return;

  L13:
    out_Tmp_2837 := out_BcbCount_1;
    out_BcbCount_1 := out_BcbCount_1 - 1;
    goto anon9_Else;

  anon9_Else:
    assume {:partition} out_Tmp_2837 != 0;
    assume {:nonnull} in_NextBcb_2 != 0;
    assume in_NextBcb_2 > 0;
    goto anon8_Then, anon8_Else;

  anon8_Else:
    goto L16;

  L16:
    goto L16_dummy;

  L16_dummy:
    havoc out_BcbCount_1;
    return;

  anon8_Then:
    goto L16;
}



procedure {:LoopProcedure} FatMarkEaRangeDirty_loop_L13(in_Tmp_2837: int, in_BcbCount_1: int, in_NextBcb_2: int) returns (out_Tmp_2837: int, out_BcbCount_1: int);
  free ensures {:va_keep} out_Tmp_2837 == in_BcbCount_1 || out_Tmp_2837 == in_Tmp_2837;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatVerifyFcb_loop_L29(in_Tmp_2872: int, in_CurrentFcb: int, in_IrpContext_199: int) returns (out_Tmp_2872: int, out_CurrentFcb: int)
{

  entry:
    out_Tmp_2872, out_CurrentFcb := in_Tmp_2872, in_CurrentFcb;
    goto L29, exit;

  exit:
    return;

  L29:
    assume {:nonnull} out_CurrentFcb != 0;
    assume out_CurrentFcb > 0;
    goto anon32_Else;

  anon32_Else:
    call {:si_unique_call 4959} FatDetermineAndMarkFcbCondition(in_IrpContext_199, out_CurrentFcb);
    assume {:nonnull} out_CurrentFcb != 0;
    assume out_CurrentFcb > 0;
    goto anon34_Else;

  anon34_Else:
    out_Tmp_2872 := out_CurrentFcb;
    assume {:nonnull} out_Tmp_2872 != 0;
    assume out_Tmp_2872 > 0;
    goto anon42_Else;

  anon42_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2872] != 1284;
    assume {:nonnull} out_CurrentFcb != 0;
    assume out_CurrentFcb > 0;
    havoc out_CurrentFcb;
    goto anon42_Else_dummy;

  anon42_Else_dummy:
    call {:si_unique_call 4960} {:si_old_unique_call 1} out_Tmp_2872, out_CurrentFcb := FatVerifyFcb_loop_L29(out_Tmp_2872, out_CurrentFcb, in_IrpContext_199);
    return;
}



procedure {:LoopProcedure} FatVerifyFcb_loop_L29(in_Tmp_2872: int, in_CurrentFcb: int, in_IrpContext_199: int) returns (out_Tmp_2872: int, out_CurrentFcb: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMarkFcbCondition_loop_L29(in_OriginalFcb_1: int, in_IrpContext_200: int, in_Fcb_68: int, in_FcbCondition: int) returns (out_Fcb_68: int)
{

  entry:
    out_Fcb_68 := in_Fcb_68;
    goto L29, exit;

  exit:
    return;

  L29:
    call {:si_unique_call 4961} out_Fcb_68 := FatGetNextFcbTopDown(in_IrpContext_200, out_Fcb_68, in_OriginalFcb_1);
    goto anon35_Else;

  anon35_Else:
    assume {:partition} out_Fcb_68 != 0;
    assume {:nonnull} out_Fcb_68 != 0;
    assume out_Fcb_68 > 0;
    assume {:nonnull} out_Fcb_68 != 0;
    assume out_Fcb_68 > 0;
    goto anon35_Else_dummy;

  anon35_Else_dummy:
    call {:si_unique_call 4962} {:si_old_unique_call 1} out_Fcb_68 := FatMarkFcbCondition_loop_L29(in_OriginalFcb_1, in_IrpContext_200, out_Fcb_68, in_FcbCondition);
    return;
}



procedure {:LoopProcedure} FatMarkFcbCondition_loop_L29(in_OriginalFcb_1: int, in_IrpContext_200: int, in_Fcb_68: int, in_FcbCondition: int) returns (out_Fcb_68: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatIsNameLongUnicodeValid_loop_L5(in_i_23: int, in_Tmp_2949: int, in_Tmp_2950: int, in_Tmp_2952: int, in_Tmp_2953: int, in_Tmp_2954: int, in_Tmp_2955: int, in_Tmp_2956: int, in_Tmp_2957: int, in_Tmp_2958: int, in_Tmp_2959: int, in_Name_8: int, in_CanContainWildcards: int) returns (out_i_23: int, out_Tmp_2949: int, out_Tmp_2950: int, out_Tmp_2952: int, out_Tmp_2953: int, out_Tmp_2954: int, out_Tmp_2955: int, out_Tmp_2956: int, out_Tmp_2957: int, out_Tmp_2958: int, out_Tmp_2959: int)
{

  entry:
    out_i_23, out_Tmp_2949, out_Tmp_2950, out_Tmp_2952, out_Tmp_2953, out_Tmp_2954, out_Tmp_2955, out_Tmp_2956, out_Tmp_2957, out_Tmp_2958, out_Tmp_2959 := in_i_23, in_Tmp_2949, in_Tmp_2950, in_Tmp_2952, in_Tmp_2953, in_Tmp_2954, in_Tmp_2955, in_Tmp_2956, in_Tmp_2957, in_Tmp_2958, in_Tmp_2959;
    goto L5, exit;

  exit:
    return;

  L5:
    assume {:nonnull} in_Name_8 != 0;
    assume in_Name_8 > 0;
    goto anon11_Else;

  anon11_Else:
    out_Tmp_2954 := out_i_23;
    assume {:nonnull} in_Name_8 != 0;
    assume in_Name_8 > 0;
    havoc out_Tmp_2955;
    assume {:nonnull} out_Tmp_2955 != 0;
    assume out_Tmp_2955 > 0;
    goto anon14_Then, anon14_Else;

  anon14_Else:
    assume {:partition} 128 > Mem_T.INT4[out_Tmp_2955 + out_Tmp_2954 * 4];
    out_Tmp_2958 := out_i_23;
    assume {:nonnull} in_Name_8 != 0;
    assume in_Name_8 > 0;
    havoc out_Tmp_2949;
    assume {:nonnull} out_Tmp_2949 != 0;
    assume out_Tmp_2949 > 0;
    goto anon15_Then, anon15_Else;

  anon15_Else:
    assume {:partition} 0 > Mem_T.INT4[out_Tmp_2949 + out_Tmp_2958 * 4];
    out_Tmp_2952 := 1;
    goto L12;

  L12:
    goto anon13_Then;

  anon13_Then:
    assume {:partition} out_Tmp_2952 != 0;
    goto L8;

  L8:
    out_i_23 := out_i_23 + 1;
    goto L8_dummy;

  L8_dummy:
    havoc out_i_23;
    return;

  anon15_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2949 + out_Tmp_2958 * 4] >= 0;
    goto anon12_Then, anon12_Else;

  anon12_Else:
    assume {:partition} in_CanContainWildcards != 0;
    out_Tmp_2957 := 8;
    goto L16;

  L16:
    out_Tmp_2959 := out_i_23;
    assume {:nonnull} in_Name_8 != 0;
    assume in_Name_8 > 0;
    havoc out_Tmp_2956;
    assume {:nonnull} out_Tmp_2956 != 0;
    assume out_Tmp_2956 > 0;
    out_Tmp_2950 := Mem_T.INT4[out_Tmp_2956 + out_Tmp_2959 * 4];
    assume {:nonnull} FsRtlLegalAnsiCharacterArray != 0;
    assume FsRtlLegalAnsiCharacterArray > 0;
    havoc out_Tmp_2953;
    assume {:nonnull} out_Tmp_2953 != 0;
    assume out_Tmp_2953 > 0;
    out_Tmp_2952 := BAND(Mem_T.INT4[out_Tmp_2953 + out_Tmp_2950 * 4], BOR(2, out_Tmp_2957));
    goto L12;

  anon12_Then:
    assume {:partition} in_CanContainWildcards == 0;
    out_Tmp_2957 := 0;
    goto L16;

  anon14_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2955 + out_Tmp_2954 * 4] >= 128;
    goto L8;
}



procedure {:LoopProcedure} FatIsNameLongUnicodeValid_loop_L5(in_i_23: int, in_Tmp_2949: int, in_Tmp_2950: int, in_Tmp_2952: int, in_Tmp_2953: int, in_Tmp_2954: int, in_Tmp_2955: int, in_Tmp_2956: int, in_Tmp_2957: int, in_Tmp_2958: int, in_Tmp_2959: int, in_Name_8: int, in_CanContainWildcards: int) returns (out_i_23: int, out_Tmp_2949: int, out_Tmp_2950: int, out_Tmp_2952: int, out_Tmp_2953: int, out_Tmp_2954: int, out_Tmp_2955: int, out_Tmp_2956: int, out_Tmp_2957: int, out_Tmp_2958: int, out_Tmp_2959: int);
  free ensures {:va_keep} out_Tmp_2954 == in_i_23 || out_Tmp_2954 == in_Tmp_2954;
  free ensures {:va_keep} out_Tmp_2957 == 8 || out_Tmp_2957 == 0 || out_Tmp_2957 == in_Tmp_2957;
  free ensures {:va_keep} out_Tmp_2958 == in_i_23 || out_Tmp_2958 == in_Tmp_2958;
  free ensures {:va_keep} out_Tmp_2959 == in_Tmp_2959 || out_Tmp_2959 == in_i_23;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonShutdown_loop_L88(in_Fcb_74: int, in_Vcb_119: int, in_IrpContext_212: int) returns (out_Fcb_74: int)
{
  var vslice_dummy_var_640: int;

  entry:
    out_Fcb_74 := in_Fcb_74;
    goto L88, exit;

  exit:
    return;

  L88:
    assume {:nonnull} in_Vcb_119 != 0;
    assume in_Vcb_119 > 0;
    havoc vslice_dummy_var_640;
    call {:si_unique_call 4963} out_Fcb_74 := FatGetNextFcbBottomUp(in_IrpContext_212, out_Fcb_74, vslice_dummy_var_640);
    goto anon35_Else;

  anon35_Else:
    assume {:partition} out_Fcb_74 != 0;
    call {:si_unique_call 4964} ExReleaseResourceLite(0);
    goto anon35_Else_dummy;

  anon35_Else_dummy:
    call {:si_unique_call 4965} {:si_old_unique_call 1} out_Fcb_74 := FatCommonShutdown_loop_L88(out_Fcb_74, in_Vcb_119, in_IrpContext_212);
    return;
}



procedure {:LoopProcedure} FatCommonShutdown_loop_L88(in_Fcb_74: int, in_Vcb_119: int, in_IrpContext_212: int) returns (out_Fcb_74: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonShutdown_loop_L62(in_Fcb_75: int, in_Vcb_119: int, in_IrpContext_212: int, in_vslice_dummy_var_542: int) returns (out_Fcb_75: int, out_vslice_dummy_var_542: int)
{
  var vslice_dummy_var_641: int;

  entry:
    out_Fcb_75, out_vslice_dummy_var_542 := in_Fcb_75, in_vslice_dummy_var_542;
    goto L62, exit;

  exit:
    return;

  L62:
    assume {:nonnull} in_Vcb_119 != 0;
    assume in_Vcb_119 > 0;
    havoc vslice_dummy_var_641;
    call {:si_unique_call 4966} out_Fcb_75 := FatGetNextFcbBottomUp(in_IrpContext_212, out_Fcb_75, vslice_dummy_var_641);
    goto anon33_Else;

  anon33_Else:
    assume {:partition} out_Fcb_75 != 0;
    call {:si_unique_call 4967} out_vslice_dummy_var_542 := FatAcquireExclusiveFcb(in_IrpContext_212, out_Fcb_75);
    goto anon43_Else;

  anon43_Else:
    assume {:partition} yogi_error != 1;
    goto anon43_Else_dummy;

  anon43_Else_dummy:
    call {:si_unique_call 4968} {:si_old_unique_call 1} out_Fcb_75, out_vslice_dummy_var_542 := FatCommonShutdown_loop_L62(out_Fcb_75, in_Vcb_119, in_IrpContext_212, out_vslice_dummy_var_542);
    return;
}



procedure {:LoopProcedure} FatCommonShutdown_loop_L62(in_Fcb_75: int, in_Vcb_119: int, in_IrpContext_212: int, in_vslice_dummy_var_542: int) returns (out_Fcb_75: int, out_vslice_dummy_var_542: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonShutdown_loop_L24(in_Fcb_74: int, in_Links_9: int, in_Fcb_75: int, in_Iosb_28: int, in_Event_16: int, in_sdv_1756: int, in_NewIrp: int, in_sdv_1757: int, in_Vcb_119: int, in_VcbDeleted_7: int, in_IrpContext_212: int, in_vslice_dummy_var_541: int, in_vslice_dummy_var_542: int, in_vslice_dummy_var_543: int, in_vslice_dummy_var_544: int, in_vslice_dummy_var_546: int) returns (out_Fcb_74: int, out_Links_9: int, out_Fcb_75: int, out_sdv_1756: int, out_NewIrp: int, out_sdv_1757: int, out_Vcb_119: int, out_VcbDeleted_7: int, out_vslice_dummy_var_541: int, out_vslice_dummy_var_542: int, out_vslice_dummy_var_543: int, out_vslice_dummy_var_544: int, out_vslice_dummy_var_546: int)
{
  var vslice_dummy_var_642: int;
  var vslice_dummy_var_643: int;
  var vslice_dummy_var_644: int;

  entry:
    out_Fcb_74, out_Links_9, out_Fcb_75, out_sdv_1756, out_NewIrp, out_sdv_1757, out_Vcb_119, out_VcbDeleted_7, out_vslice_dummy_var_541, out_vslice_dummy_var_542, out_vslice_dummy_var_543, out_vslice_dummy_var_544, out_vslice_dummy_var_546 := in_Fcb_74, in_Links_9, in_Fcb_75, in_sdv_1756, in_NewIrp, in_sdv_1757, in_Vcb_119, in_VcbDeleted_7, in_vslice_dummy_var_541, in_vslice_dummy_var_542, in_vslice_dummy_var_543, in_vslice_dummy_var_544, in_vslice_dummy_var_546;
    goto L24, exit;

  exit:
    return;

  L24:
    goto anon31_Else;

  anon31_Else:
    call {:si_unique_call 4984} out_sdv_1757 := sdv_containing_record(out_Links_9, 64);
    out_Vcb_119 := out_sdv_1757;
    assume {:nonnull} out_Links_9 != 0;
    assume out_Links_9 > 0;
    havoc out_Links_9;
    assume {:nonnull} out_Vcb_119 != 0;
    assume out_Vcb_119 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} out_Vcb_119 != 0;
    assume out_Vcb_119 > 0;
    goto anon32_Then, anon32_Else;

  anon32_Else:
    out_Fcb_75 := 0;
    call {:si_unique_call 4983} out_vslice_dummy_var_546 := FatAcquireExclusiveVcb(in_IrpContext_212, out_Vcb_119);
    goto anon42_Else;

  anon42_Else:
    assume {:partition} yogi_error != 1;
    goto L62;

  L62:
    call {:si_unique_call 4980} out_Fcb_75, out_vslice_dummy_var_542 := FatCommonShutdown_loop_L62(out_Fcb_75, out_Vcb_119, in_IrpContext_212, out_vslice_dummy_var_542);
    goto L62_last;

  L62_last:
    assume {:nonnull} out_Vcb_119 != 0;
    assume out_Vcb_119 > 0;
    havoc vslice_dummy_var_643;
    call {:si_unique_call 4981} out_Fcb_75 := FatGetNextFcbBottomUp(in_IrpContext_212, out_Fcb_75, vslice_dummy_var_643);
    goto anon33_Then, anon33_Else;

  anon33_Else:
    assume {:partition} out_Fcb_75 != 0;
    call {:si_unique_call 4982} out_vslice_dummy_var_542 := FatAcquireExclusiveFcb(in_IrpContext_212, out_Fcb_75);
    goto anon43_Else;

  anon43_Else:
    assume {:partition} yogi_error != 1;
    assume false;
    return;

  anon33_Then:
    assume {:partition} out_Fcb_75 == 0;
    call {:si_unique_call 4979} out_vslice_dummy_var_541 := FatFlushVolume(in_IrpContext_212, out_Vcb_119, 1);
    goto anon44_Else;

  anon44_Else:
    assume {:partition} yogi_error != 1;
    assume {:nonnull} out_Vcb_119 != 0;
    assume out_Vcb_119 > 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    call {:si_unique_call 4977} out_vslice_dummy_var_544 := corral_nondet();
    call {:si_unique_call 4978} FatMarkVolume#1(in_IrpContext_212, out_Vcb_119, 0);
    goto L75;

  L75:
    call {:si_unique_call 4976} out_NewIrp := IoBuildSynchronousFsdRequest(16, 0, 0, 0, 0, 0, in_Iosb_28);
    goto anon36_Then, anon36_Else;

  anon36_Else:
    assume {:partition} out_NewIrp != 0;
    assume {:nonnull} out_Vcb_119 != 0;
    assume out_Vcb_119 > 0;
    havoc vslice_dummy_var_644;
    call {:si_unique_call 4985} out_sdv_1756 := sdv_IoCallDriver(vslice_dummy_var_644, out_NewIrp);
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} out_sdv_1756 >= 0;
    call {:si_unique_call 4974} out_vslice_dummy_var_543 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    call {:si_unique_call 4975} KeClearEvent(in_Event_16);
    goto L80;

  L80:
    assume {:nonnull} out_Vcb_119 != 0;
    assume out_Vcb_119 > 0;
    call {:si_unique_call 4973} out_VcbDeleted_7 := FatCheckForDismount#1(in_IrpContext_212, out_Vcb_119, 0);
    goto anon45_Else;

  anon45_Else:
    assume {:partition} yogi_error != 1;
    goto anon34_Then, anon34_Else;

  anon34_Else:
    assume {:partition} out_VcbDeleted_7 == 0;
    out_Fcb_74 := 0;
    goto L88;

  L88:
    call {:si_unique_call 4970} out_Fcb_74 := FatCommonShutdown_loop_L88(out_Fcb_74, out_Vcb_119, in_IrpContext_212);
    goto L88_last;

  L88_last:
    assume {:nonnull} out_Vcb_119 != 0;
    assume out_Vcb_119 > 0;
    havoc vslice_dummy_var_642;
    call {:si_unique_call 4971} out_Fcb_74 := FatGetNextFcbBottomUp(in_IrpContext_212, out_Fcb_74, vslice_dummy_var_642);
    goto anon35_Then, anon35_Else;

  anon35_Else:
    assume {:partition} out_Fcb_74 != 0;
    call {:si_unique_call 4972} ExReleaseResourceLite(0);
    assume false;
    return;

  anon35_Then:
    assume {:partition} out_Fcb_74 == 0;
    call {:si_unique_call 4969} ExReleaseResourceLite(0);
    goto anon35_Then_dummy;

  anon35_Then_dummy:
    goto L_BAF_14;

  L_BAF_14:
    call {:si_unique_call 4986} {:si_old_unique_call 1} out_Fcb_74, out_Links_9, out_Fcb_75, out_sdv_1756, out_NewIrp, out_sdv_1757, out_Vcb_119, out_VcbDeleted_7, out_vslice_dummy_var_541, out_vslice_dummy_var_542, out_vslice_dummy_var_543, out_vslice_dummy_var_544, out_vslice_dummy_var_546 := FatCommonShutdown_loop_L24(out_Fcb_74, out_Links_9, out_Fcb_75, in_Iosb_28, in_Event_16, out_sdv_1756, out_NewIrp, out_sdv_1757, out_Vcb_119, out_VcbDeleted_7, in_IrpContext_212, out_vslice_dummy_var_541, out_vslice_dummy_var_542, out_vslice_dummy_var_543, out_vslice_dummy_var_544, out_vslice_dummy_var_546);
    return;

  anon34_Then:
    assume {:partition} out_VcbDeleted_7 != 0;
    goto anon34_Then_dummy;

  anon34_Then_dummy:
    goto L_BAF_14;

  anon37_Then:
    assume {:partition} 0 > out_sdv_1756;
    goto L80;

  anon36_Then:
    assume {:partition} out_NewIrp == 0;
    goto L80;

  anon38_Then:
    goto L75;

  anon32_Then:
    goto anon32_Then_dummy;

  anon32_Then_dummy:
    goto L_BAF_14;

  anon41_Then:
    goto anon41_Then_dummy;

  anon41_Then_dummy:
    goto L_BAF_14;
}



procedure {:LoopProcedure} FatCommonShutdown_loop_L24(in_Fcb_74: int, in_Links_9: int, in_Fcb_75: int, in_Iosb_28: int, in_Event_16: int, in_sdv_1756: int, in_NewIrp: int, in_sdv_1757: int, in_Vcb_119: int, in_VcbDeleted_7: int, in_IrpContext_212: int, in_vslice_dummy_var_541: int, in_vslice_dummy_var_542: int, in_vslice_dummy_var_543: int, in_vslice_dummy_var_544: int, in_vslice_dummy_var_546: int) returns (out_Fcb_74: int, out_Links_9: int, out_Fcb_75: int, out_sdv_1756: int, out_NewIrp: int, out_sdv_1757: int, out_Vcb_119: int, out_VcbDeleted_7: int, out_vslice_dummy_var_541: int, out_vslice_dummy_var_542: int, out_vslice_dummy_var_543: int, out_vslice_dummy_var_544: int, out_vslice_dummy_var_546: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_5) || sdv_irql_previous_2 == old(sdv_irql_previous_3);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_4) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_4) || sdv_irql_previous_3 == old(sdv_irql_previous_5);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_sdv_1756 == 259 || out_sdv_1756 == in_sdv_1756;
  free ensures {:va_keep} out_vslice_dummy_var_543 == 258 || out_vslice_dummy_var_543 == 0 || out_vslice_dummy_var_543 == in_vslice_dummy_var_543;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAcquireExclusiveFcb_loop_L3(in_Tmp_3049: int, in_sdv_1772: int, in_Tmp_3050: int, in_Tmp_3051: int, in_sdv_1775: int, in_sdv_1777: int, in_Tmp_3053: int, in_IrpContext_215: int, in_Fcb_76: int, in_vslice_dummy_var_549: int) returns (out_Tmp_3049: int, out_sdv_1772: int, out_Tmp_3050: int, out_Tmp_3051: int, out_sdv_1775: int, out_sdv_1777: int, out_Tmp_3053: int, out_vslice_dummy_var_549: int)
{

  entry:
    out_Tmp_3049, out_sdv_1772, out_Tmp_3050, out_Tmp_3051, out_sdv_1775, out_sdv_1777, out_Tmp_3053, out_vslice_dummy_var_549 := in_Tmp_3049, in_sdv_1772, in_Tmp_3050, in_Tmp_3051, in_sdv_1775, in_sdv_1777, in_Tmp_3053, in_vslice_dummy_var_549;
    goto L3, exit;

  exit:
    return;

  L3:
    assume {:nonnull} in_IrpContext_215 != 0;
    assume in_IrpContext_215 > 0;
    havoc out_Tmp_3050;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} out_Tmp_3050 == 0;
    out_Tmp_3051 := 0;
    goto L57;

  L57:
    call {:si_unique_call 4989} out_sdv_1772 := ExAcquireResourceExclusiveLite(0, out_Tmp_3051);
    goto anon25_Else;

  anon25_Else:
    assume {:partition} yogi_error != 1;
    goto anon19_Else;

  anon19_Else:
    assume {:partition} out_sdv_1772 != 0;
    assume {:nonnull} in_Fcb_76 != 0;
    assume in_Fcb_76 > 0;
    havoc out_Tmp_3053;
    assume {:nonnull} out_Tmp_3053 != 0;
    assume out_Tmp_3053 > 0;
    goto anon26_Else;

  anon26_Else:
    assume {:nonnull} in_IrpContext_215 != 0;
    assume in_IrpContext_215 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    goto L16;

  L16:
    assume {:nonnull} in_Fcb_76 != 0;
    assume in_Fcb_76 > 0;
    call {:si_unique_call 4987} out_vslice_dummy_var_549 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    call {:si_unique_call 4988} ExReleaseResourceLite(0);
    goto L16_dummy;

  L16_dummy:
    call {:si_unique_call 4992} {:si_old_unique_call 1} out_Tmp_3049, out_sdv_1772, out_Tmp_3050, out_Tmp_3051, out_sdv_1775, out_sdv_1777, out_Tmp_3053, out_vslice_dummy_var_549 := FatAcquireExclusiveFcb_loop_L3(out_Tmp_3049, out_sdv_1772, out_Tmp_3050, out_Tmp_3051, out_sdv_1775, out_sdv_1777, out_Tmp_3053, in_IrpContext_215, in_Fcb_76, out_vslice_dummy_var_549);
    return;

  anon20_Then:
    assume {:nonnull} in_IrpContext_215 != 0;
    assume in_IrpContext_215 > 0;
    havoc out_Tmp_3049;
    assume {:nonnull} out_Tmp_3049 != 0;
    assume out_Tmp_3049 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    call {:si_unique_call 4990} out_sdv_1775 := ExGetSharedWaiterCount(0);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} out_sdv_1775 == 0;
    call {:si_unique_call 4991} out_sdv_1777 := ExGetExclusiveWaiterCount(0);
    goto anon22_Else;

  anon22_Else:
    assume {:partition} out_sdv_1777 != 0;
    goto L16;

  anon21_Then:
    assume {:partition} out_sdv_1775 != 0;
    goto L16;

  anon27_Then:
    goto L16;

  anon24_Then:
    assume {:partition} out_Tmp_3050 != 0;
    out_Tmp_3051 := 1;
    goto L57;
}



procedure {:LoopProcedure} FatAcquireExclusiveFcb_loop_L3(in_Tmp_3049: int, in_sdv_1772: int, in_Tmp_3050: int, in_Tmp_3051: int, in_sdv_1775: int, in_sdv_1777: int, in_Tmp_3053: int, in_IrpContext_215: int, in_Fcb_76: int, in_vslice_dummy_var_549: int) returns (out_Tmp_3049: int, out_sdv_1772: int, out_Tmp_3050: int, out_Tmp_3051: int, out_sdv_1775: int, out_sdv_1777: int, out_Tmp_3053: int, out_vslice_dummy_var_549: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_Tmp_3051 == 0 || out_Tmp_3051 == 1 || out_Tmp_3051 == in_Tmp_3051;
  free ensures {:va_keep} out_vslice_dummy_var_549 == 258 || out_vslice_dummy_var_549 == 0 || out_vslice_dummy_var_549 == in_vslice_dummy_var_549;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAcquireSharedFcb_loop_L3(in_Tmp_3055: int, in_Tmp_3057: int, in_sdv_1778: int, in_Tmp_3058: int, in_sdv_1781: int, in_sdv_1783: int, in_Tmp_3060: int, in_IrpContext_216: int, in_Fcb_77: int, in_vslice_dummy_var_550: int) returns (out_Tmp_3055: int, out_Tmp_3057: int, out_sdv_1778: int, out_Tmp_3058: int, out_sdv_1781: int, out_sdv_1783: int, out_Tmp_3060: int, out_vslice_dummy_var_550: int)
{

  entry:
    out_Tmp_3055, out_Tmp_3057, out_sdv_1778, out_Tmp_3058, out_sdv_1781, out_sdv_1783, out_Tmp_3060, out_vslice_dummy_var_550 := in_Tmp_3055, in_Tmp_3057, in_sdv_1778, in_Tmp_3058, in_sdv_1781, in_sdv_1783, in_Tmp_3060, in_vslice_dummy_var_550;
    goto L3, exit;

  exit:
    return;

  L3:
    assume {:nonnull} in_IrpContext_216 != 0;
    assume in_IrpContext_216 > 0;
    havoc out_Tmp_3057;
    goto anon24_Then, anon24_Else;

  anon24_Else:
    assume {:partition} out_Tmp_3057 == 0;
    out_Tmp_3055 := 0;
    goto L57;

  L57:
    call {:si_unique_call 4995} out_sdv_1778 := ExAcquireResourceSharedLite(0, out_Tmp_3055);
    goto anon25_Else;

  anon25_Else:
    assume {:partition} yogi_error != 1;
    goto anon19_Else;

  anon19_Else:
    assume {:partition} out_sdv_1778 != 0;
    assume {:nonnull} in_Fcb_77 != 0;
    assume in_Fcb_77 > 0;
    havoc out_Tmp_3058;
    assume {:nonnull} out_Tmp_3058 != 0;
    assume out_Tmp_3058 > 0;
    goto anon26_Else;

  anon26_Else:
    assume {:nonnull} in_IrpContext_216 != 0;
    assume in_IrpContext_216 > 0;
    goto anon20_Then, anon20_Else;

  anon20_Else:
    goto L16;

  L16:
    assume {:nonnull} in_Fcb_77 != 0;
    assume in_Fcb_77 > 0;
    call {:si_unique_call 4993} out_vslice_dummy_var_550 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    call {:si_unique_call 4994} ExReleaseResourceLite(0);
    goto L16_dummy;

  L16_dummy:
    call {:si_unique_call 4998} {:si_old_unique_call 1} out_Tmp_3055, out_Tmp_3057, out_sdv_1778, out_Tmp_3058, out_sdv_1781, out_sdv_1783, out_Tmp_3060, out_vslice_dummy_var_550 := FatAcquireSharedFcb_loop_L3(out_Tmp_3055, out_Tmp_3057, out_sdv_1778, out_Tmp_3058, out_sdv_1781, out_sdv_1783, out_Tmp_3060, in_IrpContext_216, in_Fcb_77, out_vslice_dummy_var_550);
    return;

  anon20_Then:
    assume {:nonnull} in_IrpContext_216 != 0;
    assume in_IrpContext_216 > 0;
    havoc out_Tmp_3060;
    assume {:nonnull} out_Tmp_3060 != 0;
    assume out_Tmp_3060 > 0;
    goto anon27_Then, anon27_Else;

  anon27_Else:
    call {:si_unique_call 4996} out_sdv_1781 := ExGetSharedWaiterCount(0);
    goto anon21_Then, anon21_Else;

  anon21_Else:
    assume {:partition} out_sdv_1781 == 0;
    call {:si_unique_call 4997} out_sdv_1783 := ExGetExclusiveWaiterCount(0);
    goto anon22_Else;

  anon22_Else:
    assume {:partition} out_sdv_1783 != 0;
    goto L16;

  anon21_Then:
    assume {:partition} out_sdv_1781 != 0;
    goto L16;

  anon27_Then:
    goto L16;

  anon24_Then:
    assume {:partition} out_Tmp_3057 != 0;
    out_Tmp_3055 := 1;
    goto L57;
}



procedure {:LoopProcedure} FatAcquireSharedFcb_loop_L3(in_Tmp_3055: int, in_Tmp_3057: int, in_sdv_1778: int, in_Tmp_3058: int, in_sdv_1781: int, in_sdv_1783: int, in_Tmp_3060: int, in_IrpContext_216: int, in_Fcb_77: int, in_vslice_dummy_var_550: int) returns (out_Tmp_3055: int, out_Tmp_3057: int, out_sdv_1778: int, out_Tmp_3058: int, out_sdv_1781: int, out_sdv_1783: int, out_Tmp_3060: int, out_vslice_dummy_var_550: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_Tmp_3055 == 0 || out_Tmp_3055 == 1 || out_Tmp_3055 == in_Tmp_3055;
  free ensures {:va_keep} out_vslice_dummy_var_550 == 258 || out_vslice_dummy_var_550 == 0 || out_vslice_dummy_var_550 == in_vslice_dummy_var_550;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatAcquireSharedFcbWaitForEx_loop_L3(in_sdv_1784: int, in_Tmp_3062: int, in_IrpContext_217: int, in_Fcb_78: int, in_vslice_dummy_var_551: int) returns (out_sdv_1784: int, out_Tmp_3062: int, out_vslice_dummy_var_551: int)
{

  entry:
    out_sdv_1784, out_Tmp_3062, out_vslice_dummy_var_551 := in_sdv_1784, in_Tmp_3062, in_vslice_dummy_var_551;
    goto L3, exit;

  exit:
    return;

  L3:
    call {:si_unique_call 4999} out_sdv_1784 := ExAcquireSharedWaitForExclusive(0, 0);
    goto anon14_Else;

  anon14_Else:
    assume {:partition} yogi_error != 1;
    goto anon11_Else;

  anon11_Else:
    assume {:partition} out_sdv_1784 != 0;
    assume {:nonnull} in_Fcb_78 != 0;
    assume in_Fcb_78 > 0;
    havoc out_Tmp_3062;
    assume {:nonnull} out_Tmp_3062 != 0;
    assume out_Tmp_3062 > 0;
    goto anon15_Else;

  anon15_Else:
    assume {:nonnull} in_IrpContext_217 != 0;
    assume in_IrpContext_217 > 0;
    goto anon12_Else;

  anon12_Else:
    assume {:nonnull} in_Fcb_78 != 0;
    assume in_Fcb_78 > 0;
    call {:si_unique_call 5000} out_vslice_dummy_var_551 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    call {:si_unique_call 5001} ExReleaseResourceLite(0);
    goto anon12_Else_dummy;

  anon12_Else_dummy:
    call {:si_unique_call 5002} {:si_old_unique_call 1} out_sdv_1784, out_Tmp_3062, out_vslice_dummy_var_551 := FatAcquireSharedFcbWaitForEx_loop_L3(out_sdv_1784, out_Tmp_3062, in_IrpContext_217, in_Fcb_78, out_vslice_dummy_var_551);
    return;
}



procedure {:LoopProcedure} FatAcquireSharedFcbWaitForEx_loop_L3(in_sdv_1784: int, in_Tmp_3062: int, in_IrpContext_217: int, in_Fcb_78: int, in_vslice_dummy_var_551: int) returns (out_sdv_1784: int, out_Tmp_3062: int, out_vslice_dummy_var_551: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_vslice_dummy_var_551 == 258 || out_vslice_dummy_var_551 == 0 || out_vslice_dummy_var_551 == in_vslice_dummy_var_551;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMarkVolume#0_loop_L99(in_Irp_79: int, in_NextMdl: int, in_Tmp_2891: int) returns (out_NextMdl: int, out_Tmp_2891: int)
{

  entry:
    out_NextMdl, out_Tmp_2891 := in_NextMdl, in_Tmp_2891;
    goto L99, exit;

  exit:
    return;

  L99:
    assume {:nonnull} in_Irp_79 != 0;
    assume in_Irp_79 > 0;
    goto anon71_Else;

  anon71_Else:
    assume {:nonnull} in_Irp_79 != 0;
    assume in_Irp_79 > 0;
    havoc out_Tmp_2891;
    assume {:nonnull} out_Tmp_2891 != 0;
    assume out_Tmp_2891 > 0;
    havoc out_NextMdl;
    call {:si_unique_call 5003} MmUnlockPages(0);
    call {:si_unique_call 5004} IoFreeMdl(0);
    assume {:nonnull} in_Irp_79 != 0;
    assume in_Irp_79 > 0;
    goto anon71_Else_dummy;

  anon71_Else_dummy:
    call {:si_unique_call 5005} {:si_old_unique_call 1} out_NextMdl, out_Tmp_2891 := FatMarkVolume#0_loop_L99(in_Irp_79, out_NextMdl, out_Tmp_2891);
    return;
}



procedure {:LoopProcedure} FatMarkVolume#0_loop_L99(in_Irp_79: int, in_NextMdl: int, in_Tmp_2891: int) returns (out_NextMdl: int, out_Tmp_2891: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:SIextraRecBound 2} FatMarkVolume#0_loop_L22(in_Tmp_2888: int, in_Offset_8: int, in_Irp_79: int, in_abort: int, in_Tmp_2889: int, in_Tmp_2890: int, in_PinLength: int, in_NextMdl: int, in_Status_76: int, in_Tmp_2891: int, in_sdv_1628: int, in_Bcb_25: int, in_ThisPass: int, in_Tmp_2892: int, in_Event_13: int, in_Tmp_2893: int, in_Tmp_2894: int, in_Tmp_2895: int, in_sdv_1630: int, in_Tmp_2897: int, in_WriteLength_1: int, in_FsInfoUpdate: int, in_Tmp_2898: int, in_FsInfoSector: int, in_Tmp_2899: int, in_CurrentHead: int, in_Sector: int, in_Vcb_109: int, in_VolumeState_1: int, in_vslice_dummy_var_581: int, in_vslice_dummy_var_582: int) returns (out_Tmp_2888: int, out_Irp_79: int, out_abort: int, out_Tmp_2889: int, out_Tmp_2890: int, out_PinLength: int, out_NextMdl: int, out_Status_76: int, out_Tmp_2891: int, out_sdv_1628: int, out_Bcb_25: int, out_ThisPass: int, out_Tmp_2892: int, out_Tmp_2893: int, out_Tmp_2894: int, out_Tmp_2895: int, out_sdv_1630: int, out_Tmp_2897: int, out_WriteLength_1: int, out_FsInfoUpdate: int, out_Tmp_2898: int, out_FsInfoSector: int, out_Tmp_2899: int, out_CurrentHead: int, out_vslice_dummy_var_581: int, out_vslice_dummy_var_582: int)
{
  var vslice_dummy_var_645: int;

  entry:
    out_Tmp_2888, out_Irp_79, out_abort, out_Tmp_2889, out_Tmp_2890, out_PinLength, out_NextMdl, out_Status_76, out_Tmp_2891, out_sdv_1628, out_Bcb_25, out_ThisPass, out_Tmp_2892, out_Tmp_2893, out_Tmp_2894, out_Tmp_2895, out_sdv_1630, out_Tmp_2897, out_WriteLength_1, out_FsInfoUpdate, out_Tmp_2898, out_FsInfoSector, out_Tmp_2899, out_CurrentHead, out_vslice_dummy_var_581, out_vslice_dummy_var_582 := in_Tmp_2888, in_Irp_79, in_abort, in_Tmp_2889, in_Tmp_2890, in_PinLength, in_NextMdl, in_Status_76, in_Tmp_2891, in_sdv_1628, in_Bcb_25, in_ThisPass, in_Tmp_2892, in_Tmp_2893, in_Tmp_2894, in_Tmp_2895, in_sdv_1630, in_Tmp_2897, in_WriteLength_1, in_FsInfoUpdate, in_Tmp_2898, in_FsInfoSector, in_Tmp_2899, in_CurrentHead, in_vslice_dummy_var_581, in_vslice_dummy_var_582;
    goto L22, exit;

  exit:
    return;

  L22:
    assume {:CounterLoop 2} {:Counter "ThisPass"} true;
    goto anon58_Else;

  anon58_Else:
    assume {:partition} 2 > out_ThisPass;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} out_ThisPass != 1;
    goto L32;

  L32:
    assume {:nonnull} in_Offset_8 != 0;
    assume in_Offset_8 > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2890 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} out_Tmp_2890 != 0;
    assume out_Tmp_2890 > 0;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2893 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2895 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} out_Tmp_2893 != 0;
    assume out_Tmp_2893 > 0;
    assume {:nonnull} out_Tmp_2895 != 0;
    assume out_Tmp_2895 > 0;
    havoc out_Tmp_2889;
    goto L38;

  L38:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2897 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2898 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} out_Tmp_2897 != 0;
    assume out_Tmp_2897 > 0;
    assume {:nonnull} out_Tmp_2898 != 0;
    assume out_Tmp_2898 > 0;
    havoc out_PinLength;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    havoc out_WriteLength_1;
    goto L40;

  L40:
    call {:si_unique_call 5009} out_vslice_dummy_var_581 := corral_nondet();
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} out_ThisPass == 0;
    call {:si_unique_call 5008} out_sdv_1628 := FatIsBootSectorFat(in_Sector);
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} out_sdv_1628 != 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    out_Tmp_2888 := in_Sector;
    assume {:nonnull} out_Tmp_2888 != 0;
    assume out_Tmp_2888 > 0;
    out_CurrentHead := CurrentHead__PACKED_BOOT_SECTOR_EX(out_Tmp_2888);
    goto L126;

  L126:
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} in_VolumeState_1 != 0;
    assume {:nonnull} out_CurrentHead != 0;
    assume out_CurrentHead > 0;
    Mem_T.INT4[out_CurrentHead] := BOR(Mem_T.INT4[out_CurrentHead], 1);
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} in_VolumeState_1 == 2;
    assume {:nonnull} out_CurrentHead != 0;
    assume out_CurrentHead > 0;
    Mem_T.INT4[out_CurrentHead] := BOR(Mem_T.INT4[out_CurrentHead], 2);
    goto L65;

  L65:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} out_FsInfoUpdate != 0;
    out_FsInfoSector := in_Sector;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    goto L66;

  L66:
    call {:si_unique_call 5013} KeInitializeEvent(in_Event_13, 0, 0);
    call {:si_unique_call 5014} out_Irp_79 := IoBuildAsynchronousFsdRequest(4, 0, 0, out_WriteLength_1, 0, 0);
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} out_Irp_79 == 0;
    goto L94;

  L94:
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} out_Irp_79 != 0;
    goto L99;

  L99:
    call {:si_unique_call 5015} out_NextMdl, out_Tmp_2891 := FatMarkVolume#0_loop_L99(out_Irp_79, out_NextMdl, out_Tmp_2891);
    goto L99_last;

  L99_last:
    assume {:nonnull} out_Irp_79 != 0;
    assume out_Irp_79 > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:nonnull} out_Irp_79 != 0;
    assume out_Irp_79 > 0;
    havoc out_Tmp_2891;
    assume {:nonnull} out_Tmp_2891 != 0;
    assume out_Tmp_2891 > 0;
    havoc out_NextMdl;
    call {:si_unique_call 5016} MmUnlockPages(0);
    call {:si_unique_call 5017} IoFreeMdl(0);
    assume {:nonnull} out_Irp_79 != 0;
    assume out_Irp_79 > 0;
    assume false;
    return;

  anon71_Then:
    call {:si_unique_call 5006} IoFreeIrp(0);
    goto L98;

  L98:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} out_Bcb_25 != 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} out_Bcb_25 != 0;
    out_Bcb_25 := 0;
    goto L112;

  L112:
    out_ThisPass := out_ThisPass + 1;
    goto L112_dummy;

  L112_dummy:
    call {:si_unique_call 5018} {:si_old_unique_call 1} out_Tmp_2888, out_Irp_79, out_abort, out_Tmp_2889, out_Tmp_2890, out_PinLength, out_NextMdl, out_Status_76, out_Tmp_2891, out_sdv_1628, out_Bcb_25, out_ThisPass, out_Tmp_2892, out_Tmp_2893, out_Tmp_2894, out_Tmp_2895, out_sdv_1630, out_Tmp_2897, out_WriteLength_1, out_FsInfoUpdate, out_Tmp_2898, out_FsInfoSector, out_Tmp_2899, out_CurrentHead, out_vslice_dummy_var_581, out_vslice_dummy_var_582 := FatMarkVolume#0_loop_L22(out_Tmp_2888, in_Offset_8, out_Irp_79, out_abort, out_Tmp_2889, out_Tmp_2890, out_PinLength, out_NextMdl, out_Status_76, out_Tmp_2891, out_sdv_1628, out_Bcb_25, out_ThisPass, out_Tmp_2892, in_Event_13, out_Tmp_2893, out_Tmp_2894, out_Tmp_2895, out_sdv_1630, out_Tmp_2897, out_WriteLength_1, out_FsInfoUpdate, out_Tmp_2898, out_FsInfoSector, out_Tmp_2899, out_CurrentHead, in_Sector, in_Vcb_109, in_VolumeState_1, out_vslice_dummy_var_581, out_vslice_dummy_var_582);
    return;

  anon72_Then:
    assume {:partition} out_Bcb_25 == 0;
    goto L112;

  anon70_Then:
    assume {:partition} out_Bcb_25 == 0;
    goto L112;

  anon69_Then:
    assume {:partition} out_Irp_79 == 0;
    goto L98;

  anon67_Then:
    assume {:partition} out_Irp_79 != 0;
    call {:si_unique_call 5010} out_sdv_1630 := sdv_IoGetNextIrpStackLocation(out_Irp_79);
    assume {:nonnull} out_sdv_1630 != 0;
    assume out_sdv_1630 > 0;
    call {:si_unique_call 5011} sdv_IoSetCompletionRoutine(out_Irp_79, li2bplFunctionConstant600, in_Event_13, 1, 1, 1);
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    havoc vslice_dummy_var_645;
    call {:si_unique_call 5012} out_Status_76 := sdv_IoCallDriver(vslice_dummy_var_645, out_Irp_79);
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} out_Status_76 == 259;
    call {:si_unique_call 5007} out_vslice_dummy_var_582 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    goto L94;

  anon68_Then:
    assume {:partition} out_Status_76 != 259;
    goto L94;

  anon66_Then:
    assume {:partition} out_FsInfoUpdate == 0;
    goto L66;

  anon83_Then:
    assume {:partition} in_VolumeState_1 != 2;
    goto L65;

  anon75_Then:
    assume {:partition} in_VolumeState_1 == 0;
    assume {:nonnull} out_CurrentHead != 0;
    assume out_CurrentHead > 0;
    Mem_T.INT4[out_CurrentHead] := BAND(Mem_T.INT4[out_CurrentHead], BNOT(1));
    goto L65;

  anon74_Then:
    out_Tmp_2899 := in_Sector;
    assume {:nonnull} out_Tmp_2899 != 0;
    assume out_Tmp_2899 > 0;
    out_CurrentHead := CurrentHead__PACKED_BOOT_SECTOR(out_Tmp_2899);
    goto L126;

  anon73_Then:
    assume {:partition} out_sdv_1628 == 0;
    out_abort := 1;
    goto L94;

  anon65_Then:
    assume {:partition} out_ThisPass != 0;
    goto L65;

  anon82_Then:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2894 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2892 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} out_Tmp_2892 != 0;
    assume out_Tmp_2892 > 0;
    assume {:nonnull} out_Tmp_2894 != 0;
    assume out_Tmp_2894 > 0;
    havoc out_Tmp_2889;
    goto L38;

  anon81_Then:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    havoc out_PinLength;
    out_WriteLength_1 := out_PinLength;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} in_VolumeState_1 == 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    out_FsInfoUpdate := 1;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    havoc out_PinLength;
    out_WriteLength_1 := out_PinLength;
    goto L40;

  anon77_Then:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} out_ThisPass == 1;
    out_FsInfoUpdate := 1;
    assume {:nonnull} in_Offset_8 != 0;
    assume in_Offset_8 > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto L40;

  anon78_Then:
    assume {:partition} out_ThisPass != 1;
    goto L40;

  anon76_Then:
    assume {:partition} in_VolumeState_1 != 0;
    goto L40;

  anon84_Then:
    goto L40;

  anon60_Then:
    assume {:partition} out_ThisPass == 1;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon61_Else;

  anon61_Else:
    goto anon62_Else;

  anon62_Else:
    assume {:partition} in_VolumeState_1 == 0;
    goto anon63_Else;

  anon63_Else:
    assume {:partition} out_FsInfoUpdate == 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon64_Else;

  anon64_Else:
    goto L32;
}



procedure {:LoopProcedure} FatMarkVolume#0_loop_L22(in_Tmp_2888: int, in_Offset_8: int, in_Irp_79: int, in_abort: int, in_Tmp_2889: int, in_Tmp_2890: int, in_PinLength: int, in_NextMdl: int, in_Status_76: int, in_Tmp_2891: int, in_sdv_1628: int, in_Bcb_25: int, in_ThisPass: int, in_Tmp_2892: int, in_Event_13: int, in_Tmp_2893: int, in_Tmp_2894: int, in_Tmp_2895: int, in_sdv_1630: int, in_Tmp_2897: int, in_WriteLength_1: int, in_FsInfoUpdate: int, in_Tmp_2898: int, in_FsInfoSector: int, in_Tmp_2899: int, in_CurrentHead: int, in_Sector: int, in_Vcb_109: int, in_VolumeState_1: int, in_vslice_dummy_var_581: int, in_vslice_dummy_var_582: int) returns (out_Tmp_2888: int, out_Irp_79: int, out_abort: int, out_Tmp_2889: int, out_Tmp_2890: int, out_PinLength: int, out_NextMdl: int, out_Status_76: int, out_Tmp_2891: int, out_sdv_1628: int, out_Bcb_25: int, out_ThisPass: int, out_Tmp_2892: int, out_Tmp_2893: int, out_Tmp_2894: int, out_Tmp_2895: int, out_sdv_1630: int, out_Tmp_2897: int, out_WriteLength_1: int, out_FsInfoUpdate: int, out_Tmp_2898: int, out_FsInfoSector: int, out_Tmp_2899: int, out_CurrentHead: int, out_vslice_dummy_var_581: int, out_vslice_dummy_var_582: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2888 == in_Tmp_2888 || out_Tmp_2888 == in_Sector;
  free ensures {:va_keep} out_abort == 1 || out_abort == in_abort;
  free ensures {:va_keep} out_Tmp_2890 == in_Tmp_2890 || out_Tmp_2890 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Status_76 == 259 || out_Status_76 == in_Status_76;
  free ensures {:va_keep} out_sdv_1628 == 0 || out_sdv_1628 == 1 || out_sdv_1628 == in_sdv_1628;
  free ensures {:va_keep} out_Bcb_25 == 0 || out_Bcb_25 == in_Bcb_25;
  free ensures {:va_keep} out_Tmp_2892 == in_Tmp_2892 || out_Tmp_2892 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Tmp_2893 == in_Tmp_2893 || out_Tmp_2893 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Tmp_2894 == in_Tmp_2894 || out_Tmp_2894 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Tmp_2895 == in_Tmp_2895 || out_Tmp_2895 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Tmp_2897 == in_Tmp_2897 || out_Tmp_2897 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_FsInfoUpdate == 1 || out_FsInfoUpdate == in_FsInfoUpdate;
  free ensures {:va_keep} out_Tmp_2898 == in_Tmp_2898 || out_Tmp_2898 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_FsInfoSector == in_FsInfoSector || out_FsInfoSector == in_Sector;
  free ensures {:va_keep} out_Tmp_2899 == in_Tmp_2899 || out_Tmp_2899 == in_Sector;
  free ensures {:va_keep} out_CurrentHead == in_CurrentHead || out_CurrentHead == CurrentHead__PACKED_BOOT_SECTOR_EX(in_Sector) || out_CurrentHead == CurrentHead__PACKED_BOOT_SECTOR(in_Sector);
  free ensures {:va_keep} out_vslice_dummy_var_582 == 258 || out_vslice_dummy_var_582 == 0 || out_vslice_dummy_var_582 == in_vslice_dummy_var_582;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatMarkVolume#1_loop_L99(in_Irp_79: int, in_NextMdl: int, in_Tmp_2891: int) returns (out_NextMdl: int, out_Tmp_2891: int)
{

  entry:
    out_NextMdl, out_Tmp_2891 := in_NextMdl, in_Tmp_2891;
    goto L99, exit;

  exit:
    return;

  L99:
    assume {:nonnull} in_Irp_79 != 0;
    assume in_Irp_79 > 0;
    goto anon71_Else;

  anon71_Else:
    assume {:nonnull} in_Irp_79 != 0;
    assume in_Irp_79 > 0;
    havoc out_Tmp_2891;
    assume {:nonnull} out_Tmp_2891 != 0;
    assume out_Tmp_2891 > 0;
    havoc out_NextMdl;
    call {:si_unique_call 5019} MmUnlockPages(0);
    call {:si_unique_call 5020} IoFreeMdl(0);
    assume {:nonnull} in_Irp_79 != 0;
    assume in_Irp_79 > 0;
    goto anon71_Else_dummy;

  anon71_Else_dummy:
    call {:si_unique_call 5021} {:si_old_unique_call 1} out_NextMdl, out_Tmp_2891 := FatMarkVolume#1_loop_L99(in_Irp_79, out_NextMdl, out_Tmp_2891);
    return;
}



procedure {:LoopProcedure} FatMarkVolume#1_loop_L99(in_Irp_79: int, in_NextMdl: int, in_Tmp_2891: int) returns (out_NextMdl: int, out_Tmp_2891: int);
  modifies alloc;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:SIextraRecBound 2} FatMarkVolume#1_loop_L22(in_Tmp_2888: int, in_Offset_8: int, in_Irp_79: int, in_abort: int, in_Tmp_2889: int, in_Tmp_2890: int, in_PinLength: int, in_NextMdl: int, in_Status_76: int, in_Tmp_2891: int, in_sdv_1628: int, in_Bcb_25: int, in_ThisPass: int, in_Tmp_2892: int, in_Event_13: int, in_Tmp_2893: int, in_Tmp_2894: int, in_Tmp_2895: int, in_sdv_1630: int, in_Tmp_2897: int, in_WriteLength_1: int, in_FsInfoUpdate: int, in_Tmp_2898: int, in_FsInfoSector: int, in_Tmp_2899: int, in_CurrentHead: int, in_Sector: int, in_Vcb_109: int, in_VolumeState_1: int, in_vslice_dummy_var_584: int, in_vslice_dummy_var_585: int) returns (out_Tmp_2888: int, out_Irp_79: int, out_abort: int, out_Tmp_2889: int, out_Tmp_2890: int, out_PinLength: int, out_NextMdl: int, out_Status_76: int, out_Tmp_2891: int, out_sdv_1628: int, out_Bcb_25: int, out_ThisPass: int, out_Tmp_2892: int, out_Tmp_2893: int, out_Tmp_2894: int, out_Tmp_2895: int, out_sdv_1630: int, out_Tmp_2897: int, out_WriteLength_1: int, out_FsInfoUpdate: int, out_Tmp_2898: int, out_FsInfoSector: int, out_Tmp_2899: int, out_CurrentHead: int, out_vslice_dummy_var_584: int, out_vslice_dummy_var_585: int)
{
  var vslice_dummy_var_646: int;

  entry:
    out_Tmp_2888, out_Irp_79, out_abort, out_Tmp_2889, out_Tmp_2890, out_PinLength, out_NextMdl, out_Status_76, out_Tmp_2891, out_sdv_1628, out_Bcb_25, out_ThisPass, out_Tmp_2892, out_Tmp_2893, out_Tmp_2894, out_Tmp_2895, out_sdv_1630, out_Tmp_2897, out_WriteLength_1, out_FsInfoUpdate, out_Tmp_2898, out_FsInfoSector, out_Tmp_2899, out_CurrentHead, out_vslice_dummy_var_584, out_vslice_dummy_var_585 := in_Tmp_2888, in_Irp_79, in_abort, in_Tmp_2889, in_Tmp_2890, in_PinLength, in_NextMdl, in_Status_76, in_Tmp_2891, in_sdv_1628, in_Bcb_25, in_ThisPass, in_Tmp_2892, in_Tmp_2893, in_Tmp_2894, in_Tmp_2895, in_sdv_1630, in_Tmp_2897, in_WriteLength_1, in_FsInfoUpdate, in_Tmp_2898, in_FsInfoSector, in_Tmp_2899, in_CurrentHead, in_vslice_dummy_var_584, in_vslice_dummy_var_585;
    goto L22, exit;

  exit:
    return;

  L22:
    assume {:CounterLoop 2} {:Counter "ThisPass"} true;
    goto anon58_Else;

  anon58_Else:
    assume {:partition} 2 > out_ThisPass;
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} out_ThisPass != 1;
    goto L32;

  L32:
    assume {:nonnull} in_Offset_8 != 0;
    assume in_Offset_8 > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon81_Then, anon81_Else;

  anon81_Else:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2890 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} out_Tmp_2890 != 0;
    assume out_Tmp_2890 > 0;
    goto anon82_Then, anon82_Else;

  anon82_Else:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2893 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2895 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} out_Tmp_2893 != 0;
    assume out_Tmp_2893 > 0;
    assume {:nonnull} out_Tmp_2895 != 0;
    assume out_Tmp_2895 > 0;
    havoc out_Tmp_2889;
    goto L38;

  L38:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2897 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2898 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} out_Tmp_2897 != 0;
    assume out_Tmp_2897 > 0;
    assume {:nonnull} out_Tmp_2898 != 0;
    assume out_Tmp_2898 > 0;
    havoc out_PinLength;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    havoc out_WriteLength_1;
    goto L40;

  L40:
    call {:si_unique_call 5025} out_vslice_dummy_var_584 := corral_nondet();
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} out_ThisPass == 0;
    call {:si_unique_call 5024} out_sdv_1628 := FatIsBootSectorFat(in_Sector);
    goto anon73_Then, anon73_Else;

  anon73_Else:
    assume {:partition} out_sdv_1628 != 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon74_Then, anon74_Else;

  anon74_Else:
    out_Tmp_2888 := in_Sector;
    assume {:nonnull} out_Tmp_2888 != 0;
    assume out_Tmp_2888 > 0;
    out_CurrentHead := CurrentHead__PACKED_BOOT_SECTOR_EX(out_Tmp_2888);
    goto L126;

  L126:
    goto anon75_Then, anon75_Else;

  anon75_Else:
    assume {:partition} in_VolumeState_1 != 0;
    assume {:nonnull} out_CurrentHead != 0;
    assume out_CurrentHead > 0;
    Mem_T.INT4[out_CurrentHead] := BOR(Mem_T.INT4[out_CurrentHead], 1);
    goto anon83_Then, anon83_Else;

  anon83_Else:
    assume {:partition} in_VolumeState_1 == 2;
    assume {:nonnull} out_CurrentHead != 0;
    assume out_CurrentHead > 0;
    Mem_T.INT4[out_CurrentHead] := BOR(Mem_T.INT4[out_CurrentHead], 2);
    goto L65;

  L65:
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} out_FsInfoUpdate != 0;
    out_FsInfoSector := in_Sector;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    assume {:nonnull} out_FsInfoSector != 0;
    assume out_FsInfoSector > 0;
    goto L66;

  L66:
    call {:si_unique_call 5029} KeInitializeEvent(in_Event_13, 0, 0);
    call {:si_unique_call 5030} out_Irp_79 := IoBuildAsynchronousFsdRequest(4, 0, 0, out_WriteLength_1, 0, 0);
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} out_Irp_79 == 0;
    goto L94;

  L94:
    goto anon69_Then, anon69_Else;

  anon69_Else:
    assume {:partition} out_Irp_79 != 0;
    goto L99;

  L99:
    call {:si_unique_call 5031} out_NextMdl, out_Tmp_2891 := FatMarkVolume#1_loop_L99(out_Irp_79, out_NextMdl, out_Tmp_2891);
    goto L99_last;

  L99_last:
    assume {:nonnull} out_Irp_79 != 0;
    assume out_Irp_79 > 0;
    goto anon71_Then, anon71_Else;

  anon71_Else:
    assume {:nonnull} out_Irp_79 != 0;
    assume out_Irp_79 > 0;
    havoc out_Tmp_2891;
    assume {:nonnull} out_Tmp_2891 != 0;
    assume out_Tmp_2891 > 0;
    havoc out_NextMdl;
    call {:si_unique_call 5032} MmUnlockPages(0);
    call {:si_unique_call 5033} IoFreeMdl(0);
    assume {:nonnull} out_Irp_79 != 0;
    assume out_Irp_79 > 0;
    assume false;
    return;

  anon71_Then:
    call {:si_unique_call 5022} IoFreeIrp(0);
    goto L98;

  L98:
    goto anon70_Then, anon70_Else;

  anon70_Else:
    assume {:partition} out_Bcb_25 != 0;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} out_Bcb_25 != 0;
    out_Bcb_25 := 0;
    goto L112;

  L112:
    out_ThisPass := out_ThisPass + 1;
    goto L112_dummy;

  L112_dummy:
    call {:si_unique_call 5034} {:si_old_unique_call 1} out_Tmp_2888, out_Irp_79, out_abort, out_Tmp_2889, out_Tmp_2890, out_PinLength, out_NextMdl, out_Status_76, out_Tmp_2891, out_sdv_1628, out_Bcb_25, out_ThisPass, out_Tmp_2892, out_Tmp_2893, out_Tmp_2894, out_Tmp_2895, out_sdv_1630, out_Tmp_2897, out_WriteLength_1, out_FsInfoUpdate, out_Tmp_2898, out_FsInfoSector, out_Tmp_2899, out_CurrentHead, out_vslice_dummy_var_584, out_vslice_dummy_var_585 := FatMarkVolume#1_loop_L22(out_Tmp_2888, in_Offset_8, out_Irp_79, out_abort, out_Tmp_2889, out_Tmp_2890, out_PinLength, out_NextMdl, out_Status_76, out_Tmp_2891, out_sdv_1628, out_Bcb_25, out_ThisPass, out_Tmp_2892, in_Event_13, out_Tmp_2893, out_Tmp_2894, out_Tmp_2895, out_sdv_1630, out_Tmp_2897, out_WriteLength_1, out_FsInfoUpdate, out_Tmp_2898, out_FsInfoSector, out_Tmp_2899, out_CurrentHead, in_Sector, in_Vcb_109, in_VolumeState_1, out_vslice_dummy_var_584, out_vslice_dummy_var_585);
    return;

  anon72_Then:
    assume {:partition} out_Bcb_25 == 0;
    goto L112;

  anon70_Then:
    assume {:partition} out_Bcb_25 == 0;
    goto L112;

  anon69_Then:
    assume {:partition} out_Irp_79 == 0;
    goto L98;

  anon67_Then:
    assume {:partition} out_Irp_79 != 0;
    call {:si_unique_call 5026} out_sdv_1630 := sdv_IoGetNextIrpStackLocation(out_Irp_79);
    assume {:nonnull} out_sdv_1630 != 0;
    assume out_sdv_1630 > 0;
    call {:si_unique_call 5027} sdv_IoSetCompletionRoutine(out_Irp_79, li2bplFunctionConstant600, in_Event_13, 1, 1, 1);
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    havoc vslice_dummy_var_646;
    call {:si_unique_call 5028} out_Status_76 := sdv_IoCallDriver(vslice_dummy_var_646, out_Irp_79);
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} out_Status_76 == 259;
    call {:si_unique_call 5023} out_vslice_dummy_var_585 := KeWaitForSingleObject(0, 0, 0, 0, 0);
    goto L94;

  anon68_Then:
    assume {:partition} out_Status_76 != 259;
    goto L94;

  anon66_Then:
    assume {:partition} out_FsInfoUpdate == 0;
    goto L66;

  anon83_Then:
    assume {:partition} in_VolumeState_1 != 2;
    goto L65;

  anon75_Then:
    assume {:partition} in_VolumeState_1 == 0;
    assume {:nonnull} out_CurrentHead != 0;
    assume out_CurrentHead > 0;
    Mem_T.INT4[out_CurrentHead] := BAND(Mem_T.INT4[out_CurrentHead], BNOT(1));
    goto L65;

  anon74_Then:
    out_Tmp_2899 := in_Sector;
    assume {:nonnull} out_Tmp_2899 != 0;
    assume out_Tmp_2899 > 0;
    out_CurrentHead := CurrentHead__PACKED_BOOT_SECTOR(out_Tmp_2899);
    goto L126;

  anon73_Then:
    assume {:partition} out_sdv_1628 == 0;
    out_abort := 1;
    goto L94;

  anon65_Then:
    assume {:partition} out_ThisPass != 0;
    goto L65;

  anon82_Then:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2894 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    out_Tmp_2892 := Bpb__VCB(in_Vcb_109);
    assume {:nonnull} out_Tmp_2892 != 0;
    assume out_Tmp_2892 > 0;
    assume {:nonnull} out_Tmp_2894 != 0;
    assume out_Tmp_2894 > 0;
    havoc out_Tmp_2889;
    goto L38;

  anon81_Then:
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    havoc out_PinLength;
    out_WriteLength_1 := out_PinLength;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon84_Then, anon84_Else;

  anon84_Else:
    goto anon76_Then, anon76_Else;

  anon76_Else:
    assume {:partition} in_VolumeState_1 == 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon77_Then, anon77_Else;

  anon77_Else:
    out_FsInfoUpdate := 1;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    havoc out_PinLength;
    out_WriteLength_1 := out_PinLength;
    goto L40;

  anon77_Then:
    goto anon78_Then, anon78_Else;

  anon78_Else:
    assume {:partition} out_ThisPass == 1;
    out_FsInfoUpdate := 1;
    assume {:nonnull} in_Offset_8 != 0;
    assume in_Offset_8 > 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto L40;

  anon78_Then:
    assume {:partition} out_ThisPass != 1;
    goto L40;

  anon76_Then:
    assume {:partition} in_VolumeState_1 != 0;
    goto L40;

  anon84_Then:
    goto L40;

  anon60_Then:
    assume {:partition} out_ThisPass == 1;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon61_Else;

  anon61_Else:
    goto anon62_Else;

  anon62_Else:
    assume {:partition} in_VolumeState_1 == 0;
    goto anon63_Else;

  anon63_Else:
    assume {:partition} out_FsInfoUpdate == 0;
    assume {:nonnull} in_Vcb_109 != 0;
    assume in_Vcb_109 > 0;
    goto anon64_Else;

  anon64_Else:
    goto L32;
}



procedure {:LoopProcedure} FatMarkVolume#1_loop_L22(in_Tmp_2888: int, in_Offset_8: int, in_Irp_79: int, in_abort: int, in_Tmp_2889: int, in_Tmp_2890: int, in_PinLength: int, in_NextMdl: int, in_Status_76: int, in_Tmp_2891: int, in_sdv_1628: int, in_Bcb_25: int, in_ThisPass: int, in_Tmp_2892: int, in_Event_13: int, in_Tmp_2893: int, in_Tmp_2894: int, in_Tmp_2895: int, in_sdv_1630: int, in_Tmp_2897: int, in_WriteLength_1: int, in_FsInfoUpdate: int, in_Tmp_2898: int, in_FsInfoSector: int, in_Tmp_2899: int, in_CurrentHead: int, in_Sector: int, in_Vcb_109: int, in_VolumeState_1: int, in_vslice_dummy_var_584: int, in_vslice_dummy_var_585: int) returns (out_Tmp_2888: int, out_Irp_79: int, out_abort: int, out_Tmp_2889: int, out_Tmp_2890: int, out_PinLength: int, out_NextMdl: int, out_Status_76: int, out_Tmp_2891: int, out_sdv_1628: int, out_Bcb_25: int, out_ThisPass: int, out_Tmp_2892: int, out_Tmp_2893: int, out_Tmp_2894: int, out_Tmp_2895: int, out_sdv_1630: int, out_Tmp_2897: int, out_WriteLength_1: int, out_FsInfoUpdate: int, out_Tmp_2898: int, out_FsInfoSector: int, out_Tmp_2899: int, out_CurrentHead: int, out_vslice_dummy_var_584: int, out_vslice_dummy_var_585: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_Tmp_2888 == in_Tmp_2888 || out_Tmp_2888 == in_Sector;
  free ensures {:va_keep} out_abort == 1 || out_abort == in_abort;
  free ensures {:va_keep} out_Tmp_2890 == in_Tmp_2890 || out_Tmp_2890 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Status_76 == 259 || out_Status_76 == in_Status_76;
  free ensures {:va_keep} out_sdv_1628 == 0 || out_sdv_1628 == 1 || out_sdv_1628 == in_sdv_1628;
  free ensures {:va_keep} out_Bcb_25 == 0 || out_Bcb_25 == in_Bcb_25;
  free ensures {:va_keep} out_Tmp_2892 == in_Tmp_2892 || out_Tmp_2892 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Tmp_2893 == in_Tmp_2893 || out_Tmp_2893 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Tmp_2894 == in_Tmp_2894 || out_Tmp_2894 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Tmp_2895 == in_Tmp_2895 || out_Tmp_2895 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_Tmp_2897 == in_Tmp_2897 || out_Tmp_2897 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_FsInfoUpdate == 1 || out_FsInfoUpdate == in_FsInfoUpdate;
  free ensures {:va_keep} out_Tmp_2898 == in_Tmp_2898 || out_Tmp_2898 == Bpb__VCB(in_Vcb_109);
  free ensures {:va_keep} out_FsInfoSector == in_FsInfoSector || out_FsInfoSector == in_Sector;
  free ensures {:va_keep} out_Tmp_2899 == in_Tmp_2899 || out_Tmp_2899 == in_Sector;
  free ensures {:va_keep} out_CurrentHead == in_CurrentHead || out_CurrentHead == CurrentHead__PACKED_BOOT_SECTOR_EX(in_Sector) || out_CurrentHead == CurrentHead__PACKED_BOOT_SECTOR(in_Sector);
  free ensures {:va_keep} out_vslice_dummy_var_585 == 258 || out_vslice_dummy_var_585 == 0 || out_vslice_dummy_var_585 == in_vslice_dummy_var_585;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLookupFileAllocation#0_loop_L46(in_BytesOnVolume: int, in_Tmp_257: int, in_CurrentLbo: int, in_Tmp_258: int, in_Runs: int, in_Context: int, in_sdv_124: int, in_LastCluster: int, in_Vcb_15: int, in_FatEntry_1: int, in_FirstLboOfCurrentRun: int, in_FirstVboOfCurrentRun: int, in_CurrentVbo: int, in_BytesPerCluster_1: int, in_PriorLbo: int, in_IrpContext_22: int, in_FcbOrDcb: int, in_Vbo: int, in_EndOnMax: int, in_boogieTmp: int, in_vslice_dummy_var_599: int, in_vslice_dummy_var_600: int) returns (out_Tmp_257: int, out_Tmp_258: int, out_sdv_124: int, out_LastCluster: int, out_FirstLboOfCurrentRun: int, out_FirstVboOfCurrentRun: int, out_PriorLbo: int, out_boogieTmp: int, out_vslice_dummy_var_599: int, out_vslice_dummy_var_600: int)
{

  entry:
    out_Tmp_257, out_Tmp_258, out_sdv_124, out_LastCluster, out_FirstLboOfCurrentRun, out_FirstVboOfCurrentRun, out_PriorLbo, out_boogieTmp, out_vslice_dummy_var_599, out_vslice_dummy_var_600 := in_Tmp_257, in_Tmp_258, in_sdv_124, in_LastCluster, in_FirstLboOfCurrentRun, in_FirstVboOfCurrentRun, in_PriorLbo, in_boogieTmp, in_vslice_dummy_var_599, in_vslice_dummy_var_600;
    goto L46, exit;

  exit:
    return;

  L46:
    goto anon52_Then;

  anon52_Then:
    assume {:partition} out_LastCluster == 0;
    assume {:nonnull} in_FatEntry_1 != 0;
    assume in_FatEntry_1 > 0;
    call {:si_unique_call 5038} FatLookupFatEntry(in_IrpContext_22, in_Vcb_15, Mem_T.INT4[in_FatEntry_1], in_FatEntry_1, in_Context);
    assume {:nonnull} in_CurrentLbo != 0;
    assume in_CurrentLbo > 0;
    out_PriorLbo := Mem_T.INT4[in_CurrentLbo];
    assume {:nonnull} in_CurrentLbo != 0;
    assume in_CurrentLbo > 0;
    call {:si_unique_call 5039} out_boogieTmp := corral_nondet();
    Mem_T.INT4[in_CurrentLbo] := out_boogieTmp;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    Mem_T.INT4[in_CurrentVbo] := Mem_T.INT4[in_CurrentVbo] + in_BytesPerCluster_1;
    assume {:nonnull} in_FatEntry_1 != 0;
    assume in_FatEntry_1 > 0;
    call {:si_unique_call 5040} out_sdv_124 := FatInterpretClusterType(in_Vcb_15, Mem_T.INT4[in_FatEntry_1]);
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} out_sdv_124 != 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} out_sdv_124 != 1;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} out_sdv_124 != 2;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} out_sdv_124 != 3;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} out_sdv_124 == 4;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] != 0;
    assume {:nonnull} in_BytesOnVolume != 0;
    assume in_BytesOnVolume > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    goto L86;

  L86:
    assume {:nonnull} in_CurrentLbo != 0;
    assume in_CurrentLbo > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} out_PriorLbo + in_BytesPerCluster_1 != Mem_T.INT4[in_CurrentLbo];
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} out_FirstLboOfCurrentRun != 0;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    out_Tmp_258 := Mem_T.INT4[in_CurrentVbo] - out_FirstVboOfCurrentRun;
    assume {:nonnull} in_FcbOrDcb != 0;
    assume in_FcbOrDcb > 0;
    call {:si_unique_call 5035} out_vslice_dummy_var_600 := FatAddMcbEntry(in_Vcb_15, Mcb__FCB(in_FcbOrDcb), out_FirstVboOfCurrentRun, out_FirstLboOfCurrentRun, out_Tmp_258);
    assume {:nonnull} in_Runs != 0;
    assume in_Runs > 0;
    Mem_T.INT4[in_Runs] := Mem_T.INT4[in_Runs] + 1;
    goto L89;

  L89:
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] > in_Vbo;
    out_LastCluster := 1;
    goto anon61_Else_dummy;

  anon61_Else_dummy:
    goto L_BAF_15;

  L_BAF_15:
    call {:si_unique_call 5045} {:si_old_unique_call 1} out_Tmp_257, out_Tmp_258, out_sdv_124, out_LastCluster, out_FirstLboOfCurrentRun, out_FirstVboOfCurrentRun, out_PriorLbo, out_boogieTmp, out_vslice_dummy_var_599, out_vslice_dummy_var_600 := FatLookupFileAllocation#0_loop_L46(in_BytesOnVolume, out_Tmp_257, in_CurrentLbo, out_Tmp_258, in_Runs, in_Context, out_sdv_124, out_LastCluster, in_Vcb_15, in_FatEntry_1, out_FirstLboOfCurrentRun, out_FirstVboOfCurrentRun, in_CurrentVbo, in_BytesPerCluster_1, out_PriorLbo, in_IrpContext_22, in_FcbOrDcb, in_Vbo, in_EndOnMax, out_boogieTmp, out_vslice_dummy_var_599, out_vslice_dummy_var_600);
    return;

  anon61_Then:
    assume {:partition} in_Vbo >= Mem_T.INT4[in_CurrentVbo];
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    out_FirstVboOfCurrentRun := Mem_T.INT4[in_CurrentVbo];
    assume {:nonnull} in_CurrentLbo != 0;
    assume in_CurrentLbo > 0;
    out_FirstLboOfCurrentRun := Mem_T.INT4[in_CurrentLbo];
    goto anon61_Then_dummy;

  anon61_Then_dummy:
    goto L_BAF_15;

  anon60_Then:
    assume {:partition} out_FirstLboOfCurrentRun == 0;
    goto L89;

  anon59_Then:
    assume {:partition} out_PriorLbo + in_BytesPerCluster_1 == Mem_T.INT4[in_CurrentLbo];
    goto anon59_Then_dummy;

  anon59_Then_dummy:
    goto L_BAF_15;

  anon57_Then:
    assume {:nonnull} in_BytesOnVolume != 0;
    assume in_BytesOnVolume > 0;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L86;

  anon58_Then:
    goto L81;

  L81:
    call {:si_unique_call 5036} FatPopUpFileCorrupt#0(in_IrpContext_22, in_FcbOrDcb);
    assume {:nonnull} in_IrpContext_22 != 0;
    assume in_IrpContext_22 > 0;
    call {:si_unique_call 5037} ExRaiseStatus(-1073741566);
    goto L86;

  anon56_Then:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] == 0;
    goto L81;

  anon65_Then:
    assume {:partition} out_sdv_124 != 4;
    call {:si_unique_call 5041} KeBugCheckEx(35, 132170, 0, 0, 0);
    goto anon65_Then_dummy;

  anon65_Then_dummy:
    goto L_BAF_15;

  anon66_Then:
    assume {:partition} out_sdv_124 == 3;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] != 0;
    goto L103;

  L103:
    out_LastCluster := 1;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} out_FirstLboOfCurrentRun != 0;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    out_Tmp_257 := Mem_T.INT4[in_CurrentVbo] - out_FirstVboOfCurrentRun;
    assume {:nonnull} in_FcbOrDcb != 0;
    assume in_FcbOrDcb > 0;
    call {:si_unique_call 5042} out_vslice_dummy_var_599 := FatAddMcbEntry(in_Vcb_15, Mcb__FCB(in_FcbOrDcb), out_FirstVboOfCurrentRun, out_FirstLboOfCurrentRun, out_Tmp_257);
    assume {:nonnull} in_Runs != 0;
    assume in_Runs > 0;
    Mem_T.INT4[in_Runs] := Mem_T.INT4[in_Runs] + 1;
    goto L105;

  L105:
    goto anon62_Then;

  anon62_Then:
    assume {:partition} in_Vbo != -2;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} in_Vbo >= Mem_T.INT4[in_CurrentVbo];
    assume {:nonnull} in_EndOnMax != 0;
    assume in_EndOnMax > 0;
    goto anon64_Then;

  anon64_Then:
    assume {:partition} Mem_T.INT4[in_EndOnMax] != 0;
    goto anon64_Then_dummy;

  anon64_Then_dummy:
    goto L_BAF_15;

  anon63_Then:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] > in_Vbo;
    goto anon63_Then_dummy;

  anon63_Then_dummy:
    goto L_BAF_15;

  anon72_Then:
    assume {:partition} out_FirstLboOfCurrentRun == 0;
    goto L105;

  anon55_Then:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] == 0;
    assume {:nonnull} in_EndOnMax != 0;
    assume in_EndOnMax > 0;
    Mem_T.INT4[in_EndOnMax] := 1;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    Mem_T.INT4[in_CurrentVbo] := Mem_T.INT4[in_CurrentVbo] - 1;
    goto L103;

  anon67_Then:
    assume {:partition} out_sdv_124 == 2;
    goto L76;

  L76:
    call {:si_unique_call 5043} FatPopUpFileCorrupt#0(in_IrpContext_22, in_FcbOrDcb);
    assume {:nonnull} in_IrpContext_22 != 0;
    assume in_IrpContext_22 > 0;
    call {:si_unique_call 5044} ExRaiseStatus(-1073741566);
    goto L76_dummy;

  L76_dummy:
    goto L_BAF_15;

  anon68_Then:
    assume {:partition} out_sdv_124 == 1;
    goto L76;

  anon54_Then:
    assume {:partition} out_sdv_124 == 0;
    goto L76;
}



procedure {:LoopProcedure} FatLookupFileAllocation#0_loop_L46(in_BytesOnVolume: int, in_Tmp_257: int, in_CurrentLbo: int, in_Tmp_258: int, in_Runs: int, in_Context: int, in_sdv_124: int, in_LastCluster: int, in_Vcb_15: int, in_FatEntry_1: int, in_FirstLboOfCurrentRun: int, in_FirstVboOfCurrentRun: int, in_CurrentVbo: int, in_BytesPerCluster_1: int, in_PriorLbo: int, in_IrpContext_22: int, in_FcbOrDcb: int, in_Vbo: int, in_EndOnMax: int, in_boogieTmp: int, in_vslice_dummy_var_599: int, in_vslice_dummy_var_600: int) returns (out_Tmp_257: int, out_Tmp_258: int, out_sdv_124: int, out_LastCluster: int, out_FirstLboOfCurrentRun: int, out_FirstVboOfCurrentRun: int, out_PriorLbo: int, out_boogieTmp: int, out_vslice_dummy_var_599: int, out_vslice_dummy_var_600: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_sdv_124 == 4 || out_sdv_124 == 1 || out_sdv_124 == 2 || out_sdv_124 == 3 || out_sdv_124 == 0 || out_sdv_124 == in_sdv_124;
  free ensures {:va_keep} out_LastCluster == 1 || out_LastCluster == in_LastCluster;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLookupFileAllocation#1_loop_L46(in_BytesOnVolume: int, in_Tmp_257: int, in_CurrentLbo: int, in_Tmp_258: int, in_Runs: int, in_Context: int, in_sdv_124: int, in_LastCluster: int, in_Vcb_15: int, in_FatEntry_1: int, in_FirstLboOfCurrentRun: int, in_FirstVboOfCurrentRun: int, in_CurrentVbo: int, in_BytesPerCluster_1: int, in_PriorLbo: int, in_IrpContext_22: int, in_FcbOrDcb: int, in_Vbo: int, in_EndOnMax: int, in_boogieTmp: int, in_vslice_dummy_var_602: int, in_vslice_dummy_var_603: int) returns (out_Tmp_257: int, out_Tmp_258: int, out_sdv_124: int, out_LastCluster: int, out_FirstLboOfCurrentRun: int, out_FirstVboOfCurrentRun: int, out_PriorLbo: int, out_boogieTmp: int, out_vslice_dummy_var_602: int, out_vslice_dummy_var_603: int)
{

  entry:
    out_Tmp_257, out_Tmp_258, out_sdv_124, out_LastCluster, out_FirstLboOfCurrentRun, out_FirstVboOfCurrentRun, out_PriorLbo, out_boogieTmp, out_vslice_dummy_var_602, out_vslice_dummy_var_603 := in_Tmp_257, in_Tmp_258, in_sdv_124, in_LastCluster, in_FirstLboOfCurrentRun, in_FirstVboOfCurrentRun, in_PriorLbo, in_boogieTmp, in_vslice_dummy_var_602, in_vslice_dummy_var_603;
    goto L46, exit;

  exit:
    return;

  L46:
    goto anon52_Then;

  anon52_Then:
    assume {:partition} out_LastCluster == 0;
    assume {:nonnull} in_FatEntry_1 != 0;
    assume in_FatEntry_1 > 0;
    call {:si_unique_call 5049} FatLookupFatEntry(in_IrpContext_22, in_Vcb_15, Mem_T.INT4[in_FatEntry_1], in_FatEntry_1, in_Context);
    assume {:nonnull} in_CurrentLbo != 0;
    assume in_CurrentLbo > 0;
    out_PriorLbo := Mem_T.INT4[in_CurrentLbo];
    assume {:nonnull} in_CurrentLbo != 0;
    assume in_CurrentLbo > 0;
    call {:si_unique_call 5050} out_boogieTmp := corral_nondet();
    Mem_T.INT4[in_CurrentLbo] := out_boogieTmp;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    Mem_T.INT4[in_CurrentVbo] := Mem_T.INT4[in_CurrentVbo] + in_BytesPerCluster_1;
    assume {:nonnull} in_FatEntry_1 != 0;
    assume in_FatEntry_1 > 0;
    call {:si_unique_call 5051} out_sdv_124 := FatInterpretClusterType(in_Vcb_15, Mem_T.INT4[in_FatEntry_1]);
    goto anon54_Then, anon54_Else;

  anon54_Else:
    assume {:partition} out_sdv_124 != 0;
    goto anon68_Then, anon68_Else;

  anon68_Else:
    assume {:partition} out_sdv_124 != 1;
    goto anon67_Then, anon67_Else;

  anon67_Else:
    assume {:partition} out_sdv_124 != 2;
    goto anon66_Then, anon66_Else;

  anon66_Else:
    assume {:partition} out_sdv_124 != 3;
    goto anon65_Then, anon65_Else;

  anon65_Else:
    assume {:partition} out_sdv_124 == 4;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon56_Then, anon56_Else;

  anon56_Else:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] != 0;
    assume {:nonnull} in_BytesOnVolume != 0;
    assume in_BytesOnVolume > 0;
    goto anon57_Then, anon57_Else;

  anon57_Else:
    goto L86;

  L86:
    assume {:nonnull} in_CurrentLbo != 0;
    assume in_CurrentLbo > 0;
    goto anon59_Then, anon59_Else;

  anon59_Else:
    assume {:partition} out_PriorLbo + in_BytesPerCluster_1 != Mem_T.INT4[in_CurrentLbo];
    goto anon60_Then, anon60_Else;

  anon60_Else:
    assume {:partition} out_FirstLboOfCurrentRun != 0;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    out_Tmp_258 := Mem_T.INT4[in_CurrentVbo] - out_FirstVboOfCurrentRun;
    assume {:nonnull} in_FcbOrDcb != 0;
    assume in_FcbOrDcb > 0;
    call {:si_unique_call 5046} out_vslice_dummy_var_603 := FatAddMcbEntry(in_Vcb_15, Mcb__FCB(in_FcbOrDcb), out_FirstVboOfCurrentRun, out_FirstLboOfCurrentRun, out_Tmp_258);
    assume {:nonnull} in_Runs != 0;
    assume in_Runs > 0;
    Mem_T.INT4[in_Runs] := Mem_T.INT4[in_Runs] + 1;
    goto L89;

  L89:
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon61_Then, anon61_Else;

  anon61_Else:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] > in_Vbo;
    out_LastCluster := 1;
    goto anon61_Else_dummy;

  anon61_Else_dummy:
    goto L_BAF_16;

  L_BAF_16:
    call {:si_unique_call 5056} {:si_old_unique_call 1} out_Tmp_257, out_Tmp_258, out_sdv_124, out_LastCluster, out_FirstLboOfCurrentRun, out_FirstVboOfCurrentRun, out_PriorLbo, out_boogieTmp, out_vslice_dummy_var_602, out_vslice_dummy_var_603 := FatLookupFileAllocation#1_loop_L46(in_BytesOnVolume, out_Tmp_257, in_CurrentLbo, out_Tmp_258, in_Runs, in_Context, out_sdv_124, out_LastCluster, in_Vcb_15, in_FatEntry_1, out_FirstLboOfCurrentRun, out_FirstVboOfCurrentRun, in_CurrentVbo, in_BytesPerCluster_1, out_PriorLbo, in_IrpContext_22, in_FcbOrDcb, in_Vbo, in_EndOnMax, out_boogieTmp, out_vslice_dummy_var_602, out_vslice_dummy_var_603);
    return;

  anon61_Then:
    assume {:partition} in_Vbo >= Mem_T.INT4[in_CurrentVbo];
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    out_FirstVboOfCurrentRun := Mem_T.INT4[in_CurrentVbo];
    assume {:nonnull} in_CurrentLbo != 0;
    assume in_CurrentLbo > 0;
    out_FirstLboOfCurrentRun := Mem_T.INT4[in_CurrentLbo];
    goto anon61_Then_dummy;

  anon61_Then_dummy:
    goto L_BAF_16;

  anon60_Then:
    assume {:partition} out_FirstLboOfCurrentRun == 0;
    goto L89;

  anon59_Then:
    assume {:partition} out_PriorLbo + in_BytesPerCluster_1 == Mem_T.INT4[in_CurrentLbo];
    goto anon59_Then_dummy;

  anon59_Then_dummy:
    goto L_BAF_16;

  anon57_Then:
    assume {:nonnull} in_BytesOnVolume != 0;
    assume in_BytesOnVolume > 0;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon58_Then, anon58_Else;

  anon58_Else:
    goto L86;

  anon58_Then:
    goto L81;

  L81:
    call {:si_unique_call 5047} FatPopUpFileCorrupt#1(in_IrpContext_22, in_FcbOrDcb);
    assume {:nonnull} in_IrpContext_22 != 0;
    assume in_IrpContext_22 > 0;
    call {:si_unique_call 5048} ExRaiseStatus(-1073741566);
    goto L86;

  anon56_Then:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] == 0;
    goto L81;

  anon65_Then:
    assume {:partition} out_sdv_124 != 4;
    call {:si_unique_call 5052} KeBugCheckEx(35, 132170, 0, 0, 0);
    goto anon65_Then_dummy;

  anon65_Then_dummy:
    goto L_BAF_16;

  anon66_Then:
    assume {:partition} out_sdv_124 == 3;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon55_Then, anon55_Else;

  anon55_Else:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] != 0;
    goto L103;

  L103:
    out_LastCluster := 1;
    goto anon72_Then, anon72_Else;

  anon72_Else:
    assume {:partition} out_FirstLboOfCurrentRun != 0;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    out_Tmp_257 := Mem_T.INT4[in_CurrentVbo] - out_FirstVboOfCurrentRun;
    assume {:nonnull} in_FcbOrDcb != 0;
    assume in_FcbOrDcb > 0;
    call {:si_unique_call 5053} out_vslice_dummy_var_602 := FatAddMcbEntry(in_Vcb_15, Mcb__FCB(in_FcbOrDcb), out_FirstVboOfCurrentRun, out_FirstLboOfCurrentRun, out_Tmp_257);
    assume {:nonnull} in_Runs != 0;
    assume in_Runs > 0;
    Mem_T.INT4[in_Runs] := Mem_T.INT4[in_Runs] + 1;
    goto L105;

  L105:
    goto anon62_Then;

  anon62_Then:
    assume {:partition} in_Vbo != -2;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    goto anon63_Then, anon63_Else;

  anon63_Else:
    assume {:partition} in_Vbo >= Mem_T.INT4[in_CurrentVbo];
    assume {:nonnull} in_EndOnMax != 0;
    assume in_EndOnMax > 0;
    goto anon64_Then;

  anon64_Then:
    assume {:partition} Mem_T.INT4[in_EndOnMax] != 0;
    goto anon64_Then_dummy;

  anon64_Then_dummy:
    goto L_BAF_16;

  anon63_Then:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] > in_Vbo;
    goto anon63_Then_dummy;

  anon63_Then_dummy:
    goto L_BAF_16;

  anon72_Then:
    assume {:partition} out_FirstLboOfCurrentRun == 0;
    goto L105;

  anon55_Then:
    assume {:partition} Mem_T.INT4[in_CurrentVbo] == 0;
    assume {:nonnull} in_EndOnMax != 0;
    assume in_EndOnMax > 0;
    Mem_T.INT4[in_EndOnMax] := 1;
    assume {:nonnull} in_CurrentVbo != 0;
    assume in_CurrentVbo > 0;
    Mem_T.INT4[in_CurrentVbo] := Mem_T.INT4[in_CurrentVbo] - 1;
    goto L103;

  anon67_Then:
    assume {:partition} out_sdv_124 == 2;
    goto L76;

  L76:
    call {:si_unique_call 5054} FatPopUpFileCorrupt#1(in_IrpContext_22, in_FcbOrDcb);
    assume {:nonnull} in_IrpContext_22 != 0;
    assume in_IrpContext_22 > 0;
    call {:si_unique_call 5055} ExRaiseStatus(-1073741566);
    goto L76_dummy;

  L76_dummy:
    goto L_BAF_16;

  anon68_Then:
    assume {:partition} out_sdv_124 == 1;
    goto L76;

  anon54_Then:
    assume {:partition} out_sdv_124 == 0;
    goto L76;
}



procedure {:LoopProcedure} FatLookupFileAllocation#1_loop_L46(in_BytesOnVolume: int, in_Tmp_257: int, in_CurrentLbo: int, in_Tmp_258: int, in_Runs: int, in_Context: int, in_sdv_124: int, in_LastCluster: int, in_Vcb_15: int, in_FatEntry_1: int, in_FirstLboOfCurrentRun: int, in_FirstVboOfCurrentRun: int, in_CurrentVbo: int, in_BytesPerCluster_1: int, in_PriorLbo: int, in_IrpContext_22: int, in_FcbOrDcb: int, in_Vbo: int, in_EndOnMax: int, in_boogieTmp: int, in_vslice_dummy_var_602: int, in_vslice_dummy_var_603: int) returns (out_Tmp_257: int, out_Tmp_258: int, out_sdv_124: int, out_LastCluster: int, out_FirstLboOfCurrentRun: int, out_FirstVboOfCurrentRun: int, out_PriorLbo: int, out_boogieTmp: int, out_vslice_dummy_var_602: int, out_vslice_dummy_var_603: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} out_sdv_124 == 4 || out_sdv_124 == 1 || out_sdv_124 == 2 || out_sdv_124 == 3 || out_sdv_124 == 0 || out_sdv_124 == in_sdv_124;
  free ensures {:va_keep} out_LastCluster == 1 || out_LastCluster == in_LastCluster;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFullFileNameInFcb#0_loop_L53(in_TmpFcb: int, in_Lfn_8: int, in_Tmp_2233: int, in_StopFcb: int, in_TmpBuffer: int, in_IrpContext_140: int) returns (out_TmpFcb: int, out_Tmp_2233: int)
{

  entry:
    out_TmpFcb, out_Tmp_2233 := in_TmpFcb, in_Tmp_2233;
    goto L53, exit;

  exit:
    return;

  L53:
    goto anon21_Else;

  anon21_Else:
    assume {:partition} out_TmpFcb != in_StopFcb;
    call {:si_unique_call 5057} FatGetUnicodeNameFromFcb#0(in_IrpContext_140, out_TmpFcb, in_Lfn_8);
    assume {:nonnull} in_Lfn_8 != 0;
    assume in_Lfn_8 > 0;
    havoc out_Tmp_2233;
    call {:si_unique_call 5058} sdv_RtlCopyMemory(0, 0, out_Tmp_2233);
    assume {:nonnull} in_TmpBuffer != 0;
    assume in_TmpBuffer > 0;
    Mem_T.INT4[in_TmpBuffer] := 92;
    assume {:nonnull} out_TmpFcb != 0;
    assume out_TmpFcb > 0;
    havoc out_TmpFcb;
    goto anon21_Else_dummy;

  anon21_Else_dummy:
    call {:si_unique_call 5059} {:si_old_unique_call 1} out_TmpFcb, out_Tmp_2233 := FatSetFullFileNameInFcb#0_loop_L53(out_TmpFcb, in_Lfn_8, out_Tmp_2233, in_StopFcb, in_TmpBuffer, in_IrpContext_140);
    return;
}



procedure {:LoopProcedure} FatSetFullFileNameInFcb#0_loop_L53(in_TmpFcb: int, in_Lfn_8: int, in_Tmp_2233: int, in_StopFcb: int, in_TmpBuffer: int, in_IrpContext_140: int) returns (out_TmpFcb: int, out_Tmp_2233: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFullFileNameInFcb#0_loop_L17(in_PathLength: int, in_TmpFcb: int, in_Tmp_2235: int, in_Fcb_56: int) returns (out_PathLength: int, out_TmpFcb: int, out_Tmp_2235: int)
{

  entry:
    out_PathLength, out_TmpFcb, out_Tmp_2235 := in_PathLength, in_TmpFcb, in_Tmp_2235;
    goto L17, exit;

  exit:
    return;

  L17:
    assume {:nonnull} in_Fcb_56 != 0;
    assume in_Fcb_56 > 0;
    havoc out_Tmp_2235;
    assume {:nonnull} out_Tmp_2235 != 0;
    assume out_Tmp_2235 > 0;
    goto anon24_Else;

  anon24_Else:
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} out_TmpFcb != in_Fcb_56;
    assume {:nonnull} out_TmpFcb != 0;
    assume out_TmpFcb > 0;
    goto anon20_Then;

  anon20_Then:
    goto L20;

  L20:
    assume {:nonnull} out_TmpFcb != 0;
    assume out_TmpFcb > 0;
    havoc out_PathLength;
    assume {:nonnull} out_TmpFcb != 0;
    assume out_TmpFcb > 0;
    havoc out_TmpFcb;
    goto L20_dummy;

  L20_dummy:
    call {:si_unique_call 5060} {:si_old_unique_call 1} out_PathLength, out_TmpFcb, out_Tmp_2235 := FatSetFullFileNameInFcb#0_loop_L17(out_PathLength, out_TmpFcb, out_Tmp_2235, in_Fcb_56);
    return;

  anon19_Then:
    assume {:partition} out_TmpFcb == in_Fcb_56;
    goto L20;
}



procedure {:LoopProcedure} FatSetFullFileNameInFcb#0_loop_L17(in_PathLength: int, in_TmpFcb: int, in_Tmp_2235: int, in_Fcb_56: int) returns (out_PathLength: int, out_TmpFcb: int, out_Tmp_2235: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFullFileNameInFcb#1_loop_L53(in_TmpFcb: int, in_Lfn_8: int, in_Tmp_2233: int, in_StopFcb: int, in_TmpBuffer: int, in_IrpContext_140: int) returns (out_TmpFcb: int, out_Tmp_2233: int)
{

  entry:
    out_TmpFcb, out_Tmp_2233 := in_TmpFcb, in_Tmp_2233;
    goto L53, exit;

  exit:
    return;

  L53:
    goto anon21_Else;

  anon21_Else:
    assume {:partition} out_TmpFcb != in_StopFcb;
    call {:si_unique_call 5061} FatGetUnicodeNameFromFcb#1(in_IrpContext_140, out_TmpFcb, in_Lfn_8);
    assume {:nonnull} in_Lfn_8 != 0;
    assume in_Lfn_8 > 0;
    havoc out_Tmp_2233;
    call {:si_unique_call 5062} sdv_RtlCopyMemory(0, 0, out_Tmp_2233);
    assume {:nonnull} in_TmpBuffer != 0;
    assume in_TmpBuffer > 0;
    Mem_T.INT4[in_TmpBuffer] := 92;
    assume {:nonnull} out_TmpFcb != 0;
    assume out_TmpFcb > 0;
    havoc out_TmpFcb;
    goto anon21_Else_dummy;

  anon21_Else_dummy:
    call {:si_unique_call 5063} {:si_old_unique_call 1} out_TmpFcb, out_Tmp_2233 := FatSetFullFileNameInFcb#1_loop_L53(out_TmpFcb, in_Lfn_8, out_Tmp_2233, in_StopFcb, in_TmpBuffer, in_IrpContext_140);
    return;
}



procedure {:LoopProcedure} FatSetFullFileNameInFcb#1_loop_L53(in_TmpFcb: int, in_Lfn_8: int, in_Tmp_2233: int, in_StopFcb: int, in_TmpBuffer: int, in_IrpContext_140: int) returns (out_TmpFcb: int, out_Tmp_2233: int);
  modifies alloc, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatSetFullFileNameInFcb#1_loop_L17(in_PathLength: int, in_TmpFcb: int, in_Tmp_2235: int, in_Fcb_56: int) returns (out_PathLength: int, out_TmpFcb: int, out_Tmp_2235: int)
{

  entry:
    out_PathLength, out_TmpFcb, out_Tmp_2235 := in_PathLength, in_TmpFcb, in_Tmp_2235;
    goto L17, exit;

  exit:
    return;

  L17:
    assume {:nonnull} in_Fcb_56 != 0;
    assume in_Fcb_56 > 0;
    havoc out_Tmp_2235;
    assume {:nonnull} out_Tmp_2235 != 0;
    assume out_Tmp_2235 > 0;
    goto anon24_Else;

  anon24_Else:
    goto anon19_Then, anon19_Else;

  anon19_Else:
    assume {:partition} out_TmpFcb != in_Fcb_56;
    assume {:nonnull} out_TmpFcb != 0;
    assume out_TmpFcb > 0;
    goto anon20_Then;

  anon20_Then:
    goto L20;

  L20:
    assume {:nonnull} out_TmpFcb != 0;
    assume out_TmpFcb > 0;
    havoc out_PathLength;
    assume {:nonnull} out_TmpFcb != 0;
    assume out_TmpFcb > 0;
    havoc out_TmpFcb;
    goto L20_dummy;

  L20_dummy:
    call {:si_unique_call 5064} {:si_old_unique_call 1} out_PathLength, out_TmpFcb, out_Tmp_2235 := FatSetFullFileNameInFcb#1_loop_L17(out_PathLength, out_TmpFcb, out_Tmp_2235, in_Fcb_56);
    return;

  anon19_Then:
    assume {:partition} out_TmpFcb == in_Fcb_56;
    goto L20;
}



procedure {:LoopProcedure} FatSetFullFileNameInFcb#1_loop_L17(in_PathLength: int, in_TmpFcb: int, in_Tmp_2235: int, in_Fcb_56: int) returns (out_PathLength: int, out_TmpFcb: int, out_Tmp_2235: int);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLocateDirent#0_loop_L132(in_Ordinal: int, in_LfnIndex: int, in_Tmp_2404: int, in_LfnSize: int, in_Tmp_2410: int, in_CheckTail: int, in_Tmp_2435: int, in_Tmp_2440: int, in_LongFileName: int) returns (out_LfnIndex: int, out_Tmp_2404: int, out_LfnSize: int, out_Tmp_2410: int, out_CheckTail: int, out_Tmp_2435: int, out_Tmp_2440: int)
{

  entry:
    out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440 := in_LfnIndex, in_Tmp_2404, in_LfnSize, in_Tmp_2410, in_CheckTail, in_Tmp_2435, in_Tmp_2440;
    goto L132, exit;

  exit:
    return;

  L132:
    goto anon147_Else;

  anon147_Else:
    assume {:partition} out_LfnIndex != in_Ordinal * 13;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} out_CheckTail != 0;
    out_Tmp_2435 := out_LfnIndex;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2440;
    assume {:nonnull} out_Tmp_2440 != 0;
    assume out_Tmp_2440 > 0;
    goto anon184_Else;

  anon184_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2440 + out_Tmp_2435 * 4] == 65535;
    goto L137;

  L137:
    out_LfnIndex := out_LfnIndex + 1;
    goto L137_dummy;

  L137_dummy:
    call {:si_unique_call 5065} {:si_old_unique_call 1} out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440 := FatLocateDirent#0_loop_L132(in_Ordinal, out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440, in_LongFileName);
    return;

  anon149_Then:
    assume {:partition} out_CheckTail == 0;
    out_Tmp_2410 := out_LfnIndex;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2404;
    assume {:nonnull} out_Tmp_2404 != 0;
    assume out_Tmp_2404 > 0;
    goto anon185_Then, anon185_Else;

  anon185_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2404 + out_Tmp_2410 * 4] == 0;
    out_LfnSize := out_LfnIndex;
    out_CheckTail := 1;
    goto L137;

  anon185_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2404 + out_Tmp_2410 * 4] != 0;
    goto L137;
}



procedure {:LoopProcedure} FatLocateDirent#0_loop_L132(in_Ordinal: int, in_LfnIndex: int, in_Tmp_2404: int, in_LfnSize: int, in_Tmp_2410: int, in_CheckTail: int, in_Tmp_2435: int, in_Tmp_2440: int, in_LongFileName: int) returns (out_LfnIndex: int, out_Tmp_2404: int, out_LfnSize: int, out_Tmp_2410: int, out_CheckTail: int, out_Tmp_2435: int, out_Tmp_2440: int);
  free ensures {:va_keep} out_CheckTail == 1 || out_CheckTail == in_CheckTail;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLocateDirent#0_loop_L42(in_LfnInProgress: int, in_Tmp_2387: int, in_Ordinal: int, in_LfnByteOffset_4: int, in_Tmp_2388: int, in_Tmp_2389: int, in_Tmp_2390: int, in_Tmp_2391: int, in_Tmp_2392: int, in_Tmp_2394: int, in_Tmp_2395: int, in_LfnChecksum: int, in_Tmp_2396: int, in_Tmp_2399: int, in_Tmp_2400: int, in_Tmp_2401: int, in_Tmp_2402: int, in_Tmp_2403: int, in_LfnIndex: int, in_Tmp_2404: int, in_Tmp_2405: int, in_LfnSize: int, in_Lfn_11: int, in_sdv_1441: int, in_Tmp_2406: int, in_Tmp_2407: int, in_Tmp_2409: int, in_Tmp_2410: int, in_Status_57: int, in_Tmp_2411: int, in_Tmp_2412: int, in_Tmp_2413: int, in_sdv_1442: int, in_Tmp_2414: int, in_Tmp_2415: int, in_Tmp_2418: int, in_Tmp_2420: int, in_CheckTail: int, in_Tmp_2421: int, in_Tmp_2423: int, in_UpcasedLfn: int, in_Tmp_2424: int, in_Tmp_2425: int, in_sdv_1444: int, in_Tmp_2426: int, in_Tmp_2427: int, in_Tmp_2428: int, in_FoundValidLfn: int, in_Tmp_2429: int, in_sdv_1445: int, in_sdv_1446: int, in_Tmp_2430: int, in_Tmp_2431: int, in_Tmp_2432: int, in_Tmp_2435: int, in_Tmp_2437: int, in_Tmp_2438: int, in_Tmp_2439: int, in_Tmp_2440: int, in_Tmp_2441: int, in_Tmp_2443: int, in_Tmp_2445: int, in_Name_3: int, in_Tmp_2446: int, in_Tmp_2447: int, in_Tmp_2448: int, in_Tmp_2449: int, in_Tmp_2451: int, in_Tmp_2452: int, in_IrpContext_153: int, in_ParentDirectory: int, in_Ccb_32: int, in_Dirent_29: int, in_Bcb_17: int, in_ByteOffset_3: int, in_LongFileName: int, in_boogieTmp: int) returns (out_LfnInProgress: int, out_Tmp_2387: int, out_Ordinal: int, out_LfnByteOffset_4: int, out_Tmp_2388: int, out_Tmp_2389: int, out_Tmp_2390: int, out_Tmp_2391: int, out_Tmp_2392: int, out_Tmp_2394: int, out_Tmp_2395: int, out_LfnChecksum: int, out_Tmp_2396: int, out_Tmp_2399: int, out_Tmp_2400: int, out_Tmp_2401: int, out_Tmp_2402: int, out_Tmp_2403: int, out_LfnIndex: int, out_Tmp_2404: int, out_Tmp_2405: int, out_LfnSize: int, out_Lfn_11: int, out_sdv_1441: int, out_Tmp_2406: int, out_Tmp_2407: int, out_Tmp_2409: int, out_Tmp_2410: int, out_Tmp_2411: int, out_Tmp_2412: int, out_Tmp_2413: int, out_sdv_1442: int, out_Tmp_2414: int, out_Tmp_2415: int, out_Tmp_2418: int, out_Tmp_2420: int, out_CheckTail: int, out_Tmp_2421: int, out_Tmp_2423: int, out_Tmp_2424: int, out_Tmp_2425: int, out_sdv_1444: int, out_Tmp_2426: int, out_Tmp_2427: int, out_Tmp_2428: int, out_FoundValidLfn: int, out_Tmp_2429: int, out_sdv_1445: int, out_sdv_1446: int, out_Tmp_2430: int, out_Tmp_2431: int, out_Tmp_2432: int, out_Tmp_2435: int, out_Tmp_2437: int, out_Tmp_2438: int, out_Tmp_2439: int, out_Tmp_2440: int, out_Tmp_2441: int, out_Tmp_2443: int, out_Tmp_2445: int, out_Tmp_2446: int, out_Tmp_2447: int, out_Tmp_2448: int, out_Tmp_2449: int, out_Tmp_2451: int, out_Tmp_2452: int, out_boogieTmp: int)
{
  var vslice_dummy_var_647: int;
  var vslice_dummy_var_648: int;
  var vslice_dummy_var_649: int;
  var vslice_dummy_var_650: int;

  entry:
    out_LfnInProgress, out_Tmp_2387, out_Ordinal, out_LfnByteOffset_4, out_Tmp_2388, out_Tmp_2389, out_Tmp_2390, out_Tmp_2391, out_Tmp_2392, out_Tmp_2394, out_Tmp_2395, out_LfnChecksum, out_Tmp_2396, out_Tmp_2399, out_Tmp_2400, out_Tmp_2401, out_Tmp_2402, out_Tmp_2403, out_LfnIndex, out_Tmp_2404, out_Tmp_2405, out_LfnSize, out_Lfn_11, out_sdv_1441, out_Tmp_2406, out_Tmp_2407, out_Tmp_2409, out_Tmp_2410, out_Tmp_2411, out_Tmp_2412, out_Tmp_2413, out_sdv_1442, out_Tmp_2414, out_Tmp_2415, out_Tmp_2418, out_Tmp_2420, out_CheckTail, out_Tmp_2421, out_Tmp_2423, out_Tmp_2424, out_Tmp_2425, out_sdv_1444, out_Tmp_2426, out_Tmp_2427, out_Tmp_2428, out_FoundValidLfn, out_Tmp_2429, out_sdv_1445, out_sdv_1446, out_Tmp_2430, out_Tmp_2431, out_Tmp_2432, out_Tmp_2435, out_Tmp_2437, out_Tmp_2438, out_Tmp_2439, out_Tmp_2440, out_Tmp_2441, out_Tmp_2443, out_Tmp_2445, out_Tmp_2446, out_Tmp_2447, out_Tmp_2448, out_Tmp_2449, out_Tmp_2451, out_Tmp_2452, out_boogieTmp := in_LfnInProgress, in_Tmp_2387, in_Ordinal, in_LfnByteOffset_4, in_Tmp_2388, in_Tmp_2389, in_Tmp_2390, in_Tmp_2391, in_Tmp_2392, in_Tmp_2394, in_Tmp_2395, in_LfnChecksum, in_Tmp_2396, in_Tmp_2399, in_Tmp_2400, in_Tmp_2401, in_Tmp_2402, in_Tmp_2403, in_LfnIndex, in_Tmp_2404, in_Tmp_2405, in_LfnSize, in_Lfn_11, in_sdv_1441, in_Tmp_2406, in_Tmp_2407, in_Tmp_2409, in_Tmp_2410, in_Tmp_2411, in_Tmp_2412, in_Tmp_2413, in_sdv_1442, in_Tmp_2414, in_Tmp_2415, in_Tmp_2418, in_Tmp_2420, in_CheckTail, in_Tmp_2421, in_Tmp_2423, in_Tmp_2424, in_Tmp_2425, in_sdv_1444, in_Tmp_2426, in_Tmp_2427, in_Tmp_2428, in_FoundValidLfn, in_Tmp_2429, in_sdv_1445, in_sdv_1446, in_Tmp_2430, in_Tmp_2431, in_Tmp_2432, in_Tmp_2435, in_Tmp_2437, in_Tmp_2438, in_Tmp_2439, in_Tmp_2440, in_Tmp_2441, in_Tmp_2443, in_Tmp_2445, in_Tmp_2446, in_Tmp_2447, in_Tmp_2448, in_Tmp_2449, in_Tmp_2451, in_Tmp_2452, in_boogieTmp;
    goto L42, exit;

  exit:
    return;

  L42:
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    assume {:nonnull} in_ParentDirectory != 0;
    assume in_ParentDirectory > 0;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    Mem_T.INT4[in_Status_57] := -1073741807;
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto anon177_Then, anon177_Else;

  anon177_Else:
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto L46;

  L46:
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    goto anon135_Then;

  anon135_Then:
    assume {:partition} Mem_T.INT4[in_Status_57] != -1073741807;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2388;
    assume {:nonnull} out_Tmp_2388 != 0;
    assume out_Tmp_2388 > 0;
    havoc out_Tmp_2439;
    assume {:nonnull} out_Tmp_2439 != 0;
    assume out_Tmp_2439 > 0;
    goto anon178_Else;

  anon178_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2439] != 0;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2407;
    assume {:nonnull} out_Tmp_2407 != 0;
    assume out_Tmp_2407 > 0;
    havoc out_Tmp_2423;
    assume {:nonnull} out_Tmp_2423 != 0;
    assume out_Tmp_2423 > 0;
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2423] == 229;
    out_LfnInProgress := 0;
    goto L67;

  L67:
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    Mem_T.INT4[in_ByteOffset_3] := Mem_T.INT4[in_ByteOffset_3] + 32;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    goto L67_dummy;

  L67_dummy:
    call {:si_unique_call 5085} {:si_old_unique_call 1} out_LfnInProgress, out_Tmp_2387, out_Ordinal, out_LfnByteOffset_4, out_Tmp_2388, out_Tmp_2389, out_Tmp_2390, out_Tmp_2391, out_Tmp_2392, out_Tmp_2394, out_Tmp_2395, out_LfnChecksum, out_Tmp_2396, out_Tmp_2399, out_Tmp_2400, out_Tmp_2401, out_Tmp_2402, out_Tmp_2403, out_LfnIndex, out_Tmp_2404, out_Tmp_2405, out_LfnSize, out_Lfn_11, out_sdv_1441, out_Tmp_2406, out_Tmp_2407, out_Tmp_2409, out_Tmp_2410, out_Tmp_2411, out_Tmp_2412, out_Tmp_2413, out_sdv_1442, out_Tmp_2414, out_Tmp_2415, out_Tmp_2418, out_Tmp_2420, out_CheckTail, out_Tmp_2421, out_Tmp_2423, out_Tmp_2424, out_Tmp_2425, out_sdv_1444, out_Tmp_2426, out_Tmp_2427, out_Tmp_2428, out_FoundValidLfn, out_Tmp_2429, out_sdv_1445, out_sdv_1446, out_Tmp_2430, out_Tmp_2431, out_Tmp_2432, out_Tmp_2435, out_Tmp_2437, out_Tmp_2438, out_Tmp_2439, out_Tmp_2440, out_Tmp_2441, out_Tmp_2443, out_Tmp_2445, out_Tmp_2446, out_Tmp_2447, out_Tmp_2448, out_Tmp_2449, out_Tmp_2451, out_Tmp_2452, out_boogieTmp := FatLocateDirent#0_loop_L42(out_LfnInProgress, out_Tmp_2387, out_Ordinal, out_LfnByteOffset_4, out_Tmp_2388, out_Tmp_2389, out_Tmp_2390, out_Tmp_2391, out_Tmp_2392, out_Tmp_2394, out_Tmp_2395, out_LfnChecksum, out_Tmp_2396, out_Tmp_2399, out_Tmp_2400, out_Tmp_2401, out_Tmp_2402, out_Tmp_2403, out_LfnIndex, out_Tmp_2404, out_Tmp_2405, out_LfnSize, out_Lfn_11, out_sdv_1441, out_Tmp_2406, out_Tmp_2407, out_Tmp_2409, out_Tmp_2410, in_Status_57, out_Tmp_2411, out_Tmp_2412, out_Tmp_2413, out_sdv_1442, out_Tmp_2414, out_Tmp_2415, out_Tmp_2418, out_Tmp_2420, out_CheckTail, out_Tmp_2421, out_Tmp_2423, in_UpcasedLfn, out_Tmp_2424, out_Tmp_2425, out_sdv_1444, out_Tmp_2426, out_Tmp_2427, out_Tmp_2428, out_FoundValidLfn, out_Tmp_2429, out_sdv_1445, out_sdv_1446, out_Tmp_2430, out_Tmp_2431, out_Tmp_2432, out_Tmp_2435, out_Tmp_2437, out_Tmp_2438, out_Tmp_2439, out_Tmp_2440, out_Tmp_2441, out_Tmp_2443, out_Tmp_2445, in_Name_3, out_Tmp_2446, out_Tmp_2447, out_Tmp_2448, out_Tmp_2449, out_Tmp_2451, out_Tmp_2452, in_IrpContext_153, in_ParentDirectory, in_Ccb_32, in_Dirent_29, in_Bcb_17, in_ByteOffset_3, in_LongFileName, out_boogieTmp);
    return;

  anon179_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2423] != 229;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} in_LongFileName != 0;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2430;
    assume {:nonnull} out_Tmp_2430 != 0;
    assume out_Tmp_2430 > 0;
    goto anon180_Then, anon180_Else;

  anon180_Else:
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Lfn_11;
    goto anon181_Then, anon181_Else;

  anon181_Else:
    assume {:partition} out_LfnInProgress != 0;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    goto L78;

  L78:
    out_LfnInProgress := 0;
    goto L75;

  L75:
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:partition} out_LfnInProgress == 0;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2390;
    goto anon182_Then, anon182_Else;

  anon182_Else:
    assume {:partition} 20 >= out_Tmp_2390;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    out_CheckTail := 0;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Ordinal;
    goto anon183_Else;

  anon183_Else:
    assume {:partition} out_Ordinal != 0;
    goto L112;

  L112:
    out_LfnIndex := (out_Ordinal - 1) * 13;
    call {:si_unique_call 5080} out_Tmp_2400 := corral_nondet();
    call {:si_unique_call 5081} FatEnsureStringBufferEnough(in_LongFileName, out_Tmp_2400);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2425;
    out_Tmp_2401 := out_LfnIndex + 0;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2429;
    call {:si_unique_call 5082} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2449;
    out_Tmp_2437 := out_LfnIndex + 5;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2392;
    call {:si_unique_call 5083} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2411;
    out_Tmp_2441 := out_LfnIndex + 11;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2446;
    call {:si_unique_call 5084} sdv_RtlCopyMemory(0, 0, 4);
    goto L132;

  L132:
    call {:si_unique_call 5079} out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440 := FatLocateDirent#0_loop_L132(out_Ordinal, out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440, in_LongFileName);
    goto L132_last;

  L132_last:
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} out_LfnIndex != out_Ordinal * 13;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} out_CheckTail != 0;
    out_Tmp_2435 := out_LfnIndex;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2440;
    assume {:nonnull} out_Tmp_2440 != 0;
    assume out_Tmp_2440 > 0;
    goto anon184_Then, anon184_Else;

  anon184_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2440 + out_Tmp_2435 * 4] == 65535;
    goto L137;

  L137:
    out_LfnIndex := out_LfnIndex + 1;
    assume false;
    return;

  anon184_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2440 + out_Tmp_2435 * 4] != 65535;
    goto L133;

  L133:
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:partition} out_LfnIndex == out_Ordinal * 13;
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} out_CheckTail != 0;
    goto L143;

  L143:
    out_LfnIndex := out_LfnIndex - 13;
    out_LfnInProgress := 1;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_LfnChecksum;
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    out_LfnByteOffset_4 := Mem_T.INT4[in_ByteOffset_3];
    goto L67;

  anon150_Then:
    assume {:partition} out_CheckTail == 0;
    out_LfnSize := out_LfnIndex;
    goto L143;

  anon148_Then:
    assume {:partition} out_LfnIndex != out_Ordinal * 13;
    goto L67;

  anon149_Then:
    assume {:partition} out_CheckTail == 0;
    out_Tmp_2410 := out_LfnIndex;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2404;
    assume {:nonnull} out_Tmp_2404 != 0;
    assume out_Tmp_2404 > 0;
    goto anon185_Then, anon185_Else;

  anon185_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2404 + out_Tmp_2410 * 4] == 0;
    out_LfnSize := out_LfnIndex;
    out_CheckTail := 1;
    goto L137;

  anon185_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2404 + out_Tmp_2410 * 4] != 0;
    goto L137;

  anon147_Then:
    assume {:partition} out_LfnIndex == out_Ordinal * 13;
    goto L133;

  anon146_Then:
    goto L67;

  anon182_Then:
    assume {:partition} out_Tmp_2390 > 20;
    goto L67;

  anon145_Then:
    goto L67;

  anon139_Then:
    assume {:partition} out_LfnInProgress != 0;
    goto L67;

  anon140_Then:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    out_LfnIndex := out_LfnIndex - 13;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2412;
    out_Tmp_2409 := out_LfnIndex + 0;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2391;
    call {:si_unique_call 5076} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2405;
    out_Tmp_2451 := out_LfnIndex + 5;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2414;
    call {:si_unique_call 5077} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2428;
    out_Tmp_2413 := out_LfnIndex + 11;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2396;
    call {:si_unique_call 5078} sdv_RtlCopyMemory(0, 0, 4);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Ordinal;
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    out_LfnByteOffset_4 := Mem_T.INT4[in_ByteOffset_3];
    goto L75;

  anon144_Then:
    goto L78;

  anon143_Then:
    goto L78;

  anon142_Then:
    goto L78;

  anon141_Then:
    goto L78;

  anon181_Then:
    assume {:partition} out_LfnInProgress == 0;
    goto L75;

  anon180_Then:
    goto L69;

  L69:
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2394;
    assume {:nonnull} out_Tmp_2394 != 0;
    assume out_Tmp_2394 > 0;
    goto anon186_Then, anon186_Else;

  anon186_Else:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon152_Else;

  anon152_Else:
    goto L67;

  anon186_Then:
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:partition} out_LfnInProgress != 0;
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:partition} Mem_T.INT4[in_ByteOffset_3] == out_LfnByteOffset_4 + 32;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} out_LfnIndex == 0;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc vslice_dummy_var_647;
    call {:si_unique_call 5067} out_sdv_1441 := FatComputeLfnChecksum(vslice_dummy_var_647);
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} out_sdv_1441 == out_LfnChecksum;
    out_FoundValidLfn := 1;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    goto L164;

  L164:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon156_Else;

  anon156_Else:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon157_Then, anon157_Else;

  anon157_Else:
    goto L168;

  L168:
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} out_FoundValidLfn != 0;
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon161_Then, anon161_Else;

  anon161_Else:
    goto L172;

  L172:
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc vslice_dummy_var_650;
    call {:si_unique_call 5073} FatEnsureStringBufferEnough(in_UpcasedLfn, vslice_dummy_var_650);
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    call {:si_unique_call 5074} out_boogieTmp := RtlUpcaseUnicodeString(0, 0, 0);
    Mem_T.INT4[in_Status_57] := out_boogieTmp;
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:partition} Mem_T.INT4[in_Status_57] >= 0;
    goto L181;

  L181:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon164_Then, anon164_Else;

  anon164_Else:
    call {:si_unique_call 5075} out_sdv_1444 := FsRtlIsNameInExpression(0, 0, 1, 0);
    goto anon165_Else;

  anon165_Else:
    assume {:partition} out_sdv_1444 == 0;
    goto L169;

  L169:
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} out_FoundValidLfn != 0;
    out_FoundValidLfn := 0;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    goto L67;

  anon160_Then:
    assume {:partition} out_FoundValidLfn == 0;
    goto L67;

  anon164_Then:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2421;
    goto anon187_Then, anon187_Else;

  anon187_Else:
    assume {:partition} out_Tmp_2421 == 0;
    out_Tmp_2418 := 0;
    goto L387;

  L387:
    call {:si_unique_call 5070} out_sdv_1446 := FsRtlAreNamesEqual(0, 0, out_Tmp_2418, 0);
    goto anon166_Else;

  anon166_Else:
    assume {:partition} out_sdv_1446 == 0;
    goto L169;

  anon187_Then:
    assume {:partition} out_Tmp_2421 != 0;
    out_Tmp_2418 := 1;
    goto L387;

  anon163_Then:
    assume {:partition} 0 > Mem_T.INT4[in_Status_57];
    assume {:nonnull} in_IrpContext_153 != 0;
    assume in_IrpContext_153 > 0;
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    call {:si_unique_call 5071} out_sdv_1445 := corral_nondet();
    call {:si_unique_call 5072} ExRaiseStatus(out_sdv_1445);
    goto L181;

  anon161_Then:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon162_Then, anon162_Else;

  anon162_Else:
    out_FoundValidLfn := 0;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    goto L67;

  anon162_Then:
    goto L172;

  anon159_Then:
    assume {:partition} out_FoundValidLfn == 0;
    goto L169;

  anon157_Then:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc vslice_dummy_var_649;
    call {:si_unique_call 5069} Fat8dot3ToString(in_IrpContext_153, vslice_dummy_var_649, 0, in_Name_3);
    assume {:nonnull} in_Name_3 != 0;
    assume in_Name_3 > 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:nonnull} in_Name_3 != 0;
    assume in_Name_3 > 0;
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:nonnull} in_Name_3 != 0;
    assume in_Name_3 > 0;
    goto anon169_Then, anon169_Else;

  anon169_Else:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:nonnull} in_Name_3 != 0;
    assume in_Name_3 > 0;
    goto L210;

  L210:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc vslice_dummy_var_648;
    call {:si_unique_call 5068} out_sdv_1442 := FatIsNameInExpression(in_IrpContext_153, vslice_dummy_var_648, in_Name_3);
    goto anon171_Then;

  anon171_Then:
    assume {:partition} out_sdv_1442 == 0;
    goto L168;

  anon170_Then:
    goto L210;

  anon169_Then:
    goto L210;

  anon168_Then:
    goto L210;

  anon167_Then:
    goto L210;

  anon158_Then:
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2427;
    assume {:nonnull} out_Tmp_2427 != 0;
    assume out_Tmp_2427 > 0;
    goto anon188_Then, anon188_Else;

  anon188_Else:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2432;
    out_Tmp_2403 := out_Tmp_2432;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2445;
    assume {:nonnull} out_Tmp_2445 != 0;
    assume out_Tmp_2445 > 0;
    havoc out_Tmp_2448;
    out_Tmp_2402 := out_Tmp_2448;
    assume {:nonnull} out_Tmp_2402 != 0;
    assume out_Tmp_2402 > 0;
    assume {:nonnull} out_Tmp_2403 != 0;
    assume out_Tmp_2403 > 0;
    goto anon189_Then, anon189_Else;

  anon189_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2403] == Mem_T.INT4[out_Tmp_2402];
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2438;
    out_Tmp_2387 := out_Tmp_2438 + 4 * 4;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2406;
    assume {:nonnull} out_Tmp_2406 != 0;
    assume out_Tmp_2406 > 0;
    havoc out_Tmp_2415;
    out_Tmp_2426 := out_Tmp_2415 + 4 * 4;
    assume {:nonnull} out_Tmp_2387 != 0;
    assume out_Tmp_2387 > 0;
    assume {:nonnull} out_Tmp_2426 != 0;
    assume out_Tmp_2426 > 0;
    goto anon190_Then, anon190_Else;

  anon190_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2387] == Mem_T.INT4[out_Tmp_2426];
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2420;
    out_Tmp_2431 := out_Tmp_2420 + 8 * 4;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2443;
    assume {:nonnull} out_Tmp_2443 != 0;
    assume out_Tmp_2443 > 0;
    havoc out_Tmp_2395;
    out_Tmp_2399 := out_Tmp_2395 + 8 * 4;
    assume {:nonnull} out_Tmp_2399 != 0;
    assume out_Tmp_2399 > 0;
    assume {:nonnull} out_Tmp_2431 != 0;
    assume out_Tmp_2431 > 0;
    goto anon191_Then, anon191_Else;

  anon191_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2431] == Mem_T.INT4[out_Tmp_2399];
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2389;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2452;
    assume {:nonnull} out_Tmp_2452 != 0;
    assume out_Tmp_2452 > 0;
    havoc out_Tmp_2424;
    assume {:nonnull} out_Tmp_2389 != 0;
    assume out_Tmp_2389 > 0;
    assume {:nonnull} out_Tmp_2424 != 0;
    assume out_Tmp_2424 > 0;
    goto anon192_Then;

  anon192_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2389 + 10 * 4] != Mem_T.INT4[out_Tmp_2424 + 10 * 4];
    goto L168;

  anon191_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2431] != Mem_T.INT4[out_Tmp_2399];
    goto L168;

  anon190_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2387] != Mem_T.INT4[out_Tmp_2426];
    goto L168;

  anon189_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2403] != Mem_T.INT4[out_Tmp_2402];
    goto L168;

  anon188_Then:
    goto L168;

  anon155_Then:
    assume {:partition} out_sdv_1441 != out_LfnChecksum;
    goto L155;

  L155:
    out_FoundValidLfn := 0;
    goto L164;

  anon154_Then:
    assume {:partition} out_LfnIndex != 0;
    goto L155;

  anon153_Then:
    assume {:partition} Mem_T.INT4[in_ByteOffset_3] != out_LfnByteOffset_4 + 32;
    goto L155;

  anon151_Then:
    assume {:partition} out_LfnInProgress == 0;
    goto L155;

  anon138_Then:
    assume {:partition} in_LongFileName == 0;
    goto L69;

  anon137_Then:
    goto L69;

  anon177_Then:
    goto L46;

  anon133_Then:
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} INTMOD(Mem_T.INT4[in_ByteOffset_3], 4096) != 0;
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto anon175_Then, anon175_Else;

  anon175_Else:
    goto L228;

  L228:
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto L230;

  L230:
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    out_Tmp_2447 := BAND(Mem_T.INT4[in_ByteOffset_3], BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 5066} FatReadDirectoryFile#0(in_IrpContext_153, in_ParentDirectory, out_Tmp_2447, 4096, 0, in_Bcb_17, in_Dirent_29, in_Status_57);
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    goto L46;

  anon174_Then:
    goto L230;

  anon175_Then:
    goto L46;

  anon134_Then:
    assume {:partition} INTMOD(Mem_T.INT4[in_ByteOffset_3], 4096) == 0;
    goto L228;
}



procedure {:LoopProcedure} FatLocateDirent#0_loop_L42(in_LfnInProgress: int, in_Tmp_2387: int, in_Ordinal: int, in_LfnByteOffset_4: int, in_Tmp_2388: int, in_Tmp_2389: int, in_Tmp_2390: int, in_Tmp_2391: int, in_Tmp_2392: int, in_Tmp_2394: int, in_Tmp_2395: int, in_LfnChecksum: int, in_Tmp_2396: int, in_Tmp_2399: int, in_Tmp_2400: int, in_Tmp_2401: int, in_Tmp_2402: int, in_Tmp_2403: int, in_LfnIndex: int, in_Tmp_2404: int, in_Tmp_2405: int, in_LfnSize: int, in_Lfn_11: int, in_sdv_1441: int, in_Tmp_2406: int, in_Tmp_2407: int, in_Tmp_2409: int, in_Tmp_2410: int, in_Status_57: int, in_Tmp_2411: int, in_Tmp_2412: int, in_Tmp_2413: int, in_sdv_1442: int, in_Tmp_2414: int, in_Tmp_2415: int, in_Tmp_2418: int, in_Tmp_2420: int, in_CheckTail: int, in_Tmp_2421: int, in_Tmp_2423: int, in_UpcasedLfn: int, in_Tmp_2424: int, in_Tmp_2425: int, in_sdv_1444: int, in_Tmp_2426: int, in_Tmp_2427: int, in_Tmp_2428: int, in_FoundValidLfn: int, in_Tmp_2429: int, in_sdv_1445: int, in_sdv_1446: int, in_Tmp_2430: int, in_Tmp_2431: int, in_Tmp_2432: int, in_Tmp_2435: int, in_Tmp_2437: int, in_Tmp_2438: int, in_Tmp_2439: int, in_Tmp_2440: int, in_Tmp_2441: int, in_Tmp_2443: int, in_Tmp_2445: int, in_Name_3: int, in_Tmp_2446: int, in_Tmp_2447: int, in_Tmp_2448: int, in_Tmp_2449: int, in_Tmp_2451: int, in_Tmp_2452: int, in_IrpContext_153: int, in_ParentDirectory: int, in_Ccb_32: int, in_Dirent_29: int, in_Bcb_17: int, in_ByteOffset_3: int, in_LongFileName: int, in_boogieTmp: int) returns (out_LfnInProgress: int, out_Tmp_2387: int, out_Ordinal: int, out_LfnByteOffset_4: int, out_Tmp_2388: int, out_Tmp_2389: int, out_Tmp_2390: int, out_Tmp_2391: int, out_Tmp_2392: int, out_Tmp_2394: int, out_Tmp_2395: int, out_LfnChecksum: int, out_Tmp_2396: int, out_Tmp_2399: int, out_Tmp_2400: int, out_Tmp_2401: int, out_Tmp_2402: int, out_Tmp_2403: int, out_LfnIndex: int, out_Tmp_2404: int, out_Tmp_2405: int, out_LfnSize: int, out_Lfn_11: int, out_sdv_1441: int, out_Tmp_2406: int, out_Tmp_2407: int, out_Tmp_2409: int, out_Tmp_2410: int, out_Tmp_2411: int, out_Tmp_2412: int, out_Tmp_2413: int, out_sdv_1442: int, out_Tmp_2414: int, out_Tmp_2415: int, out_Tmp_2418: int, out_Tmp_2420: int, out_CheckTail: int, out_Tmp_2421: int, out_Tmp_2423: int, out_Tmp_2424: int, out_Tmp_2425: int, out_sdv_1444: int, out_Tmp_2426: int, out_Tmp_2427: int, out_Tmp_2428: int, out_FoundValidLfn: int, out_Tmp_2429: int, out_sdv_1445: int, out_sdv_1446: int, out_Tmp_2430: int, out_Tmp_2431: int, out_Tmp_2432: int, out_Tmp_2435: int, out_Tmp_2437: int, out_Tmp_2438: int, out_Tmp_2439: int, out_Tmp_2440: int, out_Tmp_2441: int, out_Tmp_2443: int, out_Tmp_2445: int, out_Tmp_2446: int, out_Tmp_2447: int, out_Tmp_2448: int, out_Tmp_2449: int, out_Tmp_2451: int, out_Tmp_2452: int, out_boogieTmp: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} out_LfnInProgress == 0 || out_LfnInProgress == 1 || out_LfnInProgress == in_LfnInProgress;
  free ensures {:va_keep} out_Tmp_2418 == 0 || out_Tmp_2418 == 1 || out_Tmp_2418 == in_Tmp_2418;
  free ensures {:va_keep} out_CheckTail == 1 || out_CheckTail == 0 || out_CheckTail == in_CheckTail;
  free ensures {:va_keep} out_sdv_1444 == 0 || out_sdv_1444 == 1 || out_sdv_1444 == in_sdv_1444;
  free ensures {:va_keep} out_FoundValidLfn == 0 || out_FoundValidLfn == 1 || out_FoundValidLfn == in_FoundValidLfn;
  free ensures {:va_keep} out_sdv_1445 == in_sdv_1445;
  free ensures {:va_keep} out_sdv_1446 == 0 || out_sdv_1446 == 1 || out_sdv_1446 == in_sdv_1446;
  free ensures {:va_keep} out_boogieTmp == -1073741675 || out_boogieTmp == 0 || out_boogieTmp == in_boogieTmp;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLocateDirent#1_loop_L132(in_Ordinal: int, in_LfnIndex: int, in_Tmp_2404: int, in_LfnSize: int, in_Tmp_2410: int, in_CheckTail: int, in_Tmp_2435: int, in_Tmp_2440: int, in_LongFileName: int) returns (out_LfnIndex: int, out_Tmp_2404: int, out_LfnSize: int, out_Tmp_2410: int, out_CheckTail: int, out_Tmp_2435: int, out_Tmp_2440: int)
{

  entry:
    out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440 := in_LfnIndex, in_Tmp_2404, in_LfnSize, in_Tmp_2410, in_CheckTail, in_Tmp_2435, in_Tmp_2440;
    goto L132, exit;

  exit:
    return;

  L132:
    goto anon147_Else;

  anon147_Else:
    assume {:partition} out_LfnIndex != in_Ordinal * 13;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} out_CheckTail != 0;
    out_Tmp_2435 := out_LfnIndex;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2440;
    assume {:nonnull} out_Tmp_2440 != 0;
    assume out_Tmp_2440 > 0;
    goto anon184_Else;

  anon184_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2440 + out_Tmp_2435 * 4] == 65535;
    goto L137;

  L137:
    out_LfnIndex := out_LfnIndex + 1;
    goto L137_dummy;

  L137_dummy:
    call {:si_unique_call 5086} {:si_old_unique_call 1} out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440 := FatLocateDirent#1_loop_L132(in_Ordinal, out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440, in_LongFileName);
    return;

  anon149_Then:
    assume {:partition} out_CheckTail == 0;
    out_Tmp_2410 := out_LfnIndex;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2404;
    assume {:nonnull} out_Tmp_2404 != 0;
    assume out_Tmp_2404 > 0;
    goto anon185_Then, anon185_Else;

  anon185_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2404 + out_Tmp_2410 * 4] == 0;
    out_LfnSize := out_LfnIndex;
    out_CheckTail := 1;
    goto L137;

  anon185_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2404 + out_Tmp_2410 * 4] != 0;
    goto L137;
}



procedure {:LoopProcedure} FatLocateDirent#1_loop_L132(in_Ordinal: int, in_LfnIndex: int, in_Tmp_2404: int, in_LfnSize: int, in_Tmp_2410: int, in_CheckTail: int, in_Tmp_2435: int, in_Tmp_2440: int, in_LongFileName: int) returns (out_LfnIndex: int, out_Tmp_2404: int, out_LfnSize: int, out_Tmp_2410: int, out_CheckTail: int, out_Tmp_2435: int, out_Tmp_2440: int);
  free ensures {:va_keep} out_CheckTail == 1 || out_CheckTail == in_CheckTail;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatLocateDirent#1_loop_L42(in_LfnInProgress: int, in_Tmp_2387: int, in_Ordinal: int, in_LfnByteOffset_4: int, in_Tmp_2388: int, in_Tmp_2389: int, in_Tmp_2390: int, in_Tmp_2391: int, in_Tmp_2392: int, in_Tmp_2394: int, in_Tmp_2395: int, in_LfnChecksum: int, in_Tmp_2396: int, in_Tmp_2399: int, in_Tmp_2400: int, in_Tmp_2401: int, in_Tmp_2402: int, in_Tmp_2403: int, in_LfnIndex: int, in_Tmp_2404: int, in_Tmp_2405: int, in_LfnSize: int, in_Lfn_11: int, in_sdv_1441: int, in_Tmp_2406: int, in_Tmp_2407: int, in_Tmp_2409: int, in_Tmp_2410: int, in_Status_57: int, in_Tmp_2411: int, in_Tmp_2412: int, in_Tmp_2413: int, in_sdv_1442: int, in_Tmp_2414: int, in_Tmp_2415: int, in_Tmp_2418: int, in_Tmp_2420: int, in_CheckTail: int, in_Tmp_2421: int, in_Tmp_2423: int, in_UpcasedLfn: int, in_Tmp_2424: int, in_Tmp_2425: int, in_sdv_1444: int, in_Tmp_2426: int, in_Tmp_2427: int, in_Tmp_2428: int, in_FoundValidLfn: int, in_Tmp_2429: int, in_sdv_1445: int, in_sdv_1446: int, in_Tmp_2430: int, in_Tmp_2431: int, in_Tmp_2432: int, in_Tmp_2435: int, in_Tmp_2437: int, in_Tmp_2438: int, in_Tmp_2439: int, in_Tmp_2440: int, in_Tmp_2441: int, in_Tmp_2443: int, in_Tmp_2445: int, in_Name_3: int, in_Tmp_2446: int, in_Tmp_2447: int, in_Tmp_2448: int, in_Tmp_2449: int, in_Tmp_2451: int, in_Tmp_2452: int, in_IrpContext_153: int, in_ParentDirectory: int, in_Ccb_32: int, in_Dirent_29: int, in_Bcb_17: int, in_ByteOffset_3: int, in_LongFileName: int, in_boogieTmp: int) returns (out_LfnInProgress: int, out_Tmp_2387: int, out_Ordinal: int, out_LfnByteOffset_4: int, out_Tmp_2388: int, out_Tmp_2389: int, out_Tmp_2390: int, out_Tmp_2391: int, out_Tmp_2392: int, out_Tmp_2394: int, out_Tmp_2395: int, out_LfnChecksum: int, out_Tmp_2396: int, out_Tmp_2399: int, out_Tmp_2400: int, out_Tmp_2401: int, out_Tmp_2402: int, out_Tmp_2403: int, out_LfnIndex: int, out_Tmp_2404: int, out_Tmp_2405: int, out_LfnSize: int, out_Lfn_11: int, out_sdv_1441: int, out_Tmp_2406: int, out_Tmp_2407: int, out_Tmp_2409: int, out_Tmp_2410: int, out_Tmp_2411: int, out_Tmp_2412: int, out_Tmp_2413: int, out_sdv_1442: int, out_Tmp_2414: int, out_Tmp_2415: int, out_Tmp_2418: int, out_Tmp_2420: int, out_CheckTail: int, out_Tmp_2421: int, out_Tmp_2423: int, out_Tmp_2424: int, out_Tmp_2425: int, out_sdv_1444: int, out_Tmp_2426: int, out_Tmp_2427: int, out_Tmp_2428: int, out_FoundValidLfn: int, out_Tmp_2429: int, out_sdv_1445: int, out_sdv_1446: int, out_Tmp_2430: int, out_Tmp_2431: int, out_Tmp_2432: int, out_Tmp_2435: int, out_Tmp_2437: int, out_Tmp_2438: int, out_Tmp_2439: int, out_Tmp_2440: int, out_Tmp_2441: int, out_Tmp_2443: int, out_Tmp_2445: int, out_Tmp_2446: int, out_Tmp_2447: int, out_Tmp_2448: int, out_Tmp_2449: int, out_Tmp_2451: int, out_Tmp_2452: int, out_boogieTmp: int)
{
  var vslice_dummy_var_651: int;
  var vslice_dummy_var_652: int;
  var vslice_dummy_var_653: int;
  var vslice_dummy_var_654: int;

  entry:
    out_LfnInProgress, out_Tmp_2387, out_Ordinal, out_LfnByteOffset_4, out_Tmp_2388, out_Tmp_2389, out_Tmp_2390, out_Tmp_2391, out_Tmp_2392, out_Tmp_2394, out_Tmp_2395, out_LfnChecksum, out_Tmp_2396, out_Tmp_2399, out_Tmp_2400, out_Tmp_2401, out_Tmp_2402, out_Tmp_2403, out_LfnIndex, out_Tmp_2404, out_Tmp_2405, out_LfnSize, out_Lfn_11, out_sdv_1441, out_Tmp_2406, out_Tmp_2407, out_Tmp_2409, out_Tmp_2410, out_Tmp_2411, out_Tmp_2412, out_Tmp_2413, out_sdv_1442, out_Tmp_2414, out_Tmp_2415, out_Tmp_2418, out_Tmp_2420, out_CheckTail, out_Tmp_2421, out_Tmp_2423, out_Tmp_2424, out_Tmp_2425, out_sdv_1444, out_Tmp_2426, out_Tmp_2427, out_Tmp_2428, out_FoundValidLfn, out_Tmp_2429, out_sdv_1445, out_sdv_1446, out_Tmp_2430, out_Tmp_2431, out_Tmp_2432, out_Tmp_2435, out_Tmp_2437, out_Tmp_2438, out_Tmp_2439, out_Tmp_2440, out_Tmp_2441, out_Tmp_2443, out_Tmp_2445, out_Tmp_2446, out_Tmp_2447, out_Tmp_2448, out_Tmp_2449, out_Tmp_2451, out_Tmp_2452, out_boogieTmp := in_LfnInProgress, in_Tmp_2387, in_Ordinal, in_LfnByteOffset_4, in_Tmp_2388, in_Tmp_2389, in_Tmp_2390, in_Tmp_2391, in_Tmp_2392, in_Tmp_2394, in_Tmp_2395, in_LfnChecksum, in_Tmp_2396, in_Tmp_2399, in_Tmp_2400, in_Tmp_2401, in_Tmp_2402, in_Tmp_2403, in_LfnIndex, in_Tmp_2404, in_Tmp_2405, in_LfnSize, in_Lfn_11, in_sdv_1441, in_Tmp_2406, in_Tmp_2407, in_Tmp_2409, in_Tmp_2410, in_Tmp_2411, in_Tmp_2412, in_Tmp_2413, in_sdv_1442, in_Tmp_2414, in_Tmp_2415, in_Tmp_2418, in_Tmp_2420, in_CheckTail, in_Tmp_2421, in_Tmp_2423, in_Tmp_2424, in_Tmp_2425, in_sdv_1444, in_Tmp_2426, in_Tmp_2427, in_Tmp_2428, in_FoundValidLfn, in_Tmp_2429, in_sdv_1445, in_sdv_1446, in_Tmp_2430, in_Tmp_2431, in_Tmp_2432, in_Tmp_2435, in_Tmp_2437, in_Tmp_2438, in_Tmp_2439, in_Tmp_2440, in_Tmp_2441, in_Tmp_2443, in_Tmp_2445, in_Tmp_2446, in_Tmp_2447, in_Tmp_2448, in_Tmp_2449, in_Tmp_2451, in_Tmp_2452, in_boogieTmp;
    goto L42, exit;

  exit:
    return;

  L42:
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    assume {:nonnull} in_ParentDirectory != 0;
    assume in_ParentDirectory > 0;
    goto anon133_Then, anon133_Else;

  anon133_Else:
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    Mem_T.INT4[in_Status_57] := -1073741807;
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto anon177_Then, anon177_Else;

  anon177_Else:
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto L46;

  L46:
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    goto anon135_Then;

  anon135_Then:
    assume {:partition} Mem_T.INT4[in_Status_57] != -1073741807;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2388;
    assume {:nonnull} out_Tmp_2388 != 0;
    assume out_Tmp_2388 > 0;
    havoc out_Tmp_2439;
    assume {:nonnull} out_Tmp_2439 != 0;
    assume out_Tmp_2439 > 0;
    goto anon178_Else;

  anon178_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2439] != 0;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2407;
    assume {:nonnull} out_Tmp_2407 != 0;
    assume out_Tmp_2407 > 0;
    havoc out_Tmp_2423;
    assume {:nonnull} out_Tmp_2423 != 0;
    assume out_Tmp_2423 > 0;
    goto anon179_Then, anon179_Else;

  anon179_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2423] == 229;
    out_LfnInProgress := 0;
    goto L67;

  L67:
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    Mem_T.INT4[in_ByteOffset_3] := Mem_T.INT4[in_ByteOffset_3] + 32;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    goto L67_dummy;

  L67_dummy:
    call {:si_unique_call 5108} {:si_old_unique_call 1} out_LfnInProgress, out_Tmp_2387, out_Ordinal, out_LfnByteOffset_4, out_Tmp_2388, out_Tmp_2389, out_Tmp_2390, out_Tmp_2391, out_Tmp_2392, out_Tmp_2394, out_Tmp_2395, out_LfnChecksum, out_Tmp_2396, out_Tmp_2399, out_Tmp_2400, out_Tmp_2401, out_Tmp_2402, out_Tmp_2403, out_LfnIndex, out_Tmp_2404, out_Tmp_2405, out_LfnSize, out_Lfn_11, out_sdv_1441, out_Tmp_2406, out_Tmp_2407, out_Tmp_2409, out_Tmp_2410, out_Tmp_2411, out_Tmp_2412, out_Tmp_2413, out_sdv_1442, out_Tmp_2414, out_Tmp_2415, out_Tmp_2418, out_Tmp_2420, out_CheckTail, out_Tmp_2421, out_Tmp_2423, out_Tmp_2424, out_Tmp_2425, out_sdv_1444, out_Tmp_2426, out_Tmp_2427, out_Tmp_2428, out_FoundValidLfn, out_Tmp_2429, out_sdv_1445, out_sdv_1446, out_Tmp_2430, out_Tmp_2431, out_Tmp_2432, out_Tmp_2435, out_Tmp_2437, out_Tmp_2438, out_Tmp_2439, out_Tmp_2440, out_Tmp_2441, out_Tmp_2443, out_Tmp_2445, out_Tmp_2446, out_Tmp_2447, out_Tmp_2448, out_Tmp_2449, out_Tmp_2451, out_Tmp_2452, out_boogieTmp := FatLocateDirent#1_loop_L42(out_LfnInProgress, out_Tmp_2387, out_Ordinal, out_LfnByteOffset_4, out_Tmp_2388, out_Tmp_2389, out_Tmp_2390, out_Tmp_2391, out_Tmp_2392, out_Tmp_2394, out_Tmp_2395, out_LfnChecksum, out_Tmp_2396, out_Tmp_2399, out_Tmp_2400, out_Tmp_2401, out_Tmp_2402, out_Tmp_2403, out_LfnIndex, out_Tmp_2404, out_Tmp_2405, out_LfnSize, out_Lfn_11, out_sdv_1441, out_Tmp_2406, out_Tmp_2407, out_Tmp_2409, out_Tmp_2410, in_Status_57, out_Tmp_2411, out_Tmp_2412, out_Tmp_2413, out_sdv_1442, out_Tmp_2414, out_Tmp_2415, out_Tmp_2418, out_Tmp_2420, out_CheckTail, out_Tmp_2421, out_Tmp_2423, in_UpcasedLfn, out_Tmp_2424, out_Tmp_2425, out_sdv_1444, out_Tmp_2426, out_Tmp_2427, out_Tmp_2428, out_FoundValidLfn, out_Tmp_2429, out_sdv_1445, out_sdv_1446, out_Tmp_2430, out_Tmp_2431, out_Tmp_2432, out_Tmp_2435, out_Tmp_2437, out_Tmp_2438, out_Tmp_2439, out_Tmp_2440, out_Tmp_2441, out_Tmp_2443, out_Tmp_2445, in_Name_3, out_Tmp_2446, out_Tmp_2447, out_Tmp_2448, out_Tmp_2449, out_Tmp_2451, out_Tmp_2452, in_IrpContext_153, in_ParentDirectory, in_Ccb_32, in_Dirent_29, in_Bcb_17, in_ByteOffset_3, in_LongFileName, out_boogieTmp);
    return;

  anon179_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2423] != 229;
    goto anon137_Then, anon137_Else;

  anon137_Else:
    goto anon138_Then, anon138_Else;

  anon138_Else:
    assume {:partition} in_LongFileName != 0;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2430;
    assume {:nonnull} out_Tmp_2430 != 0;
    assume out_Tmp_2430 > 0;
    goto anon180_Then, anon180_Else;

  anon180_Else:
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Lfn_11;
    goto anon181_Then, anon181_Else;

  anon181_Else:
    assume {:partition} out_LfnInProgress != 0;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon140_Then, anon140_Else;

  anon140_Else:
    goto L78;

  L78:
    out_LfnInProgress := 0;
    goto L75;

  L75:
    goto anon139_Then, anon139_Else;

  anon139_Else:
    assume {:partition} out_LfnInProgress == 0;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon145_Then, anon145_Else;

  anon145_Else:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2390;
    goto anon182_Then, anon182_Else;

  anon182_Else:
    assume {:partition} 20 >= out_Tmp_2390;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon146_Then, anon146_Else;

  anon146_Else:
    out_CheckTail := 0;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Ordinal;
    goto anon183_Then, anon183_Else;

  anon183_Else:
    assume {:partition} out_Ordinal != 0;
    goto L112;

  L112:
    out_LfnIndex := (out_Ordinal - 1) * 13;
    call {:si_unique_call 5101} out_Tmp_2400 := corral_nondet();
    call {:si_unique_call 5102} FatEnsureStringBufferEnough(in_LongFileName, out_Tmp_2400);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2425;
    out_Tmp_2401 := out_LfnIndex + 0;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2429;
    call {:si_unique_call 5103} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2449;
    out_Tmp_2437 := out_LfnIndex + 5;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2392;
    call {:si_unique_call 5104} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2411;
    out_Tmp_2441 := out_LfnIndex + 11;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2446;
    call {:si_unique_call 5105} sdv_RtlCopyMemory(0, 0, 4);
    goto L132;

  L132:
    call {:si_unique_call 5100} out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440 := FatLocateDirent#1_loop_L132(out_Ordinal, out_LfnIndex, out_Tmp_2404, out_LfnSize, out_Tmp_2410, out_CheckTail, out_Tmp_2435, out_Tmp_2440, in_LongFileName);
    goto L132_last;

  L132_last:
    goto anon147_Then, anon147_Else;

  anon147_Else:
    assume {:partition} out_LfnIndex != out_Ordinal * 13;
    goto anon149_Then, anon149_Else;

  anon149_Else:
    assume {:partition} out_CheckTail != 0;
    out_Tmp_2435 := out_LfnIndex;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2440;
    assume {:nonnull} out_Tmp_2440 != 0;
    assume out_Tmp_2440 > 0;
    goto anon184_Then, anon184_Else;

  anon184_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2440 + out_Tmp_2435 * 4] == 65535;
    goto L137;

  L137:
    out_LfnIndex := out_LfnIndex + 1;
    assume false;
    return;

  anon184_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2440 + out_Tmp_2435 * 4] != 65535;
    goto L133;

  L133:
    goto anon148_Then, anon148_Else;

  anon148_Else:
    assume {:partition} out_LfnIndex == out_Ordinal * 13;
    goto anon150_Then, anon150_Else;

  anon150_Else:
    assume {:partition} out_CheckTail != 0;
    goto L143;

  L143:
    out_LfnIndex := out_LfnIndex - 13;
    out_LfnInProgress := 1;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_LfnChecksum;
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    out_LfnByteOffset_4 := Mem_T.INT4[in_ByteOffset_3];
    goto L67;

  anon150_Then:
    assume {:partition} out_CheckTail == 0;
    out_LfnSize := out_LfnIndex;
    goto L143;

  anon148_Then:
    assume {:partition} out_LfnIndex != out_Ordinal * 13;
    goto L67;

  anon149_Then:
    assume {:partition} out_CheckTail == 0;
    out_Tmp_2410 := out_LfnIndex;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2404;
    assume {:nonnull} out_Tmp_2404 != 0;
    assume out_Tmp_2404 > 0;
    goto anon185_Then, anon185_Else;

  anon185_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2404 + out_Tmp_2410 * 4] == 0;
    out_LfnSize := out_LfnIndex;
    out_CheckTail := 1;
    goto L137;

  anon185_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2404 + out_Tmp_2410 * 4] != 0;
    goto L137;

  anon147_Then:
    assume {:partition} out_LfnIndex == out_Ordinal * 13;
    goto L133;

  anon183_Then:
    assume {:partition} out_Ordinal == 0;
    call {:si_unique_call 5106} FatPopUpFileCorrupt#0(in_IrpContext_153, in_ParentDirectory);
    assume {:nonnull} in_IrpContext_153 != 0;
    assume in_IrpContext_153 > 0;
    call {:si_unique_call 5107} ExRaiseStatus(-1073741566);
    goto L112;

  anon146_Then:
    goto L67;

  anon182_Then:
    assume {:partition} out_Tmp_2390 > 20;
    goto L67;

  anon145_Then:
    goto L67;

  anon139_Then:
    assume {:partition} out_LfnInProgress != 0;
    goto L67;

  anon140_Then:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon141_Then, anon141_Else;

  anon141_Else:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon142_Then, anon142_Else;

  anon142_Else:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon143_Then, anon143_Else;

  anon143_Else:
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    goto anon144_Then, anon144_Else;

  anon144_Else:
    out_LfnIndex := out_LfnIndex - 13;
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2412;
    out_Tmp_2409 := out_LfnIndex + 0;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2391;
    call {:si_unique_call 5097} sdv_RtlCopyMemory(0, 0, 10);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2405;
    out_Tmp_2451 := out_LfnIndex + 5;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2414;
    call {:si_unique_call 5098} sdv_RtlCopyMemory(0, 0, 12);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Tmp_2428;
    out_Tmp_2413 := out_LfnIndex + 11;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc out_Tmp_2396;
    call {:si_unique_call 5099} sdv_RtlCopyMemory(0, 0, 4);
    assume {:nonnull} out_Lfn_11 != 0;
    assume out_Lfn_11 > 0;
    havoc out_Ordinal;
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    out_LfnByteOffset_4 := Mem_T.INT4[in_ByteOffset_3];
    goto L75;

  anon144_Then:
    goto L78;

  anon143_Then:
    goto L78;

  anon142_Then:
    goto L78;

  anon141_Then:
    goto L78;

  anon181_Then:
    assume {:partition} out_LfnInProgress == 0;
    goto L75;

  anon180_Then:
    goto L69;

  L69:
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2394;
    assume {:nonnull} out_Tmp_2394 != 0;
    assume out_Tmp_2394 > 0;
    goto anon186_Then, anon186_Else;

  anon186_Else:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon152_Else;

  anon152_Else:
    goto L67;

  anon186_Then:
    goto anon151_Then, anon151_Else;

  anon151_Else:
    assume {:partition} out_LfnInProgress != 0;
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    goto anon153_Then, anon153_Else;

  anon153_Else:
    assume {:partition} Mem_T.INT4[in_ByteOffset_3] == out_LfnByteOffset_4 + 32;
    goto anon154_Then, anon154_Else;

  anon154_Else:
    assume {:partition} out_LfnIndex == 0;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc vslice_dummy_var_651;
    call {:si_unique_call 5088} out_sdv_1441 := FatComputeLfnChecksum(vslice_dummy_var_651);
    goto anon155_Then, anon155_Else;

  anon155_Else:
    assume {:partition} out_sdv_1441 == out_LfnChecksum;
    out_FoundValidLfn := 1;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    goto L164;

  L164:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon156_Else;

  anon156_Else:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon157_Then, anon157_Else;

  anon157_Else:
    goto L168;

  L168:
    goto anon159_Then, anon159_Else;

  anon159_Else:
    assume {:partition} out_FoundValidLfn != 0;
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon161_Then, anon161_Else;

  anon161_Else:
    goto L172;

  L172:
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    havoc vslice_dummy_var_654;
    call {:si_unique_call 5094} FatEnsureStringBufferEnough(in_UpcasedLfn, vslice_dummy_var_654);
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    call {:si_unique_call 5095} out_boogieTmp := RtlUpcaseUnicodeString(0, 0, 0);
    Mem_T.INT4[in_Status_57] := out_boogieTmp;
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    goto anon163_Then, anon163_Else;

  anon163_Else:
    assume {:partition} Mem_T.INT4[in_Status_57] >= 0;
    goto L181;

  L181:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon164_Then, anon164_Else;

  anon164_Else:
    call {:si_unique_call 5096} out_sdv_1444 := FsRtlIsNameInExpression(0, 0, 1, 0);
    goto anon165_Else;

  anon165_Else:
    assume {:partition} out_sdv_1444 == 0;
    goto L169;

  L169:
    goto anon160_Then, anon160_Else;

  anon160_Else:
    assume {:partition} out_FoundValidLfn != 0;
    out_FoundValidLfn := 0;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    goto L67;

  anon160_Then:
    assume {:partition} out_FoundValidLfn == 0;
    goto L67;

  anon164_Then:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2421;
    goto anon187_Then, anon187_Else;

  anon187_Else:
    assume {:partition} out_Tmp_2421 == 0;
    out_Tmp_2418 := 0;
    goto L387;

  L387:
    call {:si_unique_call 5091} out_sdv_1446 := FsRtlAreNamesEqual(0, 0, out_Tmp_2418, 0);
    goto anon166_Else;

  anon166_Else:
    assume {:partition} out_sdv_1446 == 0;
    goto L169;

  anon187_Then:
    assume {:partition} out_Tmp_2421 != 0;
    out_Tmp_2418 := 1;
    goto L387;

  anon163_Then:
    assume {:partition} 0 > Mem_T.INT4[in_Status_57];
    assume {:nonnull} in_IrpContext_153 != 0;
    assume in_IrpContext_153 > 0;
    assume {:nonnull} in_Status_57 != 0;
    assume in_Status_57 > 0;
    call {:si_unique_call 5092} out_sdv_1445 := corral_nondet();
    call {:si_unique_call 5093} ExRaiseStatus(out_sdv_1445);
    goto L181;

  anon161_Then:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon162_Then, anon162_Else;

  anon162_Else:
    out_FoundValidLfn := 0;
    assume {:nonnull} in_LongFileName != 0;
    assume in_LongFileName > 0;
    goto L67;

  anon162_Then:
    goto L172;

  anon159_Then:
    assume {:partition} out_FoundValidLfn == 0;
    goto L169;

  anon157_Then:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon158_Then, anon158_Else;

  anon158_Else:
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc vslice_dummy_var_653;
    call {:si_unique_call 5090} Fat8dot3ToString(in_IrpContext_153, vslice_dummy_var_653, 0, in_Name_3);
    assume {:nonnull} in_Name_3 != 0;
    assume in_Name_3 > 0;
    goto anon167_Then, anon167_Else;

  anon167_Else:
    assume {:nonnull} in_Name_3 != 0;
    assume in_Name_3 > 0;
    goto anon168_Then, anon168_Else;

  anon168_Else:
    assume {:nonnull} in_Name_3 != 0;
    assume in_Name_3 > 0;
    goto anon169_Then, anon169_Else;

  anon169_Else:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    goto anon170_Then, anon170_Else;

  anon170_Else:
    assume {:nonnull} in_Name_3 != 0;
    assume in_Name_3 > 0;
    goto L210;

  L210:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc vslice_dummy_var_652;
    call {:si_unique_call 5089} out_sdv_1442 := FatIsNameInExpression(in_IrpContext_153, vslice_dummy_var_652, in_Name_3);
    goto anon171_Then;

  anon171_Then:
    assume {:partition} out_sdv_1442 == 0;
    goto L168;

  anon170_Then:
    goto L210;

  anon169_Then:
    goto L210;

  anon168_Then:
    goto L210;

  anon167_Then:
    goto L210;

  anon158_Then:
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2427;
    assume {:nonnull} out_Tmp_2427 != 0;
    assume out_Tmp_2427 > 0;
    goto anon188_Then, anon188_Else;

  anon188_Else:
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2432;
    out_Tmp_2403 := out_Tmp_2432;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2445;
    assume {:nonnull} out_Tmp_2445 != 0;
    assume out_Tmp_2445 > 0;
    havoc out_Tmp_2448;
    out_Tmp_2402 := out_Tmp_2448;
    assume {:nonnull} out_Tmp_2402 != 0;
    assume out_Tmp_2402 > 0;
    assume {:nonnull} out_Tmp_2403 != 0;
    assume out_Tmp_2403 > 0;
    goto anon189_Then, anon189_Else;

  anon189_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2403] == Mem_T.INT4[out_Tmp_2402];
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2438;
    out_Tmp_2387 := out_Tmp_2438 + 4 * 4;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2406;
    assume {:nonnull} out_Tmp_2406 != 0;
    assume out_Tmp_2406 > 0;
    havoc out_Tmp_2415;
    out_Tmp_2426 := out_Tmp_2415 + 4 * 4;
    assume {:nonnull} out_Tmp_2387 != 0;
    assume out_Tmp_2387 > 0;
    assume {:nonnull} out_Tmp_2426 != 0;
    assume out_Tmp_2426 > 0;
    goto anon190_Then, anon190_Else;

  anon190_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2387] == Mem_T.INT4[out_Tmp_2426];
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2420;
    out_Tmp_2431 := out_Tmp_2420 + 8 * 4;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2443;
    assume {:nonnull} out_Tmp_2443 != 0;
    assume out_Tmp_2443 > 0;
    havoc out_Tmp_2395;
    out_Tmp_2399 := out_Tmp_2395 + 8 * 4;
    assume {:nonnull} out_Tmp_2399 != 0;
    assume out_Tmp_2399 > 0;
    assume {:nonnull} out_Tmp_2431 != 0;
    assume out_Tmp_2431 > 0;
    goto anon191_Then, anon191_Else;

  anon191_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2431] == Mem_T.INT4[out_Tmp_2399];
    assume {:nonnull} in_Ccb_32 != 0;
    assume in_Ccb_32 > 0;
    havoc out_Tmp_2389;
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    havoc out_Tmp_2452;
    assume {:nonnull} out_Tmp_2452 != 0;
    assume out_Tmp_2452 > 0;
    havoc out_Tmp_2424;
    assume {:nonnull} out_Tmp_2389 != 0;
    assume out_Tmp_2389 > 0;
    assume {:nonnull} out_Tmp_2424 != 0;
    assume out_Tmp_2424 > 0;
    goto anon192_Then;

  anon192_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2389 + 10 * 4] != Mem_T.INT4[out_Tmp_2424 + 10 * 4];
    goto L168;

  anon191_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2431] != Mem_T.INT4[out_Tmp_2399];
    goto L168;

  anon190_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2387] != Mem_T.INT4[out_Tmp_2426];
    goto L168;

  anon189_Then:
    assume {:partition} Mem_T.INT4[out_Tmp_2403] != Mem_T.INT4[out_Tmp_2402];
    goto L168;

  anon188_Then:
    goto L168;

  anon155_Then:
    assume {:partition} out_sdv_1441 != out_LfnChecksum;
    goto L155;

  L155:
    out_FoundValidLfn := 0;
    goto L164;

  anon154_Then:
    assume {:partition} out_LfnIndex != 0;
    goto L155;

  anon153_Then:
    assume {:partition} Mem_T.INT4[in_ByteOffset_3] != out_LfnByteOffset_4 + 32;
    goto L155;

  anon151_Then:
    assume {:partition} out_LfnInProgress == 0;
    goto L155;

  anon138_Then:
    assume {:partition} in_LongFileName == 0;
    goto L69;

  anon137_Then:
    goto L69;

  anon177_Then:
    goto L46;

  anon133_Then:
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    goto anon134_Then, anon134_Else;

  anon134_Else:
    assume {:partition} INTMOD(Mem_T.INT4[in_ByteOffset_3], 4096) != 0;
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto anon175_Then, anon175_Else;

  anon175_Else:
    goto L228;

  L228:
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto anon174_Then, anon174_Else;

  anon174_Else:
    assume {:nonnull} in_Bcb_17 != 0;
    assume in_Bcb_17 > 0;
    goto L230;

  L230:
    assume {:nonnull} in_ByteOffset_3 != 0;
    assume in_ByteOffset_3 > 0;
    out_Tmp_2447 := BAND(Mem_T.INT4[in_ByteOffset_3], BNOT(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(BOR(1, 2), 4), 8), 16), 32), 64), 128), 256), 512), 1024), 2048)));
    call {:si_unique_call 5087} FatReadDirectoryFile#1(in_IrpContext_153, in_ParentDirectory, out_Tmp_2447, 4096, 0, in_Bcb_17, in_Dirent_29, in_Status_57);
    assume {:nonnull} in_Dirent_29 != 0;
    assume in_Dirent_29 > 0;
    goto L46;

  anon174_Then:
    goto L230;

  anon175_Then:
    goto L46;

  anon134_Then:
    assume {:partition} INTMOD(Mem_T.INT4[in_ByteOffset_3], 4096) == 0;
    goto L228;
}



procedure {:LoopProcedure} FatLocateDirent#1_loop_L42(in_LfnInProgress: int, in_Tmp_2387: int, in_Ordinal: int, in_LfnByteOffset_4: int, in_Tmp_2388: int, in_Tmp_2389: int, in_Tmp_2390: int, in_Tmp_2391: int, in_Tmp_2392: int, in_Tmp_2394: int, in_Tmp_2395: int, in_LfnChecksum: int, in_Tmp_2396: int, in_Tmp_2399: int, in_Tmp_2400: int, in_Tmp_2401: int, in_Tmp_2402: int, in_Tmp_2403: int, in_LfnIndex: int, in_Tmp_2404: int, in_Tmp_2405: int, in_LfnSize: int, in_Lfn_11: int, in_sdv_1441: int, in_Tmp_2406: int, in_Tmp_2407: int, in_Tmp_2409: int, in_Tmp_2410: int, in_Status_57: int, in_Tmp_2411: int, in_Tmp_2412: int, in_Tmp_2413: int, in_sdv_1442: int, in_Tmp_2414: int, in_Tmp_2415: int, in_Tmp_2418: int, in_Tmp_2420: int, in_CheckTail: int, in_Tmp_2421: int, in_Tmp_2423: int, in_UpcasedLfn: int, in_Tmp_2424: int, in_Tmp_2425: int, in_sdv_1444: int, in_Tmp_2426: int, in_Tmp_2427: int, in_Tmp_2428: int, in_FoundValidLfn: int, in_Tmp_2429: int, in_sdv_1445: int, in_sdv_1446: int, in_Tmp_2430: int, in_Tmp_2431: int, in_Tmp_2432: int, in_Tmp_2435: int, in_Tmp_2437: int, in_Tmp_2438: int, in_Tmp_2439: int, in_Tmp_2440: int, in_Tmp_2441: int, in_Tmp_2443: int, in_Tmp_2445: int, in_Name_3: int, in_Tmp_2446: int, in_Tmp_2447: int, in_Tmp_2448: int, in_Tmp_2449: int, in_Tmp_2451: int, in_Tmp_2452: int, in_IrpContext_153: int, in_ParentDirectory: int, in_Ccb_32: int, in_Dirent_29: int, in_Bcb_17: int, in_ByteOffset_3: int, in_LongFileName: int, in_boogieTmp: int) returns (out_LfnInProgress: int, out_Tmp_2387: int, out_Ordinal: int, out_LfnByteOffset_4: int, out_Tmp_2388: int, out_Tmp_2389: int, out_Tmp_2390: int, out_Tmp_2391: int, out_Tmp_2392: int, out_Tmp_2394: int, out_Tmp_2395: int, out_LfnChecksum: int, out_Tmp_2396: int, out_Tmp_2399: int, out_Tmp_2400: int, out_Tmp_2401: int, out_Tmp_2402: int, out_Tmp_2403: int, out_LfnIndex: int, out_Tmp_2404: int, out_Tmp_2405: int, out_LfnSize: int, out_Lfn_11: int, out_sdv_1441: int, out_Tmp_2406: int, out_Tmp_2407: int, out_Tmp_2409: int, out_Tmp_2410: int, out_Tmp_2411: int, out_Tmp_2412: int, out_Tmp_2413: int, out_sdv_1442: int, out_Tmp_2414: int, out_Tmp_2415: int, out_Tmp_2418: int, out_Tmp_2420: int, out_CheckTail: int, out_Tmp_2421: int, out_Tmp_2423: int, out_Tmp_2424: int, out_Tmp_2425: int, out_sdv_1444: int, out_Tmp_2426: int, out_Tmp_2427: int, out_Tmp_2428: int, out_FoundValidLfn: int, out_Tmp_2429: int, out_sdv_1445: int, out_sdv_1446: int, out_Tmp_2430: int, out_Tmp_2431: int, out_Tmp_2432: int, out_Tmp_2435: int, out_Tmp_2437: int, out_Tmp_2438: int, out_Tmp_2439: int, out_Tmp_2440: int, out_Tmp_2441: int, out_Tmp_2443: int, out_Tmp_2445: int, out_Tmp_2446: int, out_Tmp_2447: int, out_Tmp_2448: int, out_Tmp_2449: int, out_Tmp_2451: int, out_Tmp_2452: int, out_boogieTmp: int);
  modifies Mem_T.INT4, alloc;
  free ensures {:va_keep} out_LfnInProgress == 0 || out_LfnInProgress == 1 || out_LfnInProgress == in_LfnInProgress;
  free ensures {:va_keep} out_Tmp_2418 == 0 || out_Tmp_2418 == 1 || out_Tmp_2418 == in_Tmp_2418;
  free ensures {:va_keep} out_CheckTail == 1 || out_CheckTail == 0 || out_CheckTail == in_CheckTail;
  free ensures {:va_keep} out_sdv_1444 == 0 || out_sdv_1444 == 1 || out_sdv_1444 == in_sdv_1444;
  free ensures {:va_keep} out_FoundValidLfn == 0 || out_FoundValidLfn == 1 || out_FoundValidLfn == in_FoundValidLfn;
  free ensures {:va_keep} out_sdv_1445 == in_sdv_1445;
  free ensures {:va_keep} out_sdv_1446 == 0 || out_sdv_1446 == 1 || out_sdv_1446 == in_sdv_1446;
  free ensures {:va_keep} out_boogieTmp == -1073741675 || out_boogieTmp == 0 || out_boogieTmp == in_boogieTmp;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatGetEaFile#0_loop_L210(in_CurrentIndex_2: int, in_Index_7: int) returns (out_Index_7: int)
{

  entry:
    out_Index_7 := in_Index_7;
    goto L210, exit;

  exit:
    return;

  L210:
    goto anon86_Else;

  anon86_Else:
    assume {:partition} out_Index_7 != 0;
    assume {:nonnull} in_CurrentIndex_2 != 0;
    assume in_CurrentIndex_2 > 0;
    Mem_T.INT4[in_CurrentIndex_2] := 65535;
    out_Index_7 := out_Index_7 - 1;
    goto anon86_Else_dummy;

  anon86_Else_dummy:
    havoc out_Index_7;
    return;
}



procedure {:LoopProcedure} FatGetEaFile#0_loop_L210(in_CurrentIndex_2: int, in_Index_7: int) returns (out_Index_7: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatGetEaFile#0_loop_L204(in_CurrentIndex_2: int, in_AllocatedClusters: int, in_Index_7: int) returns (out_Index_7: int)
{

  entry:
    out_Index_7 := in_Index_7;
    goto L204, exit;

  exit:
    return;

  L204:
    assume {:CounterLoop 240} {:Counter "Index_7"} true;
    goto anon85_Else;

  anon85_Else:
    assume {:partition} out_Index_7 != 0;
    assume {:nonnull} in_CurrentIndex_2 != 0;
    assume in_CurrentIndex_2 > 0;
    Mem_T.INT4[in_CurrentIndex_2] := in_AllocatedClusters;
    out_Index_7 := out_Index_7 - 1;
    goto anon85_Else_dummy;

  anon85_Else_dummy:
    havoc out_Index_7;
    return;
}



procedure {:LoopProcedure} FatGetEaFile#0_loop_L204(in_CurrentIndex_2: int, in_AllocatedClusters: int, in_Index_7: int) returns (out_Index_7: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatGetEaFile#1_loop_L210(in_CurrentIndex_2: int, in_Index_7: int) returns (out_Index_7: int)
{

  entry:
    out_Index_7 := in_Index_7;
    goto L210, exit;

  exit:
    return;

  L210:
    goto anon86_Else;

  anon86_Else:
    assume {:partition} out_Index_7 != 0;
    assume {:nonnull} in_CurrentIndex_2 != 0;
    assume in_CurrentIndex_2 > 0;
    Mem_T.INT4[in_CurrentIndex_2] := 65535;
    out_Index_7 := out_Index_7 - 1;
    goto anon86_Else_dummy;

  anon86_Else_dummy:
    havoc out_Index_7;
    return;
}



procedure {:LoopProcedure} FatGetEaFile#1_loop_L210(in_CurrentIndex_2: int, in_Index_7: int) returns (out_Index_7: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatGetEaFile#1_loop_L204(in_CurrentIndex_2: int, in_AllocatedClusters: int, in_Index_7: int) returns (out_Index_7: int)
{

  entry:
    out_Index_7 := in_Index_7;
    goto L204, exit;

  exit:
    return;

  L204:
    assume {:CounterLoop 240} {:Counter "Index_7"} true;
    goto anon85_Else;

  anon85_Else:
    assume {:partition} out_Index_7 != 0;
    assume {:nonnull} in_CurrentIndex_2 != 0;
    assume in_CurrentIndex_2 > 0;
    Mem_T.INT4[in_CurrentIndex_2] := in_AllocatedClusters;
    out_Index_7 := out_Index_7 - 1;
    goto anon85_Else_dummy;

  anon85_Else_dummy:
    havoc out_Index_7;
    return;
}



procedure {:LoopProcedure} FatGetEaFile#1_loop_L204(in_CurrentIndex_2: int, in_AllocatedClusters: int, in_Index_7: int) returns (out_Index_7: int);
  modifies Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeleteDirent#0_loop_L31(in_Offset_4: int, in_Dirent_38: int, in_Bcb_24: int, in_DontCare_7: int, in_Tmp_2561: int, in_IrpContext_163: int, in_FcbOrDcb_15: int) returns (out_Offset_4: int, out_Tmp_2561: int)
{
  var vslice_dummy_var_655: int;

  entry:
    out_Offset_4, out_Tmp_2561 := in_Offset_4, in_Tmp_2561;
    goto L31, exit;

  exit:
    return;

  L31:
    assume {:nonnull} in_FcbOrDcb_15 != 0;
    assume in_FcbOrDcb_15 > 0;
    goto anon38_Else;

  anon38_Else:
    assume {:nonnull} in_FcbOrDcb_15 != 0;
    assume in_FcbOrDcb_15 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    goto L35;

  L35:
    assume {:nonnull} in_Bcb_24 != 0;
    assume in_Bcb_24 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} in_Bcb_24 != 0;
    assume in_Bcb_24 > 0;
    goto L36;

  L36:
    assume {:nonnull} in_FcbOrDcb_15 != 0;
    assume in_FcbOrDcb_15 > 0;
    havoc vslice_dummy_var_655;
    call {:si_unique_call 5109} FatPrepareWriteDirectoryFile(in_IrpContext_163, vslice_dummy_var_655, out_Offset_4, 32, in_Bcb_24, in_Dirent_38, 0, 1, in_DontCare_7);
    goto anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto L43;

  L43:
    assume {:nonnull} in_Dirent_38 != 0;
    assume in_Dirent_38 > 0;
    havoc out_Tmp_2561;
    assume {:nonnull} out_Tmp_2561 != 0;
    assume out_Tmp_2561 > 0;
    Mem_T.INT4[out_Tmp_2561] := 229;
    out_Offset_4 := out_Offset_4 + 32;
    assume {:nonnull} in_Dirent_38 != 0;
    assume in_Dirent_38 > 0;
    goto L43_dummy;

  L43_dummy:
    call {:si_unique_call 5110} {:si_old_unique_call 1} out_Offset_4, out_Tmp_2561 := FatDeleteDirent#0_loop_L31(out_Offset_4, in_Dirent_38, in_Bcb_24, in_DontCare_7, out_Tmp_2561, in_IrpContext_163, in_FcbOrDcb_15);
    return;

  anon41_Then:
    goto L36;

  anon39_Then:
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} BAND(out_Offset_4, 4095) != 0;
    goto L43;

  anon40_Then:
    assume {:partition} BAND(out_Offset_4, 4095) == 0;
    goto L35;
}



procedure {:LoopProcedure} FatDeleteDirent#0_loop_L31(in_Offset_4: int, in_Dirent_38: int, in_Bcb_24: int, in_DontCare_7: int, in_Tmp_2561: int, in_IrpContext_163: int, in_FcbOrDcb_15: int) returns (out_Offset_4: int, out_Tmp_2561: int);
  modifies Mem_T.INT4, alloc, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatDeleteDirent#1_loop_L31(in_Offset_4: int, in_Dirent_38: int, in_Bcb_24: int, in_DontCare_7: int, in_Tmp_2561: int, in_IrpContext_163: int, in_FcbOrDcb_15: int) returns (out_Offset_4: int, out_Tmp_2561: int)
{
  var vslice_dummy_var_656: int;

  entry:
    out_Offset_4, out_Tmp_2561 := in_Offset_4, in_Tmp_2561;
    goto L31, exit;

  exit:
    return;

  L31:
    assume {:nonnull} in_FcbOrDcb_15 != 0;
    assume in_FcbOrDcb_15 > 0;
    goto anon38_Else;

  anon38_Else:
    assume {:nonnull} in_FcbOrDcb_15 != 0;
    assume in_FcbOrDcb_15 > 0;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    goto L35;

  L35:
    assume {:nonnull} in_Bcb_24 != 0;
    assume in_Bcb_24 > 0;
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:nonnull} in_Bcb_24 != 0;
    assume in_Bcb_24 > 0;
    goto L36;

  L36:
    assume {:nonnull} in_FcbOrDcb_15 != 0;
    assume in_FcbOrDcb_15 > 0;
    havoc vslice_dummy_var_656;
    call {:si_unique_call 5111} FatPrepareWriteDirectoryFile(in_IrpContext_163, vslice_dummy_var_656, out_Offset_4, 32, in_Bcb_24, in_Dirent_38, 0, 1, in_DontCare_7);
    goto anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto L43;

  L43:
    assume {:nonnull} in_Dirent_38 != 0;
    assume in_Dirent_38 > 0;
    havoc out_Tmp_2561;
    assume {:nonnull} out_Tmp_2561 != 0;
    assume out_Tmp_2561 > 0;
    Mem_T.INT4[out_Tmp_2561] := 229;
    out_Offset_4 := out_Offset_4 + 32;
    assume {:nonnull} in_Dirent_38 != 0;
    assume in_Dirent_38 > 0;
    goto L43_dummy;

  L43_dummy:
    call {:si_unique_call 5112} {:si_old_unique_call 1} out_Offset_4, out_Tmp_2561 := FatDeleteDirent#1_loop_L31(out_Offset_4, in_Dirent_38, in_Bcb_24, in_DontCare_7, out_Tmp_2561, in_IrpContext_163, in_FcbOrDcb_15);
    return;

  anon41_Then:
    goto L36;

  anon39_Then:
    goto anon40_Then, anon40_Else;

  anon40_Else:
    assume {:partition} BAND(out_Offset_4, 4095) != 0;
    goto L43;

  anon40_Then:
    assume {:partition} BAND(out_Offset_4, 4095) == 0;
    goto L35;
}



procedure {:LoopProcedure} FatDeleteDirent#1_loop_L31(in_Offset_4: int, in_Dirent_38: int, in_Bcb_24: int, in_DontCare_7: int, in_Tmp_2561: int, in_IrpContext_163: int, in_FcbOrDcb_15: int) returns (out_Offset_4: int, out_Tmp_2561: int);
  modifies Mem_T.INT4, alloc, sdv_irql_previous_5, sdv_irql_previous_4, sdv_irql_previous_3, sdv_irql_previous_2, sdv_irql_previous, sdv_irql_current, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_5 == old(sdv_irql_previous_5) || sdv_irql_previous_5 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatFspClose#0_loop_L14(in_sdv_1639: int, in_sdv_1640: int, in_LastVcb: int, in_FreeContext: int, in_CurrentVcb: int, in_Tmp_2927: int, in_sdv_1644: int, in_LoopsWithVcbHeld: int, in_CloseContext_1: int, in_Vcb_112: int, in_vslice_dummy_var_639: int, in_vslice_dummy_var_640: int, in_vslice_dummy_var_641: int) returns (out_sdv_1639: int, out_sdv_1640: int, out_LastVcb: int, out_FreeContext: int, out_CurrentVcb: int, out_Tmp_2927: int, out_sdv_1644: int, out_LoopsWithVcbHeld: int, out_CloseContext_1: int, out_vslice_dummy_var_639: int, out_vslice_dummy_var_640: int, out_vslice_dummy_var_641: int)
{
  var vslice_dummy_var_657: int;
  var vslice_dummy_var_658: int;
  var vslice_dummy_var_659: int;

  entry:
    out_sdv_1639, out_sdv_1640, out_LastVcb, out_FreeContext, out_CurrentVcb, out_Tmp_2927, out_sdv_1644, out_LoopsWithVcbHeld, out_CloseContext_1, out_vslice_dummy_var_639, out_vslice_dummy_var_640, out_vslice_dummy_var_641 := in_sdv_1639, in_sdv_1640, in_LastVcb, in_FreeContext, in_CurrentVcb, in_Tmp_2927, in_sdv_1644, in_LoopsWithVcbHeld, in_CloseContext_1, in_vslice_dummy_var_639, in_vslice_dummy_var_640, in_vslice_dummy_var_641;
    goto L14, exit;

  exit:
    return;

  L14:
    call {:si_unique_call 5113} out_CloseContext_1 := FatRemoveClose(in_Vcb_112, out_LastVcb);
    goto anon35_Else;

  anon35_Else:
    assume {:partition} out_CloseContext_1 != 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} in_Vcb_112 != 0;
    goto L22;

  L22:
    out_LastVcb := out_CurrentVcb;
    assume {:nonnull} out_CloseContext_1 != 0;
    assume out_CloseContext_1 > 0;
    havoc out_FreeContext;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} out_FreeContext != 0;
    out_Tmp_2927 := 0;
    goto L29;

  L29:
    assume {:nonnull} out_CloseContext_1 != 0;
    assume out_CloseContext_1 > 0;
    havoc vslice_dummy_var_657;
    havoc vslice_dummy_var_658;
    havoc vslice_dummy_var_659;
    call {:si_unique_call 5115} out_vslice_dummy_var_639 := FatCommonClose#0(vslice_dummy_var_657, vslice_dummy_var_658, out_Tmp_2927, vslice_dummy_var_659, 1, 0);
    goto anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} out_FreeContext != 0;
    call {:si_unique_call 5114} sdv_ExFreePool(0);
    goto anon39_Else_dummy;

  anon39_Else_dummy:
    goto L_BAF_17;

  L_BAF_17:
    call {:si_unique_call 5125} {:si_old_unique_call 1} out_sdv_1639, out_sdv_1640, out_LastVcb, out_FreeContext, out_CurrentVcb, out_Tmp_2927, out_sdv_1644, out_LoopsWithVcbHeld, out_CloseContext_1, out_vslice_dummy_var_639, out_vslice_dummy_var_640, out_vslice_dummy_var_641 := FatFspClose#0_loop_L14(out_sdv_1639, out_sdv_1640, out_LastVcb, out_FreeContext, out_CurrentVcb, out_Tmp_2927, out_sdv_1644, out_LoopsWithVcbHeld, out_CloseContext_1, in_Vcb_112, out_vslice_dummy_var_639, out_vslice_dummy_var_640, out_vslice_dummy_var_641);
    return;

  anon39_Then:
    assume {:partition} out_FreeContext == 0;
    goto anon39_Then_dummy;

  anon39_Then_dummy:
    goto L_BAF_17;

  anon46_Then:
    assume {:partition} out_FreeContext == 0;
    call {:si_unique_call 5116} out_sdv_1640 := sdv_containing_record(out_CloseContext_1, 12);
    out_Tmp_2927 := out_sdv_1640;
    goto L29;

  anon37_Then:
    assume {:partition} in_Vcb_112 == 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} out_CurrentVcb != 0;
    call {:si_unique_call 5117} ExReleaseResourceLite(0);
    out_CurrentVcb := 0;
    goto L22;

  anon41_Then:
    assume {:partition} out_CurrentVcb == 0;
    goto L22;

  anon38_Then:
    assume {:nonnull} out_CloseContext_1 != 0;
    assume out_CloseContext_1 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    out_LoopsWithVcbHeld := 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} out_CurrentVcb != 0;
    call {:si_unique_call 5124} ExReleaseResourceLite(0);
    goto L53;

  L53:
    assume {:nonnull} out_CloseContext_1 != 0;
    assume out_CloseContext_1 > 0;
    havoc out_CurrentVcb;
    call {:si_unique_call 5123} out_vslice_dummy_var_641 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon49_Else;

  anon49_Else:
    assume {:partition} yogi_error != 1;
    goto L60;

  L60:
    assume {:nonnull} out_CurrentVcb != 0;
    assume out_CurrentVcb > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    call {:si_unique_call 5118} ExReleaseResourceLite(0);
    out_CurrentVcb := 0;
    goto L22;

  anon42_Then:
    goto L22;

  anon48_Then:
    assume {:partition} out_CurrentVcb == 0;
    goto L53;

  anon40_Then:
    out_LoopsWithVcbHeld := out_LoopsWithVcbHeld + 1;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} out_LoopsWithVcbHeld >= 20;
    call {:si_unique_call 5119} out_sdv_1644 := ExGetSharedWaiterCount(0);
    call {:si_unique_call 5120} out_sdv_1639 := ExGetExclusiveWaiterCount(0);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} out_sdv_1644 + out_sdv_1639 != 0;
    call {:si_unique_call 5121} ExReleaseResourceLite(0);
    call {:si_unique_call 5122} out_vslice_dummy_var_640 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon51_Else;

  anon51_Else:
    assume {:partition} yogi_error != 1;
    goto L72;

  L72:
    out_LoopsWithVcbHeld := 0;
    goto L60;

  anon43_Then:
    assume {:partition} out_sdv_1644 + out_sdv_1639 == 0;
    goto L72;

  anon50_Then:
    assume {:partition} 20 > out_LoopsWithVcbHeld;
    goto L60;
}



procedure {:LoopProcedure} FatFspClose#0_loop_L14(in_sdv_1639: int, in_sdv_1640: int, in_LastVcb: int, in_FreeContext: int, in_CurrentVcb: int, in_Tmp_2927: int, in_sdv_1644: int, in_LoopsWithVcbHeld: int, in_CloseContext_1: int, in_Vcb_112: int, in_vslice_dummy_var_639: int, in_vslice_dummy_var_640: int, in_vslice_dummy_var_641: int) returns (out_sdv_1639: int, out_sdv_1640: int, out_LastVcb: int, out_FreeContext: int, out_CurrentVcb: int, out_Tmp_2927: int, out_sdv_1644: int, out_LoopsWithVcbHeld: int, out_CloseContext_1: int, out_vslice_dummy_var_639: int, out_vslice_dummy_var_640: int, out_vslice_dummy_var_641: int);
  modifies alloc, Mem_T.INT4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatFspClose#1_loop_L14(in_sdv_1639: int, in_sdv_1640: int, in_LastVcb: int, in_FreeContext: int, in_CurrentVcb: int, in_Tmp_2927: int, in_sdv_1644: int, in_LoopsWithVcbHeld: int, in_CloseContext_1: int, in_Vcb_112: int, in_vslice_dummy_var_643: int, in_vslice_dummy_var_644: int, in_vslice_dummy_var_645: int) returns (out_sdv_1639: int, out_sdv_1640: int, out_LastVcb: int, out_FreeContext: int, out_CurrentVcb: int, out_Tmp_2927: int, out_sdv_1644: int, out_LoopsWithVcbHeld: int, out_CloseContext_1: int, out_vslice_dummy_var_643: int, out_vslice_dummy_var_644: int, out_vslice_dummy_var_645: int)
{
  var vslice_dummy_var_660: int;
  var vslice_dummy_var_661: int;
  var vslice_dummy_var_662: int;

  entry:
    out_sdv_1639, out_sdv_1640, out_LastVcb, out_FreeContext, out_CurrentVcb, out_Tmp_2927, out_sdv_1644, out_LoopsWithVcbHeld, out_CloseContext_1, out_vslice_dummy_var_643, out_vslice_dummy_var_644, out_vslice_dummy_var_645 := in_sdv_1639, in_sdv_1640, in_LastVcb, in_FreeContext, in_CurrentVcb, in_Tmp_2927, in_sdv_1644, in_LoopsWithVcbHeld, in_CloseContext_1, in_vslice_dummy_var_643, in_vslice_dummy_var_644, in_vslice_dummy_var_645;
    goto L14, exit;

  exit:
    return;

  L14:
    call {:si_unique_call 5126} out_CloseContext_1 := FatRemoveClose(in_Vcb_112, out_LastVcb);
    goto anon35_Else;

  anon35_Else:
    assume {:partition} out_CloseContext_1 != 0;
    goto anon37_Then, anon37_Else;

  anon37_Else:
    assume {:partition} in_Vcb_112 != 0;
    goto L22;

  L22:
    out_LastVcb := out_CurrentVcb;
    assume {:nonnull} out_CloseContext_1 != 0;
    assume out_CloseContext_1 > 0;
    havoc out_FreeContext;
    goto anon46_Then, anon46_Else;

  anon46_Else:
    assume {:partition} out_FreeContext != 0;
    out_Tmp_2927 := 0;
    goto L29;

  L29:
    assume {:nonnull} out_CloseContext_1 != 0;
    assume out_CloseContext_1 > 0;
    havoc vslice_dummy_var_660;
    havoc vslice_dummy_var_661;
    havoc vslice_dummy_var_662;
    call {:si_unique_call 5128} out_vslice_dummy_var_643 := FatCommonClose#1(vslice_dummy_var_660, vslice_dummy_var_661, out_Tmp_2927, vslice_dummy_var_662, 1, 0);
    goto anon47_Else;

  anon47_Else:
    assume {:partition} yogi_error != 1;
    goto anon39_Then, anon39_Else;

  anon39_Else:
    assume {:partition} out_FreeContext != 0;
    call {:si_unique_call 5127} sdv_ExFreePool(0);
    goto anon39_Else_dummy;

  anon39_Else_dummy:
    goto L_BAF_18;

  L_BAF_18:
    call {:si_unique_call 5138} {:si_old_unique_call 1} out_sdv_1639, out_sdv_1640, out_LastVcb, out_FreeContext, out_CurrentVcb, out_Tmp_2927, out_sdv_1644, out_LoopsWithVcbHeld, out_CloseContext_1, out_vslice_dummy_var_643, out_vslice_dummy_var_644, out_vslice_dummy_var_645 := FatFspClose#1_loop_L14(out_sdv_1639, out_sdv_1640, out_LastVcb, out_FreeContext, out_CurrentVcb, out_Tmp_2927, out_sdv_1644, out_LoopsWithVcbHeld, out_CloseContext_1, in_Vcb_112, out_vslice_dummy_var_643, out_vslice_dummy_var_644, out_vslice_dummy_var_645);
    return;

  anon39_Then:
    assume {:partition} out_FreeContext == 0;
    goto anon39_Then_dummy;

  anon39_Then_dummy:
    goto L_BAF_18;

  anon46_Then:
    assume {:partition} out_FreeContext == 0;
    call {:si_unique_call 5129} out_sdv_1640 := sdv_containing_record(out_CloseContext_1, 12);
    out_Tmp_2927 := out_sdv_1640;
    goto L29;

  anon37_Then:
    assume {:partition} in_Vcb_112 == 0;
    goto anon38_Then, anon38_Else;

  anon38_Else:
    goto anon41_Then, anon41_Else;

  anon41_Else:
    assume {:partition} out_CurrentVcb != 0;
    call {:si_unique_call 5130} ExReleaseResourceLite(0);
    out_CurrentVcb := 0;
    goto L22;

  anon41_Then:
    assume {:partition} out_CurrentVcb == 0;
    goto L22;

  anon38_Then:
    assume {:nonnull} out_CloseContext_1 != 0;
    assume out_CloseContext_1 > 0;
    goto anon40_Then, anon40_Else;

  anon40_Else:
    out_LoopsWithVcbHeld := 0;
    goto anon48_Then, anon48_Else;

  anon48_Else:
    assume {:partition} out_CurrentVcb != 0;
    call {:si_unique_call 5137} ExReleaseResourceLite(0);
    goto L53;

  L53:
    assume {:nonnull} out_CloseContext_1 != 0;
    assume out_CloseContext_1 > 0;
    havoc out_CurrentVcb;
    call {:si_unique_call 5136} out_vslice_dummy_var_645 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon49_Else;

  anon49_Else:
    assume {:partition} yogi_error != 1;
    goto L60;

  L60:
    assume {:nonnull} out_CurrentVcb != 0;
    assume out_CurrentVcb > 0;
    goto anon42_Then, anon42_Else;

  anon42_Else:
    call {:si_unique_call 5131} ExReleaseResourceLite(0);
    out_CurrentVcb := 0;
    goto L22;

  anon42_Then:
    goto L22;

  anon48_Then:
    assume {:partition} out_CurrentVcb == 0;
    goto L53;

  anon40_Then:
    out_LoopsWithVcbHeld := out_LoopsWithVcbHeld + 1;
    goto anon50_Then, anon50_Else;

  anon50_Else:
    assume {:partition} out_LoopsWithVcbHeld >= 20;
    call {:si_unique_call 5132} out_sdv_1644 := ExGetSharedWaiterCount(0);
    call {:si_unique_call 5133} out_sdv_1639 := ExGetExclusiveWaiterCount(0);
    goto anon43_Then, anon43_Else;

  anon43_Else:
    assume {:partition} out_sdv_1644 + out_sdv_1639 != 0;
    call {:si_unique_call 5134} ExReleaseResourceLite(0);
    call {:si_unique_call 5135} out_vslice_dummy_var_644 := ExAcquireResourceExclusiveLite(0, 1);
    goto anon51_Else;

  anon51_Else:
    assume {:partition} yogi_error != 1;
    goto L72;

  L72:
    out_LoopsWithVcbHeld := 0;
    goto L60;

  anon43_Then:
    assume {:partition} out_sdv_1644 + out_sdv_1639 == 0;
    goto L72;

  anon50_Then:
    assume {:partition} 20 > out_LoopsWithVcbHeld;
    goto L60;
}



procedure {:LoopProcedure} FatFspClose#1_loop_L14(in_sdv_1639: int, in_sdv_1640: int, in_LastVcb: int, in_FreeContext: int, in_CurrentVcb: int, in_Tmp_2927: int, in_sdv_1644: int, in_LoopsWithVcbHeld: int, in_CloseContext_1: int, in_Vcb_112: int, in_vslice_dummy_var_643: int, in_vslice_dummy_var_644: int, in_vslice_dummy_var_645: int) returns (out_sdv_1639: int, out_sdv_1640: int, out_LastVcb: int, out_FreeContext: int, out_CurrentVcb: int, out_Tmp_2927: int, out_sdv_1644: int, out_LoopsWithVcbHeld: int, out_CloseContext_1: int, out_vslice_dummy_var_643: int, out_vslice_dummy_var_644: int, out_vslice_dummy_var_645: int);
  modifies alloc, Mem_T.INT4, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} old(sdv_irql_current) == sdv_irql_current;
  free ensures {:va_keep} old(sdv_irql_previous) == sdv_irql_previous;
  free ensures {:va_keep} sdv_irql_previous_2 == old(sdv_irql_previous_2) || sdv_irql_previous_2 == old(sdv_irql_previous_4) || sdv_irql_previous_2 == old(sdv_irql_previous_3) || sdv_irql_previous_2 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous == old(sdv_irql_previous) || sdv_irql_previous == old(sdv_irql_previous_3) || sdv_irql_previous == old(sdv_irql_previous_2) || sdv_irql_previous == old(sdv_irql_previous_5) || sdv_irql_previous == old(sdv_irql_previous_4);
  free ensures {:va_keep} sdv_irql_previous_4 == old(sdv_irql_previous_4) || sdv_irql_previous_4 == old(sdv_irql_previous_5);
  free ensures {:va_keep} sdv_irql_previous_3 == old(sdv_irql_previous_3) || sdv_irql_previous_3 == old(sdv_irql_previous_5) || sdv_irql_previous_3 == old(sdv_irql_previous_4);
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonClose#0_loop_L142(in_ParentDcb_7: int, in_CurrentDcb: int, in_Tmp_2938: int, in_IrpContext_205: int, in_sdv_1661: int, in_Vcb_113: int, in_vslice_dummy_var_650: int, in_vslice_dummy_var_651: int) returns (out_ParentDcb_7: int, out_CurrentDcb: int, out_Tmp_2938: int, out_sdv_1661: int, out_vslice_dummy_var_650: int, out_vslice_dummy_var_651: int)
{

  entry:
    out_ParentDcb_7, out_CurrentDcb, out_Tmp_2938, out_sdv_1661, out_vslice_dummy_var_650, out_vslice_dummy_var_651 := in_ParentDcb_7, in_CurrentDcb, in_Tmp_2938, in_sdv_1661, in_vslice_dummy_var_650, in_vslice_dummy_var_651;
    goto L142, exit;

  exit:
    return;

  L142:
    out_Tmp_2938 := out_ParentDcb_7;
    assume {:nonnull} out_Tmp_2938 != 0;
    assume out_Tmp_2938 > 0;
    goto anon135_Else;

  anon135_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2938] == 1283;
    call {:si_unique_call 5142} out_sdv_1661 := sdv_IsListEmpty(0);
    goto anon108_Else;

  anon108_Else:
    assume {:partition} out_sdv_1661 != 0;
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    goto anon109_Else;

  anon109_Else:
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    goto anon110_Else;

  anon110_Else:
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    call {:si_unique_call 5140} out_vslice_dummy_var_650 := corral_nondet();
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    call {:si_unique_call 5141} out_vslice_dummy_var_651 := sdv_ObDereferenceObject(0);
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    goto anon111_Else;

  anon111_Else:
    out_CurrentDcb := out_ParentDcb_7;
    assume {:nonnull} out_CurrentDcb != 0;
    assume out_CurrentDcb > 0;
    havoc out_ParentDcb_7;
    assume {:nonnull} in_Vcb_113 != 0;
    assume in_Vcb_113 > 0;
    call {:si_unique_call 5139} FatDeleteFcb_Real(in_IrpContext_205, out_CurrentDcb);
    goto anon136_Else;

  anon136_Else:
    assume {:partition} yogi_error != 1;
    goto anon136_Else_dummy;

  anon136_Else_dummy:
    call {:si_unique_call 5143} {:si_old_unique_call 1} out_ParentDcb_7, out_CurrentDcb, out_Tmp_2938, out_sdv_1661, out_vslice_dummy_var_650, out_vslice_dummy_var_651 := FatCommonClose#0_loop_L142(out_ParentDcb_7, out_CurrentDcb, out_Tmp_2938, in_IrpContext_205, out_sdv_1661, in_Vcb_113, out_vslice_dummy_var_650, out_vslice_dummy_var_651);
    return;
}



procedure {:LoopProcedure} FatCommonClose#0_loop_L142(in_ParentDcb_7: int, in_CurrentDcb: int, in_Tmp_2938: int, in_IrpContext_205: int, in_sdv_1661: int, in_Vcb_113: int, in_vslice_dummy_var_650: int, in_vslice_dummy_var_651: int) returns (out_ParentDcb_7: int, out_CurrentDcb: int, out_Tmp_2938: int, out_sdv_1661: int, out_vslice_dummy_var_650: int, out_vslice_dummy_var_651: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_sdv_1661 == 1 || out_sdv_1661 == 0 || out_sdv_1661 == in_sdv_1661;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation FatCommonClose#1_loop_L142(in_ParentDcb_7: int, in_CurrentDcb: int, in_Tmp_2938: int, in_IrpContext_205: int, in_sdv_1661: int, in_Vcb_113: int, in_vslice_dummy_var_663: int, in_vslice_dummy_var_664: int) returns (out_ParentDcb_7: int, out_CurrentDcb: int, out_Tmp_2938: int, out_sdv_1661: int, out_vslice_dummy_var_663: int, out_vslice_dummy_var_664: int)
{

  entry:
    out_ParentDcb_7, out_CurrentDcb, out_Tmp_2938, out_sdv_1661, out_vslice_dummy_var_663, out_vslice_dummy_var_664 := in_ParentDcb_7, in_CurrentDcb, in_Tmp_2938, in_sdv_1661, in_vslice_dummy_var_663, in_vslice_dummy_var_664;
    goto L142, exit;

  exit:
    return;

  L142:
    out_Tmp_2938 := out_ParentDcb_7;
    assume {:nonnull} out_Tmp_2938 != 0;
    assume out_Tmp_2938 > 0;
    goto anon135_Else;

  anon135_Else:
    assume {:partition} Mem_T.INT4[out_Tmp_2938] == 1283;
    call {:si_unique_call 5147} out_sdv_1661 := sdv_IsListEmpty(0);
    goto anon108_Else;

  anon108_Else:
    assume {:partition} out_sdv_1661 != 0;
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    goto anon109_Else;

  anon109_Else:
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    goto anon110_Else;

  anon110_Else:
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    call {:si_unique_call 5145} out_vslice_dummy_var_663 := corral_nondet();
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    call {:si_unique_call 5146} out_vslice_dummy_var_664 := sdv_ObDereferenceObject(0);
    assume {:nonnull} out_ParentDcb_7 != 0;
    assume out_ParentDcb_7 > 0;
    goto anon111_Else;

  anon111_Else:
    out_CurrentDcb := out_ParentDcb_7;
    assume {:nonnull} out_CurrentDcb != 0;
    assume out_CurrentDcb > 0;
    havoc out_ParentDcb_7;
    assume {:nonnull} in_Vcb_113 != 0;
    assume in_Vcb_113 > 0;
    call {:si_unique_call 5144} FatDeleteFcb_Real(in_IrpContext_205, out_CurrentDcb);
    goto anon136_Else;

  anon136_Else:
    assume {:partition} yogi_error != 1;
    goto anon136_Else_dummy;

  anon136_Else_dummy:
    call {:si_unique_call 5148} {:si_old_unique_call 1} out_ParentDcb_7, out_CurrentDcb, out_Tmp_2938, out_sdv_1661, out_vslice_dummy_var_663, out_vslice_dummy_var_664 := FatCommonClose#1_loop_L142(out_ParentDcb_7, out_CurrentDcb, out_Tmp_2938, in_IrpContext_205, out_sdv_1661, in_Vcb_113, out_vslice_dummy_var_663, out_vslice_dummy_var_664);
    return;
}



procedure {:LoopProcedure} FatCommonClose#1_loop_L142(in_ParentDcb_7: int, in_CurrentDcb: int, in_Tmp_2938: int, in_IrpContext_205: int, in_sdv_1661: int, in_Vcb_113: int, in_vslice_dummy_var_663: int, in_vslice_dummy_var_664: int) returns (out_ParentDcb_7: int, out_CurrentDcb: int, out_Tmp_2938: int, out_sdv_1661: int, out_vslice_dummy_var_663: int, out_vslice_dummy_var_664: int);
  modifies alloc, yogi_error;
  free ensures {:va_keep} yogi_error == 0;
  free ensures {:va_keep} yogi_error == 1 || yogi_error == old(yogi_error);
  free ensures {:va_keep} out_sdv_1661 == 1 || out_sdv_1661 == 0 || out_sdv_1661 == in_sdv_1661;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



procedure fakeMain() returns (Tmp_1323: int, dup_assertVar: bool);
  modifies alloc, sdv_irql_current, sdv_irql_previous, sdv_irql_previous_2, sdv_irql_previous_3, sdv_irql_previous_4, sdv_irql_previous_5, yogi_error, Mem_T.INT4;
  free ensures {:va_keep} old(yogi_error) == 0;
  free ensures {:va_keep} alloc >= old(alloc);



implementation {:entrypoint} fakeMain() returns (Tmp_1323: int, dup_assertVar: bool)
{

  start:
    call Tmp_1323, dup_assertVar := main();
    assume {:OldAssert} !dup_assertVar;
    return;
}


